(function(e,n){var r={},t=function(){return this}();function o(n,u){if(u)return t.__figbuildCommonChunkRequire(n);var i=r[n];return i?i.exports:(i=r[n]={exports:{},id:n,loaded:!1},e[n].call(t,i,i.exports,o),i.exports instanceof Function&&(i.exports.default=i.exports),i.loaded=!0,i.exports)}return n&&(t.__figbuildCommonChunkRequire=o),o(e.length-1)})([
(function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isEmpty=function(n){for(const o in n)if(n.hasOwnProperty(o))return!1;return!0},o.promiseResolveReject=function(){let n,o;return[new Promise((e,t)=>{n=e,o=t}),n,o]},o.assert=function(n,o){if(!Boolean(n))throw new Error(o||"assertion failure")},o.union=function(...n){const o=new Set;for(const e of n)for(const n of e)o.add(n);return o},o.noop=function(){}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.name=e.name,this.values=e.values}validate(e){}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._=null,t.ifExistsPredicate=function(e){return null!==e&&Object.keys(e).every(t=>{const n=e[t];return!!n&&(!Array.isArray(n)||n.length>0)})},t.isObjectField=function(e){return"object"===e.type.kind||"objects"===e.type.kind},t.isEmbeddedObjectField=function(e){return"embedded"in e&&e.embedded},t.isComputedField=function(e){return"computed"in e},t.fieldArg=(e=>({type:"field",ref:e})),t.viewArg=(e=>({type:"view",ref:e})),t.session=(e=>({type:"session",ref:e})),t.parent=(e=>({type:"parent",ref:e}))}),
(function(e,r,n){"use strict";function t(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(e.length!==r.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==r[n])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.isArgumentRef=function(e){return null!==e&&"object"==typeof e&&"type"in e},r.argumentDefByName=function(e,r){if(e)for(const n of e)if(n.name===r)return n;return null},r.argumentsEqual=function(e,r){for(const n in e){const u=e[n],f=r[n];if(void 0===u){if(void 0!==f)return!1}else if(u instanceof Array){if(!(f instanceof Array))return!1;if(!t(u,f))return!1}else if(u!==f)return!1}return Object.keys(e).length===Object.keys(r).length};r.AuthError=class extends Error{};r.OutdatedSchemaError=class extends Error{}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=n(3);s.expressionFields=function(e){const s=new Set,n=e=>{switch(e.type){case"binary":case"in":s.add(e.left);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s},s.expressionArgumentRefs=function(e){const s=[],n=e=>{switch(e.type){case"binary":case"in":r.isArgumentRef(e.right)&&s.push(e.right);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}}),
(function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,u,i=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),o=(e=["",""],u=["",""],Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(u)}})));var a=function(){function t(){for(var n=this,r=arguments.length,e=Array(r),u=0;u<r;u++)e[u]=arguments[u];return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return"function"==typeof t?n.interimTag.bind(n,t):"string"==typeof t?n.transformEndResult(t):(t=t.map(n.transformString.bind(n)),n.transformEndResult(t.reduce(n.processSubstitutions.bind(n,e))))},e.length>0&&Array.isArray(e[0])&&(e=e[0]),this.transformers=e.map(function(t){return"function"==typeof t?t():t}),this.tag}return i(t,[{key:"interimTag",value:function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),u=2;u<r;u++)e[u-2]=arguments[u];return this.tag(o,t.apply(void 0,[n].concat(e)))}},{key:"processSubstitutions",value:function(t,n,r){var e=this.transformSubstitution(t.shift(),n);return"".concat(n,e,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,n){return n.onString?n.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,n){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,n):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,n){return n.onEndResult?n.onEndResult(t):t},t)}}]),t}();n.default=a,t.exports=n.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,d=u(6),l=(a=d)&&a.__esModule?a:{default:a};t.default=l.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}},e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(8),r=(d=l)&&d.__esModule?d:{default:d};t.default=r.default,e.exports=t.default}),
(function(r,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(n){if("initial"===r){var e=n.match(/^[^\S\n]*(?=\S)/gm),t=e&&Math.min.apply(Math,function(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)}(e.map(function(r){return r.length})));if(t){var a=new RegExp("^.{"+t+"}","gm");return n.replace(a,"")}return n}if("all"===r)return n.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+r)}}},r.exports=n.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,r=d(10),a=(u=r)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,r){return{onEndResult:function(t){if(null==e||null==r)throw new Error("replaceResultTransformer requires at least 2 arguments.");return t.replace(e,r)}}},e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a=u(12),d=(l=a)&&l.__esModule?l:{default:l};t.default=d.default,e.exports=t.default}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,d=u(14),l=(a=d)&&a.__esModule?a:{default:a};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,r){return{onString:function(t){if(null==e||null==r)throw new Error("replaceStringTransformer requires at least 2 arguments.");return t.replace(e,r)}}},e.exports=r.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=r(16),d=(u=a)&&u.__esModule?u:{default:u};t.default=d.default,e.exports=t.default}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={separator:"",conjunction:"",serial:!1};t.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return{onSubstitution:function(t,e){if(Array.isArray(t)){var r=t.length,i=n.separator,a=n.conjunction,o=n.serial,u=e.match(/(\n?[^\S\n]+)$/);if(t=u?t.join(i+u[1]):t.join(i+" "),a&&r>1){var s=t.lastIndexOf(i);t=t.slice(0,s)+(o?i:"")+" "+a+t.slice(s+1)}}return t}}},n.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=r(18),d=(u=a)&&u.__esModule?u:{default:u};t.default=d.default,e.exports=t.default}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return{onSubstitution:function(e,n){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(20),r=(d=l)&&d.__esModule?d:{default:d};t.default=r.default,e.exports=t.default}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t};e.default=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(n):n(t)?t:""}}},t.exports=e.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=u(22),d=(r=a)&&r.__esModule?r:{default:r};t.default=d.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),u=l(t(11)),n=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default((0,n.default)({separator:","}),u.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(24),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),n=l(t(11)),u=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default((0,u.default)({separator:",",conjunction:"and"}),n.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=d(26),l=(u=a)&&u.__esModule?u:{default:u};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),n=l(t(11)),u=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"or"}),n.default,f.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(28),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=d(t(7)),n=d(t(11)),u=d(t(19)),f=d(t(9)),l=d(t(21)),s=d(t(23));function d(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,l.default)("\n"),s.default,u.default,n.default,f.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(30),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(31),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(31),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(7)),u=s(r(11)),l=s(r(19)),f=s(r(9)),n=s(r(21)),d=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,n.default)("\n"),l.default,u.default,f.default,(0,d.default)(/&/g,"&amp;"),(0,d.default)(/</g,"&lt;"),(0,d.default)(/>/g,"&gt;"),(0,d.default)(/"/g,"&quot;"),(0,d.default)(/'/g,"&#x27;"),(0,d.default)(/`/g,"&#x60;"));t.default=o,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(34),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=f(r(7)),a=f(r(9)),l=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var n=new u.default((0,l.default)(/(?:\n(?:\s*))+/g," "),a.default);t.default=n,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(36),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=f(r(7)),a=f(r(9)),l=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var n=new u.default((0,l.default)(/(?:\n\s*)/g,""),a.default);t.default=n,e.exports=t.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(38),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(7)),u=n(t(19)),l=n(t(9)),f=n(t(13));function n(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,u.default)({separator:","}),(0,f.default)(/(?:\s+)/g," "),l.default);r.default=s,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(40),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=f(t(7)),u=f(t(19)),l=f(t(9)),n=f(t(13));function f(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"or"}),(0,n.default)(/(?:\s+)/g," "),l.default);r.default=o,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,a=u(42),l=(d=a)&&d.__esModule?d:{default:d};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=f(t(7)),u=f(t(19)),n=f(t(9)),l=f(t(13));function f(e){return e&&e.__esModule?e:{default:e}}var o=new a.default((0,u.default)({separator:",",conjunction:"and"}),(0,l.default)(/(?:\s+)/g," "),n.default);r.default=o,e.exports=r.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=d(44),l=(u=a)&&u.__esModule?u:{default:u};t.default=l.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(7)),u=l(t(11)),n=l(t(19)),f=l(t(9));function l(e){return e&&e.__esModule?e:{default:e}}var d=new a.default(n.default,u.default,f.default);r.default=d,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(46),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(7)),u=n(t(19)),l=n(t(9)),f=n(t(13));function n(e){return e&&e.__esModule?e:{default:e}}var s=new a.default(u.default,(0,f.default)(/(?:\s+)/g," "),l.default);r.default=s,e.exports=r.default}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l=u(48),a=(d=l)&&d.__esModule?d:{default:d};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=l(r(7)),a=l(r(11)),f=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}var n=new u.default(a.default,f.default);t.default=n,e.exports=t.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,l=d(50),a=(u=l)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(7)),u=f(r(11)),l=f(r(9));function f(e){return e&&e.__esModule?e:{default:e}}var n=new a.default((0,u.default)("all"),l.default);t.default=n,e.exports=t.default}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,l=d(52),a=(u=l)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stripIndents=r.stripIndent=r.oneLineInlineLists=r.inlineLists=r.oneLineCommaListsAnd=r.oneLineCommaListsOr=r.oneLineCommaLists=r.oneLineTrim=r.oneLine=r.safeHtml=r.source=r.codeBlock=r.html=r.commaListsOr=r.commaListsAnd=r.commaLists=r.removeNonPrintingValuesTransformer=r.splitStringTransformer=r.inlineArrayTransformer=r.replaceStringTransformer=r.replaceSubstitutionTransformer=r.replaceResultTransformer=r.stripIndentTransformer=r.trimResultTransformer=r.TemplateTag=void 0;var t=_(n(7)),s=_(n(9)),i=_(n(11)),a=_(n(13)),o=_(n(15)),m=_(n(17)),l=_(n(19)),f=_(n(21)),u=_(n(23)),d=_(n(25)),L=_(n(27)),T=_(n(29)),c=_(n(31)),p=_(n(32)),g=_(n(33)),I=_(n(35)),A=_(n(37)),C=_(n(39)),S=_(n(41)),O=_(n(43)),v=_(n(45)),R=_(n(47)),b=_(n(49)),y=_(n(51)),P=_(n(53));function _(e){return e&&e.__esModule?e:{default:e}}r.TemplateTag=t.default,r.trimResultTransformer=s.default,r.stripIndentTransformer=i.default,r.replaceResultTransformer=a.default,r.replaceSubstitutionTransformer=o.default,r.replaceStringTransformer=m.default,r.inlineArrayTransformer=l.default,r.splitStringTransformer=f.default,r.removeNonPrintingValuesTransformer=u.default,r.commaLists=d.default,r.commaListsAnd=L.default,r.commaListsOr=T.default,r.html=c.default,r.codeBlock=p.default,r.source=g.default,r.safeHtml=I.default,r.oneLine=A.default,r.oneLineTrim=C.default,r.oneLineCommaLists=S.default,r.oneLineCommaListsOr=O.default,r.oneLineCommaListsAnd=v.default,r.inlineLists=R.default,r.oneLineInlineLists=b.default,r.stripIndent=y.default,r.stripIndents=P.default}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.argErrorForArgValue=function e(n,t,r){const{type:a,name:s}=t,i=s;if(void 0===r)return{argName:i,msg:"must not be undefined"};if(null===r){if(!t.nullable)return{argName:i,msg:"must not be null"}}else if("list"===a.kind){if(!(r instanceof Array))return{argName:i,msg:"expected an array"};for(const t in r){const i=e(n,{name:`${s}[${t}]`,type:a.ofType},r[t]);if(i)return i}}else if("map"===a.kind){if("object"!=typeof r||r instanceof Array||r instanceof Date)return{argName:i,msg:"expected a map"};for(const t in r){const i=e(n,{name:`${s}["${t}"]`,type:a.valueType},r[t]);if(i)return i}}else if("enum"===a.kind){const e=n.enumDef(a);if("string"!=typeof r||e.values.indexOf(r)<0)return{argName:i,msg:`expects one of: ${e.values.join(", ")}`}}else{const e=typeof r;let n;switch(a.kind){case"datetime":case"date":case"string":n="string";break;case"int":case"float":n="number";break;case"bool":n="boolean"}if(e!==n)return{argName:i,msg:`expected ${n}, got ${e} from ${JSON.stringify(r)}`}}return null}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(54),a=t(5),i=t(3),o=t(55);function s(e,n){return new a.default(`${e.join(".")} - ${n}`)}n.pathError=s,n.validateArgs=function(e,n,t,a,u){for(const f in n){const l=n[f],d=i.argumentDefByName(t,f);if(!d)throw s(e,r.oneLine`
        Found arg with name '${f}', but the field doesn't accept an
        arg with this name`);if(i.isArgumentRef(l)){const n=i.argumentDefByName("session"===l.type?u.session.args:a,l.ref);if(!n)throw s(e,r.oneLine`
          Found arg with name '${l.ref}', but there isn't a declaration of
          an arg with this name in the GraphQuery`);if(n.nullable&&!d.nullable)throw s(e,r.oneLine`
          Query arg '${l.ref}' is nullable but used as a field argument that
          is not nullable`);if(n.type.kind!==d.type.kind)throw s(e,r.oneLine`
          Query arg '${n.name}' of type ${n.type.kind} is being
          used for field argument '${d.name}' of type
          ${d.type.kind}`)}else{const n=o.argErrorForArgValue(u,d,l);if(n)throw s(e,`Arg '${n.argName}': ${n.msg}`)}}for(const{name:r}of t)if(void 0===n[r])throw s(e,`Argument '${r}' is required`)},n.validateArgumentDefs=function(e,n){const t=new Set;for(const{name:i}of n){if(t.has(i))throw new a.default(r.oneLine`
        ${e} declares multiple arguments named '${i}'
      `);t.add(i)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(2),a=n(4),f=n(5),s=n(56),r=n(54);function d(e){if("or"in e)return{type:"or",expressions:e.or.map(d)};if("and"in e)return{type:"and",expressions:e.and.map(d)};const[t,n,i]=e;switch(n){case"in":return{type:"in",left:t,right:i};default:return{type:"binary",left:t,op:n,right:i}}}t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,o.isEmbeddedObjectField(e)?(this.embedded=!0,this.args=[],this.checkCanRead=void 0):(this.embedded=!1,this.args=e.args||[],this.filter=e.filter?d(e.filter):void 0,this.checkCanRead=e.checkCanRead||void 0),this.orderBy=function(e){if(e)return e.map(e=>e instanceof Array?e:[e,"ASC"])}(e.orderBy)}isNullable(){return this.nullable}isList(){return"objects"===this.type.kind}get filterFields(){const e=new Set;for(const{type:t,ref:n}of a.expressionArgumentRefs(this.filter))"parent"===t&&e.add(n);return e}get dependentFields(){const e=new Set;if(this.orderBy)for(const[t]of this.orderBy)e.add(t);for(const t of a.expressionFields(this.filter))e.add(t);return e}validate(e,t){if(!e.objects.has(this.type.name))throw new f.default(r.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        object type '${this.type.name}'`);const n=new Set;if(this.checkCanRead)for(const s in this.checkCanRead){const e=this.checkCanRead[s];if(i.isArgumentRef(e)){if(!i.argumentDefByName(this.args,e.ref))throw new f.default(r.oneLine`
              field '${this.name}' of object type '${t.name}' uses argument
              '${e.ref}' in its checkCanRead call but does not declare it`);n.add(e.ref)}}const o=e.objectDef(this.type);if(this.embedded&&!o.embedded)throw new f.default(r.oneLine`
        field '${this.name}' of object type '${t.name}' refers to object '${this.type.name}'
        as an embedded field, but object '${this.type.name}' is not marked as embedded
      `);if(this.checkCanRead&&!o.fields.has("canRead"))throw new f.default(r.oneLine`
          field '${this.name}' of object type '${t.name}' has checkCanRead
          set to true but '${o.name}' does not have a 'canRead' field`);s.validateArgumentDefs(`field '${this.name}' of object type '${t.name}'`,this.args);const a=e=>{const n=o.fields.get(e.left);if(!n)throw new f.default(r.oneLine`
          filter condition of '${this.name}' in object type '${t.name}' refers to field
          '${e.left}', which does not exist on object '${this.type.name}'`);return n},d=e=>{if(i.isArgumentRef(e.right)&&"field"===e.right.type){const o=i.argumentDefByName(this.args,e.right.ref);if(!o)throw new f.default(r.oneLine`
            field '${this.name}' of object type '${t.name}' uses argument
            '${e.right.ref}' in its filter but does not declare it`);return n.add(e.right.ref),o}if(i.isArgumentRef(e.right)&&"parent"===e.right.type){const n=t.fields.get(e.right.ref);if(!n)throw new f.default(r.oneLine`
            field '${this.name}' of object type '${t.name}' refers to
            unknown parent field '${e.right.ref}' in its filter`);return n}throw new f.default(r.oneLine`
        Filter condition of '${this.name}' in object type ${t.name} expects an argument or parent field,
        but is a ${typeof e.right} with the value '${e.right}'`)},l=n=>{if(!n)return;let o=null,s=null;switch(n.type){case"binary":if(o=a(n),["list","map","object","objects"].indexOf(o.type.kind)>-1)throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. Filter on type
              '${o.type.kind}' is not supported.`);if(!("date"!==o.type.kind&&"datetime"!==o.type.kind||"="!==n.op&&"<>"!==n.op||null===n.right))throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. '${n.op}' filter
              on type '${o.type.kind}' is not is not supported for non-null values.`);if(i.isArgumentRef(n.right)){if((s=d(n)).type.kind!==o.type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                LHS is a '${o.type.kind}' but RHS is a '${s.type.kind}'`)}else if(null!==n.right)switch(o.type.kind){case"int":case"float":if("number"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a number but RHS is a '${typeof n.right}'`);break;case"string":if("string"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof n.right}'`);break;case"enum":if("string"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof n.right}'`);const i=e.enumDef(o.type);if(i.values.indexOf(n.right)<0)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to invalid enum value '${n.right}'.
                      Expecting one of ${i.values.join(", ")}`);break;case"bool":if("boolean"!=typeof n.right)throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a '${typeof n.right}'`);break;case"datetime":case"date":if(!(n.right instanceof Date))throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a date but RHS is a '${typeof n.right}'`);break;default:throw new f.default(r.oneLine`
                    Filter on field '${n.left}' in object type '${t.name}' has unexpected type ${o.type.kind}`)}else if([">","<",">=","<="].indexOf(n.op)>-1)throw new f.default(r.oneLine`
                  Cannot filter on field '${n.left}' in object type '${t.name}'. '${n.op}' filter
                  on type '${o.type.kind}' is not is not supported for null values.`);break;case"in":if(o=a(n),["list","map","object","objects","date","datetime"].indexOf(o.type.kind)>-1)throw new f.default(r.oneLine`
              Cannot filter on field '${n.left}' in object type '${t.name}'. Filter on type
              ${o.type.kind} is not supported.`);if(i.isArgumentRef(n.right)){if("list"!==(s=d(n)).type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' because
                argument ${n.right.ref} has invalid type ${s.type.kind}`);if(s.type.ofType.kind!==o.type.kind)throw new f.default(r.oneLine`
                Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                LHS is a '${o.type.kind}' but RHS is a list of '${s.type.ofType.kind}'`)}else if(n.right.length>0)switch(o.type.kind){case"int":case"float":if("number"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a number but RHS is a list of ${typeof n.right[0]}`);break;case"string":if("string"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof n.right[0]}`);break;case"enum":if("string"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof n.right[0]}`);const i=e.enumDef(o.type);for(const e of n.right)if(i.values.indexOf(e)<0)throw new f.default(r.oneLine`
                        Cannot filter on field '${n.left}' in object type '${t.name}' due to invalid enum value '${e}'.
                        Expecting one of ${i.values.join(", ")}`);break;case"bool":if("boolean"!=typeof n.right[0])throw new f.default(r.oneLine`
                      Cannot filter on field '${n.left}' in object type '${t.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a list of ${typeof n.right[0]}`);break;default:throw new f.default(r.oneLine`
                    Filter on field '${n.left}' in object type '${t.name}' has unexpected type ${o.type.kind}`)}break;case"or":case"and":n.expressions.map(e=>l(e))}};l(this.filter);for(const i of this.args)if(!n.has(i.name))throw new f.default(r.oneLine`
          field '${this.name}' of object type '${t.name}' declares argument
          '${i.name}' but does not use it`)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5),i=n(54);t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1}validate(e,t){if("enum"===this.type.kind&&!e.enums.has(this.type.name))throw new a.default(i.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        enum type '${this.type.name}'`)}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(3);e.default=class{constructor(t={},e={},s){this.session=t,this.view=e,this.tracingContext=s}substituteFieldArgument(t){return r.isArgumentRef(t)?this[t.type][t.ref]:t}substituteExpressionArgument(t,e,s){return r.isArgumentRef(t)?"parent"===t.type?s[t.ref]:this.substituteFieldArgument(e[t.ref]):t}substituteExpression(t,e,s){const r=t=>{switch(t.type){case"binary":case"in":return Object.assign({},t,{right:this.substituteExpressionArgument(t.right,e,s)});case"or":case"and":return Object.assign({},t,{expressions:t.expressions.map(r)})}};return t?r(t):void 0}substituteIndexingHint(t,e,s){if(!t)return null;if(Array.isArray(t.values))return t;const r=this.substituteExpressionArgument(t.values,e,s);return Array.isArray(r)||"object"!=typeof r||null===r?{field:t.field,values:Array.isArray(r)?r:[r]}:null}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i){this.computationDef=e,this.context=t,this.computationId=JSON.stringify([this.objectName,this.fieldName,i,t.view])}get fieldDef(){return this.computationDef.computedFieldDef}get objectName(){return this.fieldDef.objectDef.name}get fieldName(){return this.fieldDef.name}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(56),o=i(59),r=i(60);e.default=class{constructor(t,e,i,o,r){this.computedFieldDef=t,this.fieldArgs=e,this.viewArgs=i;const n=this.computedFieldDef.name;s.validateArgs([...r,n],Object.assign({},this.fieldArgs,{_rootId:""}),this.computedFieldDef.args,this.viewArgs,o)}parameterizedComputation(t,e){const i={_rootId:e};for(const s in this.fieldArgs){const e=this.fieldArgs[s];i[s]=t.substituteFieldArgument(e)}return new r.default(this,new o.default(t.session,i,t.tracingContext),e)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3),n=i(2),d=i(57),r=i(64),f=i(61),l=i(56);class o{constructor({parent:e,objectDef:t,objectFieldDef:i,fieldArgs:h,fields:a,viewArgs:c,schema:u}){this.queries=new Map,this.computations=new Map,this.projectedFields=new Map,this.transmittedFields=new Set,this.parent=e,this.objectDef=t,this.objectFieldDef=i,this.fieldArgs=h,this.schema=u,l.validateArgs(this.path,h,i.args,c,u);for(const s in a){const e=this.objectDef.fieldDef(s),t=a[s],[i,h]=Array.isArray(t)?t:[{},t];if(e instanceof d.default){if(h===n._)throw l.pathError(this.path,`expected nested fields for '${s}' but got '_'`);this.queries.set(s,new o({parent:this,objectDef:u.objectDef(e.type),objectFieldDef:e,fieldArgs:i,fields:h,viewArgs:c,schema:u})),e.embedded&&this.transmittedFields.add(s);for(const t of e.filterFields)this.transmittedFields.add(t)}else if(e instanceof r.default){if(h!==n._)throw l.pathError(this.path,`cannot query field '${s}'`);this.computations.set(s,new f.default(e,i,c,u,this.path))}else{if(h!==n._)throw l.pathError(this.path,`cannot query field '${s}'`);this.projectedFields.set(s,e),this.transmittedFields.add(s)}}"root"!==t.name&&this.transmittedFields.add("id");const{checkCanRead:p}=this.objectFieldDef;if(p){const e={};for(const t in p){const i=p[t];s.isArgumentRef(i)?e[t]=this.fieldArgs[i.ref]:e[t]=i}this.permissionComputation=new f.default(this.objectDef.fieldDef("canRead"),e,c,u,this.path)}for(const s of this.objectFieldDef.dependentFields)this.transmittedFields.add(s)}isNullable(){return this.objectFieldDef.isNullable()}isList(){return this.objectFieldDef.isList()}get path(){return[...this.parent.path,this.objectFieldDef.name]}get indexingHint(){if(void 0!==this._indexingHint)return this._indexingHint;if(!this.objectFieldDef.filter)return this._indexingHint=null,null;const e=(e,t)=>{const i=[e=>!!e&&"id"===e.field,e=>!!e&&"string"===this.objectDef.fieldDef(e.field).type.kind,e=>null!==e,e=>!0];return i.findIndex(t=>t(e))<=i.findIndex(e=>e(t))?e:t},t=i=>"or"===i.type?null:"and"===i.type?i.expressions.map(t).reduce((t,i)=>e(t,i)):"in"===i.type?{field:i.left,values:i.right}:"="===i.op?{field:i.left,values:s.isArgumentRef(i.right)?i.right:[i.right]}:null;return this._indexingHint=t(this.objectFieldDef.filter)||null,this._indexingHint}}t.default=o}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(3),n=r(62),s=r(55),i=r(57),o=r(5),f=r(56),g=r(54);t.default=class{constructor(e,t,r,a){this.name=e,this.fields=t.fields,this.root=new n.default({parent:this,objectDef:r,objectFieldDef:new i.default({name:e,type:{kind:"object",name:r.name}}),fieldArgs:{},fields:t.fields,viewArgs:t.args||[],schema:a}),this.args=t.args||[],f.validateArgumentDefs(`View '${e}'`,this.args)}get path(){return[]}validateArguments(e,t){for(const r in e){const n=e[r],i=a.argumentDefByName(this.args,r);if(!i)throw new o.default(g.oneLine`
          View argument error: '${r}' is not a valid argument
          name`);{const e=s.argErrorForArgValue(t,i,n);if(e)throw new o.default(g.oneLine`
            View argument error: '${e.argName}' '${e.msg}'`)}}for(const{name:r}of this.args)if(void 0===e[r])throw new o.default(`Missing argument '${r}'`)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(65),a=i(63),n=i(2),o=i(56);t.default=class{constructor(e,t,i){this.objectDef=t,this.name=e.name,this.type=e.type,this.nullable=!1,this.args=(e.args||[]).concat([{name:"_rootId",type:{kind:"string"}}]),this.view=new a.default(this.name,{fields:{root:[{_rootId:n.viewArg("_rootId")},e.dependencies]},args:this.args},new s.default({name:"root",fields:[{name:"root",args:[{name:"_rootId",type:{kind:"string"}}],type:{kind:"object",name:t.name},filter:["id","=",n.fieldArg("_rootId")]}]}),i)}get displayName(){return`${this.objectDef.name}.${this.name}`}validate(e,t){o.validateArgumentDefs(`Computed field '${this.name}' of object type '${t.name}'`,this.args)}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(0),d=i(2),n=i(57),f=i(58),o=i(64),l=i(5),r=i(54);function a(e){return"date"===e.kind||"datetime"===e.kind}function u(e){return s.assert("string"==typeof e),new Date(e)}t.default=class{constructor(e){this.queriedFields=[],this.name=e.name,this.fields=new Map,this.embedded=e.embedded;for(const t of e.fields)d.isObjectField(t)?(this.fields.set(t.name,new n.default(t)),d.isEmbeddedObjectField(t)&&this.queriedFields.push(t.name)):d.isComputedField(t)||(this.fields.set(t.name,new f.default(t)),this.queriedFields.push(t.name));this.needsTransform=e.fields.some(({type:e})=>a(e)||"list"===e.kind&&a(e.ofType))}constructComputedFields(e,t){for(const i of e.fields)d.isComputedField(i)&&this.fields.set(i.name,new o.default(i,this,t))}validate(e){if("root"===this.name)for(const t of this.fields.values()){if(!(t instanceof n.default))throw new l.default(r.oneLine`
            root fields must be of object type, but '${t.name}' is
            '${t.type.kind}'`);if(t.embedded)throw new l.default(r.oneLine`
               root fields cannot be embedded type, but '${t.name}'
               is embedded`)}for(const t of this.fields.values())t.validate(e,this)}fieldDef(e){const t=this.fields.get(e);if(t)return t;throw new l.default(r.oneLine`
      field '${e}' isn't present in object type '${this.name}'`)}readPlainObject(e){if(!this.needsTransform)return e;const t={id:e.id};for(const[i,{type:s}]of this.fields.entries()){if(!(i in e))continue;const d=e[i];t[i]=this.readPlainObjectField(i,d,s)}return t}readPlainObjectField(e,t,i){if(!this.needsTransform)return t;if(i||(i=this.fields.get(e).type),null!==t){if(a(i))return u(t);if("list"===i.kind&&a(i.ofType))return t.map(u)}return t}}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=n(54),s=n(3),a=n(55),o=n(5),i=n(56);r.default=class{constructor(e){this.args=e&&e.args||[],i.validateArgumentDefs("Session definition ",this.args)}validateArguments(e,r){for(const n in e){const i=s.argumentDefByName(this.args,n);if(!i)throw new o.default(t.oneLine`
          Session argument error: '${n}' is not a valid argument
          name`);{const s=a.argErrorForArgValue(r,i,e[n]);if(s)throw new o.default(t.oneLine`
            Session argument error: '${s.argName}' '${s.msg}'`)}}for(const n of this.args)if(!(n.name in e))throw new o.default(t.oneLine`
          Session argument error: the argument '${n.name}' is missing`)}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),n=s(65),o=s(66),h=s(63),c=s(5);t.default=class{constructor(e){this.schema=e,this.session=new o.default(e.session),this.enums=new Map;for(const t of e.enums||[])this.enums.set(t.name,new i.default(t));this.objects=new Map;for(const t of e.objects)this.objects.set(t.name,new n.default(t));for(const t of e.objects)this.objects.get(t.name).constructComputedFields(t,this);this.enums.forEach(e=>e.validate(this)),this.objects.forEach(e=>e.validate(this)),this.views={};for(const t in e.views)this.views[t]=new h.default(t,e.views[t],this.objects.get("root"),this);this.version=e.version||"0.0.0"}typeWithKind(e,t){const s=this[e].get(t);if(s)return s;throw new c.default(`${e} with name '${t}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}toJSON(){return this.schema}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor({fields:e,filter:t}){this.fields=e,this.filter=t}matches(e){if(!this.filter)return!0;const t=r=>{switch(r.type){case"binary":const s=e[r.left],i=r.right;switch(r.op){case"=":return s===i;case"<>":return s!==i}if(null===s||null===i)return!1;switch(r.op){case">":return s>i;case">=":return s>=i;case"<":return s<i;case"<=":return s<=i}return!1;case"in":const n=e[r.left];return r.right.some(e=>e===n);case"or":return r.expressions.some(t);case"and":return r.expressions.every(t)}};return t(this.filter)}singleMatchingId(){if(this.filter&&"binary"===this.filter.type){const{left:e,right:t}=this.filter;if("id"===e&&"string"==typeof t)return t}return null}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),i=s(4),u=s(62),n=s(68);t.default=class{constructor(e,t,s){this.queryDef=e,this.context=t;const f=[];for(const i of this.queryDef.objectFieldDef.args){const e=this.queryDef.fieldArgs[i.name];r.isArgumentRef(e)?f.push(this.context[e.type][e.ref]):f.push(e)}this.usedFilterValues=i.expressionArgumentRefs(this.filter).filter(({type:e})=>"parent"===e).map(({ref:e})=>s[e]),this.queryId=JSON.stringify([this.queryDef.parent instanceof u.default?this.queryDef.parent.objectDef.name:null,this.queryDef.objectFieldDef.name,f,this.usedFilterValues]),this._substituted=new n.default({fields:this.queryDef.objectDef.queriedFields,filter:this.context.substituteExpression(this.filter,this.queryDef.fieldArgs,s)}),this.indexingHint=this.context.substituteIndexingHint(this.queryDef.indexingHint,this.queryDef.fieldArgs,s)}get objectName(){return this.queryDef.objectFieldDef.type.name}get filter(){return this.queryDef.objectFieldDef.filter}get orderBy(){return this.queryDef.objectFieldDef.orderBy}substituted(){return this._substituted}isContextStale(e){return i.expressionArgumentRefs(this.filter).filter(({type:e})=>"parent"===e).some(({ref:t},s)=>this.usedFilterValues[s]!==e[t])}order(){const e=this.orderBy;return(t,s)=>{for(const[r,i]of[...e||[],["id","ASC"]]){const e=t[r],u=s[r];if(null!==e||null!==u){if(null===e)return"ASC"===i?1:-1;if(null===u)return"ASC"===i?-1:1;if(e<u)return"ASC"===i?-1:1;if(e>u)return"ASC"===i?1:-1}}return 0}}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(69),i=s(72),d=s(0),a=Object.freeze({status:"loading"});class h{constructor({parent:e,queryDef:t,observable:s,context:i,instance:d}){this.children=new Map,this._isLoaded=!1,this.detachedChildren=new Set,this.parent=e,this.observable=s,this.context=i,this.query=new r.default(t,i,d);const{objectFieldDef:a}=t;if(a.embedded){this.unsubscribe=(()=>{});const e=d[a.name],t=d.id;if(e)if(Array.isArray(e)){const s={};e.forEach((e,r)=>{const i=`${t}-${r}`;s[i]=Object.assign({id:i},e)}),this.onInitialResults(s)}else{const s=`${t}-0`;this.onInitialResults({[s]:Object.assign({id:s},e)})}else this.onInitialResults({})}else this.unsubscribe=this.observable.subscribeQuery(this.query,this)}get fieldName(){return this.query.queryDef.objectFieldDef.name}destroy(){for(const e of this.children.values())e.destroy();this.unsubscribe()}onInitialResults(e){d.assert(!this._isLoaded);for(const t in e)this.children.set(t,new i.default(this,this.context,e[t],this.query.queryDef));this._isLoaded=!0,this.resetResult(),this.parent.resultsUpdated()}onAddResult(e){d.assert(this._isLoaded),this.children.set(e.id,new i.default(this,this.context,e,this.query.queryDef)),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e){d.assert(this._isLoaded),d.assert(this.children.has(e.id)),this.children.get(e.id).onUpdateResult(e),this.parent.resultsUpdated()}onRemoveResult({id:e}){d.assert(this._isLoaded),d.assert(this.children.has(e)),this.children.get(e).destroy(),this.children.delete(e),this.detachedChildren.delete(e),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild({id:e}){this.detachedChildren.delete(e),this.resetResult()}resultsUpdated(){this._isLoaded&&this.parent.resultsUpdated()}recreateIfStale(e){const{queryDef:t}=this.query;if(t.objectFieldDef.embedded||this.query.isContextStale(e))return new h({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context,instance:e})}result(){if(!this._isLoaded)return a;if(this._result)return this._result;const e=[...this.children.values()].filter(e=>!this.detachedChildren.has(e.instance.id)),t=this.query.order();t&&e.sort(({instance:e},{instance:s})=>t(e,s));const{fieldName:s}=this,r=[],i=[];let d=!0;for(const a of e){const e=a.result();switch(e.status){case"loading":return this._result=e;case"errors":d=!1;for(const t of e.errors)r.push(Object.assign({},t,{path:[s,...t.path]}));break;case"loaded":for(const t of e.errors)r.push(Object.assign({},t,{path:[s,...t.path]}));i.push(e.data)}}return d?this.query.queryDef.isList()?this._result={status:"loaded",errors:r,data:i}:i.length>0?this._result={status:"loaded",errors:r,data:i[0]}:this.query.queryDef.isNullable()?this._result={status:"loaded",errors:r,data:null}:this._result={status:"errors",errors:[...r,{code:"nonNullableResult",path:[s]}]}:this.query.queryDef.isNullable()?this._result={status:"loaded",errors:r,data:null}:this._result={status:"errors",errors:r}}resetResult(){this._result=void 0,this.parent.resetResult()}isLoaded(){if(!this._isLoaded)return!1;for(const e of this.children.values())if(!e.isLoaded())return!1;return!0}}t.default=h,t.isLiveViewQueryNode=function(e){return e instanceof h}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Object.freeze({status:"loading"});class i{constructor({parent:t,computationDef:e,observable:s,context:r,instance:i}){this.parent=t,this.observable=s,this.computation=e.parameterizedComputation(r,i.id),this.unsubscribe=s.subscribeComputation(this.computation,this)}get fieldName(){return this.computation.fieldName}destroy(){this.unsubscribe()}onUpdateResult(t){this._result={status:"loaded",errors:[],data:t},this.parent.resetResult(),this.parent.resultsUpdated()}onErrors(t){const{name:e}=this.computation.fieldDef;this._result={status:"errors",errors:t.map(t=>Object.assign({},t,{path:[e,...t.path]}))}}recreateIfStale(t){}result(){return this._result?this._result:r}isLoaded(){return!!this._result}}e.default=i,e.isLiveViewComputationNode=function(t){return t instanceof i}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(70),i=s(71);t.default=class{constructor(e,t,s,o){this.parent=e,this.instance=s,this.queryDef=o,this.children=[];for(const i of o.queries.values())this.children.push(new r.default({parent:this,queryDef:i,observable:e.observable,context:t,instance:s}));for(const r of o.computations.values())this.children.push(new i.default({parent:this,computationDef:r,observable:e.observable,context:t,instance:s}))}get queriedChildren(){return this.children.filter(r.isLiveViewQueryNode)}get computedChildren(){return this.children.filter(i.isLiveViewComputationNode)}destroy(){for(const e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e){this.resetResult(),this.instance=e;for(let t=0;t<this.children.length;t++){const s=this.children[t],r=s.recreateIfStale(e);r&&(s.destroy(),this.children[t]=r)}}projectResults(e){const t={};if(this.queryDef.objectFieldDef.embedded)for(const s of this.queryDef.projectedFields.keys())t[s]=s in e?e[s]:null;else for(const s of this.queryDef.projectedFields.keys())t[s]=e[s];return t}result(){if(this._result)return this._result;const e=[],t=this.projectResults(this.instance);let s=!0;for(const r of this.children){const i=r.result();switch(i.status){case"loading":return this._result=i;case"errors":s=!1,e.push.apply(e,i.errors);break;case"loaded":e.push.apply(e,i.errors),t[r.fieldName]=i.data}}return this._result=s?{status:"loaded",errors:e,data:t}:{status:"errors",errors:e}}resetResult(){this._result=void 0,this.parent.resetResult()}isLoaded(){for(const e of this.children)if(!e.isLoaded())return!1;return!0}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(72),o=s(0);e.default=class{constructor(t,e,s,n){this.viewDef=t,this.context=e,this.observable=s,this.cancelNextTick=(()=>{}),this.initResultReady=!1,n=n||{},this.root=new i.default(this,e,{},t.root),o.assert(!n.onResultsResolved||n.onNextTick),0===this.root.children.length&&n.onNextTick&&(this.cancelNextTick=n.onNextTick(()=>this.resultsUpdated())),this.onResultsResolved=n.onResultsResolved}get viewArgs(){return this.context.view}resultsUpdated(){this.reportTime(),this.onResultsResolved&&this.onResultsResolved(this.result())}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resetResult(){}isLoaded(){return this.root.isLoaded()}reportTime(){this.context.tracingContext&&!this.initResultReady&&this.isLoaded()&&(this.initResultReady=!0,this.context.tracingContext.span.finish())}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.key=t,this.value=e}orInsert(){return this.value}orInsertWith(){return this.value}andModify(t){return t(this.value),this}}class n{constructor(t,e){this.key=t,this.map=e}orInsert(t){return this.map.set(this.key,t),t}orInsertWith(t){return this.orInsert(t())}andModify(){return this}}e.EntryMap=class extends Map{entry(t){return this.has(t)?new r(t,this.get(t)):new n(t,this)}};class i extends r{orDefault(){return this.value}}class a extends n{orDefault(){return this.orInsert(this.map.default(this.key))}}e.DefaultMap=class extends Map{constructor(t,e){super(e),this.default=t}entry(t){return this.has(t)?new i(t,this.get(t)):new a(t,this)}}}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(s){this.shadowMutations=new Set,this.shadowQueries=new Set,this.serverQueries=new Set,this.serverFields=s,this.shadowFields=s}fields(){return 0===this.shadowMutations.size?this.serverFields:this.shadowFields}dependentQueries(){return 0===this.shadowMutations.size?this.serverQueries:this.shadowQueries}applyMutation(s){if(this.serverFields=Object.assign({},this.serverFields,s),0===this.shadowMutations.size)for(const e of this.dependentQueries().values())for(const s of e.observers)s.onUpdateResult(this.serverFields)}applyShadowMutation(s,e,t){0===this.shadowMutations.size&&(this.shadowFields=Object.assign({},this.serverFields),this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(s),t&&(this.shadowFields=Object.assign({},this.shadowFields,t,{id:e}))}removeShadowMutation(s,e){e?this.shadowMutations.delete(s):this.shadowMutations=new Set}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(0),a=t(74),o=t(75);s.default=class{constructor(e){this.objectDef=e,this.instanceStates=new a.EntryMap,this.shadowInstances=new Set,this.queryStates=new a.EntryMap}addInstance(e,s){if(!e.results.has(s)){if(e.results.add(s),e.loaded)for(const t of e.observers)t.onAddResult(s.fields());s.dependentQueries().add(e)}}removeInstance(e,s,t){n.assert(e.results.has(s)),e.results.delete(s);for(const n of e.observers)t?n.onRemoveResult(s.fields()):n.detachChild(s.fields());s.dependentQueries().delete(e)}applyShadowMutationAdd(e,s,t){const n=this.instanceStates.entry(s).orInsertWith(()=>new o.default({id:s}));this.shadowInstances.add(n),n.applyShadowMutation(e,s,t);for(const a of this.queryStates.values())a.query.matches(n.fields())&&this.addInstance(a,n)}applyShadowMutationDelete(e,s,t){this.shadowInstances.add(t),t.applyShadowMutation(e,s,null);for(const n of t.dependentQueries().values())this.removeInstance(n,t,!1)}applyShadowMutationUpdate(e,s,t,n){this.shadowInstances.add(t),t.applyShadowMutation(e,s,n);const a=t.fields();for(const o of this.queryStates.values())if(o.results.has(t))if(o.query.matches(a))for(const e of o.observers)e.onUpdateResult(a);else this.removeInstance(o,t,!1);else o.query.matches(a)&&this.addInstance(o,t)}removeShadowMutations(e,s,t){for(const n in s){const s=this.instanceStates.get(n);if(void 0===s)throw new Error("update triggered on non-existent instance");if(s.shadowMutations.has(e)&&(s.removeShadowMutation(e,t),0===s.shadowMutations.size)){this.shadowInstances.delete(s);const e=s.fields();for(const t of s.dependentQueries().values())for(const s of t.observers)s.restoreChild(e);for(const t of this.queryStates.values())if(t.results.has(s))if(s.dependentQueries().has(t))for(const s of t.observers)s.onUpdateResult(e);else this.removeInstance(t,s,!0);else s.dependentQueries().has(t)&&this.addInstance(t,s);this.checkOrphanInstance(s)}}}applyMutations(e,s){const t=new Set;for(const n in e){const s=this.objectDef.readPlainObject(e[n]);this.instanceStates.entry(n).andModify(e=>{e.applyMutation(s)}).orInsertWith(()=>{const e=new o.default(s);return t.add(e),e})}for(const a in s){const{fullResults:e,results:o}=s[a];if(!this.queryStates.has(a))continue;const r=this.queryStates.get(a);if(r.loaded){for(const e in o){n.assert(this.instanceStates.has(e));const s=this.instanceStates.get(e);this.shadowInstances.has(s)?!0===o[e]?s.serverQueries.add(r):s.serverQueries.delete(r):!0===o[e]?this.addInstance(r,s):(this.removeInstance(r,s,!0),t.add(s))}if(e){for(const e of r.results)this.shadowInstances.has(e)||o[e.fields().id]||(this.removeInstance(r,e,!0),t.add(e));for(const e of this.shadowInstances.values())o[e.fields().id]||e.serverQueries.delete(r)}}else{n.assert(e),r.loaded=!0;const s={};for(const e in o){n.assert(o[e]),n.assert(this.instanceStates.has(e));const t=this.instanceStates.get(e);t.serverQueries.add(r),this.shadowInstances.has(t)||(s[e]=t.fields(),r.results.add(t))}for(const e of this.shadowInstances.values()){const t=e.fields();r.query.matches(t)&&(s[t.id]=t)}for(const e of r.observers)e.onInitialResults(s)}}for(const n of t)this.checkOrphanInstance(n)}subscribe(e,s){const t=this.queryStates.entry(e.queryId).orInsertWith(()=>({results:new Set,query:e.substituted(),observers:new Set,loaded:!1}));if(n.assert(!t.observers.has(s)),t.observers.add(s),t.loaded){const e={};for(const s of t.results.values()){const t=s.fields();e[t.id]=t}s.onInitialResults(e)}return()=>{if(n.assert(t.observers.has(s)),t.observers.delete(s),0===t.observers.size){for(const e of t.results.values())e.dependentQueries().delete(t),this.checkOrphanInstance(e);this.queryStates.delete(e.queryId)}}}checkOrphanInstance(e){0!==e.dependentQueries().size||this.shadowInstances.has(e)||(n.assert(this.instanceStates.has(e.fields().id)),this.instanceStates.delete(e.fields().id))}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(0),o=s(74);t.default=class{constructor(e){this.objectDef=e,this.states=new o.DefaultMap(()=>({value:null,loaded:!1,observers:new Set}))}applyMutations(e){for(const t in e){const{fieldName:s,value:a}=e[t],o=this.states.entry(t).orDefault();o.value=this.objectDef.readPlainObjectField(s,a),o.loaded=!0;for(const e of o.observers.values())e.onUpdateResult(o.value)}}subscribe({computationId:e},t){const s=this.states.entry(e).orDefault();return a.assert(!s.observers.has(t)),s.observers.add(t),s.loaded&&t.onUpdateResult(s.value),()=>{s.observers.delete(t),0===s.observers.size&&this.states.delete(e)}}}}),
(function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(0),i=e(73),r=e(76),n=e(77),a=e(59);t.default=class{constructor(s,t){this.args=s,this.schema=t,this.subscriptions=new Set,this.stores={};for(const[e,o]of t.objects)this.stores[e]={queries:new r.default(o),computations:new n.default(o)}}applyMutations(s){for(const t in s){const{instances:e,queries:o,computations:i}=s[t],r=this.stores[t];r.queries.applyMutations(e,o),r.computations.applyMutations(i)}this.notifyObservers()}applyShadowMutations(s,t){for(const e in t){const i=this.stores[e].queries,r=t[e];for(const n in t[e]){const t=i.instanceStates.get(n),e=r[n];void 0===t?(o.assert(e),i.applyShadowMutationAdd(s,n,e)):null===e?i.applyShadowMutationDelete(s,n,t):i.applyShadowMutationUpdate(s,n,t,e)}}this.notifyObservers()}removeShadowMutations(s,t,e){for(const o in t)this.stores[o].queries.removeShadowMutations(s,t[o],e);this.notifyObservers()}subscribeView(s,t,e){const o=this.schema.views[s];o.validateArguments(t,this.schema);const r=new i.default(o,new a.default(this.args,t),this),n={view:r,observer:e};return this.subscriptions.add(n),()=>{this.subscriptions.delete(n),r.destroy()}}subscribeQuery(s,t){return this.stores[s.objectName].queries.subscribe(s,t)}subscribeComputation(s,t){return this.stores[s.objectName].computations.subscribe(s,t)}notifyObservers(){for(const{view:s,observer:t}of this.subscriptions)t(s.result())}}}),
(function(s,e,t){"use strict";var i=this&&this.__awaiter||function(s,e,t,i){return new(t||(t=Promise))(function(n,a){function r(s){try{c(i.next(s))}catch(e){a(e)}}function o(s){try{c(i.throw(s))}catch(e){a(e)}}function c(s){s.done?n(s.value):new t(function(e){e(s.value)}).then(r,o)}c((i=i.apply(s,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const n=t(67),a=t(3),r=t(78),o=t(0),c=5e3,h=3e4;e.default=class{constructor(s,e,t,i,n={}){this.url=t,this.wsImpl=i,this.clientOptions=n,this.authenticated=!1,this.unsentMessagesQueue=[],this.transactionId=1,this.syncCallbacks=new Map,this.subscriptions=new Set,this.session=new r.default(s,e),this.connect()}close(){return new Promise(s=>{this.clearReconnect(),this.clearKeepalive(),this.ws.readyState!==this.ws.CLOSED?(this.ws.onclose=(()=>s()),this.ws.close()):s()})}subscribe(s,e,t){this.send({messageType:"subscribe",viewName:s._name,args:e});const i={view:s,args:e,observer:t,unsubscribe:this.session.subscribeView(s._name,e,t)};return this.subscriptions.add(i),()=>{i.unsubscribe(),this.subscriptions.delete(i),this.send({messageType:"unsubscribe",viewName:s._name,args:e})}}applyMutations(s,e){return i(this,void 0,void 0,function*(){const t=this.transactionId;let i;this.transactionId++,this.session.applyShadowMutations(t,s);try{i=yield e}catch(n){throw this.session.removeShadowMutations(t,s,!1),n}return yield this.sync(t),this.session.removeShadowMutations(t,s,!0),i})}sync(s=this.transactionId++){return i(this,void 0,void 0,function*(){this.send({messageType:"sync",transactionId:s});const[e,t]=o.promiseResolveReject();this.syncCallbacks.set(s,t),yield e,this.syncCallbacks.delete(s)})}getIntervalWithJitter(){return h+(Math.random()-.5)*c}clearReconnect(){this.reconnect&&(clearTimeout(this.reconnect),this.reconnect=void 0)}clearKeepalive(){this.keepalive&&(clearInterval(this.keepalive),this.keepalive=void 0)}onDisconnect(){this.authenticated=!1,this.unsentMessagesQueue=[];for(const{view:s,args:e}of this.subscriptions)this.send({messageType:"subscribe",viewName:s._name,args:e});for(const s of this.syncCallbacks.keys())this.send({messageType:"sync",transactionId:s});this.scheduleReconnect()}scheduleReconnect(){!1!==this.clientOptions.shouldSubscribeServer&&(this.reconnect=setTimeout(()=>{this.reconnect=void 0,this.connect()},this.getIntervalWithJitter()))}resetSession(s){this.ws.close(),this.session=new r.default(this.session.args,new n.default(s));for(const e of this.subscriptions){const{view:s,args:t,observer:i}=e;e.unsubscribe=this.session.subscribeView(s._name,t,i)}}connect(){!1!==this.clientOptions.shouldSubscribeServer&&(this.ws=new this.wsImpl(this.url),this.ws.onopen=(()=>i(this,void 0,void 0,function*(){this.ws.send(JSON.stringify({messageType:"auth",args:this.session.args,schemaVersion:this.session.schema.version}))})),this.ws.onclose=(()=>{this.clearKeepalive(),this.onDisconnect()}),this.ws.onerror=(s=>{this.clientOptions.onError&&this.clientOptions.onError(s)}),this.ws.onmessage=(({data:s})=>{const e=JSON.parse(s);if(e)switch(e.messageType){case"authSuccess":for(this.authenticated=!0,this.keepalive=setInterval(()=>{this.send({messageType:"ping"})},this.getIntervalWithJitter());this.unsentMessagesQueue.length>0;)this.send(this.unsentMessagesQueue.shift());break;case"authFail":this.clientOptions.onError&&this.clientOptions.onError(new a.AuthError);break;case"ack":break;case"pendingMutations":this.session.applyMutations(e.mutations);break;case"synced":const s=this.syncCallbacks.get(e.transactionId);s&&s();break;case"requestError":case"serverError":break;case"outdatedSchema":this.clientOptions.onError&&this.clientOptions.onError(new a.OutdatedSchemaError);break;case"schemaUpgrade":this.resetSession(e.schema)}}))}send(s){this.ws.readyState===this.ws.OPEN&&this.authenticated?this.ws.send(JSON.stringify(s)):this.unsentMessagesQueue.push(s)}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=t(79);s.Client=c.default;const n=t(78);s.ClientSession=n.default;var r=t(3);s.argumentsEqual=r.argumentsEqual;const a=t(2);s.DSL=a;const i=t(67);s.Schema=i.default;var l=t(2);s.parent=l.parent,s._=l._,s.fieldArg=l.fieldArg,s.viewArg=l.viewArg,s.session=l.session}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(3,1),i=e(0),r=e(24,1),c=e(80),o=n.createContext(null),a=o.Provider;s.ContextProvider=a,s.subscribe=function(t){return s=>{const e=s=>{const e={};for(const n of t._argKeys)i.assert(n in s),e[n]=s[n];return e};class a extends u{constructor(t){super(t),this.state={status:"loading"}}componentDidMount(){this.startSubscription()}componentDidUpdate(t){c.argumentsEqual(e(this.props),e(t))||(this.endSubscription(),this.startSubscription())}componentWillUnmount(){this.endSubscription()}startSubscription(){this.setState({status:"loading"}),this.unsubscribe=this.context.client.subscribe(t,e(this.props),t=>this.setState(t))}endSubscription(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const t=Object.assign({},this.props,this.state);return n.createElement(s,Object.assign({},t))}}return a.WrappedComponent=s,a.contextType=o,r(a,s,{})}};class u extends n.Component{constructor(t){super(t),this.withRef=!1,this.setWrappedInstance=this.setWrappedInstance.bind(this)}getWrappedInstance(){return this.wrappedInstance}setWrappedInstance(t){this.wrappedInstance=t}}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(80                );r.LiveGraphClient=class extends i.Client{applyUpdates(e,r){return this.applyMutations(e,r)}},function(e){e.ORG_VIEW="org_view",e.ORG_EDIT="org_edit",e.VIEW="view",e.EDIT="edit",e.INHERIT="inherit"}(r.LinkAccess||(r.LinkAccess={})),function(e){e.PUBLIC="public",e.PRIVATE="private",e.SECRET="secret"}(r.OrgAccess||(r.OrgAccess={})),function(e){e.ADMIN="admin",e.MEMBER="member",e.GUEST="guest"}(r.OrgPermission||(r.OrgPermission={})),function(e){e._name="FileWithComments",e._argKeys=["fileKey"]}(r.FileWithComments||(r.FileWithComments={})),function(e){e._name="UserResources",e._argKeys=["orgId"]}(r.UserResources||(r.UserResources={})),function(e){e._name="UserOrgResources",e._argKeys=["orgId"]}(r.UserOrgResources||(r.UserOrgResources={})),function(e){e._name="FileByKey",e._argKeys=["fileKey"]}(r.FileByKey||(r.FileByKey={})),function(e){e._name="TeamById",e._argKeys=["teamId"]}(r.TeamById||(r.TeamById={})),function(e){e._name="UserWithTeams",e._argKeys=[]}(r.UserWithTeams||(r.UserWithTeams={})),function(e){e._name="ProjectById",e._argKeys=["folderId"]}(r.ProjectById||(r.ProjectById={})),function(e){e._name="OrgTeamsWithSummary",e._argKeys=["orgId"]}(r.OrgTeamsWithSummary||(r.OrgTeamsWithSummary={})),function(e){e._name="OrgsByUser",e._argKeys=[]}(r.OrgsByUser||(r.OrgsByUser={})),function(e){e._name="OrgMembers",e._argKeys=["orgId"]}(r.OrgMembers||(r.OrgMembers={}))}),
(function(e,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=c(2);s.DSL=r;const a=c(67);s.Schema=a.default;var t=c(2);s.parent=t.parent,s._=t._,s.fieldArg=t.fieldArg,s.viewArg=t.viewArg,s.session=t.session}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const d=r(83         ),i={name:"CommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",d.parent("userId")],nullable:!0}]},t={name:"Comment",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"parentId",type:{kind:"string"},nullable:!0},{name:"orderId",type:{kind:"int"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"resolvedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"clientMeta",type:{kind:"object",name:"CommentClientMeta"},embedded:!0,nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",d.parent("userId")]}]},a={name:"Foft",fields:[{name:"id",type:{kind:"string"}},{name:"userIds",type:{kind:"list",ofType:{kind:"string"}}},{name:"users",type:{kind:"objects",name:"User"},filter:["id","in",d.parent("userIds")]}]},s={name:"RecentFiles",fields:[{name:"id",type:{kind:"string"}},{name:"fileKeys",type:{kind:"list",ofType:{kind:"string"}}},{name:"files",type:{kind:"objects",name:"File"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],checkCanRead:{userId:d.fieldArg("userId")},filter:["key","in",d.parent("fileKeys")]}]},l={name:"OrgUser",fields:[{name:"id",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"permission",type:{kind:"enum",name:"OrgPermission"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",d.parent("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.parent("orgId")],checkCanRead:{userId:d.fieldArg("userId")},nullable:!0},{name:"visibleTeams",type:{kind:"objects",name:"Team"},nullable:!0,filter:["orgId","=",d.parent("orgId")]},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",d.parent("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]}}]},m={name:"File",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"}},{name:"folderId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"parentOrgId",type:{kind:"string"},nullable:!0},{name:"touchedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"}},{name:"protoLinkAccess",type:{kind:"enum",name:"LinkAccess"},nullable:!0},{name:"roles",type:{kind:"objects",name:"FileRole"},filter:{and:[["resourceId","=",d.parent("key")],["resourceType","=","file"]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"FileRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["resourceId","=",d.parent("key")],["resourceType","=","file"]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["orgId","=",d.parent("parentOrgId")],["permission","<>","guest"]]}},{name:"currentUserFileFollower",type:{kind:"object",name:"FileFollower"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["key","=",d.parent("key")],["userId","=",d.fieldArg("userId")]]}},{name:"project",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",d.parent("folderId")]},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",d.parent("teamId")]},{name:"comments",type:{kind:"objects",name:"Comment"},filter:{and:[["key","=",d.parent("key")],["deletedAt","=",null]]}},{name:"facesOnFileTiles",type:{kind:"object",name:"Foft"},filter:["id","=",d.parent("key")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:d._,key:d._,deletedAt:d._,roleOnObjectForUser:[{userId:d.viewArg("userId")},{id:d._,level:d._}],orgBrowsable:d._,linkAccess:d._,protoLinkAccess:d._,parentOrgId:d._,currentOrgUser:[{userId:d.viewArg("userId")},{id:d._}],project:{id:d._,canRead:[{userId:d.viewArg("userId")},d._]},team:{id:d._,canRead:[{userId:d.viewArg("userId")},d._]}}}]},u={name:"Project",fields:[{name:"id",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"path",type:{kind:"string"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"viewOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"inviteOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"roles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["resourceId","=",d.parent("id")],["resourceType","=","folder"]]}},{name:"files",type:{kind:"objects",name:"File"},filter:["folderId","=",d.parent("id")],nullable:!0},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",d.parent("teamId")]]}},{name:"subscription",type:{kind:"object",name:"ProjectSubscription"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:{and:[["folderId","=",d.parent("id")],["userId","=",d.fieldArg("userId")]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["resourceId","=",d.parent("id")],["resourceType","=","folder"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:d._,roleOnObjectForUser:[{userId:d.viewArg("userId")},{id:d._}],inviteOnlyAt:d._,deletedAt:d._,path:d._,team:{id:d._,canRead:[{userId:d.viewArg("userId")},d._]}}}]},o={name:"Team",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"roles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["resourceId","=",d.parent("id")],["resourceType","=","team"]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["resourceId","=",d.parent("id")],["resourceType","=","team"]]}},{name:"projects",type:{kind:"objects",name:"Project"},nullable:!0,filter:{and:[["teamId","=",d.parent("id")],["inviteOnlyAt","=",null],["path","<>",""]]}},{name:"orgAccess",type:{kind:"enum",name:"OrgAccess"},nullable:!0},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["orgId","=",d.parent("orgId")],["permission","<>","guest"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:d._,roleOnObjectForUser:[{userId:d.viewArg("userId")},{id:d._,level:d._}]}}]},p={name:"TeamWithSummary",fields:[{name:"id",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",d.parent("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"memberCount",type:{kind:"int"},computed:!0,dependencies:{id:d._,team:{id:d._,projects:{id:d._},orgAccess:d._,roles:{id:d._}}}},{name:"projectCount",type:{kind:"int"},computed:!0,dependencies:{id:d._,team:{projects:{id:d._}}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:d._,team:{canRead:[{userId:d.viewArg("userId")},d._],orgAccess:d._,currentOrgUser:[{userId:d.viewArg("userId")},{id:d._,permission:d._}],roles:{id:d._}}}}]},g={name:"Org",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.fieldArg("userId")],["orgId","=",d.parent("id")]]}},{name:"teams",type:{kind:"objects",name:"Team"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["orgId","=",d.parent("id")],checkCanRead:{userId:d.fieldArg("userId")}},{name:"teamsWithSummary",type:{kind:"objects",name:"TeamWithSummary"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],nullable:!0,checkCanRead:{userId:d.fieldArg("userId")},filter:["orgId","=",d.parent("id")]},{name:"members",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["orgId","=",d.parent("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{id:d._,currentOrgUser:[{userId:d.viewArg("userId")},{id:d._,permission:d._}]}}]},y={name:"User",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"email",type:{kind:"string"},nullable:!0},{name:"rawHandle",type:{kind:"string"},nullable:!0},{name:"handle",type:{kind:"string"},computed:!0,dependencies:{id:d._,name:d._,rawHandle:d._}},{name:"rawImgUrl",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},computed:!0,dependencies:{id:d._,email:d._,name:d._,rawHandle:d._,rawImgUrl:d._}},{name:"teamRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["userId","=",d.parent("id")],["resourceType","=","team"]]}},{name:"projectRoles",type:{kind:"objects",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",d.parent("id")],["resourceType","=","folder"]]}},{name:"fileRoles",type:{kind:"objects",name:"FileRole"},nullable:!0,filter:{and:[["userId","=",d.parent("id")],["resourceType","=","file"]]}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"orgId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",d.parent("id")],["orgId","=",d.fieldArg("orgId")]]}},{name:"orgUsers",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["userId","=",d.parent("id")]}]},k=[{name:"id",type:{kind:"string"}},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}},{name:"pending",type:{kind:"bool"}},{name:"level",type:{kind:"int"}},{name:"user",type:{kind:"string"},nullable:!0},{name:"roleOwner",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",d.parent("userId")]}],c={name:"TeamRole",fields:[...k,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",d.parent("resourceId")],nullable:!0},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"}}],computed:!0,dependencies:{id:d._,userId:d._,level:d._,team:{id:d._,roleOnObjectForUser:[{userId:d.viewArg("userId")},{id:d._,userId:d._,level:d._}]}}}]},b={name:"FileRole",fields:[...k,{name:"file",type:{kind:"object",name:"File"},filter:["key","=",d.parent("resourceId")]}]},I={name:"ProjectRole",fields:[...k,{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",d.parent("resourceId")]}]};n.FigmaSchemaDef={version:"1.0.0",session:{args:[{name:"userId",type:{kind:"string"},nullable:!0},{name:"email",type:{kind:"string"},nullable:!0},{name:"sendData",type:{kind:"bool"},nullable:!0}]},views:{FileWithComments:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:d.viewArg("fileKey"),userId:d.session("userId")},{id:d._,comments:{id:d._,key:d._,orderId:d._,parentId:d._,createdAt:d._,resolvedAt:d._,user:{id:d._,handle:d._,imgUrl:d._},clientMeta:{x:d._,y:d._,nodeId:d._,nodeOffset:{x:d._,y:d._},inFrame:d._},messageMeta:{t:d._,user:{id:d._,handle:d._,imgUrl:d._}}},currentUserFileFollower:[{userId:d.session("userId")},{unreadComments:d._}]}]}},UserResources:{args:[{name:"orgId",type:{kind:"string"},nullable:!0}],fields:{currentUser:[{userId:d.session("userId")},{fileRoles:{file:{id:d._,key:d._}},projectRoles:{project:{id:d._,files:{id:d._,key:d._}}},teamRoles:{team:{id:d._,projects:{id:d._,files:{id:d._,key:d._}}}},orgUser:[{orgId:d.viewArg("orgId")},{orgBrowsableFiles:{id:d._,key:d._},visibleTeams:{id:d._,projects:{id:d._,files:{id:d._,key:d._}}}}]}]}},UserOrgResources:{args:[{name:"orgId",type:{kind:"string"}}],fields:{currentUser:[{userId:d.session("userId")},{orgUser:[{orgId:d.viewArg("orgId")},{orgBrowsableFiles:{id:d._},visibleTeams:{id:d._,projects:{id:d._,files:{id:d._}}}}]}]}},FileByKey:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:d.viewArg("fileKey"),userId:d.session("userId")},{id:d._,key:d._}]}},TeamById:{args:[{name:"teamId",type:{kind:"string"}}],fields:{team:[{id:d.viewArg("teamId"),userId:d.session("userId")},{id:d._}]}},UserWithTeams:{fields:{currentUser:[{userId:d.session("userId")},{id:d._,teamRoles:{id:d._,team:{id:d._}}}]}},ProjectById:{args:[{name:"folderId",type:{kind:"string"}}],fields:{project:[{id:d.viewArg("folderId"),userId:d.session("userId")},{id:d._}]}},OrgTeamsWithSummary:{args:[{name:"orgId",type:{kind:"string"}}],fields:{org:[{id:d.viewArg("orgId"),userId:d.session("userId")},{teamsWithSummary:[{userId:d.session("userId")},{id:d._,memberCount:d._}]}]}},OrgsByUser:{fields:{currentUser:[{userId:d.session("userId")},{id:d._,orgUsers:{id:d._,org:[{userId:d.session("userId")},{id:d._,name:d._}]}}]}},OrgMembers:{args:[{name:"orgId",type:{kind:"string"}}],fields:{org:[{id:d.viewArg("orgId"),userId:d.session("userId")},{members:{id:d._,user:{id:d._}}}]}}},objects:[{name:"root",fields:[{name:"currentUser",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"team",type:{kind:"object",name:"Team"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("id")],checkCanRead:{userId:d.fieldArg("userId")},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("id")],checkCanRead:{userId:d.fieldArg("userId")},nullable:!0},{name:"recentFiles",type:{kind:"object",name:"RecentFiles"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("userId")]},{name:"file",type:{kind:"object",name:"File"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["key","=",d.fieldArg("key")],checkCanRead:{userId:d.fieldArg("userId")},nullable:!0},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"id",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0}],filter:["id","=",d.fieldArg("id")],checkCanRead:{userId:d.fieldArg("userId")},nullable:!0}]},g,l,b,c,I,y,o,p,u,{name:"ProjectSubscription",fields:[{name:"id",type:{kind:"string"}},{name:"folderId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}}]},m,a,s,{name:"FileFollower",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"unreadComments",type:{kind:"map",valueType:{kind:"bool"}},nullable:!0}]},{name:"CommentClientMeta",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"nodeOffset",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"inFrame",type:{kind:"bool"},nullable:!0}]},i,t,{name:"Vector",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}}]}],enums:[{name:"LinkAccess",values:["org_view","org_edit","view","edit","inherit"]},{name:"OrgAccess",values:["public","private","secret"]},{name:"OrgPermission",values:["admin","member","guest"]}]};const f=new d.Schema(n.FigmaSchemaDef);n.default=f}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.emptyUserState={file_browser_preferences:{},disable_personal:!0,files:[],recent_files:[],folders:[],teams:[],roles:[],orgs:[],org_drafts_owners:[],user_favorite_fonts:[],user_flags:[]};const r=JSON.parse(JSON.stringify(i().feature_flags||{}));function i(){return window.INITIAL_OPTIONS||{}}Object.freeze(r),s.getFeatureFlags=function(){return r},s.setEditingFile=(e=>{window.INITIAL_OPTIONS=Object.assign(Object.assign({},window.INITIAL_OPTIONS),{editing_file:e})}),s.initialOptions=i,s.default=i}),
(function(e,i,s){var o,r;o=this,r=function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r,n=s(/(ipod|iphone|ipad)/i).toLowerCase(),t=!/like android/i.test(i)&&/android/i.test(i),a=/nexus\s*[0-6]\s*/i.test(i),d=!a&&/nexus\s*[0-9]+/i.test(i),m=/CrOS/.test(i),v=/silk/i.test(i),p=/sailfish/i.test(i),c=/tizen/i.test(i),l=/(web|hpw)os/i.test(i),u=/windows phone/i.test(i),f=(/SamsungBrowser/i.test(i),!u&&/windows/i.test(i)),h=!n&&!v&&/macintosh/i.test(i),w=!t&&!p&&!c&&!l&&/linux/i.test(i),b=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=s(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(i)&&!/tablet pc/i.test(i),x=!k&&/[^-]mobi/i.test(i),y=/xbox/i.test(i);/opera/i.test(i)?r={name:"Opera",opera:e,version:g||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(i)?r={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(i)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:g||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(i)?r={name:"Opera Coast",coast:e,version:g||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(i)?r={name:"Yandex Browser",yandexbrowser:e,version:g||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(i)?r={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(i)?r={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(i)?r={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(i)?r={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(i)?r={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(i)?r={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(i)?r={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(i)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(i)?r={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||g}:p?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(i)?r={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(i)?(r={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(r.firefoxos=e,r.osname="Firefox OS")):v?r={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(i)?r={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(i)?r={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:l?(r={name:"WebOS",osname:"WebOS",webos:e,version:g||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(r.touchpad=e)):/bada/i.test(i)?r={name:"Bada",osname:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:c?r={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(i)?r={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(i)?r={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(i)?r={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:t?r={name:"Android",version:g}:/safari|applewebkit/i.test(i)?(r={name:"Safari",safari:e},g&&(r.version=g)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(i)?{name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||g}:{name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(i)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||s(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!t&&!r.silk?!r.windowsphone&&n?(r[n]=e,r.ios=e,r.osname="iOS"):h?(r.mac=e,r.osname="macOS"):y?(r.xbox=e,r.osname="Xbox"):f?(r.windows=e,r.osname="Windows"):w&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(s(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=s(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?S=(S=s(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):t?S=s(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=s(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=s(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var B=!r.windows&&S.split(".")[0];return k||d||"ipad"==n||t&&(3==B||B>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==n||"ipod"==n||t||a||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var s=i("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function n(e){for(var i=Math.max(o(e[0]),o(e[1])),s=r(e,function(e){var s=i-o(e);return r((e+=new Array(s+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(s[0][i]>s[1][i])return 1;if(s[0][i]!==s[1][i])return-1;if(0===i)return 0}}function t(e,o,r){var t=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(t=i(r));var a=""+t.version;for(var d in e)if(e.hasOwnProperty(d)&&t[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return n([a,e[d]])<0}return o}return s.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=t,s.compareVersions=n,s.check=function(e,i,s){return!t(e,i,s)},s._detect=i,s.detect=i,s},void 0!==e&&e.exports?e.exports=r():"function"==typeof define&&define.amd?define("bowser",r):o.bowser=r()}),
(function(E,e,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceType={FILE:"file",FOLDER:"folder",TEAM:"team"},function(E){E[E.NONE=-1]="NONE",E[E.VIEW_PROTOTYPES=30]="VIEW_PROTOTYPES",E[E.VIEW_METADATA=50]="VIEW_METADATA",E[E.VIEWER=100]="VIEWER",E[E.EDITOR=300]="EDITOR",E[E.ADMIN=900]="ADMIN",E[E.OWNER=999]="OWNER"}(e.PermissionLevel||(e.PermissionLevel={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamParentOrgId=function(e,t){const r=t.teams[e];if(r&&r.org_id)return r.org_id}}),
(function(E,T,e){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.NAME=0]="NAME",E[E.CREATED_AT=1]="CREATED_AT",E[E.TOUCHED_AT=2]="TOUCHED_AT",E[E.TRASHED_AT=3]="TRASHED_AT",E[E.SEARCH_RELEVANCE=4]="SEARCH_RELEVANCE",E[E.PROJECT_NAME=5]="PROJECT_NAME",E[E.ACCESSED_AT=6]="ACCESSED_AT"}(T.TileSortKey||(T.TileSortKey={})),function(E){E[E.ASC=0]="ASC",E[E.DESC=1]="DESC"}(T.TileSortDir||(T.TileSortDir={})),function(E){E[E.ANY=0]="ANY",E[E.SELF=1]="SELF",E[E.OTHER=2]="OTHER"}(T.TileFilterCreator||(T.TileFilterCreator={})),function(E){E[E.LIST=0]="LIST",E[E.GRID=1]="GRID"}(T.TileViewMode||(T.TileViewMode={}))}),
(function(e,i,l){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),i.SignInMethod={ANY:"any",GOOGLE:"google",SAML:"saml"},i.OrgStanding={AUTO:"AUTO",GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED"},function(e){e.DISABLED="disabled",e.QUARTERLY="quarterly"}(n=i.OrgBillingType||(i.OrgBillingType={})),i.OrgBillingTypeName={[n.DISABLED]:"Disabled",[n.QUARTERLY]:"Automatic"}}),
(function(e,_,t){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Restrictions={LOCKED:"locked",EDITORS_LIMITED:"editors_limited",PROJECTS_LIMITED:"projects_limited",EDITORS_AND_PROJECTS_LIMITED:"editors_limited,projects_limited"},_.Subscription={OK:"ok",PAST_DUE:"past_due",GRACE_PERIOD:"grace_period",NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED:"no_monthly_sub_editor_count_exceeded"},_.OrgAccess={PUBLIC:"public",PRIVATE:"private",SECRET:"secret"}}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStudent=(e=>!!e.student_validated_at)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ERROR=1]="ERROR"}(e.FlashStatus||(e.FlashStatus={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(93               );var u=0;!function(t){t.INIT="FLASH_INIT",t.ADD="FLASH_ADD",t.REMOVE="FLASH_REMOVE",t.REMOVE_ALL="FLASH_REMOVE_ALL",t.TIMEOUT=3e3,t.TIMEOUT_SERVER_SIDE=6e3,t.init=function(){return{type:t.INIT}},t.flash=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.DEFAULT,timeout:n,id:u++}}},t.error=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.ERROR,timeout:n,id:u++}}},t.remove=function(e){return{type:t.REMOVE,payload:{id:e}}},t.removeAll=function(){return{type:t.REMOVE_ALL,payload:null}}}(e.flash||(e.flash={}))}),
(function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=r(44,1         ),a=r(111                        ),s=r(87                      ),n=r(96                     ),o=r(90                     ),l=r(91                      ),d=r(92           ),_=r(47,1    ),c=r(94                                   ),u=r(85                   );function m(e,r){const t=Object.assign(Object.assign({},a.mapReduxStateToTeamPermissionsProps(e,r)),{selectedView:e.selectedView,isTrialAvailableToStart:!1,isTrialActive:!1,isTrialExpired:!1,trialEndMoment:null,trialDuration:null});return!t.team||t.team.org_id?t:(t.isTrialAvailableToStart=t.teamPermissionLevel>=s.PermissionLevel.EDITOR&&!t.team.trial_period_end&&!!u.getFeatureFlags().pro_trials,t.team.trial_period_end&&(t.team.trial_period_end===i.TRIAL_DOWNGRADED_CANARY?(t.isTrialActive=!1,t.isTrialExpired=!1):(t.trialEndMoment=_.utc(t.team.trial_period_end),t.trialDuration=_.duration(t.trialEndMoment.diff(_.utc())),t.isTrialActive=t.trialDuration.asMilliseconds()>0,t.isTrialExpired=!t.isTrialActive)),t)}i.MAX_FREE_EDITORS=2,i.MAX_FREE_FOLDERS=3,i.FREE_VERSION_HISTORY_MAX_DAYS=30,i.MAX_ANNUAL_SUBSCRIPTIONS=500,i.MAX_DISABLED_VERSIONS=5,i.MONTHLY_EDITOR_COST=1500,i.ANNUAL_EDITOR_COST=1200,i.ANNUAL_ORGANIZATION_MEMBER_COST=4500,i.TRIAL_DOWNGRADED_CANARY="2012-10-01T00:00:00.000Z",i.isTrialAvailableToStart=(e=>e&&!e.org_id&&!e.trial_period_end&&u.getFeatureFlags().pro_trials),i.isTrialActive=(e=>{if(e&&e.trial_period_end&&!e.org_id){return _.utc(e.trial_period_end).valueOf()>Date.now()}return!1}),i.isTrialExpired=(e=>{if(e&&e.trial_period_end&&e.trial_period_end!==i.TRIAL_DOWNGRADED_CANARY&&!e.org_id){return _.utc(e.trial_period_end).valueOf()<=Date.now()}return!1}),i.isTeamPro=(e=>null!=e.subscription),i.canShowProUpgradeLink=((e,r)=>e&&(!i.isTeamPro(e)||i.isTrialActive(e))&&e.restrictions!==l.Restrictions.LOCKED&&a.canEditTeam(e.id,r)),i.isFileEditingLockedForUser=((e,r)=>{if(e.team_id&&i.isTeamLockedForUser(e.team_id,r))return!0;const t=e.folder_id&&r.folders[e.folder_id];return!!t&&i.isFolderEditingLockedForUser(t,r)}),i.isFolderEditingLockedForUser=((e,r)=>{if(!e.team_id&&!n.isADraftsFolder(r.folders,e.id))return!0;if(e.team_id){if(i.isTeamLockedForUser(e.team_id,r))return!0;if(!i.canAccessProFeature(r.teams[e.team_id])&&(e.is_invite_only||e.is_view_only))return!0}return!1}),i.isTeamLockedForUser=((e,i)=>{const r=i.teams[e],t=i.user;return!!r&&(!!t&&(r.student_team?!d.isStudent(t):r.restrictions===l.Restrictions.LOCKED))}),i.isTeamAtFolderLimit=((e,i)=>{const r=i.teams[e];return r&&(r.restrictions===l.Restrictions.PROJECTS_LIMITED||r.restrictions===l.Restrictions.EDITORS_AND_PROJECTS_LIMITED)}),i.isOrgDelinquent=((e,i)=>{const r=i.orgById[e];return r&&r.standing===o.OrgStanding.DELINQUENT}),i.isOrgSuspended=((e,i)=>{const r=i.orgById[e];return r&&r.standing===o.OrgStanding.SUSPENDED}),i.shouldRestrictProFeature=(e=>!i.canAccessProFeature(e)),i.canAccessProFeature=(e=>!!e&&(i.isTeamPro(e)||e.student_team)),i.getLocale=(()=>{if(navigator){const e=navigator.languages;if(e&&e[0])return e[0];const i=navigator.language;if(i)return i}return"en-US"}),i.formatMoney=((e,r,t,a)=>{t=t||i.getLocale();const s={currency:a=a||"USD",style:"currency"};return r&&(s.minimumFractionDigits=0),(.01*Number(e)).toLocaleString(t,s)}),i.mapReduxStateToHasTeamTrialProps=m,i.connectToTeamTrials=t.connect(m),i.contactSupportFlash=((e,i)=>{let r="An unknown error occurred. Please contact support for assistance.";e&&e.data&&e.data.message&&(r=e.data.message),i(c.flash.error(r))})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(87                      ),i=r(111                        ),o=r(88                   ),l=r(89                                 ),a=r(95                      );function d(e){return!!e.team_id}function s(e){return e&&e.name||"Drafts"}function m(e,t,r){const i=r.byFolderId[e.id],o=(i?Object.keys(i).map(e=>i[e]):[]).find(e=>e.level===n.PermissionLevel.OWNER);return{folderId:e.id,folderName:s(e),teamName:e.team_id&&t[e.team_id]?t[e.team_id].name:"",ownerHandle:o&&!1===o.pending?o.user.handle:""}}function u(e){return e.settings&&e.settings.webhooks&&e.settings.webhooks[Object.keys(e.settings.webhooks)[0]]}t.isTeamFolder=d,t.getFolderTeamId=function(e){return e.team_id},t.isADraftsFolder=function(e,t){let r=e[t];return r&&""===r.path&&!d(r)},t.getUserDraftsFolderOrNull=function(e,t,r,i,o){if(null==i)return null;const l=i&&o[t]&&o[t][i.id];if(t&&l)return e[l.drafts_folder_id]||null;for(let a in e){let t=e[a],o=r.byFolderId[a],l=o?o[i.id]:null;if(!d(t)&&""===t.path&&null==t.org_id&&l&&l.level===n.PermissionLevel.OWNER)return t}return null},t.isOrphanedOrgFolder=function(e,t){let r=e[t];return!d(r)&&""!==r.path&&!!r.org_id},t.getFolderName=s,t.getFolderNameDisambiguator=function(e,t,r,n){t=t.filter(t=>t.id!==e.id);const i=m(e,r,n),o=t.map(e=>m(e,r,n)).filter(e=>e.folderName===i.folderName);if(0===o.length)return;const l=o.filter(e=>e.teamName===i.teamName);if(i.teamName&&0===l.length)return i.teamName;const a=l.filter(e=>e.ownerHandle===i.ownerHandle);return i.ownerHandle&&0===a.length?i.ownerHandle:void 0},t.getWebhookUrl=function(e){return`/slack/folder_webhook/${e.id}`},t.getSlackChannelName=function(e){let t=u(e);return t&&t.incoming_webhook&&t.incoming_webhook.channel},t.getSlackTeamName=function(e){let t=u(e);return t&&t.team_name},t.getLastUpdatedTime=function(e,t,r){return t[e.id].filter(e=>e in r).map(e=>new Date(r[e].touched_at)).reduce((e,t)=>e>t?e:t,new Date(e.updated_at))},t.canAccessFolder=function(e,t){return t in e},t.isFolderEmpty=function(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length},t.getFolderParentOrgId=function(e,t){const r=t.folders[e];return r&&r.org_id?r.org_id:r&&r.team_id?o.getTeamParentOrgId(r.team_id,t):void 0},t.folderProps=function(e,t,r,n,o,l){const d=t[e],s=n[e]||[],m=o[e]||{};return Object.assign(Object.assign({},d),{files:s.map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime()),pinnedFiles:Object.keys(m).map(e=>Object.assign(Object.assign({},r[e]),{pinned_by_user_name:m[e]})),canEdit:i.canEditFolder(d.id,l),isEditingLocked:a.isFolderEditingLockedForUser(d,l),team:d.team_id&&l.teams[d.team_id]||null})};const f={filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}};t.folderSortFilterOptions=function(e,t){return{srcTileSortFilterConfig:{filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}},tileSortFilterConfig:t.folders.byId[e]||f,sortKeys:[l.TileSortKey.NAME,l.TileSortKey.CREATED_AT,l.TileSortKey.TOUCHED_AT]}}}),
(function(e,c,s){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LinkAccess={EDIT:"edit",VIEW:"view",ORG_EDIT:"org_edit",ORG_VIEW:"org_view",INHERIT:"inherit"},c.ProtoLinkAccess={VIEW:"view",ORG_VIEW:"org_view",INHERIT:"inherit",NULL:null},c.linkAccessToProtoLinkAccess=function(e){switch(e){case c.LinkAccess.EDIT:case c.LinkAccess.VIEW:return c.LinkAccess.VIEW;case c.LinkAccess.ORG_EDIT:case c.LinkAccess.ORG_VIEW:return c.LinkAccess.ORG_VIEW;case c.LinkAccess.INHERIT:return c.LinkAccess.INHERIT;default:throw Error(`Unrecognized link access ${e}`)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=Object.create(null);function o(e){let t=e,n=0;for(;c[t];)t=e+`_${n}`,n+=1;return c[t]=!0,t}t.generateUniqueActionType=o,t.actionCreator=function(e){const t=o(e),n=(e={})=>({type:t,payload:e});return n.matches=(e=>e.type===t),n}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(94               );function l(e={},a){switch(a.type){case t.flash.ADD:return Object.assign(Object.assign({},e),{[a.payload.id]:a.payload});case t.flash.REMOVE:let s=Object.assign({},e);return delete s[a.payload.id],s;case t.flash.REMOVE_ALL:return{};default:return e}}a.flashes=l,a.default=l}),
(function(s,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=e(94               ),l=e(85                   );a.flashMiddleware=(s=>a=>(function(e){switch(e.type){case t.flash.INIT:const f=a(e);let r=l.default().flash;return r&&(r.error?s.dispatch(t.flash.error(r.error,t.flash.TIMEOUT_SERVER_SIDE)):r.warn?s.dispatch(t.flash.flash(r.warn,t.flash.TIMEOUT_SERVER_SIDE)):r.success&&s.dispatch(t.flash.flash(r.success,t.flash.TIMEOUT_SERVER_SIDE))),f;case t.flash.ADD:const h=s.getState();for(let a in h.flashes){let l=h.flashes[a];if(l.message===e.payload.message&&l.status===e.payload.status){s.dispatch(t.flash.remove(parseInt(a)));break}}let o=e.payload.id,i=e.payload.timeout>t.flash.TIMEOUT?e.payload.timeout:t.flash.TIMEOUT;return setTimeout(()=>{s.dispatch(t.flash.remove(o))},i),a(e);default:return a(e)}}))}),
(function(s,h,e){s.exports={flashes:"flash_view--flashes--1wuM5",flash:"flash_view--flash--1qTMX text--_whiteText--2PkdM",flashError:"flash_view--flashError--Hen0k flash_view--flash--1qTMX text--_whiteText--2PkdM",flashBig:"flash_view--flashBig--3Qp1S"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(3,1    ),r=a(93                  ),l=a(101               );class i extends t.PureComponent{render(){let e=Object.keys(this.props.flashes).map(e=>parseInt(e)).sort((e,s)=>e-s);return t.createElement("div",{className:l.flashes},Array.from(e.entries()).map(([e,s])=>{let a=this.props.flashes[s];return t.createElement("div",{key:`flash-${s}`},t.createElement("div",{className:`${a.status===r.FlashStatus.ERROR?l.flashError:l.flash} ${this.props.isApercu?l.flashBig:""}`},a.message))}))}}s.FlashView=i,i.displayName="FlashView"}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=l(94                        );a.flashActions=s.flash;var r=l(99                        );a.flashReducer=r.flashes;var i=l(100                          );a.flashMiddleware=i.flashMiddleware;var f=l(102                               );a.FlashView=f.FlashView}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(46,1            ),s=i(103                 );let n=0;function c(){return n++}function o(t,e,i){t.catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flashActions.error(t.message))}catch(r){e.dispatch(s.flashActions.error(i||"An error occurred while performing that action."))}})}e.getOptimisticTransactionID=c,e.flashOnFailure=o,e.optimisticRequest=function(t){let{requestPromise:e,fallbackError:i,store:s,next:n,action:a}=t,l=c();return o(e,s,i),e.then(()=>{n({type:null,optimist:{type:r.COMMIT,id:l}})}).catch(()=>{n({type:null,optimist:{type:r.REVERT,id:l}})}),(a=Object.assign({},a)).optimist={type:r.BEGIN,id:l},n(a)}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(98                  ),n=i(104                     ),c=i(46,1            );e.asyncActionCreator=function(t,e,i){const n=o.generateUniqueActionType(t),c=t=>i?i(n,t):n,p=t=>(i,o)=>{e({dispatch:i,getState:o},t,c(t)),i({type:n,payload:t})};return p.matches=(t=>t.type===n),p.loadingKeyForPayload=c,p},e.optimisticActionCreator=function(t,e,i){const p=o.generateUniqueActionType(t),s=t=>i?i(p,t):p,a=t=>(i,o)=>{const a=n.getOptimisticTransactionID();e({dispatch:i,getState:o},t,a,s(t)),i({type:p,payload:t,optimist:{type:c.BEGIN,id:a}})};return a.matches=(t=>t.type===p),a.loadingKeyForPayload=s,a},function(t){t.commit=(t=>({type:null,optimist:{type:c.COMMIT,id:t}})),t.revert=(t=>({type:null,optimist:{type:c.REVERT,id:t}}))}(e.optimistActions||(e.optimistActions={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(98                  ),a=o(126          ),i=o(105               );!function(e){e.init=r.actionCreator("INIT"),e.hydrate=r.actionCreator("FILE_BROWSER_HYDRATE"),e.setUserStateLoaded=r.actionCreator("USER_STATE_LOADED"),e.reloadWhenConvenient=r.actionCreator("RELOAD_WHEN_CONVENIENT"),e.handleUrlParamsForCurrentView=r.actionCreator("HANDLE_URL_PARAMS_FOR_CURRENT_VIEW"),e.setTileSortFilterConfigForView=r.actionCreator("BROWSER_SET_TILE_SORT_VIEW"),e.setViewBarOptionsForView=r.actionCreator("BROWSER_SET_VIEW_BAR_OPTIONS"),e.setFileBrowserLoading=r.actionCreator("FILE_BROWSER_SET_LOADING"),e.showDropdown=r.actionCreator("SHOW_DROPDOWN"),e.hideDropdown=r.actionCreator("HIDE_DROPDOWN"),e.showModal=r.actionCreator("SHOW_MODAL"),e.hideModal=r.actionCreator("HIDE_MODAL"),e.popModalStack=r.actionCreator("POP_MODAL_STACK"),e.hideSpecificModal=r.actionCreator("HIDE_SPECIFIC_MODAL"),e.selectView=r.actionCreator("SELECT_VIEW"),e.selectViewByFolderId=function(t,o={}){return e.selectView(Object.assign({view:"folder",folderId:t},o))},e.selectViewByTeamId=function(t,o={}){return e.selectView(Object.assign({view:"team",teamId:t},o))},e.openNewFolderModal=r.actionCreator("FOLDER_OPEN_NEW_FOLDER_MODAL"),e.beginCreateNewFolder=r.actionCreator("BEGIN_CREATE_NEW_FOLDER"),e.stopCreateNewFolder=r.actionCreator("STOP_CREATE_NEW_FOLDER"),e.beginRenameNavFolder=r.actionCreator("BEGIN_RENAME_NAV_FOLDER"),e.stopRenameNavFolder=r.actionCreator("STOP_RENAME_NAV_FOLDER"),e.beginRenameNavTeam=r.actionCreator("BEGIN_RENAME_NAV_TEAM"),e.stopRenameNavTeam=r.actionCreator("STOP_RENAME_NAV_TEAM"),e.showMobileNav=r.actionCreator("SHOW_MOBILE_NAV"),e.hideMobileNav=r.actionCreator("HIDE_MOBILE_NAV"),e.setLocalFonts=r.actionCreator("SET_LOCAL_FONTS"),e.setFileSearchQuery=r.actionCreator("SET_FILE_SEARCH_QUERY"),e.setFileSearchResults=r.actionCreator("SET_FILE_SEARCH_RESULTS"),e.searchResultClicked=r.actionCreator("SEARCH_RESULT_CLICKED"),e.recentFileClicked=i.asyncActionCreator("RECENT_FILE_CLICKED",(e,{index:t})=>{a.segment.track("Recent File Clicked",{index:t})}),e.downloadFontInstaller=r.actionCreator("DOWNLOAD_FONT_INSTALLER"),e.downloadFontUninstaller=r.actionCreator("DOWNLOAD_FONT_UNINSTALLER"),e.setDeletedFiles=r.actionCreator("SET_DELETED_FILES")}(t.fileBrowser||(t.fileBrowser={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(98                  );!function(e){e.post=o.actionCreator("ROLE_POST"),e.put=o.actionCreator("ROLE_PUT"),e.batchPut=o.actionCreator("ROLE_BATCH_PUT"),e.del=o.actionCreator("ROLE_DELETE"),e.setUserFilePermission=o.actionCreator("ROLE_SET_USER_FILE_PERMISSION"),e.setUserFolderPermission=o.actionCreator("ROLE_SET_USER_FOLDER_PERMISSION"),e.setUserTeamPermission=o.actionCreator("ROLE_SET_USER_TEAM_PERMISSION"),e.sendInvites=o.actionCreator("ROLE_SEND_INVITES"),e.resendInvite=o.actionCreator("ROLE_RESEND_INVITE")}(t.role||(t.role={}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(106                                     ),s=t(107                             ),i=t(10,1   ),n=t(87                      );function l(e,r){return Object.keys(e).reduce((t,o)=>(e[o][r]&&(t[o]=e[o][r]),t),{})}function d(e){return e.pending?`pending-${e.id}`:e.user_id}function c(e,r={},t){let o=t.payload&&t.payload.role;if(o&&o.resource_type===e){let e=o.resource_id_or_key,i=function(e={},r){if(s.role.post.matches(r)||s.role.put.matches(r)){const t=r.payload.role;let o,s=Object.assign({},e);for(let r in e){let i=e[r];if(t.pending&&i.pending&&t.user.email&&t.user.email===i.user.email){o=s[r].created_at,delete s[r];break}if(!t.pending&&i.pending&&t.id===i.id){o=s[r].created_at,delete s[r];break}}return s[d(t)]=Object.assign(Object.assign(Object.assign({},e[d(t)]),t),o?{created_at:o}:null),s}if(s.role.del.matches(r)){const t=r.payload.role;if(d(t)in e){let r=Object.assign({},e);return delete r[d(t)],r}}return e}(r[e]||{},t);if(i!==r[e]){const t=Object.assign({},r);return 0===Object.keys(i).length?delete t[e]:t[e]=i,t}}return r}r.filterRolesByUserId=l,r.getUserRolesFromRoles=function(e,r){return{byFileKey:l(e.byFileKey,r),byFolderId:l(e.byFolderId,r),byTeamId:l(e.byTeamId,r)}},r.roleUserId=d,r.getRolesByResource=function(e,r){switch(r){case n.ResourceType.FILE:return e.byFileKey;case n.ResourceType.FOLDER:return e.byFolderId;case n.ResourceType.TEAM:return e.byTeamId}};const a=i.combineReducers({byFileKey:c.bind(void 0,n.ResourceType.FILE),byFolderId:c.bind(void 0,n.ResourceType.FOLDER),byTeamId:c.bind(void 0,n.ResourceType.TEAM)});function y(e,r,t){const o=r.filter(e=>e.resource_type===t),s=o.map(e=>e.resource_id_or_key).reduce((r,t)=>(r[t]=Object.assign({},e[t])||{},r),Object.assign({},e));return o.reduce((e,r)=>(e[r.resource_id_or_key][d(r)]=r,e),Object.assign(Object.assign({},e),s))}function u(e,r){let t=Object.assign({},e);return t.byFileKey=y(e.byFileKey,r,n.ResourceType.FILE),t.byFolderId=y(e.byFolderId,r,n.ResourceType.FOLDER),t.byTeamId=y(e.byTeamId,r,n.ResourceType.TEAM),t}r.roles=function(e,r){if(!e)return{byFileKey:{},byFolderId:{},byTeamId:{}};if(o.fileBrowser.hydrate.matches(r)){let e=u({byFileKey:{},byFolderId:{},byTeamId:{}},r.payload.roles||[]);for(let t of r.payload.files||[])null==e.byFileKey[t.key]&&(e.byFileKey[t.key]={});return e}return s.role.batchPut.matches(r)?u(e,r.payload.roles):a(e,r)}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrgUserAccountType={FULL:"full",RESTRICTED:"restricted",STARTER:"starter"},r.OrgUserAccountTypeDisplayText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer"},r.OrgUserAccountTypeExtendedText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer - Restricted"},r.OrgPermissionType={GUEST:"guest",MEMBER:"member",ADMIN:"admin"},r.OrgPermissionTypeDisplayText={guest:"Guest",member:"Member",admin:"Admin"},function(e){e[e.GUEST=0]="GUEST",e[e.MEMBER=2]="MEMBER",e[e.ADMIN=3]="ADMIN"}(r.OrgUserPermissionLevel||(r.OrgUserPermissionLevel={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeLast=function(e){let t=null;return function(...r){if(null!=t&&t.args.length===r.length){let e=!0;for(let l=0,n=r.length;l<n;l++)if(r[l]!=t.args[l]){e=!1;break}if(e)return t.result}return(t={args:r,result:e(...r)}).result}}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(96                     ),n=s(88                   ),o=s(97                     ),t=s(108                       ),l=s(95                      ),c=s(91                      ),u=s(109                        ),a=s(87                      );function d(e,r,s,i,n,o,t,l){return{user:e,fileByKey:r,folders:s,teams:i,roles:n,orgById:o,orgDraftsOwners:t,orgUsersByOrgId:l}}const m=s(110          ).memoizeLast(d);function _(e,r){switch(e.resource_type){case a.ResourceType.FILE:return r.fileByKey[e.resource_id_or_key];case a.ResourceType.FOLDER:return r.folders[e.resource_id_or_key];case a.ResourceType.TEAM:return r.teams[e.resource_id_or_key]}}function f(e,r){for(let s of e)if(s.level>=r)return!0;return!1}function y(e,r){const s=r.user&&r.user.id;let i=r.roles;return e in i.byTeamId&&s&&s in i.byTeamId[e]?[i.byTeamId[e][s]]:[]}function E(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFolderId&&s&&s in n.byFolderId[e]&&i.push(n.byFolderId[e][s]);let o=r.folders[e];return o&&o.team_id&&!o.is_invite_only&&(i=i.concat(y(o.team_id,r))),i}function T(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFileKey&&s&&s in n.byFileKey[e]&&i.push(n.byFileKey[e][s]);let o=r.fileByKey[e];return o&&o.folder_id&&(i=i.concat(E(o.folder_id,r))),i}function g(e,r,s){const i=s.teams[e];if(!i)return!1;const o=f(y(i.id,s),r),t=n.getTeamParentOrgId(i.id,s),l=t&&s.user&&s.orgUsersByOrgId.orgUsers[t]&&s.orgUsersByOrgId.orgUsers[t][s.user.id];return!(l&&U(l)&&r>a.PermissionLevel.VIEWER)&&(t?o&&A(t,s):o)}function p(e,r,s){let n;const o=s.user&&s.user.id,t=s.folders[e];if(!o||!t)return!1;const l=i.getFolderParentOrgId(t.id,s);if(l&&!A(l,s))return!1;const c=l&&s.orgUsersByOrgId.orgUsers[l]&&s.orgUsersByOrgId.orgUsers[l][o];if(c&&U(c)&&c.drafts_folder_id!==t.id&&r>a.PermissionLevel.VIEWER)return!1;const u=E(e,s);return u.forEach(e=>{e.resource_type===a.ResourceType.FOLDER&&(n=e)}),t.team_id?t.is_invite_only?!!n&&n.level>=r:t.is_view_only&&r>=a.PermissionLevel.EDITOR?!!n&&n.level>=r:f(u,r):!!n&&n.level>=r}function I(e,r,s,i){const n=s.user&&s.user.id;let t,l,c;const u=s.fileByKey[e];return!!u&&(!k(u,s,r)&&(!u.deleted_at&&(!(u.trashed_at&&r<=a.PermissionLevel.VIEW_PROTOTYPES)&&(!i&&u.proto_link_access===o.LinkAccess.VIEW&&r<=a.PermissionLevel.VIEW_PROTOTYPES||(!i&&(u.link_access===o.LinkAccess.EDIT||u.link_access===o.LinkAccess.VIEW)&&r<=a.PermissionLevel.VIEWER||!!n&&(!i&&u.link_access===o.LinkAccess.EDIT&&r<=a.PermissionLevel.EDITOR||!(u.parent_org_id&&!A(u.parent_org_id,s))&&(!(i||!u.parent_org_id||!(u.link_access===o.LinkAccess.ORG_EDIT&&r<=a.PermissionLevel.EDITOR||u.link_access===o.LinkAccess.ORG_VIEW&&r<=a.PermissionLevel.VIEWER||u.proto_link_access===o.LinkAccess.ORG_VIEW&&r<=a.PermissionLevel.VIEW_PROTOTYPES)||!V(u.parent_org_id,s))||(T(e,s).forEach(e=>{switch(e.resource_type){case a.ResourceType.FILE:e.level>=r&&(t=e);break;case a.ResourceType.FOLDER:e.level>=r&&(l=e);break;case a.ResourceType.TEAM:e.level>=r&&(c=e)}}),!(!t&&!l)||!!c&&(!u.folder_id||p(u.folder_id,r,s))))))))))}function v(e,r,s){return I(e,a.PermissionLevel.VIEWER,r,s)}function R(e,r,s){const i=r.fileByKey[e];return!!i&&(!(!s&&l.isFileEditingLockedForUser(i,r))&&I(e,a.PermissionLevel.EDITOR,r))}function O(e,r){return p(e,a.PermissionLevel.VIEWER,r)}function P(e,r){return p(e,a.PermissionLevel.EDITOR,r)}function L(e,r){return g(e,a.PermissionLevel.VIEWER,r)}function h(e,r){return g(e,a.PermissionLevel.EDITOR,r)}function b(e,r){return g(e,a.PermissionLevel.ADMIN,r)}function k(e,r,s){const i=e.parent_org_id,n=i&&r.user&&r.orgUsersByOrgId.orgUsers[i]&&r.orgUsersByOrgId.orgUsers[i][r.user.id];return!!n&&(n.drafts_folder_id!==e.folder_id&&(!!(e.folder_id&&U(r.orgDraftsOwners[e.folder_id])&&(s>=a.PermissionLevel.VIEWER||s==a.PermissionLevel.VIEW_PROTOTYPES))||!!(U(n)&&s>a.PermissionLevel.VIEWER)))}function F(e,r,s){switch(e){case a.ResourceType.FILE:return R(r,s);case a.ResourceType.FOLDER:return P(r,s);case a.ResourceType.TEAM:return h(r,s)}}function w(e,r,s){return e===a.ResourceType.TEAM&&b(r,s)}function A(e,r){return W(e,u.OrgUserPermissionLevel.GUEST,r)}function V(e,r){return W(e,u.OrgUserPermissionLevel.MEMBER,r)}function W(e,r,s){const i=s.user&&s.user.id,n=s.orgById[e],o=i&&s.orgUsersByOrgId.orgUsers[e]&&s.orgUsersByOrgId.orgUsers[e][i];return!!(n&&i&&o)&&function(e){switch(e){case u.OrgPermissionType.GUEST:return u.OrgUserPermissionLevel.GUEST;case u.OrgPermissionType.MEMBER:return u.OrgUserPermissionLevel.MEMBER;case u.OrgPermissionType.ADMIN:return u.OrgUserPermissionLevel.ADMIN}}(o.permission)>=r}function U(e){return e&&e.account_type===u.OrgUserAccountType.RESTRICTED}r.getPermissionsState=function(e){return d(e.user,e.fileByKey,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getPermissionsStateMemoized=function(e){return m(e.user,e.fileByKey,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getResource=_,r.getResourceTeamId=function(e,r){switch(e.resource_type){case a.ResourceType.FILE:const s=r.fileByKey[e.resource_id_or_key];return s&&s.team_id;case a.ResourceType.FOLDER:const i=r.folders[e.resource_id_or_key];return i&&i.team_id;case a.ResourceType.TEAM:return e.resource_id_or_key}},r.getResourceName=function(e,r){let s=_(e,r);if(s)return s.name},r.idOrKey=function(e){return e.key||e.id},r.isOwnerOfResource=function(e,r,s){let i=t.getRolesByResource(s.roles,r.resource_type)[r.resource_id_or_key];return!!(i&&e in i)&&i[e].level===a.PermissionLevel.OWNER},r.hasMinRole=f,r.getRolesForUserAndFolder=E,r.getRolesForUserAndFile=T,r.getRolesForResource=function(e,r,s){switch(e){case a.ResourceType.FILE:return T(r,s);case a.ResourceType.FOLDER:return E(r,s);case a.ResourceType.TEAM:return y(r,s)}},r.hasImplicitOrExplicitRoleForFile=function(e,r,s){return I(e,r,s,!0)},r.canViewFileMetadata=function(e,r,s){return I(e,a.PermissionLevel.VIEW_METADATA,r,s)},r.canViewFile=v,r.canEditFile=R,r.canViewPrototypes=function(e,r,s){return I(e,a.PermissionLevel.VIEW_PROTOTYPES,r,s)},r.isFileTemplate=function(e,r){return!!e&&!!r.fileByKey[e]&&r.fileByKey[e].is_template},r.isCopyExportRestricted=function(e,r){const s=r.fileByKey[e];return!!s&&!R(e,r)&&!!s.viewer_export_restricted},r.canManageFile=function(e,r,s){const i=r.user&&r.user.id;let n=!1,o=!1;const t=r.fileByKey[e];if(!i||!t)return!1;if(k(t,r,a.PermissionLevel.EDITOR))return!1;if(t.parent_org_id&&!A(t.parent_org_id,r))return!1;if(null===t.folder_id)return!0;if(!s&&l.isFileEditingLockedForUser(t,r))return!1;const c=r.roles.byFileKey[e];c&&i&&i in c&&(n=c[i].level>=a.PermissionLevel.OWNER);const u=r.roles.byFolderId[t.folder_id];return u&&i&&i in u&&(o=u[i].level>=a.PermissionLevel.EDITOR),!!o||(t.team_id?!!h(t.team_id,r)&&P(t.folder_id,r):!(t.team_id||!n))},r.canViewFolder=O,r.canEditFolder=P,r.canOwnFolder=function(e,r){return p(e,a.PermissionLevel.OWNER,r)},r.canViewTeam=L,r.canEditTeam=h,r.canAdminTeam=b,r.canOwnTeam=function(e,r){return g(e,a.PermissionLevel.OWNER,r)},r.canEditResource=F,r.canViewResource=function(e,r,s){switch(e){case a.ResourceType.FILE:return v(r,s);case a.ResourceType.FOLDER:return O(r,s);case a.ResourceType.TEAM:return L(r,s)}},r.canEditRole=function(e,r){return e.level!==a.PermissionLevel.OWNER&&(e.level===a.PermissionLevel.ADMIN?w(e.resource_type,e.resource_id_or_key,r):F(e.resource_type,e.resource_id_or_key,r))},r.canMakeAdmin=w,r.canGuestOrg=A,r.canMemberOrg=V,r.canAdminOrg=function(e,r){return W(e,u.OrgUserPermissionLevel.ADMIN,r)},r.orgPermissionName=function(e){switch(e){case u.OrgPermissionType.GUEST:return"Guest";case u.OrgPermissionType.MEMBER:return"Member";case u.OrgPermissionType.ADMIN:return"Admin"}},r.getOrgAccountTypeString=function(e){return u.OrgUserAccountTypeExtendedText[e]},r.isOrgUserRestricted=U,r.orgAccessStrings={[c.OrgAccess.PUBLIC]:"Open",[c.OrgAccess.PRIVATE]:"Closed",[c.OrgAccess.SECRET]:"Secret"},r.levelName=function(e){switch(e){case a.PermissionLevel.OWNER:return"owner";case a.PermissionLevel.ADMIN:return"admin";case a.PermissionLevel.EDITOR:return"can edit";case a.PermissionLevel.VIEWER:return"can view";case a.PermissionLevel.VIEW_PROTOTYPES:return"can view prototypes only";default:return"none"}},r.levelRoleName=function(e){switch(e){case a.PermissionLevel.OWNER:return"owner";case a.PermissionLevel.ADMIN:return"admin";case a.PermissionLevel.EDITOR:return"editor";case a.PermissionLevel.VIEWER:return"viewer";case a.PermissionLevel.VIEW_PROTOTYPES:return"prototype viewer";default:return""}},r.isFolderShared=function(e,r){let s=r.folders[e];return s&&s.team_id||Object.keys(r.roles.byFolderId[e]||{}).length>1},r.getTeamAdmins=function(e,r){const s=r.roles.byTeamId[e];if(!s)return[];const i=[];for(let n in s){const e=s[n];!1===e.pending&&e.level>=a.PermissionLevel.ADMIN&&i.push(e.user)}return i},r.getReadOnlyOverrideMessage=function(e,r){if(e.level!==a.PermissionLevel.VIEWER&&e.level!==a.PermissionLevel.VIEW_PROTOTYPES)return null;if(e.resource_type===a.ResourceType.FILE){const s=r.fileByKey[e.resource_id_or_key],i=s&&s.folder_id&&r.folders[s.folder_id];if(!s)return null;switch(e.level){case a.PermissionLevel.VIEWER:{if(s.link_access===o.LinkAccess.EDIT)return"This person can still edit, because the file is set to allow editing by anybody with the link.";if(s.link_access===o.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==u.OrgPermissionType.GUEST)return"This person can still edit, because the file is set to allow editing by org members with the link.";const n=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],t=i&&!i.is_invite_only&&!i.is_view_only;if(n&&n.level>a.PermissionLevel.VIEWER&&(!i||t))return"This person can still edit, because they have edit permissions on the team the file is in.";const l=e.user_id&&s.folder_id&&r.roles.byFolderId[s.folder_id]&&r.roles.byFolderId[s.folder_id][e.user_id];if(l&&l.level>a.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the project the file is in.";break}case a.PermissionLevel.VIEW_PROTOTYPES:{if(s.link_access===o.LinkAccess.EDIT)return"This person can still see and edit the file, because the file is set to allow editing by anybody with the link.";if(s.link_access===o.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==u.OrgPermissionType.GUEST)return"This person can still see and edit the file, because the file is set to allow editing by org members with the link.";const n=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],t=i&&!i.is_invite_only&&!i.is_view_only;if(n&&n.level>a.PermissionLevel.VIEWER&&(!i||t))return"This person can still see and edit the file, because they have edit permissions on the team the file is in.";const l=e.user_id&&s.folder_id&&r.roles.byFolderId[s.folder_id]&&r.roles.byFolderId[s.folder_id][e.user_id];if(l&&l.level>a.PermissionLevel.VIEWER)return"This person can still see and edit the file, because they have edit permissions on the project the file is in.";if(s.link_access===o.LinkAccess.VIEW)return"This person can still see the file, because the file is set to allow viewing by anybody with the link.";if(s.link_access===o.LinkAccess.ORG_VIEW&&e.org_user&&e.org_user.permission!==u.OrgPermissionType.GUEST)return"This person can still see the file, because the file is set to allow editing by org members with the link.";if(n&&n.level>=a.PermissionLevel.VIEWER&&(!i||t))return"This person can still see the file, because they have permissions on the team the file is in.";if(l&&l.level>=a.PermissionLevel.VIEWER)return"This person can still see the file, because they have permissions on the project the file is in.";break}}}else if(e.resource_type===a.ResourceType.FOLDER){const s=r.folders[e.resource_id_or_key];if(!s)return null;const i=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],n=!s.is_invite_only&&!s.is_view_only;if(i&&i.level>a.PermissionLevel.VIEWER&&n)return"This person can still edit, because they have edit permissions on the team the project is in."}return null},r.mapReduxStateToTeamPermissionsProps=function(e,r){const{user:s,teams:i,roles:n}=e,o={dispatch:e=>e,user:s,team:null,role:null,teamPermissionLevel:a.PermissionLevel.NONE};return s&&r&&r.teamId?(o.team=r.teamId&&i[r.teamId]||null,o.team?(o.role=n.byTeamId[o.team.id]&&n.byTeamId[o.team.id][s.id]||null,o.role?(o.teamPermissionLevel=o.role.level,o):o):(console.error("Unable to connect Redux PermissionsState to component class. Redux state not have Team",r.teamId,e,o),o)):o}}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=o(111                        ),n=o(87                      ),r=o(126          );function d(e,i={}){for(const o in i)o.match("_")&&console.error(`WARNING! snake_case not allowed as analytics keys. You're passing "${o}" as a key in params for event "${e}". Use camelCase instead.`);r.segmentTrackEvent(e,i)}function s(e,i,o,t={}){const n=i.map(e=>o.fileByKey[e]);t.fileKeys=i,t.fileParentOrgIds=[],t.fileTeamIds=[],t.containingFolderIds=[],t.rootOwnerUserIds=[],n.forEach(e=>{const i=e.team_id||!e.folder_id?null:a(e.folder_id,o);t.rootOwnerUserIds.push(i),t.fileParentOrgIds.push(e.parent_org_id),t.fileTeamIds.push(e.team_id),t.containingFolderIds.push(e.folder_id)}),d(e,t)}function a(e,i){let o;const n=i.roles.byFolderId[e];if(n)return Object.keys(n).forEach(e=>{t.isOwnerOfResource(e,n[e],i)&&(o=e)}),o}i.trackEvent=d,i.trackEventForFile=function(e,i,o,t={}){const n=i&&o.fileByKey[i];t.fileKey=i||"new",t.fileParentOrgId=n&&n.parent_org_id,t.fileTeamId=n&&n.team_id,t.containingFolderId=n&&n.folder_id,n&&!n.team_id&&n.folder_id&&(t.rootOwnerUserId=a(n.folder_id,o)),d(e,t)},i.trackBatchEventForFiles=s,i.trackEventForFileCopy=function(e,i,o){const t=e.map(e=>e.key),n=[],r=[],d=[];t.forEach((e,o)=>{const t=i[o];n.push(t.key),r.push(t.folder_id),d.push(t.team_id)}),s("File Copied",t,o,{copiedFileKeys:n,copiedContainingFolderIds:r,copiedFileTeamIds:d})},i.trackEventForFolder=function(e,i,o,t={}){const n=o.folders[i];t.folderId=n.id,t.folderTeamId=n.team_id,n.team_id||(t.rootOwnerUserId=a(i,o)),d(e,t)},i.trackEventForTeam=function(e,i,o,t={}){const n=o.teams[i];t.teamId=n.id,t.teamName=n.name,d(e,t)},i.trackEventForOrg=function(e,i,o,t={}){const n=o.orgById[i];t.orgId=n.id,t.orgName=n.name,d(e,t)},i.trackEventForUser=function(e,i,o={}){const t=i.user;o.userId=t&&t.id,d(e,o)},i.trackEventForRole=function(e,i,o={}){const t=i.resource_type,r=t===n.ResourceType.FILE?`${t}Key`:`${t}Id`;o.roleId=i.id,o[r]=i.resource_id_or_key,i.user_id&&(o.roleUserId=i.user_id),d(e,o)},i.trackEventForUserNotification=function(e,i,o,t={}){if(!o.userNotifications)return;let n;o.userNotifications.feed.allIds.forEach((e,o)=>{e===i&&(n=o)});const r=o.userNotifications.feed.byId[i];t.userNotificationView=r.view,t.userNotificationId=r.id,t.userNotificationUserId=r.user_id,t.userNotificationFeedIndex=n;const s=r.locals;s&&(s.role_id&&(t.userNotificationRoleId=s.role_id),s.invite_id&&(t.userNotificationInviteId=s.invite_id),s.team_id&&(t.userNotificationTeamId=s.team_id),s.folder_id&&(t.userNotificationFolderId=s.folder_id),s.file_key&&(t.userNotificationFileKey=s.file_key),s.comment_id&&(t.userNotificationCommentId=s.comment_id),s.comment_parent_id&&(t.userNotificationCommentParentId=s.comment_parent_id),t.userNotificationNotifierUserId=s.user_id),d(e,t)},i.trackContextCtaClicked=function(e){d("CTA Clicked",e)},function(e){e.NOT_POPULATED="not_populated",e.POPULATED_INCOMPLETE="populated_incomplete",e.POPULATED_COMPLETE="populated_complete"}(i.InputPopulationLevel||(i.InputPopulationLevel={})),i.trackContextInputBlurred=function(e){d("Input Blurred",e)},i.trackContextView=function(e){d("Context Viewed",e)},i.getRootOwnerId=a}),
(function(e,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.sessionStorageOrNull=null,o.localStorageOrNull=null;try{o.sessionStorageOrNull=window.sessionStorage}catch(u){}try{o.localStorageOrNull=window.localStorage}catch(u){}function t(e,o){o+="=";for(let l of e.split(";")){const e=/^\s*(.*)$/.exec(l);if(e&&(l=e[1]).slice(0,o.length)===o)return decodeURIComponent(l.slice(o.length))}return null}o.getLocalStorageOrNull=function(){return o.localStorageOrNull},o.getSessionStorageOrNull=function(){return o.sessionStorageOrNull},o.parseCookieForKey=t;class r{get(e){const o=t(document.cookie,e);return null===o?null:JSON.parse(o)}set(e,o){const l=encodeURI(JSON.stringify(o));document.cookie=`${e}=${l}; domain=.figma.com; expires=${new Date(Date.now()+2592e6).toUTCString()}; path=/;`}}class n{get(e){if(null==o.localStorageOrNull)return null;const l=window.localStorage.getItem(e);return null===l?null:JSON.parse(l)}set(e,l){null!=o.localStorageOrNull&&window.localStorage.setItem(e,JSON.stringify(l))}}const a=new Map;function c(){return o.localStorageOrNull?new n:a}o.getLocalOrMemoryStorage=c,o.getCookieOrLocalOrMemoryStorage=function(){return navigator.cookieEnabled?new r:c()}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(e,n=200,t=!1){let u=0,l=null;const o=function(){if(clearTimeout(u),u=0,!l)return;const n=l;l=null,e.apply(void 0,n)},c=function(...c){t&&!u?(t=!1,e.apply(void 0,c),t=!0):l=c,clearTimeout(u),u=setTimeout(o,n)};return c.cancel=(()=>{clearTimeout(u),l=null,u=0}),c.flush=o,c}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(112                      ),r=t(113          ),i=t(114           ),l=t(86      );function c(e,n){let t=document.createElement("a");t.href=e,t.rel="noreferrer noopener",n&&(t.target=n),document.body.appendChild(t),t.click(),t.remove()}function u(e,n){let t=document.createElement("a");if(t.href=e,t.hostname!==window.location.hostname)throw new Error("Attempting to redirect to another domain.");window.self===window.top||n?c(e,n):window.top.location.href=e}n.unsafeRedirect=c,n.redirect=u;let s=null;function a(){if(null==r.sessionStorageOrNull)return!1;const e=JSON.parse(r.sessionStorageOrNull.getItem("reload_times")||JSON.stringify([])),n=Date.now()-3e5;for(;e&&e[0]<n;)e.shift();let t;return e.length>15?t=!0:(e.push(Date.now()),t=!1),r.sessionStorageOrNull.setItem("reload_times",JSON.stringify(e)),t}function m(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}n.setOpenUrlInPrototypeListenerForTests=function(e){s=e},n.openUrlInPrototype=function(e){var n=e.url;null!=n&&(n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),s?s(n):u("/exit?url="+encodeURIComponent(n),e.openInNewWindow?"_blank":""))},n.unsafeWindowOpen=function(e,n,t){return window.open(e,n,t)},n.isLocationReloadExcessive=a,n.locationReload=function(e,n={}){const t=Object.assign(Object.assign({},n),{reason:e});a()?o.trackEvent("Location Reload Excessive",t):(o.trackEvent("Page Reloaded",t),console.log("Reloading the page... reason:",e,n),window.self!==window.top&&window.top.location.reload(),location.reload())},n.figmaClientRect=m,n.clientRectsEqual=function(e,n){return e&&n?JSON.stringify(m(e))===JSON.stringify(m(n)):e===n},n.isVisibleTab=function(){const e=document.__figmaTabHidden;return void 0!==e?!0!==e:!0!==document.hidden},n.isInIframe=function(){return self!==top},n.capabilities={};const d=document&&document.documentElement;function f(e,t){Object.defineProperty(n.capabilities,e,{enumerable:!0,configurable:!0,get(){const o=t();return Object.defineProperty(n.capabilities,e,{enumerable:!0,value:o}),o}})}f("pointerEvents",()=>"PointerEvent"in window),f("pointerCapture",()=>d&&"setPointerCapture"in d),f("exitPointerLockFunc",()=>document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||null),f("requestPointerLockFunc",()=>d&&(d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||null)),f("pointerLockChangeEventName",()=>"onpointerlockchange"in document?"pointerlockchange":"onmozpointerlockchange"in document?"mozpointerlockchange":"onwebkitpointerlockchange"in document?"webkitpointerlockchange":"onmspointerlockchange"in document?"mspointerlockchange":null),f("pointerLockErrorEventName",()=>"onpointerlockerror"in document?"pointerlockerror":"onmozpointerlockerror"in document?"mozpointerlockerror":"onwebkitpointerlockerror"in document?"webkitpointerlockerror":"onmspointerlockerror"in document?"mspointerlockerror":null),f("pointerLock",()=>!!n.capabilities.requestPointerLockFunc),f("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),f("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),f("requestFullscreenFunc",()=>d&&(d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullscreen||d.msRequestFullscreen||null)),f("exitFullscreenFunc",()=>{const e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),f("getFullscreenElement",()=>{return document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null}),f("fullscreen",()=>null!=n.capabilities.requestFullscreenFunc&&null!=n.capabilities.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled)),n.debouncedHistoryPushState=i.debounce((e,n,t)=>{try{history.pushState(e,n||"",t)}catch(o){console.warn(o)}},300,!0),n.debouncedHistoryReplaceState=i.debounce((e,n,t)=>{try{history.replaceState(e,n||"",t)}catch(o){console.warn(o)}},300,!0),n.promiseTabVisibility=function(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function n(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",n),e())})})},n.browserVersion=function(){const e=new RegExp(`${l.name}\\/${l.version}[0-9.]*`),n=navigator.userAgent.match(e);if(n)return n[0]}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=window.__figmaDesktop;!function(e){e[e.FOCAL_TAB=0]="FOCAL_TAB",e[e.BACKGROUND_TAB=1]="BACKGROUND_TAB",e[e.NEW_WINDOW=2]="NEW_WINDOW"}(s.OpenTarget||(s.OpenTarget={}));class o{constructor(e){this.api=e}getVersion(){return this.api.version}getInformationalVersion(){const e=navigator.userAgent.match(/Figma\/([^\s]+)/);return e&&2===e.length?e[1]:"dev"}isFileBrowserTab(){return this.api.fileBrowser}isFileTab(){return!this.api.fileBrowser}setMessageHandler(e){this.api.setMessageHandler(e)}getFonts(){return this.api.promiseMessage("getFonts")}getFontFile(e,s){return this.api.promiseMessage("getFontFile",{path:e,postscript:s}).then(e=>new Uint8Array(e))}getClipboardData(e){return this.api.promiseMessage("getClipboardData",{formats:e})}setClipboardData(e,s){this.api.postMessage("setClipboardData",{format:e,data:s})}newFile(e){this.api.postMessage("newFile",{info:e})}openFile(e,s,t){this.api.postMessage("openFile",{fileKey:e,title:s,target:t})}openPrototype(e,s,t,i){this.getVersion()>=21?this.api.postMessage("openPrototype",{fileKey:e,pageId:s,title:t,target:i}):location.href="/proto/"+e+"?node-id="+s}close(e){this.api.postMessage("close",{suppressReopening:e})}setTitle(e){this.api.postMessage("setTitle",{title:e})}setFileKey(e){this.api.postMessage("setFileKey",{fileKey:e})}setLoading(e){this.api.postMessage("setLoading",{loading:e})}setSaved(e){this.api.postMessage("setSaved",{saved:e})}setUser(e){this.isFileBrowserTab()&&this.getVersion()>=13&&this.api.postMessage("setUser",{id:e})}updateActionState(e){this.api.postMessage("updateActionState",{state:e})}showFileBrowser(){this.api.postMessage("showFileBrowser")}setFileBrowserIcon(e){this.getVersion()>=20&&this.api.postMessage("setFileBrowserIcon",{url:e})}setIsPreloaded(){this.api.postMessage("setIsPreloaded")}writeFiles(e){return this.api.promiseMessage("writeFiles",{files:e})}createNewLocalFileExtension(){return this.createMultipleNewLocalFileExtensions({title:"Pick Extension Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0).then(e=>e.added[0])}createMultipleNewLocalFileExtensions(e,s){return this.api.promiseMessage("createMultipleNewLocalFileExtensions",{options:e,depth:s})}getAllLocalFileExtensionIds(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("getAllLocalFileExtensionIds")}getLocalFileExtensionManifest(e){return this.api.promiseMessage("getLocalFileExtensionManifest",{id:e})}getLocalFileExtensionSource(e){return this.api.promiseMessage("getLocalFileExtensionSource",{id:e})}removeLocalFileExtension(e){this.api.postMessage("removeLocalFileExtension",{id:e})}openExtensionDirectory(e){this.api.postMessage("openExtensionDirectory",{id:e})}supportsLocalFileExtensionsAPIV4(){return this.getVersion()>=18}writeNewExtensionToDisk(e,s){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("writeNewExtensionToDisk",{dirName:e,files:s})}openDevTools(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("openDevTools",{mode:e})}closeDevTools(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("closeDevTools")}isDevToolsOpened(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("isDevToolsOpened")}registerManifestChangeObserver(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.registerCallback("registerManifestChangeObserver",void 0,e)}supportsSettingPluginMenuData(){return this.getVersion()>=19}setPluginMenuData(e){this.supportsSettingPluginMenuData()&&this.api.postMessage("setPluginMenuData",{data:e})}}s.WrappedDesktopAppWebAPI=o,s.getWrappedDesktopAppWebAPI=function(){return i?new o(i):null}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(86      ),n=o(115          ),r=o(85                   ),a=o(113          ),s=o(116                                     );t.OpenTarget=s.OpenTarget,t.desktopApp=s.getWrappedDesktopAppWebAPI(),t.setFakeWrappedDesktopAppWebAPI=function(e){t.desktopApp=new s.WrappedDesktopAppWebAPI(e)},t.clearWrappedDesktopAppWebAPI=function(){t.desktopApp=null},delete window.__figmaDesktop;const l=20,i=(()=>{if(a.sessionStorageOrNull){const e="initialPathName";if(a.sessionStorageOrNull[e])return a.sessionStorageOrNull[e];a.sessionStorageOrNull[e]=location.pathname}return location.pathname})();t.isRunningOutdatedDesktopApp=function(){return!!window.__figmaContent||!!(t.desktopApp&&t.desktopApp.getVersion()<l)},t.isRunningUnsupportedDesktopAppPlatform=function(){if(t.desktopApp&&p.mac){const[e,t]=`${p.osversion}`.split(".");return+e<10||+t<10}return!1},t.appAuthSupported=function(){return t.desktopApp&&!r.getFeatureFlags().app_auth_disabled&&t.desktopApp.getVersion()>=16},t.desktopNoAuth=function(){return t.desktopApp&&r.getFeatureFlags().desktop_no_auth},t.canAutoOpenInDesktopApp=function(){return!(n.isInIframe()||t.desktopApp||!r.default().editing_file||!i.startsWith("/file/")||!location.pathname.startsWith("/file/"))},t.AUTO_OPEN_PREF="autoOpenInDesktopApp",t.MENU_MODAL_PREF="openInDesktopAppMenuModal",t.getAutoOpenPref=function(){return a.localStorageOrNull?a.localStorageOrNull[t.AUTO_OPEN_PREF]:void 0},t.setAutoOpenPref=function(e){a.localStorageOrNull&&(a.localStorageOrNull[t.AUTO_OPEN_PREF]=e)},t.getMenuModalPref=function(){return a.localStorageOrNull?a.localStorageOrNull[t.MENU_MODAL_PREF]:void 0},t.setMenuModalPref=function(e){a.localStorageOrNull&&(a.localStorageOrNull[t.MENU_MODAL_PREF]=e)}}),
(function(_,E,N){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PREVENT_EVENT_CAPTURE="js-fullscreen-prevent-event-capture",E.NUM_SECTIONS_INFINITE=2147483647,E.BG_PANEL_COLOR_PICKER_ID="background-panel-color-picker",E.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID="prototype-background-panel-color-picker",E.TYPE_PANEL_ID="type-settings",E.EXPORT_PICKER_ID="export-picker",E.SELECTION_PAINT_PICKER_ID="selection-paint-item",E.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",E.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",E.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",E.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",E.DROPDOWN_TYPE_PAGE_CONTEXT_MENU="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",E.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU"}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(86      ),r=t(118                             );o.loadScript=function(e,o){var t;const n=null===(t=o)||void 0===t?void 0:t.id,r=!o||!1!==o.cors,c=!o||!1!==o.retry,s=()=>{const e=document.createElement("script");return n&&n.length>0&&(e.id=n),e.type="text/javascript",e.async=!0,r&&(e.crossOrigin="anonymous"),e},a=new Promise((o,t)=>{const n=s();n.onload=o,n.onerror=(r=>{if(!c)return t(r);document.head.removeChild(n);const a=s();a.onload=o,a.onerror=t;const i=-1===e.indexOf("?")?"?":"&";a.src=e+i+"lsRetry="+Math.random(),document.head.appendChild(a)}),n.src=e,document.head.appendChild(n)});return a.catch(o=>console.error(`Fetching ${e} failed`,o)),a},o.copyText=function(e){return new Promise((o,t)=>{e.length>104857.6&&console.warn("string too long for copyText usage watchdog timer of 1s.  formatting will take too long");let c=document.createElement("input");c.setAttribute("style","position: fixed; top: -100px"),c.classList.add(r.PREVENT_EVENT_CAPTURE),document.body.appendChild(c),c.value=e,c.focus(),c.select();let s=document.execCommand("copy");!s&&n.msedge&&(s=!0),c.remove(),s?o():t()})},o.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},o.scrollToY=function(e,o,t){var n=window.scrollY||document.documentElement.scrollTop,r=(e=e||0,o=o||2e3,t=t||"easeOutSine",0),c=Math.max(.1,Math.min(Math.abs(n-e)/o,.8)),s={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function o(){var a=(r+=1/60)/c,i=s[t](a);a<1?(requestAnimationFrame(o),window.scrollTo(0,n+(e-n)*i)):window.scrollTo(0,e)}()}}),
(function(t,n,e){"use strict";
// The MIT License (MIT)
// Copyright (c) 2010-2016 Robert Kieffer and other contributors
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Object.defineProperty(n,"__esModule",{value:!0});const o=[];for(var r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);const i=new Uint8Array(16);n.uuidv4=function(){if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(i);else{let t=0;for(let n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255}return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(t){let n=0;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}(i)}}),
(function(e,n,o){"use strict";
/**
 * FIGMA MODIFIED FROM:

  Copyright Joyent, Inc. and other Node contributors.

  Permission is hereby granted, free of charge, to any person obtaining a
  copy of this software and associated documentation files (the
  "Software"), to deal in the Software without restriction, including
  without limitation the rights to use, copy, modify, merge, publish,
  distribute, sublicense, and/or sell copies of the Software, and to permit
  persons to whom the Software is furnished to do so, subject to the
  following conditions:

  The above copyright notice and this permission notice shall be included
  in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
  NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
  USE OR OTHER DEALINGS IN THE SOFTWARE.
*/function t(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=function(e,n,o,r){return n=n||"&",o=o||"=",e&&"object"==typeof e?Object.keys(e).map(function(r){var c=encodeURIComponent(t(r))+o;return Array.isArray(e[r])?e[r].map(function(e){return c+encodeURIComponent(t(e))}).join(n):c+encodeURIComponent(t(e[r]))}).join(n):r?encodeURIComponent(t(r))+o+encodeURIComponent(t(e)):""},n.parse=function(e){let n={};for(let o of e.slice(1).split("&")){let e=null,t=null,r=o.indexOf("=");-1!=r?(e=o.slice(0,r),t=o.slice(r+1)):(e=o,t=""),t=t.replace(/\+/g,"%20"),n[decodeURIComponent(e)]=decodeURIComponent(t)}return n}}),
(function(t,e,n){"use strict";function r(t,e,n=!1){const r=n?-1:1,o=t=>{let n=e(t);return n&&n.toLowerCase?n.toLowerCase():""};t.sort((t,e)=>o(t)<o(e)?-r:r)}Object.defineProperty(e,"__esModule",{value:!0}),e.withElementMovedToFront=function(t,e){if(!(t&&e>=0&&e<t.length))return t;const n=(t=Array.from(t))[e];return t.splice(e,1),t.unshift(n),t},e.moveItem=function(t,e,n,r){const o=t.indexOf(e,0);if(o<0)return t;let u=null==n?-1:t.indexOf(n);u<0?u=r?0:t.length:r&&o<u?u-=1:!r&&o>u&&(u+=1);let i=t.slice();return o>-1&&u!==o&&(i.splice(o,1),i.splice(u,0,e)),i},e.pushIfAbsent=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.removeByValue=function(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.valuesEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},e.joinListsWithoutDuplicates=function(t,e){const n=Object.create(null),r=[];for(const o of t)n[o]||(n[o]=!0,r.push(o));for(const o of e)n[o]||(n[o]=!0,r.push(o));return r},e.shuffle=function(t){let e,n,r=t.length;for(;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},e.sortNumericallyByProperty=function(t,e,n=!1){t.sort((t,r)=>{const o=t[e]-r[e];return n?-o:o})},e.sortAlphabeticallyByProperty=function(t,e,n=!1){r(t,t=>t[e],n)},e.sortAlphabeticallyByFn=r,e.sortByDate=function(t,e,n=!1){t.sort((t,r)=>{const o=new Date(t[e]).getTime()<new Date(r[e]).getTime()?1:-1;return n?-o:o})},e.sortByCreatedAt=function(t){return t.sort((t,e)=>{const n=new Date(t.created_at).getTime();return new Date(e.created_at).getTime()-n})}}),
(function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(85                   );let e="";t.trackingSessionId=function(){return""===e&&(e=s.initialOptions().tracking_session_id||Math.random().toString(36).substring(2)),e}}),
(function(e,t,s){"use strict";
/**
 * FIGMA MODIFIED FROM:
 *
 * xr (c) James Cleveland 2015
 * URL: https://github.com/radiosilence/xr
 * License: BSD
 */var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function i(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(o,i)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(121              ),a=s(122        ),o=s(123                   );function i(e,t){return{status:e.status,response:e.response,data:t}}let u=null;class d{constructor(e){this.settings=e,this._response=void 0}parsedURL(){const e=document.createElement("a");return e.href=this.settings.url||"",{host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}}hostname(){return this.parsedURL().hostname}pathname(){return this.parsedURL().pathname}pathnameMatches(e){return!!new RegExp(e).exec(this.pathname())}sendRealRequest(){this._response="SEND_REAL_REQUEST"}respond(e){this._response=Promise.resolve(e)}failResponse(){this._response=Promise.reject(null)}neverRespond(){this._response=new Promise(()=>{})}response(){return this._response}}t.MockRequest=d;class l{constructor(){this._handlers=[]}static install(){return u||(u=new l),u}addHandler(e){a.pushIfAbsent(this._handlers,e)}removeHandler(e){a.removeByValue(this._handlers,e)}handleRequest(e){for(let t of this._handlers){const s=new d(e);t(s);const n=s.response();if(n)return n}return e.url&&!e.url.endsWith("realtime_token")&&"https://api.segment.io/v1/track"!==e.url&&console.log(`[xr.MockServer]: Ignoring ${e.method} request to ${e.url}`,e),new Promise((e,t)=>{})}}function c(e){return n(this,void 0,void 0,function*(){function t(){return n(this,void 0,void 0,function*(){try{return yield function(e){if(u){const t=u.handleRequest(e);if(t!==l.SEND_REAL_REQUEST)return t}return new Promise((t,s)=>{const n=Object.assign(Object.assign({},c.defaults),e),a=new XMLHttpRequest,o=e=>{e.toString=(()=>{let t=n.url;return`XHR for "${t=(t=(t=(t=(t=t.replace(/\?.*$/,"")).replace(/^(\/api\/multiplayer\/)\w+(\/create_savepoint)$/,"$1XXX$2")).replace(/^(\/component\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(\/style\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(https:\/\/s3-alpha\.figma\.com\/checkpoints\/)\w+\/\w+\/\w+\/\w+(\.fig)$/,"$1XXX$2")}" failed with status ${e.status}`}),s(e)};a.withCredentials=!!n.withCredentials;try{a.timeout=n.timeout,a.responseType=n.responseType}catch(d){}a.open(n.method,n.params?`${n.url.split("?")[0]}?${r.encode(n.params)}`:n.url,!0),a.addEventListener(c.Events.LOAD,()=>{try{let e=null;"arraybuffer"===a.responseType?e=new Uint8Array(a.response):a.responseText&&(e=!0===n.raw?a.responseText:n.load(a.responseText)),c.shouldTreatStatusCodeAsFailure(a.status)?o(i(a,e)):t(i(a,e))}catch(d){s(d)}}),a.addEventListener(c.Events.ABORT,()=>o(i(a))),a.addEventListener(c.Events.ERROR,()=>o(i(a))),a.addEventListener(c.Events.TIMEOUT,()=>o(i(a)));for(const e in n.headers)({}).hasOwnProperty.call(n.headers,e)&&a.setRequestHeader(e,n.headers[e]);if(n.uploadEvents)for(const e in n.uploadEvents)({}).hasOwnProperty.call(n.uploadEvents,e)&&a.upload.addEventListener(e,n.uploadEvents[e].bind(null,a),!1);if(n.downloadEvents)for(const e in n.downloadEvents)({}).hasOwnProperty.call(n.downloadEvents,e)&&a.addEventListener(e,n.downloadEvents[e].bind(null,a),!1);const u="object"!=typeof n.data||n.raw?n.data:n.dump(n.data);void 0!==u?a.send(u):a.send()})}(e)}catch(t){return t}})}let s,a=0;do{if(s=yield t(),!c.shouldRetryOnStatusCode(s.status)){if(c.shouldTreatStatusCodeAsFailure(s.status))throw s;return s}yield new Promise(e=>setTimeout(e,500*a)),a++}while(a<1+e.retryCount);if(c.shouldTreatStatusCodeAsFailure(s.status))throw s;return s})}t.MockServer=l,l.SEND_REAL_REQUEST="SEND_REAL_REQUEST",function(e){e.Methods={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},e.Events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},e.defaults={method:e.Methods.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Bypass":"yes",tsid:o.trackingSessionId()},responseType:"",dump:JSON.stringify,load:JSON.parse,withCredentials:!1,timeout:0},e.get=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.GET,params:s},n))},e.put=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PUT,data:s},n))},e.post=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.POST,data:s},n))},e.patch=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PATCH,data:s},n))},e.del=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.DELETE,data:s},n))},e.options=function(t,s){return e(Object.assign({url:t,method:e.Methods.OPTIONS},s))},e.shouldTreatStatusCodeAsFailure=function(e){return!(e>=200&&e<300)},e.shouldRetryOnStatusCode=function(e){return!(0!==e&&(e>0&&e<200||200<=e&&e<400||400<=e&&e<500||500!==e))}}(c||(c={})),t.default=c}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=new class{constructor(){this.queue=[]}actionCompleted(e,t){}handle(e){this.queue.push(e)}reset(e){}};let u=o;t.setGlobalResponsiveContentHandler=function(e){if(u===o)for(let t of o.queue)e.handle(t);o.queue=[],u=e},t.getResponsiveContentHandler=function(){return u}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(85                   ),n=s(117              ),a=s(119              ),r=s(113          ),o=s(120       ),_=s(124     ),c=s(86      ),l=s(125                                                           ),d=s(123                   ),h={browser_name:n.desktopApp?"Figma Desktop":c.name,browser_version:+c.version,os_name:c.osname,os_version:c.osversion,release:i.initialOptions().release_git_commit,release_tag:i.initialOptions().release_git_tag};n.desktopApp&&(h.desktop_version=n.desktopApp.getInformationalVersion());const u="https://api.segment.io/v1",g="ajs_anonymous_id";class p{constructor(t){this._userId=t,this._writeKey=null,this._storage=r.getCookieOrLocalOrMemoryStorage(),this._userIP=i.initialOptions().user_ip||null,this._anonymousId=o.uuidv4();const e=this._storage.get(g);null==e?this._storage.set(g,this._anonymousId):this._anonymousId=e}user(){return{id:()=>this._userId,anonymousId:()=>this._anonymousId,reset:()=>{this._anonymousId=o.uuidv4(),this._storage.set(g,this._anonymousId),this._userId=null}}}ready(t){t()}_getPage(){return{path:window.location.pathname,referrer:document.referrer,search:window.location.search,title:document.title,url:window.location.href}}_makeRequest(t,e){const s=(new Date).toISOString();_.default.post(`${u}/${t}`,Object.assign(Object.assign({},e),{anonymousId:this._anonymousId,context:{page:this._getPage(),ip:this._userIP,userAgent:navigator.userAgent},sentAt:s,timestamp:s,userId:this._userId,writeKey:this._writeKey}),{headers:{"content-type":"text/plain"}}).catch(t=>{console.warn(`error talking to segment: ${t}`)})}identify(t,e){this._makeRequest("identify",{type:"identify",traits:e})}page(){this._makeRequest("page",{type:"page",properties:this._getPage()})}load(t){this._writeKey=t}track(t,e){this._makeRequest("track",{type:"track",properties:e,event:t})}}class m{constructor(t,e){if(this._analytics=t,this._PREFIX="segment:",this._USER_ID_KEY=this._PREFIX+"userId",this._storage=r.sessionStorageOrNull,this.identifyUser=(t=>{if(!this._storage)return;if(!t||!t.id)return void this.logoutUser();let e={email:t.email,name:t.name,username:t.handle||t.name,handle:t.handle,utcOffset:(new Date).getTimezoneOffset(),trackTags:t.track_tags,createdAt:t.created_at},s=JSON.stringify(e),i=this._PREFIX+"traits:"+t.id;this._storage[i]!==s&&(this._analytics.identify(t.id,e),this._storage[this._USER_ID_KEY]=t.id,this._storage[i]=s)}),this.logoutUser=(()=>{if(!this._storage)return;let t=this._storage[this._USER_ID_KEY];t&&(delete this._storage[this._USER_ID_KEY],delete this._storage[this._PREFIX+"traits:"+t],this._analytics.ready(()=>{this._analytics.user().reset()}))}),e){if(!this._analytics)throw new Error('Unable to use Segment, "analytics" is undefined.');this._analytics.load(e),this.identifyUser(i.initialOptions().user_data),this._analytics.page()}else console.warn("Segment tracking is disabled.")}get userId(){if(this._analytics.user)return this._analytics.user().id()||void 0}get anonymousId(){if(this._analytics.user)return this._analytics.user().anonymousId()}track(t,e={}){null==e&&(e={}),Object.keys(e).forEach(t=>{if("[object Object]"===Object.prototype.toString.call(e[t]))throw new Error("Analytics payloads CANNOT have object values")});let s=Object.assign(Object.assign(Object.assign({},e||{}),h),{tracking_session_id:d.trackingSessionId()});this._analytics.track(t,s),this._storage&&l.getResponsiveContentHandler().handle({id:t,userId:this._storage[this._USER_ID_KEY],properties:s})}}e.segmentTrackEvent=((t,s)=>{e.segment&&e.segment.track(t,s)});const y=t=>{const e=i.initialOptions().user_data,s=e?e.id:null;return t?new m(new p(s),t):{track(){}}};e.segment=y(i.initialOptions().segment_web_key);const w=y(i.initialOptions().segment_fullscreen_key);{const t=window.location.pathname.startsWith("/files"),e=i.initialOptions().created_file_count;window.wootricSettings&&t&&e&&e>=5&&a.loadScript("https://cdn.wootric.com/wootric-sdk.js",{cors:!1,retry:!1}).then(()=>{window.wootric&&window.wootric("run")}).catch(()=>{})}e.trackFullscreenEvent=function(t,e){w.track(t,e)}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(114         ),o(113        );function a(){const e=new Error("Hot Reloading APIs should not be used in production. Guard code with !FIGBUILD_PROD.");setTimeout(()=>{throw e},0)}let d={hasJSReloaded:()=>(a(),!1),stashState(e,t){a()},getStashedState(e){a()},getOrCreateStashedState:(e,t)=>(a(),null)};t.default=d}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(3,1    ),a=t(81               );var i=t(81               );n.subscribe=i.subscribe;const l=t(82            );!function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(82            ));const o=t(84          );n.Schema=o.default;const s=t(85                   ),c=t(126          );t(127             );function g(e){const t=`${"https:"===location.protocol?"wss":"ws"}://${location.host}/api/livegraph`;return new l.LiveGraphClient({userId:e,sendData:!!n.livegraphComments},o.default,t,WebSocket,{onError:e=>{c.segmentTrackEvent("Livegraph Client connection error",{message:e.message,name:e.name||e.constructor.name})}})}n.livegraphComments=s.getFeatureFlags().livegraph_comments,n.livegraphDarkLaunch=s.getFeatureFlags().livegraph_darklaunch,n.LivegraphProvider=function({userId:e,children:t}){return n.livegraphComments||n.livegraphDarkLaunch?(function(e){n.livegraphClient||(n.livegraphClient=g(e))}(e),r.createElement(a.ContextProvider,{value:{client:n.livegraphClient}},t)):r.createElement(r.Fragment,null,t)}}),
(function(t,o,T){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=T(98                  );!function(t){t.startProUpgradeFlow=r.actionCreator("PAYMENT_START_UPGRADE_FLOW"),t.confirmStudentTeamFlow=r.actionCreator("CONFIRM_STUDENT_TEAM_FLOW"),t.init=r.actionCreator("PAYMENT_INIT"),t.setBillingPeriod=r.actionCreator("PAYMENT_SET_BILLING_PERIOD"),t.setNumEditors=r.actionCreator("PAYMENT_SET_NUM_EDITORS"),t.setSubmitPending=r.actionCreator("PAYMENT_SET_SUBMIT_PENDING"),t.submitPaymentAndAddress=r.actionCreator("PAYMENT_SUBMIT_PAYMENT_AND_ADDRESS"),t.submitConfirmAndPay=r.actionCreator("PAYMENT_SUBMIT_PAYMENT_CONFIRMATION"),t.submitConfirmAddAnnual=r.actionCreator("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION"),t.showError=r.actionCreator("PAYMENT_SHOW_ERROR"),t.downgrade=r.actionCreator("PAYMENT_DOWNGRADE"),t.makeStudentTeam=r.actionCreator("PAYMENT_MAKE_STUDENT_TEAM"),t.putAnnualQuantity=r.actionCreator("PAYMENT_PUT_ANNUAL_QUANTITY"),t.setSubmitPutAnnualQuantityPending=r.actionCreator("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),t.setPromo=r.actionCreator("PAYMENT_SET_PROMO"),t.setAddress=r.actionCreator("PAYMENT_SET_ADDRESS"),t.setTaxes=r.actionCreator("PAYMENT_SET_TAXES"),t.setToken=r.actionCreator("PAYMENT_SET_TOKEN")}(o.payment||(o.payment={}))}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=l(98                  );!function(e){
// enqueue: add to end, e.g. [a,b] -> enqueue(c) -> [a,b,c]
e.enqueue=o.actionCreator("VISUAL_BELL_ENQUEUE"),e.dequeue=o.actionCreator("VISUAL_BELL_DEQUEUE"),e.clearAll=o.actionCreator("VISUAL_BELL_CLEAR_ALL")}(t.visualBell||(t.visualBell={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=a(98                  );!function(e){e.put=E.actionCreator("COMPONENT_UPDATE"),e.del=E.actionCreator("COMPONENT_DELETE"),e.deleteComponentsForFile=E.actionCreator("COMPONENT_DELETE_FOR_FILE"),e.initialize=E.actionCreator("COMPONENT_INITIALIZE"),e.setLibraryView=E.actionCreator("COMPONENT_SET_LIBRARY_VIEW"),e.setLibraryQuery=E.actionCreator("COMPONENT_SET_LIBRARY_QUERY"),e.setPublishedLibraries=E.actionCreator("COMPONENT_SET_PUBLISHED_LIBRARIES"),e.setPublishedSearchResults=E.actionCreator("COMPONENT_SET_LIBRARY_SEARCH_RESULTS"),e.setLocalQuery=E.actionCreator("COMPONENT_SET_LOCAL_QUERY"),e.setLocalSearchResults=E.actionCreator("COMPONENT_SET_LOCAL_SEARCH_RESULTS"),e.setLocalSearchShowMoreResults=E.actionCreator("COMPONENT_SET_LOCAL_SEARCH_SHOW_MORE_RESULTS"),e.setSelectedNodeId=E.actionCreator("COMPONENT_SET_SELECTED_NODE_ID"),e.clearLocal=E.actionCreator("COMPONENT_CLEAR_LOCAL"),e.replaceLocalItems=E.actionCreator("COMPONENT_REPLACE_LOCAL"),e.applySharedStyleToSelection=E.actionCreator("COMPONENT_APPLY_STYLE"),e.updateSymbols=E.actionCreator("COMPONENT_UPDATE_SYMBOLS"),e.replaceUpdates=E.actionCreator("COMPONENT_INITIALIZE_UPDATES"),e.showNotification=E.actionCreator("COMPONENT_SHOW_NOTIFICATION"),e.hideNotification=E.actionCreator("COMPONENT_HIDE_NOTIFICATION"),e.pauseNotificationTimer=E.actionCreator("COMPONENT_PAUSE_NOTIFICATION_TIMER"),e.resumeNotificationTimer=E.actionCreator("COMPONENT_RESUME_NOTIFICATION_TIMER"),e.setSparseDragState=E.actionCreator("COMPONENT_SET_DRAG_STATE"),e.updateComponentsForResource=E.actionCreator("COMPONENT_UPDATE_COMPONENTS_FOR_RESOURCE"),e.updateComponentsForTeam=E.actionCreator("COMPONENT_UPDATE_COMPONENTS_FOR_TEAM"),e.setIsRenamingSelectedStyle=E.actionCreator("SET_IS_RENAMING_SELECTED_STYLE"),e.expandStylePanel=E.actionCreator("EXPAND_STYLE_PANEL"),e.collapseStylePanel=E.actionCreator("COLLAPSE_STYLE_PANEL"),e.getLibraryState=E.actionCreator("COMPONENT_GET_LIBRARY_STATE")}(t.library||(t.library={}))}),
(function(E,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=_(98                  );!function(E){E.setFolderSearchQuery=o.actionCreator("FILE_MOVE_SET_FOLDER_SEARCH_QUERY"),E.startFolderRename=o.actionCreator("FILE_MOVE_START_FOLDER_RENAME"),E.endFolderRename=o.actionCreator("FILE_MOVE_END_FOLDER_RENAME"),E.incrementFocusedIndex=o.actionCreator("FILE_MOVE_INCREMENT_FOCUSED_INDEX"),E.decrementFocusedIndex=o.actionCreator("FILE_MOVE_DECREMENT_FOCUSED_INDEX"),E.setFocusedIndexAt=o.actionCreator("FILE_MOVE_SET_FOCUSED_INDEX_AT"),E.resetFocusedIndex=o.actionCreator("FILE_MOVE_RESET_FOCUSED_INDEX"),E.focusFolderId=o.actionCreator("FILE_MOVE_SELECT_FOLDER"),E.setIndexCount=o.actionCreator("FILE_MOVE_SET_FOLDER_COUNT"),E.setIndexOffsets=o.actionCreator("FILE_MOVE_SET_INDEX_OFFSETS"),E.setTeamOrder=o.actionCreator("FILE_MOVE_SET_TEAM_ORDER"),E.setfoldersByTeamId=o.actionCreator("FILE_MOVE_SET_FOLDER_ORDER"),E.isSearchResult=o.actionCreator("FILE_MOVE_IS_SEARCH_RESULT"),E.setFolderRows=o.actionCreator("FILE_MOVE_INDEX_ORDER"),E.isSearchFocused=o.actionCreator("FILE_MOVE_IS_SEARCH_FOCUSED"),E.setKeyPressedToFalse=o.actionCreator("FILE_MOVE_SET_KEY_PRESSED_TO_FALSE"),E.canMouseFocus=o.actionCreator("FILE_MOVE_CAN_MOUSE_FOCUS")}(e.fileMove||(e.fileMove={}))}),
(function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(a,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function n(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,n)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=i(124     ),r=i(98                  ),s=i(105               ),n=i(112                      ),c=i(104                     ),l=i(103                 ),d=i(106                                     ),p=i(132                                  ),f=i(130                                              );var h;!function(e){e.beginRename=r.actionCreator("FOLDER_BEGIN_RENAME"),e.stopRename=r.actionCreator("FOLDER_STOP_RENAME"),e.rename=r.actionCreator("FOLDER_RENAME"),e.post=r.actionCreator("FOLDER_POST"),e.put=r.actionCreator("FOLDER_PUT"),e.setIsSubscribed=s.asyncActionCreator("FOLDER_SUBSCRIBE",(t,{folderId:i,isSubscribed:o})=>{const r=o?"Folder Subscriber Added":"Folder Subscriber Deleted";n.trackEventForFolder(r,i,t.getState()),c.optimisticRequest({store:t,requestPromise:a.default.put(`/api/folders/${i}`,{is_subscribed:o}),fallbackError:"An error occurred while updating this project.",next:t.dispatch,action:e.put({folder:{id:i,is_subscribed:o}})})}),e.create=s.asyncActionCreator("FOLDER_CREATE",(t,i)=>o(this,void 0,void 0,function*(){let o=null;if(i.name.match(/[\/\\:?*"|]/)&&(o='The following characters are not allowed:  / : ? * " |'),o)return t.dispatch(l.flashActions.error(o)),null;t.dispatch(d.fileBrowser.popModalStack()),t.dispatch(d.fileBrowser.stopCreateNewFolder());let r={id:`temp-${+new Date}`,name:i.name,description:null,path:i.name,parent_path:"",team_id:i.teamId,is_subscribed:!1,updated_at:`${new Date}`,is_invite_only:!1,is_view_only:!1,settings:{webhooks:{}},appData:{temp:!0},deleted_at:null},s=a.default.post("/api/folders",{team_id:i.teamId,path:i.name,is_invite_only:i.isInviteOnly,is_view_only:i.isViewOnly}).then(({data:o})=>{t.dispatch(e.del({folderId:r.id}));let a=o.meta;for(let r of a)if(r.name===i.name){t.dispatch(e.post(r)),i.shouldRedirect&&t.dispatch(d.fileBrowser.selectView({view:"folder",folderId:r.id}));break}return a}).then(e=>{let i=t.getState();if(i.modalShown&&"file-move-modal"===i.modalShown.type){i.fileByKey[i.modalShown.data.fileKey]&&1===e.length&&t.dispatch(p.fileMove.focusFolderId({folderId:e[0].id}))}});return c.optimisticRequest({store:t,requestPromise:s,fallbackError:"An error occurred while creating this project.",next:t.dispatch,action:e.post(r)})})),e.tryMove=r.actionCreator("FOLDER_TRY_MOVE"),e.move=r.actionCreator("FOLDER_MOVE"),e.del=r.actionCreator("FOLDER_DELETE"),e.turnOffSlackNotifications=r.actionCreator("FOLDER_TURN_OFF_SLACK_NOTIFICATIONS"),e.updateFolderAccess=r.actionCreator("FOLDER_UPDATE_FOLDER_ACCESS"),e.fetchedRoles=r.actionCreator("FOLDER_FETCHED_ROLES"),e.postPinnedFile=r.actionCreator("FOLDER_ADD_PINNED_FILE"),e.delPinnedFile=r.actionCreator("FOLDER_DEL_PINNED_FILE"),e.setPinnedFiles=r.actionCreator("FOLDER_SET_PINNED_FILE"),e.getPinnedFiles=s.asyncActionCreator("FOLDER_GET_PINNED_FILE",(e,t)=>{a.default.get(`/api/folders/${t.folderId}/pinned_files`).then(i=>{e.dispatch(h.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:i.data.meta}))}).catch(t=>{e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to fetch pinned files."))})}),e.pinFile=s.optimisticActionCreator("FOLDER_PIN_FILE",(e,t,i)=>{a.default.post(`/api/folders/${t.fileKey}/pin`).then(o=>{e.dispatch(s.optimistActions.commit(i)),e.dispatch(h.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:o.data.meta})),e.dispatch(f.visualBell.enqueue({error:!1,message:"File pinned to project"}))}).catch(t=>{e.dispatch(s.optimistActions.revert(i)),e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to pin file."))})}),e.unpinFile=s.optimisticActionCreator("FOLDER_UNPIN_FILE",(e,t,i)=>{a.default.del(`/api/folders/${t.fileKey}/pin`).then(o=>{e.dispatch(s.optimistActions.commit(i)),e.dispatch(h.setPinnedFiles({folderId:t.folderId,fileKeysToUserName:o.data.meta}))}).catch(t=>{e.dispatch(s.optimistActions.revert(i)),e.dispatch(l.flashActions.flash(t.message||"An error occurred while trying to upin file."))})}),e.updateDescription=s.optimisticActionCreator("FOLDER_DESCRIPTION_UPDATE",(t,i,o)=>{a.default.put(`/api/folders/${i.folderId}/description`,{description:i.description}).then(i=>{t.dispatch(s.optimistActions.commit(o)),t.dispatch(e.put({folder:i.data.meta}))}).catch(e=>{t.dispatch(s.optimistActions.commit(o)),console.error(e),t.dispatch(l.flashActions.error("Unable to update description"))})})}(h=t.folder||(t.folder={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(98                  );!function(e){e.put=o.actionCreator("ORGS_PUT"),e.switchActiveOrgAndSetCurrentOrgId=o.actionCreator("ORGS_SWITCH_ACTIVE_ORG"),e.selectViewAndLoadItsResources=o.actionCreator("ORGS_SELECT_VIEW"),e.selectAdminView=o.actionCreator("ORGS_SELECTED_ADMIN_VIEW"),e.setCurrentOrgId=o.actionCreator("ORGS_SET_ORG_ID"),e.sortTeamsBy=o.actionCreator("ORGS_SORT_TEAMS_BY"),e.resetDashboard=o.actionCreator("ORGS_RESET_DASHBOARD"),e.deleteOrg=o.actionCreator("ORGS_DELETE_ORG"),e.deleteOrgUser=o.actionCreator("ORGS_DELETE_ORG_USER")}(t.orgs||(t.orgs={}))}),
(function(T,t,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=E(98                  );!function(T){T.startTestRun=e.actionCreator("INTERACTION_TEST_START"),T.startRecording=e.actionCreator("INTERACTION_TEST_START_RECORDING"),T.recordEvent=e.actionCreator("INTERACTION_TEST_RECORD_EVENT"),T.stopRecording=e.actionCreator("INTERACTION_TEST_STOP_RECORDING"),T.exportRecording=e.actionCreator("INTERACTION_TEST_EXPORT_RECORDING"),T.updateExportSettings=e.actionCreator("INTERACTION_TEST_UPDATE_EXPORT_SETTINGS"),T.doneExporting=e.actionCreator("INERACTION_TEST_DONE_EXPORTING"),T.updatePretestCommands=e.actionCreator("INTERACTION_TEST_UPDATE_PRETEST_COMMANDS"),T.showRecorder=e.actionCreator("INTERACTION_TEST_SHOW_RECORDER"),T.hideRecorder=e.actionCreator("INTERACTION_TEST_HIDE_RECORDER")}(t.interactionTest||(t.interactionTest={}))}),
(function(_,O,A){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.TILE_COPY_LINK_MODAL="tile-copy-link-modal",O.FOLDER_DELETE_CONFIRM_MODAL="folder-delete-confirm-modal",O.FOLDER_SLACK_SETTINGS_MODAL="folder-slack-settings-modal",O.CONFIRM_TRANSFER_OWNERSHIP_MODAL="confirm-transfer-ownership-modal",O.CONFIRM_REMOVE_ROLE_MODAL="confirm-remove-role-modal",O.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL="confirm-reduce-link-access-and-lose-edit-rights-modal",O.CONFIRM_ORG_GUEST_INVITE_MODAL="confirm-org-guest-invite-modal",O.TEAM_FOLDER_MOVE_CONFIRM_MODAL="team-folder-move-confirm-modal",O.FILE_MOVE_CONFIRM_MODAL="file-move-confirm-modal",O.CONFIRM_COMMENT_DELETION_MODAL="confirm-comment-deletion-modal",O.CONFIRM_COMMENT_MENTION_MODAL="confirm-comment-mention-modal",O.PUBLISH_COMPONENTS_MODAL="publish-components-modal",O.CONFIRM_UNPUBLISH_COMPONENTS="confirm-unpublish-components",O.UPGRADING_MODAL="upgrading-modal",O.PRO_PITCH_MODAL="pro-pitch-modal",O.MORE_PAYMENT_OPTIONS_MODAL="more-payment-options-modal",O.CONFIRM_SEATS_MODAL="confirm-seats-modal",O.TEAM_ADMIN_USER_DETAILS_MODAL="team-admin-user-details-modal",O.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR="team-admin-confirm-remove-editor",O.TEAM_ADMIN_CHANGE_PAYMENT="team-admin-change-payment",O.TEAM_ADMIN_CONFIRM_DOWNGRADE="team-admin-confirm-downgrade",O.TEAM_ADMIN_CHANGE_ANNUAL_PLAN="team-admin-change-annual-plan",O.TEAM_ADMIN_CANCEL_ANNUAL_PLAN="team-admin-cancel-annual-plan",O.TEAM_ADMIN_CHANGE_INVOICE_RECEIVER="team-admin-change-invoice-receiver",O.TEAM_CONFIRM_LEAVE_MODAL="team-confirm-leave-modal",O.TEAM_CONFIRM_DELETE_MODAL="team-confirm-delete-modal",O.NEW_FOLDER_MODAL="new-project-modal",O.LEAVE_UNSAVED_DOCUMENT_MODAL="leave-unsaved-document-modal",O.IMPORT_PLUGIN_MODAL="import-plugin-modal",O.CONFIRMATION_MODAL="CONFIRMATION_MODAL",O.TEAM_USAGE_MODAL="TEAM_USAGE_MODAL",O.FONT_INSTALLER_MODAL="fullscreen-font-installer-modal",O.ATTEMPTED_SKETCH_FILE_DROP_MODAL="fullscreen-attempted-sketch-file-drop-modal",O.RESTORE_COMPONENT_MODAL="fullscreen-restore-component-modal",O.DROPDOWN_TYPE_PAGE_PICKER="DROPDOWN_TYPE_PAGE_PICKER",O.ORG_DASHBOARD_MODAL="ORG_DASHBOARD_MODAL",O.REQUEST_ACCESS_MODAL="REQUEST_ACCESS_MODAL",O.VIEW_RESTRICTED_FILE_MODAL="VIEW_RESTRICTED_FILE_MODAL",O.ORG_INVITE_MODAL="ORG_INVITE_MODAL",O.CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL="CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL",O.CHANGE_PASSWORD_MODAL="CHANGE_PASSWORD_MODAL",O.INVALIDATE_SESSIONS="INVALIDATE_SESSIONS",O.SETUP_PHONE_MODAL="SETUP_PHONE_MODAL",O.DISABLE_TWO_FACTOR_MODAL="DISABLE_TWO_FACTOR_MODAL",O.TWO_FACTOR_RECOVERY_MODAL="TWO_FACTOR_RECOVERY_MODAL",O.EMAIL_ACTIVITY_MODAL="EMAIL_ACTIVITY_MODAL",O.CHANGE_EMAIL_MODAL="CHANGE_EMAIL_MODAL",O.CHANGE_NAME_MODAL="CHANGE_NAME_MODAL",O.DELETE_USER_ACCOUNT_MODAL="DELETE_USER_ACCOUNT_MODAL",O.REQUIRE_SSO_MODAL="REQUIRE_SSO_MODAL",O.PROVISIONING_API_TOKEN_MODAL="PROVISIONING_API_TOKEN_MODAL",O.CONFIGURE_SAML_MODAL="CONFIGURE_SAML_MODAL",O.CONFIGURE_SAML_CONFIRMATION_MODAL="CONFIGURE_SAML_CONFIRMATION_MODAL",O.LEAVE_ORG_CONFIRMATION_MODAL="LEAVE_ORG_CONFIRMATION_MODAL",O.LICENSE_AGREEMENT_MODAL="LICENSE_AGREEMENT_MODAL",O.BLOCK_MOVING_PRIVATE_PROJECT="BLOCK_MOVING_PRIVATE_PROJECT",O.LIBRARY_PREFERENCES_MODAL="LIBRARY_PREFERENCES_MODAL",O.SHARED_FONTS_MODAL="SHARED_FONTS_MODAL",O.PLUGIN_PUBLISH_MODAL="PLUGIN_PUBLISH_MODAL",O.PLUGIN_INSTALL_MODAL="PLUGIN_INSTALL_MODAL",O.PLUGIN_UNINSTALL_MODAL="PLUGIN_UNINSTALL_MODAL",O.HUB_FILE_PUBLISH_MODAL="HUB_FILE_PUBLISH_MODAL"}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=e(98                  ),r=e(115          ),s=e(124     ),i=e(105                               ),c=e(106                                     ),n=e(94                                   ),E=e(136                            );!function(t){t.resourceDelete=o.actionCreator("TEAM_RESOURCE_DELETE"),t.submitNewTeam=o.actionCreator("TEAM_SUBMIT_NEW_TEAM"),t.get=o.actionCreator("TEAM_GET"),t.post=o.actionCreator("TEAM_POST"),t.del=o.actionCreator("TEAM_DELETE"),t.put=o.actionCreator("TEAM_PUT"),t.rename=o.actionCreator("TEAM_RENAME"),t.changeOrgAccess=o.actionCreator("TEAM_CHANGE_ORG_ACCESS"),t.fetchedRoles=o.actionCreator("TEAM_FETCHED_ROLES"),t.setLoading=o.actionCreator("TEAM_CREATION_SET_LOADING"),t.beginRename=o.actionCreator("TEAM_BEGIN_RENAME"),t.stopRename=o.actionCreator("TEAM_STOP_RENAME"),t.onJoin=o.actionCreator("TEAM_JOIN"),t.updateDescription=i.asyncActionCreator("TEAM_DESCRIPTION_UPDATE",(a,e)=>{s.default.put(`/api/teams/${e.teamId}`,{description:e.description}).then(({data:o})=>{a.dispatch(t.put({team:{id:e.teamId,description:e.description},userInitiated:!0}))}).catch(t=>{console.error(t),a.dispatch(n.flash.error("Unable to update description"))})}),t.restoreTeam=i.asyncActionCreator("TEAM_RESTORE",(t,a)=>{const{teamId:e}=a;s.default.put(`/api/teams/${e}/restore`).then(({data:a})=>{const o=`/files/team/${e}`;r.redirect(o),t.dispatch(n.flash.flash("Successfully restored team."))}).catch(a=>{t.dispatch(n.flash.error(`Could not restore team: ${a.data.message}`))})}),t.onTeamDelete=i.asyncActionCreator("ON_TEAM_DELETE",(t,{teamId:a,isOrgTeam:e})=>{s.default.get(`/api/teams/${a}/subscription_status`).then(({data:e})=>{const o=e.meta&&e.meta.subscription_will_renew;t.dispatch(c.fileBrowser.showModal({type:E.TEAM_CONFIRM_DELETE_MODAL,data:{teamId:a,subscriptionStatus:o}}))}).catch(o=>{e&&"Not applicable to an org team"===o.data.message?t.dispatch(c.fileBrowser.showModal({type:E.TEAM_CONFIRM_DELETE_MODAL,data:{teamId:a,subscriptionStatus:!0}})):t.dispatch(n.flash.error(o.data.message))})})}(a.team||(a.team={}))}),
(function(E,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(98                  );!function(E){E.new_=o.actionCreator("FULLSCREEN_NEW"),E.open=o.actionCreator("FULLSCREEN_OPEN"),E.close=o.actionCreator("FULLSCREEN_CLOSE"),E.newFileLoaded=o.actionCreator("NEW_FILE_LOADED"),E.attemptClose=o.actionCreator("FULLSCREEN_ATTEMPT_CLOSE"),E.reconnectingStarted=o.actionCreator("FULLSCREEN_RECONNECTING_STARTED"),E.reconnectingSucceeded=o.actionCreator("FULLSCREEN_RECONNECTING_SUCCEEDED"),E.showOpenDesktopAppModal=o.actionCreator("FULLSCREEN_SHOW_OPEN_DESKTOP_APP_MODAL"),E.hideOpenDesktopAppModal=o.actionCreator("FULLSCREEN_HIDE_OPEN_DESKTOP_APP_MODAL"),E.documentLoaded=o.actionCreator("FULLSCREEN_DOCUMENT_LOADED"),E.setSaveStatus=o.actionCreator("FULLSCREEN_SET_SAVE_STATUS"),E.updateMultiplayerState=o.actionCreator("FULLSCREEN_UPDATE_MULTIPLAYER_STATE"),E.stopObservingOtherUser=o.actionCreator("FULLSCREEN_STOP_OBSERVING_OTHER_USER"),E.enterVersionHistoryMode=o.actionCreator("FULLSCREEN_ENTER_VERSION_HISTORY_MODE"),E.requestThumbnailRender=o.actionCreator("FULLSCREEN_REQUEST_THUMBNAIL_RENDER"),E.setProgressBarMode=o.actionCreator("FULLSCREEN_SET_PROGRESS_BAR_MODE"),E.updateMirror=o.actionCreator("FULLSCREEN_UPDATE_MIRROR"),E.updateSelectedStyleProperties=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_PROPERTIES"),E.updateSelectedStyleThumbnailURL=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_THUMBNAIL_URL"),E.handlePopState=o.actionCreator("FULLSCREEN_HANDLE_POP_STATE"),E.beginRenaming=o.actionCreator("FULLSCREEN_BEGIN_RENAMING"),E.stopRenaming=o.actionCreator("FULLSCREEN_STOP_RENAMING"),E.updateFontList=o.actionCreator("FULLSCREEN_UPDATE_FONT_LIST"),E.computeExport=o.actionCreator("FULLSCREEN_COMPUTE_EXPORT"),E.showPicker=o.actionCreator("FULLSCREEN_SHOW_PICKER"),E.hidePicker=o.actionCreator("FULLSCREEN_HIDE_PICKER"),E.showUpgradeBanner=o.actionCreator("FULLSCREEN_SHOW_UPGRADE_BANNER"),E.hideUpgradeBanner=o.actionCreator("FULLSCREEN_HIDE_UPGRADE_BANNER"),E.setLeftPanelTab=o.actionCreator("FULLSCREEN_SET_LEFT_PANEL_TAB"),E.trackEvent=o.actionCreator("FULLSCREEN_TRACK_EVENT"),E.setEyedropper=o.actionCreator("FULLSCREEN_SET_EYEDROPPER"),E.setHyperlinkStatusBar=o.actionCreator("FULLSCREEN_SET_HYPERLINK_STATUS_BAR"),E.showAsyncDetachModal=o.actionCreator("SHOW_ASYNC_DETACH_MODAL"),E.hideAsyncDetachModal=o.actionCreator("HIDE_ASYNC_DETACH_MODAL"),E.setRecentlyUsedQuickCommands=o.actionCreator("RECENTLY_USED_QUICK_COMMANDS"),E.setMostRecentContextMenuClickPosition=o.actionCreator("MOST_RECENT_CONTEXT_MENU_CLICK_POSITION"),E.showProgressBellForSaveAs=o.actionCreator("SHOW_PROGRESS_BELL_FOR_SAVE_AS"),E.cancelSaveAs=o.actionCreator("CANCEL_SAVE_AS"),E.beginSaveAs=o.actionCreator("BEGIN_SAVE_AS")}(e.fullscreen||(e.fullscreen={}))}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HOME="",e.MEMBERS="members",e.SETTINGS="settings",e.PROFILE="profile"}(i.TeamViewTab||(i.TeamViewTab={}))}),
(function(e,t,i){"use strict";var a=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i};Object.defineProperty(t,"__esModule",{value:!0});const n=i(133                               ),r=i(106                                     ),s=i(134                             ),o=i(135                                         ),l=i(137                             ),c=i(138                                   ),f=i(111                        ),d=i(139                         );function m(e=t.EMPTY_SELECTED_VIEW,i){if(l.team.del.matches(i)){if("team"===e.view&&e.teamId===i.payload.team.id)return{view:"recentFiles"}}else{if(o.interactionTest.startTestRun.matches(i))return{view:"fullscreen",fileKey:i.payload.fakeFileKey};if(s.orgs.selectAdminView.matches(i))return Object.assign(Object.assign({},e),{orgDashboardTab:null,sortType:void 0});if(r.fileBrowser.selectView.matches(i)){const e=i.payload,{fromPopstate:t,forceReplaceState:n}=e;return a(e,["fromPopstate","forceReplaceState"])}if(c.fullscreen.newFileLoaded.matches(i))return Object.assign(Object.assign({},e),{fileKey:i.payload.file.key});if(n.folder.del.matches(i)&&"folder"===e.view&&e.folderId===i.payload.folderId)return{view:"recentFiles"}}return e}t.nodeId=function(e){return"fullscreen"===e.view&&e.nodeId||null},t.editingFileKey=function(e){return("fullscreen"===e.view||"prototype"===e.view)&&e.fileKey||null},t.selectedViewHasMissingResources=function(e,t){return!(("folder"!==e.view||e.folderId in t.folders)&&("team"!==e.view||e.teamViewTab===d.TeamViewTab.PROFILE||f.canViewTeam(e.teamId,t))&&("activityLogs"!==e.view||f.canAdminOrg(t.currentOrgId,t))&&("configureSSO"!==e.view||f.canAdminOrg(t.currentOrgId,t))&&("teamUpgrade"!==e.view||e.teamId in t.teams)&&("addAnnualPlan"!==e.view||e.teamId in t.teams)&&("teamAdmin"!==e.view||e.teamId in t.teams)&&("teamInvoices"!==e.view||e.teamId in t.teams)&&("fullscreen"!==e.view&&"prototype"!==e.view||!e.fileKey||e.fileKey in t.fileByKey))},t.EMPTY_SELECTED_VIEW={view:"recentFiles"},t.selectedView=m,t.default=m}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(111                        ),i=n(95                      ),s=n(140                               );function l(e){return"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null}function c(e){return e.currentOrgId?e.orgById[e.currentOrgId]:null}t.fullscreenHasUnsavedChanges=function(e){return!!(e.selectedView&&"fullscreen"===e.selectedView.view&&e.saveStatus&&e.saveStatus.hasUnsavedChanges)},t.getEditingFile=function(e){const t=s.editingFileKey(e.selectedView);return t?e.fileByKey[t]:null},t.getSelectedFolder=l,t.getNewFileInfoState=function(e){return Object.assign(Object.assign({},r.getPermissionsState(e)),{selectedView:e.selectedView,currentOrgId:e.currentOrgId})},t.getSelectedOrg=c,t.getNewFileInfo=function(e,t,n=!1,r){let s=null;const d=l(e);n||!d||i.isFolderEditingLockedForUser(d,e)||(s=d.id);let o=null;const u=c(e);return u&&(o=u.id),{folder_id:s,org_id:o,openInNewTab:t,trackingInfo:r||null}},t.stateWithoutMirror=(e=>{const t=Object.assign({},e);return delete t.mirror,t})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalReduxStore=function(e){t.globalReduxStore=e;{const t=Date.now,o=JSON.parse,s=JSON.stringify;window.store={getState(){console.warn("This API is intended only for debugging. Please wait 5 seconds.");const n=t();for(;t()-n<5e3;);return o(s(e.getState()))},dispatch(){console.error("Action dispatch is disabled in release builds")}}}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(142                   ),o=r(85                   ),i=r(126          ),s=r(124     ),a=r(86      ),l=r(117              ),c=10;let _=0;const u=""+Math.random();function d(e){return!!/Invalid fit value:/.test(e)||(!!/Calling "\/api\/file_metadata\/:file_key" failed/.test(e)||(!!/Fetching https:\/\/static\.figma\.com\/fullscreen\//.test(e)||(!!/Failed to load https:\/\/static\.figma\.com\/fullscreen\//.test(e)||!!/Cannot initialize fullscreen with an outdated desktop app shell/.test(e))))}function m(e){const t=[e.slice(0,512),e.slice(512,1024),e.slice(1024,1536),e.slice(1536,2048),e.slice(2048,2560)];return{raw_stack:t[0],raw_stack2:t[1],raw_stack3:t[2],raw_stack4:t[3],raw_stack5:t[4]}}t.shouldIgnoreErrorForDashboard=d,t.splitStackIntoSegmentSizes=m,function(e){e.DESKTOP_CLIENT="desktop_client",e.WEB_CLIENT="web_client",e.CLIENT_ADMIN="client_admin",e.CLIENT_EDITOR="client_editor",e.CLIENT_FILE_PICKER="client_file_picker",e.CLIENT_MIRROR_APP="client_mirror_app",e.CLIENT_MOBILE_VIEWER="client_mobile_viewer",e.CLIENT_AUTH="client_auth",e.CLIENT_OAUTH="client_oauth",e.CLIENT_RECEIPT="client_receipt",e.CLIENT_TRELLO="client_trello",e.CLIENT_DEVELOPER_SITE="client_developer_site",e.EMBED_TRELLO="embed_trello",e.SINATRA="sinatra",e.RESQUE_WORKER="figma-worker",e.REALTIME="go-realtime"}(t.ExecutionContext||(t.ExecutionContext={})),function(e){e.CPP="c++",e.TYPESCRIPT="ts",e.SKEW="skew",e.RUBY="ruby",e.RUST="rust",e.GOLANG="golang",e.UNKNOWN="unknown"}(t.SourceLanguage||(t.SourceLanguage={}));function p(e,t,r,c){let d=i.segment.userId||"";const m=n.globalReduxStore;if(m){const e=m.getState();e.user&&(d=e.user.id)}let p={executionContext:r.executionContext,sourceLanguage:r.sourceLanguage,timestamp:(new Date).toISOString(),userID:d||"",sessionID:i.segment.anonymousId||u,sessionErrorIndex:_,errorMessage:e,errorStack:t||"",browserName:l.desktopApp?"Figma Desktop":a.name,browserVersion:l.desktopApp?l.desktopApp.getInformationalVersion():""+a.version,release:o.initialOptions().release_git_commit||"dummy_release_version-"+Math.random(),OSName:a.osname,OSVersion:""+a.osversion,cluster:o.initialOptions().cluster_name||"",tags:JSON.stringify(c)||""};o.initialOptions().error_dashboard_url&&s.default.post(`${o.initialOptions().error_dashboard_url}/errors`,p).catch(()=>{})}function g(e,t,r,n){!(t||"Script error."!==e&&"UnknownError"!==e)||null===t&&"Uncaught SyntaxError: Unexpected identifier"===e||function(e,t){return!!(/\bintercomcdn\.com\b/.test(t)||/\bkaspersky-labs\.com\b/.test(t)||/\bchrome-extension:\/\//.test(t)||/\bmoz-extension:\/\//.test(t)||/\bsafari-extension:\/\//.test(t)||/a\[b\]\.target\.className\.indexOf is not a function/.test(e)||/\(event\.target\.className \|\| ""\)\.indexOf is not a function/.test(e))}(e,t+="")||_>c||(p(e=function(e){let t=e.replace(/(Out of executable memory in function at index )\d+/,"$1XXX");return t!==e?t:e}(e),t,r,n),++_>1||(function(e,t){if(o.initialOptions().report_frontend_exceptions_to_slack){const r=o.initialOptions().user_data;s.default.post("/api/exceptions/frontend",{email:r&&r.email,url:window.location.href,commit:o.initialOptions().release_git_commit,message:e,stack:t,browser_name:l.desktopApp?"Figma Desktop":a.name,browser_version:+a.version,os_name:a.osname,os_version:a.osversion,release:o.initialOptions().release_git_commit,release_tag:o.initialOptions().release_git_tag})}}(e,t),function(e,t){let r=Object.assign(Object.assign({message:e,release:o.initialOptions().release_git_commit},m(t)),{ignore:d(e),is_assert:!!e.match(/Assertion failure:/)});i.segment.track("unhandled_error",r)}(e,t)))}t.ErrorHandler=class{constructor(e){this.errorContext=e,p("error_handler_initialized","",this.errorContext)}raiseError(e){if(e instanceof Error)g(e.toString(),e.stack||"",this.errorContext),console.error(e);else{let t=new Error(e);g(t.toString(),t.stack||"",this.errorContext),console.error(t)}}setGlobalErrorHandler(){window.addEventListener("error",e=>{let t=e.error&&e.error.stack;g(e.message,t,this.errorContext)}),o.getFeatureFlags().unhandled_rejection&&addEventListener("unhandledrejection",e=>{let t=e.reason,r=t&&t.stack;const n=t&&(t.message||t.type)||t;let o="???";try{"class Object"===(o=`class ${Object.prototype.toString.call(t).slice(8,-1)}`)&&t&&t.constructor&&t.constructor.name&&(o=`constructor ${t.constructor.name}`)}catch(i){}g(`Unhandled rejection [${o}]: ${n}`,r,this.errorContext)})}}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=n(143                );n(127             );function t(){return new o.ErrorHandler({sourceLanguage:o.SourceLanguage.TYPESCRIPT,executionContext:o.ExecutionContext.CLIENT_EDITOR})}r.errorHandler=t()}),
(function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class e{constructor(t=0,r=0){this.x=t,this.y=r}clone(){return new e(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}toString(){return`(${this.x}, ${this.y})`}add(t){return new e(this.x+t.x,this.y+t.y)}static add(t,r){return{x:t.x+r.x,y:t.y+r.y}}subtract(t){return new e(this.x-t.x,this.y-t.y)}static subtract(t,r){return{x:t.x-r.x,y:t.y-r.y}}multiply(t){return new e(this.x*t.x,this.y*t.y)}divide(t){return new e(this.x/t.x,this.y/t.y)}dot(t){return e.dot(this,t)}static dot(t,r){return t.x*r.x+t.y*r.y}rounded(){return new e(Math.round(this.x),Math.round(this.y))}static rounded(t){return{x:Math.round(t.x),y:Math.round(t.y)}}static size(t){return Math.sqrt(e.dot(t,t))}distanceTo(t){return e.size(this.subtract(t))}static distance(t,r){return e.size(e.subtract(t,r))}clamp(t){return new e(Math.max(t.x,Math.min(t.x+t.width,this.x)),Math.max(t.y,Math.min(t.y+t.height,this.y)))}}r.Vector=e,r.contains=function(t,r){return r.x>=t.x&&r.y>=t.y&&r.x<=t.x+t.width&&r.y<=t.y+t.height},r.area=function(t){return t.width*t.height}}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});r(127             );let i;n.fullscreenBindingsReady=new Promise(e=>{i=e}),n.setFullscreenBindings=(e=>{n.fullscreen=e,i()}),n.isFramerFullscreenView=(e=>"framer"===e.integrationId)}),
(function(E,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NO_TEAM_ID="NO_TEAM",function(E){E.THIRTY_DAYS="30 Days",E.SIXTY_DAYS="60 Days",E.NINETY_DAYS="90 Days",E.YEAR="Year"}(e.SubscriptionFileViewDuration||(e.SubscriptionFileViewDuration={})),e.DEFAULT_LIBRARIES={totalLibraries:0,totalComponents:0,totalStyles:0,teamsWithLibraries:0,files:[]},function(E){E[E.COMPONENT=0]="COMPONENT",E[E.STYLE=1]="STYLE"}(e.LibraryItemType||(e.LibraryItemType={})),function(E){E[E.NEW=0]="NEW",E[E.CURRENT=1]="CURRENT",E[E.CHANGED=2]="CHANGED",E[E.DELETED=3]="DELETED",E[E.NOT_STAGED=4]="NOT_STAGED",E[E.CAN_UPGRADE=5]="CAN_UPGRADE"}(e.LibraryStatus||(e.LibraryStatus={})),function(E){E[E.NONE=0]="NONE",E[E.ASSEMBLING_COMPONENTS=1]="ASSEMBLING_COMPONENTS",E[E.UPLOADING=2]="UPLOADING"}(e.PublishProgressState||(e.PublishProgressState={})),function(E){E[E.LIBRARIES=0]="LIBRARIES",E[E.FONTS=1]="FONTS",E[E.UPDATES=2]="UPDATES"}(e.LibraryPreferencesModalTab||(e.LibraryPreferencesModalTab={}))}),
(function(r,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quote=function(r){return JSON.stringify(r)},e.error=function(r,e,n){var t=new Error(r);throw t.line=e,t.column=n,t}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(148);t.nativeTypes=["bool","byte","float","int","string","uint"],t.reservedNames=["ByteBuffer","package"];let i=/((?:-|\b)\d+\b|[=;{}]|\[\]|\[deprecated\]|\b[A-Za-z_][A-Za-z0-9_]*\b|\/\/.*|\s+)/g,r=/^[A-Za-z_][A-Za-z0-9_]*$/,o=/^\/\/.*|\s+$/,u=/^=$/,f=/^$/,s=/^;$/,d=/^-?\d+$/,a=/^\{$/,c=/^\}$/,m=/^\[\]$/,h=/^enum$/,p=/^struct$/,g=/^message$/,x=/^package$/,y=/^\[deprecated\]$/;t.parseSchema=function(e){let n=function(e){function t(){return e[$]}function n(e){return!!e.test(t().text)&&($++,!0)}function i(e,i){if(!n(e)){let e=t();l.error("Expected "+i+" but found "+l.quote(e.text),e.line,e.column)}}function o(){let e=t();l.error("Unexpected token "+l.quote(e.text),e.line,e.column)}let v=[],T=null,$=0;for(n(x)&&(T=t().text,i(r,"identifier"),i(s,'";"'));$<e.length&&!n(f);){let e,f=[];n(h)?e="ENUM":n(p)?e="STRUCT":n(g)?e="MESSAGE":o();let x=t();for(i(r,"identifier"),i(a,'"{"');!n(c);){let o=null,a=!1,c=!1;"ENUM"!==e&&(o=t().text,i(r,"identifier"),a=n(m));let h=t();i(r,"identifier");let p=null;"STRUCT"!==e&&(i(u,'"="'),p=t(),i(d,"integer"),(0|+p.text)+""!==p.text&&l.error("Invalid integer "+l.quote(p.text),p.line,p.column));let g=t();n(y)&&("MESSAGE"!==e&&l.error("Cannot deprecate this field",g.line,g.column),c=!0),i(s,'";"'),f.push({name:h.text,line:h.line,column:h.column,type:o,isArray:a,isDeprecated:c,value:null!==p?0|+p.text:f.length+1})}v.push({name:x.text,line:x.line,column:x.column,kind:e,fields:f})}return{package:T,definitions:v}}(function(e){let t=e.split(i),n=[],r=0,u=0;for(let i=0;i<t.length;i++){let e=t[i];1&i?o.test(e)||n.push({text:e,line:u+1,column:r+1}):""!==e&&l.error("Syntax error "+l.quote(e),u+1,r+1);let f=e.split("\n");f.length>1&&(r=0),u+=f.length-1,r+=f[f.length-1].length}return n.push({text:"",line:u,column:r}),n}(e));return function(e){let n=t.nativeTypes.slice(),i={};for(let u=0;u<e.definitions.length;u++){let r=e.definitions[u];-1!==n.indexOf(r.name)&&l.error("The type "+l.quote(r.name)+" is defined twice",r.line,r.column),-1!==t.reservedNames.indexOf(r.name)&&l.error("The type name "+l.quote(r.name)+" is reserved",r.line,r.column),n.push(r.name),i[r.name]=r}for(let t=0;t<e.definitions.length;t++){let i=e.definitions[t],r=i.fields;if("ENUM"===i.kind||0===r.length)continue;for(let e=0;e<r.length;e++){let t=r[e];-1===n.indexOf(t.type)&&l.error("The type "+l.quote(t.type)+" is not defined for field "+l.quote(t.name),t.line,t.column)}let o=[];for(let e=0;e<r.length;e++){let t=r[e];-1!==o.indexOf(t.value)&&l.error("The id for field "+l.quote(t.name)+" is used twice",t.line,t.column),t.value<=0&&l.error("The id for field "+l.quote(t.name)+" must be positive",t.line,t.column),t.value>r.length&&l.error("The id for field "+l.quote(t.name)+" cannot be larger than "+r.length,t.line,t.column),o.push(t.value)}}let r={},o=e=>{let t=i[e];if(t&&"STRUCT"===t.kind&&(1===r[e]&&l.error("Recursive nesting of "+l.quote(e)+" is not allowed",t.line,t.column),2!==r[e]&&t)){r[e]=1;let n=t.fields;for(let e=0;e<n.length;e++){let t=n[e];t.isArray||o(t.type)}r[e]=2}return!0};for(let t=0;t<e.definitions.length;t++)o(e.definitions[t].name)}(n),n}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=new Int32Array(1),a=new Float32Array(i.buffer);e.ByteBuffer=class{constructor(t){if(t&&!(t instanceof Uint8Array))throw new Error("Must initialize a ByteBuffer with a Uint8Array");this._data=t||new Uint8Array(256),this._index=0,this.length=t?t.length:0}toUint8Array(){return this._data.subarray(0,this.length)}readByte(){if(this._index+1>this._data.length)throw new Error("Index out of bounds");return this._data[this._index++]}readByteArray(){let t=this.readVarUint(),e=this._index,r=e+t;if(r>this._data.length)throw new Error("Read array out of bounds");this._index=r;let i=new Uint8Array(t);return i.set(this._data.subarray(e,r)),i}readVarFloat(){let t=this._index,e=this._data,r=e.length;if(t+1>r)throw new Error("Index out of bounds");let n=e[t];if(0===n)return this._index=t+1,0;if(t+4>r)throw new Error("Index out of bounds");let h=n|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;return this._index=t+4,h=h<<23|h>>>9,i[0]=h,a[0]}readVarUint(){let t=0,e=0;do{var r=this.readByte();t|=(127&r)<<e,e+=7}while(128&r&&e<35);return t>>>0}readVarInt(){let t=0|this.readVarUint();return 1&t?~(t>>>1):t>>>1}readString(){let t="";for(;;){let e,r=this.readByte();if(r<192)e=r;else{let t=this.readByte();if(r<224)e=(31&r)<<6|63&t;else{let i=this.readByte();e=r<240?(15&r)<<12|(63&t)<<6|63&i:(7&r)<<18|(63&t)<<12|(63&i)<<6|63&this.readByte()}}if(0===e)break;e<65536?t+=String.fromCharCode(e):(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return t}_growBy(t){if(this.length+t>this._data.length){let e=new Uint8Array(this.length+t<<1);e.set(this._data),this._data=e}this.length+=t}writeByte(t){let e=this.length;this._growBy(1),this._data[e]=t}writeByteArray(t){this.writeVarUint(t.length);let e=this.length;this._growBy(t.length),this._data.set(t,e)}writeVarFloat(t){let e=this.length;a[0]=t;let r=i[0];if(0==(255&(r=r>>>23|r<<9)))return void this.writeByte(0);this._growBy(4);let n=this._data;n[e]=r,n[e+1]=r>>8,n[e+2]=r>>16,n[e+3]=r>>24}writeVarUint(t){do{let e=127&t;t>>>=7,this.writeByte(t?128|e:e)}while(t)}writeVarInt(t){this.writeVarUint(t<<1^t>>31)}writeString(t){let e;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(0===(e=r+1===t.length||i<55296||i>=56320?i:(i<<10)+t.charCodeAt(++r)+-56613888))throw new Error("Cannot encode a string containing the null character");e<128?this.writeByte(e):(e<2048?this.writeByte(e>>6&31|192):(e<65536?this.writeByte(e>>12&15|224):(this.writeByte(e>>18&7|240),this.writeByte(e>>12&63|128)),this.writeByte(e>>6&63|128)),this.writeByte(63&e|128))}this.writeByte(0)}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const u=r(150),s=r(148);function a(e,t){let r=[],u="  ";r.push("function(bb) {"),r.push("  var result = {};"),r.push("  if (!(bb instanceof this.ByteBuffer)) {"),r.push("    bb = new this.ByteBuffer(bb);"),r.push("  }"),r.push(""),"MESSAGE"===e.kind&&(r.push("  while (true) {"),r.push("    switch (bb.readVarUint()) {"),r.push("    case 0:"),r.push("      return result;"),r.push(""),u="      ");for(let a=0;a<e.fields.length;a++){let n,i=e.fields[a];switch(i.type){case"bool":n="!!bb.readByte()";break;case"byte":n="bb.readByte()";break;case"int":n="bb.readVarInt()";break;case"uint":n="bb.readVarUint()";break;case"float":n="bb.readVarFloat()";break;case"string":n="bb.readString()";break;default:{let e=t[i.type];e?n="ENUM"===e.kind?"this["+s.quote(e.name)+"][bb.readVarUint()]":"this["+s.quote("decode"+e.name)+"](bb)":s.error("Invalid type "+s.quote(i.type)+" for field "+s.quote(i.name),i.line,i.column)}}"MESSAGE"===e.kind&&r.push("    case "+i.value+":"),i.isArray?i.isDeprecated?"byte"===i.type?r.push(u+"bb.readByteArray();"):(r.push(u+"var length = bb.readVarUint();"),r.push(u+"while (length-- > 0) "+n+";")):"byte"===i.type?r.push(u+"result["+s.quote(i.name)+"] = bb.readByteArray();"):(r.push(u+"var length = bb.readVarUint();"),r.push(u+"var values = result["+s.quote(i.name)+"] = [];"),r.push(u+"while (length-- > 0) values.push("+n+");")):i.isDeprecated?r.push(u+n+";"):r.push(u+"result["+s.quote(i.name)+"] = "+n+";"),"MESSAGE"===e.kind&&(r.push("      break;"),r.push(""))}return"MESSAGE"===e.kind?(r.push("    default:"),r.push('      throw new Error("Attempted to parse invalid message");'),r.push("    }"),r.push("  }")):r.push("  return result;"),r.push("}"),r.join("\n")}function n(e,t){let r=[];r.push("function(message, bb) {"),r.push("  var isTopLevel = !bb;"),r.push("  if (isTopLevel) bb = new this.ByteBuffer();");for(let u=0;u<e.fields.length;u++){let a,n=e.fields[u];if(!n.isDeprecated){switch(n.type){case"bool":case"byte":a="bb.writeByte(value);";break;case"int":a="bb.writeVarInt(value);";break;case"uint":a="bb.writeVarUint(value);";break;case"float":a="bb.writeVarFloat(value);";break;case"string":a="bb.writeString(value);";break;default:{let e=t[n.type];if(!e)throw new Error("Invalid type "+s.quote(n.type)+" for field "+s.quote(n.name));a="ENUM"===e.kind?"var encoded = this["+s.quote(e.name)+'][value]; if (encoded === void 0) throw new Error("Invalid value " + JSON.stringify(value) + '+s.quote(" for enum "+s.quote(e.name))+"); bb.writeVarUint(encoded);":"this["+s.quote("encode"+e.name)+"](value, bb);"}}r.push(""),r.push("  var value = message["+s.quote(n.name)+"];"),r.push("  if (value != null) {"),"MESSAGE"===e.kind&&r.push("    bb.writeVarUint("+n.value+");"),n.isArray?"byte"===n.type?r.push("    bb.writeByteArray(value);"):(r.push("    var values = value, n = values.length;"),r.push("    bb.writeVarUint(n);"),r.push("    for (var i = 0; i < n; i++) {"),r.push("      value = values[i];"),r.push("      "+a),r.push("    }")):r.push("    "+a),"STRUCT"===e.kind&&(r.push("  } else {"),r.push("    throw new Error("+s.quote("Missing required field "+s.quote(n.name))+");")),r.push("  }")}}return"MESSAGE"===e.kind&&r.push("  bb.writeVarUint(0);"),r.push(""),r.push("  if (isTopLevel) return bb.toUint8Array();"),r.push("}"),r.join("\n")}function i(e){let t={},r=e.package,u=[];null!==r?u.push("var "+r+" = exports || "+r+" || {}, exports;"):(u.push("var exports = exports || {};"),r="exports"),u.push(r+".ByteBuffer = "+r+'.ByteBuffer || require("kiwi-schema").ByteBuffer;');for(let s=0;s<e.definitions.length;s++){let r=e.definitions[s];t[r.name]=r}for(let i=0;i<e.definitions.length;i++){let l=e.definitions[i];switch(l.kind){case"ENUM":{let e={};for(let t=0;t<l.fields.length;t++){let r=l.fields[t];e[r.name]=r.value,e[r.value]=r.name}u.push(r+"["+s.quote(l.name)+"] = "+JSON.stringify(e,null,2)+";");break}case"STRUCT":case"MESSAGE":u.push(""),u.push(r+"["+s.quote("decode"+l.name)+"] = "+a(l,t)+";"),u.push(""),u.push(r+"["+s.quote("encode"+l.name)+"] = "+n(l,t)+";");break;default:s.error("Invalid definition kind "+s.quote(l.kind),l.line,l.column)}}return u.push(""),u.join("\n")}t.compileSchemaJS=i,t.compileSchema=function(e){let t={ByteBuffer:u.ByteBuffer};return new Function("exports",i(e))(t),t}}),
(function(e,t,a){e.exports="package Fig;enum MessageType{JOIN_START=0;NODE_CHANGES=1;USER_CHANGES=2;JOIN_END=3;SIGNAL=4;STYLE=5;STYLE_SET=6;JOIN_START_SKIP_RELOAD=7;NOTIFY_SHOULD_UPGRADE=8;UPGRADE_DONE=9;UPGRADE_REFRESH=10;SCENE_GRAPH_QUERY=11;SCENE_GRAPH_REPLY=12;}enum Axis{X=0;Y=1;}enum Access{READ_ONLY=0;READ_WRITE=1;}enum NodePhase{CREATED=0;REMOVED=1;}enum WindingRule{NONZERO=0;ODD=1;}enum NodeType{NONE=0;DOCUMENT=1;CANVAS=2;GROUP=3;FRAME=4;BOOLEAN_OPERATION=5;VECTOR=6;STAR=7;LINE=8;ELLIPSE=9;RECTANGLE=10;REGULAR_POLYGON=11;ROUNDED_RECTANGLE=12;TEXT=13;SLICE=14;SYMBOL=15;INSTANCE=16;}enum BlendMode{PASS_THROUGH=0;NORMAL=1;DARKEN=2;MULTIPLY=3;LINEAR_BURN=4;COLOR_BURN=5;LIGHTEN=6;SCREEN=7;LINEAR_DODGE=8;COLOR_DODGE=9;OVERLAY=10;SOFT_LIGHT=11;HARD_LIGHT=12;DIFFERENCE=13;EXCLUSION=14;HUE=15;SATURATION=16;COLOR=17;LUMINOSITY=18;}enum PaintType{SOLID=0;GRADIENT_LINEAR=1;GRADIENT_RADIAL=2;GRADIENT_ANGULAR=3;GRADIENT_DIAMOND=4;IMAGE=5;EMOJI=6;}enum ImageScaleMode{STRETCH=0;FIT=1;FILL=2;TILE=3;}enum EffectType{INNER_SHADOW=0;DROP_SHADOW=1;FOREGROUND_BLUR=2;BACKGROUND_BLUR=3;}enum TextCase{ORIGINAL=0;UPPER=1;LOWER=2;TITLE=3;SMALL_CAPS=4;SMALL_CAPS_FORCED=5;}enum TextDecoration{NONE=0;UNDERLINE=1;STRIKETHROUGH=2;}enum NumberUnits{RAW=0;PIXELS=1;PERCENT=2;}enum ConstraintType{MIN=0;CENTER=1;MAX=2;STRETCH=3;SCALE=4;FIXED_MIN=5;FIXED_MAX=6;}enum StrokeAlign{CENTER=0;INSIDE=1;OUTSIDE=2;}enum StrokeCap{NONE=0;ROUND=1;SQUARE=2;ARROW_LINES=3;ARROW_EQUILATERAL=4;}enum StrokeJoin{MITER=0;BEVEL=1;ROUND=2;}enum BooleanOperation{UNION=0;INTERSECT=1;SUBTRACT=2;XOR=3;}enum TextAlignHorizontal{LEFT=0;CENTER=1;RIGHT=2;JUSTIFIED=3;}enum TextAlignVertical{TOP=0;CENTER=1;BOTTOM=2;}enum MouseCursor{DEFAULT=0;CROSSHAIR=1;EYEDROPPER=2;HAND=3;PAINT_BUCKET=4;PEN=5;PENCIL=6;}enum VectorMirror{NONE=0;ANGLE=1;ANGLE_AND_LENGTH=2;}enum DashMode{CLIP=0;STRETCH=1;}enum ImageType{PNG=0;JPEG=1;SVG=2;PDF=3;}enum ExportConstraintType{CONTENT_SCALE=0;CONTENT_WIDTH=1;CONTENT_HEIGHT=2;}enum LayoutGridType{MIN=0;CENTER=1;STRETCH=2;MAX=3;}enum LayoutGridPattern{STRIPES=0;GRID=1;}enum TextAutoResize{NONE=0;WIDTH_AND_HEIGHT=1;HEIGHT=2;}enum StyleSetType{PERSONAL=0;TEAM=1;CUSTOM=2;FREQUENCY=3;TEMPORARY=4;}enum StyleSetContentType{SOLID=0;GRADIENT=1;IMAGE=2;}enum StackMode{NONE=0;HORIZONTAL=1;VERTICAL=2;}enum StackAlign{MIN=0;CENTER=1;MAX=2;}enum StackCounterAlign{MIN=0;CENTER=1;MAX=2;STRETCH=3;}enum StackJustify{MIN=0;CENTER=1;MAX=2;SPACE_EVENLY=3;}enum StackSize{FIXED=0;RESIZE_TO_FIT=1;}enum ConnectionType{NONE=0;INTERNAL_NODE=1;URL=2;BACK=3;CLOSE=4;}enum InteractionType{ON_CLICK=0;AFTER_TIMEOUT=1;MOUSE_IN=2;MOUSE_OUT=3;ON_HOVER=4;MOUSE_DOWN=5;MOUSE_UP=6;ON_PRESS=7;NONE=8;DRAG=9;ON_KEY_DOWN=10;}enum TransitionType{INSTANT_TRANSITION=0;DISSOLVE=1;FADE=2;SLIDE_FROM_LEFT=3;SLIDE_FROM_RIGHT=4;SLIDE_FROM_TOP=5;SLIDE_FROM_BOTTOM=6;PUSH_FROM_LEFT=7;PUSH_FROM_RIGHT=8;PUSH_FROM_TOP=9;PUSH_FROM_BOTTOM=10;MOVE_FROM_LEFT=11;MOVE_FROM_RIGHT=12;MOVE_FROM_TOP=13;MOVE_FROM_BOTTOM=14;SLIDE_OUT_TO_LEFT=15;SLIDE_OUT_TO_RIGHT=16;SLIDE_OUT_TO_TOP=17;SLIDE_OUT_TO_BOTTOM=18;MOVE_OUT_TO_LEFT=19;MOVE_OUT_TO_RIGHT=20;MOVE_OUT_TO_TOP=21;MOVE_OUT_TO_BOTTOM=22;MAGIC_MOVE=23;SMART_ANIMATE=24;}enum EasingType{IN_CUBIC=0;OUT_CUBIC=1;INOUT_CUBIC=2;LINEAR=3;}enum ScrollDirection{NONE=0;HORIZONTAL=1;VERTICAL=2;BOTH=3;}enum ScrollContractedState{EXPANDED=0;CONTRACTED=1;}struct GUID{uint sessionID;uint localID;}struct Color{float r;float g;float b;float a;}struct Vector{float x;float y;}struct Rect{float x;float y;float w;float h;}struct ColorStop{Color color;float position;}struct Matrix{float m00;float m01;float m02;float m10;float m11;float m12;}struct ParentIndex{GUID guid;string position;}struct Number{float value;NumberUnits units;}struct FontName{string family;string style;string postscript;}enum FontVariantNumericFigure{NORMAL=0;LINING=1;OLDSTYLE=2;}enum FontVariantNumericSpacing{NORMAL=0;PROPORTIONAL=1;TABULAR=2;}enum FontVariantNumericFraction{NORMAL=0;DIAGONAL=1;STACKED=2;}enum FontVariantCaps{NORMAL=0;SMALL=1;ALL_SMALL=2;PETITE=3;ALL_PETITE=4;UNICASE=5;TITLING=6;}enum FontVariantPosition{NORMAL=0;SUB=1;SUPER=2;}enum FontStyle{NORMAL=0;ITALIC=1;}enum OpenTypeFeature{PCAP=0;C2PC=1;CASE=2;CPSP=3;TITL=4;UNIC=5;ZERO=6;SINF=7;ORDN=8;AFRC=9;DNOM=10;NUMR=11;LIGA=12;CLIG=13;DLIG=14;HLIG=15;RLIG=16;AALT=17;CALT=18;RCLT=19;SALT=20;RVRN=21;VERT=22;SWSH=23;CSWH=24;NALT=25;CCMP=26;STCH=27;HIST=28;SIZE=29;ORNM=30;ITAL=31;RAND=32;DTLS=33;FLAC=34;MGRK=35;SSTY=36;KERN=37;FWID=38;HWID=39;HALT=40;TWID=41;QWID=42;PWID=43;JUST=44;LFBD=45;OPBD=46;RTBD=47;PALT=48;PKNA=49;LTRA=50;LTRM=51;RTLA=52;RTLM=53;ABRV=54;ABVM=55;ABVS=56;VALT=57;VHAL=58;BLWF=59;BLWM=60;BLWS=61;AKHN=62;CJCT=63;CFAR=64;CPCT=65;CURS=66;DIST=67;EXPT=68;FALT=69;FINA=70;FIN2=71;FIN3=72;HALF=73;HALN=74;HKNA=75;HNGL=76;HOJO=77;INIT=78;ISOL=79;JP78=80;JP83=81;JP90=82;JP04=83;LJMO=84;LOCL=85;MARK=86;MEDI=87;MED2=88;MKMK=89;NLCK=90;NUKT=91;PREF=92;PRES=93;VPAL=94;PSTF=95;PSTS=96;RKRF=97;RPHF=98;RUBY=99;SMPL=100;TJMO=101;TNAM=102;TRAD=103;VATU=104;VJMO=105;VKNA=106;VKRN=107;VRTR=108;VRT2=109;SS01=110;SS02=111;SS03=112;SS04=113;SS05=114;SS06=115;SS07=116;SS08=117;SS09=118;SS10=119;SS11=120;SS12=121;SS13=122;SS14=123;SS15=124;SS16=125;SS17=126;SS18=127;SS19=128;SS20=129;CV01=130;CV02=131;CV03=132;CV04=133;CV05=134;CV06=135;CV07=136;CV08=137;CV09=138;CV10=139;CV11=140;CV12=141;CV13=142;CV14=143;CV15=144;CV16=145;CV17=146;CV18=147;CV19=148;CV20=149;CV21=150;CV22=151;CV23=152;CV24=153;CV25=154;CV26=155;CV27=156;CV28=157;CV29=158;CV30=159;CV31=160;CV32=161;CV33=162;CV34=163;CV35=164;CV36=165;CV37=166;CV38=167;CV39=168;CV40=169;CV41=170;CV42=171;CV43=172;CV44=173;CV45=174;CV46=175;CV47=176;CV48=177;CV49=178;CV50=179;CV51=180;CV52=181;CV53=182;CV54=183;CV55=184;CV56=185;CV57=186;CV58=187;CV59=188;CV60=189;CV61=190;CV62=191;CV63=192;CV64=193;CV65=194;CV66=195;CV67=196;CV68=197;CV69=198;CV70=199;CV71=200;CV72=201;CV73=202;CV74=203;CV75=204;CV76=205;CV77=206;CV78=207;CV79=208;CV80=209;CV81=210;CV82=211;CV83=212;CV84=213;CV85=214;CV86=215;CV87=216;CV88=217;CV89=218;CV90=219;CV91=220;CV92=221;CV93=222;CV94=223;CV95=224;CV96=225;CV97=226;CV98=227;CV99=228;}struct ExportConstraint{ExportConstraintType type;float value;}struct GUIDMapping{GUID from;GUID to;}struct Blob{byte[]bytes;}message Image{byte[]hash=1;string name=2;uint dataBlob=3;}struct FilterColorAdjust{float tint;float shadows;float highlights;float detail;float exposure;float vignette;float temperature;float vibrance;}message PaintFilterMessage{float tint=1;float shadows=2;float highlights=3;float detail=4[deprecated];float exposure=5;float vignette=6[deprecated];float temperature=7;float vibrance=8;float contrast=9;float brightness=10[deprecated];}message Paint{PaintType type=1;Color color=2;float opacity=3;bool visible=4;BlendMode blendMode=5;ColorStop[]stops=6;Matrix transform=7;Image image=8;Image imageThumbnail=9;Image animatedImage=16;uint animationFrame=17;ImageScaleMode imageScaleMode=10;float rotation=11;float scale=12;FilterColorAdjust filterColorAdjust=13[deprecated];PaintFilterMessage paintFilter=14;uint[]emojiCodePoints=15;}message FontMetaData{FontName key=1;float fontLineHeight=2;byte[]fontDigest=3;FontStyle fontStyle=4;int fontWeight=5;}message TextData{string characters=1;uint[]characterStyleIDs=2;NodeChange[]styleOverrideTable=3;Vector layoutSize=4;Baseline[]baselines=5;Glyph[]glyphs=6;Decoration[]decorations=7;uint layoutVersion=8;FontMetaData[]fontMetaData=9;FontName[]fallbackFonts=10;HyperlinkBox[]hyperlinkBoxes=11;}message HyperlinkBox{Rect bounds=1;string url=2;}message Baseline{Vector position=1;float width=2;float lineY=3;float lineHeight=4;float lineAscent=7;uint firstCharacter=5;uint endCharacter=6;}message Glyph{uint commandsBlob=1;Vector position=2;uint styleID=3;float fontSize=4;uint firstCharacter=5;float advance=6;}message Decoration{Rect[]rects=1;uint styleID=2;}message VectorData{uint vectorNetworkBlob=1;Vector normalizedSize=2;NodeChange[]styleOverrideTable=3;}message GUIDPath{GUID[]guids=1;}message SymbolData{GUID symbolID=1;NodeChange[]symbolOverrides=2;float uniformScaleFactor=3;}message GUIDPathMapping{GUID id=1;GUIDPath path=2;}message SharedSymbolReference{string fileKey=1;GUID symbolID=2;string versionHash=3;GUIDPathMapping[]guidPathMappings=4;byte[]bytes=5;GUIDMapping[]libraryGUIDToSubscribingGUID=6[deprecated];string componentKey=7;GUIDPathMapping[]unflatteningMappings=8;bool isUnflattened=9;}message SharedComponentMasterData{string componentKey=1;GUIDPathMapping[]publishingGUIDPathToTeamLibraryGUID=2;bool isUnflattened=3;}message Effect{EffectType type=1;Color color=2;Vector offset=3;float radius=4;bool visible=5;BlendMode blendMode=6;}message TransitionInfo{TransitionType type=1;float duration=2;}enum PrototypeDeviceType{NONE=0;PRESET=1;CUSTOM=2;PRESENTATION=3;}enum DeviceRotation{NONE=0;CCW_90=1;}message PrototypeDevice{PrototypeDeviceType type=1;Vector size=2;string presetIdentifier=3;DeviceRotation rotation=4;}enum OverlayPositionType{CENTER=0;TOP_LEFT=1;TOP_CENTER=2;TOP_RIGHT=3;BOTTOM_LEFT=4;BOTTOM_CENTER=5;BOTTOM_RIGHT=6;MANUAL=7;}enum OverlayBackgroundInteraction{NONE=0;CLOSE_ON_CLICK_OUTSIDE=1;}enum OverlayBackgroundType{NONE=0;SOLID_COLOR=1;}message OverlayBackgroundAppearance{OverlayBackgroundType backgroundType=1;Color backgroundColor=2;}enum NavigationType{NAVIGATE=0;OVERLAY=1;SWAP=2;}message ExportSettings{string suffix=1;ImageType imageType=2;ExportConstraint constraint=3;bool svgDataName=4;ExportSVGIDMode svgIDMode=5;bool svgOutlineText=6;bool contentsOnly=7;bool svgForceStrokeMasks=8;}enum ExportSVGIDMode{IF_NEEDED=0;ALWAYS=1;}message LayoutGrid{LayoutGridType type=1;Axis axis=2;bool visible=3;int numSections=4;float offset=5;float sectionSize=6;float gutterSize=7;Color color=8;LayoutGridPattern pattern=9;}message Guide{Axis axis=1;float offset=2;GUID guid=3;}message Path{WindingRule windingRule=1;uint commandsBlob=2;}enum StyleType{NONE=0;FILL=1;STROKE=2;TEXT=3;EFFECT=4;EXPORT=5;GRID=6;}message SharedStyleReference{string styleKey=1;string versionHash=2;}message SharedStyleMasterData{string styleKey=1;string sortPosition=2;string fileKey=3;}enum ScrollBehavior{SCROLLS=0;FIXED_WHEN_CHILD_OF_SCROLLING_FRAME=1;}message ArcData{float startingAngle=1;float endingAngle=2;float innerRadius=3;}message PluginData{string pluginID=1;string value=2;string key=3;}message PluginRelaunchData{string pluginID=1;string message=2;string command=3;}message NodeChange{GUID guid=1;uint guidTag=53[deprecated];NodePhase phase=2;uint phaseTag=54[deprecated];ParentIndex parentIndex=3;uint parentIndexTag=55[deprecated];NodeType type=4;uint typeTag=56[deprecated];string name=5;uint nameTag=57[deprecated];bool visible=6;uint visibleTag=58[deprecated];bool locked=7;uint lockedTag=59[deprecated];float opacity=8;uint opacityTag=60[deprecated];BlendMode blendMode=9;uint blendModeTag=61[deprecated];uint count=10;uint countTag=62[deprecated];Vector size=11;uint sizeTag=63[deprecated];Matrix transform=12;uint transformTag=64[deprecated];float[]dashPattern=13;uint dashPatternTag=65[deprecated];bool autoRename=14;uint autoRenameTag=66[deprecated];bool backgroundEnabled=15;uint backgroundEnabledTag=67[deprecated];bool mask=16;uint maskTag=68[deprecated];bool exportContentsOnly=17;uint exportContentsOnlyTag=69[deprecated];bool maskIsOutline=18;uint maskIsOutlineTag=70[deprecated];float backgroundOpacity=19;uint backgroundOpacityTag=71[deprecated];float cornerRadius=20;uint cornerRadiusTag=72[deprecated];float fontSize=21;uint fontSizeTag=73[deprecated];float paragraphIndent=22;uint paragraphIndentTag=74[deprecated];float paragraphSpacing=23;uint paragraphSpacingTag=75[deprecated];float starInnerScale=24;uint starInnerScaleTag=76[deprecated];float miterLimit=25;uint miterLimitTag=77[deprecated];float strokeWeight=26;uint strokeWeightTag=78[deprecated];float textTracking=27;uint textTrackingTag=79[deprecated];ConstraintType horizontalConstraint=28;uint horizontalConstraintTag=80[deprecated];StrokeAlign strokeAlign=29;uint strokeAlignTag=81[deprecated];StrokeCap strokeCap=30;uint strokeCapTag=82[deprecated];StrokeJoin strokeJoin=31;uint strokeJoinTag=83[deprecated];TextAlignHorizontal textAlignHorizontal=32;uint textAlignHorizontalTag=84[deprecated];TextAlignVertical textAlignVertical=33;uint textAlignVerticalTag=85[deprecated];TextCase textCase=34;uint textCaseTag=86[deprecated];TextDecoration textDecoration=35;uint textDecorationTag=87[deprecated];BooleanOperation booleanOperation=36;uint booleanOperationTag=88[deprecated];ConstraintType verticalConstraint=37;uint verticalConstraintTag=89[deprecated];Paint[]fillPaints=38;uint fillPaintsTag=90[deprecated];Paint[]strokePaints=39;uint strokePaintsTag=91[deprecated];Number lineHeight=40;uint lineHeightTag=92[deprecated];FontName fontName=41;uint fontNameTag=93[deprecated];TextData textData=42;uint textDataTag=94[deprecated];Effect[]effects=43;uint effectsTag=95[deprecated];VectorMirror handleMirroring=44;uint handleMirroringTag=96[deprecated];ExportSettings[]exportSettings=45;uint exportSettingsTag=97[deprecated];TextAutoResize textAutoResize=46;uint textAutoResizeTag=98[deprecated];LayoutGrid[]layoutGrids=47;uint layoutGridsTag=99[deprecated];VectorData vectorData=48;uint vectorDataTag=100[deprecated];uint styleID=49;uint styleIDTag=101[deprecated];Color backgroundColor=50;uint backgroundColorTag=102[deprecated];Path[]fillGeometry=51;uint fillGeometryTag=103[deprecated];Path[]strokeGeometry=52;uint strokeGeometryTag=104[deprecated];StackMode stackMode=105;uint stackModeTag=106[deprecated];float stackSpacing=107;uint stackSpacingTag=108[deprecated];float stackPadding=109;uint stackPaddingTag=110[deprecated];GUIDPath guidPath=111;uint guidPathTag=112[deprecated];SymbolData symbolData=113;uint symbolDataTag=114[deprecated];bool frameMaskDisabled=115;uint frameMaskDisabledTag=116[deprecated];bool resizeToFit=117;uint resizeToFitTag=118[deprecated];bool exportBackgroundDisabled=119;StackCounterAlign stackCounterAlign=120;StackJustify stackJustify=121;SharedSymbolReference sharedSymbolReference=122;bool isSymbolPublishable=123;GUIDPathMapping[]sharedSymbolMappings=124;NodeChange[]derivedSymbolData=125;string sharedSymbolVersion=126;bool fontVariantCommonLigatures=127;bool fontVariantContextualLigatures=128;bool fontVariantDiscretionaryLigatures=129;bool fontVariantHistoricalLigatures=130;bool fontVariantOrdinal=131;bool fontVariantSlashedZero=132;FontVariantNumericFigure fontVariantNumericFigure=133;FontVariantNumericSpacing fontVariantNumericSpacing=134;FontVariantNumericFraction fontVariantNumericFraction=135;FontVariantCaps fontVariantCaps=136;FontVariantPosition fontVariantPosition=137;Guide[]guides=138;GUID transitionNodeID=139;GUID prototypeStartNodeID=140;Color prototypeBackgroundColor=141;bool internalOnly=142;GUID overriddenSymbolID=143;string symbolDescription=144;float rectangleTopLeftCornerRadius=145;float rectangleTopRightCornerRadius=146;float rectangleBottomLeftCornerRadius=147;float rectangleBottomRightCornerRadius=148;bool rectangleCornerRadiiIndependent=149;bool rectangleCornerToolIndependent=150;bool proportionsConstrained=151;SharedComponentMasterData sharedComponentMasterData=152;TransitionInfo transitionInfo=153[deprecated];TransitionType transitionType=154;float transitionDuration=155;EasingType easingType=156;ScrollDirection scrollDirection=159;float cornerSmoothing=160;GUID inheritFillStyleID=158;GUID inheritStrokeStyleID=162;GUID inheritTextStyleID=167;GUID inheritExportStyleID=168;GUID inheritEffectStyleID=169;GUID inheritGridStyleID=170;GUID inheritFillStyleIDForStroke=185;bool isFillStyle=157[deprecated];bool isStrokeStyle=161[deprecated];StyleType styleType=163;string styleDescription=191;GUIDPathMapping[]unflatteningMappings=164;Number letterSpacing=165;Vector scrollOffset=166[deprecated];string version=171;SharedStyleMasterData sharedStyleMasterData=172;SharedStyleReference sharedStyleReference=173;bool isPublishable=174;bool exportTextAsSVGText=175;bool isSoftDeletedStyle=176;bool isNonUpdateable=177;ScrollContractedState scrollContractedState=178[deprecated];Vector contractedSize=179[deprecated];string fixedChildrenDivider=180[deprecated];bool transitionPreserveScroll=181;ConnectionType connectionType=182;string connectionURL=183;PrototypeDevice prototypeDevice=184;ScrollBehavior scrollBehavior=186;InteractionType interactionType=187;float transitionTimeout=188;bool interactionMaintained=189;float interactionDuration=190;bool destinationIsOverlay=192[deprecated];Paint[]backgroundPaints=193;GUID inheritFillStyleIDForBackground=194;ArcData arcData=195;int derivedSymbolDataLayoutVersion=196;NavigationType navigationType=197;OverlayPositionType overlayPositionType=198;Vector overlayRelativePosition=199;OverlayBackgroundInteraction overlayBackgroundInteraction=200;OverlayBackgroundAppearance overlayBackgroundAppearance=201;string fontVersion=202;uint textUserLayoutVersion=203;PluginData[]pluginData=204;OpenTypeFeature[]toggledOnOTFeatures=205;OpenTypeFeature[]toggledOffOTFeatures=206;bool transitionShouldSmartAnimate=207;StackAlign stackAlign=208[deprecated];float stackHorizontalPadding=209;float stackVerticalPadding=210;StackSize stackWidth=211;StackSize stackHeight=212;GUID overrideKey=213;string publishFile=214;GUID publishID=215;string componentKey=216;bool isC2=217;string publishedVersion=218;PluginRelaunchData[]pluginRelaunchData=219;bool containerSupportsFillStrokeAndCorners=220;StackSize stackCounterSizing=221;bool containersSupportFillStrokeAndCorners=222[deprecated];Hyperlink hyperlink=223;KeyTrigger keyTrigger=224;}enum TriggerDevice{KEYBOARD=0;UNKNOWN_CONTROLLER=1;XBOX_ONE=2;PS4=3;SWITCH_PRO=4;}message KeyTrigger{int[]keyCodes=1;TriggerDevice triggerDevice=2;}message Hyperlink{string url=1;}message Viewport{Rect canvasSpaceBounds=1;bool pixelPreview=2;float pixelDensity=3;GUID canvasGuid=4;}message Mouse{MouseCursor cursor=1;Vector canvasSpaceLocation=2;Rect canvasSpaceSelectionBox=3;GUID canvasGuid=4;}struct Click{uint id;Vector point;}struct ScrollPosition{GUID node;Vector scrollOffset;}struct TriggeredOverlay{GUID overlayGuid;GUID hotspotGuid;GUID swapGuid;}message UserChange{uint sessionID=1;bool connected=2;string name=3;Color color=4;string imageURL=5;Viewport viewport=6;Mouse mouse=7;GUID[]selection=8;uint[]observing=9;string deviceName=10;Click[]recentClicks=11;ScrollPosition[]scrollPositions=12;TriggeredOverlay[]triggeredOverlays=13;string userID=14;GUID lastTriggeredHotspot=15;}message SceneGraphQuery{GUID startingNode=1;uint depth=2;}message NodeChangesMetadata{uint blobsFieldOffset=1;}message Message{MessageType type=1;uint sessionID=2;uint ackID=3;NodeChange[]nodeChanges=4;UserChange[]userChanges=5;Blob[]blobs=6;string signalName=7;Access access=8;string styleSetName=9;StyleSetType styleSetType=10;StyleSetContentType styleSetContentType=11;int pasteID=12;Vector pasteOffset=13;string pasteFileKey=14;string signalPayload=15;SceneGraphQuery[]sceneGraphQueries=16;NodeChangesMetadata nodeChangesMetadata=17;}"}),
(function(e,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});c(127           );const a=c(149                 ),i=c(151             ),r=c(152                       );s.schema=i.compileSchema(a.parseSchema(r))}),
(function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasInvalidCssThumbnail=(t=>!!e.cssThumbnailMaybeSupported(t.style_type)&&!(t.meta&&t.meta.style_thumbnail)),e.validCssThumbnail=(t=>{var e;const l=null===(e=t.meta)||void 0===e?void 0:e.style_thumbnail;return l&&"INVALID"!==l.type&&l||null}),e.parseLibraryMeta=(t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return{}}return t}),e.cssThumbnailMaybeSupported=(t=>"FILL"===t||"EFFECT"===t||"GRID"===t),e.cssThumbnailDefinitelySupported=(t=>"EFFECT"===t||"GRID"===t),e.extractStyleThumbnailFromNodeChange=((t,e)=>"FILL"===e&&t.fillPaints?{type:e,fillPaints:t.fillPaints}:"EFFECT"===e&&t.effects?{type:e,effects:t.effects}:"GRID"===e&&t.layoutGrids?{type:e,layoutGrids:t.layoutGrids}:{type:"INVALID"}),e.isSingleSolidPaintStyle=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const e=t.meta.style_thumbnail.fillPaints;return 1==e.length&&"SOLID"===e[0].type}return!0}),e.shouldUseBorderForFillStyleChit=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const l=t.meta.style_thumbnail.fillPaints;if(1===l.length&&"SOLID"===l[0].type&&l[0].color)return e.shouldUseBorderForBackgroundWithAlpha(l[0].color,l[0].color.a)}return!1}),e.shouldUseBorderForBackground=(t=>(t.r+t.g+t.b)/3>.9373),e.shouldUseBorderForBackgroundWithAlpha=((t,l)=>e.shouldUseBorderForBackground(t)||l<.4),e.isColorStyleTransparent=(t=>{if("FILL"!==t.style_type)return!1;const e=t.meta&&t.meta.style_thumbnail;if(!e)return!1;if("FILL"!==e.type)return!1;for(const l of e.fillPaints)if(!l.opacity||l.opacity>0)return!1;return!0})}),
(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{i(r.next(e))}catch(t){a(t)}}function l(e){try{i(r.throw(e))}catch(t){a(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,l)}i((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(124     ),a=n(146                                          ),s=n(95                      ),l=n(147                       ),i=n(126          ),c=n(153       ),u=n(154                                      ),h=n(122        );t.getThumbnail=(e=>a.fullscreen.DEPRECATED_sendMessage("generateThumbnailForNode",{guid:e,width:768,height:768,maxScale:2}).buffer);const m=Object.create(null);t.getThumbnailUrlForComponent=(e=>{const n=t.getThumbnail(e);return t.cacheThumbDataAndGetUrl(n)}),t.FAILED_THUMBNAIL="FAILED_THUMBNAIL",t.LOADING_THUMBNAIL="LOADING_THUMBNAIL",t.isValidThumbnailUrl=(e=>!!e&&(e!==t.FAILED_THUMBNAIL&&e!==t.LOADING_THUMBNAIL&&!(e.startsWith("blob:")&&!m[e]))),t.getThumbnailUrlForStyle=((e,n)=>{const{args:r,buffer:o}=a.fullscreen.DEPRECATED_sendMessage("generateThumbnailFromStyleMaster",{nodeId:e,type:n,width:18,height:18,maxScale:2});if(r&&r.status===t.LOADING_THUMBNAIL)return t.LOADING_THUMBNAIL;const s=t.cacheThumbDataAndGetUrl(o);return s||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getThumbnailUrlForStyleConsumer=((e,n)=>{const r=a.fullscreen.DEPRECATED_sendMessage("generateThumbnailFromStyleConsumer",{nodeId:e,inheritStyleKeyField:n,width:18,height:18,maxScale:2}).buffer,o=t.cacheThumbDataAndGetUrl(r);return o||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getStyleThumbnailForCSSRendering=((e,t,n)=>{if(!u.cssThumbnailMaybeSupported(t))return{type:"INVALID"};const r=a.fullscreen.DEPRECATED_sendMessage("generateSerializableThumbnailForStyle",{nodeId:e,type:t,field:n}).buffer,o=r.length>0?c.schema.decodeMessage(r):null,s=o&&o.nodeChanges&&o.nodeChanges[0]||null;return s?u.extractStyleThumbnailFromNodeChange(s,t):(console.error(`failed to generate serializable thumbnail for node ${e}`),{type:"INVALID"})}),t.cacheThumbDataAndGetUrl=(e=>{if(e.length>0){const t=URL.createObjectURL(new Blob([e]));return m[t]=e,t}return null}),t.getBufferForThumbnailUrl=(e=>{const t=m[e];if(!t)throw new Error(`No buffer in cache for thumbnail url ${e}`);return t}),t.revokeThumbnailUrl=(e=>{m[e]&&(URL.revokeObjectURL(e),delete m[e])});let f=null;function g(e){return Object.keys(e).map(t=>e[t]).filter(e=>!e.unpublished_at)}function d(e){let t=e&&e.status;return Number.isInteger(t)&&t>=0?t:-1}function y(e){let t=d(e);return t>=400&&t<500}(()=>{const e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{const n=new FileReader;n.onload=(()=>{const e=n.result;f=t.cacheThumbDataAndGetUrl(new Uint8Array(e))}),n.readAsArrayBuffer(e)},"image/png")})(),t.getEmptyThumbnailUrl=(()=>f),t.generatePublishableBufferForStyleOrSymbol=(e=>a.fullscreen.DEPRECATED_sendMessage("generatePublishableBufferForStyleOrSymbol",{guid:e}).buffer),t.generateComponentKeyForNode=(e=>{const t=a.fullscreen.DEPRECATED_sendMessage("generateComponentKeyForNode",{guid:e});if(t&&t.args&&t.args.componentKey)return t.args.componentKey;throw new Error(`Could not generate component key for node id ${e}`)}),t.storeComponentKeyInFullscreen=((e,t)=>{a.fullscreen.DEPRECATED_sendMessage("storeComponentKey",{guid:e,componentKey:t})}),t.componentsForFile=g,t.sortedLibraryItemsForFile=function(e){const t=g(e);return h.sortAlphabeticallyByProperty(t,"name"),t},t.hasPendingUpdatesToPublish=(e=>{if(!e.editingFileKey||!e.fileByKey[e.editingFileKey])return!1;const t=e.fileByKey[e.editingFileKey],n=s.canAccessProFeature(t.team_id?e.teams[t.team_id]:null);let r=g(e.library.local.styles||{});n&&(r=r.concat(g(e.library.local.components||{})));let o=0,a=0;for(let s of r)s.status!==l.LibraryStatus.CURRENT&&s.status!==l.LibraryStatus.NOT_STAGED&&o++,s.status!==l.LibraryStatus.CURRENT&&s.status!==l.LibraryStatus.CHANGED&&s.status!==l.LibraryStatus.DELETED&&s.status!==l.LibraryStatus.CAN_UPGRADE||a++;return a>0&&o>0}),t.getNameParts=(e=>e.split("/").filter(e=>!!e).map(e=>e.trim())),t.getNamePrefix=(e=>{const n=t.getNameParts(e);return n.pop(),n.join("/")}),t.getLastPartOfName=(e=>{const n=t.getNameParts(e);return n.length?n[n.length-1]:""}),t.getComponentLogData=(e=>r(void 0,void 0,void 0,function*(){let t=[];const n=(yield o.default.post("/api/component_log_data",{components:e})).data.meta.components;if(n.length<e.length)for(const r of e){n.find(e=>e.component_key===r.component_key&&e.content_hash===r.content_hash)||console.error(`Component log data for component ${r.component_key} version ${r.content_hash} is missing`)}for(const e of n)e.canvas_url&&0!==e.canvas_url.length?t.push(e):console.error(`Canvas URL missing from component ${e.component_key} version ${e.content_hash}.`);return t}));const b=e=>{let t=function(e,t){let n=e&&e.data&&e.data.message;return"string"==typeof n&&n.length>0?n:t}(e,"please try again later"),n=d(e);n>0?t+=` (status ${e.data.status})`:0===n&&(t+=" (must be online)"),a.fullscreen.showVisualBell("detach_instance","Detach error: "+t,15e3,!0)};function p(e){return`component/${e.component_key}/${e.content_hash}`}t.fetchComponentSceneGraphsForDetachInstance=((e,n)=>r(void 0,void 0,void 0,function*(){try{const o=(new Date).getTime();let s,l,c=0,u=0,h=0,m=0,f=0,g=0,_=-1;try{l=yield t.getComponentLogData(n)}catch(r){y(r)?++m:(++f,s=r),_=d(r),l=[]}for(const n of l){try{let o;try{o=yield t.teamLibraryItemSceneGraphCache.get({canvas_url:n.canvas_url})}catch(r){y(r)?(console.warn("Permanent error",r,"status",d(r),"for entry",p(n)),m+=1):(console.warn("Transient error",r,"status",d(r),"for entry",p(n)),f+=1,s=r);continue}c+=o.byteLength;const l={guid:n.node_id,versionHash:n.content_hash,fileKey:n.file_key,editingFileKey:e,componentKey:n.component_key,isUnflattened:!0},i=a.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",l,o);if(!i||!i.args||!i.args.localGUID){console.error(`Couldn't upsert shared symbol container in scene for componentKey ${n.component_key} version ${n.content_hash}.`),u+=1;continue}}catch(r){console.error("Uncaught error",r,"during buffer processing of",p(n)),h+=1;continue}g+=1}return i.segment.track("publishing_buffer_fetch_for_detach",{latency:(new Date).getTime()-o,num_versions_fetched:l.length,num_success:g,total_bytes:c,failed_to_upsert_in_scene:u,permanent_errors:m,transient_errors:f,uncaught_errors:h,log_data_error_status:_}),f>0?(b(s),Promise.resolve(!1)):Promise.resolve(!0)}catch(r){return b(r),Promise.resolve(!1)}}));t.teamLibraryItemSceneGraphCache=new class{constructor(){this.get=(({canvas_url:e})=>{if(!e)return Promise.reject(new Error("No canvas URL"));if(e in this.cache)return Promise.resolve(this.cache[e]);if(e in this.requestsInFlight)return this.requestsInFlight[e];{const t=o.default.get(e,null,{responseType:"arraybuffer"}).then(({data:t})=>(delete this.requestsInFlight[e],this.cache[e]=t,t));return this.requestsInFlight[e]=t,t.catch(t=>{throw console.warn("Team library cache error on get() with status",d(t),"with error",t),delete this.requestsInFlight[e],t}),t}}),this.clearCache=(()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)}),this.clearCache()}}}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=t(145         );function n(o,e){return i.Vector.rounded({x:o.width/2+(e.x-o.offsetX)*o.zoomScale,y:o.height/2+(e.y-o.offsetY)*o.zoomScale})}e.canvasPositionToViewport=n,e.viewportPositionToCanvas=function(o,e){return i.Vector.rounded({x:(e.x-o.width/2)/o.zoomScale+o.offsetX,y:(e.y-o.height/2)/o.zoomScale+o.offsetY})},e.canvasRectToViewport=function(o,e){const t=n(o,{x:e.x,y:e.y});return{x:t.x,y:t.y,width:e.width*o.zoomScale,height:e.height*o.zoomScale}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertDev=function(e,t){}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(157       );r.comparePositions=function(e,r){return+(e<r)-+(e>r)};const n=32,s=126;function a(e){if(""===e||e.charCodeAt(e.length-1)==n)return!1;for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<n||t>s)return!1}return!0}r.FIRST_POSITION=String.fromCharCode(n+1),r.positionBefore=function(e){o.assertDev(0!==e.length,"");let r=e.length-1,t=r;for(;t>=0;){let r=e.charCodeAt(t);if(r>n+1){let n=e.substr(0,t)+String.fromCharCode(r-1);return o.assertDev(a(n),""),n}t--}let i=e.substr(0,r)+String.fromCharCode(n)+String.fromCharCode(s);return o.assertDev(a(i),""),i},r.positionAfter=function(e){o.assertDev(0!==e.length,"");let r=e.length-1;for(;r>=0;){let t=e.charCodeAt(r);if(t<s){let n=e.substr(0,r)+String.fromCharCode(t+1);return o.assertDev(a(n),""),n}r--}let t=e+String.fromCharCode(n+1);return o.assertDev(a(t),""),t},r.positionBetween=function(e,r){o.assertDev(e<r,"");let t=e.length,i=r.length,f=!1,C="";for(let o=0,a=Math.max(t,i);o<a;o++){let a=o<t?e.charCodeAt(o):n,h=o<i&&!f?r.charCodeAt(o):s;if(a==h)C+=String.fromCharCode(a);else{if(h-a>1){C+=String.fromCharCode(a+h>>1),f=!1;break}C+=String.fromCharCode(a),f=!0}}return f&&(C+=String.fromCharCode(n+s>>1)),o.assertDev(e<C,""),o.assertDev(C<r,""),o.assertDev(a(C),""),C}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inheritedStyle=(e=>{switch(e){case"inheritTextStyleKey":return"TEXT";case"inheritFillStyleKey":case"inheritFillStyleKeyForStroke":case"inheritFillStyleKeyForBackground":return"FILL";case"inheritEffectStyleKey":return"EFFECT";case"inheritGridStyleKey":return"GRID";case"inheritExportStyleKey":return"EXPORT"}}),t.STYLE_PREFIX="S:";const n=",";function i(e){var t;return!!(null===(t=e)||void 0===t?void 0:t.key)}function l(e){return e.startsWith(t.STYLE_PREFIX)}t.isValidStyleKey=i,t.looksLikeStyleKey=l,t.styleKeyToString=function(e){return e&&i(e)?`${t.STYLE_PREFIX}${e.key}${n}${e.version||""}`:""},t.styleKeyFromString=function(e){if(!e||!l(e))return null;const r=e.substring(t.STYLE_PREFIX.length).split(n);if(!r||2!==r.length)return null;const i=r[0],y=r[1];return i?{key:i,version:y}:null}}),
(function(n,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.invalidGUID={sessionID:-1,localID:-1},l.invalidGUIDStr="-1:-1",l.isValid=function(n){return!!n&&(0|n.localID)>=0&&(0|n.sessionID)>=0},l.equals=function(n,l){return n&&l?n.sessionID===l.sessionID&&n.localID===l.localID:n===l},l.toString=function(n){return n?`${0|n.sessionID}:${0|n.localID}`:null},l.fromString=function(n){if(!n)return null;const l=n.split(":");if(!l||2!==l.length)return null;let i=-1,t=-1;try{i=parseInt(l[0]),t=parseInt(l[1])}catch(s){return null}return isFinite(i)&&isFinite(t)?{sessionID:i,localID:t}:null}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const l=t(98                  ),n=t(105                               ),i=t(155                       );!function(e){e.generateStyleThumbnails=l.actionCreator("COMPONENT_GENERATE_FILL_STYLE_THUMBNAILS"),e.generateLocalStyleThumbnail=l.actionCreator("COMPONENT_GENERATE_LOCAL_STYLE_THUMBNAIL"),e.generateDanglingStyleThumbnail=n.asyncActionCreator("GENERATE_DANGLING_STYLE_THUMBNAIL_URL",(a,t)=>{if(a.getState().library.local.thumbnails[t.styleNodeId])return;const l=i.getThumbnailUrlForStyle(t.styleNodeId,t.styleType);a.dispatch(e.addThumbnail({styleID:t.styleNodeId,url:l}))}),e.updateThumbnails=l.actionCreator("LIBRARY_THUMBNAIL_UPDATE"),e.replaceThumbnails=l.actionCreator("LIBRARY_THUMBNAIL_REPLACE"),e.addThumbnail=l.actionCreator("LIBRARY_ADD_THUMBNAIL")}(a.libraryThumbnail||(a.libraryThumbnail={}))}),
(function(E,P,N){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),function(E){E[E.COMPONENT_UPDATES_AVAILABLE=0]="COMPONENT_UPDATES_AVAILABLE",E[E.COMPONENT_PUBLISH_SUCCESS=1]="COMPONENT_PUBLISH_SUCCESS",E[E.COMPONENT_PUBLISH_ERROR=2]="COMPONENT_PUBLISH_ERROR",E[E.PUBLISHED_COMPONENT_DELETED=3]="PUBLISHED_COMPONENT_DELETED",E[E.PUBLISHED_COMPONENT_UPDATED=4]="PUBLISHED_COMPONENT_UPDATED",E[E.COMMENT_PARTICIPATING_PREFERENCE_OPTED_IN=5]="COMMENT_PARTICIPATING_PREFERENCE_OPTED_IN"}(P.NotificationType||(P.NotificationType={}))}),
(function(E,T,O){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.VECTOR=1]="VECTOR",E[E.TEXT=2]="TEXT",E[E.RASTER=3]="RASTER",E[E.GRADIENT=4]="GRADIENT",E[E.PLACE_IMAGE=5]="PLACE_IMAGE",E[E.HISTORY=6]="HISTORY",E[E.PREVIEW=7]="PREVIEW",E[E.COMMENTS=8]="COMMENTS"}(T.EditModeType||(T.EditModeType={})),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.HISTORY=1]="HISTORY",E[E.PREVIEW=2]="PREVIEW"}(T.TopLevelMode||(T.TopLevelMode={})),function(E){E[E.OFF=0]="OFF",E[E.ON=1]="ON",E[E.MIXED=2]="MIXED"}(T.PropertyState||(T.PropertyState={})),function(E){E[E.NONE=0]="NONE",E[E.COLOR=1]="COLOR"}(T.GradientStopType||(T.GradientStopType={})),function(E){E[E.NONE=0]="NONE",E[E.FILL=1]="FILL",E[E.STROKE=2]="STROKE",E[E.EFFECT=3]="EFFECT",E[E.EXPORT=4]="EXPORT",E[E.LAYOUT_GRID=5]="LAYOUT_GRID",E[E.BACKGROUND=6]="BACKGROUND",E[E.PLUGIN=7]="PLUGIN"}(T.SelectedPropertyType||(T.SelectedPropertyType={})),function(E){E[E.SINGLE_VIEWPORT=0]="SINGLE_VIEWPORT",E[E.HORIZONTAL_SPLIT=1]="HORIZONTAL_SPLIT",E[E.VERTICAL_SPLIT=2]="VERTICAL_SPLIT",E[E.FOUR_WAY_SPLIT=3]="FOUR_WAY_SPLIT"}(T.ViewportLayout||(T.ViewportLayout={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.PrototypeDeviceType||(T.PrototypeDeviceType={})),function(E){E[E.NONE=0]="NONE",E[E.CCW_90=1]="CCW_90"}(T.DeviceRotation||(T.DeviceRotation={})),function(E){E[E.NONE=0]="NONE",E[E.PHONE=1]="PHONE",E[E.TABLET=2]="TABLET",E[E.DESKTOP=3]="DESKTOP",E[E.WATCH=4]="WATCH",E[E.PAPER=5]="PAPER",E[E.SOCIALMEDIA=6]="SOCIALMEDIA"}(T.PresetType||(T.PresetType={})),function(E){E[E.NONE=0]="NONE",E[E.SELECT=1]="SELECT",E[E.HAND=2]="HAND",E[E.COMMENTS=3]="COMMENTS",E[E.DROPPER_COLOR=4]="DROPPER_COLOR",E[E.FRAME=5]="FRAME",E[E.SLICE=6]="SLICE",E[E.STACK=7]="STACK",E[E.SHAPE_STAR=8]="SHAPE_STAR",E[E.SHAPE_LINE=9]="SHAPE_LINE",E[E.SHAPE_ARROW=10]="SHAPE_ARROW",E[E.SHAPE_ELLIPSE=11]="SHAPE_ELLIPSE",E[E.SHAPE_RECTANGLE=12]="SHAPE_RECTANGLE",E[E.SHAPE_REGULAR_POLYGON=13]="SHAPE_REGULAR_POLYGON",E[E.VECTOR_PEN=14]="VECTOR_PEN",E[E.VECTOR_PENCIL=15]="VECTOR_PENCIL",E[E.VECTOR_BEND=16]="VECTOR_BEND",E[E.VECTOR_PAINT_BUCKET=17]="VECTOR_PAINT_BUCKET",E[E.TYPE=18]="TYPE",E[E.SCALE=19]="SCALE"}(T.Tool||(T.Tool={})),function(E){E[E.MISSING=0]="MISSING",E[E.PRESENT=1]="PRESENT",E[E.MIXED=2]="MIXED",E[E.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",E[E.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT"}(T.SelectionPropertyState||(T.SelectionPropertyState={})),function(E){E[E.FRAME_PRESETS=0]="FRAME_PRESETS",E[E.CANVAS_ITEM=1]="CANVAS_ITEM",E[E.TRANSFORM_ITEM=2]="TRANSFORM_ITEM",E[E.INSTANCE_ITEM=3]="INSTANCE_ITEM",E[E.DEPRECATED_FRAME_BACKGROUND_ITEM=4]="DEPRECATED_FRAME_BACKGROUND_ITEM",E[E.CONSTRAINTS_ITEM=5]="CONSTRAINTS_ITEM",E[E.VECTOR_ITEM=6]="VECTOR_ITEM",E[E.GRIDS_ITEM=7]="GRIDS_ITEM",E[E.MASK_ITEM=8]="MASK_ITEM",E[E.LAYER_ITEM=9]="LAYER_ITEM",E[E.TYPE_ITEM=10]="TYPE_ITEM",E[E.FILL_ITEM=11]="FILL_ITEM",E[E.STROKE_ITEM=12]="STROKE_ITEM",E[E.EFFECTS_ITEM=13]="EFFECTS_ITEM",E[E.EXPORT_ITEM=14]="EXPORT_ITEM",E[E.STACK_ITEM=15]="STACK_ITEM",E[E.REMOVE_GROUP_BACKGROUND_ITEM=16]="REMOVE_GROUP_BACKGROUND_ITEM",E[E.OVERFLOW_ITEM=17]="OVERFLOW_ITEM",E[E.NUM_VALUES=18]="NUM_VALUES"}(T.PropertiesPanelType||(T.PropertiesPanelType={})),function(E){E[E.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",E[E.TRANSFORM_CONTROLS=1]="TRANSFORM_CONTROLS",E[E.CORNER_RADIUS=2]="CORNER_RADIUS",E[E.FRAME_OPTIONS=3]="FRAME_OPTIONS",E[E.COUNT=4]="COUNT",E[E.STAR_INNER_SCALE=5]="STAR_INNER_SCALE",E[E.RECTANGLE_CORNER_RADII=6]="RECTANGLE_CORNER_RADII",E[E.FIXED_FRAME_OPTIONS=7]="FIXED_FRAME_OPTIONS",E[E.ARC_DATA=8]="ARC_DATA",E[E.NUM_VALUES=9]="NUM_VALUES"}(T.TransformPanelControl||(T.TransformPanelControl={})),function(E){E[E.NONE=0]="NONE",E[E.INT=1]="INT",E[E.BOOL=2]="BOOL",E[E.FLOAT=3]="FLOAT",E[E.STRING=4]="STRING",E[E.JSON=5]="JSON",E[E.COMMENTS_VIEWPORT_INFO=6]="COMMENTS_VIEWPORT_INFO",E[E.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",E[E.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",E[E.BOOL_ARRAY=9]="BOOL_ARRAY",E[E.GUID=10]="GUID"}(T.JSONSerializableType||(T.JSONSerializableType={})),function(E){E[E.OVERRIDES_FOR_LAYER_AND_SUBLAYERS=0]="OVERRIDES_FOR_LAYER_AND_SUBLAYERS",E[E.EXPORTS=1]="EXPORTS",E[E.EFFECTS=2]="EFFECTS",E[E.LAYER=3]="LAYER",E[E.VISIBLE=4]="VISIBLE",E[E.NAME=5]="NAME",E[E.FILL=6]="FILL",E[E.STROKE=7]="STROKE",E[E.TEXT=8]="TEXT",E[E.TEXT_STYLE=9]="TEXT_STYLE",E[E.SIZE=10]="SIZE",E[E.OVERRIDDEN_SYMBOL=11]="OVERRIDDEN_SYMBOL",E[E.TRANSITION=12]="TRANSITION",E[E.OVERLAY=13]="OVERLAY",E[E.NUM_VALUES=14]="NUM_VALUES"}(T.Reset||(T.Reset={})),function(E){E[E.HEX=0]="HEX",E[E.RGB=1]="RGB",E[E.CSS=2]="CSS",E[E.HSB=3]="HSB",E[E.HSL=4]="HSL"}(T.ColorFormat||(T.ColorFormat={})),function(E){E[E.ALWAYS=0]="ALWAYS",E[E.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY"}(T.Overwrite||(T.Overwrite={})),function(E){E[E.UNJOINED=0]="UNJOINED",E[E.GOT_SCHEMA=1]="GOT_SCHEMA",E[E.JOINING=2]="JOINING",E[E.JOINED=3]="JOINED",E[E.SHOULD_UPGRADE=4]="SHOULD_UPGRADE",E[E.UPGRADING=5]="UPGRADING",E[E.WAITING_FOR_RELOAD=6]="WAITING_FOR_RELOAD"}(T.MultiplayerSessionState||(T.MultiplayerSessionState={})),function(E){E[E.COMMENT=0]="COMMENT",E[E.EMPTY_LINE=1]="EMPTY_LINE",E[E.DECLARATION=2]="DECLARATION",E[E.BLOCK_COMMENT=3]="BLOCK_COMMENT"}(T.CSSExportLineType||(T.CSSExportLineType={})),function(E){E[E.LAYERS=0]="LAYERS",E[E.PUBLISH=1]="PUBLISH",E[E.TEAM_LIBRARY=2]="TEAM_LIBRARY"}(T.LeftPanelTab||(T.LeftPanelTab={})),function(E){E[E.DESIGN=0]="DESIGN",E[E.PROTOTYPE=1]="PROTOTYPE",E[E.CODE=2]="CODE"}(T.PropertiesPanelTab||(T.PropertiesPanelTab={})),function(E){E[E.CSS=0]="CSS",E[E.IOS=1]="IOS",E[E.ANDROID=2]="ANDROID"}(T.HandoffPlatformTarget||(T.HandoffPlatformTarget={})),function(E){E[E.TABULAR=0]="TABULAR",E[E.CODE=1]="CODE"}(T.HandoffOutputFormat||(T.HandoffOutputFormat={})),function(E){E[E.LOCAL=0]="LOCAL",E[E.GOOGLE=1]="GOOGLE",E[E.SHARED=2]="SHARED"}(T.FontSource||(T.FontSource={})),function(E){E[E.SELECTION=0]="SELECTION",E[E.SNAPPING=1]="SNAPPING"}(T.Overlay||(T.Overlay={})),function(E){E[E.SCROLLS=0]="SCROLLS",E[E.FIXED=1]="FIXED"}(T.ScrollBehavior||(T.ScrollBehavior={})),function(E){E[E.CURRENT_TAB=0]="CURRENT_TAB",E[E.NEW_TAB=1]="NEW_TAB"}(T.NavigateTarget||(T.NavigateTarget={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.DeviceType||(T.DeviceType={})),function(E){E[E.CRASH=0]="CRASH",E[E.CONCERNING=1]="CONCERNING",E[E.DANGEROUS=2]="DANGEROUS"}(T.MemoryWarningType||(T.MemoryWarningType={})),function(E){E[E.SEARCH=0]="SEARCH",E[E.PREFERENCES=1]="PREFERENCES"}(T.ToggleMenu||(T.ToggleMenu={})),function(E){E[E.EMPTY=0]="EMPTY",E[E.RESIZING_WIDTH_AND_HEIGHT=1]="RESIZING_WIDTH_AND_HEIGHT",E[E.RESIZING_HEIGHT=2]="RESIZING_HEIGHT",E[E.RESIZING_NONE=3]="RESIZING_NONE",E[E.ALIGNMENT_LEFT=4]="ALIGNMENT_LEFT",E[E.ALIGNMENT_CENTER=5]="ALIGNMENT_CENTER",E[E.ALIGNMENT_RIGHT=6]="ALIGNMENT_RIGHT",E[E.ALIGNMENT_JUSTIFIED=7]="ALIGNMENT_JUSTIFIED",E[E.DECORATION_NONE=8]="DECORATION_NONE",E[E.DECORATION_UNDERLINE=9]="DECORATION_UNDERLINE",E[E.DECORATION_STRIKETHROUGH=10]="DECORATION_STRIKETHROUGH",E[E.TEXT_CASE_ORIGINAL=11]="TEXT_CASE_ORIGINAL",E[E.TEXT_CASE_UPPER=12]="TEXT_CASE_UPPER",E[E.TEXT_CASE_LOWER=13]="TEXT_CASE_LOWER",E[E.TEXT_CASE_TITLE=14]="TEXT_CASE_TITLE",E[E.TEXT_CASE_SMALL_CAPS=15]="TEXT_CASE_SMALL_CAPS",E[E.TEXT_CASE_SMALL_CAPS_FORCED=16]="TEXT_CASE_SMALL_CAPS_FORCED",E[E.FRACTIONS_ON=17]="FRACTIONS_ON",E[E.FRACTIONS_OFF=18]="FRACTIONS_OFF",E[E.DISCRETIONARY_LIGATURES_ON=19]="DISCRETIONARY_LIGATURES_ON",E[E.DISCRETIONARY_LIGATURES_OFF=20]="DISCRETIONARY_LIGATURES_OFF",E[E.HISTORICAL_LIGATURES_ON=21]="HISTORICAL_LIGATURES_ON",E[E.HISTORICAL_LIGATURES_OFF=22]="HISTORICAL_LIGATURES_OFF",E[E.NUMERIC_STYLE_ORIGINAL=23]="NUMERIC_STYLE_ORIGINAL",E[E.NUMERIC_STYLE_UPPER_PROPORTIONAL=24]="NUMERIC_STYLE_UPPER_PROPORTIONAL",E[E.NUMERIC_STYLE_UPPER_MONOSPACE=25]="NUMERIC_STYLE_UPPER_MONOSPACE",E[E.NUMERIC_STYLE_LOWER_PROPORTIONAL=26]="NUMERIC_STYLE_LOWER_PROPORTIONAL",E[E.NUMERIC_STYLE_LOWER_MONOSPACE=27]="NUMERIC_STYLE_LOWER_MONOSPACE",E[E.NUMERIC_POSITION_SUB=28]="NUMERIC_POSITION_SUB",E[E.NUMERIC_POSITION_SUPER=29]="NUMERIC_POSITION_SUPER",E[E.NUMERIC_POSITION_NORMAL=30]="NUMERIC_POSITION_NORMAL",E[E.OPENTYPE_FEATURE_ON=31]="OPENTYPE_FEATURE_ON",E[E.OPENTYPE_FEATURE_OFF=32]="OPENTYPE_FEATURE_OFF"}(T.FontPreviewStyleOverride||(T.FontPreviewStyleOverride={})),function(E){E[E.NONE=0]="NONE",E[E.FRAME=1]="FRAME",E[E.GROUP=2]="GROUP",E[E.STACK=3]="STACK"}(T.FrameLayoutMode||(T.FrameLayoutMode={})),function(E){E[E.VALID=0]="VALID",E[E.NO_FRAMES=1]="NO_FRAMES",E[E.INVALID_CONNECTIONS=2]="INVALID_CONNECTIONS",E[E.NO_START_NODE=3]="NO_START_NODE",E[E.NO_VISIBLE_START_NODE=4]="NO_VISIBLE_START_NODE"}(T.PrototypeStatus||(T.PrototypeStatus={})),function(E){E[E.LOADED=0]="LOADED",E[E.LOADING=1]="LOADING",E[E.FAILED=2]="FAILED"}(T.ResourceStatus||(T.ResourceStatus={})),function(E){E[E.GROUP=0]="GROUP",E[E.UNION=1]="UNION",E[E.SUBTRACT=2]="SUBTRACT",E[E.INTERSECT=3]="INTERSECT",E[E.XOR=4]="XOR"}(T.GroupNodesType||(T.GroupNodesType={})),function(E){E[E.REDUX=0]="REDUX",E[E.PLUGIN=1]="PLUGIN"}(T.NodeContext||(T.NodeContext={})),T.tsapi_init=function(E){T.PerfInfo=E.PerfInfo,window.PerfInfo=T.PerfInfo,T.Fullscreen=E.Fullscreen,T.Multiplayer=E.Multiplayer,T.ColorHelpers=E.ColorHelpers,T.FontHelpers=E.FontHelpers,T.InteractionTestHelpers=E.InteractionTestHelpers,T.SceneGraphHelpers=E.SceneGraphHelpers,T.PrototypingHelpers=E.PrototypingHelpers,T.CustomFocusHelpers=E.CustomFocusHelpers,T.DebuggingHelpers=E.DebuggingHelpers,T.PluginHelpers=E.PluginHelpers,T.SceneNodeCpp=E.SceneNodeCpp,T.PluginSceneNodeCpp=E.PluginSceneNodeCpp,T.FullscreenPerfMetrics=E.FullscreenPerfMetrics,T.SelectionPaintHelpers=E.SelectionPaintHelpers}}),
(function(e,t,r){"use strict";function n(e,t){const r=e.charCodeAt(t);if(Number.isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}throw"Not the start of a single- or multibyte-character"}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.camelCasedToDashed=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.encodeUTF8=function(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},t.decodeUTF8=function(e){let t="";const r=e.length;for(var n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return"\0"===t.slice(-1)&&(t=t.slice(0,-1)),decodeURIComponent(escape(t))},t.truncateText=function(e,t){return e.length>t?e.slice(0,t-3)+"...":e},t.stringToArrayOfRealChars=function(e){const t=[];for(let r=0;r<e.length;r++){const o=n(e,r);r+=o.length-1,t.push(o)}return t};const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function a(e,t,r){return r=r||`${t}s`,1===e?t:r}t.compareStringsNaturally=function(e,t){return e=e||"",t=t||"",o.compare(e,t)},t.joinWordsNaturally=function(e){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length-1).join(", ")} and ${e[e.length-1]}`},t.default=function(e){var t=[];return(e=e.replace(/_|-/g," ")).split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}),t.join(" ")},t.getPluralOrSingular=a,t.pluralize=function(e=0,t,r){return`${e} ${a(e,t,r)}`},t.URISlug=function(e){return encodeURIComponent(e.replace(/ /g,"-"))},t.parseURIString=function(e){return decodeURIComponent(e)},t.isVowel=(e=>/^[aeiou]$/i.test(e)),t.isUrl=(e=>/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)/.test(e))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStringsRaw={"after-selecting-points":"After selecting points…","align-bottom":"Align Bottom","align-centers":"Align Centers","align-horizontal-center":"Align Horizontal Centers","align-left":"Align Left","align-right":"Align Right","align-left-right":"Align Left/Right","align-top":"Align Top","align-top-bottom":"Align Top/Bottom","align-vertical-center":"Align Vertical Centers","arrange-menu":"Arrange","back-to-files":"Back to Files","bend-tool":"Bend Tool",bevel:"Bevel","boolean-intersect":"Destructive Intersect Selection","boolean-menu":"Boolean Groups","boolean-subtract":"Destructive Subtract Selection","boolean-union":"Destructive Union Selection","boolean-xor":"Destructive Exclude Selection","bring-forward":"Bring Forward","bring-to-front":"Bring to Front","category-arrange":"Arrange","category-components":"Components","category-edit":"Edit","category-file-properties":"File & Properties","category-misc":"Misc","category-object":"Object","category-select":"Select","category-text":"Text","category-tools":"Tools","category-transform":"Transform","category-view":"View","center-resize-drag":"Resize from Center","choose-symbol":"Team Library","command-bar-mode-all":"all","command-bar-mode-all-label":"Quick Command","command-bar-mode-all-hint":"Type anything (action, layer, file, etc.)","command-bar-mode-run":"run","command-bar-mode-run-label":"Run","command-bar-mode-run-hint":"Run a menu action","command-bar-mode-goto":"goto","command-bar-mode-goto-label":"Goto Layer","command-bar-mode-goto-hint":"Goto a layer","command-bar-mode-insert":"insert","command-bar-mode-insert-label":"Insert Component","command-bar-mode-insert-hint":"Insert a component","command-bar-mode-open":"open","command-bar-mode-open-label":"Open File","command-bar-mode-open-hint":"Open a file","convert-to-raster":"Rasterize Selection","copy-as-menu":"Copy as","copy-paste-menu":"Copy/Paste","copy-export":"Copy Export","copy-as-css":"Copy as CSS","copy-as-svg":"Copy as SVG","copy-as-png":"Copy as PNG","copy-as-jpg":"Copy as JPG","copy-properties":"Copy Properties","copy-text":"Copy as Text",copy:"Copy","create-symbol":"Create Component","create-multiple-symbols":"Create Multiple Components","create-text-style":"Create Text Style","create-paint-style":"Create Color Style","create-effect-style":"Create Effect Style","create-stroke-style":"Create Stroke Style","crop-image":"Crop Image",cut:"Cut","debug-menu":"Debug","debug-selection":"Debug Log Selection","deep-select":"Deep Select","deep-select-rectangle":"Deep Select Within Rectangle","deep-pick":"Select Layer Menu","delete-and-heal-selection":"Delete and Heal Selection","delete-selection":"Delete","deselect-all":"Select None","detach-instance":"Detach Instance","discard-all-images":"Discard All","distribute-bottom":"Distribute Bottom","distribute-horizontal-center":"Distribute Horizontal Centers","distribute-horizontal-spacing":"Distribute Horizontal Spacing","distribute-left":"Distribute Left","distribute-right":"Distribute Right","distribute-top":"Distribute Top","distribute-spacing":"Distribute Spacing","distribute-vertical-center":"Distribute Vertical Centers","distribute-vertical-spacing":"Distribute Vertical Spacing","download-webgl-trace":"Download WebGL Trace","duplicate-in-place":"Duplicate",duplicate:"Duplicate Selection","edit-menu":"Edit","edit-shape-or-image":"Edit Shape or Image","enter-feedback-mode":"Feedback","enter-layout-mode":"Edit","export-all-frames-to-pdf":"Export Frames to PDF...","export-for-framer":"Export for Framer","export-selected-exportables":"Export...","export-selected-exportables-desc":"Export","figma-account-menu":"Help and Account","file-menu":"File","find-symbol":"Go to Master Component","flatten-selection":"Flatten Selection","flatten-selection-context-menu":"Flatten","flip-horizontal":"Flip Horizontal","flip-vertical":"Flip Vertical","frame-selection":"Frame Selection","get-desktop-app":"Get Desktop App","group-selection":"Group Selection","hide-selected-nodes":"Hide Selection","hide-sibling-layers":"Hide Other Layers","ignore-constraints":"Ignore Constraints","ignore-constraints-desc":"Ignore Constraints (Frames Only)","collapse-layers":"Collapse Layers","new-from-sketch":"New from Sketch File...","insert-component-right-text":"from #{name}","integrations-menu":"Integrations","community-hub-menu":"Community Hub","plugins-menu":"Plugins","plugins-menu-manage":"Manage Plugins...","plugins-menu-dev":"Development","plugins-menu-item":"#{plugin_name}","plugins-menu-sub-item":"#{plugin_sub_name}","plugins-menu-item-run":"Run...","plugins-menu-item-share":"Share...","plugins-menu-show-deprecated":"Deprecated Plugins...","plugins-menu-internal-dev-modal":"Internal Dev...","plugins-menu-use-desktop":"Not Available","plugins-menu-dev-create-new":"New Plugin...","plugins-menu-dev-add":"Add Plugin from File...","plugins-menu-dev-toggle-realms":"Use Developer VM","plugins-menu-add-from-key":"Add Plugin from Key...","plugins-menu-item-reload":"Reload","plugins-menu-item-remove":"Remove...","plugins-menu-open-directory-mac":"Reveal in Finder","plugins-menu-open-directory-win":"Reveal in Explorer","plugins-menu-open-console":"Open Console","plugins-menu-show-error":"Show Error Details...","plugins-menu-plugin-missing":"⚠ Plugin Missing","plugins-menu-manifest-issue":"⚠ Manifest Issue","plugins-run-last":"Run Last Plugin","plugins-realms-vm":"Developer VM","join-selection":"Join Selection","labeled-menu-item":"#{label}","leave-edit-mode":"Done","leave-history-edit-mode":"Exit Version History Mode","leave-vector-edit-mode":"Exit Vector Edit Mode (Esc)","line-height-update-info":"The new rendering changes the line height behavior and fixes many bugs. You can always undo the update.","link-copied":"Link copied to clipboard","live-boolean-intersect":"Intersect Selection","live-boolean-subtract":"Subtract Selection","live-boolean-union":"Union Selection","live-boolean-xor":"Exclude Selection","lock-selected-nodes":"Lock Selection","mask-selection":"Use as Mask","master-component":"Master Component","measure-to-selection":"Measure to Selection",miter:"Miter","mobile-app-push":"View on Mobile","move-while-resizing":"Move While Resizing","navigation-navigate":"Navigate","navigation-overlay":"Open Overlay","navigation-swap":"Swap",new:"New","next-artboard":"Zoom to Next Frame","next-artboard-same-zoom":"Find Next Frame",none:"(none)","object-menu":"Object","opacity-adjust":"Adjust Opacity","open-account-settings":"Account Settings","open-file-right-text":"in #{folder_name}","open-font-settings":"Open Font Settings","open-in-desktop-app":"Open in Desktop App","open-legal-summary":"Legal Summary","open-links-in-desktop-app":"Open Links in Desktop App","open-release-notes":"Release Notes","open-help":"Help Page","open-shortcuts":"Keyboard Shortcuts","open-community":"Community Forum","open-tutorials":"Video Tutorials","open-preferences-modal":"Libraries","outline-stroke":"Outline Stroke","pack-horizontal":"Pack Horizontal","pack-vertical":"Pack Vertical","page-copy-link":"Copy Link","page-delete":"Delete","page-duplicate":"Duplicate","page-move-to":"#{name}","page-move-to-menu":"Move to Page","page-new":"New Page","page-next":"Next Page","page-previous":"Previous Page","page-rename":"Rename",pan:"Pan","paste-and-match-style":"Paste and Match Style","paste-over-selection":"Paste Over Selection","paste-properties":"Paste Properties",paste:"Paste","place-all-images":"Place All",place:"Place Image","preferences-menu":"Preferences","previous-artboard":"Zoom to Previous Frame","previous-artboard-same-zoom":"Find Previous Frame","print-image-diagnostics":"Print Image Diagnostics","print-render-tree":"Print Render Tree","purge-all-memory":"Purge All Non-Essential Memory","push-overrides-to-master":"Push Overrides to Master",quit:"Quit","regenerate-all-instances":"Regenerate All Instances (slow)","flattening-report":"Find Flattening Components","select-broken-fixed-scrolling-nodes":"Debug broken fixed-scrolling layers",redo:"Redo","fix-flattening-frames":"Fix Flattening Frames","remove-fill":"Remove Fill","remove-stroke":"Remove Stroke","rename-selection":"Rename Selection","rename-selection-context-menu":"Rename","request-edit-mode-via-toolbar":"Edit Object","request-edit-mode":"Edit Object","reset-file-thumbnail":"Restore Default Thumbnail","reset-symbol":"Reset Instance","resize-proportionally":"Resize Proportionally","resize-to-fit":"Resize to Fit","remove-connections-on-selection":"Remove Connections","remove-connections-on-page":"Remove All Connections","restore-symbol":"Restore Master Component","rotate-180":"Rotate 180˚","rotate-90-clockwise":"Rotate 90˚ Right","rotate-90-counterclockwise":"Rotate 90˚ Left",round:"Round","round-to-pixels":"Round to Pixel","save-as":"Save as .fig...","save-as-desc":"Save As","create-savepoint":"Save to Version History...","create-savepoint-desc":"Save to Version History","toggle-version-history":"Show Version History","search-results-empty":"No results found","search-results-overflow":"More",search:"Search","select-all":"Select All","select-all-text":"Select All Text Layers","select-inverse":"Select Inverse","select-child":"Select Child","select-node":"#{name}","select-node-menu":"Select Layer","select-parent":"Select Parents","select-next-sibling":"Select Next Sibling","select-previous-sibling":"Select Previous Sibling","swap-to-related-symbol":"Swap Instance","select-same-effect":"Select All with Same Effect","select-same-fill":"Select All with Same Fill","select-same-font":"Select All with Same Font","select-same-instance":"Select All with Same Instance","select-same-stroke":"Select All with Same Stroke","select-same-style":"Select All with Same Properties","select-same-text":"Select All with Same Text Properties","send-backward":"Send Backward","send-to-back":"Send to Back","set-default-style":"Set Default Properties","set-file-thumbnail":"Set as Thumbnail","set-opacity-0":"Set Opacity to 100%","set-opacity-1":"Set Opacity to 10%","set-opacity-2":"Set Opacity to 20%","set-opacity-3":"Set Opacity to 30%","set-opacity-4":"Set Opacity to 40%","set-opacity-5":"Set Opacity to 50%","set-opacity-6":"Set Opacity to 60%","set-opacity-7":"Set Opacity to 70%","set-opacity-8":"Set Opacity to 80%","set-opacity-9":"Set Opacity to 90%","set-tool-arrow":"Arrow","set-tool-bend":"Bend Tool","set-tool-comments":"Add/Show Comments","set-tool-default":"Move","set-tool-ellipse":"Ellipse","set-tool-frame":"Frame","set-tool-hand":"Hand Tool","set-tool-line":"Line","set-tool-paint-bucket":"Paint Bucket","set-tool-pen":"Pen","set-tool-pencil":"Pencil","set-tool-rectangle":"Rectangle","set-tool-regular-polygon":"Polygon","set-tool-scale":"Scale","set-tool-slice":"Slice","set-tool-stack":"Stack","set-tool-star":"Star","set-tool-type":"Text","set-tool-arrow-desc":"Arrow Tool","set-tool-default-desc":"Move Tool","set-tool-ellipse-desc":"Ellipse Tool","set-tool-frame-desc":"Frame Tool","set-tool-line-desc":"Line Tool","set-tool-pen-desc":"Pen Tool","set-tool-pencil-desc":"Pencil Tool","set-tool-rectangle-desc":"Rectangle Tool","set-tool-slice-desc":"Slice Tool","set-tool-type-desc":"Text Tool","show-code-panel":"Show Code Panel","show-design-panel":"Show Design Panel","show-prototype-panel":"Show Prototype Panel","show-nudge-amount-picker":"Nudge Amount...","sign-out":"Log Out","simulate-back-to-files":"Simulate 'Back to Files'","smooth-join-selection":"Smooth Join Selection","stack-selection":"Add Auto Layout","unstack-selection":"Remove Auto Layout","stack-multiple-selection":"Add Auto Layout","stack-counter-align-left":"Align Left","stack-counter-align-horizontal-center":"Align Center","stack-counter-align-horizontal-stretch":"Stretch Left & Right","stack-counter-align-right":"Align Right","stack-counter-align-top":"Align Top","stack-counter-align-vertical-center":"Align Center","stack-counter-align-vertical-stretch":"Stretch Top & Bottom","stack-counter-align-bottom":"Align Bottom","stack-reorder-up":"Move Up","stack-reorder-up-end":"Move to Top","stack-reorder-down":"Move Down","stack-reorder-down-end":"Move to Bottom","stack-reorder-left":"Move Left","stack-reorder-left-end":"Move to Left Edge","stack-reorder-right":"Move Right","stack-reorder-right-end":"Move to Right Edge","swap-fill-and-stroke":"Swap Fill and Stroke","test-action":"Test Action","test-multiplayer-reject-invalid-permissions":"Test Multiplayer 'Invalid permissions'","test-multiplayer-reject-too-many-connections":"Test Multiplayer 'Too many Connections'","test-multiplayer-reject-too-old":"Test Multiplayer 'Client too old'","test-multiplayer-upgrade":"Test Multiplayer Upgrade Protocol","text-align-menu":"Align","text-align-left":"Text Align Left","text-align-center":"Text Align Center","text-align-right":"Text Align Right","text-align-justified":"Text Align Justified","text-align-top":"Text Align Top","text-align-middle":"Text Align Middle","text-align-bottom":"Text Align Bottom","text-edit-hyperlink":"Create Link","text-letter-spacing-increase":"Increase Letter Spacing","text-letter-spacing-decrease":"Decrease Letter Spacing","text-letter-spacing-adjust":"Adjust Letter Spacing","text-font-size-increase":"Increase Font Size","text-font-size-decrease":"Decrease Font Size","text-font-size-adjust":"Adjust Font Size","text-line-height-increase":"Increase Line Height","text-line-height-decrease":"Decrease Line Height","text-line-height-adjust":"Adjust Line Height","text-lower-case":"Lower Case","text-menu":"Text","text-original-case":"Original Case","text-relayout":"Recompute Text Layout in Selection","text-toggle-bold":"Bold","text-toggle-italic":"Italic","text-toggle-strikethrough":"Strikethrough","text-toggle-underline":"Underline","text-upper-case":"Upper Case","tidy-up":"Tidy Up","toggle-annotations":"Show Dimensions on Objects","toggle-copy-renaming":"Rename Duplicated Layers","toggle-show-guids":"Show GUIDs","toggle-force-publish-flattened":"Always Publish Flattened Symbols","toggle-dropper":"Pick Color","toggle-dynamic-color-sliders":"Use Dynamic Color Sliders","toggle-flip-during-resize":"Flip Objects While Resizing","toggle-frame-clipping":"Toggle Clip Content","toggle-google-fonts":"Show Google Fonts","toggle-gradient-edit-mode":"Edit Gradient Paint","toggle-grid":"Pixel Grid","toggle-perf-hud":"Show Performance HUD","toggle-help-widget":"Hide Help UI","toggle-invert-zoom":"Invert Zoom Direction","toggle-keyboard-zoom-to-selection":"Keyboard Zooms into Selection","toggle-layer-hover":"Highlight Layers on Hover","toggle-layers":"Layers","toggle-publish":"Components","toggle-library":"Team Library","toggle-layers-desc":"Show Layers","toggle-publish-desc":"Show Components","toggle-locked-for-selected-nodes":"Lock/Unlock Selection","toggle-locked-for-selected-nodes-context-menu":"Lock/Unlock","toggle-menu":"Search...","toggle-multiplayer-cursors":"Show Multiplayer Cursors","toggle-outlines":"Outlines","toggle-pen-tool-avoid-single-handles":"Avoid Single Handles with Pen Tool","toggle-pixel-preview":"Pixel Preview","toggle-properties":"Show Properties","toggle-quick-command":"Quick Command","toggle-raster-edit-mode":"Edit Image Crop","toggle-recording-interactions":"Toggle Interaction Recorder","toggle-retina-mode":"Retina Mode","toggle-rulers":"Rulers","toggle-resource-use":"Resource Use","toggle-show-masks":"Mask Outlines","toggle-show-artboard-outlines":"Frame Outlines","toggle-show-slices":"Show Slices","toggle-shown-for-selected-nodes":"Show/Hide Selection","toggle-shown-for-selected-nodes-context-menu":"Show/Hide","toggle-shown-layout-grids":"Layout Grids","toggle-sidebar":"Layers Panel","toggle-smart-quotes":"Substitute Smart Quotes","toggle-snapping-to-geometry":"Snap to Geometry","toggle-snapping-to-objects":"Snap to Objects","toggle-snapping-to-pixels":"Snap to Pixel Grid","toggle-sticky-tools":"Keep Tool Selected after Use","toggle-toggle-selected-layers":"Include Selected Layers When Toggling Expansion","toggle-ui":"Show/Hide UI","toggle-use-numbers-for-opacity":"Use Number Keys for Opacity","toggle-verbose-tooltips":"Show Verbose Tooltips","toggle-viewport-overlay-hiding":"Hide Canvas UI During Changes","toggle-zeplin-integration":"Zeplin","toggle-avocode-integration":"Avocode","export-to-dribbble":"Dribbble","zeplin-export-selection":"Export selection to Zeplin","avocode-export-selection":"Export selection to Avocode","toolbar-crop-vector":"Crop Edit","toolbar-gradient-vector":"Gradient Edit","toolbar-place-image":"Click or Drag to Place","toolbar-text-vector":"Text Edit","toolbar-vector-vector":"Vector Edit",undo:"Undo","ungroup-selection":"Ungroup Selection","ungroup-selection-context-menu":"Ungroup","unhide-all":"Unhide All Objects","unlock-all":"Unlock All Objects","use-c2":"Use c2","vector-menu":"Vector","savepoint-edit":"Edit Version Info","savepoint-label":"Name This Version","savepoint-restore":"Restore This Version","savepoint-link":"Copy Link","savepoint-duplicate":"Duplicate","savepoint-clear":"Delete Version Info","swap-instance":"Swap Component Instance","view-menu":"View","viewport-single":"Single Viewport","viewport-split-four-way":"4-Way Split Viewport","viewport-split-horizontal":"Horizontal Split Viewport","viewport-split-vertical":"Vertical Split Viewport","while-clicking":"While clicking…","while-dragging-from-assets":"While dragging from Assets…","while-dragging-to-select":"While dragging to select…","while-editing-shape":"While editing a shape…","while-moving":"While moving…","while-pointing":"While pointing…","while-resizing":"While resizing…","zoom-in":"Zoom In","zoom-out":"Zoom Out","zoom-reset":"Zoom to 100%","zoom-to-fit":"Zoom to Fit","zoom-to-selection":"Zoom to Selection"},t.defaultStrings=t.defaultStringsRaw}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(163                               ),i=t(165                                     );o.defaultAppModel={strings:i.defaultStrings,isInitialized:!1,hasMissingFonts:!1,hasGlContext:!0,activeCanvasCurrentZoom:1,activeCanvasPixelPreview:!1,renderGrid:!0,currentTool:n.Tool.SELECT,activeCanvasEditModeType:n.EditModeType.LAYOUT,showUi:!0,showKeyboardShortcuts:!1,hideHelpWidget:!1,topLevelMode:n.TopLevelMode.LAYOUT,urlNodeId:"-1:-1",selectionEmpty:!1,snapToPixelGrid:!0,showFrameGrids:!1,showFrameGridsViewOnly:!1,showFrameGridsForced:!1,hideMultiplayerCursors:!1,showArtboardOutline:!1,useRealmsForPluginDev:!1,showMasks:!1,showSlices:!0,showOutlines:!1,activeCanvasRetinaMode:!1,currentSelectedGradientStop:{type:n.GradientStopType.NONE,index:-1},currentSelectedProperty:{type:n.SelectedPropertyType.NONE,indices:[]},flipDuringResize:!0,isUserPresent:!1,keyboardZoomToSelection:!1,layerHover:!0,pagesPanelHeight:101,pagesPanelIsOpen:!1,penToolAvoidSingleHandles:!0,showGuids:!1,forcePublishFlattened:!1,renderAnnotations:!0,renderResourceUse:!1,renderRulers:!1,showGoogleFonts:!0,showProperties:!0,showSidebar:!0,zeplinIntegration:!1,avocodeIntegration:!1,showTooltips:!1,sidebarSplitPosition:240,smartQuotes:!0,snapToGeometry:!0,snapToObjects:!0,splitViewportMode:n.ViewportLayout.SINGLE_VIEWPORT,stickyTools:!1,copyRenaming:!0,temporarilyHideViewportOverlay:!0,toggleSelectedLayers:!1,expandedFramePresetType:n.PresetType.PHONE,backgroundPickerOpen:!1,prototypeBackgroundPickerOpen:!1,subscribedComponents:[],publishableComponents:[],styles:[],subscribedStyles:[],colorFormat:n.ColorFormat.HEX,hoveredNode:"",invertZoom:!1,useNumbersForOpacity:!0,multiplayerSessionState:n.MultiplayerSessionState.UNJOINED,smallNudgeAmount:1,bigNudgeAmount:10,showMissingFontsButton:!1,isReadOnly:!0,activeCommentNode:"-1:-1",activeCanvasPrototypeDeviceType:n.PrototypeDeviceType.NONE,showOutOfDateWall:!1,thumbnailNodeId:null,imageTotalCount:0,imageDecodedOrFailedCount:0,hyperlinkLocation:null,keyboardShortcuts:{},shownPropertiesPanels:{},shownTransformControls:0,propertiesPanelTab:n.PropertiesPanelTab.DESIGN,typeDetailsPanelOpen:!1,handoffPlatformTarget:n.HandoffPlatformTarget.CSS,handoffOutputFormat:n.HandoffOutputFormat.CODE,selectionIsMask:n.PropertyState.OFF,actionEnabledAlignTop:!1,actionEnabledAlignVerticalCenter:!1,actionEnabledAlignBottom:!1,actionEnabledAlignLeft:!1,actionEnabledAlignHorizontalCenter:!1,actionEnabledAlignRight:!1,actionEnabledDistributeHorizontalSpacing:!1,actionEnabledDistributeVerticalSpacing:!1,actionEnabledResizeToFit:!1,actionEnabledStackSelection:!1,actionEnabledUnstackSelection:!1,actionEnabledLiftSelectionOutOfScrollableFrame:!1,actionEnabledDropSelectionIntoScrollableFrame:!1,currentPage:"0:1",pagesList:[]},function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(o.ShouldCommit||(o.ShouldCommit={}))}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(86      ),o=r(85                   ),a=r(164         ),i=r(138                                   ),c=r(106                                     ),s=r(166                      ),u=r(163                               );function l(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;for(let r in e)if((e[r]||n[r])&&e[r]!==n[r])return!1;for(let r in n)if((e[r]||n[r])&&e[r]!==n[r])return!1;return!0}n.stringsAreEqualOrBothFalsey=function(e,n){return!e&&!n||e===n},n.componentContainingPagesMatch=function(e,n){return!e&&!n||!(!e||!n)&&e.pageId==n.pageId},n.componentContainingFramesMatch=function(e,n){return!e&&!n||!(!e||!n)&&e.nodeId==n.nodeId},n.componentPageAndContainerMetadataMatch=l,n.shouldRepublishBecauseOfContainerChange=function(e,n){const r=e?e.nodeId:void 0,t=e?e.name:void 0,o=e?e.backgroundColor:void 0,a=e?e.pageId:void 0,i=n?n.nodeId:void 0,c=n?n.name:void 0,s=n?n.backgroundColor:void 0,u=n?n.pageId:void 0;return!(r===i&&t===c&&o===s&&!a&&u||l(e,n))},n.appModel=function(e=s.defaultAppModel,n){return c.fileBrowser.init.matches(n)?s.defaultAppModel:i.fullscreen.updateMirror.matches(n)&&n.payload.appModelChanges?(-1===(e=Object.assign(Object.assign(Object.assign({},e),n.payload.appModelChanges),{isInitialized:!0})).currentSelectedGradientStop.index&&(e.currentSelectedGradientStop={index:0,type:u.GradientStopType.COLOR}),e):e},n.fullscreenMenuDropdownKey="fullscreen-menu-dropdown",n.isFullscreenMenuVisible=(e=>e&&e.type===n.fullscreenMenuDropdownKey),n.quickCommandBarDropdownKey="quick-command-bar-dropdown",n.isQuickCommandBarVisible=(e=>e&&e.type===n.quickCommandBarDropdownKey),n.floatingSearchDropdownKey="floating-search-dropdown",n.isFloatingSearchVisible=(e=>e&&e.type===n.floatingSearchDropdownKey);const d=Object.create(null);function p(e){let n=d[e];return n||(n=d[e]="actionEnabled"+a.capitalizeFirstLetter(a.toCamelCase(e))),n}function f(e,n){if(e){let r=e[n];if("string"==typeof r)return r;if(Array.isArray(r))for(let e of r){if("string"==typeof e)return e;if(o.getFeatureFlags()[e["feature-flag"]])return e.value}}return console.warn(`Missing string for action: ${n}`),"(missing)"}n.actionEnabledKey=p,n.isActionEnabled=function(e,n){return e[p(n)]},n.getStringWithSubstitutions=function(e,n,r){let t=f(e,n);return r&&(t=t.replace(/#\{(\w+)\}/g,(e,n)=>r[n]?r[n]:"")),t},n.getString=f,n.getKeyboardShortcut=function(e,n){switch(n){case"set-tool-bend":return t.mac?"⌘":"Ctrl";case"stack-reorder-left":case"stack-counter-align-left":return"←";case"stack-reorder-left-end":return"⌥←";case"stack-reorder-right":case"stack-counter-align-right":return"→";case"stack-reorder-right-end":return"⌥→";case"stack-reorder-up":case"stack-counter-align-top":return"↑";case"stack-reorder-up-end":return"⌥↑";case"stack-reorder-down":case"stack-counter-align-bottom":return"↓";case"stack-reorder-down-end":return"⌥↑"}if(e[n]){let r=e[n];if(r&&r.length>=1)return r[0]}return""},n.currentCanvasNodeId=function(e){return e&&e.currentPage?e.currentPage:"0:1"}}),
(function(N,E,e){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(N){N[N.NONE=0]="NONE",N[N.SPINNER=1]="SPINNER",N[N.CHECK=2]="CHECK",N[N.EXCLAMATION=3]="EXCLAMATION",N[N.RETURN_TO_INSTANCE=4]="RETURN_TO_INSTANCE",N[N.PROGRESS=5]="PROGRESS"}(E.VisualBellIcon||(E.VisualBellIcon={}))}),
(function($,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=t(3,1    );class a extends s.PureComponent{render(){const{fraction:$,width:e=18}=this.props,t=2*$*Math.PI,a="string"==typeof e?parseFloat(e):e,r=a/2,o=a/2,l=o-3,n=r+l*Math.cos(t-Math.PI/2),i=r+l*Math.sin(t-Math.PI/2);let h="",c="";$<=.5?h=`M${r},${r} L${r},${r-l} A${l},${l} 1 0,1 ${n},${i} Z`:(h=`M${r},${r} L${r},${r-l} A${l},${l} 1 0,1 ${r},${r+l} Z`,c=`M${r},${r} L${r},${r+l} A${l},${l} 1 0,1 ${n},${i} Z`);const p=`M ${r-o},${r} `+`a ${o},${o} 0 1,0 ${r+o},${r-o} `+`a ${o},${o} 0 1,0 ${-(r+o)},${r-o} Z`+`M ${r-(o-1)},${r} `+`a ${o-1},${o-1} 0 1,0 ${2*(o-1)},0 `+`a ${o-1},${o-1} 0 1,0 ${-2*(o-1)},0 Z`;return s.createElement("svg",{width:a,height:a,className:this.props.className,viewBox:`0 0 ${a} ${a}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fillRule:"evenodd",d:`${p} ${h} ${c}`,fill:this.props.pathFill}))}}e.Progress=a,a.displayName="Progress"}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=null,t=!1;function o(e,r){if(t){if(!i)throw new Error("Tried to record without a recording listener");i(e,r)}}r.enableRecording=function(){t=!0},r.disableRecording=function(){t=!1},r.isRecording=function(){return t},r.record=o,r.setRecordingListener=function(e){if(i)throw new Error("Tried to register already-registered recording listener");i=e},r.removeRecordingListener=function(){if(!i)throw new Error("Tried to unregister never-registered recording listener");i=null};const c=!1,d=Object.create(null);function l(e,r){if(-1!==(e in d?d[e].indexOf(r):-1))throw new Error(`Tried to register already registered playback handler for ${e}`);d[e]||(d[e]=[]),d[e].push(r)}function a(e,r){const n=e in d?d[e].indexOf(r):-1;if(-1===n)throw new Error(`Tried to unregister unknown playback handler for ${e}`);d[e].splice(n,1),0===d[e].length&&delete d[e]}function s(e,r){return`${e}.${r}`}function g(e){const r=e;if(r.__registeredRecordingKey){c&&console.log("[InteractionRecorder] unregister",r.__registeredRecordingKey);for(let e in r.__playbackHandlers){a(s(r.__registeredRecordingKey,e),r.__playbackHandlers[e])}r.__registeredRecordingKey=null}}r.playback=function(e,r){if(!(e in d)||0===d[e].length)throw new Error(`No playback handler registered for ${e}`);if(d[e].length>1)throw new Error(`Multiple playback handlers registered for ${e}`);d[e][0](r)},r.addPlaybackHandler=l,r.removePlaybackHandler=a,r.hasPlaybackHandler=function(e){return e in d},r.registerInteractable=function e(r){const n=r,i=r.recordingKey();if(i)if(n.__registeredRecordingKey)i!==n.__registeredRecordingKey&&(g(r),e(r));else{n.__registeredRecordingKey=i,c&&console.log("[InteractionRecorder] register",i);for(let e in n.__playbackHandlers)l(s(i,e),n.__playbackHandlers[e])}},r.unregisterInteractable=g,r.SKIP_RECORDING="SKIP_RECORDING",r.recordInteraction=function(e,r,n,i={}){const c=i.record||(e=>e),d=i.playback||(e=>e),l=e,a=l.__playbackHandlers||(l.__playbackHandlers=Object.create(null));if(r in a)throw new Error(`Tried to register duplicate playback handler for ${r}`);return a[r]=(e=>n(d(e))),function(e){0===n.length&&(e=void 0);const i=n(e);t&&"SKIP_RECORDING"!=i&&(l.__registeredRecordingKey?o(s(l.__registeredRecordingKey,r),c(e)):console.warn(`No recording key registered to handle ${r} on`,l))}}}),
(function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=new Int32Array(127);for(var o=0;o<127;o++)n[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));e.decode=function(r){for(var e=0,t=r.length>>>2,o=new Uint8Array(3*t),a=0;e<t<<2;){var c=n[127&r.charCodeAt(e++)],d=n[127&r.charCodeAt(e++)],f=n[127&r.charCodeAt(e++)],i=n[127&r.charCodeAt(e++)];o[a++]=c<<2|d>>>4,f>=0&&(o[a++]=d<<4|f>>>2),i>=0&&(o[a++]=f<<6|i)}return a===o.length?o:o.subarray(0,a)},e.encode=function(r){for(var e="",t=r.length,n=0;n<t;n+=1024)e+=String.fromCharCode.apply(String,r.subarray(n,n+1024));return btoa(e)}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3,1    ),o=n(85                 ),s=n(170                      ),a=n(171       );let c="/test/interactions"===window.location.pathname;function i(){return c}t.isDevelopmentEnvironment=!1,t.setIsDevelopmentEnvironment=function(e){t.isDevelopmentEnvironment=e},t.setRunningInteractionTests=function(e){c=e},t.isRunningInteractionTests=i;const u=new Set;function l(){return!!t.isDevelopmentEnvironment||(c||o.getFeatureFlags()&&o.getFeatureFlags().interaction_recorder)}function d(e){l()&&s.registerInteractable(e)}function b(e){l()&&s.unregisterInteractable(e)}t.addTestStartListener=function(e){i()&&u.add(e)},t.removeTestStartListener=function(e){i()&&u.delete(e)},t.runTestStartCallbacks=function(){u.forEach(e=>e())},t.recordingOrPlaybackIsEnabled=l,t.register=d,t.unregister=b,t.joinKeys=function(e,...t){let n=e.recordingKey;return n?n+"."+t.join("."):n};class y extends r.PureComponent{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}t.PureComponent=y;class g extends r.Component{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}function f(e,t,n,r={}){return l()?s.recordInteraction(e,t,n,r):n}function p(e){const t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}t.Component=g,t.SKIP_RECORDING=s.SKIP_RECORDING,t.otherEvent=f;const k={preventDefault(){},stopPropagation(){}};function m(e){const t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}function v(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=(()=>t(new Uint8Array(r.result))),r.onerror=(e=>n(e)),r.readAsArrayBuffer(e)})}t.mouseEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.dropEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.dataTransfer.files,n={};if(t){const e=[];for(const n of t){const t=e.length;e.push("(failed to read file)"),v(n).then(n=>{let r=a.encode(n);r.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),r="(file too large)"),e[t]=r})}n.files=e}return Object.assign(Object.assign({buttons:e.buttons},p(e)),{dataTransfer:n})},playback(e){const t={};return e.dataTransfer.files&&(t.files=e.dataTransfer.files.map(e=>new Blob([a.decode(e)]))),Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),{dataTransfer:t})}})},t.wheelEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.keyboardEvent=function(e,t,n){return f(e,t,n,{record:e=>Object.assign({key:e.key,keyCode:e.keyCode},p(e)),playback:e=>Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k)})},t.propagatingKeyboardEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.event;return Object.assign({key:t.key,keyCode:t.keyCode},p(t))},playback:e=>({event:Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k),accept:()=>{}})})},t.changeEvent=function(e,t,n){return f(e,t,n,{record:e=>"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){const t={value:e.value,checked:e.checked};return Object.assign({target:t,currentTarget:t},k)}})},t.submitEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>Object.assign({},k)})},t.focusEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>({})})}}),
(function(a,o,s){a.exports={autoscale:"svg--autoscale--11OB-"}}),
(function(e,s,t){"use strict";var r=this&&this.__rest||function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)s.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),n=t(172              ),i=t(173        );s.rawSvgSrc=function(e){return{src:e}};class l extends n.PureComponent{constructor(){super(...arguments),this.onClick=n.mouseEvent(this,"click",e=>{this.props.onClick(e)}),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e=this.props.svg;if(!e)return null;let s=e.src,t=Object.assign({},this.props);delete t.svg,delete t.useOriginalSrcFills,delete t.recordingKey,this.props.onClick&&this.props.recordingKey&&(t.onClick=this.onClick),this.props.onMouseDown&&this.props.recordingKey&&(t.onMouseDown=this.onMouseDown);let n=this.props.useOriginalSrcFills?"":"svg-container";this.props.className&&(n+=` ${this.props.className}`),s=s.replace("<svg ",'<svg class="svg" ');const{autosize:l}=t,c=r(t,["autosize"]);if(!0===l){n+=` ${i.autoscale}`;const e=c.style?Object.assign({},c.style):{};e.height=t.height,e.width=t.width,c.style=e}return this.props.href?o.createElement("a",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n})):o.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n}))}}s.Svg=l,l.displayName="Svg"}),
(function(n,o,r){n.exports={root:"loading_spinner--root--18y7u",svgContainer:"loading_spinner--svgContainer--20WMO",rotate:"loading_spinner--rotate--qgb8P",blueSpinner:"loading_spinner--blueSpinner--1UrbW loading_spinner--root--18y7u"}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1c-1.384 0-2.738.41-3.889 1.18-1.151.769-2.048 1.862-2.578 3.141-.53 1.28-.669 2.687-.398 4.045.27 1.357.936 2.605 1.915 3.584.98.979 2.227 1.645 3.584 1.916 1.358.27 2.766.131 4.045-.399 1.279-.53 2.372-1.427 3.141-2.578C14.59 10.738 15 9.384 15 8h1c0 1.582-.47 3.129-1.348 4.445-.88 1.315-2.129 2.34-3.59 2.946-1.462.606-3.07.764-4.623.455-1.552-.308-2.977-1.07-4.096-2.19-1.119-1.118-1.88-2.543-2.19-4.095C-.154 8.009.004 6.4.61 4.939c.605-1.462 1.63-2.712 2.946-3.59C4.871.468 6.418 0 8 0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 1.438c-2.682 0-5.305.795-7.535 2.285-2.23 1.49-3.969 3.609-4.995 6.087l-.462-.191.462.19c-1.027 2.48-1.295 5.206-.772 7.837.523 2.63 1.815 5.047 3.712 6.944 1.897 1.897 4.313 3.189 6.944 3.712 2.631.523 5.358.255 7.836-.772 2.478-1.027 4.596-2.765 6.087-4.995 1.49-2.23 2.285-4.853 2.285-7.535h1c0 2.88-.854 5.696-2.454 8.09l-.416-.277.416.277c-1.6 2.395-3.874 4.262-6.535 5.364l-.192-.462.192.462c-2.661 1.102-5.59 1.39-8.414.829-2.825-.562-5.42-1.95-7.456-3.986-2.037-2.036-3.424-4.631-3.986-7.456l.49-.098-.49.098c-.562-2.825-.273-5.753.829-8.414 1.102-2.66 2.969-4.935 5.364-6.535C9.304 1.292 12.12.438 15 .438v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=s(3,1    ),r=s(175                    ),t=s(174                        ),i=s(176                           ),p=s(177                                 );class l extends a.Component{render(){return a.createElement("span",{className:`${r.root} ${this.props.className||""}`},a.createElement(t.Svg,{svg:i,className:r.svgContainer}))}}n.LoadingSpinner=l,l.displayName="LoadingSpinner";class o extends a.PureComponent{render(){return a.createElement("span",{className:`${r.blueSpinner} ${this.props.className||""}`},a.createElement(t.Svg,{svg:p,className:r.svgContainer}))}}n.BlueLoadingSpinner=o,o.displayName="BlueLoadingSpinner"}),
(function(o,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(3,1    ),t=s(172            );class i extends t.PureComponent{constructor(){super(...arguments),this.onClick=t.mouseEvent(this,"click",o=>this.props.onClick?this.props.onClick(o):t.SKIP_RECORDING),this.onContextClick=t.mouseEvent(this,"contextmenu",o=>this.props.onContextMenu?this.props.onContextMenu(o):t.SKIP_RECORDING),this.onDoubleClick=t.mouseEvent(this,"dblclick",o=>this.props.onDoubleClick?this.props.onDoubleClick(o):t.SKIP_RECORDING),this.onMouseDown=t.mouseEvent(this,"mousedown",o=>this.props.onMouseDown?this.props.onMouseDown(o):t.SKIP_RECORDING),this.onMouseUp=t.mouseEvent(this,"mouseup",o=>this.props.onMouseUp?this.props.onMouseUp(o):t.SKIP_RECORDING),this.onMouseMove=t.mouseEvent(this,"mousemove",o=>this.props.onMouseMove?this.props.onMouseMove(o):t.SKIP_RECORDING),this.onMouseEnter=t.mouseEvent(this,"mouseenter",o=>this.props.onMouseEnter?this.props.onMouseEnter(o):t.SKIP_RECORDING),this.onMouseLeave=t.mouseEvent(this,"mouseleave",o=>this.props.onMouseLeave?this.props.onMouseLeave(o):t.SKIP_RECORDING),this.onKeyDown=t.keyboardEvent(this,"keydown",o=>this.props.onKeyDown?this.props.onKeyDown(o):t.SKIP_RECORDING)}render(){const o=Object.assign({},this.props);return this.recordingKey&&(this.props.onClick&&(o.onClick=this.onClick),this.props.onDoubleClick&&(o.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(o.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(o.onMouseMove=this.onMouseMove),this.props.onMouseEnter&&(o.onMouseEnter=this.onMouseEnter),this.props.onMouseLeave&&(o.onMouseLeave=this.onMouseLeave),this.props.onMouseUp&&(o.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(o.onContextMenu=this.onContextClick),this.props.onKeyDown&&(o.onKeyDown=this.onKeyDown),delete o.recordingKey),this.node(o)}}e.RecordableElement=i,i.displayName="RecordableDiv";e.RecordableDiv=class extends i{node(o){return n.createElement("div",Object.assign({},o))}};e.RecordableButton=class extends i{node(o){return n.createElement("button",Object.assign({},o))}}}),
(function(e,s,l){e.exports={base:"visual_bell--base--1xST5",interactive:"visual_bell--interactive--2rWMO",raised:"visual_bell--raised--d6SPu",messageContainer:"visual_bell--messageContainer--3tSMR _overlayBase--_overlayBase--1sCqN text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",shown:"visual_bell--shown--1fe5g",error:"visual_bell--error--32-jv",icon:"visual_bell--icon--ajLA7",message:"visual_bell--message--2RwJy",button:"visual_bell--button--12MWc",dismissIcon:"visual_bell--dismissIcon--2wUqy",progressIcon:"visual_bell--progressIcon--1szNu"}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.442 4.442L6.5 12.384 2.558 8.442l.884-.884L6.5 10.616l7.058-7.058.884.884z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(o,t,i){o.exports={src:'<svg width="6" height="14" viewBox="0 0 6 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 0h2v8H2V0zm1 12.25c.69 0 1.25-.56 1.25-1.25 0-.69-.56-1.25-1.25-1.25-.69 0-1.25.56-1.25 1.25 0 .69.56 1.25 1.25 1.25z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M3.31 5.25l2.22 2.22-1.06 1.06L.44 4.5 4.47.47l1.06 1.06-2.22 2.22H6.5c3.714 0 6.75 3.036 6.75 6.75V12h-1.5v-1.5c0-2.886-2.364-5.25-5.25-5.25H3.31z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 4.94L10.47.47l1.06 1.06L7.06 6l4.47 4.47-1.06 1.06L6 7.06l-4.47 4.47-1.06-1.06L4.94 6 .47 1.53 1.53.47 6 4.94z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    ),i=s(130                                              ),l=s(168                                    ),r=s(169                                 ),n=s(174                        ),o=s(178                                        ),d=s(179                         ),c=s(180                ),u=s(181                                     ),h=s(182                                           ),m=s(183                                      ),p=s(184                                 ),y=.5,g=400,v=1e3,D=4e3,T="undefined"!=typeof performance?performance.now.bind(performance):Date.now.bind(Date);class b extends a.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{void 0!==this.state.hideTimer&&(this.setState({hideTimer:void 0}),clearTimeout(this.state.hideTimer))}),this.onMouseLeave=(()=>{if(this.state.currentData){const t=this.calcTimeout(this.state.currentData,this.props.visualBell.length);this.setState({hideTimer:this.startHideTimer(t)})}}),this.dismiss=(()=>{this.state.currentData&&(this.state.currentData.preventDismissal||(this.setState({hideTimer:void 0}),this.state.currentData.onDismiss&&this.state.currentData.onDismiss(),this.props.dispatch(i.visualBell.dequeue({}))))}),this.primaryButton=(()=>null==this.state.displayedData||null==this.state.displayedData.button?null:"primary"in this.state.displayedData.button?this.state.displayedData.button.primary:this.state.displayedData.button),this.secondaryButton=(()=>null==this.state.displayedData||null==this.state.displayedData.button?null:"secondary"in this.state.displayedData.button?this.state.displayedData.button.secondary:null),this.secondaryActionClick=(t=>{t.currentTarget&&t.currentTarget.blur();const e=this.secondaryButton();e&&e.action(t)}),this.actionClick=(t=>{t.currentTarget&&t.currentTarget.blur();const e=this.primaryButton();e&&e.action(t)}),this.state={hideStartTime:0,displayedData:this.props.visualBell[0]||null,currentData:this.props.visualBell[0]||null}}startHideTimer(t){if(t!==1/0){var e=setTimeout(()=>{this.props.dispatch(i.visualBell.dequeue({})),this.state.hideTimer===e&&this.setState({hideTimer:void 0})},Math.max(g,t));return e}}calcTimeout(t,e){let s=Math.max(t.timeout||0,0)||(t.button?D:v);return e>1&&(!t.timeoutType||"suggested"===t.timeoutType)&&(s*=Math.pow(y,e-1)),t.delay&&(s+=t.delay),s}componentDidMount(){if(!this.state.displayedData)return;const t=this.calcTimeout(this.state.currentData,this.props.visualBell.length);this.setState({hideTimer:this.startHideTimer(t),hideStartTime:T()})}UNSAFE_componentWillReceiveProps(t){const e=t.visualBell,s=e[0]||null;if(this.state.currentData!==s){clearTimeout(this.state.hideTimer);const t=s?this.startHideTimer(this.calcTimeout(s,e.length)):void 0;this.setState({currentData:s,displayedData:s||this.state.displayedData,hideTimer:t,hideStartTime:T()})}else if(e!==this.props.visualBell&&this.state.currentData){let t=T()-this.state.hideStartTime,s=this.calcTimeout(this.state.currentData,e.length)-t;clearTimeout(this.state.hideTimer),s<20?(this.setState({hideTimer:void 0}),this.props.dispatch(i.visualBell.dequeue({}))):this.setState({hideTimer:this.startHideTimer(s)})}}render(){const t=this.state.currentData;let e="",s="";t&&t.button&&(e+=` ${c.interactive}`),t&&(s=c.shown),this.state.displayedData&&this.state.displayedData.error&&(s+=` ${c.error}`);const i=this.state.displayedData&&this.state.displayedData.icon||l.VisualBellIcon.NONE;let y,g=null;if(i===l.VisualBellIcon.SPINNER)g=a.createElement("div",{className:c.icon},a.createElement(o.LoadingSpinner,null));else if(i===l.VisualBellIcon.CHECK)g=a.createElement(n.Svg,{className:c.icon,svg:u});else if(i===l.VisualBellIcon.EXCLAMATION)g=a.createElement(n.Svg,{className:c.icon,svg:h});else if(i===l.VisualBellIcon.RETURN_TO_INSTANCE)g=a.createElement(n.Svg,{className:c.icon,svg:m});else if(i===l.VisualBellIcon.PROGRESS){const t=this.state.displayedData;let e=t&&null!=t.progressKey&&t.progressKey in this.props.progress?this.props.progress[t.progressKey].progress:0;g=a.createElement(r.Progress,{className:c.progressIcon,fraction:e,pathFill:"#FFFFFF"})}t&&t.delay&&(y={transitionDelay:t.delay+"ms"});const v=this.primaryButton(),D=this.secondaryButton();let T=`${c.base} ${e}`;return this.props.raised&&(T+=` ${c.raised}`),a.createElement("div",{className:T},a.createElement("div",{className:`${c.messageContainer} ${s}`,onMouseEnter:t&&t.button?this.onMouseEnter:void 0,onMouseLeave:t&&t.button?this.onMouseLeave:void 0,onClick:this.dismiss,style:y},this.state.displayedData&&this.state.displayedData.message&&a.createElement(a.Fragment,null,g,a.createElement("span",{className:c.message},this.state.displayedData.message)),this.state.displayedData&&D&&a.createElement(d.RecordableButton,{onClick:this.secondaryActionClick,className:c.button,recordingKey:"visualBellSecondaryButton"},!this.state.displayedData.message&&g,D.text),this.state.displayedData&&v&&a.createElement(d.RecordableButton,{onClick:this.actionClick,className:c.button,recordingKey:"visualBellButton"},!this.state.displayedData.message&&!D&&g,v.text),this.state.displayedData&&this.state.displayedData.onDismiss&&a.createElement(n.Svg,{className:c.dismissIcon,svg:p})))}}e.VisualBellView=b,b.displayName="VisualBellView"}),
(function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const n=t(130                                              );l.visualBellMiddleware=(e=>l=>(function(t){const u=l(t);if(n.visualBell.enqueue.matches(t)){const l=e.getState();l.visualBell=function(e){let l=e.length-1;for(;l>0&&e[l-1].timeout===1/0;){const t=e[l];e[l]=e[l-1],e[l-1]=t,l-=1}return e}(l.visualBell)}return u}))}),
(function(l,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(130                             );e.visualBellActions=a.visualBell;var s=i(185                          );e.VisualBellView=s.VisualBellView;var u=i(186                                );e.visualBellMiddleware=u.visualBellMiddleware}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(98                  ),o=i(105               ),r=i(146                                          ),E=i(187                             ),n=i(124     );!function(e){e[e.FILE_URL=0]="FILE_URL",e[e.EMBED_CODE=1]="EMBED_CODE"}(t.CopyType||(t.CopyType={})),function(e){e.tryDeleteFiles=a.actionCreator("TRY_DELETE_FILES"),e.getActiveUsers=a.actionCreator("FILE_GET_ACTIVE_USERS"),e.setActiveUsers=a.actionCreator("FILE_SET_ACTIVE_USERS"),e.deleteActiveUsers=a.actionCreator("FILE_CLEAR_ACTIVE_USERS"),e.put=a.actionCreator("FILE_PUT"),e.post=a.actionCreator("FILE_POST"),e.tryMove=a.actionCreator("FILE_TRY_MOVE"),e.move=a.actionCreator("FILE_MOVE"),e.duplicate=a.actionCreator("FILE_DUPLICATE"),e.duplicateCheckpoint=a.actionCreator("FILE_DUPLICATE_CHECKPOINT"),e.createSavepoint=a.actionCreator("FILE_CREATE_SAVEPOINT"),e.updateSavepoint=a.actionCreator("FILE_UPDATE_SAVEPOINT"),e.recentFilePost=a.actionCreator("RECENT_FILE_POST"),e.recentFilePut=a.actionCreator("RECENT_FILE_PUT"),e.recentFilesDelete=a.actionCreator("RECENT_FILES_DELETE"),e.beginRenaming=a.actionCreator("FILE_BEGIN_RENAMING"),e.stopRenaming=a.actionCreator("FILE_STOP_RENAMING"),e.showInFolder=a.actionCreator("FILE_SHOW_IN_FOLDER"),e.copyLink=a.actionCreator("FILE_COPY_LINK"),e.restore=a.actionCreator("FILE_RESTORE"),e.markViewed=a.actionCreator("FILE_MARK_VIEWED"),e.copySelected=a.actionCreator("COPY_SELECTED_FILES"),e.copySelectedToDrafts=a.actionCreator("COPY_SELECTED_FILES_TO_DRAFTS"),e.deleteFiles=a.actionCreator("DELETE_FILES"),e.deleteFilesForever=a.actionCreator("DELETE_FILES_FOREVER"),e.restoreTrashedFiles=a.actionCreator("RESTORE_TRASHED_FILES"),e.fetchedRoles=a.actionCreator("FILE_FETCHED_ROLES"),e.putThumbnailGuid=o.optimisticActionCreator("FILE_PUT_THUMBNAIL_GUID",(e,t,i)=>{n.default.put(`/api/files/${t.file_key}/thumbnail_guid`,{thumbnail_guid:t.thumbnail_guid}).then(a=>{e.dispatch(o.optimistActions.commit(i)),r.fullscreen.updateAppModel({thumbnailNodeId:t.thumbnail_guid});const n=t.thumbnail_guid?"Thumbnail set":"Default thumbnail restored";e.dispatch(E.visualBellActions.enqueue({message:n,timeout:5e3}))}).catch(t=>{e.dispatch(o.optimistActions.revert(i)),e.dispatch(E.visualBellActions.enqueue({message:"An error occurred. Please try again later.",error:!0,timeout:5e3}))})})}(t.file||(t.file={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(98                  );!function(e){e.append=r.actionCreator("VERSION_HISTORY_APPEND"),e.loadMore=r.actionCreator("VERSION_HISTORY_LOAD_MORE"),e.toggleLoading=r.actionCreator("VERSION_HISTORY_LOADING"),e.reset=r.actionCreator("VERSION_HISTORY_RESET"),e.setActive=r.actionCreator("VERSION_HISTORY_SET_ACTIVE"),e.setLinkedVersion=r.actionCreator("VERSION_HISTORY_SET_LINKED_VERSION"),e.setDocHasChangedSinceLastSavepoint=r.actionCreator("VERSION_HISTORY_SET_DOC_HAS_CHANGED")}(t.versionHistory||(t.versionHistory={}))}),
(function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=a(124     );n.NEXT_PAGE="next",n.PREV_PAGE="prev",n.paginate=function(e,a,i,p=n.NEXT_PAGE){return new Promise((g,o)=>{let r=i&&i.pagination,_=r&&(p===n.PREV_PAGE?r.prev_page:r.next_page);(null==r||_)&&(_=_||`${e}${-1===e.indexOf("?")?"?":"&"}page_size=${a}`,t.default.get(_).then(({data:e})=>{const a=e.pagination;null==r?r=a:p===n.PREV_PAGE?a.prev_page&&(r.prev_page=a.prev_page):r.next_page=a.next_page,e.meta.pagination=r,g(e.meta)},o))})},n.hasMore=function(e){var n;return!((null===(n=e)||void 0===n?void 0:n.pagination)&&!e.pagination.next_page)}}),
(function(s,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=e(188                             ),t=e(189                                        ),a=e(190             );i.CURRENT_VERSION="current_version",i.getActiveVersion=function(s){for(let i of s.versions)if(i.id===s.activeId)return i};const o={activeId:i.CURRENT_VERSION,versions:[],lastFetched:new Date(0),docHasChanged:!0,loading:!1};i.versionHistory=function(s=o,i){if(t.versionHistory.reset.matches(i))return Object.assign(Object.assign({},o),{docHasChanged:s.docHasChanged});if(t.versionHistory.append.matches(i)){const e=i.payload.history.versions,n=i.payload.direction;if(n===a.PREV_PAGE&&1===e.length){const i=e[0].id;if(s.versions.find(s=>s.id===i))return Object.assign(Object.assign({},s),{loading:!1})}return Object.assign(Object.assign(Object.assign({},s),i.payload.history),{versions:n===a.NEXT_PAGE?s.versions.concat(e):e.concat(s.versions),loading:!1})}if(t.versionHistory.toggleLoading.matches(i))return Object.assign(Object.assign({},s),{loading:i.payload.loading});if(t.versionHistory.setLinkedVersion.matches(i))return Object.assign(Object.assign({},s),{linkedVersion:i.payload.version,activeId:i.payload.version.id});if(t.versionHistory.setActive.matches(i))return Object.assign(Object.assign({},s),{activeId:i.payload.id});if(t.versionHistory.setDocHasChangedSinceLastSavepoint.matches(i))return Object.assign(Object.assign({},s),{docHasChanged:i.payload.status});if(n.file.updateSavepoint.matches(i)){const{savepointID:e,label:n,description:t}=i.payload;return Object.assign(Object.assign({},s),{versions:s.versions.map(s=>s.id!==e?s:Object.assign(Object.assign({},s),{label:n,description:t}))})}return s}}),
(function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(158           ),s=n(147                       ),o=n(159                              ),a=n(160       ),l=n(141                ),c=n(155                       ),u=n(131                                        ),y=n(161                                                  ),p=n(111                        ),f=n(162                            ),b=n(124     ),d=n(163                               ),m=n(167                                  ),h=n(191                                 ),_=n(110          );function g(e,t){const n=Object.create(null);if(!t)return n;const i=t.team_id||s.NO_TEAM_ID,r=e[i]&&e[i][t.key]||Object.create(null);for(const s in r)null==r[s].unpublished_at&&(n[s]=r[s]);return n}function S(e){const t=[];return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(i=>{Object.keys(e[n][i]).forEach(r=>{t.push(e[n][i][r])})})}),t}function T(e){return S(e).length}t.isPublished=(e=>e===s.LibraryStatus.CURRENT||e===s.LibraryStatus.CHANGED||e===s.LibraryStatus.DELETED||e===s.LibraryStatus.CAN_UPGRADE),t.willChange=(e=>e===s.LibraryStatus.NEW||e===s.LibraryStatus.CHANGED||e===s.LibraryStatus.DELETED||e===s.LibraryStatus.CAN_UPGRADE),t.hasItems=(e=>e&&Object.keys(e).length>0),t.hasStylesOrComponents=(e=>t.hasItems(e.local.styles)||t.hasItems(e.local.components)),t.hasPendingItemChanges=(e=>{for(let n in e){const i=e[n];if(null!=i.status&&t.willChange(i.status))return!0}return!1}),t.hasPendingChanges=(e=>t.hasPendingItemChanges(e.local.styles)||t.hasPendingItemChanges(e.local.components)),t.getExternalStyle=((e,t,n)=>{if(!t)return null;for(const i in e)for(const r in e[i])if(r!==n)for(const n in e[i][r]){const s=e[i][r][n];if(s.key===t)return s}return null}),t.publishedLibraryItemsForFile=g,t.publishedLibraryItemsForFileAsList=function(e,t){const n=g(e,t);return Object.keys(n).map(e=>n[e])},t.flattenLibraryItems=S,t.getNumLibraryItems=T,t.numUpdates=function(e){return T(e.updates.components)+T(e.updates.styles)},t.localComponentsAsSortedList=(e=>{return Object.keys(e).map(t=>e[t]).sort((e,t)=>{const n=e.name,i=t.name;return n<i?-1:n>i?1:e.node_id<t.node_id?-1:1})}),t.localLibraryItemsExcludingDeleted=(e=>{return Object.keys(e).map(t=>e[t]).filter(e=>!e.deletedFromSceneGraph)}),t.getComponentsToPublish=(e=>{let t=Object.create(null);for(const n in e){const i=e[n].status;i!==s.LibraryStatus.NEW&&i!==s.LibraryStatus.CHANGED&&i!==s.LibraryStatus.DELETED&&i!==s.LibraryStatus.CAN_UPGRADE||(t[n]=e[n])}return t}),t.getStylesOfType=((e,t)=>{const n=[];for(let i in e){const r=e[i];r.style_type===t&&n.push(r)}return n}),t.getLocalStylesOfType=((e,t)=>{const n=[];for(let i in e){const r=e[i];r.style_type!==t||r.deletedFromSceneGraph||n.push(r)}return n}),t.getSubscribedLibraryItems=function(e,n,i){const r=[];for(const s in n)for(const o in n[s]){const a={team_id:s,key:o};if(t.isFileSubscribedTo(e,i,a))for(const e in n[s][o]){const t=n[s][o][e];r.push(t)}}return r},t.getSubscribedStylesByFileOfType=((e,n,i,r)=>{const s={};for(const o in e.published.styles)for(const a in e.published.styles[o]){if(a===i.key)continue;const l=e.published.styles[o][a],c={team_id:o,key:a};if(t.isFileSubscribedTo(e,i,c)){const e=t.getStylesOfType(l,n);e.length>0&&(s[a]=e)}else if(r)for(const e in l){const t=l[e];if(t.key===r){s[a]=[t];break}}}return s}),t.hasStylesOfType=((e,t)=>{const n=e.published.styles;for(let r in n)for(let e in n[r])for(let i in n[r][e]){const s=n[r][e][i];if(s.style_type===t&&!s.unpublished_at)return!0}const i=e.local.styles;for(let r in i){if(i[r].style_type===t)return!0}return!1}),t.allStyleTypes=["TEXT","FILL","EFFECT","GRID"];const L={TEXT:"Text",FILL:"Color",EFFECT:"Effect",GRID:"Grid"};t.styleTypeToStylesHeader=(e=>t.styleTypeToStyleHeader(e)+"s"),t.styleTypeToStyleHeader=(e=>e in L?L[e]+" Style":e[0]+e.slice(1).toLowerCase()+" Style"),t.inheritStyleKeyFieldToStyleHeader=(e=>{let n="";if("inheritFillStyleKeyForStroke"===e)n="Stroke Color Style";else if("inheritFillStyleKeyForBackground"===e)n="Background Color Style";else if("inheritFillStyleKey"===e)n="Fill Color Style";else{const i=o.inheritedStyle(e);n=t.styleTypeToStyleHeader(i)}return n}),t.isCurrentOrgSubscribedTo=((e,t)=>!!t&&t.key in e.subscriptions.forCurrentOrg),t.isTeamSubscribedTo=((e,n,i)=>{if(!i)return!1;let r=t.isCurrentOrgSubscribedTo(e,i);const s=e.subscriptions.byTeam[n]||{};return i.key in s&&(r=!!s[i.key]),r}),t.isCurrentUserSubscribedTo=((e,t)=>!!t&&!!e.subscriptions.forCurrentUser[t.key]),t.isAnyTeamSubscribedTo=((e,n)=>{for(const i in e.subscriptions.byTeam)if(t.isTeamSubscribedTo(e,i,n))return!0;return!1}),t.isFileSubscribedTo=((e,n,i)=>{if(!n||!i)return!1;if(n.key===i.key)return!1;let r=!1;r=n.team_id?t.isTeamSubscribedTo(e,n.team_id,i):t.isAnyTeamSubscribedTo(e,i)||t.isCurrentUserSubscribedTo(e,i);const s=e.subscriptions.byFile;return n.key in s&&i.key in s[n.key]&&(r=s[n.key][i.key]),r}),t.sortStylesByPosition=(e=>{e.sort((e,t)=>-r.comparePositions(e.sort_position||"",t.sort_position||""))}),t.sortStylesByTypeAndPosition=(e=>{const n=new Map;for(let t of e){const e=n.get(t.style_type);e?e.push(t):n.set(t.style_type,[t])}let i=[];return t.allStyleTypes.forEach(e=>{const r=n.get(e);r&&(t.sortStylesByPosition(r),i=i.concat(r))}),i}),t.sortComponentsByPageAndFrameAndName=(e=>{const t=[...e],n=e=>e&&e.toLowerCase?e.toLowerCase():"";return t.sort((e,t)=>{const i=e.containing_frame||{},r=t.containing_frame||{};return i.pageId!==r.pageId?n(i.pageName)<n(r.pageName)?-1:1:i.nodeId!==r.nodeId?n(i.name)<n(r.name)?-1:1:n(e.name)<n(t.name)?-1:1}),t});let E=!1;function C(e,t){if(!e||!t)return!0;for(const n in e){if(!(n in t))return!0;const i=e[n],r=t[n];for(const e in i)if(i[e]!==r[e])return!0;for(const e in r)if(!(e in i))return!0}for(const n in t)if(!(n in e))return!0;return!1}t.resetPublishChangesNotification=(()=>E=!1);const k=new Set;function O(e,t){return i(this,void 0,void 0,function*(){let n=0;const i=Object.keys(t).filter(e=>!k.has(e)&&(k.add(e),!0));for(;i.length-n>0;){const r=i.slice(n,n+50),o={keys:r.join(",")},a=yield b.default.get("/api/design_systems/library/components",o),l=a&&a.data&&a.data.meta||[];for(const n of l){const i=n.component_key&&t[n.component_key];i&&(n.file_key=i.key,e(u.library.put({itemsById:{[n.node_id]:n},file:i,type:s.LibraryItemType.COMPONENT})))}for(const e of r)k.delete(e);n+=50}})}t.getComponentsByKey=O,t.computeLocal=function(e){const n=e.getState();if(n.versionHistory.activeId&&n.versionHistory.activeId!==h.CURRENT_VERSION)return;const i=n.mirror&&null!=n.mirror.appModel&&null!=n.mirror.appModel.publishableComponents&&null!=n.mirror.sceneGraph,r=l.getEditingFile(n);if(!i)return;const o=r?r.key:"";let a=0,b={};const d=(e,i,r,l)=>{const u=Object.create(null);i.forEach(i=>{const c=i.nodeId,y=l[c];b[c]=t.generateLocalThumbnail(n.library.local.thumbnails[c]),u[c]=e(y,r[c],i,o),u[c].status===s.LibraryStatus.CHANGED&&(a+=1)});for(const t in l)if(!(t in u)){const e=n.library.local.thumbnails[t];e&&e.url&&c.revokeThumbnailUrl(e.url)}for(const s in r)s in u||(b[s]=t.generateLocalThumbnail(n.library.local.thumbnails[s]),u[s]=e(l[s],r[s],null,o));return u},m=d(t.generateLocalComponent,n.mirror.appModel.publishableComponents||[],g(n.library.published.components,r),n.library.local.components),_=d(t.generateLocalStyle,n.mirror.appModel.styles||[],g(n.library.published.styles,r),n.library.local.styles);if(C(n.library.local.components,m)&&e.dispatch(u.library.replaceLocalItems({local:m,type:s.LibraryItemType.COMPONENT})),C(n.library.local.styles,_)&&e.dispatch(u.library.replaceLocalItems({local:_,type:s.LibraryItemType.STYLE})),t.areThumbnailsDifferent(n.library.local.thumbnails,b)&&e.dispatch(y.libraryThumbnail.replaceThumbnails({thumbnails:b})),a>0)o&&!E&&p.canEditFile(o,n)&&(e.dispatch(u.library.showNotification({notification:{type:f.NotificationType.PUBLISHED_COMPONENT_UPDATED,message:"Publish your changes to your team library."}})),E=!0);else{const t=e.getState().library.notification;t&&t.type===f.NotificationType.PUBLISHED_COMPONENT_UPDATED&&e.dispatch(u.library.hideNotification())}};const D=(e,t,n,i)=>{if(!n){if(t)return Object.assign(Object.assign({},t),{status:s.LibraryStatus.DELETED,deletedFromSceneGraph:!0});throw new Error("Generating a local library item that is neither in the library nor in the scene graph. Why.")}const r=t&&null==t.unpublished_at,o=!(!n||null==n.isPublishable)&&n.isPublishable,a={node_id:n?n.nodeId:t.node_id,name:n?n.name:t.name,description:n?n.description:t.description,file_key:i,isPublishable:o,deletedFromSceneGraph:!1,meta:e?e.meta:void 0,isLocal:!0};return a.thumbnail_url=t&&t.thumbnail_url||void 0,r&&!o?a.status=s.LibraryStatus.DELETED:(a.content_hash=n.versionHash,!r&&o?a.status=s.LibraryStatus.NEW:r||o?r&&o&&(!t.is_unflattened&&n.isUnflattened&&d.SceneGraphHelpers.symbolContainsInstance(t.node_id)?t.content_hash===a.content_hash?a.status=s.LibraryStatus.CAN_UPGRADE:a.status=s.LibraryStatus.CHANGED:t&&t.content_hash===a.content_hash&&!m.shouldRepublishBecauseOfContainerChange(t.containing_frame,n.containingFrame)&&m.stringsAreEqualOrBothFalsey(t.name,n.name)&&m.stringsAreEqualOrBothFalsey(t.description,a.description)&&m.stringsAreEqualOrBothFalsey(t.sort_position,n.sortPosition)?a.status=s.LibraryStatus.CURRENT:a.status=s.LibraryStatus.CHANGED):a.status=s.LibraryStatus.NOT_STAGED),a};t.generateLocalComponent=((e,t,n,i)=>{const r=D(e,t,n,i);return r.height=n?n.height:void 0,r.width=n?n.width:void 0,r.is_unflattened=!!n&&n.isUnflattened,r.containing_frame=n?n.containingFrame:t?t.containing_frame:void 0,r.component_key=t?t.component_key:void 0,r}),t.generateLocalStyle=((e,t,n,i)=>{const r=D(e,t,n,i);return n?(r.key=n.styleKey,r.style_type=n.styleType,r.is_soft_deleted=n.isSoftDeleted,r.sort_position=n.sortPosition):t&&(r.style_type=t.style_type,r.is_soft_deleted=t.is_soft_deleted,r.sort_position=t.sort_position),r}),t.generateLocalThumbnail=(e=>{return{url:e&&e.url||void 0,content_hash:e&&e.content_hash||void 0}}),t.getOtherUsedComponents=((e,t=[],n,i,r=null)=>{const o=[],l={};for(let c of t){const t=e.get(c);if(!t)continue;if(!t.parent)continue;const r=e.get(t.parent);if(!r)continue;const u=r.sharedSymbolReference;if(!u)continue;const y=u.fileKey;if(!y)continue;const p=i[y];if(!p)continue;const f=p.team_id||s.NO_TEAM_ID,b=a.toString(u.symbolID);if(!b)continue;const d=((n.published.components[f]||{})[y]||{})[b];if(d)o.push(d);else{const{componentKey:e,versionHash:n,symbolID:i,isUnflattened:r}=u;if(!e||l[e])continue;l[e]=p,o.push({name:t.name,file_key:y,component_key:e,thumbnail_url:`/component/${e}/thumbnail?ver=${n}"`,canvas_url:`/component/${e}/canvas?ver=${n}"`,node_id:a.toString(i)||"",is_unflattened:r,isLocal:!1})}}return r&&O(r,l),o}),t.areThumbnailsDifferent=((e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(!t[n]||e[n].url!==t[n].url||e[n].content_hash!==t[n].content_hash)return!0;return!1});const I=_.memoizeLast(e=>{const t={},n=e.local.styles;for(const i in n){const e=n[i];t[e.key]=e}return t}),N=_.memoizeLast(e=>{const t={};for(const n in e.published.styles)for(const i in e.published.styles[n]){const r=e.published.styles[n][i];for(const e in r){const n=r[e];t[n.key]=n}}return t});t.getDiscriminatedStyle=function(e,t,n){const i=I(n)[e];if(i)return{kind:"LOCAL",value:i};const r=N(n)[e];return r?{kind:"LIBRARY",value:r}:t&&t.length?{kind:"DANGLING",value:{key:e,node_id:t[0]}}:void 0},t.nameOfDiscriminatedStyle=function(e,t){if(!e)return"";if("DANGLING"===e.kind){const n=t.get(e.value.node_id);return n?n.name:""}return e.value.name}}),
(function(r,i,n){"use strict";function o(){return/FigmaMirror-Android/.test(navigator.userAgent)}function t(){return!!window.FigmaMobile}Object.defineProperty(i,"__esModule",{value:!0}),i.windows="Win32"===navigator.platform||"Win64"===navigator.platform,i.mac="MacIntel"===navigator.platform,i.isMobileBrowser=/Mobi/.test(navigator.userAgent),i.isMobileBrowserGetter=function(){return i.isMobileBrowser},i.isAndroidMirrorApp=o,i.isIosMirrorApp=t,i.getAndroidAppVersion=function(){if(o()){const r=navigator.userAgent.match(/FigmaMirror-Android\/(\d+)/);if(r)return parseInt(r[1])}return-1},i.getIosAppVersion=function(){return t()?window.FigmaMobile.appVersion||1:-1}}),
(function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function u(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,u)}c((o=o.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(124     ),r=n(86      );e.makeLocalServerRequest=function(t,e,n){return o(this,void 0,void 0,function*(){if(r.chrome&&+r.version>=54||r.firefox&&+r.version>=56){const e=`http://127.0.0.1:${t}`,{data:o}=yield i.default({method:i.default.Methods.GET,url:`${e}${n}`,headers:{"Content-Type":"text/plain"}});return{data:o,origin:e}}const o=`https://figmadaemon.com:${e}`,{data:a}=yield i.default({method:i.default.Methods.GET,url:`${o}${n}`,headers:{"Content-Type":"text/plain"}});return{data:a,origin:o}})}}),
(function(e,n,t){"use strict";var o=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function u(e){try{a(o.next(e))}catch(n){i(n)}}function c(e){try{a(o.throw(e))}catch(n){i(n)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(u,c)}a((o=o.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const r=t(115          ),i=t(117              ),u=t(85                   ),c=t(194               ),a=t(193           ),p=u.default().user_data,s=p&&p.id;function f(e){return o(this,void 0,void 0,function*(){if(r.isInIframe())return Promise.reject();return a.mac||a.windows?c.makeLocalServerRequest(44950,44960,`/figma${e}`):Promise.reject()})}n.makeDesktopAgentRequest=f,n.canOpenUrlInDesktopApp=function(e){return o(this,void 0,void 0,function*(){if(i.desktopApp)return!1;try{const{data:t}=yield f(`/desktop/can-open-url?userID=${s}&url=${e}`);if("boolean"==typeof t.canOpen)return t.canOpen}catch(n){}return!1})},n.openUrlInDesktopApp=function(e){return o(this,void 0,void 0,function*(){if(i.desktopApp)return!1;try{const{data:t}=yield f(`/desktop/open-url?userID=${s}&url=${encodeURIComponent(e)}`);if("boolean"==typeof t.opened)return t.opened}catch(n){}return!1})}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parallel=function(e){return new Promise((t,l)=>{let r=new Array(e.length),n=e.length,o=()=>{0===n&&t(r)};for(let u=0;u<e.length;u++)e[u].then(e=>{r[u]={type:"resolve",resolve:e,reject:void 0},n--,o()},e=>{r[u]={type:"reject",resolve:void 0,reject:e},n--,o()});o()})},t.mergeAndRetry=function(e){let t=null;return()=>(null===t&&(t=e()).catch(()=>t=null),t)}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){this.elapsedTime=0,this.startTime=0,this.callDepth=0,this.topLevelCallCount=0,this.totalCallCount=0}start(){0===this.callDepth&&(this.startTime=performance.now(),this.topLevelCallCount++),this.callDepth++,this.totalCallCount++}stop(){0!==this.callDepth?(this.callDepth--,0===this.callDepth&&(this.elapsedTime+=performance.now()-this.startTime)):console.error("Called stop on an already-stopped timer")}time(t){this.start();const e=t();return this.stop(),e}static time(t){const e=new i;return e.time(t),e.getElapsedTime()}getElapsedTime(){return this.elapsedTime}getTopLevelCallCount(){return this.topLevelCallCount}getTotalCallCount(){return this.totalCallCount}}e.Timer=i;class r{constructor(){this.timerStack=[],this.startListeners=new Set,this.stopListeners=new Set}start(t){const e=new i;this.timerStack.push({name:t,timer:e}),this.startListeners.forEach(e=>e(t,0)),e.start()}stop(t){const e=this.timerStack.pop();e?e.name===t?(e.timer.stop(),this.stopListeners.forEach(s=>s(t,e.timer.getElapsedTime()))):console.error(`Expected last started timer to be ${t}, but got ${e.name}`):console.error(`Expected last started timer to be ${t}, but got an empty timer stack`)}time(t,e){this.start(t);const s=e();return this.stop(t),s}addStartListener(t){this.startListeners.add(t)}removeStartListener(t){this.startListeners.delete(t)}addStopListener(t){this.stopListeners.add(t)}removeStopListener(t){this.stopListeners.delete(t)}}e.TimerGroup=r;class o{constructor(t){this.name=t,this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children=[]}reset(){this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children.forEach(t=>t.reset())}}e.TimerResultNode=o;e.TimerGroupWithHistory=class{constructor(t){this.options=t,this.timerGroup=new r,this.rootNodes=[],this.nodeStack=[],this.onStart=(t=>{let e=null,s=this.rootNodes;this.nodeStack.length>0&&(s=this.nodeStack[this.nodeStack.length-1].children);for(let i of s)if(i.name===t){e=i;break}e||(e=new o(t),s.push(e)),this.nodeStack.push(e)}),this.onStop=((t,e)=>{let s=this.nodeStack.pop();if(s){for(s.hitCount++,s.totalElapsedTime+=e,s.maxElapsedTime=Math.max(s.maxElapsedTime,e);s.elapsedTimes.length>=this.options.bufferSize;)s.elapsedTimes.shift();s.elapsedTimes.push(e)}else console.error("Got onStop with an empty result stack")}),this.timerGroup.addStartListener(this.onStart),this.timerGroup.addStopListener(this.onStop)}start(t){this.timerGroup.start(t)}stop(t){this.timerGroup.stop(t)}time(t,e){this.start(t);const s=e();return this.stop(t),s}report(){return this.nodeStack.length>0&&console.warn("Asking for a report while some timers remain open",JSON.stringify(this.nodeStack.map(t=>t.name))),this.rootNodes}reset(){this.rootNodes.forEach(t=>t.reset())}addStartListener(t){this.timerGroup.addStartListener(t)}removeStartListener(t){this.timerGroup.removeStartListener(t)}addStopListener(t){this.timerGroup.addStopListener(t)}removeStopListener(t){this.timerGroup.removeStopListener(t)}getBufferSize(){return this.options.bufferSize}}}),
(function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=r(197       );i.appTimer=new t.TimerGroupWithHistory({bufferSize:400})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(198            ),i=[];let l=null;t.registerFrameCallback=(e=>{i.push(e),o()}),t.setLastFrameCallback=(e=>{l=e,o()});const n=()=>{requestAnimationFrame(n),r.appTimer.start("frame");for(let e of i)e();if(l){const e=l;l=null,e()}r.appTimer.stop("frame")};let s=!1;function o(){s||(s=!0,requestAnimationFrame(n))}}),
(function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(157         );t.isEmpty=function(n){for(let t in n)return!1;return!0},t.getFirstKey=function(n){for(let t in n)return t;return null},t.singleKey=function(n){let t=null;for(const r in n){if(null!==t)return null;t=r}return t},t.copyExcluding=function(n,t){const r={};for(const e in n)t.has(e)||(r[e]=n[e]);return r},t.flattenInto=function n(t,r,e){for(const i in t){const o=""===e?i:e+"."+i;Array.isArray(t[i])?r[o]=JSON.stringify(t[i]):"object"==typeof t[i]&&null!==t[i]?n(t[i],r,o):r[o]=t[i]}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(163        ),r=t(214                              ),i=(t(157         ),t(198            )),l=t(199           ),a=t(126          ),c=t(200         ),s=t(85                   ),u=1,f={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},d=["frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","frame.layout-groups-and-stacks","fullscreen-handle-event","fullscreen-handle-event.trigger-action"],m=.2,g=[m,60],p=60,h=60,T=60;let y=!1,b=null,I=null,w=1,L=null,O=0,E=null,v=0,F=-1/0,P=-1/0,_=0;const C=s.getFeatureFlags().frame_histograms;let N={},S=0;const R=[],M=16;for(let Y=0;Y<63;Y++){const e=Y*M;R[Y]=e<160?e+M:e<260?260:e<400?400:1e3}const D=R.length,A="no-action",H=new Set(["FULLSCREEN_UPDATE_MIRROR","TOOLTIP_SHOW_AFTER_DELAY","TOOLTIP_HIDE","TOOLTIP_UPDATE"]);let k=A;n.updateRecentAction=function(e){H.has(e)||(k=e)};const $={};let U=!1;n.setPickedLoader=function(e){I=e},n.setMultiplayerUserCount=function(e){w=e},n.onDocumentSwitch=function(){L=null,E=null},n.onDocumentLoad=function(e){L=e,E=performance.now(),O++;const n=s.initialOptions().editing_file;1===O&&n&&a.segment.track("Cold Boot Document Load",{fileKey:L,loadedTime:E,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),fileTeamId:n.team_id,fileParentOrgId:n.parent_org_id})},n.setDebug=function(e){y=e};const j=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function K(){return null===L||null===I||null===E?[null,[]]:[{deviceInfo:o.FullscreenPerfMetrics.getDeviceInfo(),fileKey:L,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),multiplayerUserCount:w,nodeTypeHistogram:o.FullscreenPerfMetrics.getNodeTypeHistogram(),pickedLoader:I,recentInteractions:o.FullscreenPerfMetrics.getRecentInteractions(),secondsSinceLoaded:(performance.now()-E)/1e3,version:u,randomID:r.getRandomID(),reportCount:v},o.FullscreenPerfMetrics.getSlowInteractions()]}function W(e){const{fileKey:n,fileNodeCount:t,multiplayerUserCount:o,pickedLoader:r,recentInteractions:i,secondsSinceLoaded:l,version:a,randomID:s}=e;let u={fileKey:n,fileNodeCount:t,multiplayerUserCount:o,pickedLoader:r,secondsSinceLoaded:l,version:a,randomID:s,reportCount:v};for(let c=0;c<i.length;c++)u[`recentInteractions.${c}`]=JSON.stringify(i[c]);return c.flattenInto(e.deviceInfo,u,"deviceInfo"),c.flattenInto(e.nodeTypeHistogram,u,"nodeTypeHistogram"),u}function B(e){y||a.segment.track("Slow Editor Interaction",e),P=performance.now(),_=e.duration}function x(...e){y&&console.log("[FullscreenPerfMetrics]",...e)}function V(e){if(null===b)return;if("visible"!==document.visibilityState)return;const n=performance.now()-b,t=n-e;if(t>=1e3*g[1])return;if(C&&n<1e3*g[1]){const e=Math.floor(n/M),t=e>=D?R[D-1]:R[e],r=k||o.Fullscreen.getRecordedFullscreenAction();let i=N[r];i||(i={sum:0,count:0,histogram:{}}),i.count++,i.sum+=n,i.histogram[t]?i.histogram[t]++:i.histogram[t]=1,N[r]=i,k=A,++S>=7200&&function(){S=0;for(const e in N){const n=N[e],t={action:e,tabAge:performance.now()/1e3,avgMs:n.sum/n.count,fileNodeCount:o.FullscreenPerfMetrics.getFileNodeCount(),fileKey:L};for(const e in n.histogram)t[`count_${e}ms`]=n.histogram[e]||0;a.segment.track("Frame Histogram",t)}N={}}()}if(t<1e3*g[0])return;x(`Long inter-frame time (${t}ms idle)}!`);const r=K()[0];if(null==r)return void x("Not reporting because we have no metadata. Probably no document is open.");function i(e,n,t){const o=n-(performance.now()-e)/1e3;return!(o>0)||(x("Not reporting a long inter-frame time because we're in the "+`${t} cooldown (${o}s to go).`),!1)}if(!i(E||0,T,"document loading")||!i(F,h,"reporting"))return;let l=Object.assign({msSinceLastFrame:n,msSinceLastFrameIdle:t},W(r));x("Reporting long inter-frame time:"),x(l),y||a.segment.track("Long Inter-frame Time",l),F=performance.now()}function G(){const e={};function n(t,o=""){const r=o.length>0?`${o}.${t.name}`:t.name,i=$[r]||t.hitCount;let l=t.hitCount-i;l>t.elapsedTimes.length&&(U||(console.warn(`Too many elapsed hits of ${r} since last report`),U=!0),l=t.elapsedTimes.length);let a=0;const c=t.elapsedTimes.length;for(let e=c-l;e<c;e++)a+=t.elapsedTimes[e];e[r]=a,$[r]=t.hitCount;for(const e of t.children)n(e,r)}const t=i.appTimer.report();let r=0;for(const o of t)n(o),r+=e[o.name];V(r),function(){if(r/1e3<m)return;x("Long frame!");const[n,t]=K();if(null==n)return void x("Not reporting because we have no metadata. Probably no document is open.");let o={};for(const r in e)-1!==d.indexOf(r)&&(o[r]=e[r]/1e3);let i=t.map(e=>{const t=e.interaction;let r=Object.assign({kind:"interaction",type:t.type,subtype:t.subtype,frame:e.frame,collapsed:!1,duration:e.duration},W(n));if(j.forEach(e=>r["modifier."+e]=null),"MOUSE"==t.type){const e=t;r.collapsed=e.collapsed;for(const n of j)r["modifier."+n]=-1!==e.modifiers.indexOf(n)}return c.flattenInto(o,r,"timer"),r});for(const r in e){let t=e[r]/1e3,l=f[r];if("number"==typeof l&&t>=l){let e=Object.assign({kind:"timer",type:r,subtype:null,frame:null,collapsed:!1,duration:t},W(n));c.flattenInto(o,e,"timer"),j.forEach(n=>e["modifier."+n]=null),i.push(e)}}if(0==i.length)return void x("We would have had nothing to consider reporting.");let l=[],a=i;const s=p-(performance.now()-P)/1e3;if(0==(a=a.filter(e=>s<=0||e.duration>=2*_)).length&&l.push(`we're in the report cooldown period (${s}s `+"to go) and no reports were long enough to override it "+`(the last report duration was ${_}s)`),s>0&&a.length>0&&x("Overriding the reporting cooldown!"),null===E)return;const u=T-(performance.now()-E)/1e3;u>0&&l.push("we're in the document loading cooldown period "+`(${u}s to go)`),x("ALL REPORTS (including filtered-out)"),x(i),l.length>0?x("NO REPORTS WOULD HAVE BEEN SENT because",function(e){if(1==e.length)return e[0];if(2==e.length)return e[0]+" and "+e[1];let n=e.slice(0,e.length-1).join(", ");return n+=", and ",n+=e[2]}(l)):(a=a.sort((e,n)=>e.duration-n.duration),x("REPORTS THAT WOULD HAVE BEEN SENT"),x(a),a.forEach(B),v++)}(),o.FullscreenPerfMetrics.clearNodeTypeHistogram(),o.FullscreenPerfMetrics.clearSlowInteractions(),b=performance.now()}document.addEventListener("visibilitychange",function(){b=null});let J=!1;n.init=function(){J||(J=!0,l.registerFrameCallback(()=>{Promise.resolve().then(G)}))}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=[{presetIdentifier:"APPLE_IPHONE_11PROMAX_GOLD",url:"https://static.figma.com/uploads/24309fe757b8e9a95552773031bef2ee76b7a2d6",thumbnailUrl:"https://static.figma.com/uploads/7fabafe31c73b4845a810f4ba87087a50ff4ae06",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Gold",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/ed233896f50d899c9da3ef242a7bd59b2055960e",thumbnailUrl:"https://static.figma.com/uploads/2b126564c30d5c97441f83c05631e83dca37c9e5",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Midnight Green",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SILVER",url:"https://static.figma.com/uploads/e741fc6878521527afe1b43b6acfb4f32ca8ab74",thumbnailUrl:"https://static.figma.com/uploads/65133f57179145290e6cb2bf1701cc8d605ce607",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Silver",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SPACEGREY",url:"https://static.figma.com/uploads/4a6ca449106d3860fda8d455d52c9a3f07187629",thumbnailUrl:"https://static.figma.com/uploads/fbd82023dc945b4472488697c718db106a6f1bb7",scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",styleName:"Space Grey",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11PRO_GOLD",url:"https://static.figma.com/uploads/473492d3b4beb5572a50968cd7655554ece2bf41",thumbnailUrl:"https://static.figma.com/uploads/a3496627c4bd434e661e830fc36c216fddbeaaeb",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Gold",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/360066b6ae030bf33bcb5e000254e0adc2b5a64f",thumbnailUrl:"https://static.figma.com/uploads/cf7834090b2e1e778c1323bc304bff894d3531f8",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Midnight Green",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_SILVER",url:"https://static.figma.com/uploads/52d57ab30b4407a494d2c817e2e41de15973e590",thumbnailUrl:"https://static.figma.com/uploads/dcdfbbcb73a82239ccd12b9fe698d59e42ca8e5e",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Silver",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11PRO_SPACEGREY",url:"https://static.figma.com/uploads/d4df2b9afbc2ff4a44217ac737ff046c1852599c",thumbnailUrl:"https://static.figma.com/uploads/2d9f4f71032e0ab92ba664992dcfa78232df5514",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",styleName:"Space Grey",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_11_BLACK",url:"https://static.figma.com/uploads/9e306176a1792c1f907d3510984b3395ad5e4bb4",thumbnailUrl:"https://static.figma.com/uploads/f7968a18c062bcdeb7a885f955925a16ebef520e",scaleFactor:2,imageSize:{x:979,y:1933},offset:{x:37.5,y:35.5},deviceName:"iPhone 11",styleName:"Black",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_11_WHITE",url:"https://static.figma.com/uploads/f904c3e35e25ff1822eb15fdf3f3bff551da20d5",thumbnailUrl:"https://static.figma.com/uploads/8877045c779f6e0d0b81c3501b67661c6b6793c7",scaleFactor:2,imageSize:{x:979,y:1933},offset:{x:37.5,y:35.5},deviceName:"iPhone 11",styleName:"White",framePresetSize:{x:414,y:896}},{presetIdentifier:"APPLE_IPHONE_X_SILVER",url:"https://static.figma.com/uploads/c3fa41c0ef744878d816aa4eea1a203aa0e9147f",thumbnailUrl:"https://static.figma.com/uploads/ff8bfebfd53eedec1ad69bf9511ea97af479d1e5",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Silver",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_X_SPACE_GREY",url:"https://static.figma.com/uploads/f1f76a5a065846ebe2fa3201ff0372283a34664d",thumbnailUrl:"https://static.figma.com/uploads/9026efd5f31ecadf0b9c21a603182a9ac2bd73f2",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Space Grey",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_GOLD",url:"https://static.figma.com/uploads/be4f91d500f8c0fc5fb59987e09b080238de2e07",thumbnailUrl:"https://static.figma.com/uploads/b2d642b47eca1383c439f844a76484a07a5a3162",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Gold",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SILVER",url:"https://static.figma.com/uploads/8b04ac590c9c01ee09c63ee421e07286033fccbe",thumbnailUrl:"https://static.figma.com/uploads/6efeaba691f994da1874e39b4766aafaa198256b",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Silver",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SPACE_GREY",url:"https://static.figma.com/uploads/c88332b425e7d47906f04e3dad5e421a54fad7b7",thumbnailUrl:"https://static.figma.com/uploads/31b9500e4e1cbbcb25c989c4347ad643b292fa22",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Space Grey",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_GOLD",url:"https://static.figma.com/uploads/03937fa8ef475102d0f110e15534126f285662fc",thumbnailUrl:"https://static.figma.com/uploads/4bff10d3aaecf8f9b3a06cb8589bc8fb03c215a0",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Gold",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SILVER",url:"https://static.figma.com/uploads/8f8fc00745d0e6fa186b477771aa66417e7e4718",thumbnailUrl:"https://static.figma.com/uploads/763a9210a544ea9888602c3ea78136abdfee3e38",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Silver",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SPACE_GREY",url:"https://static.figma.com/uploads/a63fadb7450e82ac1797fd14e6cd918d3d25c0c2",thumbnailUrl:"https://static.figma.com/uploads/f3a950db328dd1302690b6538d8e486a5218c6d8",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Space Grey",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_SE_GOLD",url:"https://static.figma.com/uploads/f090c716b2ed30ba68d1478f160f2f9847e766f3",thumbnailUrl:"https://static.figma.com/uploads/72d9e55b8b2d46d605b480f4e51e2942b502ca92",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_ROSE_GOLD",url:" https://static.figma.com/uploads/2658d90c9afd4162d33777c45c3f9e8dc7ece855",thumbnailUrl:"https://static.figma.com/uploads/b4c5b6e6ed63d2eae9016e033055b3ea1e8069e2",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Rose Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SILVER",url:"https://static.figma.com/uploads/27e1069aae130d1e34b6f4e1835729864f05f7de",thumbnailUrl:"https://static.figma.com/uploads/46c5f84c1da73f0c7ce9409114d3c430af808cd3",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Silver",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SPACE_GREY",url:"https://static.figma.com/uploads/8a8146fcd850bd09919336def177fe6496ce41df",thumbnailUrl:"https://static.figma.com/uploads/8ddfc04b706e3759ec49d2501c01b96e977bd792",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Space Grey",framePresetSize:{x:320,y:568}},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Clearly White",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Just Black",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Kinda Blue",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_FIXED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Black and White",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_FIXED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Just Black",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_NEXUS_5X",url:"https://static.figma.com/uploads/c116dd83223811e5464f9b2cfb3a06cffe6d7811",thumbnailUrl:"https://static.figma.com/uploads/f0a3557ea40091cc6dacf47295a2376a57f6340c",scaleFactor:3,imageSize:{x:1195,y:2406},offset:{x:53/3,y:77},deviceName:"Google Nexus 5X",styleName:"",framePresetSize:{x:360,y:640}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Black and White",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Just Black",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE_CORRECTED",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Clearly White",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE_CORRECTED",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Kinda Blue",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_CORRECTED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Black and White",framePresetSize:{x:360,y:720},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:720},hideUnlessActive:!0}],c=[{presetIdentifier:"APPLE_IPAD_MINI_4_GOLD",url:"https://static.figma.com/uploads/328013fee3e9ae814eeb7bb38c1d9b4d42ae6bc9",thumbnailUrl:"https://static.figma.com/uploads/75bf4da29b271b65dc372f36608cbd2f94eaa84a",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Gold",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SILVER",url:"https://static.figma.com/uploads/e880c453cd086df5696ca242d7bbc0fcd4a7e6c7",thumbnailUrl:"https://static.figma.com/uploads/0befd84fa291160218098e1e11ef814593c3e8af",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Silver",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SPACE_GREY",url:"https://static.figma.com/uploads/8638fcab67fa732bc8a72acb6c40b79cf1261f21",thumbnailUrl:"https://static.figma.com/uploads/5a823145105ba98060af64c62bfec3b96e603bc7",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",styleName:"Space Grey",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_PRO_11_SILVER",url:"https://static.figma.com/uploads/93f3bdf77fe5e69af9a645fce6497e5b33d7011f",thumbnailUrl:"https://static.figma.com/uploads/38c681887e85ee410a4635219665279e60b194b9",scaleFactor:2,imageSize:{x:1863,y:2583},offset:{x:47.5,y:50},deviceName:'iPad Pro 11"',styleName:"",framePresetSize:{x:834,y:1194}},{presetIdentifier:"APPLE_IPAD_PRO_129_SILVER",url:"https://static.figma.com/uploads/6d5c861ea44bd36c7b8dfe07cc167378938f71ef",thumbnailUrl:"https://static.figma.com/uploads/5f68be5104861293fc155a581a874e030874489b",scaleFactor:2,imageSize:{x:2245,y:2930},offset:{x:48,y:51},deviceName:'iPad Pro 12.9"',styleName:"",framePresetSize:{x:1024,y:1366}},{presetIdentifier:"MICROSOFT_SURFACE_PRO_4",url:"https://static.figma.com/uploads/4192a676e2992e9b08407571f59d57b2da414407",thumbnailUrl:"https://static.figma.com/uploads/5abae406fbb16edb28d09336521687e904195c7c",scaleFactor:2,imageSize:{x:3064,y:2115},offset:{x:82,y:74},deviceName:"Surface Pro 4",styleName:"",framePresetSize:{x:1368,y:912}},{presetIdentifier:"APPLE_IPAD_GOLD",url:"https://static.figma.com/uploads/c0041089d121b6a9fab09a3e6e57ae662a63c056",thumbnailUrl:"https://static.figma.com/uploads/352b92962b1d63d4142d3b3f525f7a7145d6865b",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Gold",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_SILVER",url:"https://static.figma.com/uploads/673fcf21209d5719d14ec969b226509b0386ff28",thumbnailUrl:"https://static.figma.com/uploads/e04b4c9943933ae8948bd6f9e98a59d2e2248b98",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Silver",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_SPACE_GREY",url:"https://static.figma.com/uploads/dc4087534c677eb0bd8e01be81960f541df7abab",thumbnailUrl:"https://static.figma.com/uploads/7eaf93631ddf35d4d7773618c84c6811bd8f5023",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Space Grey",framePresetSize:{x:768,y:1024},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_GOLD",url:"https://static.figma.com/uploads/6604919217ccd2007dc242289b6eb46a67e906b0",thumbnailUrl:"https://static.figma.com/uploads/144614eca299bf21ef6a3220413deafe74d7db5f",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Gold",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_ROSE_GOLD",url:"https://static.figma.com/uploads/628fb1414c2b238f444108bf359460981e4efd7b",thumbnailUrl:"https://static.figma.com/uploads/a7fc4718e83b481e5191cc352e4810a9bb828ee5",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Rose Gold",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_SILVER",url:"https://static.figma.com/uploads/fe6849f30d136173a21c308c8291b52b83feb15a",thumbnailUrl:"https://static.figma.com/uploads/d8af399f095f5964262ed4d96e3d7304ca5f8941",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Silver",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_105_SPACE_GREY",url:"https://static.figma.com/uploads/555b2468733885cb2e3ade0de884e72bfc8bcaac",thumbnailUrl:"https://static.figma.com/uploads/c5466e02e01cba41c26234034e5e055147c993b1",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Space Grey",framePresetSize:{x:834,y:1112},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_GOLD",url:"https://static.figma.com/uploads/693d028b945399d6eb411e8b5691c83cfd3ec1e8",thumbnailUrl:"https://static.figma.com/uploads/08e04a3eeb2230962f7c11de04e05987d9f93b14",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Gold",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SILVER",url:"https://static.figma.com/uploads/703a3beb0bb7eeefa5a8f00c328606f59d7bfad1",thumbnailUrl:"https://static.figma.com/uploads/0d3fc68051cb305703d02372bff6d8ec74c24111",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Silver",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SPACE_GREY",url:"https://static.figma.com/uploads/0eebe7d84dc8cfdd9578d03fb8fd59de6a7c0578",thumbnailUrl:"https://static.figma.com/uploads/272fa6d8901005d8fca90e51d3b19f2cac448bba",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',styleName:"Space Grey",framePresetSize:{x:1024,y:1366},hideUnlessActive:!0}],s=[{presetIdentifier:"APPLE_WATCH_44MM_BLACK",url:"https://static.figma.com/uploads/cd96a0eeff474600c128809eb6c06c90033ceac2",thumbnailUrl:"https://static.figma.com/uploads/d92464253e796e69eaa79809e18c1a35a34d4c31",scaleFactor:2,imageSize:{x:501,y:860},offset:{x:28,y:103},deviceName:"Apple Watch 44mm",styleName:"",framePresetSize:{x:184,y:224}},{presetIdentifier:"APPLE_WATCH_42MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/3ae17e6e9d695fb6ba5d8e76f3aebf38436cb0c9",thumbnailUrl:"https://static.figma.com/uploads/798df987373ad0c548b2e5527b30cc5ab12ba1ee",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Silver / White",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_42MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/97ddb2d8c7fa1bcd0e9175ab4870e920131fc868",thumbnailUrl:"https://static.figma.com/uploads/4c9f8d06241e328ba5cd604a3b13c81f27e9003e",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Space Grey / Black",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_40MM_BLACK",url:"https://static.figma.com/uploads/e75f653f99f2864b9cb8f5aadaa1256fb07c44da",thumbnailUrl:"https://static.figma.com/uploads/1d1463212be3a0886ee5c42a37e1e00505249bf8",scaleFactor:2,imageSize:{x:458,y:796},offset:{x:28.5,y:100},deviceName:"Apple Watch 40mm",styleName:"",framePresetSize:{x:162,y:197}},{presetIdentifier:"APPLE_WATCH_38MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/6d4cfbe07e969780896d23752badaf4a01129c23",thumbnailUrl:"https://static.figma.com/uploads/bb82afa0b7de9277f1e961f3e64cb97445aa5d29",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Silver / White",framePresetSize:{x:136,y:170}},{presetIdentifier:"APPLE_WATCH_38MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/fb2ce9c66635652aedbfdf0b67eda809ce83e364",thumbnailUrl:"https://static.figma.com/uploads/b22cea10520c8e60711219fc191b49702ff4e305",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Space Grey / Black",framePresetSize:{x:136,y:170}}];a.deviceInfoByIdentifier=Object.create(null);for(let r of[i,c,s])for(let e of r)a.deviceInfoByIdentifier[e.presetIdentifier]=e;function f(e){const a=new Set,t=[];for(let i of e)a.has(i.deviceName)||(a.add(i.deviceName),t.push(i.deviceName));return t}a.phoneDeviceNames=f(i),a.tabletDeviceNames=f(c),a.watchDeviceNames=f(s),a.infosByDeviceName=Object.create(null);for(let r in a.deviceInfoByIdentifier){const e=a.deviceInfoByIdentifier[r],t=e.deviceName;t in a.infosByDeviceName||(a.infosByDeviceName[t]=[]),a.infosByDeviceName[t].push(e)}const d=(e,a)=>{for(let t of[i,c,s])for(let i of t)if(i.framePresetSize.x===e&&i.framePresetSize.y===a)return i;return null};function m(e,t){if("NONE"===e||"PRESENTATION"===e)return!1;if("CUSTOM"===e)return!0;if("PRESET"===e&&null!=t){const e=a.deviceInfoByIdentifier[t];if(null!=e){return!(-1!==a.watchDeviceNames.indexOf(e.deviceName))}}return!1}var l;a.deviceSupportsRotation=m,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PHONE=1]="PHONE",e[e.TABLET=2]="TABLET",e[e.WATCH=3]="WATCH"}(l||(l={})),a.deviceTypeForPresetIdentifier=function(e){const t=a.deviceInfoByIdentifier[e];if(null==t)return l.UNKNOWN;const i=t.deviceName;return-1!==a.phoneDeviceNames.indexOf(i)?l.PHONE:-1!==a.tabletDeviceNames.indexOf(i)?l.TABLET:-1!==a.watchDeviceNames.indexOf(i)?l.WATCH:l.UNKNOWN},a.getDeviceInfoForSize=function(e,a){let t=d(e,a);return null!=t?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"NONE"}:null!=(t=d(a,e))&&m("PRESET",t.presetIdentifier)?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"CCW_90"}:null}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(122        );let i=!1;t.EventEmitter=class{constructor(e){this._name=e,this._listenersByEvent=Object.create(null)}on(e,t){this._listenersByEvent[e]||(this._listenersByEvent[e]=[]),n.pushIfAbsent(this._listenersByEvent[e],t)}removeListener(e,t){const s=this._listenersByEvent[e];s&&n.removeByValue(s,t)}trigger(e,t){if(i&&console.log(`EventEmitter(${this._name}) triggering (${e})`),this._listenersByEvent[e])for(const s of this._listenersByEvent[e])s(t)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(203                ),s=n(112                      ),o=n(114         ).debounce(s.trackEvent,1e3,!0),i="gamepadconnected",r="gamepaddisconnected",d=1e3,c=.5;t.GameControllerListener=class{constructor(){this.emitter=new a.EventEmitter("GameControllerListener"),this.state=new Map,this.rafHandle=0,this.onGamePadConnected=(e=>{this.rafHandle||(this.rafHandle=window.requestAnimationFrame(this.tick))}),this.onGamePadDisconnected=(e=>{Array.from(window.navigator.getGamepads()).some(Boolean)||(window.cancelAnimationFrame(this.rafHandle),this.rafHandle=0)}),this.tick=(()=>{const e=window.navigator.getGamepads();for(const t of e){if(!t)continue;const e=this.getStateForGamepad(t),n=this.state.get(t.index)||e,a=[];for(const t of e.pressedButtons)n.pressedButtons.has(t)||a.push(t);this.state.set(t.index,e),a.length&&this.emitter.trigger("onPress",{type:"onPress",buttons:a,gamePadIndex:t.index,controllerType:w(t)})}this.rafHandle=window.requestAnimationFrame(this.tick)})}start(){if("function"!=typeof window.navigator.getGamepads)return void console.warn("Gamepad API not supported");const e=window.navigator.getGamepads();for(const t of e)null!=t&&this.state.set(t.index,this.getStateForGamepad(t));window.addEventListener(i,this.onGamePadConnected),window.addEventListener(r,this.onGamePadDisconnected),Array.from(window.navigator.getGamepads()).some(Boolean)&&(this.rafHandle=window.requestAnimationFrame(this.tick))}end(){this.cancelRAF(),window.removeEventListener(i,this.onGamePadConnected),window.removeEventListener(r,this.onGamePadDisconnected)}onPress(e){return this.emitter.on("onPress",e),{release:()=>{this.emitter.removeListener("onPress",e)}}}cancelRAF(){this.rafHandle&&(window.cancelAnimationFrame(this.rafHandle),this.rafHandle=0)}getStateForGamepad(e){const t=[];for(let n=0;n<e.buttons.length;n++)e.buttons[n].pressed&&t.push(n);for(let n=0;n<e.axes.length;n++){const a=e.axes[n];a<-c&&t.push(2*n+d),a>c&&t.push(2*n+1+d)}return{pressedButtons:new Set(t)}}};const l=new Map([["054c_09cc","PS4"],["054c_05c4","PS4"],["054c_0268","PS4"],["057e_2009","SWITCH_PRO"],["045e_02ea","XBOX_ONE"],["045e_02dd","XBOX_ONE"]]),m=new Map([["054c","PS4"],["057e","SWITCH_PRO"],["045e","XBOX_ONE"]]),h=/Vendor: ([0-9a-f]+) Product: ([0-9a-f]+)/i;function w(e){var t;const n=h.exec(e.id);if(!n)return"UNKNOWN_CONTROLLER";const[a,s]=n.slice(1),i=`${a}_${s}`,r=l.get(i),d=null!=(t=null!=r?r:m.get(a))?t:"UNKNOWN_CONTROLLER";return o("Game Controller Triggered",{id:e.id,closestMatch:d,wasExactMatch:Boolean(r)}),d}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(119              ),o=t(115          ),r=t(121              ),s=t(85                   ),l=t(202                              ),c=t(126          ),a=t(86      ),d=t(204               );var u,g=null,p=null;const f=new d.GameControllerListener;n.getGlobalViewerInstance=function(){return g},n.setMockEmbedListener=function(e){null!=g?g.setMockEmbedListener(e):u=e},n.getOrCreateViewerInstance=function(e,n,t={}){const d=Object.assign({viewerMode:e,workerURL:Fig.viewerWorkerURL,containerElement:n,scrollToPan:!o.isInIframe()||null!=r.parse(location.search).fullscreen,featureFlags:s.getFeatureFlags(),trackAnalyticsEvent:(e,n)=>{c.segment.track(e,n)},trackingSessionId:s.initialOptions().tracking_session_id||null,bowser:a,gameControllerListener:f},t);return g?(JSON.stringify(Object.assign(Object.assign({},d),{containerElement:null}))!==JSON.stringify(p)&&console.warn("getOrCreateViewerInstance called with different options than the first call!"),g.setNewContainerElement(n),Promise.resolve(g)):i.loadScript(Fig.viewerScriptURL).then(()=>(p=Object.assign(Object.assign({},d),{containerElement:null}),g=Fig.createViewer(Object.assign(Object.assign({},d),{deviceInfoByIdentifier:l.deviceInfoByIdentifier})),null!=u&&g.setMockEmbedListener(u),g))},n.connectViewerToFile=function(e,n,t,i){const o=null==i?"":`&oauth_token=${i}`,r=`${"https:"===location.protocol?"wss":"ws"}://${location.host}/api/multiplayer/${n}?${o}`;e.connectTo(r,n,t)},n.initializeViewerDebugStats=function(e){const n=document.createElement("div");document.body.appendChild(n),n.style.cssText="\n  font-size: 9px;\n  position: fixed;\n  left: 6px;\n  top: 6px;\n  background-color: black;\n  color: white;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  padding: 6px;\n  ",setInterval(()=>{for(;n.firstChild;)n.removeChild(n.firstChild);const t=e.getStatsForDebugging();for(let e in t){const i=document.createElement("div");i.innerHTML=`\n      <div>\n        <span>\n          ${e}: &nbsp;\n        </span>\n        <span>\n          ${t[e]}\n        </span>\n      </div>\n      `,n.appendChild(i)}},1e3/30)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(145         ),s=t(205         ),i=t(146                                          ),r=t(163                               );let l=null;function u(e){return(t,o)=>{for(const s of n.listeners[e])s({x:t,y:o})}}n.initialize=function(e){l=e},n.listeners={mousedown:new Set,mousemove:new Set,mouseup:new Set},n.on=function(e,t){n.listeners[e].add(t)},n.off=function(e,t){n.listeners[e].delete(t)},n.handleMouseDown=u("mousedown"),n.handleMouseMove=u("mousemove"),n.handleMouseUp=u("mouseup"),n.getCommentDestinationForCanvasPosition=function(e,t){const i=l.getState(),u=i.selectedView;if("fullscreen"===u.view){const s=r.Fullscreen.getCommentAnchorNodeAtPosition(e.x,e.y);if(null==s)return{canvasPosition:e};const i=n.getBoundsForNodes([s])[s];return null==i?t?{canvasPosition:e,nodeId:t,inFrame:!1}:{canvasPosition:e}:{canvasPosition:e,nodeId:s,nodeOffset:o.Vector.subtract(e,i),inFrame:t!==s}}if("prototype"===u.view){const n=s.getGlobalViewerInstance();if(null!=n){const t=n.getCommentDestinationAtPosition(e);return{canvasPosition:t.canvasPosition,nodeId:t.nodeId||void 0,nodeOffset:t.nodeOffset||void 0}}const t=i.prototype;return{canvasPosition:e,nodeId:t.frameIds[t.currentIndex],nodeOffset:{x:0,y:0}}}return console.error("Comments not supported unless in prototype or fullscreen views"),null},n.getBoundsForNodes=(e=>{if("fullscreen"===l.getState().selectedView.view){const n=i.fullscreen.DEPRECATED_sendMessage("getBoundsForNodes",{nodeIds:e});if(n&&n.args)return n.args}else{const n=s.getGlobalViewerInstance();if(null!=n)return n.getCanvasSpaceBoundsByNodeId(e)}return Object.create(null)}),n.getValidCommentsRect=(()=>{if("fullscreen"===l.getState().selectedView.view)return null;const e=s.getGlobalViewerInstance();return e?e.getCurrentTlfBounds():null})}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const l=o(114           );let t=[],a=[];n.pluginCallbackBindings={selectionChange:e=>{for(let n of t)e?n.boxSelection():n.normal()},boxSelectionEnded:()=>{for(let e of t)e.boxSelection.flush()},currentPageChange:()=>{for(let e of a)e()}},n.addSelectionChangeCallback=function(e){t.push({normal:e,boxSelection:l.debounce(e,500)})},n.removeSelectionChangeCallback=function(e){t=t.filter(n=>n.normal!==e||(n.boxSelection.cancel(),!1))},n.addCurrentPageChangeCallback=function(e){a.push(e)},n.removeCurrentPageChangeCallback=function(e){a=a.filter(n=>n!=e)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error(`Uncaught type ${JSON.stringify(e)}`)}}),
(function(u,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(u){u[u.EDIT=0]="EDIT",u[u.PREVIEW=1]="PREVIEW",u[u.UPLOADING=2]="UPLOADING",u[u.SUCCESS=3]="SUCCESS",u[u.FAILURE=4]="FAILURE"}(e.HubPublishingStatusCode||(e.HubPublishingStatusCode={}))}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e.USER="user_profile",e.ORG="org_profile",e.TEAM="team_profile"}(o.ProfileType||(o.ProfileType={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteTokenState={OK:"ok",WARN:"warn",ERROR:"error"}}),
(function(E,A,_){"use strict";Object.defineProperty(A,"__esModule",{value:!0});const e=_(86      );var P;function D(E){return(E.altKey?P.ALT:0)|(E.metaKey?P.META:0)|(E.shiftKey?P.SHIFT:0)|(E.ctrlKey?P.CONTROL:0)}!function(E){E[E.ALT=256]="ALT",E[E.META=512]="META",E[E.SHIFT=1024]="SHIFT",E[E.CONTROL=2048]="CONTROL"}(P=A.ModifierKey||(A.ModifierKey={})),function(E){E[E.BACKSPACE=8]="BACKSPACE",E[E.TAB=9]="TAB",E[E.ENTER=13]="ENTER",E[E.SHIFT=16]="SHIFT",E[E.CTRL=17]="CTRL",E[E.ALT=18]="ALT",E[E.PAUSE=19]="PAUSE",E[E.CAPS_LOCK=20]="CAPS_LOCK",E[E.ESCAPE=27]="ESCAPE",E[E.SPACE=32]="SPACE",E[E.PAGE_UP=33]="PAGE_UP",E[E.PAGE_DOWN=34]="PAGE_DOWN",E[E.END=35]="END",E[E.HOME=36]="HOME",E[E.LEFT_ARROW=37]="LEFT_ARROW",E[E.UP_ARROW=38]="UP_ARROW",E[E.RIGHT_ARROW=39]="RIGHT_ARROW",E[E.DOWN_ARROW=40]="DOWN_ARROW",E[E.INSERT=45]="INSERT",E[E.DELETE=46]="DELETE",E[E.KEY_0=48]="KEY_0",E[E.KEY_1=49]="KEY_1",E[E.KEY_2=50]="KEY_2",E[E.KEY_3=51]="KEY_3",E[E.KEY_4=52]="KEY_4",E[E.KEY_5=53]="KEY_5",E[E.KEY_6=54]="KEY_6",E[E.KEY_7=55]="KEY_7",E[E.KEY_8=56]="KEY_8",E[E.KEY_9=57]="KEY_9",E[E.A=65]="A",E[E.B=66]="B",E[E.C=67]="C",E[E.D=68]="D",E[E.E=69]="E",E[E.F=70]="F",E[E.G=71]="G",E[E.H=72]="H",E[E.I=73]="I",E[E.J=74]="J",E[E.K=75]="K",E[E.L=76]="L",E[E.M=77]="M",E[E.N=78]="N",E[E.O=79]="O",E[E.P=80]="P",E[E.Q=81]="Q",E[E.R=82]="R",E[E.S=83]="S",E[E.T=84]="T",E[E.U=85]="U",E[E.V=86]="V",E[E.W=87]="W",E[E.X=88]="X",E[E.Y=89]="Y",E[E.Z=90]="Z",E[E.SELECT=93]="SELECT",E[E.NUMPAD_0=96]="NUMPAD_0",E[E.NUMPAD_1=97]="NUMPAD_1",E[E.NUMPAD_2=98]="NUMPAD_2",E[E.NUMPAD_3=99]="NUMPAD_3",E[E.NUMPAD_4=100]="NUMPAD_4",E[E.NUMPAD_5=101]="NUMPAD_5",E[E.NUMPAD_6=102]="NUMPAD_6",E[E.NUMPAD_7=103]="NUMPAD_7",E[E.NUMPAD_8=104]="NUMPAD_8",E[E.NUMPAD_9=105]="NUMPAD_9",E[E.NUMPAD_DELETE=1e3]="NUMPAD_DELETE",E[E.MULTIPLY=106]="MULTIPLY",E[E.ADD=107]="ADD",E[E.SUBTRACT=109]="SUBTRACT",E[E.DECIMAL=110]="DECIMAL",E[E.DIVIDE=111]="DIVIDE",E[E.SEMICOLON=186]="SEMICOLON",E[E.EQUALS=187]="EQUALS",E[E.COMMA=188]="COMMA",E[E.DASH=189]="DASH",E[E.PERIOD=190]="PERIOD",E[E.FORWARD_SLASH=191]="FORWARD_SLASH",E[E.GRAVE_ACCENT=192]="GRAVE_ACCENT"}(A.Key||(A.Key={})),function(E){E[E.KEY_PRESS=1]="KEY_PRESS",E[E.KEY_RELEASE=2]="KEY_RELEASE"}(A.EventType||(A.EventType={})),A.isStandardShortcutKeyPressed=function(E){return e.mac?E.metaKey:E.ctrlKey},A.modifierKeys=D,A.isNoneOrAllowedModifiersPressed=function(E,A){const _=D(E);return 0===_||0==(_&~A)},A.isExactModifierPressed=function(E,A){return D(E)===A},A.shouldUseDefaultOpenBehavior=function(E){return!!E&&(E.metaKey&&e.mac||E.ctrlKey&&!e.mac||E.shiftKey)}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(85                   ),i=a(208        ),n=a(98                  ),o=a(111            ),l=a(111                        ),u=a(209                              ),s=a(210                               ),d=a(106                                     ),c=a(124     ),p=a(211                            ),m=a(212      );function _(e){return e&&e.status||{code:u.HubPublishingStatusCode.EDIT}}t.mergeVersions=function(e,t){return Object.assign(Object.assign({},e&&e.versions||{}),t&&t.versions||{})},t.getById=function(e,t,a){return e&&t&&t[e]||a},t.trimString=function(e){return e&&e.trim()||""},t.publishingStateActionCreator=function(e){return{updateStatus:n.actionCreator(`${e}_UPDATE_PUBLISH_STATUS`),updateMetadata:n.actionCreator(`${e}_UPDATE_PUBLISH_METADATA`),clearMetadata:n.actionCreator(`${e}_CLEAR_PUBLISH_METADATA`),clearMetadataAndStatus:n.actionCreator(`${e}_CLEAR_PUBLISHING`)}},t.publishingStateReducer=function(e){return(t={},a)=>{if(e.updateMetadata.matches(a))return Object.assign(Object.assign({},t),{[a.payload.id]:{metadata:a.payload.metadata,status:_()}});if(e.clearMetadata.matches(a)){const e=Object.assign({},t);return e[a.payload.id]&&delete e[a.payload.id].metadata,e}if(e.updateStatus.matches(a))return Object.assign(Object.assign({},t),{[a.payload.id]:Object.assign(Object.assign({},t[a.payload.id]||{}),{status:a.payload.status})});if(e.clearMetadataAndStatus.matches(a)){const e=Object.assign({},t);return delete e[a.payload.id],e}return d.fileBrowser.hydrate.matches(a)?{}:t}},t.getPublishingStatus=_,t.validateProfileHandleFormat=(e=>{return e&&0!=e.length?e.length>15?"Your handle can be up to 15 characters in length":/^[a-zA-Z0-9_]{1,15}$/.test(e)?null:"Please enter a valid profile handle":"Your handle cannot be empty"}),t.profileHandleChanged=((e,t)=>(e=(e||"").toLowerCase())!==(t=(t||"").toLowerCase())),t.getProfileName=function(e,t="Public Profile"){switch(e.type){case s.ProfileType.ORG:case s.ProfileType.TEAM:return e.name;case s.ProfileType.USER:return e.handle;default:return t}},t.withinProfileScope=function(e,t){const a=e.id;switch(e.type){case s.ProfileType.ORG:return l.canMemberOrg(a,t)||o.canAdminOrg(a,t);case s.ProfileType.TEAM:return o.canEditTeam(a,t)||l.canAdminTeam(a,t);case s.ProfileType.USER:return!!t.user&&t.user.id===a;default:return!1}},t.canEditProfile=function(e,t){const a=e.id;switch(e.type){case s.ProfileType.ORG:return o.canAdminOrg(a,t);case s.ProfileType.TEAM:return l.canAdminTeam(a,t);case s.ProfileType.USER:return!!t.user&&t.user.id===a;default:return!1}},t.getProfileFromState=function(e,t){return"userId"in t?e.publicUserProfileById[t.userId]:"orgId"in t?e.publicOrgProfileById[t.orgId]:"teamId"in t?e.publicTeamProfileById[t.teamId]:void i.assertNever(t)},t.getProfileType=function(e){return"userId"in e?s.ProfileType.USER:"orgId"in e?s.ProfileType.ORG:"teamId"in e?s.ProfileType.TEAM:void i.assertNever(e)},t.getLoadingStateName=function(e){return"userId"in e?`USER_${e.userId}`:"teamId"in e?`TEAM_${e.teamId}`:"orgId"in e?`ORG_${e.orgId}`:""},t.getPublisherDisplayString=function(e){return e.author_org?e.author_org.name:e.author_team?e.author_team.name:e.creator.handle},t.getOrgPermissionEntity=function(e){let t=null;if(e.currentOrgId&&e.orgById[e.currentOrgId]){const a=o.canAdminOrg(e.currentOrgId,e),r=e.orgById[e.currentOrgId];t={isAdmin:a,id:r.id,name:r.name,publicPluginsAllowed:null==r.public_plugins_allowed||r.public_plugins_allowed,whitelistEnforced:r.plugins_whitelist_enforced,publicLinksBanned:r.public_links_banned}}return t},t.isCommunityHubRealtimeMessage=function(e){return!!(e.plugin_install||e.plugin||e.whitelisted_plugin||e.hub_file||e.public_user_profile||e.public_org_profile||e.public_team_profile||e.community_hub_like)},t.validateProfileCoverImageFile=function(e){if(!e)throw new Error("Cover image not found");if(["image/jpeg","image/png","image/svg+xml"].indexOf(e.type)<0)throw new Error("Cover image must be a jpeg, png, or svg");if(e.size>t.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Cover image exceeds max size of ${Math.floor(t.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size},t.validateTagToken=function(e){return{email:e.toLowerCase(),state:e.match(/^[a-zA-Z][a-zA-Z0-9_]{0,24}$/)?p.AutocompleteTokenState.OK:p.AutocompleteTokenState.ERROR,user:null}},t.validateTags=function(e){return e.length>12?"Cannot have more than 12 tags":e.some(e=>!e.match(/^[a-zA-Z0-9_]*$/))?"Tags can only contain letters, numbers, or _":e.some(e=>!e.charAt(0).match(/^[a-zA-Z]$/))?"Tags must begin with a letter":e.some(e=>e.length>25)?"Tags can have up to 25 characters":null},t.emptyPublicProfile={type:s.ProfileType.USER,id:"",cover_image_path:null,redirect_cover_image_url:null,description:null,location:null,website:null,profile_handle:null,img_url:"",handle:"",created_at:"",updated_at:null,public_at:null},t.autoCompleteInputNewTokenKeyCodes=[m.Key.SPACE,m.Key.TAB,m.Key.ENTER,m.Key.COMMA],t.IMAGE_UPLOAD_SIZE_LIMIT=5242880,t.CODE_UPLOAD_SIZE_LIMIT=15728640,t.PROFILE_COVER_IMAGE_MIN_WIDTH=240,t.PROFILE_COVER_IMAGE_MIN_HEIGHT=240,t.PROFILE_COVER_IMAGE_MAX_WIDTH=4096,t.PROFILE_COVER_IMAGE_MAX_HEIGHT=1024,t.isLoggedOutCommunityHubPage=function(){return!r.initialOptions().user_data&&function(){const e=location.pathname;for(const t of["/c","/@","/user","/org","/team"])if(e.startsWith(t))return!0;return!1}()},t.verifyHandleAvailability=((e,a)=>{if(!e)return Promise.resolve({available:!1,error:"Profile handle must not be empty"});const r=t.validateProfileHandleFormat(e);if(r)return Promise.resolve({available:!1,error:r});if(t.profileHandleChanged(a||"",e)){return c.default.get(`/api/profile_handle/${e}/available`).then(({data:t})=>t&&t.meta&&t.meta.available?{available:!0}:{available:!1,error:`@${e} is already taken`})}return Promise.resolve({available:!1})}),t.PAGINATION_PAGE_SIZE=50}),
(function(e,n,t){"use strict";var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(o,s){function l(e){try{a(i.next(e))}catch(n){s(n)}}function r(e){try{a(i.throw(e))}catch(n){s(n)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(l,r)}a((i=i.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const o=t(119              ),s=t(86      ),l=t(117              ),r=t(196               ),a=t(126          ),c=t(85                   ),d=t(201                                     ),u=t(206                              ),p=t(146                              ),m=t(163                               ),f=t(207                            ),g=t(213              );t(127             );function b(){const e=Fig.fullscreenURLs["compiled_wasm.wasm"],t=Fig.fullscreenURLs["compiled_wasm.js"];function s(){return w(e)}return function(e,{startLoadingBinary:t,loadJavaScript:o,loadCode:s}){console.log(`[Fullscreen] Using ${e}`),s=r.mergeAndRetry(s);const l=r.mergeAndRetry(()=>i(this,void 0,void 0,function*(){const n=t(),i=yield s();return console.log(`Initializing C++ code (${e})`),yield i(n)})),a=r.mergeAndRetry(()=>i(this,void 0,void 0,function*(){const t=yield l();console.log(`Calling C++ main (${e})`),window.tsapi_init=m.tsapi_init;for(const e in n.tsApisForCpp)window[e]=n.tsApisForCpp[e]();t(),delete window.tsapi_init;for(const e in n.tsApisForCpp)delete window[e]}));return{name:e,prepare:()=>i(this,void 0,void 0,function*(){F?yield l():yield Promise.all([h(t()),o()])}),loadAndCallMain:a}}("WebAssembly",{startLoadingBinary:s,loadJavaScript:function(){return h(w(t))},loadCode:function(){return i(this,void 0,void 0,function*(){try{yield o.loadScript(t)}catch(a){throw new Error(`Failed to load ${t}`)}const e=window.executeFullscreenEmscriptenCode;let n,l;delete window.executeFullscreenEmscriptenCode;const r={instantiateWasm:(e,t)=>(n=e,l=t,{})};window.Module=r;try{e()}finally{delete window.Module}if(void 0===n)throw new Error('Expected WebAssembly code to set "info"');if(void 0===l)throw new Error('Expected WebAssembly code to set "receiveInstance"');return e=>i(this,void 0,void 0,function*(){let t;(t=WebAssembly.instantiateStreaming)||console.log("WebAssembly.instantiateStreaming is not supported. Using WebAssembly.instantiate instead.");const o=performance.now();let r;const a=()=>i(this,void 0,void 0,function*(){try{console.log("Calling WebAssembly.instantiateStreaming");const i=t(e,n);console.log("Awaiting WebAssembly.instantiateStreaming"),r=yield i,console.log("Finished WebAssembly.instantiateStreaming")}finally{const e=performance.now();console.log(`WebAssembly.instantiateStreaming: ${(e-o).toFixed(1)}ms`)}}),d=()=>i(this,void 0,void 0,function*(){const t=yield h(e);try{console.log("Calling WebAssembly.instantiate");const e=WebAssembly.instantiate(t,n);console.log("Awaiting WebAssembly.instantiate"),r=yield e,console.log("Finished WebAssembly.instantiate")}finally{const e=performance.now();console.log(`WebAssembly.instantiate: ${(e-o).toFixed(1)}ms`)}});if(t&&!c.getFeatureFlags().wasm_no_instantiate_streaming)try{yield a()}catch(u){console.warn('Detected a proxy interfering with the "application/wasm" MIME type. Falling back to a slower WebAssembly instantiation method instead.'),e=s(),yield d()}else yield d();return()=>{l(r.instance)}})})}})}n.tsApisForCpp={FigmaApp:()=>p.fullscreen,Comments:()=>u,PluginCallbacks:()=>f.pluginCallbackBindings};const y=Math.random().toString(36).slice(2);function w(e){return i(this,void 0,void 0,function*(){return console.log(`Fetching ${e} started`),fetch(e)})}function h(e){return i(this,void 0,void 0,function*(){const n=yield e;if(!n.ok)throw new Error(`Fetching ${n.url} failed with ${n.status}`);return n.arrayBuffer()})}n.getRandomID=function(){return y};const A=!location.pathname.startsWith("/proto")&&(!l.desktopApp||l.desktopApp.isFileTab())&&!g.isLoggedOutCommunityHubPage();n.isAllowedToLoadFullscreen=!/Mobi/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)&&c.getFeatureFlags().ipad_editor;const F=n.isAllowedToLoadFullscreen&&(s.chrome||s.firefox),v="Fig"in window&&Fig.fullscreenURLs?function(){function e(){const e="compiled_wasm.js"in Fig.fullscreenURLs;return"object"==typeof WebAssembly&&e?b():(e?console.error("Cannot initialize fullscreen: WebAssembly isn't supported"):console.error("Cannot initialize fullscreen: no options available"),null)}return e()}():null;function _(){if(null===v)throw new Error(n.WASM_REQUIRED_ERROR);return v}null!==v&&d.setPickedLoader(v.name),null!==v&&A&&v.prepare(),n.WASM_REQUIRED_ERROR="Your browser is not supported. Please update your browser to the latest version to use Figma.",n.preloadFullscreen=function(){return i(this,void 0,void 0,function*(){yield _().prepare()})},n.initializeFullscreen=function(){return i(this,void 0,void 0,function*(){if(l.isRunningOutdatedDesktopApp())return console.error("Cannot initialize fullscreen with an outdated desktop app shell"),new Promise(()=>{});const e=_();try{yield e.loadAndCallMain(),a.segment.track("Fullscreen Loaded",{loader:e.name})}catch(n){throw a.segment.track("Fullscreen Load Failure",{error:n+""}),setTimeout(()=>{if(!n||"Failed to fetch"!==n.message)throw n instanceof Error?n:new Error(`Fullscreen load failure: ${n}`)}),n}})},n.isLocalBuild=function(){const e=Fig.fullscreenURLs["compiled_wasm.js"];return!(!e||!e.startsWith("/"))}}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=r(171         ),t=r(146                   );r(163        ),r(214                   );n.isMacDebugApp=-1!==navigator.userAgent.indexOf("FigmaNativeApp");let i=!1;class s{handleMessageFromWeb(e,n,r){const t=window.figmaWebContextObjcBridge.handleMessageFromWebWithNameArgsAndBuffer(e,JSON.stringify(n),r?o.encode(r):null),i=JSON.parse(t);return i.buffer&&(i.buffer=o.decode(i.buffer)),i}}n.OSXWebContextShim=s;n.OSXWebContextListener=class{constructor(e){e.on("sendMessageToWeb",n=>{let r=n.args||{};null!=n.buffer&&(r.buffer=o.decode(n.buffer)),e.trigger(n.event,r)})}initialize(){if(i)return;i=!0,t.fullscreen.registerWebContext(new s);const e=window.console,n={};for(let r in e)"function"==typeof e[r]&&(n[r]=(n=>(function(){e[n].apply(e,arguments)}))(r));["debug","error","info","log","trace","warn","group"].forEach(r=>{n[r]=function(){e[r].apply(e,arguments),t.fullscreen.DEPRECATED_sendMessage("console:"+r,Array.prototype.slice.call(arguments),null)}}),window.console=n,n.log("console initialized"),window.onerror=((e,r,o,t,i)=>{n.error("Uncaught exception: "+e+" ("+r+":"+o+":"+t+")")})}}}),
(function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function u(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,u)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(86      ),r=n(115          ),s=n(195                ),u=n(117              ),c=n(194               ),a=n(215                           );function f(){return!(!i.windows&&!i.mac)&&(!u.desktopApp&&!a.isMacDebugApp)}function l(e){return o(this,void 0,void 0,function*(){if(r.isInIframe())return Promise.reject();if(!1!==t.useAgent)try{let o=yield s.makeDesktopAgentRequest(e);return o.data.source="agent",t.useAgent=!0,o}catch(n){if(!0===t.useAgent)throw n;t.useAgent=!1}return c.makeLocalServerRequest(18412,7335,`/figma${e}`)})}t.supportsFontDaemon=f,t.openFontSettings=function(){f()&&(location.href="/settings#fonts")},t.useAgent=void 0,t.requestFontDaemonFontFiles=function(){return l("/font-files")},t.checkForFontDaemon=function(){return l("/version")}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(163                               );t.sharedFontMetadataToFontInfo=(e=>({postscript:e.postscript_name,family:e.family,style:e.style,weight:e.weight,italic:e.italic,stretch:e.stretch,id:e.id.toString(),source:r.FontSource.SHARED,teamId:e.team_id?e.team_id.toString():void 0,orgId:e.org_id?e.org_id.toString():void 0,version:t.parseVersion(e.version),sampleUrl:e.sample_url,updatedAt:e.updated_at})),t.parseVersion=(e=>e?e.replace(/version/i,"").split(";")[0].trim():void 0),t.uniqueResourceIDForFont=(e=>e.teamId?`team-${e.teamId}`:`org-${e.orgId}`),t.resourceIDForUniqueResourceID=(e=>e.replace(/team-|org-/,""))}),
(function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function l(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,l)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=o(86      ),r=o(157         ),s=o(115          ),l=o(193           ),c=o(126          ),a=o(124     ),u=o(117              ),f=o(216              ),d=o(163                               ),p=o(146                   ),h=o(217       ),g=o(85                   ),m="https://static.figma.com/font",F="index_b8e1a1471bd51035a04b4e1d0fa0221c.json";let v=!1,y=null;var T;e.localFontsProviderDescription=null,function(t){t[t.POSTSCRIPT_NAME=0]="POSTSCRIPT_NAME",t[t.VERSION=1]="VERSION",t[t.FAMILY=2]="FAMILY",t[t.STYLE=3]="STYLE",t[t.WEIGHT=4]="WEIGHT",t[t.ITALIC=5]="ITALIC",t[t.STRETCH=6]="STRETCH",t[t.COUNT=7]="COUNT"}(T||(T={}));let L=new class{constructor(t){this.options=t,this.favorite=0,r.assertDev(t.length>0,"at least one option must be provided")}get(){return n(this,void 0,void 0,function*(){try{return yield this.options[this.favorite]()}catch(t){const e=this.favorite+1;if(e==this.options.length)throw t;return this.favorite=e,yield this.get()}})}}([()=>n(void 0,void 0,void 0,function*(){console.log("Trying to fetch local fonts from the agent / daemon.");const t=yield f.requestFontDaemonFontFiles();return y=`${t.origin}/figma`,e.localFontsProviderDescription=f.useAgent?"agent, via the future getter":"daemon, via the future getter",t.data}),()=>n(void 0,void 0,void 0,function*(){if(console.log("Trying to fetch local fonts from the desktop app."),!u.desktopApp)throw new Error("desktop app not available to provide font information");const t=yield u.desktopApp.getFonts();return e.localFontsProviderDescription="desktop app, via the future getter",{fontFiles:t,source:"desktop",version:u.desktopApp.getInformationalVersion()}})]);function S(t){const e=["italic","oblique"],o=t.toLowerCase();for(const n of e)if(o.includes(n))return!0;return!1}function A(t){if(!g.getFeatureFlags().font_weights_relax)for(const e of t)void 0!==e.weight&&(e.weight=100*Math.floor(e.weight/100));for(const e of t)!e.italic&&S(e.style)&&(e.italic=!0);return t}function I(){return a.default({method:a.default.Methods.GET,url:"/api/fonts",headers:{"Content-Type":"text/plain"}}).then(({data:t})=>t&&t.meta?t.meta.fonts.map(h.sharedFontMetadataToFontInfo):null).catch(()=>null)}e.normalizeFontInfoList=A,e.fetchFontList=function(t=[d.FontSource.LOCAL,d.FontSource.GOOGLE]){return n(this,void 0,void 0,function*(){function o(t,e){return n(this,void 0,void 0,function*(){const o=[t];try{const t=yield e;return{sources:o,list:null===t?[]:t}}catch(n){return console.error(n),{sources:o,list:[]}}})}let r=[];const p=t.map(t=>{switch(t){case d.FontSource.LOCAL:return o(t,function(){let t;return g.getFeatureFlags().future_local_font_lookup?(s.isInIframe()&&(t=Promise.reject()),t=L.get()):t=u.desktopApp?u.desktopApp.getFonts().then(t=>(e.localFontsProviderDescription="desktop app, via the legacy getter",{fontFiles:t,source:"desktop",version:u.desktopApp.getInformationalVersion()})):f.requestFontDaemonFontFiles().then(t=>(y=`${t.origin}/figma`,e.localFontsProviderDescription=f.useAgent?"agent, via the legacy getter":"daemon, via the legacy getter",t.data)),t.then(t=>{if(!t)return null;if(!v){const e=t.source||"daemon",o=`${t.version||"unknown"}`,n=i.osname;c.segment.track("Local Fonts Fetched",{source:e,version:o,os:n})}v=!0;const e=[],o=[];return Object.keys(t.fontFiles).forEach(n=>{if(/\.suit$/.test(n))return;const i=t.fontFiles[n];for(let t=0;t<i.length;++t){let r=i[t];if("GB18030 Bitmap"!==r.family&&"Apple Color Emoji"!==r.family&&"Roboto"!==r.family){if(l.mac&&"localized"in r&&r.localized&&t+1<i.length){const o=i[t+1];r.postscript===o.postscript&&(e.push({unlocalized:{family:o.family,style:o.style},localized:{family:r.family,style:r.style}}),r=o,++t)}else r.localizedFamily&&r.localizedStyle&&e.push({unlocalized:{family:r.family,style:r.style},localized:{family:r.localizedFamily,style:r.localizedStyle}});o.push({family:r.family,style:r.style,weight:r.weight,stretch:r.stretch,italic:r.italic,postscript:r.postscript,id:n,source:d.FontSource.LOCAL})}}}),{list:o,localizedToUnlocalized:e,sources:[d.FontSource.LOCAL]}}).catch(t=>null)}().then(t=>null===t?[]:(r=t.localizedToUnlocalized,t.list)));case d.FontSource.GOOGLE:return o(t,a.default({method:a.default.Methods.GET,url:`${m}/${F}`,headers:{"Content-Type":"text/plain"}}).then(({data:t})=>t?t.map(t=>!Array.isArray(t)||t.length<T.COUNT?{}:{family:t[T.FAMILY],style:t[T.STYLE],weight:t[T.WEIGHT],stretch:t[T.STRETCH],italic:t[T.ITALIC],postscript:t[T.POSTSCRIPT_NAME],id:t[T.POSTSCRIPT_NAME]+"_"+t[T.VERSION],source:d.FontSource.GOOGLE}):null).catch(t=>null));case d.FontSource.SHARED:return o(t,I())}}),h=(yield Promise.all(p)).reduce(function(t,e){const o=[],n=[];return o.push(...t.sources,...e.sources),n.push(...t.list,...e.list),{sources:o,list:n}},{sources:[],list:[]});if(!h.list.length)throw new Error("no results");const S=A(h.list);return{sources:h.sources,list:S,localizedToUnlocalized:r}})},e.fetchSharedFonts=I,e.fetchFontFile=function(t,e,o){return new Promise((n,i)=>{if(!e)return void i(new Error("Invalid font id"));if(t===d.FontSource.LOCAL&&u.desktopApp)return void n(u.desktopApp.getFontFile(e,o));let r=null;switch(t){case d.FontSource.LOCAL:y&&(r=`${y}/font-file?file=${encodeURIComponent(e)}`);break;case d.FontSource.GOOGLE:r=`${m}/${e}`;break;case d.FontSource.SHARED:p.fullscreen.editingFileKey()?r=`/api/fonts/${e}/file/${p.fullscreen.editingFileKey()}`:p.fullscreen.currentTeamId()?r=`/api/fonts/${e}/team/${p.fullscreen.currentTeamId()}`:p.fullscreen.currentOrgId()&&(r=`/api/fonts/${e}/org/${p.fullscreen.currentOrgId()}`)}r?a.default.get(r,null,{responseType:"arraybuffer",headers:{Accept:"text/plain"}}).then(({data:t})=>{n(t)}).catch(i):i(new Error("Invalid font source"))})},e.hasLocalFonts=function(){return v};const E=new Map;function O(t,e,o){let n=E.get(t);void 0===n&&(n=new Map,E.set(t,n));let i=n.get(e);void 0===i&&(i=[],n.set(e,i)),i.push(o)}function w(t,e,o){const n=E.get(t);if(void 0!==n){const t=n.get(e);if(void 0!==t){const e=t.indexOf(o);-1!==e&&t.splice(e,1)}}}e.registerFontListener=O,e.unregisterFontListener=w,e.triggerFontListeners=function(t,e,o){const n=E.get(t);if(void 0!==n){const t=n.get(e);if(void 0!==t)for(const e of t.slice())e(o)}},e.fontLoaded=function(t,e){return n(this,void 0,void 0,function*(){return new Promise((o,n)=>{d.Fullscreen.fontIsLoaded(t,e)&&o();const i=r=>{r===d.ResourceStatus.LOADED?(w(t,e,i),o()):r===d.ResourceStatus.FAILED&&(w(t,e,i),n())};O(t,e,i)})})}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=l(124     ),s=l(85                   );t.userStateCallback=(()=>{}),t.userStatePromise=new Promise(e=>{t.userStateCallback=e});let a=null;t.getUserStateRequest=(e=>{const l=t.getLastSelectedOrgId(),s=null!==l?{org_id:l}:void 0;let a={};return e&&e>0&&(a={retryCount:e}),r.default.get("/api/user/state",s,a)}),t.setLastSelectedOrgId=(e=>{e||(e="personal"),a=e,document.cookie=`last_org_id=${e};path=/`}),t.getLastSelectedOrgId=(()=>{let e=null;return e=a?"personal"===a?null:a:a=s.initialOptions().org_id||null}),t.resetLastSelectedOrgId=(()=>{a=null})}),
(function(n,t,p){n.exports={lazyInput:"lazy_input--lazyInput--2kTZE"}}),
(function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const s=r(3,1    ),i=r(112               ),a=s.createContext({properties:{}});class o extends s.Component{constructor(){super(...arguments),this.trackedName=null,this.trackedProperties=null}trackUpdate(e,t){this.trackedName&&this.trackedName===e&&!this.hasTrackedPropertiesChanged(t)||this.props.disableViewTracking||(i.trackContextView(Object.assign({name:e},t)),this.trackedName=e,this.trackedProperties=t||null)}hasTrackedPropertiesChanged(e){const t=this.trackedProperties,r=Object.assign(Object.assign({},e),this.props.properties);if(!t||!r)return!t!=!r;const n=Object.keys(t),s=Object.keys(r);return n.length!==s.length||n.some(e=>t[e]!==r[e])}render(){return s.createElement(a.Consumer,null,e=>{const t=e.name?`${e.name} > ${this.props.name}`:this.props.name,r=Object.assign(Object.assign({},e.properties),this.props.properties);return this.trackUpdate(t,r),s.createElement(a.Provider,{value:{name:t,properties:r}},this.props.children)})}}function c(e){return class extends s.Component{render(){return s.createElement(a.Consumer,null,t=>{const r=e=>{const r=Object.assign(Object.assign({},t.properties),this.props.trackingProperties);t.name&&(r.trackingContext=t.name);const n=this.props.children;this.props.innerText?r.text=this.props.innerText:n&&"string"==typeof n?r.text=n:n&&Array.isArray(n)&&n.every(e=>"string"==typeof e)&&(r.text=n.join("")),i.trackContextCtaClicked(r),this.props.onClick&&this.props.onClick(e)},a=this.props,{trackingProperties:o,innerText:c}=a,p=n(a,["trackingProperties","innerText"]);return!this.props.children&&this.props.innerText,s.createElement(e,Object.assign({},p,{onClick:r}))})}}}t.TrackingContext=o,o.displayName="TrackingContext",t.asTrackedContext=function(e,t){return class extends s.PureComponent{render(){return s.createElement(o,{name:t||e.displayName},s.createElement(e,Object.assign({},this.props)))}}},t.asTrackedElement=function(e,t,r={}){return s.createElement(o,{name:t,properties:r},e)},t.asTrackedClickable=c,t.ButtonTracked=c(e=>s.createElement("button",Object.assign({},e))),t.asTrackedInput=function(e){return class extends s.Component{render(){return s.createElement(a.Consumer,null,t=>{const r=this.props,{trackingProperties:a,trackingPopulationLevel:o,trackingFieldName:c}=r,p=n(r,["trackingProperties","trackingPopulationLevel","trackingFieldName"]);return s.createElement(e,Object.assign({},p,{onBlur:e=>{const r=Object.assign(Object.assign(Object.assign({},t.properties),this.props.trackingProperties),{fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel});t.name&&(r.trackingContext=t.name),i.trackContextInputBlurred(r),this.props.onBlur&&this.props.onBlur(e)}}))})}}}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(3,1    ),i=a(172              ),n=a(220               ),r=a(221                                    );class o extends i.PureComponent{constructor(t){super(t),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=(()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)}),this.onChange=i.changeEvent(this,"change",t=>{this.procrastinate(),this.setState({value:t.target.value}),this.props.onChange(t)}),this.state={value:this.props.value}}UNSAFE_componentWillReceiveProps(t){this.updateIfNotLazy(t.value)}componentWillUnmount(){super.componentWillUnmount(),this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(t){this.procrastinating?this.setState({requestedValue:t}):this.state.value!==t&&this.setState({value:t,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let t=Object.assign({},this.props);return delete t.delay,delete t.recordingKey,delete t.dataTestId,delete t.innerRef,t.value=this.state.value,t.onChange&&(t.onChange=this.onChange),null==t.value&&(t.value=void 0),t.className?t.className=`${t.className} ${n.lazyInput}`:t.className=n.lazyInput,null!=this.props.dataTestId&&(t["data-test-id"]=this.props.dataTestId),t}render(){return s.createElement("textarea"===this.props.type?"textarea":"input",Object.assign(Object.assign({},this.getProps()),{ref:this.props.innerRef}))}}o.displayName="LazyInput",o.defaultProps={type:"text",delay:1e3},e.LazyInput=s.forwardRef((t,e)=>s.createElement(o,Object.assign({},t,{innerRef:e}))),e.LazyInputTracked=r.asTrackedInput(e.LazyInput)}),
(function(i,t,s){i.exports={input:"basic_form--input--3cO2P",bigInput:"basic_form--bigInput--35JZw basic_form--input--3cO2P",textInput:"basic_form--textInput--3ZlM2 basic_form--input--3cO2P",bigTextInput:"basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P",checkboxContainer:"basic_form--checkboxContainer--2LsO1",checkbox:"basic_form--checkbox--3eCIg",checkboxShowFocus:"basic_form--checkboxShowFocus--2RbJL",label:"basic_form--label--hdhP9",btn:"basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",btnBig:"basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",primaryBtn:"basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",primaryBtnBig:"basic_form--primaryBtnBig--DLL1m basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",negativeBtn:"basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",negativeBtnBig:"basic_form--negativeBtnBig--2c7h3 basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",greenBtn:"basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",whiteBtn:"basic_form--whiteBtn--3Xwp5 basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",greenBtnBig:"basic_form--greenBtnBig--1m5Oi basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",secondaryBtnBig:"basic_form--secondaryBtnBig--evjXj basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",link:"basic_form--link--11HI0 blue_link--blueLink--22X56",inlineLink:"basic_form--inlineLink--3sRG- blue_link--blueLink--22X56",bigSelect:"basic_form--bigSelect--2lByI basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P"}}),
(function(e,t,s){"use strict";var n=this&&this.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),r=s(212      ),o=s(172              ),c=s(222                                      ),i=s(223               ),l=s(221                                                ),p=s(174                        );let d=null;t.setForwardInputKeyToFullscreenIfNecessary=function(e){d=e};class u extends o.Component{constructor(){super(...arguments),this.onKeyDown=(e=>{d&&d(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===r.Key.ESCAPE&&e.target.blur())}),this.onClick=o.mouseEvent(this,"click",e=>{this.props.onClick&&this.props.onClick(e)})}render(){const e=Object.assign({},this.props);return e.className=`${this.props.defaultClass} ${this.props.className||""}`,delete e.defaultClass,delete e.recordingKey,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),a.createElement("button",Object.assign({onKeyDown:this.onKeyDown},e),this.props.children)}}t.ButtonBase=u,u.displayName="ButtonBase";class m extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtn},this.props))}}t.ButtonPrimary=m,m.displayName="ButtonPrimary",t.ButtonPrimaryTracked=l.asTrackedClickable(m);class g extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtnBig},this.props))}}t.BigButtonPrimary=g,g.displayName="BigButtonPrimary",t.BigButtonPrimaryTracked=l.asTrackedClickable(g);class b extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.btn,type:"button"},this.props))}}t.ButtonSecondary=b,b.displayName="ButtonSecondary",t.ButtonSecondaryTracked=l.asTrackedClickable(b);class h extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.secondaryBtnBig,type:"button"},this.props))}}t.BigButtonSecondary=h,h.displayName="BigButtonSecondary",t.BigButtonSecondaryTracked=l.asTrackedClickable(h);class k extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtn,type:"button"},this.props))}}t.ButtonNegative=k,k.displayName="ButtonNegative",t.ButtonNegativeTracked=l.asTrackedClickable(k);class y extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtnBig,type:"button"},this.props))}}t.BigButtonNegative=y,y.displayName="BigButtonNegative";class B extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.whiteBtn},this.props))}}t.ButtonWhite=B,B.displayName="ButtonWhite",t.ButtonWhiteTracked=l.asTrackedClickable(B);class C extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtn},this.props))}}t.ButtonGreen=C,C.displayName="ButtonGreen",t.ButtonGreenTracked=l.asTrackedClickable(C);class O extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtnBig},this.props))}}t.BigButtonGreen=O,O.displayName="BigButtonGreen",t.BigButtonGreenTracked=l.asTrackedClickable(O);class N extends a.Component{render(){const e=`${i.primaryBtn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonLink=N,N.displayName="ButtonLink",t.ButtonLinkTracked=l.asTrackedClickable(N);class j extends a.Component{render(){const e=`${i.primaryBtnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonLink=j,j.displayName="ButtonLink",t.BigButtonLinkTracked=l.asTrackedClickable(j);class T extends a.Component{render(){const e=`${i.btn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonSecondaryLink=T,T.displayName="ButtonSecondaryLink",t.ButtonSecondaryLinkTracked=l.asTrackedClickable(T);class x extends a.Component{render(){const e=`${i.btnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonSecondaryLink=x,x.displayName="BigButtonSecondaryLink",t.BigButtonSecondaryLinkTracked=l.asTrackedClickable(x);class E extends a.Component{render(){const e=`${i.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.TextInput=E,E.displayName="TextInput",t.TextInputTracked=l.asTrackedInput(E);class f extends a.PureComponent{render(){return a.createElement("input",Object.assign({},this.props))}}t.MockTextInput=f,f.displayName="MockTextInput";class v extends a.Component{render(){const e=`${i.bigTextInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.BigTextInput=v,v.displayName="BigTextInput";class w extends a.PureComponent{constructor(e){super(e),this.documentKeyDown=(e=>{e.keyCode===r.Key.TAB&&this.setState({showFocus:!0})}),this.documentMouseDown=(e=>{this.setState({showFocus:!1})}),this.onFocus=(e=>{this.state.showFocus||e.target.blur()}),this.classNameForInput=(()=>{let e=`${i.checkbox} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${i.checkboxShowFocus}`),e}),this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){const e=this.props.classOverride||this.classNameForInput(),t=Object.assign(Object.assign({},this.props),{className:e});return delete t.classOverride,a.createElement("input",Object.assign({type:"checkbox",onFocus:this.onFocus},t))}}t.Checkbox=w,w.displayName="Checkbox";class L extends a.Component{render(){const e=`${i.label} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("label",Object.assign({},t))}}t.Label=L,L.displayName="Label";class S extends a.Component{render(){const e=`${i.link} ${this.props.className||""}`,t=this.props,{canFocus:s}=t,r=n(t,["canFocus"]);let o=Object.assign(Object.assign({},r),{className:e,rel:"noopener"});return s&&(o=Object.assign({href:"#",tabIndex:0},o)),a.createElement("a",Object.assign({},o))}}t.Link=S,S.displayName="Link",t.LinkTracked=l.asTrackedClickable(S);class $ extends a.Component{render(){const e=`${i.inlineLink} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.LinkInline=$,$.displayName="Link",t.LinkInlineTracked=l.asTrackedClickable($);class I extends a.Component{render(){const e=`${i.bigSelect} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("select",Object.assign({},t))}}t.BigSelect=I,I.displayName="BigSelect",t.Spacing=(e=>"x"===e.direction?a.createElement("div",{style:{width:8*e.multiple}},e.children):a.createElement("div",{style:{height:8*e.multiple}},e.children)),t.Spacing.displayName="Spacing",t.SvgTracked=l.asTrackedClickable(p.Svg),t.AnchorElementTracked=l.asTrackedClickable(e=>a.createElement("a",Object.assign({},e),e.children))}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    );class n extends a.Component{constructor(){super(...arguments),this.traverseChildren=(()=>{this.firstTabbableEl=null,this.lastTabbableEl=null;const t=e=>{i(e)&&((!this.firstTabbableEl||e.tabIndex<this.firstTabbableEl.tabIndex)&&(this.firstTabbableEl=e),(!this.lastTabbableEl||e.tabIndex>=this.lastTabbableEl.tabIndex)&&(this.lastTabbableEl=e));for(let s of Array.from(e.children))t(s)};t(this.container)}),this.containerRef=(t=>{this.container=t}),this.onFrontGuardFocus=(()=>{this.traverseChildren();const t=this.lastTabbableEl;t&&setTimeout(()=>{t.focus()},0)}),this.onBackGuardFocus=(()=>{this.traverseChildren();const t=this.firstTabbableEl;t&&setTimeout(()=>{t.focus()},0)})}render(){return a.createElement("span",null,a.createElement("span",{tabIndex:this.props.startTabIndex||0,onFocus:this.onFrontGuardFocus}),a.createElement("span",{ref:this.containerRef},this.props.children),a.createElement("span",{tabIndex:this.props.endTabIndex||0,onFocus:this.onBackGuardFocus}))}}e.TabLoop=n,n.displayName="TabLoop";const i=t=>{let e;const s=t.nodeName.toLowerCase(),a=null!=t.getAttribute("tabindex");return"-1"!==t.getAttribute("tabindex")&&!(!(e=/^(input|select|textarea|button)$/.test(s)?!t.disabled:"a"===s&&t.href||a)||!r(t))},r=t=>{if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;for(var e=getComputedStyle(t).visibility;"inherit"===e;)t=t.parentElement,e=getComputedStyle(t).visibility;return"hidden"!==e}}),
(function(o,d,a){o.exports={modalBackground:"modal--modalBackground--sAvTW",tintedModalBackground:"modal--tintedModalBackground--3Lt8K",fixedTop:"modal--fixedTop--16UX_",modal:"modal--modal--35Ed8 modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--30gqg modal--modalContent--32TRW",title:"modal--title--2yagD modal--title--1kOv4",left:"modal--left--3Dwaj modal--left--t5YdU",buttonRow:"modal--buttonRow--JSWAJ modal--buttonRow--23IOU",cancelLink:"modal--cancelLink--RIsG0 modal--cancelLink--2FS5S modal--button--2Xn7t",confirmButton:"modal--confirmButton--12ON3 modal--confirmButton--3Mjew"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),i=t(7,1        ),a=t(212      ),n=t(172              ),r=t(106                                     ),p=t(224                                            ),l=t(225                                  ),c=t(226          ),d=t(118                             ),h=400,m=492;class u extends o.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.props.hide()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{if(e.keyCode===a.Key.ESCAPE&&!this.props.disableClickOutsideToHide)return this.props.hide(),e.preventDefault(),void e.stopPropagation();this.props.onKeyDown&&this.props.onKeyDown(e)}),this.bgRef=(e=>{e&&!e.contains(document.activeElement)&&e.focus()})}render(){let e=m,s=h;if("small"===this.props.size)e=h;else if("any"===this.props.size)e=void 0,s=void 0;else if("number"==typeof this.props.size){let t=this.props.size;e=t,s=t}let t=c.modalBackground;this.props.tintedModalBackground&&(t=t+" "+c.tintedModalBackground),this.props.backgroundClassName&&(t=t+" "+this.props.backgroundClassName),this.props.fixedTop&&(t=t+" "+c.fixedTop),t=t+" "+d.PREVENT_EVENT_CAPTURE;let i=c.modal;return this.props.className&&(i+=` ${this.props.className}`),o.createElement("div",{tabIndex:0,className:t,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown,ref:this.bgRef},o.createElement("div",{className:i,style:{maxWidth:e,minWidth:s},onMouseDown:this.onModalMouseDown},this.props.title&&o.createElement("div",{className:c.title},this.props.title),this.props.children))}}s.ModalView=u,u.displayName="ModalView";class f extends o.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()),this.props.onHide&&this.props.onHide()})}render(){return o.createElement(u,Object.assign({},this.props,{hide:this.hide}))}}s.Modal=f,f.displayName="Modal";class b extends n.Component{constructor(){super(...arguments),this.onSubmit=n.otherEvent(this,"confirm",e=>{e.preventDefault(),this.hideModal(),this.props.onConfirm()},{playback:()=>({preventDefault:()=>{}})}),this.onCancel=n.otherEvent(this,"cancel",e=>{e.preventDefault(),this.hideModal(),this.props.onCancel&&this.props.onCancel()},{playback:()=>({preventDefault:()=>{}})}),this.buttonRef=(e=>{e&&i.findDOMNode(e).focus()})}hideModal(){this.props.dontClose||(this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()))}render(){const e=this.props.destructive?p.ButtonNegativeTracked:p.ButtonPrimaryTracked;return o.createElement(f,Object.assign({size:this.props.size||"small"},this.props,{className:this.props.className||c.modal,onHide:this.props.onCancel}),o.createElement(l.TabLoop,null,o.createElement("div",{className:c.title},this.props.confirmationTitle),this.props.children?this.props.children:o.createElement("div",{className:c.modalContent},this.props.content),o.createElement("div",{className:c.buttonRow},o.createElement("div",{className:c.left},this.props.helperText),o.createElement(p.ButtonSecondaryTracked,{className:c.cancelLink,onClick:this.onCancel,ref:this.buttonRef},this.props.cancelText||"Cancel"),o.createElement("form",{onSubmit:this.onSubmit},o.createElement(e,{tabIndex:0,type:"submit",className:c.confirmButton,disabled:this.props.disableConfirm,autoFocus:this.props.autoFocusConfirm},this.props.confirmText)))))}}s.ConfirmationModal=b,b.displayName="ConfirmationModal",b.defaultProps={confirmationTitle:"Are you sure?",destructive:!1}}),
(function(o,t,a){o.exports={button:"modal--button--2Xn7t",confirmButton:"modal--confirmButton--3Mjew",primaryButtonLink:"modal--primaryButtonLink--1h8YF",disabledButton:"modal--disabledButton--zDN81",cancelLink:"modal--cancelLink--2FS5S modal--button--2Xn7t",list:"modal--list--jxIXF",left:"modal--left--t5YdU",blueLink:"modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttonRow:"modal--buttonRow--23IOU",forgotLink:"modal--forgotLink--gSnd1",modalShadow:"modal--modalShadow--HbHkT",modal:"modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--32TRW",welcome:"modal--welcome--t-jkm modal--modalContent--32TRW",exportIcon:"modal--exportIcon--3R1s1",important:"modal--important--1ZRxD",title:"modal--title--1kOv4",textInput:"modal--textInput--q3dSz",tfaQrCode:"modal--tfaQrCode--2CnQd",error:"modal--error--1qUJ1",code:"modal--code--1XI4A",codes:"modal--codes--2b2Kp",avatarWithHandle:"modal--avatarWithHandle--EUAc2",searchContainer:"modal--searchContainer--itrA5",duplicateHandleMessage:"modal--duplicateHandleMessage--fB2m_ text--fontPos11--RSei3 text--_fontBase--YWDo0",profileHandleButtonRow:"modal--profileHandleButtonRow--3xuby modal--buttonRow--23IOU"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=new Map;t.registerModal=function(e,t){o.set(e,t)},t.modalForType=function(e){return o.get(e)}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(3,1    ),o=s(106                                     ),i=s(227                                 ),n=s(224                                            ),r=s(228                              ),c=s(229                                 );a.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED="no-shared-instance-in-master-file-if-deleted",c.registerModal(a.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED,e=>t.createElement(l,Object.assign({},e)));class l extends t.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return t.createElement(i.Modal,{title:"Oops",size:"small",dispatch:this.props.dispatch},"You can't add an instance of a shared component into the document from which the shared component was published if the original component was deleted.",t.createElement("div",{className:r.buttonRow},t.createElement(n.ButtonPrimary,{onClick:this.closeModal},"Ok")))}}l.displayName="NoSharedInstanceInMasterFile"}),
(function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=i(106                                     ),r=i(130                                              ),o=i(94                                   ),a=i(131                                        ),c=i(141                ),l=i(144                                   ),d=i(145         ),p=i(112                      ),y=i(111                        ),f=i(155                       ),_=i(146                                          ),u=i(156                                ),m=i(192                            ),h=i(147                       ),g=i(162                            ),b=i(98                  ),S=i(105                               ),E=i(163                               ),I=i(124     ),A=i(126          ),T=i(218                                   ),C=i(154                                      ),O=i(219                       ),R=i(230                                                                   );let L=!1;function P(e,t){if(!e||!t)return!0;function i(e,t){for(const i in e){const n=e[i],s=t[i];if(!s)return!1;for(const e in n){const t=n[e],i=s[e];if(!i)return!1;for(const e in t)if(!i[e])return!1}}return!0}return!i(e,t)||!i(t,e)}function k(e){const i=e.getState(),n=c.getEditingFile(i);if(!n||!y.canEditFile(n.key,i))return;const s=(e=[],t)=>{var i;const n=Object.create(null);for(let r of e){const e=_.fullscreen.DEPRECATED_sendMessage("getKeyAndVersionOfSharedMaster",{nodeId:r}).args;e&&e.key&&(n[e.key]=n[e.key]||new Set,n[e.key].add(e.versionHash))}const s=Object.create(null);for(let r in t)for(let e in t[r])for(let o in t[r][e]){const a=t[r][e][o],c=a.component_key||a.key;if(c in n){const t=n[c];if(0===t.size)continue;let l=!1;if(1===t.size){const e=Array.from(t)[0];l=(null===(i=a.content_hash)||void 0===i?void 0:i.toLowerCase())!==e.toLowerCase()}else l=!0;l&&(s[r]=s[r]||Object.create(null),s[r][e]=s[r][e]||Object.create(null),s[r][e][o]=a)}}return s},r=s(i.mirror.appModel.subscribedComponents,i.library.published.components),o=s(i.mirror.appModel.subscribedStyles,i.library.published.styles);if(P(i.library.updates.components,r)&&e.dispatch(a.library.replaceUpdates({itemsByTeamId:r,type:h.LibraryItemType.COMPONENT})),P(i.library.updates.styles,o)&&e.dispatch(a.library.replaceUpdates({itemsByTeamId:o,type:h.LibraryItemType.STYLE})),Object.keys(r).length+Object.keys(o).length>0)L||(L=!0,e.dispatch(a.library.showNotification({notification:{type:g.NotificationType.COMPONENT_UPDATES_AVAILABLE,message:"Component updates available"}})));else{const i=e.getState().library.notification;i&&i.type===g.NotificationType.COMPONENT_UPDATES_AVAILABLE&&e.dispatch(a.library.hideNotification()),t.resetFirstUpdatesComputed()}}t.resetFirstUpdatesComputed=(()=>L=!1),t.computeUpdates=k,t.swapToSharedComponent=S.asyncActionCreator("SWAP_TO_SHARED_COMPONENT",(e,t)=>{const{component:i,instanceGUIDs:n}=t,s=c.getEditingFile(e.getState());s&&(f.teamLibraryItemSceneGraphCache.get(i).then(t=>{const r=_.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:i.node_id,versionHash:i.content_hash,fileKey:i.file_key,editingFileKey:s.key,componentKey:i.component_key,isUnflattened:i.is_unflattened},t);r&&r.args&&r.args.localGUID?_.fullscreen.DEPRECATED_sendMessage("replaceSymbolBackingInstances",{symbolGUID:r.args.localGUID,instanceGUIDs:n}):e.dispatch(o.flash.error("An error occurred while adding an instance of this component."))}),p.trackEventForFile("Instance Swapped To Shared Component",s.key,e.getState(),{componentFileKey:i.file_key,componentId:i.id}))});const v=S.asyncActionCreator("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,t)=>{const i=t.dataTransfer.getData("text/html");if(i){const s=i.indexOf("\x3c!--(figcomponent)")+"\x3c!--(figcomponent)".length,r=i.indexOf("(/figcomponent)--\x3e");if(s>=0&&r>=0&&s<r){const o=i.substring(s,r).trim();try{const i=JSON.parse(o);if("object"==typeof i){const n=i.fileKey,s=i.nodeId;if(n&&s){const i=_.fullscreen.getViewportInfo(),r=new d.Vector(i.x,i.y),o=new d.Vector(t.clientX,t.clientY).subtract(r),a=u.viewportPositionToCanvas(i,o);console.log("====== INSERTING COMPONENT VIA DROP HANDLER 1 ======"),e.dispatch(N({fileKey:n,nodeId:s,canvasX:a.x,canvasY:a.y}))}}}catch(n){}}}});t.tryHandlingDropEventAsComponentDrop=v;const N=S.asyncActionCreator("INSERT_COMPONENT_OR_SHOW_ERROR",(e,t)=>{const{fileKey:i,nodeId:n,canvasX:s,canvasY:o}=t,a=e.getState(),l=c.getEditingFile(a);let p=null;if(l&&l.key===i)p=a.library.local.components[n];else{const e=a.fileByKey[i];if(e){p=m.publishedLibraryItemsForFile(a.library.published.components,e)[n]}}p?e.dispatch(D({component:p,canvasPosition:new d.Vector(s,o),percentageOffset:new d.Vector(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(r.visualBell.enqueue({type:"insert_component_error",message:"This component is not available in your team library",timeout:5e3,error:!0}))});t.insertComponentOrShowError=N;const D=S.asyncActionCreator("INSERT_SHARED_COMPONENT",(e,t)=>{const{component:i,canvasPosition:n,percentageOffset:r,insertAsChildOfCanvas:a}=t,d=c.getEditingFile(e.getState());if(!d)return;const y=e.getState();let u;if(d.key===i.file_key){const t=y.library.local.components[i.node_id];if(u="Component Local Symbol Inserted",!t||!y.mirror.sceneGraph.get(t.node_id))return void e.dispatch(s.fileBrowser.showModal({type:R.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED}));try{_.fullscreen.DEPRECATED_sendMessage("insertInstance",{guid:t.node_id,x:n.x,y:n.y,percentOffsetX:r.x,percentOffsetY:r.y,insertAsChildOfCanvas:a}),_.fullscreen.triggerAction("commit"),_.fullscreen.triggerAction("set-tool-default")}catch(m){e.dispatch(o.flash.error("An error occurred while adding an instance of this component.")),l.errorHandler.raiseError(m)}}else u="Component Shared Symbol Inserted",f.teamLibraryItemSceneGraphCache.get(i).then(t=>{const s=_.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:i.node_id,versionHash:i.content_hash,fileKey:i.file_key,editingFileKey:d.key,componentKey:i.component_key,isUnflattened:i.is_unflattened},t);s&&s.args&&s.args.localGUID?(_.fullscreen.DEPRECATED_sendMessage("insertInstance",{guid:s.args.localGUID,x:n.x,y:n.y,percentOffsetX:r.x,percentOffsetY:r.y,insertAsChildOfCanvas:a}),_.fullscreen.triggerAction("commit"),_.fullscreen.triggerAction("set-tool-default")):e.dispatch(o.flash.error("An error occurred while adding an instance of this component."))}).catch(t=>{e.dispatch(o.flash.error("An error occurred while adding an instance of this component.")),l.errorHandler.raiseError(t)});p.trackEventForFile(u,d.key,e.getState(),{componentFileKey:i.file_key,componentId:i.id,ComponentCanvasPositionX:n.x,ComponentCanvasPositionY:n.y})});t.insertSharedComponent=D;const F=S.asyncActionCreator("UPDATE_SHARED_COMPONENTS",(e,t)=>{const{components:i}=t;Promise.all(i.map(e=>f.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const n=e.getState().editingFileKey;for(let e=0;e<i.length;e++){const s=i[e],r=t[e];_.fullscreen.DEPRECATED_sendMessage("updateSharedSymbol",{guid:s.node_id,versionHash:s.content_hash,fileKey:s.file_key,editingFileKey:n,componentKey:s.component_key,isUnflattened:s.is_unflattened},r)}_.fullscreen.triggerAction("commit");const s=i.map(e=>e.id);p.trackEventForFile("Components Updated",n,e.getState(),{components:s})}).catch(t=>{e.dispatch(o.flash.error("An error occurred while updating the instances of this component.")),l.errorHandler.raiseError(t)})});t.updateSharedComponents=F;const U=S.asyncActionCreator("APPLY_STYLE",(e,t)=>{const{style:i,inheritStyleKeyField:n}=t;e.dispatch(M({style:i,callback:()=>{E.Fullscreen.applyStyleToSelection(n,i.key,i.content_hash||"",!0)}}))});t.applyStyle=U;const M=S.asyncActionCreator("ENSURE_STYLE_IS_LOADED",(e,t)=>{const i=e.getState(),{style:s}=t,r=c.getEditingFile(i);if(!r)return;const a=s.file_key!==r.key,d="GRID"===s.style_type&&!i.mirror.appModel.showFrameGrids;a?f.teamLibraryItemSceneGraphCache.get(s).then(i=>n(void 0,void 0,void 0,function*(){const n=_.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:s.key,fileKey:s.file_key,editingFileKey:r.key,versionHash:s.content_hash},i);if(_.fullscreen.triggerAction("commit"),d&&_.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),"TEXT"===s.style_type&&n&&n.args&&n.args.localGUID){const t=e.getState().mirror.sceneGraph.get(n.args.localGUID),i=t&&t.fontName;i&&(yield T.fontLoaded(i.family,i.style).catch(()=>console.error(`Text style font did not load: ${i.family} ${i.style}`)))}t.callback()})).catch(t=>{e.dispatch(o.flash.error("An error occurred while applying the style to the selection.")),l.errorHandler.raiseError(t)}):(d&&_.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),t.callback()),A.segmentTrackEvent("Style Applied",{styleType:s.style_type,isShared:a})});t.ensureStyleIsLoaded=M;const w=S.asyncActionCreator("UPDATE_SHARED_STYLES",(e,t)=>{const{styles:i}=t;Promise.all(i.map(e=>f.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const n=e.getState().editingFileKey;for(let e=0;e<i.length;e++){const s=i[e],r=t[e];_.fullscreen.DEPRECATED_sendMessage("updateSharedStyle",{styleKey:s.key,fileKey:s.file_key,editingFileKey:n,versionHash:s.content_hash},r)}_.fullscreen.triggerAction("commit"),k(e);const s=i.map(e=>e.id);p.trackEventForFile("Styles Updated",n,e.getState(),{styles:s})}).catch(t=>{e.dispatch(o.flash.error("An error occurred while updating this style.")),l.errorHandler.raiseError(t)})});function B(e){const t=e.getState().library.published.styles,i=c.getEditingFile(e.getState());if(!i||!E.Fullscreen||!_.fullscreen.isReady())return;const n={};for(let c in t)for(let e in t[c])for(let i in t[c][e]){const s=t[c][e][i];n[s.key]=s.file_key}const s=e.getState().library.local.styles,r={},o=[];for(let c in s){const e=s[c];r[e.key]=!0,n[e.key]&&n[e.key]!==e.file_key&&o.push(c)}const a=[],l=t[i.team_id||""],d=l?l[i.key]:{};for(let c in d){r[t[i.team_id||""][i.key][c].key]||a.push(c)}(o.length>0||a.length>0)&&(E.Fullscreen.changeSharedStyleStatus({localToShared:o,sharedToLocal:a}),_.fullscreen.DEPRECATED_sendMessage("commit"))}t.updateSharedStyles=w,t.computeMovedStyles=B;const K=S.asyncActionCreator("UPDATE_LIBRARY_FROM_PUBLISHED_AND_LOCAL_DATA",e=>{k(e),m.computeLocal(e),B(e)});t.updateLibraryFromPublishedAndLocalData=K;const G=S.asyncActionCreator("MOVE_SHARED_STYLES",(e,t)=>{let i=t.styles;const n=h.LibraryItemType.STYLE,s=e.getState().editingFileKey,r=c.getEditingFile(e.getState());if(!r)return;i=i.filter(e=>e.file_key&&e.file_key!==s);Promise.all(i.map(e=>f.teamLibraryItemSceneGraphCache.get(e))).then(t=>{const o={},c=[];for(let e=0;e<i.length;e++){const n=i[e],s=t[e],{localGUID:r}=_.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:n.key,versionHash:n.content_hash},s).args;o[n.key]={localGUID:r,fileKey:n.file_key,nodeId:n.node_id},c.push({node_id:r,style_key:n.key,sort_position:""})}E.Fullscreen.getNextStylePositions(c.map(e=>e.node_id)).forEach((e,t)=>c[t].sort_position=e),I.default.put("/api/styles/move",{file_key:s,styles:c}).then(({data:t})=>{((t,i)=>{if(!t||0===Object.keys(t).length)return;const o={},c={},l={};for(let e in t){const n=t[e],r=n.key,a=i[r]&&i[r].fileKey;if(a&&a!==s){const s=i[r].nodeId;o[a]?o[a].push(s):o[a]=[s],c[e]=t[e],l[e]=n.sort_position||""}}E.Fullscreen.changeSharedStyleStatus({sharedToLocal:l}),_.fullscreen.DEPRECATED_sendMessage("commit");for(let s in o){const t=o[s],i=e.getState().fileByKey[s];e.dispatch(a.library.del({nodeIds:t,file:i,type:n}))}e.dispatch(a.library.put({itemsById:c,file:r,type:n}))})(t.meta||Object.create(null),o),e.dispatch(a.library.showNotification({notification:{type:g.NotificationType.COMPONENT_PUBLISH_SUCCESS,message:"Styles successfully moved"}}))}).catch(()=>{e.dispatch(a.library.showNotification({notification:{type:g.NotificationType.COMPONENT_PUBLISH_ERROR,message:"Styles cannot be moved"}}))})})});t.moveSharedStyles=G;const H={retryCount:5},Y=(e,t,{data:i})=>{const n=e.getState(),s=n.fileByKey,r=i.meta,o=Object.create(null);r.forEach(e=>{e.meta&&(e.meta=C.parseLibraryMeta(e.meta));const t=e.file_key,i=s[t];if(!i)return;const n=i.team_id||h.NO_TEAM_ID;o[n]=o[n]||Object.create(null),o[n][t]=o[n][t]||Object.create(null),o[n][t][e.node_id]=e}),e.dispatch(a.library.initialize({publishedItemsByTeamId:o,type:t})),n.selectedView&&"fullscreen"===n.selectedView.view&&e.dispatch(K())},x=new Set;function j(e,t){return n(this,void 0,void 0,function*(){x.add(t);const i=yield I.default.get(`/api/design_systems/library/${t}/published_components`,null,H),n=i&&i.data&&i.data.meta||[],s=e.getState().fileByKey;for(const t of n){const i=s[t.file_key];e.dispatch(a.library.put({itemsById:{[t.node_id]:t},file:i,type:h.LibraryItemType.COMPONENT}))}})}t.getSubscribedComponentsForFile=function(e,t){return n(this,void 0,void 0,function*(){const i=yield I.default.get(`/api/design_systems/library/${t}/subscribed_components`,null,H);yield O.userStatePromise,x.clear(),Y(e,h.LibraryItemType.COMPONENT,i)})},t.getPublishedComponentsForFile=j,t.getLibraryStats=((e,t)=>n(void 0,void 0,void 0,function*(){const i={calculate_stats:t.toString(),org_id:e||""};try{const e=yield I.default.get("/api/design_systems/libraries",i,H),t=e&&e.data&&e.data.meta||[];let s=0,r=0,o=0,a=0;const c=[],l=new Set;for(const i of t)0===i.num_components&&0===i.num_styles||(l.has(i.team_id)||(l.add(i.team_id),o++),c.push(i),s+=i.num_components,r+=i.num_styles,a++);return{totalComponents:s,totalStyles:r,teamsWithLibraries:o,totalLibraries:a,files:c}}catch(n){return h.DEFAULT_LIBRARIES}})),t.getLibrary=(e=>{if(!e.getState().user)return;const t=e.getState().currentOrgId,i={org_id:t},n=I.default.get("/api/styles",i,H).then(Y.bind(null,e,h.LibraryItemType.STYLE)),s=I.default.get("/api/library_team_subscription_overrides",i,H).then(({data:t})=>{e.dispatch(V({fileSubscriptionsByTeamId:t.meta}))}),r=I.default.get("/api/library_user_subscriptions",null,H).then(({data:t})=>{e.dispatch(z({subscriptions:t.meta}))});let o;const a=[n,s,o=t?I.default.get(`/api/library_org_subscriptions/${t}`,null,H).then(({data:t})=>{e.dispatch(X({subscriptions:t.meta}))}):Promise.resolve(null),r];Promise.all(a).then(()=>{e.dispatch(ee())}).catch(()=>{})});const V=b.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM");t.initializeTeamSubscriptions=V;const $=b.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE");t.initializeFileSubscriptionsForFile=$;const z=b.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER");t.initializeUserSubscriptions=z;const X=b.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG");t.initializeOrgSubscriptions=X;const Z=S.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{libraryTeamSubscription:n,userInitiated:s}=t,{file_key:r,is_subscribed:o,team_id:a}=n;if(s){I.default.post(`/api/library_team_subscriptions/${r}`,{is_subscribed:o,team_id:a}).then(({data:t})=>{e.dispatch(S.optimistActions.commit(i))}).catch(()=>{e.dispatch(S.optimistActions.revert(i))})}});t.postTeamSubscription=Z;const W=S.optimisticActionCreator("LIBRARAY_SUBSCRIPTION_POST_FILE",(e,t,i)=>{const{libraryFileSubscription:n,userInitiated:s}=t,{file_key:r,library_file_key:o,is_subscribed:a}=n;if(s){const t=I.default.post(`/api/library_file_subscriptions/${r}/${o}`,{is_subscribed:a});j(e,o),t.then(({data:t})=>{e.dispatch(S.optimistActions.commit(i)),e.dispatch(ee())}).catch(()=>{e.dispatch(S.optimistActions.revert(i))})}});t.postFileSubscription=W;const q=S.optimisticActionCreator("LIBRARAY_SUBSCRIPTION_POST_USER",(e,t,i)=>{const{libraryUserSubscription:n,userInitiated:s}=t,{file_key:r,is_subscribed:o}=n;if(s){I.default.post(`/api/library_user_subscriptions/${r}`,{is_subscribed:o}).then(({data:t})=>{e.dispatch(S.optimistActions.commit(i)),e.dispatch(ee())}).catch(()=>{e.dispatch(S.optimistActions.revert(i))})}});t.postUserSubscription=q;const J=S.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{libraryOrgSubscription:n,userInitiated:s}=t;if(s){I.default.post(`/api/library_org_subscriptions/${n.file_key}`).then(({data:t})=>{e.dispatch(S.optimistActions.commit(i))}).catch(()=>{e.dispatch(S.optimistActions.revert(i))})}});t.postOrgSubscription=J;const Q=S.optimisticActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,i)=>{const{libraryOrgSubscription:n,userInitiated:s}=t;if(s){I.default.del(`/api/library_org_subscriptions/${n.file_key}`).then(({data:t})=>{e.dispatch(S.optimistActions.commit(i))}).catch(()=>{e.dispatch(S.optimistActions.revert(i))})}});t.deleteOrgSubscription=Q;const ee=S.asyncActionCreator("PREFETCH_SUBSCRIBED_STYLES",(e,t)=>{const i=e.getState(),n=c.getEditingFile(i),s=i.library.published.styles;if(n)for(const r in s)for(const e in s[r]){if(e===n.key)continue;const t=i.fileByKey[e];if(m.isFileSubscribedTo(i.library,n,t))for(const i in s[r][e]){const t=s[r][e][i];f.teamLibraryItemSceneGraphCache.get(t)}}});t.prefetchSubscribedStyles=ee}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r,h=[],l=Math.min;if(!t||!e)return(e||t).length;for(n=0;n<=e.length;h[n]=[n++]);for(r=0;r<=t.length;h[0][r]=r++);for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)h[n][r]=e.charAt(n-1)==t.charAt(r-1)?h[n-1][r-1]:h[n][r]=l(h[n-1][r-1]+1,l(h[n][r-1]+1,h[n-1][r]+1));return h[e.length][t.length]}}),
(function(o,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(85                   ),t=e(232              );a.isEmail=function(o){return/^[^<>\/\\:?*"|]*$/.test(o)&&/^[\u0000-\u007F]+$/.test(o)&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/i.test(o)},a.parseEmails=function(o){let a=[],e=o.split(/[,\n]/g);for(let i of e){let o=i.match(/^.*<(.*)>$/);o&&(i=o[1]),(i=i.trim())&&a.push(i)}return a};var l=["gmail.com","googlemail.com","hotmail.com","outlook.com","msn.com","live.com","windowslive.com","hotmail.be","hotmail.ca","hotmail.ch","hotmail.cl","hotmail.co","hotmail.co.il","hotmail.co.jp","hotmail.co.kr","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.co.za","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.hk","hotmail.com.in","hotmail.com.tw","hotmail.cz","hotmail.de","hotmail.dk","hotmail.dr","hotmail.es","hotmail.fi","hotmail.fr","hotmail.gr","hotmail.hu","hotmail.it","hotmail.lv","hotmail.my","hotmail.nl","hotmail.no","hotmail.ph","hotmail.rs","hotmail.se","hotmail.sg","hotmail.sk","live.at","live.be","live.ca","live.cl","live.cn","live.co.in","live.co.jp","live.co.kr","live.co.uk","live.co.za","live.com","live.com.ar","live.com.au","live.com.mx","live.com.my","live.com.pe","live.com.ph","live.com.pk","live.com.pt","live.com.sg","live.com.ve","live.de","live.dk","live.fi","live.fr","live.ie","live.in","live.it","live.jp","live.nl","live.no","live.ru","live.se","livemail.com.br","livemail.com.tw","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.at","yahoo.nl","yahoo.be","yahoo.fr","yahoo.com.br","yahoo.ca","yahoo.en","yahoo.com.cn","yahoo.cn","yahoo.cz","yahoo.dk","yahoo.fi","yahoo.de","yahoo.gr","yahoo.com.hk","yahoo.hu","yahoo.co.in","yahoo.in","yahoo.co.id","yahoo.ie","yahoo.co.il","yahoo.it","yahoo.co.kr","yahoo.com.my","yahoo.com.mx","yahoo.ae","yahoo.co.nz","yahoo.no","yahoo.com.ph","yahoo.pl","yahoo.pt","yahoo.ro","yahoo.ru","yahoo.com.sg","yahoo.co.za","yahoo.es","yahoo.se","yahoo.ch","yahoo.com.tw","yahoo.co.th","yahoo.com.tr","yahoo.co.uk","yahoo.com.vn","att.yahoo.com","ameritech.net","att.net","bellsouth.net","btinternet.com","btopenworld.com","flash.net","y7mail.com","sbcyahoo.net","talk21.com","swbell.net","kimo.com","nvbell.net","prodigy.net","sbcglobal.net","ymail.com","rocketmail.com","wans.net","xtra.co.nz","pacbell.net","snet.net","worldnet.att.net","frontier.com","yahoo.co.jp","aol.com","aim.com","cs.com","netscape.com","orange.fr","wanadoo.co.uk","wanadoo.fr","freeserve.co.uk","orangehome.co.uk","mail.ru","inbox.ru","list.ru","bk.ru","optimum.net","optonline.net","comcast.com","comcast.net","rr.com","roadrunner.com","gmx.com","gmx.net","gmx.ch","gmx.de","gmx.at","icloud.com","mac.com","me.com","libero.it","web.de","seznam.cz","email.cz","o2.com","o2.pl","o2online.de","o2.co.uk","o2mail.de","free.fr","126.com","163.com","yandex.ru","narod.ru","ya.ru","yandex.com","yandex.ua","autorambler.ru","lenta.ru","myrambler.ru","rambler.ru","ro.ru","r0.ru","rediff.com","alice.it","telecomitalia.it","tim.it","virgilio.it","qq.com","freenet.de","verizon.com","verizon.net","sfr.fr","club-internet.fr","neuf.fr","9business.fr","9online.fr","cegetel.net","clearnet.co.nz","earthlink.net","peoplepc.com","cox.net","qip.ru","pochta.ru","pochta.com","fromru.com","front.ru","hotbox.ru","hotmail.ru","krovatka.su","land.ru.","mail15.com","mail333.com","newmail.ru","nightmail.ru","nm.ru","pisem.net","pochtamt.ru","pop3.ru","rbcmail.ru","smtp.ru","5ballov.ru","aeterna.ru","ziza.ru","memori.ru","photofile.ru","fotoplenka.ru","talktalk.co.uk","talktalk.net","tiscali.co.uk","telefonica.net","movistar.es","ig.com.br","ibest.com.br","naver.com","wp.pl"],m={};l.forEach(o=>m[o]=!0),a.spellcheckDomain=function(o){if(o in m)return null;for(let a of l)if(1===t.default(o,a))return a;return null},a.getEmailDomain=function(o){return o.toLowerCase().split("@")[1]||null},a.isFigmaEmail=function(o){return o.endsWith(i.default().figma_email_suffix)}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(98                  );!function(e){e.reset=r.actionCreator("AUTOCOMPLETE_RESET"),e.set=r.actionCreator("AUTOCOMPLETE_SET"),e.addTokens=r.actionCreator("AUTOCOMPLETE_ADD_TOKEN"),e.inputChange=r.actionCreator("AUTOCOMPLETE_INPUT_CHANGE"),e.setErrorMessage=r.actionCreator("SET_ERROR_MESSAGE")}(t.autocomplete||(t.autocomplete={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(233        ),s=a(234                                     ),n=a(211                            );function u(){return{inputValue:"",tokens:[],errorMessage:""}}t.isInputValid=function(e){let t=!!(e.tokens&&e.tokens.length||e.inputValue&&e.inputValue.length);return e.tokens.some(e=>e.state===n.AutocompleteTokenState.ERROR)&&(t=!1),e.inputValue&&e.inputValue.length&&!o.isEmail(e.inputValue)&&(t=!1),t},t.toEmailList=function(e){let t=[];for(let a of e.tokens)t.push(a.email);return e.inputValue&&t.push(e.inputValue),t},t.getDefaultAutocompleteValue=u,t.autocomplete=function(e={inputValue:"",tokens:[],errorMessage:""},t){return s.autocomplete.reset.matches(t)?{inputValue:"",tokens:[],errorMessage:""}:s.autocomplete.set.matches(t)?Object.assign({},t.payload):s.autocomplete.addTokens.matches(t)?Object.assign(Object.assign({},e),{tokens:e.tokens.concat(t.payload),inputValue:""}):s.autocomplete.inputChange.matches(t)?Object.assign(Object.assign({},e),{inputValue:t.payload}):s.autocomplete.setErrorMessage.matches(t)?Object.assign(Object.assign({},e),{errorMessage:t.payload}):e}}),
(function(e,t,a){"use strict";var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(o,c){function n(e){try{f(i.next(e))}catch(t){c(t)}}function s(e){try{f(i.throw(e))}catch(t){c(t)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,s)}f((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=a(124     ),c=a(87                      ),n=a(188                             ),s=a(133                               ),f=a(137                             ),l=a(107                             );t.fetchFileRoles=function(e,t){return i(this,void 0,void 0,function*(){if(!e.appData||!e.appData.fetchedRoles){t.dispatch(n.file.fetchedRoles({file:e}));const a=yield o.default.get(`/api/roles/${c.ResourceType.FILE}/${e.key}`);t.dispatch(l.role.batchPut({roles:a.data.meta}))}})},t.fetchFolderRoles=function(e,t){return i(this,void 0,void 0,function*(){if(!e.appData||!e.appData.fetchedRoles){t.dispatch(s.folder.fetchedRoles(e));const a=yield o.default.get(`/api/roles/${c.ResourceType.FOLDER}/${e.id}`);t.dispatch(l.role.batchPut({roles:a.data.meta}))}})},t.fetchTeamRoles=function(e,t){return i(this,void 0,void 0,function*(){if(!e.appData||!e.appData.fetchedRoles){t.dispatch(f.team.fetchedRoles({team:e}));const a=yield o.default.get(`/api/roles/${c.ResourceType.TEAM}/${e.id}`);t.dispatch(l.role.batchPut({roles:a.data.meta}))}})}}),
(function(t,e,a){"use strict";var n=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))(function(i,o){function c(t){try{s(n.next(t))}catch(e){o(e)}}function r(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(c,r)}s((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=a(124     ),o=a(98                  ),c=a(105                               ),r=a(111                        ),s=a(236                  ),l=a(219                       );e.loadContacts=c.asyncActionCreator("CONTACTS_LOAD",t=>{const a=t.getState();if(a.contacts.appData.fetched)return;const n={};a.currentOrgId&&(n.org_id=a.currentOrgId),i.default.get("/api/contacts",n).then(({data:a})=>{let n=a.meta;t.dispatch(e.set({users:n}))})}),e.loadTeamRoles=c.asyncActionCreator("CONTACTS_LOAD_TEAM_ROLES",t=>n(void 0,void 0,void 0,function*(){yield l.userStatePromise;const e=t.getState(),a=e.editingFileKey,n=a&&e.fileByKey[a].team_id;n&&r.canViewTeam(n,e)&&s.fetchTeamRoles(e.teams[n],t)})),e.set=o.actionCreator("CONTACTS_SET"),e.reset=o.actionCreator("CONTACTS_RESET")}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(237                                 );t.contacts=function(e={appData:{fetched:!1},usersByEmail:{}},t){if(s.set.matches(t)){const a=Object.assign({},e);for(const e of t.payload.users)e.email&&(a.usersByEmail[e.email]=e);return a.appData={fetched:!0},a}return s.reset.matches(t)?{appData:{fetched:!1},usersByEmail:{}}:e}}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=n(106                                     );function t(e=null,o){return r.fileBrowser.showDropdown.matches(o)?o.payload:r.fileBrowser.hideDropdown.matches(o)?null:e}o.dropdownShown=t,o.default=t}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=t(98                  );!function(o){o.put=a.actionCreator("USER_PUT"),o.changePassword=a.actionCreator("USER_CHANGE_PASSWORD"),o.changeEmail=a.actionCreator("USER_CHANGE_EMAIL"),o.verifyPassword=a.actionCreator("USER_VERIFY_PASSWORD"),o.invalidateSessions=a.actionCreator("USER_INVALIDATE_SESSIONS"),o.setupTwoFactor=a.actionCreator("USER_SETUP_TWO_FACTOR"),o.disableTwoFactor=a.actionCreator("USER_DISABLE_TWO_FACTOR"),o.verifyOTP=a.actionCreator("USER_VERIFY_OTP"),o.changePhone=a.actionCreator("USER_VERIFY_PHONE"),o.deletePhone=a.actionCreator("USER_DELETE_PHONE"),o.confirmPhone=a.actionCreator("USER_CONFIRM_PHONE"),o.toggleTwoFactor=a.actionCreator("USER_TOGGLE_TWO_FACTOR"),o.getBackupCodes=a.actionCreator("USER_GET_BACKUP_CODES"),o.resetBackupCodes=a.actionCreator("USER_RESET_BACKUP_CODES"),o.eraseSecrets=a.actionCreator("USER_ERASE_SECRETS"),o.forgotPassword=a.actionCreator("USER_FORGOT_PASSWORD"),o.sendValidationEmail=a.actionCreator("USER_SEND_VALIDATION_EMAIL"),o.deleteUserAccount=a.actionCreator("USER_DELETE_ACCOUNT"),o.deleteUserLoading=a.actionCreator("DELETE_USER_LOADING"),o.logOut=a.actionCreator("USER_LOG_OUT")}(e.user||(e.user={}))}),
(function(t,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const e=o(98                  );!function(t){t.error=e.actionCreator("TWO_FACTOR_AUTH_SET_CURRENT_ERROR"),t.clearErrors=e.actionCreator("TWO_FACTOR_AUTH_CLEAR_ERRORS")}(r.twoFactorAuth||(r.twoFactorAuth={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(106                                     ),a=s(240                             ),n=s(241                                        );let c={secret:null,token:null,provisioning_uri:null};function o(e={},t){return n.twoFactorAuth.error.matches(t)?Object.assign(Object.assign({},e),{currentError:t.payload,loading:!1}):a.user.put.matches(t)?Object.assign(Object.assign({},e),{loading:!1}):a.user.verifyPassword.matches(t)||a.user.changePhone.matches(t)||a.user.deletePhone.matches(t)||a.user.confirmPhone.matches(t)||a.user.verifyOTP.matches(t)||a.user.setupTwoFactor.matches(t)||a.user.disableTwoFactor.matches(t)?Object.assign(Object.assign({},e),{loading:!0,currentError:null}):r.fileBrowser.hideModal.matches(t)?Object.assign(Object.assign({},e),{loading:!1,currentError:null}):e}t.storeSecret=function(e){c=e},t.getSecret=function(){return c},t.twoFactorAuth=o,t.default=o}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(47,1    ),s=a(233        );function n(){const e=new Date;return{today:i(e).format("YYYY-MM-DD"),thirtyDaysAgo:i(e).subtract(30,"days").format("YYYY-MM-DD")}}function d(e){const t=(e||"").trim();return t&&!s.isEmail(t)?{message:"The email is invalid",field:"email"}:{message:null,field:null}}function r(e){const t=i(e.start),a=i(e.end);if(!t.isValid())return{message:"The start date is invalid",field:"startDate"};if(!a.isValid())return{message:"The end date is invalid",field:"endDate"};if(t.diff(a,"days")>0)return{message:"The start date cannot be greater than the end date",field:"startDate"};const{today:s,thirtyDaysAgo:d}=n();return t.diff(s,"days")>0||t.diff(d,"days")<0?{message:"The start date is out of the thirty day range",field:"startDate"}:a.diff(s,"days")>0?{message:"The end date is out of the thirty day range",field:"endDate"}:{message:null,field:null}}t.getThirtyDayEndPoints=n,t.getEndOfDate=function(e){return e?i(e).add(1,"day").subtract(1,"second").format():null},t.validateEmailFilter=d,t.validateDateFilter=r,t.validateFilters=function(e,t){const a=d(t);return a.message?a:r(e)}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(94                                   ),r=a(124     ),s=a(98                  ),n=a(105                               ),o=a(243                          ),c=a(112                      ),l=a(142                     );e.PAGE_SIZE=30,function(t){t.set=s.actionCreator("SET_ACTIVITY_LOGS"),t.clearCursor=s.actionCreator("CLEAR_CURSOR_ACTIVITY_LOGS"),t.get=n.asyncActionCreator("GET_ACTIVITY_LOGS",(a,s)=>{const{newQuery:n,teamId:l,actorEmail:g,eventName:_,date:d}=s,f=a.getState(),u=Object.assign(Object.assign(Object.assign(Object.assign({page_size:e.PAGE_SIZE.toString(),org_id:f.currentOrgId,start_time:d.start,end_time:o.getEndOfDate(d.end)},l?{team_id:l}:null),_?{event_name:JSON.stringify(_)}:null),g?{actor_email:g}:null),n?null:{after:f.activityLogs.cursor.after});r.default.get("/api/activity_logs",u).then(e=>{const i=e.data.meta,r=i[0],s=i[1],u=n?r:a.getState().activityLogs.logs.concat(r);a.dispatch(t.set({logs:u,cursor:s})),c.trackEventForOrg("Activity Logs Fetched",f.currentOrgId,f,{teamIdFilter:l,eventNamesFilter:_,startDateFilter:d.start,endDateFilter:o.getEndOfDate(d.end),filtersOnActorEmail:!!g,isNewQuery:n,numberOfResults:r.length})}).catch(t=>{const e=t.data&&t.data.message||"An error occurred while fetching activity logs.";a.dispatch(i.flash.flash(e))})}),t.logExport=n.asyncActionCreator("ACTIVITY_LOGS_LOG_EXPORT",(t,e)=>{a("fig_file_export")}),t.logSaveAsFig=((t,e)=>{a("fig_file_save_as")});const a=t=>{const e=l.globalReduxStore.getState();if(!e.editingFileKey)return;const a=e.fileByKey[e.editingFileKey];a&&a.parent_org_id&&r.default.post(`/api/activity_logs/${a.key}`,{event_name:t})}}(e.activityLogs||(e.activityLogs={}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(244                                      ),c=a(10,1   );function i(t=[],e){return s.activityLogs.set.matches(e)?e.payload.logs:t}function o(t=Object.create(null),e){return s.activityLogs.set.matches(e)?e.payload.cursor:s.activityLogs.clearCursor.matches(e)?Object.create(null):t}function r(t=!1,e){return!s.activityLogs.set.matches(e)&&(!!s.activityLogs.get.matches(e)||t)}function n(t=!1,e){return s.activityLogs.get.matches(e)?e.payload.newQuery:t}function u(t={date:{start:null,end:null}},e){if(s.activityLogs.get.matches(e)){const{actorEmail:t,date:a,eventName:s,teamId:c}=e.payload;return{actorEmail:t,date:a,eventName:s,teamId:c}}return t}e.logs=i,e.cursor=o,e.isLoading=r,e.isNewQuery=n,e.lastQuery=u,e.activityLogs=c.combineReducers({logs:i,cursor:o,isLoading:r,isNewQuery:n,lastQuery:u})}),
(function(t,r,n){"use strict";function e(t,r,n){for(let a=0;a<16;a=a+1|0)t[a]=n[a<<2]<<24|n[1+(a<<2)|0]<<16|n[2+(a<<2)|0]<<8|n[3+(a<<2)|0];for(let a=16;a<80;a=a+1|0){let r=t[a-3|0]^t[a-8|0]^t[a-14|0]^t[a-16|0];t[a]=r<<1|r>>>31}let e=r[0],o=r[1],l=r[2],f=r[3],i=r[4];for(let a=0;a<80;a=a+1|0){let r=((e<<5|e>>>27)+i|0)+t[a]|0;r=a<20?1518500249+(r+(o&l|~o&f)|0)|0:a<40?1859775393+(r+(o^l^f)|0)|0:a<60?2400959708+(r+(o&l|o&f|l&f)|0)|0:3395469782+(r+(o^l^f)|0)|0,i=f,f=l,l=o<<30|o>>>2,o=e,e=r}r[0]=r[0]+e|0,r[1]=r[1]+o|0,r[2]=r[2]+l|0,r[3]=r[3]+f|0,r[4]=r[4]+i|0}Object.defineProperty(r,"__esModule",{value:!0}),r.sha1OfUint8Array=function(t){let r=new Uint8Array(20),n=new Int32Array(80),o=new Uint8Array(64),l=new Int32Array([1732584193,4023233417,2562383102,271733878,3285377520]),f=0,i=0,a=t.length;for(;a>0;)a=a-1|0,o[i]=t[f],f=f+1|0,64==(i=i+1|0)&&(e(n,l,o),i=0);if(o[i]=128,(i=i+1|0)>56){for(;i<64;)o[i]=0,i=i+1|0;e(n,l,o),i=0}for(let e=i;e<56;e=e+1|0)o[e]=0;let u=f<<3;for(let e=7;e>=0;e=e-1|0)o[56+e|0]=255&u,u>>>=8;i=64,e(n,l,o);for(let e=0;e<5;e=e+1|0){let t=l[e];for(let n=3;n>=0;n=n-1|0)r[(e<<2)+n|0]=255&t,t>>>=8}let c=[];for(var s=0;s<r.length;s++)c.push((256|r[s]).toString(16).slice(1));return c.join("")},r.toHex=function(t){return function(t){if(20!==t.length)throw new Error("Invalid SHA1 hash")}(t),function(t){return[].map.call(t,t=>(256|t).toString(16).slice(1)).join("")}(t)},r.fromHex=function(t){!function(t){if(!/^[0-9A-Fa-f]{40}$/.test(t))throw new Error("Invalid SHA1 hash")}(t);const r=new Uint8Array(20);for(let n=0;n<40;n+=2)r[n/2]=parseInt(t.slice(n,n+2),16);return r}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(124     ),o=t(246       );a.postImageToUpnode=function(e,a,t){return null==t&&(t="image/png"),n.default({method:n.default.Methods.POST,url:"/api/upnode/image",data:a,raw:!0,params:{purpose:e,sha1:o.sha1OfUint8Array(a)},headers:{"Content-Type":t}})}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(98                  ),a=t(247         ),i=t(94                                   ),n=t(105                               );!function(e){e.editorInit=o.actionCreator("AVATAR_EDITOR_INIT"),e.editorUpload=n.asyncActionCreator("AVATAR_EDITOR_UPLOAD",(r,t)=>{let o=a.postImageToUpnode("profile",t.small),n=a.postImageToUpnode("profile",t.large);Promise.all([o,n]).then(function(o){let a=JSON.parse(o[0].response).meta.url,i=JSON.parse(o[1].response).meta.url;r.dispatch(e.editorUploaded({entity:t.entity,entityType:t.entityType,smallUrl:a,largeUrl:i}))},t=>{r.dispatch(i.flash.error("An error occurred while uploading the image.")),console.error("An error occurred while uploading the image",t),r.dispatch(e.editorReset())})}),e.editorUploaded=o.actionCreator("AVATAR_EDITOR_UPLOADED"),e.editorReset=o.actionCreator("AVATAR_EDITOR_RESET")}(r.avatar||(r.avatar={}))}),
(function(t,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CURRENT_USER=0]="CURRENT_USER",t[t.TEAM=1]="TEAM",t[t.ORG=2]="ORG"}(e.EntityType||(e.EntityType={})),function(t){t[t.GUEST=0]="GUEST",t[t.ADMIN=1]="ADMIN"}(e.BadgeType||(e.BadgeType={})),function(t){t[t.INIT=0]="INIT",t[t.POSITIONING=1]="POSITIONING",t[t.UPLOADING=2]="UPLOADING"}(e.AvatarEditorStatus||(e.AvatarEditorStatus={}))}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(248                               ),s=e(249                             ),n={status:s.AvatarEditorStatus.INIT,entity:null};function o(t=n,a){return i.avatar.editorInit.matches(a)?{file:a.payload.file,entity:a.payload.entity,entityType:a.payload.entityType,status:s.AvatarEditorStatus.POSITIONING,shape:a.payload.shape}:i.avatar.editorUpload.matches(a)?Object.assign(Object.assign({},t),{status:s.AvatarEditorStatus.UPLOADING,entity:a.payload.entity,entityType:a.payload.entityType}):i.avatar.editorReset.matches(a)?Object.assign({},n):t}a.avatarEditorState=o,a.default=o}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createReducerWithPrecheck=function(e,n){const t=e.bind(null);return t.shouldIgnoreAction=n.shouldIgnoreAction,t},n.reduceObject=function(e,n,t){if(t.shouldIgnoreAction(n))return e;let u=null;for(let l of Object.keys(e)){let r=l,o=t(e[r],n);e[r]!==o&&null===u&&(u=Object.assign({},e)),u&&(u[r]=o)}return u||e},n.reduceList=function(e,n,t){if(t.shouldIgnoreAction(n))return e;let u=null;for(let l=0;l<e.length;l++){let r=t(e[l],n);e[l]!==r&&null===u&&(u=e.slice(0,l)),u&&u.push(r)}return u||e}}),
(function(t,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=_(98                  );!function(t){t.openFileInput=o.actionCreator("FILE_IMPORT_OPEN_FILE_INPUT"),t.openSketchFileInput=o.actionCreator("FILE_IMPORT_OPEN_SKETCH_FILE_INPUT"),t.startDrag=o.actionCreator("FILE_IMPORT_START_DRAG"),t.stopDrag=o.actionCreator("FILE_IMPORT_STOP_DRAG"),t.addToQueue=o.actionCreator("FILE_IMPORT_ADD_TO_QUEUE"),t.updateItem=o.actionCreator("FILE_IMPORT_UPDATE_ITEM"),t.inputChange=o.actionCreator("FILE_IMPORT_INPUT_CHANGE"),t.drop=o.actionCreator("FILE_IMPORT_DROP"),t.processNextInQueue=o.actionCreator("FILE_IMPORT_PROCESS_NEXT_IN_QUEUE"),t.doneProcessingFile=o.actionCreator("FILE_IMPORT_DONE_PROCESSING_FILE"),t.resetImports=o.actionCreator("FILE_IMPORT_CLEAR_IMPORTS"),t.cancelImport=o.actionCreator("FILE_IMPORT_CANCEL")}(e.fileImport||(e.fileImport={}))}),
(function(t,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.WARNING=1]="WARNING",t[t.FAILURE=2]="FAILURE",t[t.BUSY=3]="BUSY",t[t.WAITING=4]="WAITING",t[t.CANCELED=5]="CANCELED"}(e.FileImportStatus||(e.FileImportStatus={}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(251                                 ),r=t(252                                    ),a=t(253                           );var c=0;const n=i.createReducerWithPrecheck((e,s)=>r.fileImport.updateItem.matches(s)&&s.payload.id===e.id?Object.assign(Object.assign({},e),s.payload):e,{shouldIgnoreAction:e=>!r.fileImport.updateItem.matches(e)});function o(e,s){if(!e)return c=0,{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1};if(r.fileImport.startDrag.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!0});if(r.fileImport.stopDrag.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!1});if(r.fileImport.drop.matches(s))return Object.assign(Object.assign({},e),{isDraggingImport:!1});if(r.fileImport.addToQueue.matches(s)){let t={id:c++,name:s.payload.name,bytes:s.payload.bytes,status:a.FileImportStatus.WAITING},i=Object.assign(Object.assign({},e.files),{[t.id]:t}),r=e.queue.slice();return r.push(t.id),Object.assign(Object.assign({},e),{files:i,queue:r})}if(r.fileImport.updateItem.matches(s)){let t=i.reduceObject(e.files,s,n);return t!==e.files?Object.assign(Object.assign({},e),{files:t}):e}return r.fileImport.processNextInQueue.matches(s)?e.isProcessingFile?e:Object.assign(Object.assign({},e),{isProcessingFile:!0}):r.fileImport.doneProcessingFile.matches(s)?e.queue.length?Object.assign(Object.assign({},e),{queue:e.queue.slice(1),isProcessingFile:!1}):e:r.fileImport.cancelImport.matches(s)?e:r.fileImport.resetImports.matches(s)?e.queue.length?e:{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1}:e}s.fileImport=o,s.default=o}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(188                             ),i=s(133                               ),c=s(251                ),n=s(97                     );a.isFileOrgBrowsable=function(e){return!(!e||!e.org_browsable||e.link_access!==n.LinkAccess.ORG_EDIT&&e.link_access!==n.LinkAccess.ORG_VIEW)},a.file=c.createReducerWithPrecheck(function(e,a){if(i.folder.del.matches(a)&&a.payload.folderId===e.folder_id)return Object.assign(Object.assign({},e),{folder_id:null});if(!(a.payload&&a.payload.file&&e&&a.payload.file.key===e.key))return e;if(t.file.beginRenaming.matches(a))return Object.assign(Object.assign({},e),{appData:{isRenaming:!0}});if(t.file.stopRenaming.matches(a))return Object.assign(Object.assign({},e),{appData:{isRenaming:!1}});if(t.file.recentFilePut.matches(a)||t.file.put.matches(a)||t.file.recentFilePost.matches(a)||t.file.post.matches(a)){if(e.appData)return Object.assign(Object.assign(Object.assign({},e),a.payload.file),{appData:e.appData});{const{accessed_at:s}=e||{};return Object.assign({accessed_at:s},a.payload.file)}}return t.file.fetchedRoles.matches(a)?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e},{shouldIgnoreAction:e=>!(i.folder.del.matches(e)||t.file.beginRenaming.matches(e)||t.file.stopRenaming.matches(e)||t.file.recentFilePut.matches(e)||t.file.put.matches(e)||t.file.recentFilePost.matches(e)||t.file.post.matches(e)||t.file.fetchedRoles.matches(e))})}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(133                               ),a=l(188                             ),s=l(137                             ),r=l(106                                     ),f=l(251                                 ),o=l(85                   ),d=l(255                      );t.fileByKey=function(e,t){if(!e)return{};if(r.fileBrowser.hydrate.matches(t)){let e={};for(let i of t.payload.recent_files||[])e[i.key]=i;for(let i of t.payload.files||[])e[i.key]=i;let l=o.initialOptions().editing_file;return l&&!e[l.key]&&(e[l.key]=l),e}if(s.team.resourceDelete.matches(t)){const l=t.payload.fileKeys,i=Object.assign({},e);return l.forEach(e=>{e in i&&delete i[e]}),i}if(a.file.recentFilePut.matches(t)||a.file.put.matches(t)||a.file.recentFilePost.matches(t)||a.file.post.matches(t)){let l=t.payload.file;return l.key in e?Object.assign(Object.assign({},e),{[l.key]:d.file(e[l.key],t)}):Object.assign(Object.assign({},e),{[l.key]:l})}if(r.fileBrowser.setDeletedFiles.matches(t)){let l=Object.assign({},e);return t.payload.deletedFiles.forEach(e=>{l[e.key]=e}),l}if(a.file.deleteFiles.matches(t)){let l,i=t.payload.fileKeys;for(let t in i)e[t]&&(l||(l=Object.assign({},e)),l[t]=Object.assign({},l[t]),l[t].trashed_at=(new Date).getTime());return l||e}if(a.file.deleteFilesForever.matches(t)){let l=null,i=t.payload.fileKeys;for(let t in i)e[t]&&(l||(l=Object.assign({},e)),delete l[t]);return l||e}return f.reduceObject(e,t,d.file)},t.fileKeysByFolderId=function(e,t){if(!e)return{};if(r.fileBrowser.hydrate.matches(t)){let e={};for(let l of t.payload.folders||[])e[l.id]=[];for(let l of t.payload.files||[])l.folder_id&&(e[l.folder_id]||(e[l.folder_id]=[]),e[l.folder_id].push(l.key));return e}if(s.team.resourceDelete.matches(t)){const l=Object.assign({},e);return t.payload.folderIds.forEach(e=>{e in l&&delete l[e]}),l}if(a.file.move.matches(t)){let l=Object.assign({},e),i={};for(let e of t.payload.files)i[e.key]=!0;for(let t in e)l[t]=l[t].filter(e=>!i[e]);for(let e in i)l[t.payload.folderId].push(e);return l}if(a.file.put.matches(t)){const l=t.payload.file.folder_id,i=t.payload.file.key;if(!l)return e;if(e[l]&&-1!==e[l].indexOf(i))return e;let a=Object.assign({},e);for(let e in a){let t=a[e],l=t.indexOf(i);-1!=l&&(a[e]=t.slice(0,l).concat(t.slice(l+1)))}return a[l]||(a[l]=[]),a[l].push(i),a}if(a.file.post.matches(t)){let l=t.payload.file.folder_id,i=t.payload.file;if(!l||null!=e[l]&&-1!==e[l].indexOf(i.key))return e;let a=Object.assign({},e);return a[l]||(a[l]=[]),a[l].push(i.key),a}if(a.file.restoreTrashedFiles.matches(t)){let l=Object.assign({},e);for(let e in t.payload.fileKeys){let i=t.payload.fileKeys[e].folder_id;i&&(i in l||(l[i]=[]),-1===l[i].indexOf(e)&&l[i].push(e))}return l}if(a.file.deleteFiles.matches(t)){let l=Object.assign({},e);for(let e in l)l[e]=l[e].filter(e=>!t.payload.fileKeys[e]);return l}if(i.folder.post.matches(t)){let l=Object.assign({},e);return l[t.payload.id]=[],l}if(i.folder.del.matches(t)){let l=Object.assign({},e);return delete l[t.payload.folderId],l}return e},t.pinnedFileKeyToUserNameByFolderId=function(e={},t){if(!e)return{};if(i.folder.setPinnedFiles.matches(t)){const l=Object.assign({},e);return l[t.payload.folderId]=t.payload.fileKeysToUserName,l}if(i.folder.postPinnedFile.matches(t)){if(!e[t.payload.folderId])return e;const l=Object.assign({},e);return l[t.payload.folderId]=Object.assign(Object.assign({},l[t.payload.folderId]),{[t.payload.fileKey]:""}),l}if(i.folder.delPinnedFile.matches(t)){if(!e[t.payload.folderId])return e;const l=Object.assign({},e);return l[t.payload.folderId]=Object.assign({},l[t.payload.folderId]),delete l[t.payload.folderId][t.payload.fileKey],l}if(a.file.deleteFiles.matches(t)){const l=Object.assign({},e),i=t.payload.fileKeys;for(const e in i){const t=i[e].folder_id;t&&l[t]&&(l[t]=Object.assign({},l[t]),delete l[t][e])}return l}return e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(208        );var s;!function(e){e.FILE="FILE",e.PROTOTYPE="PROTOTYPE"}(s=t.TileType||(t.TileType={}));t.GenericTileWrapper=class{static getId(e){switch(e.type){case s.FILE:return e.file.key;case s.PROTOTYPE:return e.prototype.file_key+","+e.prototype.page_id;default:a.assertNever(e)}}static getName(e){switch(e.type){case s.FILE:return e.file.name;case s.PROTOTYPE:return e.prototype.file_name+" - "+e.prototype.name;default:a.assertNever(e)}}static getAccessedAt(e){switch(e.type){case s.FILE:return e.file.accessed_at;case s.PROTOTYPE:return e.prototype.accessed_at;default:a.assertNever(e)}}static getCreatedAt(e){switch(e.type){case s.FILE:return e.file.created_at;case s.PROTOTYPE:return e.prototype.created_at;default:a.assertNever(e)}}}}),
(function(e,T,i){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const l=i(257                         );T.TileSelectionType={FILES:"FILES",PINNED_FILES:"PINNED_FILES",PROTOTYPES:"PROTOTYPES"},T.TileTypeToSelectionType={[l.TileType.FILE]:T.TileSelectionType.FILES,[l.TileType.PROTOTYPE]:T.TileSelectionType.PROTOTYPES}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=i(98                  );!function(e){e.selectTiles=c.actionCreator("SELECT_TILES"),e.deselectTiles=c.actionCreator("DESELECT_TILES"),e.resetTileSelection=c.actionCreator("RESET_TILE_SELECTION")}(t.tileSelect||(t.tileSelect={}))}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(188                             ),n=l(257                         ),c=l(258                           ),T=l(259                                    );function o(){return{[c.TileSelectionType.FILES]:{},[c.TileSelectionType.PINNED_FILES]:{},[c.TileSelectionType.PROTOTYPES]:{}}}function S(e){return{[c.TileSelectionType.FILES]:Object.assign({},e[c.TileSelectionType.FILES]),[c.TileSelectionType.PINNED_FILES]:Object.assign({},e[c.TileSelectionType.PINNED_FILES]),[c.TileSelectionType.PROTOTYPES]:Object.assign({},e[c.TileSelectionType.PROTOTYPES])}}function p(e,t){if(!e)return o();if(T.tileSelect.selectTiles.matches(t)){let l=S(e);for(let e of t.payload.tiles)l[t.payload.type][n.GenericTileWrapper.getId(e)]=!0;return t.payload.type===c.TileSelectionType.PINNED_FILES?(l[c.TileSelectionType.FILES]={},l[c.TileSelectionType.PROTOTYPES]={}):l[c.TileSelectionType.PINNED_FILES]={},l}if(T.tileSelect.deselectTiles.matches(t)){let l=S(e);for(let e of t.payload.tileKeys)delete l[c.TileSelectionType.FILES][e],delete l[c.TileSelectionType.PINNED_FILES][e],delete l[c.TileSelectionType.PROTOTYPES][e];return l}if(T.tileSelect.resetTileSelection.matches(t))return o();if(i.file.deleteFiles.matches(t)){let l=S(e);for(const e in t.payload.fileKeys)delete l[c.TileSelectionType.FILES][e],delete l[c.TileSelectionType.PINNED_FILES][e];return l}return e}t.numTilesSelected=function(e){let t=0;if(e)for(let l of Object.keys(e))t+=Object.keys(e[l]).length;return t},t.tileSelect=p,t.default=p}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(106                                     ),r=t(188                             );function a(e={},s){if(r.file.deleteFiles.matches(s)){if(e.results){let t=Object.assign({},e);return t.results=e.results.filter(e=>!s.payload.fileKeys[e.key]),t}}else{if(i.fileBrowser.setFileSearchQuery.matches(s))return Object.assign(Object.assign({},e),{query:s.payload.query});if(i.fileBrowser.setFileSearchResults.matches(s))return Object.assign(Object.assign({},e),{results:s.payload.results})}return e}s.fileSearch=a,s.default=a}),
(function(e,S,r){"use strict";var c,E;Object.defineProperty(S,"__esModule",{value:!0}),function(e){e.FILES="files",e.PROJECTS="projects",e.TEAMS="teams",e.USERS="users",e.HUB_FILES="hub_files",e.PLUGINS="plugins",e.PUBLIC_PROFILES="public_profiles"}(c=S.SearchModelType||(S.SearchModelType={})),function(e){e.INTERNAL="internal",e.COMMUNITY="community"}(E=S.SearchScope||(S.SearchScope={})),S.scopeModelTypes={[E.INTERNAL]:[c.FILES,c.PROJECTS,c.TEAMS,c.USERS],[E.COMMUNITY]:[c.HUB_FILES,c.PLUGINS,c.PUBLIC_PROFILES]},S.searchScopeDefaultModelType={[E.INTERNAL]:c.FILES,[E.COMMUNITY]:c.HUB_FILES},function(e){e.NAME="name",e.AUTHOR_NAME="author_name",e.UPDATED_AT="updated_at",e.INSTALL_COUNT="install_count",e.POPULARITY="popularity",e.RELEVANCY="relevancy"}(S.PluginSearchSortKeys||(S.PluginSearchSortKeys={})),function(e){e.POPULARITY="popularity",e.RECENCY="recency"}(S.HubFileSearchSortKeys||(S.HubFileSearchSortKeys={})),S.searchModelTypeDisplayName={[c.FILES]:"files",[c.PROJECTS]:"projects",[c.TEAMS]:"teams",[c.USERS]:"users",[c.HUB_FILES]:"files",[c.PLUGINS]:"plugins",[c.PUBLIC_PROFILES]:"creators"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(98                  );!function(t){t.putLoading=a.actionCreator("LOADING_STATE_PUT_LOADING"),t.putSuccess=a.actionCreator("LOADING_STATE_PUT_SUCCESS"),t.putFailure=a.actionCreator("LOADING_STATE_PUT_FAILURE"),t.del=a.actionCreator("LOADING_STATE_DEL")}(e.loadingStateActions||(e.loadingStateActions={}))}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(263                                      );a.registerLoadingState=function(t,a,e){a.dispatch(i.loadingStateActions.putLoading({key:e})),t.then(()=>{a.dispatch(i.loadingStateActions.putSuccess({key:e}))}).catch(()=>{a.dispatch(i.loadingStateActions.putFailure({key:e}))})}}),
(function(e,s,t){"use strict";var r=this&&this.__awaiter||function(e,s,t,r){return new(t||(t=Promise))(function(a,c){function n(e){try{i(r.next(e))}catch(s){c(s)}}function o(e){try{i(r.throw(e))}catch(s){c(s)}}function i(e){var s;e.done?a(e.value):(s=e.value,s instanceof t?s:new t(function(e){e(s)})).then(n,o)}i((r=r.apply(e,s||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const a=t(98                  ),c=t(114           ),n=t(124     ),o=t(262                      ),i=t(105                               ),h=t(264                                  );!function(e){const s=(e=>c.debounce(e=>{e()},300))(),t={[o.SearchModelType.HUB_FILES]:"/api/search/hub_files",[o.SearchModelType.PUBLIC_PROFILES]:"/api/search/hub_profiles",[o.SearchModelType.PLUGINS]:"/api/search/plugins",[o.SearchModelType.FILES]:"/api/search/fig_files",[o.SearchModelType.PROJECTS]:"/api/search/folders",[o.SearchModelType.USERS]:"/api/search/users",[o.SearchModelType.TEAMS]:"/api/search/teams"};e.setParameters=a.actionCreator("SEARCH_SET_PARAMETERS"),e.setResponses=a.actionCreator("SEARCH_SET_RESPONSES"),e.resetResponses=a.actionCreator("SEARCH_RESET_RESPONSES"),e.search=i.asyncActionCreator("SEARCH",(s,t,r)=>{s.dispatch(e.setParameters(Object.assign({},t)));const a=s.getState(),c=a.search.parameters,n={currentOrgId:a.currentOrgId},{query:i,sortState:p,searchScope:l,searchModelType:d}=c,u=o.scopeModelTypes[l].filter(e=>e!==d);if(!i||""===i.trim())return;const y=S(i,d,t.precacheInactive,p,n,s);h.registerLoadingState(y,s,r),y.then(()=>{t.precacheInactive?Promise.all(u.map(e=>S(i,e,!1,p,n,s))).then(()=>{console.log("Search success")},()=>{console.error("Inactive types search failed")}):console.log("Search success")},()=>{console.error("Active type search failed")})},(e,{query:s})=>`${e}_${s}`);const S=(s,a,c,i,h,S)=>r(this,void 0,void 0,function*(){return new Promise((r,p)=>{const l=t[a],d=Object.assign(Object.assign({query:s},((e,s)=>{switch(e){case o.SearchModelType.HUB_FILES:return{sort:s[o.SearchModelType.HUB_FILES].sortKey};case o.SearchModelType.PLUGINS:return{sort:s[o.SearchModelType.PLUGINS].sortKey,desc:s[o.SearchModelType.PLUGINS].sortDesc};default:return{}}})(a,i)),((e,s)=>{switch(e){case o.SearchModelType.TEAMS:return{org_id:s.currentOrgId};default:return{}}})(a,h));n.default.get(l,d).then(t=>{c&&S.dispatch(e.resetResponses()),S.dispatch(e.setResponses({responses:{[a]:t.data.meta},query:s})),r()},e=>{console.error(e),p()})})});e.changeSearchModel=i.asyncActionCreator("SEARCH_CHANGE_SEARCH_MODEL",(s,t)=>{const r=s.getState();r.search.responses&&null!==r.search.responses[t.searchModelType]?s.dispatch(e.setParameters(Object.assign({},t))):s.dispatch(e.search(Object.assign(Object.assign({},t),{precacheInactive:!0})))}),e.changeSearchQuery=i.asyncActionCreator("SEARCH_CHANGE_SEARCH_QUERY",(t,r)=>{const a=t.getState(),c=()=>{const s=e=>e.trim().split(/\s+/),c=s(a.search.parameters.query),n=s(r.query);JSON.stringify(c)!==JSON.stringify(n)&&t.dispatch(e.search(Object.assign(Object.assign({},r),{precacheInactive:!0})))};r.debounce?s(c):c()}),e.changeSortState=i.asyncActionCreator("SEARCH_CHANGE_SORT_STATE",(s,t)=>{const r=s.getState().search.parameters.sortState;r&&JSON.stringify(r)!==JSON.stringify(t.sortState)&&s.dispatch(e.search(Object.assign(Object.assign({},t),{precacheInactive:!1})))})}(s.searchActions||(s.searchActions={}))}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=r(262                      ),c=r(265                               ),t={parameters:{query:"",searchModelType:a.SearchModelType.HUB_FILES,searchScope:a.SearchScope.COMMUNITY,sortState:{[a.SearchModelType.PLUGINS]:{sortKey:a.PluginSearchSortKeys.POPULARITY,sortDesc:!0},[a.SearchModelType.HUB_FILES]:{sortKey:a.HubFileSearchSortKeys.POPULARITY}}},responses:null,responseCounts:{},completedQueries:{[a.SearchModelType.PLUGINS]:"",[a.SearchModelType.FILES]:"",[a.SearchModelType.PROJECTS]:"",[a.SearchModelType.TEAMS]:"",[a.SearchModelType.USERS]:"",[a.SearchModelType.PUBLIC_PROFILES]:"",[a.SearchModelType.HUB_FILES]:""}},o={[a.SearchModelType.PLUGINS]:null,[a.SearchModelType.FILES]:null,[a.SearchModelType.PROJECTS]:null,[a.SearchModelType.TEAMS]:null,[a.SearchModelType.USERS]:null,[a.SearchModelType.HUB_FILES]:null,[a.SearchModelType.PUBLIC_PROFILES]:null};function n(e=t,s){if(c.searchActions.setParameters.matches(s))return Object.assign(Object.assign({},e),{parameters:Object.assign(Object.assign({},e.parameters),s.payload)});if(c.searchActions.resetResponses.matches(s))return Object.assign(Object.assign({},e),{responses:t.responses,responseCounts:t.responseCounts});if(c.searchActions.setResponses.matches(s)){if(e.parameters.query!==s.payload.query)return e;const r=Object.assign({},s.payload.responses),a=Object.assign({},e.responseCounts),c=Object.assign({},e.completedQueries);return Object.keys(r).forEach(e=>{const t=r[e];t&&(a[e]=t.results.length,t.results.forEach(s=>s.search_model_type=e),c[e]=s.payload.query)}),Object.assign(Object.assign({},e),{responses:Object.assign(Object.assign(Object.assign({},o),e.responses),r),responseCounts:Object.assign({},a),completedQueries:Object.assign({},c)})}return e}s.search=n,s.default=n}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(106                                     ),r=s(113          ),i=s(89                                 );function a(){const e=null!=r.localStorageOrNull?r.localStorageOrNull.getItem("persisted-sorting"):null;if(e){const s=function(e){function s(e){const s=i.TileSortKey[i.TileSortKey[e]];if(void 0!==e)return Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:s})})}let l;try{l=JSON.parse(e)}catch(a){return console.error(a),null}let r={};return l.folders&&l.folders.byId&&Object.keys(l.folders.byId).forEach(e=>{r[e]=s(l.folders.byId[e])}),{deletedFiles:s(l.deletedFiles)||t.defaultStateByView.deletedFiles,folders:{default:l.folders&&l.folders.default&&s(l.folders.default)||t.defaultStateByView.folders.default,byId:r},recentFiles:s(l.recentFiles)||t.defaultStateByView.recentFiles,searchResults:s(l.searchResults)||t.defaultStateByView.searchResults}}(e);return s||null}}t.tileSortFilterConfigEquals=function(e,t){return e.sort.key===t.sort.key&&e.sort.dir===t.sort.dir&&e.filters.creator===t.filters.creator},t.defaultState={viewMode:i.TileViewMode.GRID,sort:{key:i.TileSortKey.NAME,dir:i.TileSortDir.DESC},filters:{creator:i.TileFilterCreator.ANY}},t.defaultStateByView={deletedFiles:Object.assign(Object.assign({},t.defaultState),{filters:Object.assign(Object.assign({},t.defaultState.filters),{creator:i.TileFilterCreator.SELF}),sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TRASHED_AT})}),folders:{default:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TOUCHED_AT})}),byId:Object.create(null)},recentFiles:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.TOUCHED_AT})}),searchResults:Object.assign(Object.assign({},t.defaultState),{sort:Object.assign(Object.assign({},t.defaultState.sort),{key:i.TileSortKey.SEARCH_RELEVANCE})})},t.tileSortFilterStateByView=function(e=t.defaultStateByView,s){if(l.fileBrowser.hydrate.matches(s)){const t=null!=r.localStorageOrNull?r.localStorageOrNull.getItem("sort-filter-prefs-v1"):null;if(t){const s=function(e){try{const s=JSON.parse(e);return{deletedFiles:s.deletedFiles,folders:{default:s.folders.default,byId:s.folders.byId},recentFiles:s.recentFiles,searchResults:s.searchResults}}catch(t){return null}}(t);return s||e}const s=a();return s||e}if(l.fileBrowser.setTileSortFilterConfigForView.matches(s)){const t=s.payload.selectedView;if("folder"===t.view){const l=Object.assign(Object.assign({},e.folders),{byId:Object.assign(Object.assign({},e.folders.byId),{[t.folderId]:s.payload.config})}),r=Object.assign(Object.assign({},e),{folders:l});return o(r),r}if("recentFiles"===t.view||"searchResults"===t.view||"deletedFiles"===t.view){let l;l="searchResults"===t.view?"searchResults":"deletedFiles"===t.view?"deletedFiles":"recentFiles";const r=Object.assign(Object.assign({},e),{[l]:s.payload.config});return o(r),r}}return e};const o=e=>{if(r.localStorageOrNull)try{const s=JSON.stringify(e);r.localStorageOrNull.setItem("sort-filter-prefs-v1",s)}catch(t){}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(106                                     ),i=r(113          );t.viewBarOptions=function(e={},t){if(o.fileBrowser.hydrate.matches(t)){const e=i.localStorageOrNull&&i.localStorageOrNull.getItem("view-bar-options")||"{}";try{return JSON.parse(e)}catch(r){return{}}}else if(o.fileBrowser.setViewBarOptionsForView.matches(t)){const o=Object.assign(Object.assign({},e),{[t.payload.viewId]:t.payload.viewBarOptions});if(i.localStorageOrNull)try{const e=JSON.stringify(o);i.localStorageOrNull.setItem("view-bar-options",e)}catch(r){}return o}return e},t.getValidOptionsForView=function(e,t,r,o){const i=t.viewBarOptions[e];return i&&r.indexOf(i.sortKey)>-1?i:o}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=a(124     ),o=a(98                  ),c=a(105                               ),i=a(94                                   );!function(t){t.set=o.actionCreator("ORG_BILLING_DATA_SET"),t.get=c.asyncActionCreator("ORG_BILLING_DATA_GET",e=>{const a=e.getState().currentOrgId;r.default.get(`/api/orgs/${a}/billing_data`).then(a=>{e.dispatch(t.set(a.data.meta))}).catch(t=>{e.dispatch(i.flash.error(t.data&&t.data.message||"An error occurred while fetching billing data.",5e3)),console.error(t)})}),t.lockInvoice=c.asyncActionCreator("ORG_BILLING_LOCK_INVOICE",(e,a)=>{const o=e.getState().currentOrgId;r.default.put(`/api/orgs/${o}/lock_invoice`,a).then(a=>{e.dispatch(t.set(a.data.meta))}).catch(t=>{e.dispatch(i.flash.error(t.data&&t.data.message||"An error occurred while locking your invoice.",5e3)),console.error(t)})})}(e.orgBillingData||(e.orgBillingData={}))}),
(function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=i(269                                         );a.orgBillingData=function(t=null,a){return n.orgBillingData.set.matches(a)?Object.assign(Object.assign({},t),a.payload):t}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(188                             ),l=i(137                             ),r=i(106                                     ),f=i(251                                 ),c=i(255                      );function s(e,t){if(!e)return[];if(r.fileBrowser.hydrate.matches(t))return t.payload&&t.payload.recent_files||[];if(l.team.resourceDelete.matches(t)){const i=t.payload.fileKeys;return e.filter(e=>-1===i.indexOf(e.key))}if(a.file.recentFilePut.matches(t)||a.file.recentFilePost.matches(t)){let i=-1;for(let a=0;a<e.length;++a)if(e[a].key===t.payload.file.key){i=a;break}return-1!==i?[t.payload.file].concat(e.slice(0,i)).concat(e.slice(i+1)):[t.payload.file].concat(e)}if(a.file.recentFilesDelete.matches(t)){let i=t.payload.files.map(e=>e.key);return e.filter(e=>i.indexOf(e.key)<0)}if(a.file.deleteFiles.matches(t)){let i=[...e],a=t.payload.fileKeys;return i.filter(e=>!a[e.key])}return f.reduceList(e,t,c.file)}t.recentFiles=s,t.default=s}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(136                            ),r=o(124     ),i=o(98                  ),s=o(105                               ),_=o(119              ),T=o(85                   ),n=o(104                     ),c=o(106                                     ),p=o(187                             );var E;(E=t.prototype||(t.prototype={})).post=s.asyncActionCreator("PROTOTYPE_POST",(e,t)=>{T.getFeatureFlags().prototype_permissions&&r.default.post(`/api/files/${t.fileKey}/prototype`,{page_id:t.pageId,name:t.name}).then(({data:t})=>{e.dispatch(E.markViewed({fileKey:t.meta.file_key,pageId:t.meta.page_id}))}).catch(e=>{})}),E.reset=i.actionCreator("PROTOTYPE_RESET"),E.setShowHotspots=i.actionCreator("PROTOTYPE_SHOW_HOTSPOTS"),E.setTriggerHotspots=i.actionCreator("PROTOTYPE_TRIGGER_HOTSPOTS"),E.disableHotspotsTemp=i.actionCreator("PROTOTYPE_RESET_HOTSPOTS"),E.setHoverCursor=i.actionCreator("PROTOTYPE_SET_HOVER_CURSOR"),E.showComments=i.actionCreator("PROTOTYPE_SHOW_COMMENTS"),E.hideComments=i.actionCreator("PROTOTYPE_HIDE_COMMENTS"),E.setShowResolvedComments=i.actionCreator("PROTOTYPE_SHOW_RESOLVED_COMMENTS"),E.setShowOnlyParticipatingComments=i.actionCreator("PROTOTYPE_SHOW_ONLY_MY_COMMENTS"),E.setScalingMode=i.actionCreator("PROTOTYPE_SET_SCALING_MODE"),E.setCurrentIndex=i.actionCreator("PROTOTYPE_SET_CURRENT_INDEX"),E.setFrameIds=i.actionCreator("PROTOTYPE_SET_FRAME_IDS"),E.setPages=i.actionCreator("PROTOTYPE_SET_PAGES"),E.setCurrentPageId=i.actionCreator("PROTOTYPE_SET_CURRENT_PAGE"),E.setBackgroundColor=i.actionCreator("PROTOTYPE_SET_BACKGROUND_COLOR"),E.trackEvent=i.actionCreator("PROTOTYPE_TRACK_EVENT"),E.setProgressBarMode=i.actionCreator("PROTOTYPE_SET_PROGRESS_BAR_MODE"),E.setIsReconnecting=i.actionCreator("PROTOTYPE_SET_IS_RECONNECTING"),E.recentPrototypePost=i.actionCreator("RECENT_PROTOTYPE_POST"),E.recentPrototypeDel=i.actionCreator("RECENT_PROTOTYPE_DELETE"),E.resetRecents=i.actionCreator("PROTOTYPE_RESET_RECENTS"),E.setRecents=s.asyncActionCreator("PROTOTYPE_SET_RECENTS",(e,t)=>{if(T.getFeatureFlags().prototype_permissions){const o=null!=t.orgId?{org_id:t.orgId}:void 0;r.default.get("/api/recent_prototypes",o).then(({data:t})=>{e.dispatch(E.resetRecents());for(let o of t.meta)e.dispatch(E.recentPrototypePost({prototype:o}))}).catch(e=>{})}}),E.markViewed=s.asyncActionCreator("RECENT_PROTOTYPE_MARK_VIEWED",(e,t)=>{T.getFeatureFlags().prototype_permissions&&r.default.post(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId}).then(({data:t})=>{e.dispatch(E.recentPrototypePost({prototype:t.meta}))}).catch(e=>{})}),E.unmarkViewed=s.asyncActionCreator("RECENT_PROTOTYPE_UNMARK_VIEWED",(e,t)=>{if(T.getFeatureFlags().prototype_permissions){let o=r.default.del(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId});n.optimisticRequest({requestPromise:o,fallbackError:"An error occurred while removing this prototype from Recently Viewed.",store:e,next:e.dispatch,action:E.recentPrototypeDel({fileKey:t.fileKey,pageId:t.pageId})})}}),E.copyLink=s.asyncActionCreator("PROTOTYPE_COPY_LINK",(e,t)=>{_.copyText(t.url).then(()=>{e.dispatch(p.visualBellActions.enqueue({type:"link_copied_to_clipboard",message:"Link copied to clipboard"}))}).catch(()=>{e.dispatch(c.fileBrowser.showModal({type:a.TILE_COPY_LINK_MODAL,data:{link:t.url}}))})})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(272                                  );function r(e,t){if(!e)return[];if(p.prototype.resetRecents.matches(t))return[];if(p.prototype.recentPrototypePost.matches(t)){let o=-1;for(let r=0;r<e.length;++r)if(e[r].file_key===t.payload.prototype.file_key&&e[r].page_id===t.payload.prototype.page_id){o=r;break}let p=[...e];return-1!==o&&p.splice(o,1),[t.payload.prototype].concat(p)}return p.prototype.unmarkViewed.matches(t)?e.filter(e=>e.file_key!==t.payload.fileKey||e.page_id!==t.payload.pageId):e}t.recentPrototypes=r,t.default=r}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(98                  );!function(t){t.insertNotifications=r.actionCreator("USER_NOTIFICATIONS_INSERT"),t.reject=r.actionCreator("USER_NOTIFICATIONS_REJECT"),t.resolve=r.actionCreator("USER_NOTIFICATIONS_RESOLVE"),t.selectView=r.actionCreator("USER_NOTIFICATIONS_SELECT_VIEW"),t.markAllAsRead=r.actionCreator("USER_NOTIFICATIONS_MARK_ALL_AS_READ"),t.setBell=r.actionCreator("USER_NOTIFICATIONS_SET_BELL"),t.reset=r.actionCreator("USER_NOTIFICATIONS_RESET"),t.get=r.actionCreator("USER_NOTIFICATIONS_GET")}(e.userNotifications||(e.userNotifications={}))}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(106                                     ),n=e(274                                          ),o=e(10,1   ),a=e(85                   ),c=e(210                               );i.userNotifications=o.combineReducers({feed:function(t={allIds:[],byId:Object.create(null)},i){if(n.userNotifications.insertNotifications.matches(i)){const t=i.payload.notifications.feed,e=Object.create(null),s=[];return t.forEach(t=>{s.push(t.id),e[t.id]=t}),{allIds:s,byId:e}}if(n.userNotifications.reset.matches(i))return{allIds:[],byId:Object.create(null)};if(n.userNotifications.markAllAsRead.matches(i)){const i=Object.assign({},t.byId);return t.allIds.forEach(t=>{const e=i[t];e.read_at=(new Date).getTime(),i[t]=e}),Object.assign(Object.assign({},t),{byId:i})}if(n.userNotifications.resolve.matches(i)){const e=i.payload,s=Object.assign(Object.assign({},t.byId[e.notificationId]),{resolved_at:(new Date).getTime(),read_at:(new Date).getTime()}),n=Object.assign(Object.assign({},t.byId),{[s.id]:s});return Object.assign(Object.assign({},t),{byId:n})}if(n.userNotifications.reject.matches(i)){const e=i.payload.notificationId,s=Object.assign({},t.byId);return delete s[e],{allIds:t.allIds.filter(t=>t!==e),byId:s}}return t},files:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.files:n.userNotifications.reset.matches(i)?Object.create(null):t},folders:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.folders:n.userNotifications.reset.matches(i)?Object.create(null):t},teams:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.teams:n.userNotifications.reset.matches(i)?Object.create(null):t},roles:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.roles:n.userNotifications.reset.matches(i)?Object.create(null):t},users:function(t=Object.create(null),i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.users:n.userNotifications.reset.matches(i)?Object.create(null):t},hubFiles:function(t={},i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.hub_files:n.userNotifications.reset.matches(i)?{}:t},plugins:function(t={},i){return n.userNotifications.insertNotifications.matches(i)?i.payload.notifications.plugins:n.userNotifications.reset.matches(i)?{}:t},userProfiles:function(t={},i){if(n.userNotifications.insertNotifications.matches(i)){const t=i.payload.notifications.user_profiles||{},e=Object.create(null);for(const i in t)e[i]=Object.assign(Object.assign({},t[i]),{type:c.ProfileType.USER});return e}return n.userNotifications.reset.matches(i)?{}:t},orgProfiles:function(t={},i){if(n.userNotifications.insertNotifications.matches(i)){const t=i.payload.notifications.org_profiles||{},e=Object.create(null);for(const i in t)e[i]=Object.assign(Object.assign({},t[i]),{type:c.ProfileType.ORG});return e}return n.userNotifications.reset.matches(i)?{}:t},teamProfiles:function(t={},i){if(n.userNotifications.insertNotifications.matches(i)){const t=i.payload.notifications.team_profiles||{},e=Object.create(null);for(const i in t)e[i]=Object.assign(Object.assign({},t[i]),{type:c.ProfileType.TEAM});return e}return n.userNotifications.reset.matches(i)?{}:t},bellStates:function(t={},i){if(s.fileBrowser.init.matches(i)){const i=a.initialOptions().user_notifications_bell;return i?i.bell:t}if(n.userNotifications.reset.matches(i))return t;if(n.userNotifications.setBell.matches(i)){if(null!=i.payload.notificationSpaceId){let e=Object.assign({},t);return e[i.payload.notificationSpaceId]=i.payload.isBellStateHigh,e}return t}return t},isFetchingNotifictions:function(t=!1,i){return!!n.userNotifications.get.matches(i)||!n.userNotifications.insertNotifications.matches(i)&&t}})}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ANNUAL=1]="ANNUAL",t[t.MONTHLY=2]="MONTHLY",t[t.STUDENT=3]="STUDENT"}(e.BillingPeriod||(e.BillingPeriod={})),e.PaymentStep={UPGRADE_NEW_TEAM:"upgrade_new_team",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay",CONFIRM_STUDENT_TEAM:"confirm_student_team"},e.CartStep={PLANS:"plans",FORM:"form",CELEBRATION:"celebration",UPGRADE_NEW_TEAM:"upgrade_new_team",CONFIRM_STUDENT_TEAM:"confirm_student_team"},e.cartHistoricSteps=[e.CartStep.PLANS,e.CartStep.FORM],e.paymentStepToCartStep=function(t){switch(t){case e.PaymentStep.CHOOSE_PLAN:case e.CartStep.PLANS:return e.CartStep.PLANS;case e.PaymentStep.UPGRADE_NEW_TEAM:case e.CartStep.UPGRADE_NEW_TEAM:return e.CartStep.UPGRADE_NEW_TEAM;case e.PaymentStep.CONFIRM_STUDENT_TEAM:case e.CartStep.CONFIRM_STUDENT_TEAM:return e.CartStep.CONFIRM_STUDENT_TEAM;case e.PaymentStep.PAYMENT_AND_ADDRESS:case e.CartStep.FORM:case e.PaymentStep.CONFIRM_PAY:return e.CartStep.FORM;default:return e.CartStep.PLANS}},e.SubscriptionPlan={MONTHLY:"monthly",ANNUAL:"annual"}}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e(129                                ),i=e(276                       ),s={error:null,billingPeriod:i.BillingPeriod.UNSPECIFIED,numAnnualEditors:0,numMonthlyEditors:0,studentTeam:!1,submitPending:!1,upgradingNewTeam:!1,submitPutAnnualQuantityPending:!1,promo:null,token:null,taxes:null};t.payment=function(n=s,t){if(a.payment.init.matches(t))return Object.assign(Object.assign({},s),{promo:n.promo,billingPeriod:i.BillingPeriod.ANNUAL,numAnnualEditors:t.payload.numAnnualEditors});if(a.payment.startProUpgradeFlow.matches(t))return Object.assign(Object.assign({},n),{upgradingNewTeam:t.payload.newTeam});if(a.payment.confirmStudentTeamFlow.matches(t))return Object.assign(Object.assign({},n),{upgradingNewTeam:t.payload.newTeam});if(a.payment.submitPaymentAndAddress.matches(t))return Object.assign(Object.assign({},n),{submitPending:!0,address:t.payload.address});if(a.payment.makeStudentTeam.matches(t))return Object.assign(Object.assign({},n),{submitPending:!0});if(a.payment.setSubmitPending.matches(t))return Object.assign(Object.assign({},n),{submitPending:t.payload.submitPending});if(a.payment.setBillingPeriod.matches(t))return Object.assign(Object.assign({},n),{billingPeriod:t.payload.billingPeriod});if(a.payment.setNumEditors.matches(t))return Object.assign(Object.assign({},n),{numAnnualEditors:t.payload.annualQuantity,numMonthlyEditors:t.payload.monthlyQuantity});if(a.payment.showError.matches(t))return Object.assign(Object.assign({},n),{error:t.payload.error,submitPending:!1});if(a.payment.putAnnualQuantity.matches(t))return Object.assign(Object.assign({},n),{submitPutAnnualQuantityPending:!0});if(a.payment.setSubmitPutAnnualQuantityPending.matches(t))return Object.assign(Object.assign({},n),{submitPutAnnualQuantityPending:t.payload.submitPending});if(a.payment.setPromo.matches(t))return Object.assign(Object.assign({},n),{promo:t.payload.promo});if(a.payment.setToken.matches(t)){let e=t.payload.token;return e&&e.used&&(console.warn("action.payment.setToken dispatched w/ used Stripe token, it will be unset automatically",e),e=null),Object.assign(Object.assign({},n),{token:e})}return a.payment.setTaxes.matches(t)?Object.assign(Object.assign({},n),{taxes:t.payload.taxes}):n}}),
(function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=c(98                  );!function(t){t.cartStep=r.actionCreator("CART_STEP"),t.teamSubscribed=r.actionCreator("CART_TEAM_SUBSCRIBED")}(e.cart||(e.cart={}))}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=c(278                             ),s={receipts:{}};t.cart=function(e=s,t){if(a.cart.teamSubscribed.matches(t)){const c=Object.assign({},e.receipts);return c[t.payload.team.id]=t.payload.receipt,Object.assign(Object.assign({},e),{receipts:c})}return e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(124     ),s=r(94                                   ),c=r(105                               );!function(e){e.put=c.optimisticActionCreator("FILE_BROWSER_PREFERENCES_PUT",(e,t,r)=>{t.userInitiated&&i.default.put("/api/file_browser_preferences",Object.assign(Object.assign({},t.prefs),{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(c.optimistActions.commit(r))}).catch(t=>{e.dispatch(c.optimistActions.revert(r)),e.dispatch(s.flash.error(t.data&&t.data.message||"An error occurred.")),console.error(t)})})}(t.fileBrowserPreferences||(t.fileBrowserPreferences={})),function(e){e.put=c.optimisticActionCreator("FILE_BROWSER_SECTION_PREFERENCES_PUT",(e,t,r)=>{t.userInitiated&&i.default.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,Object.assign(Object.assign({},t.prefs),{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(c.optimistActions.commit(r))}).catch(t=>{e.dispatch(c.optimistActions.revert(r)),e.dispatch(s.flash.error(t.data&&t.data.message||"An error occurred.")),console.error(t)})})}(t.fileBrowserSectionPreferences||(t.fileBrowserSectionPreferences={}))}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FileBrowserSidebarSectionType={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"}}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=r(280                                                 ),t=r(280                                                 ),a=r(106                                     ),n=r(281                            );s.fileBrowserPreferences=function(e={},s){if(a.fileBrowser.hydrate.matches(s)){if(s.payload&&s.payload.file_browser_preferences)return s.payload&&s.payload.file_browser_preferences}else if(t.fileBrowserPreferences.put.matches(s))return Object.assign(Object.assign({},e),s.payload.prefs);return e};const c={bySectionType:{},byTeamId:{}};s.fileBrowserSectionPreferencesBySectionOrTeamId=function(e=c,s){function r(e,s){return s.section_type===n.FileBrowserSidebarSectionType.TEAM?Object.assign(Object.assign({},e),{byTeamId:Object.assign(Object.assign({},e.byTeamId),{[s.team_id]:Object.assign(Object.assign({},e.byTeamId[s.team_id]),s)})}):Object.assign(Object.assign({},e),{bySectionType:Object.assign(Object.assign({},e.bySectionType),{[s.section_type]:Object.assign(Object.assign({},e.bySectionType[s.section_type]),s)})})}if(a.fileBrowser.hydrate.matches(s)){let e=Object.assign({},c);if(s.payload&&s.payload.file_browser_section_preferences)for(let i of s.payload.file_browser_section_preferences)e=r(e,i);return e}return i.fileBrowserSectionPreferences.put.matches(s)?r(e,s.payload.prefs):e}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(106                                     ),s=t(137                             );a.teamCreation=function(e={},a){return s.team.submitNewTeam.matches(a)?Object.assign(Object.assign({},e),{loading:!0}):s.team.setLoading.matches(a)?Object.assign(Object.assign({},e),{loading:a.payload.loading}):i.fileBrowser.selectView.matches(a)&&"teamCreation"===a.payload.view?Object.assign(Object.assign({},e),{loading:!1}):e}}),
(function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=n(137                             );a.teamView=function(e={renamingTeam:!1},a){return t.team.beginRename.matches(a)?Object.assign(Object.assign({},e),{renamingTeam:!0}):t.team.stopRename.matches(a)?Object.assign(Object.assign({},e),{renamingTeam:!1}):e}}),
(function(t,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});const r=e(98                  );!function(t){t.initBillingDetails=r.actionCreator("TEAM_ADMIN_INIT_BILLING_DETAILS"),t.fetchEditors=r.actionCreator("TEAM_ADMIN_FETCH_EDITORS"),t.fetchSummary=r.actionCreator("TEAM_ADMIN_FETCH_SUMMARY"),t.setBillingSummary=r.actionCreator("TEAM_ADMIN_SET_SUMMARY"),t.setEditors=r.actionCreator("TEAM_ADMIN_SET_EDITORS"),t.getAdmins=r.actionCreator("TEAM_ADMIN_GET_ADMINS"),t.setAdmins=r.actionCreator("TEAM_ADMIN_SET_ADMINS_BY_ID"),t.sortEditorsBy=r.actionCreator("TEAM_ADMIN_SORT_EDITORS_BY"),t.setQuery=r.actionCreator("TEAM_ADMIN_SET_QUERY"),t.setSearchResults=r.actionCreator("TEAM_ADMIN_SET_SEARCH_RESULTS"),t.initUserDetails=r.actionCreator("TEAM_ADMIN_INIT_USER_DETAILS"),t.setUserRoles=r.actionCreator("TEAM_ADMIN_SET_USER_ROLES"),t.demoteUserRoles=r.actionCreator("TEAM_ADMIN_DEMOTE_EDITOR_ROLES"),t.initCharges=r.actionCreator("TEAM_ADMIN_INIT_CHARGES"),t.fetchMoreCharges=r.actionCreator("TEAM_ADMIN_FETCH_MORE_CHARGES"),t.appendCharges=r.actionCreator("TEAM_ADMIN_APPEND_CHARGES"),t.noMoreChargesToFetch=r.actionCreator("TEAM_ADMIN_NO_MORE_CHARGES_TO_FETCH")}(_.teamAdmin||(_.teamAdmin={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ASCENDING=0]="ASCENDING",e[e.DESCENDING=1]="DESCENDING"}(t.SortDirection||(t.SortDirection={}))}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(285                                   ),i=a(10,1   ),n=a(286                          );s.teamAdmin=i.combineReducers({billingDetails:(e,s)=>{if(null==e||t.teamAdmin.initBillingDetails.matches(s))return{loadingSummary:!0,loadingEditors:!0,editorsSortBy:{field:"name",direction:n.SortDirection.ASCENDING},query:"",searchResults:[],admins:[],editors:[]};if(t.teamAdmin.setBillingSummary.matches(s))return null==s.payload.summary?Object.assign(Object.assign({admins:[]},e),{loadingSummary:!1,billingSummary:null}):Object.assign(Object.assign({admins:[]},e),{loadingSummary:!1,billingSummary:s.payload.summary});if(t.teamAdmin.setEditors.matches(s))return Object.assign(Object.assign({},e),{loadingEditors:!1,editors:s.payload.editors});if(t.teamAdmin.setAdmins.matches(s))return Object.assign(Object.assign({},e),{admins:s.payload.admins||[]});if(t.teamAdmin.fetchEditors.matches(s))return Object.assign(Object.assign({},e),{loadingEditors:!0,editors:[],searchResults:[]});if(t.teamAdmin.demoteUserRoles.matches(s)){const a=e.editors.filter(e=>e.id!==s.payload.editor.id),t=e.searchResults.filter(e=>e.id!==s.payload.editor.id);return Object.assign(Object.assign({},e),{loadingEditors:!1,editors:a,searchResults:t})}return t.teamAdmin.sortEditorsBy.matches(s)?Object.assign(Object.assign({},e),{editorsSortBy:s.payload.sortBy}):t.teamAdmin.setQuery.matches(s)?Object.assign(Object.assign({},e),{query:s.payload.query}):t.teamAdmin.setSearchResults.matches(s)?Object.assign(Object.assign({},e),{searchResults:s.payload.searchResults}):e},userDetails:(e,s)=>!e||t.teamAdmin.initUserDetails.matches(s)?{loading:!0,roles:{}}:t.teamAdmin.setUserRoles.matches(s)?Object.assign(Object.assign({},e),{loading:!1,roles:s.payload.roles}):e,recentCharges:(e,s)=>!e||t.teamAdmin.initCharges.matches(s)?{loading:!1,charges:[],hasMore:!0}:t.teamAdmin.fetchMoreCharges.matches(s)?Object.assign(Object.assign({},e),{loading:!0}):t.teamAdmin.appendCharges.matches(s)?Object.assign(Object.assign({},e),{loading:!1,charges:e.charges.concat(s.payload.charges)}):t.teamAdmin.noMoreChargesToFetch.matches(s)?Object.assign(Object.assign({},e),{loading:!1,hasMore:!1}):e})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(98                  );!function(e){e.updateTeamRoleRequests=s.actionCreator("ORGS_UPDATE_TEAM_ROLE_REQUESTS")}(t.teamRoleRequests||(t.teamRoleRequests={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(288                                          );t.teamRoleRequests=function(e={},t){if(a.teamRoleRequests.updateTeamRoleRequests.matches(t)){const s=Object.assign({},e);return t.payload.teamRoleRequests.forEach(e=>{s[e.team_id]=e}),s}return e}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(133                               );n.folderView=function(e={},n){return t.folder.beginRename.matches(n)?Object.assign(Object.assign({},e),{renamingFolder:!0}):t.folder.stopRename.matches(n)?Object.assign(Object.assign({},e),{renamingFolder:!1}):e}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GET="EMAIL_SETTINGS_GET",t.PUT="EMAIL_SETTINGS_PUT",t.get=function(){return{type:t.GET}},t.put=function(e,i=!1){return{type:t.PUT,payload:{emailLists:e,userInitiated:i}}}}(e.emailSettings||(e.emailSettings={}))}),
(function(e,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EmailListKey={ACTIVITY:"activity"},l.ActivityLevel={EVERY_FOLLOWER:"every_follower",DAILY_FOLLOWER:"daily_follower",WEEKLY_FOLLOWER:"weekly_follower"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(291                                ),l=i(85                   ),a=i(292                              ),L={listsFetched:!1,lists:{[a.ActivityLevel.EVERY_FOLLOWER]:!1,[a.ActivityLevel.DAILY_FOLLOWER]:!1,[a.ActivityLevel.WEEKLY_FOLLOWER]:!1},token:l.initialOptions().email_token};t.emailSettings=function(e=L,t){switch(t.type){case s.emailSettings.GET:return Object.assign(Object.assign({},e),{listsFetched:!0});case s.emailSettings.PUT:{let i=Object.assign({},e.lists);for(let e in t.payload.emailLists)if(e==a.EmailListKey.ACTIVITY)switch(delete i[a.ActivityLevel.EVERY_FOLLOWER],delete i[a.ActivityLevel.DAILY_FOLLOWER],delete i[a.ActivityLevel.WEEKLY_FOLLOWER],t.payload.emailLists[e]){case"every":i[a.ActivityLevel.EVERY_FOLLOWER]=!0;break;case"daily":i[a.ActivityLevel.DAILY_FOLLOWER]=!0;break;case"weekly":i[a.ActivityLevel.WEEKLY_FOLLOWER]=!0}else i[e]=t.payload.emailLists[e];return Object.assign(Object.assign({},e),{lists:i})}default:return e}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(94                                   ),r=s(294                                 ),i=s(124     ),c=s(98                  ),o=s(105                               );!function(t){t.batchPost=c.actionCreator("IDP_USER_BATCH_POST"),t.getAll=o.asyncActionCreator("IDP_USER_GET_ALL",(t,e)=>{const s=t.getState().currentOrgId;i.default.get(`/api/orgs/${s}/idp_users`).then(e=>{t.dispatch(r.idpUser.batchPost({idpUsers:e.data.meta}))}).catch(e=>{t.dispatch(a.flash.error(e.message||"An error occurred while trying to fetch SCIM users."))})})}(e.idpUser||(e.idpUser={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(94                                   ),s=a(124     ),r=a(98                  ),n=a(164         ),c=a(105                               ),o=a(106                                     ),d=a(134                             ),l=a(136                            ),g=a(130                                              );!function(e){e.set=r.actionCreator("SET_ORG_INVITES"),e.del=r.actionCreator("DELETE_ORG_INVITE"),e.isCreating=r.actionCreator("IS_CREATING_ORG_INVITES"),e.get=c.asyncActionCreator("GET_ORG_INVITES",(t,a)=>{const r=t.getState();s.default.get("/api/org_invites",{org_id:r.currentOrgId}).then(a=>{const i=a.data.meta;t.dispatch(e.set(i))}).catch(e=>{const a=e.data&&e.data.message||"An error occurred while fetching org invites.";t.dispatch(i.flash.flash(a))})}),e.deleteRequest=c.asyncActionCreator("DELETE_ORG_INVITES",(t,a)=>{const{idpUser:r}=a,n=t.getState();s.default.del(`/api/org_invites/${r.id}`,{org_id:n.currentOrgId}).then(a=>{t.dispatch(e.del({org_invite_id:r.id})),t.dispatch(i.flash.flash(`Provisional user ${r.email} removed`))}).catch(e=>{const a=e.data&&e.data.message||"An error occurred while deleting org invites.";t.dispatch(i.flash.flash(a))})}),e.postRequest=c.asyncActionCreator("POST_REQUEST_ORG_INVITES",(t,a)=>{const i=t.getState(),{emails:r,accountType:c,isResentInvite:h}=a;t.dispatch(e.isCreating({creating:!0})),s.default.post("/api/org_invites",{org_id:i.currentOrgId,emails:r,account_type:c}).then(a=>{const i=a.data.meta;t.dispatch(e.set(i)),t.dispatch(e.isCreating({creating:!1})),t.dispatch(d.orgs.selectAdminView({view:"members"})),t.dispatch(o.fileBrowser.showModal({type:l.ORG_DASHBOARD_MODAL}));const s=h?"Invite resent.":`${i.length} ${n.getPluralOrSingular(i.length,"Member")} added successfully.`;t.dispatch(g.visualBell.enqueue({message:s,timeout:5e3}))}).catch(a=>{const i=a.data&&a.data.message||"An error occurred while creating org invites.";t.dispatch(e.isCreating({creating:!1})),t.dispatch(g.visualBell.enqueue({message:i,timeout:5e3,error:!0}))})}),e.putRequest=c.asyncActionCreator("PUT_REQUEST_ORG_INVITES",(t,a)=>{const{idpUser:r}=a,n=t.getState();s.default.put(`/api/org_invites/${r.id}`,{org_id:n.currentOrgId,account_type:r.account_type}).then(a=>{t.dispatch(e.set([a.data.meta])),t.dispatch(i.flash.flash(`Provisional user ${r.email} updated.`))}).catch(e=>{const a=e.data&&e.data.message||"An error occurred while updating org invites.";t.dispatch(i.flash.flash(a))})})}(t.orgInvites||(t.orgInvites={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(296                                 ),o=r(130                                              ),a=r(94                                   ),i=r(98                  ),c=r(124     ),n=r(264                                  ),g=r(105                               );!function(e){e.set=i.actionCreator("ORGS_USER_SET"),e.put=g.optimisticActionCreator("ORG_USER_PUT",(t,r,s)=>{r.userInitiated&&c.default.put(`/api/org_users/${r.orgUser.id}`,r.orgUser).then(r=>{t.dispatch(g.optimistActions.commit(s)),e.put({orgUser:r.data,userInitiated:!1})}).catch(e=>{t.dispatch(g.optimistActions.revert(s)),t.dispatch(a.flash.error(e.message||"An error occurred."))})}),e.requestAccountType=g.optimisticActionCreator("ORG_USER_REQUEST_ACCOUNT_TYPE",(e,t,r)=>{c.default.put(`/api/org_account_type_request/${t.orgUserId}`).then(()=>{e.dispatch(g.optimistActions.commit(r)),e.dispatch(a.flash.flash("Account type request submitted."))}).catch(t=>{console.error(t),e.dispatch(g.optimistActions.revert(r)),e.dispatch(a.flash.error(t&&t.message||"An error occurred while requesting an account type."))})}),e.leaveOrg=g.optimisticActionCreator("ORG_USER_LEAVE_ORG",(e,t,r)=>{c.default.del(`/api/org_user/${t.orgId}`).then(()=>{e.dispatch(g.optimistActions.commit(r)),e.dispatch(o.visualBell.enqueue({type:"org_guest_leave",message:`You successfully left ${t.orgName} Organization.`,timeout:5e3}))}).catch(s=>{console.error(s),e.dispatch(g.optimistActions.revert(r)),e.dispatch(a.flash.error(s&&s.message||`An error occurred while leaving ${t.orgName} Organization.`))})}),e.batchPut=g.optimisticActionCreator("ORG_USER_BATCH_UPDATE_ORG_USERS",(e,t,r)=>{c.default.put(`/api/orgs/${t.orgId}/org_users`,t.params).then(o=>{const a=o.data.meta;e.dispatch(g.optimistActions.commit(r)),e.dispatch(s.orgUser.set({orgUsers:a,orgId:t.orgId}))}).catch(t=>{console.log(t),e.dispatch(g.optimistActions.revert(r)),e.dispatch(a.flash.error(t.message||"An error occurred while updating org users."))})}),e.batchDel=g.optimisticActionCreator("ORG_USER_DELETE_REFACTOR",(t,r,s)=>{r.userInitiated&&c.default.del(`/api/orgs/${r.orgId}/org_users`,r.params).then(e=>{t.dispatch(g.optimistActions.commit(s));const o=r.params.org_user_ids.length,i=1===o?`${o} user has been removed from the organization.`:`${o} users have been removed from the organization.`;t.dispatch(a.flash.flash(i))}).catch(o=>{t.dispatch(g.optimistActions.revert(s)),t.dispatch(e.getAll({orgId:r.orgId})),t.dispatch(a.flash.error(o.message||"An error occurred."))})}),e.getAll=g.asyncActionCreator("ORG_USER_GET_ALL",(e,t)=>{const r=t?t.params:{};c.default.get(`/api/orgs/${t.orgId}/org_users`,r).then(r=>{const o=r.data.meta;e.dispatch(s.orgUser.set({orgUsers:o,orgId:t.orgId}))}).catch(t=>{console.log(t),e.dispatch(a.flash.error(t.message||"An error occurred while fetching org users."))})}),e.getByUserId=g.asyncActionCreator("ORG_USER_GET_BY_USER_ID",(e,t,r)=>{const o=c.default.get(`/api/orgs/${t.orgId}/user/${t.userId}`);n.registerLoadingState(o,e,r),o.then(r=>{const o=[r.data.meta];e.dispatch(s.orgUser.set({orgUsers:o,orgId:t.orgId}))}).catch(t=>{console.log(t),e.dispatch(a.flash.error(t.message||"An error occurred while fetching org users."))})},(e,t)=>`${e}_${t.orgId}_${t.userId}`)}(t.orgUser||(t.orgUser={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(124     ),o=r(294                                 ),a=r(295                                   ),i=r(296                                 ),l=r(130                                              ),n=r(98                  ),_=r(105                               ),R=r(168                                    );!function(e){e.setRosterMembers=n.actionCreator("ORG_ROSTER_SET_ROSTER_MEMBERS"),e.setQuery=n.actionCreator("ORG_ROSTER_SET_QUERY"),e.setFilters=n.actionCreator("ORG_ROSTER_FILTERS"),e.setFilterCounts=n.actionCreator("ORG_ROSTER_SET_FILTER_COUNTS"),e.setSortConfig=n.actionCreator("ORG_ROSTER_SORT_CONFIG"),e.selectOrgUserIds=n.actionCreator("ORG_ROSTER_SELECT_ORG_USER_IDS"),e.unselectOrgUserIds=n.actionCreator("ORG_ROSTER_UNSELECT_ORG_USER_IDS"),e.clearUserIds=n.actionCreator("ORG_ROSTER_CLEAR_USER_IDS"),e.get=_.asyncActionCreator("ORG_ROSTER_GET",(e,t)=>{Promise.all([e.dispatch(i.orgUser.getAll({orgId:t.orgId})),t.ignoreIdpUsers?null:e.dispatch(o.idpUser.getAll()),t.ignoreIdpUsers?null:e.dispatch(a.orgInvites.get())])}),e.exportCSV=_.asyncActionCreator("ORG_ROSTER_EXPORT",(e,t)=>{e.dispatch(l.visualBell.enqueue({message:"Processing CSV...",type:"orgRoster.exportCSV",icon:R.VisualBellIcon.SPINNER,timeout:6e4})),s.default.get(`/api/orgs/${t.orgId}/export_members`).then(()=>{e.dispatch(l.visualBell.enqueue({message:"Your CSV is being generated, which will take a few minutes. We’ll email you when it’s ready.",type:"orgRoster.exportCSV",icon:R.VisualBellIcon.CHECK,timeout:1e4}))},()=>{e.dispatch(l.visualBell.enqueue({message:"There was an error processing your request. Please try again later.",type:"orgRoster.exportCSV",icon:R.VisualBellIcon.EXCLAMATION,error:!0,timeout:1e4}))})})}(t.orgRoster||(t.orgRoster={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(134                             ),r=s(297                                   ),a=s(106                                     );t.fetchedRoster=function(e=!1,t){return!!r.orgRoster.get.matches(t)||!o.orgs.resetDashboard.matches(t)&&!a.fileBrowser.hydrate.matches(t)&&e}}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoleRequestStatus={PENDING:"pending",APPROVED:"approved",DENIED:"denied",WITHDRAWN:"withdrawn"}}),
(function(e,s,_){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=_(299                                  ),a=_(111                        ),C=_(91                      );var c;!function(e){e[e.CLICK_LEAVE=0]="CLICK_LEAVE",e[e.CLICK_WITHDRAW=1]="CLICK_WITHDRAW",e[e.CLICK_JOIN=2]="CLICK_JOIN",e[e.CLICK_REQUEST=3]="CLICK_REQUEST",e[e.BYPASS_REQUEST=4]="BYPASS_REQUEST"}(c=s.OrgTeamActionType||(s.OrgTeamActionType={})),s.getOrgTeamActionType=function(e,s,_,o){return a.canViewTeam(e.id,_)?c.CLICK_LEAVE:s&&s.status===t.RoleRequestStatus.PENDING?c.CLICK_WITHDRAW:e.org_access===C.OrgAccess.PRIVATE&&0===e.member_count&&a.canAdminOrg(o,_)?c.BYPASS_REQUEST:e.org_access===C.OrgAccess.PUBLIC?c.CLICK_JOIN:e.org_access===C.OrgAccess.PRIVATE?c.CLICK_REQUEST:(console.warn("Secret teams should not show in this list at all"),c.CLICK_REQUEST)},s.getJoiningOrgTeamLoadingKey=(e=>`JOINING_ORG_TEAM_${e}`)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(137                             ),o=i(94                                   ),n=i(301                                 ),s=i(98                  ),c=i(124     ),r=i(105                               ),d=i(300                     ),g=i(263                      ),m=i(106                     );!function(t){t.set=s.actionCreator("ORGS_SET_DISCOVERABLE_TEAMS"),t.get=r.asyncActionCreator("ORG_FETCH_DISCOVERABLE_TEAMS",(t,e)=>{const i=t.getState().currentOrgId,a=e||{},{includeProjectCount:s,includeMemberCount:r,includeTopMembers:d}=a,g={};r&&(g.include_member_count="true"),s&&(g.include_project_count="true"),d&&(g.include_top_members="true"),c.default.get(`/api/orgs/${i}/teams`,g).then(e=>{const i=e.data.meta;t.dispatch(n.orgTeam.set({teams:i}))}).catch(e=>{t.dispatch(o.flash.flash(e.message||"An error occurred while trying to fetch teams within the organization."))})}),t.join=r.optimisticActionCreator("ORG_JOIN_TEAMS",(t,e,i)=>{const n=t.getState().currentOrgId,s=e.teamId,l=d.getJoiningOrgTeamLoadingKey(s);t.dispatch(g.loadingStateActions.putLoading({key:l}));const _=t.getState().selectedView;"org"===_.view&&t.dispatch(m.fileBrowser.selectView(Object.assign(Object.assign({},_),{shouldRedirectAfterJoiningTeam:!0}))),c.default.post(`/api/orgs/${n}/teams/join`,{team_ids:[s]}).then(()=>{t.dispatch(r.optimistActions.commit(i)),t.dispatch(a.team.onJoin({teamId:s}))}).catch(e=>{t.dispatch(r.optimistActions.revert(i)),t.dispatch(o.flash.error(e.message||"An error occurred while joining.")),t.dispatch(g.loadingStateActions.putFailure({key:l}))})})}(e.orgTeam||(e.orgTeam={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(134                             ),s=t(137                             ),o=t(301                                 );a.joiningTeamIds=function(e=Object.create(null),a){if(o.orgTeam.join.matches(a))return Object.assign(Object.assign({},e),{[a.payload.teamId]:!0});if(s.team.onJoin.matches(a)){const t=a.payload.teamId,n=Object.assign({},e);return delete n[t],n}return n.orgs.resetDashboard.matches(a)?Object.create(null):e}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(134                             );s.selectedAdminView=function(e="general",s){return a.orgs.selectAdminView.matches(s)?s.payload.view:a.orgs.resetDashboard.matches(s)?"general":e}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(134                             ),a={property:"name",isDescending:!1};s.teamSortConfig=function(e=a,s){return o.orgs.sortTeamsBy.matches(s)?s.payload:o.orgs.resetDashboard.matches(s)?Object.assign({},a):e}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(10,1   ),d=i(298               ),n=i(302                 ),s=i(303                    ),r=i(304                  );t.orgDashboard=o.combineReducers({fetchedRoster:d.fetchedRoster,joiningTeamIds:n.joiningTeamIds,selectedAdminView:s.selectedAdminView,teamSortConfig:r.teamSortConfig})}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrgPermissionExtendedFilters={IDP:"provisional"},r.zeroFilterCounts=function(){return{accountType:{full:0,restricted:0,starter:0},permission:{guest:0,member:0,admin:0,provisional:0}}},function(e){e[e.EMAIL=0]="EMAIL",e[e.SEARCH=1]="SEARCH",e[e.NAME=2]="NAME",e[e.UPGRADED_DATE=3]="UPGRADED_DATE",e[e.LAST_EDIT=4]="LAST_EDIT",e[e.LAST_SEEN=5]="LAST_SEEN"}(r.OrgRosterSortType||(r.OrgRosterSortType={}))}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(106                                     ),o=s(134                             ),a=s(295                                   ),i=s(297                                   ),n=s(296                                 ),c=s(10,1   ),d=s(306                          );r.orgRoster=c.combineReducers({sort:function(e={type:d.OrgRosterSortType.NAME,isDescending:!1},r){return i.orgRoster.setSortConfig.matches(r)?r.payload:o.orgs.resetDashboard.matches(r)?{type:d.OrgRosterSortType.NAME,isDescending:!1}:i.orgRoster.setQuery.matches(r)?{type:d.OrgRosterSortType.SEARCH,isDescending:!0}:e},filters:function(e={permissionFilter:null,accountTypeFilter:null},r){return i.orgRoster.setFilters.matches(r)?r.payload:o.orgs.resetDashboard.matches(r)?{permissionFilter:null,accountTypeFilter:null}:e},filterCounts:function(e=d.zeroFilterCounts(),r){return i.orgRoster.setFilterCounts.matches(r)?r.payload.filterCounts:e},searchQuery:function(e="",r){return i.orgRoster.setQuery.matches(r)?r.payload.query:o.orgs.resetDashboard.matches(r)?"":e},orgRosterIds:function(e=[],r){return i.orgRoster.setRosterMembers.matches(r)?r.payload.members:n.orgUser.batchDel.matches(r)?e.filter(e=>!e.user_id||-1===r.payload.params.org_user_ids.indexOf(e.id)):a.orgInvites.del.matches(r)?e.filter(e=>!!e.user_id||-1===r.payload.org_invite_id.indexOf(e.id)):o.orgs.resetDashboard.matches(r)?[]:e},selectedOrgUserIds:function(e={},r){if(t.fileBrowser.hydrate.matches(r)||i.orgRoster.clearUserIds.matches(r)||o.orgs.resetDashboard.matches(r))return{};if(n.orgUser.batchDel.matches(r)){const s=Object.assign({},e);for(const e of r.payload.params.org_user_ids)delete s[e];return s}if(i.orgRoster.unselectOrgUserIds.matches(r)){const s=Object.assign({},e);for(const e of r.payload.ids)delete s[e];return s}if(i.orgRoster.selectOrgUserIds.matches(r)){const s=Object.assign({},e);for(const e of r.payload.ids)s[e]=!0;return s}if(i.orgRoster.setRosterMembers.matches(r)){const s=Object.assign({},e),t=new Set;r.payload.members.forEach(e=>{e.user_id&&t.add(e.id)});for(let e in s)t.has(e)||delete s[e];return s}return e}})}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(137                             ),c=t(134                             ),m=t(301                                 ),r=t(10,1   ),o=t(91                      );function n(e=!1,s){return!m.orgTeam.set.matches(s)&&!c.orgs.resetDashboard.matches(s)&&(!!m.orgTeam.get.matches(s)||e)}function i(e=[],s){if(m.orgTeam.set.matches(s))return s.payload.teams;if(c.orgs.resetDashboard.matches(s))return[];if(a.team.onJoin.matches(s)){const t=s.payload.teamId;return e.map(e=>e.id===t?Object.assign(Object.assign({},e),{member_count:(e.member_count||0)+1,top_members:e.top_members||[]}):e)}if(a.team.del.matches(s)){const t=s.payload.team;return e.reduce((e,s)=>(t.id===s.id?s.org_access!==o.OrgAccess.PUBLIC&&s.org_access!==o.OrgAccess.PRIVATE||e.push(Object.assign(Object.assign({},s),{member_count:s.member_count-1})):e.push(s),e),[])}return e}s.isFetching=n,s.teams=i,s.orgTeams=r.combineReducers({teams:i,isFetching:n})}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(294                                 ),n=s(295                                   ),a=s(10,1   );function r(e={},i){if(t.idpUser.batchPost.matches(i)){const s=Object.assign({},e);return i.payload.idpUsers.forEach(e=>{s[e.id]=Object.assign(Object.assign({},e),{isOrgInvite:!1})}),s}if(n.orgInvites.set.matches(i)){const s=Object.assign({},e);return i.payload.forEach(e=>{s[e.id]=Object.assign(Object.assign(Object.assign({},s[e.id]),e),{isOrgInvite:!0,name:""})}),s}if(n.orgInvites.del.matches(i)){const s=Object.assign({},e);return delete s[i.payload.org_invite_id],s}return e}function c(e=!1,i){return!t.idpUser.batchPost.matches(i)&&(!!t.idpUser.getAll.matches(i)||e)}i.idpUsers=r,i.isFetching=c,i.idpUserById=a.combineReducers({isFetching:c,isCreatingOrgInvite:function(e=!1,i){return n.orgInvites.isCreating.matches(i)?i.payload.creating:e},idpUsers:r})}),
(function(a,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=o(124     ),r=o(98                  ),n=o(94                                   ),i=o(310                                        ),c=o(105                               );!function(a){a.generateToken=r.actionCreator("ORG_SAML_CONFIG_GENERATE_TOKEN"),a.revokeToken=r.actionCreator("ORG_SAML_CONFIG_REVOKE_TOKEN"),a.set=r.actionCreator("ORG_SAML_CONFIG_SET"),a.get=c.asyncActionCreator("ORG_SAML_CONFIG_GET",a=>{const e=a.getState().currentOrgId;t.default.get(`/api/org/${e}/org_saml_config`).then(e=>{a.dispatch(i.orgSamlConfig.set({orgSamlConfig:e.data.meta}))}).catch(e=>{a.dispatch(n.flash.flash(e.data&&e.data.message||"An error occurred while fetching org saml config.",5e3)),console.error(e)})})}(e.orgSamlConfig||(e.orgSamlConfig={}))}),
(function(o,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const e=i(310                                        ),g=i(10,1   );function t(o=null,n){return e.orgSamlConfig.set.matches(n)?n.payload.orgSamlConfig:o}function a(o=!1,n){return(!e.orgSamlConfig||!e.orgSamlConfig.set.matches(n))&&(!(!e.orgSamlConfig||!e.orgSamlConfig.get.matches(n))||o)}n.config=t,n.isFetching=a,n.orgSamlConfig=g.combineReducers({config:t,isFetching:a})}),
(function(n,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(n){n.HUB_FILE="hub_file",n.PLUGIN="plugin"}(i.PublicProfileResourceType||(i.PublicProfileResourceType={})),function(n){n.PLUGINS="PLUGINS",n.FILES="FILES"}(i.CommunityHubLandingTab||(i.CommunityHubLandingTab={})),function(n){n.popular="popular",n.created_at="created_at"}(i.CommunityHubLandingFilter||(i.CommunityHubLandingFilter={})),function(n){n.HUB_FILES="HUB_FILES",n.PUBLIC_PLUGINS="PUBLIC_PLUGINS",n.PLUGIN_REVIEW="PLUGIN_REVIEW"}(i.CommunityHubAdminTab||(i.CommunityHubAdminTab={})),function(n){n[n.SHOW_404=0]="SHOW_404",n[n.REDIRECT_TO_INTERNAL_PROFILE=1]="REDIRECT_TO_INTERNAL_PROFILE"}(i.On404Behavior||(i.On404Behavior={}))}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalPlugin=function(n){return void 0!==n.localFileId},e.isManifestMenuCommand=function(n){return"command"in n&&"name"in n},e.isManifestMenuSeparator=function(n){return"separator"in n&&n.separator},e.isManifestSubmenu=function(n){return"name"in n&&"menu"in n},e.pluginErrorToString=function({type:n,text:e}){switch(n){case"LOAD":return"Manifest load error: "+e;case"PARSE":return"Manifest not valid JSON: "+e;case"VALIDATE":return"Manifest error: "+e}},function(n){n.ORG="ORG",n.PUBLIC="PUBLIC"}(e.RoleToPublishAs||(e.RoleToPublishAs={})),function(n){n.NAME="name",n.PUBLISHER="publisher",n.INSTALLS="installs",n.CREATED_AT="created_at"}(e.PluginsSortType||(e.PluginsSortType={}))}),
(function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});const i=r(322     ),o=Symbol("internal"),s=Symbol("wasDestroyed"),h=Function.prototype.apply;function a(t,e){if(t[s])throw new Error(i.VM_DESTROYED_ERROR);if("object"==typeof e&&null!==e&&o in e)throw new Error("Wrapping a handle twice!");return{[o]:e}}function l(t,e){if(t[s])throw new Error(i.VM_DESTROYED_ERROR);if("object"!=typeof e||null===e||!(o in e))throw new Error("The provided value is not a handle");return e[o]}e.NoOpJavascriptVm=class{constructor(){this.vmType="noopvm",this.errorHandler=(()=>{}),this.executionDepth=0,this[n]=!1,this.global=a(this,window),this.null=a(this,null),this.undefined=a(this,void 0)}typeof(t){return typeof l(this,t)}isNumber(t){return"number"==typeof l(this,t)}isBoolean(t){return"boolean"==typeof l(this,t)}isString(t){return"string"==typeof l(this,t)}isNull(t){return null===l(this,t)}isUndefined(t){return void 0===l(this,t)}isObject(t){const e=l(this,t);return"object"==typeof e&&null!==e}isArray(t){return Array.isArray(l(this,t))}isUint8Array(t){return l(this,t)instanceof Uint8Array}isFunction(t){return l(this,t)instanceof Function}shallowFreezeObject(t){Object.freeze(l(this,t))}getNumber(t){const e=l(this,t);if("number"!=typeof e)throw new Error("Value is not a number");return e}getBoolean(t){const e=l(this,t);if("boolean"!=typeof e)throw new Error("Value is not a boolean");return e}getString(t){const e=l(this,t);if("string"!=typeof e)throw new Error("Value is not a string");return e}getUint8Array(t){if(!this.isUint8Array(t))throw new Error("Value is not a Uint8Array");return new Uint8Array(l(this,t))}toNumber(t){const e=l(this,t);try{return+e}catch(r){throw new i.VmError(this,a(this,r))}}toBoolean(t){const e=l(this,t);try{return!!e}catch(r){throw new i.VmError(this,a(this,r))}}toString(t){const e=l(this,t);try{return""+e}catch(r){throw new i.VmError(this,a(this,r))}}newNumber(t){if("number"!=typeof t)throw new Error("Value is not a number");return a(this,t)}newBoolean(t){if("boolean"!=typeof t)throw new Error("Value is not a boolean");return a(this,t)}newString(t){if("string"!=typeof t)throw new Error("Value is not a string");return a(this,t)}newObject(t){if(t){let r;try{r=Object.create(l(this,t))}catch(e){throw new i.VmError(this,a(this,e))}return a(this,r)}return a(this,{})}newArray(){return a(this,[])}newUint8Array(t){if("[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t))return a(this,new Uint8Array(t));throw new Error("Value is not an Uint8Array")}isEqual(t,e){return l(this,t)===l(this,e)}newFunction(t,e){const r=this;let n=function(...n){const i=a(r,this),o=n.map(t=>a(r,t));for(;o.length<e.length;)o.push(r.undefined);let s;try{s=e.apply(i,o)}catch(h){let e="";throw h&&h.message&&(e=": "+h.message),new Error("in "+t+e)}return void 0===s?void 0:l(r,s)};return Object.defineProperty(n,"name",{writable:!1,value:t}),a(r,n)}newPromise(){let t=()=>{},e=()=>{};return{promise:a(this,new Promise((r,n)=>{t=r,e=n})),resolve:e=>t(l(this,e)),reject:t=>e(l(this,t))}}getKeys(t){return Object.keys(l(this,t))}getProp(t,e){const r=l(this,t);let n;try{n=r[e]}catch(o){throw new i.VmError(this,a(this,o))}return a(this,n)}setProp(t,e,r){const n=l(this,t),o=l(this,r);try{n[e]=o}catch(s){throw new i.VmError(this,a(this,s))}}defineProp(t,e,r){let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&r.value&&(n.value=l(this,r.value)),"get"in r&&r.get&&(n.get=l(this,this.newFunction("get_"+e,r.get))),"set"in r&&r.set&&(n.set=l(this,this.newFunction("set_"+e,r.set))),Object.defineProperty(l(this,t),e,n)}callFunction(t,e,...r){const n=l(this,t),o=l(this,e),s=r.map(t=>l(this,t));try{return this.executionDepth++,{type:"SUCCESS",handle:a(this,h.call(n,o,s))}}catch(u){console.error(u);let t=new i.VmError(this,a(this,u));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalCode(t){try{return this.executionDepth++,{type:"SUCCESS",handle:a(this,(0,eval)('"use strict";\n'+t))}}catch(e){console.error(e);let t=new i.VmError(this,a(this,e));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalTopLevelCode(t){let e=this.evalCode(t);return"SUCCESS"===e.type&&(e.handle=this.undefined),e}setAbortHandler(t){}setErrorHandler(t){this.errorHandler=t}destroy(){this[s]=!0}isDestroyed(){return this[s]}retainHandle(t){}releaseHandle(t){}},n=s}),
(function(e,r,t){e.exports='(function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self,global.Realm=factory())})(this,function(){\'use strict\';function throwTantrum(s,err=void 0){const msg=`please report internal shim error: ${s}`;console.error(msg),err&&(console.error(`${err}`),console.error(`${err.stack}`));debugger;throw msg}function assert(condition,message){condition||throwTantrum(message)}function cleanupSource(src){return src=src.replace(/\\(0,\\s*_[^.]+\\.e\\)/g,"(0, eval)"),src=src.replace(/_[^.]+\\.g\\.Reflect/g,"Reflect"),src=src.replace(/cov_[^+]+\\+\\+[;,]/g,""),src}function buildChildRealm(unsafeRec,BaseRealm){const{callAndWrapError}=unsafeRec,{initRootRealm,initCompartment,getRealmGlobal,realmEvaluate}=BaseRealm,{create,defineProperties}=Object;class Realm{constructor(){throw new TypeError("Realm is not a constructor")}static makeRootRealm(options={}){const r=create(Realm.prototype);return callAndWrapError(initRootRealm,[unsafeRec,r,options]),r}static makeCompartment(options={}){const r=create(Realm.prototype);return callAndWrapError(initCompartment,[unsafeRec,r,options]),r}get global(){return callAndWrapError(getRealmGlobal,[this])}evaluate(x,endowments,options={}){return callAndWrapError(realmEvaluate,[this,x,endowments,options])}}return defineProperties(Realm,{toString:{value:()=>"function Realm() { [shim code] }",writable:!1,enumerable:!1,configurable:!0}}),defineProperties(Realm.prototype,{toString:{value:()=>"[object Realm]",writable:!1,enumerable:!1,configurable:!0}}),Realm}function createRealmFacade(unsafeRec,BaseRealm){const{unsafeEval}=unsafeRec;return unsafeEval(buildChildRealmString)(unsafeRec,BaseRealm)}function createCallAndWrapError(unsafeEval){return unsafeEval(buildCallAndWrapErrorString)()}function getSharedGlobalDescs(unsafeGlobal){function describe(names,writable,enumerable,configurable){for(const name of names){const desc=getOwnPropertyDescriptor(unsafeGlobal,name);desc&&(assert("value"in desc,`unexpected accessor on global property: ${name}`),descriptors[name]={value:desc.value,writable,enumerable,configurable})}}const descriptors={};return describe(frozenGlobalPropertyNames,!1,!1,!1),describe(stableGlobalPropertyNames,!1,!1,!1),describe(unstableGlobalPropertyNames,!0,!1,!0),descriptors}function repairAccessors(){function toObject(obj){if(obj===void 0||null===obj)throw new TypeError(`can\'t convert undefined or null to object`);return Object(obj)}function asPropertyName(obj){return"symbol"==typeof obj?obj:`${obj}`}function aFunction(obj,accessor){if("function"!=typeof obj)throw TypeError(`invalid ${accessor} usage`);return obj}const{defineProperty,defineProperties,getOwnPropertyDescriptor,getPrototypeOf,prototype:objectPrototype}=Object;try{(0,objectPrototype.__lookupGetter__)("x")}catch(ignore){return}defineProperties(objectPrototype,{__defineGetter__:{value:function(prop,func){const O=toObject(this);defineProperty(O,prop,{get:aFunction(func,"getter"),enumerable:!0,configurable:!0})}},__defineSetter__:{value:function(prop,func){const O=toObject(this);defineProperty(O,prop,{set:aFunction(func,"setter"),enumerable:!0,configurable:!0})}},__lookupGetter__:{value:function(prop){let O=toObject(this);prop=asPropertyName(prop);let desc;for(;O&&!(desc=getOwnPropertyDescriptor(O,prop));)O=getPrototypeOf(O);return desc&&desc.get}},__lookupSetter__:{value:function(prop){let O=toObject(this);prop=asPropertyName(prop);let desc;for(;O&&!(desc=getOwnPropertyDescriptor(O,prop));)O=getPrototypeOf(O);return desc&&desc.set}}})}function repairFunctions(){function repairFunction(name,declaration){let FunctionInstance;try{FunctionInstance=(0,eval)(declaration)}catch(e){if(e instanceof SyntaxError)return;throw e}const FunctionPrototype=getPrototypeOf(FunctionInstance),TamedFunction=function(){throw new TypeError("Not available")};defineProperties(TamedFunction,{name:{value:name}}),defineProperties(FunctionPrototype,{constructor:{value:TamedFunction}}),defineProperties(TamedFunction,{prototype:{value:FunctionPrototype}}),TamedFunction!==Function.prototype.constructor&&setPrototypeOf(TamedFunction,Function.prototype.constructor)}const{defineProperties,getPrototypeOf,setPrototypeOf}=Object;repairFunction("Function","(function(){})"),repairFunction("GeneratorFunction","(function*(){})"),repairFunction("AsyncFunction","(async function(){})"),repairFunction("AsyncGeneratorFunction","(async function*(){})")}function createNewUnsafeGlobalForNode(){const isNode=new Function("try {return this===global}catch(e){return false}")();if(!isNode)return;const vm=require("vm"),unsafeGlobal=vm.runInNewContext(unsafeGlobalEvalSrc);return unsafeGlobal}function createNewUnsafeGlobalForBrowser(){if("undefined"!=typeof document){const iframe=document.createElement("iframe");iframe.style.display="none",document.body.appendChild(iframe);const unsafeGlobal=iframe.contentWindow.eval(unsafeGlobalSrc);return unsafeGlobal}}function createUnsafeRec(unsafeGlobal,allShims=[]){const sharedGlobalDescs=getSharedGlobalDescs(unsafeGlobal),unsafeEval=unsafeGlobal.eval,unsafeFunction=unsafeGlobal.Function,callAndWrapError=createCallAndWrapError(unsafeEval);return freeze({unsafeGlobal,sharedGlobalDescs,unsafeEval,unsafeFunction,callAndWrapError,allShims})}function createNewUnsafeRec(allShims){const unsafeGlobal=getNewUnsafeGlobal();return unsafeGlobal.eval(repairAccessorsShim),unsafeGlobal.eval(repairFunctionsShim),createUnsafeRec(unsafeGlobal,allShims)}function getOptimizableGlobals(safeGlobal){const descs=getOwnPropertyDescriptors(safeGlobal),constants=arrayFilter(getOwnPropertyNames(descs),name=>{if("eval"===name||keywords.has(name)||!regexpTest(identifierPattern,name))return!1;const desc=descs[name];return!1===desc.configurable&&!1===desc.writable&&objectHasOwnProperty(desc,"value")});return constants}function createScopeHandler(unsafeRec,safeGlobal,endowments,sloppyGlobals){const{unsafeEval}=unsafeRec;return unsafeEval(buildScopeHandlerString)(unsafeRec,safeGlobal,endowments,sloppyGlobals)}function createSafeEval(unsafeRec,safeEvalOperation){const{unsafeEval}=unsafeRec;return unsafeEval(buildSafeEvalString)(unsafeRec,safeEvalOperation)}function createSafeFunction(unsafeRec,safeFunctionOperation){const{unsafeEval}=unsafeRec;return unsafeEval(buildSafeFunctionString)(unsafeRec,safeFunctionOperation)}function rejectImportExpressions(s){const index=s.search(importPattern);if(-1!==index){const linenum=s.slice(0,index).split("\\n").length;throw new SyntaxError(`possible import expression rejected around line ${linenum}`)}}function rejectDangerousSources(s){rejectImportExpressions(s)}function buildOptimizer(constants){return 0===constants.length?"":`const {${arrayJoin(constants,",")}} = this;`}function createScopedEvaluatorFactory(unsafeRec,constants){const{unsafeFunction}=unsafeRec,optimizer=buildOptimizer(constants);return unsafeFunction(`\n    with (arguments[0]) {\n      ${optimizer}\n      return function() {\n        \'use strict\';\n        return eval(arguments[0]);\n      };\n    }\n  `)}function applyTransforms(rewriterState,transforms){return rewriterState={src:`${rewriterState.src}`,endowments:create(null,getOwnPropertyDescriptors(rewriterState.endowments))},rewriterState=transforms.reduce((rs,transform)=>transform.rewrite?transform.rewrite(rs):rs,rewriterState),rewriterState={src:`${rewriterState.src}`,endowments:create(null,getOwnPropertyDescriptors(rewriterState.endowments))},rewriterState}function createSafeEvaluatorFactory(unsafeRec,safeGlobal,transforms,sloppyGlobals){const constants=getOptimizableGlobals(safeGlobal),scopedEvaluatorFactory=createScopedEvaluatorFactory(unsafeRec,constants);return function(endowments={},options={}){const localTransforms=options.transforms||[],allTransforms=arrayConcat(localTransforms,transforms||[],[rejectDangerousSourcesTransform]);return function(src){let rewriterState={src,endowments};rewriterState=applyTransforms(rewriterState,allTransforms);const scopeHandler=createScopeHandler(unsafeRec,safeGlobal,rewriterState.endowments,sloppyGlobals),scopeProxyRevocable=Proxy.revocable({},scopeHandler),scopeProxy=scopeProxyRevocable.proxy,scopedEvaluator=apply(scopedEvaluatorFactory,safeGlobal,[scopeProxy]);scopeHandler.useUnsafeEvaluator=!0;let err;try{return apply(scopedEvaluator,safeGlobal,[rewriterState.src])}catch(e){throw err=e,e}finally{scopeHandler.useUnsafeEvaluator&&(scopeProxyRevocable.revoke(),throwTantrum("handler did not revoke useUnsafeEvaluator",err))}}}}function createSafeEvaluator(unsafeRec,safeEvalOperation){const{unsafeFunction}=unsafeRec,safeEval=createSafeEval(unsafeRec,safeEvalOperation);return assert(getPrototypeOf(safeEval).constructor!==Function,"hide Function"),assert(getPrototypeOf(safeEval).constructor!==unsafeFunction,"hide unsafeFunction"),safeEval}function createSafeEvaluatorWhichTakesEndowments(safeEvaluatorFactory){return(x,endowments,options={})=>safeEvaluatorFactory(endowments,options)(x)}function createFunctionEvaluator(unsafeRec,safeEvalOperation){const{unsafeGlobal,unsafeFunction}=unsafeRec,safeFunction=createSafeFunction(unsafeRec,function(...params){const functionBody=`${arrayPop(params)||""}`;let functionParams=`${arrayJoin(params,",")}`;if(!regexpTest(/^[\\w\\s,]*$/,functionParams))throw new SyntaxError("shim limitation: Function arg must be simple ASCII identifiers, possibly separated by commas: no default values, pattern matches, or non-ASCII parameter names");if(new unsafeFunction(functionBody),stringIncludes(functionParams,")"))throw new unsafeGlobal.SyntaxError("shim limitation: Function arg string contains parenthesis");0<functionParams.length&&(functionParams+="\\n/*``*/");const src=`(function(${functionParams}){\\n${functionBody}\\n})`;return safeEvalOperation(src)});return assert(getPrototypeOf(safeFunction).constructor!==Function,"hide Function"),assert(getPrototypeOf(safeFunction).constructor!==unsafeFunction,"hide unsafeFunction"),safeFunction}function getRealmRecForRealmInstance(realm){return assert(Object(realm)===realm,"bad object, not a Realm instance"),assert(RealmRecForRealmInstance.has(realm),"Realm instance has no record"),RealmRecForRealmInstance.get(realm)}function registerRealmRecForRealmInstance(realm,realmRec){assert(Object(realm)===realm,"bad object, not a Realm instance"),assert(!RealmRecForRealmInstance.has(realm),"Realm instance already has a record"),RealmRecForRealmInstance.set(realm,realmRec)}function setDefaultBindings(safeGlobal,safeEval,safeFunction){defineProperties(safeGlobal,{eval:{value:safeEval,writable:!0,configurable:!0},Function:{value:safeFunction,writable:!0,configurable:!0}})}function createRealmRec(unsafeRec,transforms,sloppyGlobals){const{sharedGlobalDescs,unsafeGlobal}=unsafeRec,safeGlobal=create(unsafeGlobal.Object.prototype,sharedGlobalDescs),safeEvaluatorFactory=createSafeEvaluatorFactory(unsafeRec,safeGlobal,transforms,sloppyGlobals),safeEvalOperation=safeEvaluatorFactory(),safeEval=createSafeEvaluator(unsafeRec,safeEvalOperation),safeFunction=createFunctionEvaluator(unsafeRec,safeEvalOperation),safeEvalWhichTakesEndowments=createSafeEvaluatorWhichTakesEndowments(safeEvaluatorFactory);setDefaultBindings(safeGlobal,safeEval,safeFunction);const realmRec=freeze({safeGlobal,safeEval,safeEvalWhichTakesEndowments,safeFunction});return realmRec}const buildChildRealmString=cleanupSource(`\'use strict\'; (${buildChildRealm})`),buildCallAndWrapErrorString=cleanupSource(`\'use strict\'; (${function(){const{getPrototypeOf}=Object,{apply}=Reflect,uncurryThis=fn=>(thisArg,...args)=>apply(fn,thisArg,args),mapGet=uncurryThis(Map.prototype.get),setHas=uncurryThis(Set.prototype.has),errorNameToErrorConstructor=new Map([["EvalError",EvalError],["RangeError",RangeError],["ReferenceError",ReferenceError],["SyntaxError",SyntaxError],["TypeError",TypeError],["URIError",URIError]]),errorConstructors=new Set([EvalError.prototype,RangeError.prototype,ReferenceError.prototype,SyntaxError.prototype,TypeError.prototype,URIError.prototype,Error.prototype]);return function(target,args){try{return apply(target,void 0,args)}catch(err){if(Object(err)!==err)throw err;if(setHas(errorConstructors,getPrototypeOf(err)))throw err;let eName,eMessage,eStack;try{eName=`${err.name}`,eMessage=`${err.message}`,eStack=`${err.stack||eMessage}`}catch(ignored){throw new Error("unknown error")}const ErrorConstructor=mapGet(errorNameToErrorConstructor,eName)||Error;try{throw new ErrorConstructor(eMessage)}catch(err2){throw err2.stack=eStack,err2}}}}})`),{assign,create,freeze,defineProperties,getOwnPropertyDescriptor,getOwnPropertyDescriptors,getOwnPropertyNames,getPrototypeOf,setPrototypeOf}=Object,{apply,ownKeys}=Reflect,uncurryThis=fn=>(thisArg,...args)=>apply(fn,thisArg,args),objectHasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty),arrayFilter=uncurryThis(Array.prototype.filter),arrayPop=uncurryThis(Array.prototype.pop),arrayJoin=uncurryThis(Array.prototype.join),arrayConcat=uncurryThis(Array.prototype.concat),regexpTest=uncurryThis(RegExp.prototype.test),stringIncludes=uncurryThis(String.prototype.includes),frozenGlobalPropertyNames=["Infinity","NaN","undefined"],stableGlobalPropertyNames=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Array","ArrayBuffer","Boolean","DataView","EvalError","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Map","Number","Object","RangeError","ReferenceError","Set","String","Symbol","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","JSON","Math","Reflect","escape","unescape"],unstableGlobalPropertyNames=["Date","Error","Promise","Proxy","RegExp","Intl"],unsafeGlobalSrc="\'use strict\'; this",unsafeGlobalEvalSrc=`(0, eval)("\'use strict\'; this")`,getNewUnsafeGlobal=()=>{const newUnsafeGlobalForBrowser=createNewUnsafeGlobalForBrowser(),newUnsafeGlobalForNode=createNewUnsafeGlobalForNode();if(!newUnsafeGlobalForBrowser&&!newUnsafeGlobalForNode||newUnsafeGlobalForBrowser&&newUnsafeGlobalForNode)throw new Error("unexpected platform, unable to create Realm");return newUnsafeGlobalForBrowser||newUnsafeGlobalForNode},repairAccessorsShim=cleanupSource(`"use strict"; (${repairAccessors})();`),repairFunctionsShim=cleanupSource(`"use strict"; (${repairFunctions})();`),identifierPattern=/^[a-zA-Z_$][\\w$]*$/,keywords=new Set(["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"]),buildScopeHandlerString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeGlobal,endowments={},sloppyGlobals=!1){const{unsafeGlobal,unsafeEval}=unsafeRec,{freeze}=Object,{get:reflectGet}=Reflect,{unscopables}=Symbol,alwaysThrowHandler=new Proxy(freeze({}),{get(target,prop){throw new TypeError(`unexpected scope handler trap called: ${prop+""}`)}});return{__proto__:alwaysThrowHandler,getPrototypeOf(){return alwaysThrowHandler},useUnsafeEvaluator:!1,get(shadow,prop){return prop===unscopables?void 0:"eval"===prop&&!0===this.useUnsafeEvaluator?(this.useUnsafeEvaluator=!1,unsafeEval):prop in endowments?reflectGet(endowments,prop,safeGlobal):prop in safeGlobal?safeGlobal[prop]:void 0},set(shadow,prop,value){if(prop in endowments)throw new TypeError(`do not modify endowments like ${prop+""}`);return safeGlobal[prop]=value,!0},has(shadow,prop){return!!sloppyGlobals||!!("eval"===prop||prop in endowments||prop in safeGlobal||prop in unsafeGlobal)},getPrototypeOf(){return null}}}})`),buildSafeEvalString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeEvalOperation){const{callAndWrapError}=unsafeRec,{defineProperties}=Object,safeEval={eval(){return callAndWrapError(safeEvalOperation,arguments)}}.eval;return defineProperties(safeEval,{toString:{value:()=>`function ${"eval"}() { [shim code] }`,writable:!1,enumerable:!1,configurable:!0}}),safeEval}})`),buildSafeFunctionString=cleanupSource(`\'use strict\'; (${function(unsafeRec,safeFunctionOperation){const{callAndWrapError,unsafeFunction}=unsafeRec,{defineProperties}=Object,safeFunction=function(){return callAndWrapError(safeFunctionOperation,arguments)};return defineProperties(safeFunction,{prototype:{value:unsafeFunction.prototype},toString:{value:()=>"function Function() { [shim code] }",writable:!1,enumerable:!1,configurable:!0}}),safeFunction}})`),importPattern=/\\bimport\\s*(?:\\(|\\/[/*]|\x3c!--|--\x3e)/,rejectDangerousSourcesTransform={rewrite(rs){return rejectDangerousSources(rs.src),rs}},RealmRecForRealmInstance=new WeakMap,BaseRealm={initRootRealm:function(parentUnsafeRec,self,options){const{shims:newShims,transforms,sloppyGlobals}=options,allShims=arrayConcat(parentUnsafeRec.allShims,newShims),unsafeRec=createNewUnsafeRec(allShims),Realm=createRealmFacade(unsafeRec,BaseRealm),realmRec=createRealmRec(unsafeRec,transforms,sloppyGlobals),{safeEvalWhichTakesEndowments}=realmRec;for(const shim of allShims)safeEvalWhichTakesEndowments(shim);registerRealmRecForRealmInstance(self,realmRec)},initCompartment:function(unsafeRec,self,options={}){const{transforms,sloppyGlobals}=options,realmRec=createRealmRec(unsafeRec,transforms,sloppyGlobals);registerRealmRecForRealmInstance(self,realmRec)},getRealmGlobal:function(self){const{safeGlobal}=getRealmRecForRealmInstance(self);return safeGlobal},realmEvaluate:function(self,x,endowments={},options={}){const{safeEvalWhichTakesEndowments}=getRealmRecForRealmInstance(self);return safeEvalWhichTakesEndowments(x,endowments,options)}},currentUnsafeRec=function(){const unsafeGlobal=(0,eval)(unsafeGlobalSrc);return repairAccessors(),repairFunctions(),createUnsafeRec(unsafeGlobal)}(),Realm=buildChildRealm(currentUnsafeRec,BaseRealm);return Realm});\n'}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(315                   );let a=null,l=null;const c=URL.createObjectURL(new Blob([o],{type:"application/javascript"}));n.loadRealms=function(){return a||(a=new Promise((e,n)=>{(l=document.createElement("iframe")).style.display="none",l.onload=(()=>{const t=l.contentDocument,o=t.createElement("script");o.src=c,o.onload=(()=>{l.contentWindow&&l.contentWindow.Realm?e():n("failed to load realm")}),t.body.appendChild(o)}),document.body.appendChild(l),l.contentWindow&&l.contentDocument||n("failed to create realm loader")})).catch(()=>{a=null}),a},n.makeRootRealm=function(){if(!l||!l.contentWindow||!l.contentWindow.Realm)throw new Error("need to load realm before using it");const e=l.contentWindow.document.body.lastChild,n=l.contentWindow.Realm.makeRootRealm(),t=l.contentWindow.document.body.lastChild;if(e===t||!t||"IFRAME"!==t.nodeName)throw new Error("can't find iframe to create plugin environment");return{realm:n,iframe:t}}}),
(function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});const o=r(322     ),i=r(316                   ),s=["log","error","assert","info","warn","clear"],a={};for(let f of s)a[f]=console[f].bind(console);const l=Symbol("internal"),h=Symbol("wasDestroyed"),u=Function.prototype.apply;function c(e,t){if(e[h])throw new Error(o.VM_DESTROYED_ERROR);if("object"==typeof t&&null!==t&&l in t)throw new Error("Wrapping a handle twice!");return{[l]:t}}function y(e,t){if(e[h])throw new Error(o.VM_DESTROYED_ERROR);if("object"!=typeof t||null===t||!(l in t))throw new Error("The provided value is not a handle");return t[l]}t.RealmsVm=class{constructor(){this.vmType="realms",this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[n]=!1,this.errorHandler=(()=>{}),this.executionDepth=0;const{realm:e,iframe:t}=i.makeRootRealm();this.realm=e,this.iframe=t;const{safeFunctionWrapper:r,objectCreate:o,uint8ArrayCopy:l,emptyObject:h,emptyArray:u,promiseCreate:f}=this.realm.evaluate("\n      ({\n        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {\n          // This function is safe because it is created here inside the realm.\n          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {\n            try {\n              return outerRealmUnsafeFunction(this, ...innerRealmArgs)\n            } catch (outerRealmException) {\n              let outerMessage = ''\n              try {\n                // This nested try-catch exists because it's theoretically possible for .message\n                // to throw an error from the outer realm if it's a getter or an object whose\n                // toString() throws an error.\n                if (outerRealmException && outerRealmException.message) {\n                  outerMessage =  \": \" + outerRealmException.message\n                }\n              } catch(ignored) {\n                throw new Error('API error trying to convert error message -- please contact support')\n              }\n\n              // We need to re-throw a new error object created in the inner realm\n              // so that it's safe for the plugin to look at\n              throw new Error('in ' + functionName + outerMessage)\n            }\n          }\n          return innerRealmSafeFunction\n        },\n        objectCreate: (() => {\n          // Wrap Object.create so it can't be modified and can't be accessed by the plugin\n          let objCreate = Object.create\n          return (prototype) => {\n            return objCreate(prototype)\n          }\n        })(),\n        uint8ArrayCopy: (() => {\n          // Wrap Uint8Array so it can't be modified by the plugin\n          let arrayConstructor = Uint8Array\n          return (outerRealmArray) => {\n            return new arrayConstructor(outerRealmArray)\n          }\n        })(),\n        emptyObject: () => {\n          return {}\n        },\n        emptyArray: () => {\n          return []\n        },\n        promiseCreate: (() => {\n          const promiseCtor = Promise\n          return () => {\n            let resolve\n            let reject\n            const promise = new promiseCtor((innerResolve, innerReject) => {\n              resolve = innerResolve\n              reject = innerReject\n            })\n            return {\n              promise,\n              resolve,\n              reject,\n            }\n          }\n        })(),\n      })\n    "),p=(e,t,n)=>{const o=r((e,...r)=>{const o=c(this,e),i=n?r.map(e=>c(this,e)):r;if(n)for(;i.length<t.length;)i.push(c(this,void 0));const s=t.apply(o,i);return void 0===s?void 0:y(this,s)},e);return Object.defineProperty(o,"name",{value:e,writable:!1}),o};this.outerToInnerFunctionTransformer=((e,t)=>p(e,t,!0)),this.objectFactory=o,this.uint8ArrayFactory=l,this.emptyObjectFactory=h,this.emptyArrayFactory=u,this.promiseFactory=f,this.globalHandle=c(this,this.realm.global),this.nullHandle=c(this,null),this.undefinedHandle=c(this,void 0);const m=this.newObject();this.setProp(this.global,"console",m);for(let n of s)this.setProp(m,n,c(this,p(n,a[n],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw new Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw new Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw new Error("no undefined handle")}typeof(e){return typeof y(this,e)}isNumber(e){return"number"==typeof y(this,e)}isBoolean(e){return"boolean"==typeof y(this,e)}isString(e){return"string"==typeof y(this,e)}isNull(e){return null===y(this,e)}isUndefined(e){return void 0===y(this,e)}isObject(e){const t=y(this,e);return"object"==typeof t&&null!==t}isArray(e){return Array.isArray(y(this,e))}isUint8Array(e){const t=y(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t)}isFunction(e){return"function"==typeof y(this,e)}shallowFreezeObject(e){Object.freeze(y(this,e))}getNumber(e){const t=y(this,e);if("number"!=typeof t)throw new Error("Value is not a number");return+t}getBoolean(e){const t=y(this,e);if("boolean"!=typeof t)throw new Error("Value is not a boolean");return!!t}getString(e){const t=y(this,e);if("string"!=typeof t)throw new Error("Value is not a string");return""+t}getUint8Array(e){if(!this.isUint8Array(e))throw new Error("Value is not a Uint8Array");const t=y(this,e);try{const e=+t.byteOffset,n=+t.byteLength,i=ArrayBuffer.prototype.slice.call(t.buffer,e,e+n);return new Uint8Array(i)}catch(r){throw new o.VmError(this,c(this,r))}}toNumber(e){const t=y(this,e);try{return+t}catch(r){throw new o.VmError(this,c(this,r))}}toBoolean(e){const t=y(this,e);try{return!!t}catch(r){throw new o.VmError(this,c(this,r))}}toString(e){const t=y(this,e);try{return""+t}catch(r){throw new o.VmError(this,c(this,r))}}newNumber(e){if("number"!=typeof e)throw new Error("Value is not a number");return c(this,e)}newBoolean(e){if("boolean"!=typeof e)throw new Error("Value is not a boolean");return c(this,e)}newString(e){if("string"!=typeof e)throw new Error("Value is not a string");return c(this,e)}newObject(e){if(!e)return c(this,this.emptyObjectFactory());let t,r=y(this,e);try{t=this.objectFactory(r)}catch(n){throw new o.VmError(this,c(this,n))}return c(this,t)}newArray(){return c(this,this.emptyArrayFactory())}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return c(this,this.uint8ArrayFactory(e));throw new Error("Value is not an Uint8Array")}newFunction(e,t){if("function"!=typeof t)throw new Error("Value is not a function");return c(this,this.outerToInnerFunctionTransformer(e,t))}newPromise(){const{promise:e,resolve:t,reject:r}=this.promiseFactory();return{promise:c(this,e),resolve:e=>{this.callFunction(c(this,t),this.null,e)},reject:e=>{this.callFunction(c(this,r),this.null,e)}}}getKeys(e){let t=y(this,e);if("object"!=typeof t)throw new Error("not an object");return Object.keys(t)}getProp(e,t){let r,n=y(this,e);try{r=n[t]}catch(i){throw new o.VmError(this,c(this,i))}return c(this,r)}setProp(e,t,r){let n=y(this,e),i=y(this,r);try{n[t]=i}catch(s){throw new o.VmError(this,c(this,s))}}defineProp(e,t,r){let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&r.value&&(n.value=y(this,r.value)),"get"in r&&r.get&&(n.get=this.outerToInnerFunctionTransformer("get_"+t,r.get)),"set"in r&&r.set&&(n.set=this.outerToInnerFunctionTransformer("set_"+t,r.set)),Object.defineProperty(y(this,e),t,n)}isEqual(e,t){return y(this,e)===y(this,t)}callFunction(e,t,...r){const n=y(this,e),i=y(this,t),s=r.map(e=>y(this,e));try{return this.executionDepth++,{type:"SUCCESS",handle:c(this,u.call(n,i,s))}}catch(l){a.error(l);let e=new o.VmError(this,c(this,l));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{return this.executionDepth++,{type:"SUCCESS",handle:c(this,this.realm.evaluate(e))}}catch(t){a.error(t);let e=new o.VmError(this,c(this,t));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalTopLevelCode(e){let t=this.evalCode(e);return"SUCCESS"===t.type&&(t.handle=this.undefined),t}setAbortHandler(e){}setErrorHandler(e){this.errorHandler=e}destroy(){this[h]=!0,this.iframe.remove()}isDestroyed(){return this[h]}retainHandle(e){}releaseHandle(e){}},n=h}),
(function(e,n,t){"use strict";var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function i(e){try{a(r.next(e))}catch(n){s(n)}}function _(e){try{a(r.throw(e))}catch(n){s(n)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,_)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const o=t(322      );const s=["unknown","undefined","boolean","number","string","symbol","function","object"];function i(){return r(this,void 0,void 0,function*(){const{Module:e}=yield new Promise((e,n)=>{const t=document.createElement("script");t.onerror=(e=>{n(e)}),t.onload=(()=>{const n={wasmBinaryFile:Fig.jsvmCppURLs["jsvm-cpp.wasm"],postRun(){setTimeout(()=>{e({Module:n})})}};CppVm(n),CppVm=(()=>Promise.reject())}),t.src=Fig.jsvmCppURLs["jsvm-cpp.js"],document.head.appendChild(t)}),n=new Map,t=new Map,r=e.string_to_ptr,i=e.ptr_to_string;let _=1;function a(n){if(e._jsvm_didThrow()){const n=e._jsvm_lastThrow();let t=i(e._jsvm_toString(n));throw e._jsvm_didThrow()&&(t="Unknown error"),new o.VmError(t,n)}return n}e.invokeCallback=((e,t,r)=>{const o=n.get(e);if(void 0===o)throw new Error(`Attempted to invoke callback with invalid id ${e}`);for(;r.length<o.length;)r.push(m.undefined);const s=o.apply(t,r);return void 0===s?m.undefined:s}),e.getRegisteredFunctionName=(e=>t.get(e));let u=!1;function l(){u||(u=!0,Promise.resolve().then(()=>{u=!1,e._jsvm_runMicrotasksAndAutorelease()}))}const m={reset(){_=1,n.clear(),e._jsvm_reset()},retainHandle(n){l(),a(e._jsvm_retainHandle(n))},releaseHandle(n){l(),a(e._jsvm_releaseHandle(n))},get onAbort(){return e.onAbort},set onAbort(n){e.onAbort=n},get null(){return l(),e._jsvm_nullHandle()},get undefined(){return l(),e._jsvm_undefinedHandle()},get global(){return l(),e._jsvm_globalHandle()},typeof:n=>(l(),s[e._jsvm_typeof(n)]),isNumber:n=>(l(),!!e._jsvm_isNumber(n)),isBoolean:n=>(l(),!!e._jsvm_isBoolean(n)),isString:n=>(l(),!!e._jsvm_isString(n)),isNull:n=>(l(),!!e._jsvm_isNull(n)),isUndefined:n=>(l(),!!e._jsvm_isUndefined(n)),isObject:n=>(l(),!!e._jsvm_isObject(n)),isArray:n=>(l(),!!e._jsvm_isArray(n)),isUint8Array:n=>(l(),!!e._jsvm_isUint8Array(n)),isFunction:n=>(l(),!!e._jsvm_isFunction(n)),shallowFreezeObject:n=>(l(),e._jsvm_shallowFreezeObject(n)),getNumber:n=>(l(),a(e._jsvm_getNumber(n))),getBoolean:n=>(l(),!!a(e._jsvm_getBoolean(n))),getString:n=>(l(),a(i(e._jsvm_getString(n)))),getUint8Array:n=>(l(),a(e.ptr_to_uint8array(e._jsvm_getUint8Array(n)))),toNumber:n=>(l(),a(e._jsvm_toNumber(n))),toBoolean:n=>(l(),!!a(e._jsvm_toBoolean(n))),toString:n=>(l(),a(i(e._jsvm_toString(n)))),newNumber:n=>(l(),e._jsvm_newNumber(n)),newBoolean:n=>(l(),e._jsvm_newBoolean(n)),newString:n=>(l(),e._jsvm_newString(r(n))),newObject:n=>(l(),n?a(e._jsvm_newObjectWithProto(n)):e._jsvm_newObject()),newArray:()=>(l(),e._jsvm_newArray()),newUint8Array:n=>(l(),e._jsvm_newUint8Array(e.uint8array_to_ptr(n))),newFunction(o,s){l();const i=_++;return n.set(i,s),t.set(i,o),e._jsvm_newFunction(r(o),i)},getProto:n=>(l(),e._jsvm_getProto(n)),getOwnKeys(n){l();const t=[];for(const r of e.ptr_to_string_array(e._jsvm_getOwnKeys(n)))t.push(i(r));return t},getPropStr:(n,t)=>(l(),a(e._jsvm_getPropStr(n,r(t)))),setPropStr(n,t,o){l(),a(e._jsvm_setPropStr(n,r(t),o))},definePropStr(n,t,o){if(l(),function(e){return("get"in e||"set"in e)&&!("value"in e||"writable"in e)}(o))a(e._jsvm_accessorDefinePropStr(n,r(t),void 0===o.get?m.undefined:m.newFunction("get_"+t,o.get),void 0===o.set?m.undefined:m.newFunction("set_"+t,o.set),!!o.configurable,!!o.enumerable));else{if(!function(e){return!("get"in e||"set"in e)}(o))throw Object.defineProperty({},t,o),new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");a(e._jsvm_dataDefinePropStr(n,r(t),void 0===o.value?m.undefined:o.value,!!o.writable,!!o.configurable,!!o.enumerable))}},isEqual:(n,t)=>(l(),!!e._jsvm_isEqual(n,t)),callFunction:(n,t,r)=>(l(),a(e._jsvm_callFunction(n,t,e.handle_array_to_ptr(r)))),evalCode:n=>(l(),a(e._jsvm_evalCode(r(n))))};return m})}let _;n.loadCppVm=function(){return _||(_=i()),_}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=/^(.*)\bimport\s*(\(|\/\/|\/\*|<!--|-->)/m;t.rejectImportExpressions=function(e){const t=o.exec(e);if(t){const e=t[1].split("\n").length;throw new SyntaxError(`possible import expression rejected around line ${e}`)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={},s=new Set(["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"]),o=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;t.CppVmConsoleAPI=class{constructor(e,t,n){this.api=e,this.vmWasDestroyed=n,this.valuesToHandles=new Map,this.getOwnPropertyDescriptors=e.evalCode("Object.getOwnPropertyDescriptors"),this.hasOwnProperty=e.evalCode("Object.hasOwnProperty"),this.newMap=e.evalCode("(Map => () => new Map)(Map)"),this.mapGet=e.evalCode("Map.prototype.get"),this.mapSet=e.evalCode("Map.prototype.set"),e.retainHandle(this.getOwnPropertyDescriptors),e.retainHandle(this.hasOwnProperty),e.retainHandle(this.newMap),e.retainHandle(this.mapGet),e.retainHandle(this.mapSet);const r=e.newObject();e.setPropStr(e.global,"console",r);for(let s in t)e.setPropStr(r,s,e.newFunction(s,(...e)=>{try{t[s](...this.cloneArguments(e))}catch(n){throw t.error(n),n}}))}createHandleToValueMap(){const e=this.api,t=e.callFunction(this.newMap,e.null,[]),n=[];return{get:s=>{const o=e.callFunction(this.mapGet,t,[s]);return e.isNumber(o)?n[e.getNumber(o)]:r},set:(r,s)=>{const o=n.length;e.callFunction(this.mapSet,t,[r,e.newNumber(o)]),n.push(s)}}}cloneArguments(e){const t=this.createHandleToValueMap(),n=[];for(const r of e)n.push(this.cloneValue(t,r));return n}cloneValue(e,t){const n=e.get(t);if(n!==r)return n;const a=this.api;switch(a.typeof(t)){case"undefined":return;case"boolean":return a.getBoolean(t);case"number":return a.getNumber(t);case"string":return a.getString(t);default:if(a.isNull(t))return null;if(a.isUint8Array(t)){const n=a.getUint8Array(t);return e.set(t,n),n}if(a.isFunction(t)){let n="";try{n=a.getString(a.getPropStr(t,"name"))}catch(i){}const r=function(e){return o.test(e)&&!s.has(e)}(n)?new Function(`return function ${n}() {}`)():function(){};return e.set(t,r),r}if(a.isArray(t)){const n=a.getNumber(a.getPropStr(t,"length")),r=[];e.set(t,r);for(let s=0;s<n;s++)r.push(this.cloneValue(e,a.getPropStr(t,s.toString())));return r}return this.cloneObjectWithProperties(e,t)}}cloneObjectWithProperties(e,t){const n=this.api,r=n.callFunction(this.getOwnPropertyDescriptors,n.null,[t]);let s={};e.set(t,s),n.retainHandle(t),this.valuesToHandles.set(s,t);const o=n.getProto(t),a=this.cloneValue(e,o);Object.setPrototypeOf(s,a);for(const i of n.getOwnKeys(r)){const o=n.getPropStr(r,i),a=n.getBoolean(n.getPropStr(o,"enumerable")),l=n.getPropStr(o,"get"),c=n.getPropStr(o,"set"),u=!n.isUndefined(l),p=!n.isUndefined(c);if(!u&&!p){Object.defineProperty(s,i,{value:this.cloneValue(e,n.getPropStr(t,i)),enumerable:a});continue}const h={enumerable:a};if(u){n.retainHandle(l);const e=this;h.get=function(){if(e.vmWasDestroyed())throw"(this plugin run has ended)";let r=e.valuesToHandles.get(this);void 0===r&&(r=t);const s=n.callFunction(l,r,[]),o=e.createHandleToValueMap();return e.cloneValue(o,s)}}p&&(h.set=(()=>{})),Object.defineProperty(s,i,h)}return s}}}),
(function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(322     ),o=r(318              ),s=r(319                     ),a=r(320                       );let l;const f=["log","error","assert","info","warn","clear"],u={};for(let d of f)u[d]=console[d].bind(console);let c=null;t.undefinedProperties=["window","document","fetch","indexedDB","atob","btoa"];t.CppVm=class{constructor(){if(this.vmType="cppvm",this._isDestroyed=!1,this._abortHandler=(()=>{}),this._errorHandler=(()=>{}),this._executionDepth=0,!l)throw new Error("Must await CppVm.load() first");if(null!==c)throw new Error("Cannot create two CppVm objects at the same time");c=this,l.reset(),this._promiseFactory=l.evalCode("(Promise => () => {\n      let resolve, reject, promise = new Promise((res, rej) => {\n        resolve = res, reject = rej;\n      });\n      return {resolve, reject, promise};\n    })(Promise)"),l.retainHandle(this._promiseFactory),l.evalCode("\n      this.eval = (function() {\n        let __figma_scope_factory__ = ((eval, objectCreate, objectDefineProp) => () => {\n          let scope = objectCreate(null)\n          objectDefineProp(scope, 'eval', {\n            get: function() {\n              delete this.eval\n              return eval\n            },\n            configurable: true,\n          })\n          return scope\n        })(eval, Object.create, Object.defineProperty)\n        return function() {\n          with(__figma_scope_factory__()) {\n            let __figma_scope_factory__\n            return (function() {\n              \"use strict\"\n              return eval(arguments[0])\n            }).call(this, arguments[0])\n          }\n        }.bind(arguments[0])\n      })(this)\n    "),new a.CppVmConsoleAPI(l,u,()=>this._isDestroyed);for(const e of t.undefinedProperties)l.definePropStr(l.global,e,{value:l.undefined,enumerable:!1});l.onAbort=(()=>{this._abortHandler((new Error).stack||"")})}static load(){return n(this,void 0,void 0,function*(){l=yield o.loadCppVm()})}get null(){return this._failIfDestroyed(),l.null}get undefined(){return this._failIfDestroyed(),l.undefined}get global(){return this._failIfDestroyed(),l.global}typeof(e){return this._failIfDestroyed(),l.typeof(e)}isNumber(e){return this._failIfDestroyed(),l.isNumber(e)}isBoolean(e){return this._failIfDestroyed(),l.isBoolean(e)}isString(e){return this._failIfDestroyed(),l.isString(e)}isNull(e){return this._failIfDestroyed(),l.isNull(e)}isUndefined(e){return this._failIfDestroyed(),l.isUndefined(e)}isObject(e){return this._failIfDestroyed(),l.isObject(e)}isArray(e){return this._failIfDestroyed(),l.isArray(e)}isUint8Array(e){return this._failIfDestroyed(),l.isUint8Array(e)}isFunction(e){return this._failIfDestroyed(),l.isFunction(e)}shallowFreezeObject(e){this._failIfDestroyed(),l.shallowFreezeObject(e)}getNumber(e){return this._failIfDestroyed(),l.getNumber(e)}getBoolean(e){return this._failIfDestroyed(),l.getBoolean(e)}getString(e){return this._failIfDestroyed(),l.getString(e)}getUint8Array(e){return this._failIfDestroyed(),l.getUint8Array(e)}toNumber(e){return this._failIfDestroyed(),l.toNumber(e)}toBoolean(e){return this._failIfDestroyed(),l.toBoolean(e)}toString(e){return this._failIfDestroyed(),l.toString(e)}newNumber(e){if(this._failIfDestroyed(),"number"!=typeof e)throw new Error("Value is not a number");return l.newNumber(e)}newBoolean(e){if(this._failIfDestroyed(),"boolean"!=typeof e)throw new Error("Value is not a boolean");return l.newBoolean(e)}newString(e){if(this._failIfDestroyed(),"string"!=typeof e)throw new Error("Value is not a string");return l.newString(e)}newObject(e){return this._failIfDestroyed(),l.newObject(e)}newArray(){return this._failIfDestroyed(),l.newArray()}newUint8Array(e){if(this._failIfDestroyed(),"[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return l.newUint8Array(e);throw new Error("Value is not an Uint8Array")}newFunction(e,t){if(this._failIfDestroyed(),"function"!=typeof t)throw new Error("Value is not a function");return l.newFunction(e,t)}newPromise(){this._failIfDestroyed();const e=l.callFunction(this._promiseFactory,l.null,[]),t=l.getPropStr(e,"resolve"),r=l.getPropStr(e,"reject");let n=!1;function i(){n||(n=!0,l.releaseHandle(t),l.releaseHandle(r))}return l.retainHandle(t),l.retainHandle(r),{promise:l.getPropStr(e,"promise"),resolve:e=>{n||(l.callFunction(t,l.null,[e]),i())},reject:e=>{n||(l.callFunction(r,l.null,[e]),i())}}}getKeys(e){return this._failIfDestroyed(),l.getOwnKeys(e)}getProp(e,t){return this._failIfDestroyed(),l.getPropStr(e,t)}setProp(e,t,r){this._failIfDestroyed(),l.setPropStr(e,t,r)}defineProp(e,t,r){this._failIfDestroyed(),l.definePropStr(e,t,r)}isEqual(e,t){return this._failIfDestroyed(),l.isEqual(e,t)}callFunction(e,t,...r){this._failIfDestroyed();try{return this._executionDepth++,{type:"SUCCESS",handle:l.callFunction(e,t,r)}}catch(n){if(n instanceof i.VmError){try{u.error(n.message+"\n"+l.toString(l.getPropStr(n.handle,"stack")))}catch(o){u.error(n)}return 1===this._executionDepth&&this._errorHandler(n),{type:"FAILURE",error:n}}throw n}finally{this._executionDepth--}}evalCodeInternal(e){this._failIfDestroyed();try{return this._executionDepth++,{type:"SUCCESS",handle:l.evalCode(e)}}catch(t){if(t instanceof i.VmError){try{u.error(t.message+"\n"+l.toString(l.getPropStr(t.handle,"stack")))}catch(r){u.error(t)}return 1===this._executionDepth&&this._errorHandler(t),{type:"FAILURE",error:t}}throw t}finally{this._executionDepth--}}evalCode(e){return s.rejectImportExpressions(e),this.evalCodeInternal(`eval(${JSON.stringify(e)})`)}evalTopLevelCode(e){return s.rejectImportExpressions(e),this.evalCodeInternal(`(function() { "use strict"; ${e} }).call(this)`)}setAbortHandler(e){this._abortHandler=e}setErrorHandler(e){this._errorHandler=e}destroy(){this._isDestroyed||(c===this&&(c=null),l.reset(),this._isDestroyed=!0)}isDestroyed(){return this._isDestroyed}_failIfDestroyed(){if(this._isDestroyed)throw new Error("This VM has been destroyed")}retainHandle(e){l.retainHandle(e)}releaseHandle(e){l.releaseHandle(e)}}}),
(function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(314           ),a=r(317            ),i=r(321         );t.VM_DESTROYED_ERROR="Attempted access to object created in plugin, but the plugin has already been closed";class s extends Error{constructor(e,t){let r="The plugin threw an error that could not be converted to a string";try{r="string"==typeof e?e:e.toString(t).replace(/^Error: /,"")}catch(n){}super(r),this.handle=t,Object.setPrototypeOf(this,s.prototype)}}function c(e){const t=new e;return t.getBooleanProp=((e,r)=>t.toBoolean(t.getProp(e,r))),t.getNumberProp=((e,r)=>t.toNumber(t.getProp(e,r))),t.getStringProp=((e,r)=>t.toString(t.getProp(e,r))),t.setBooleanProp=((e,r,n)=>t.setProp(e,r,t.newBoolean(n))),t.setNumberProp=((e,r,n)=>t.setProp(e,r,t.newNumber(n))),t.setStringProp=((e,r,n)=>t.setProp(e,r,t.newString(n))),t.callMethod=((e,r,...n)=>t.callFunction(t.getProp(e,r),e,...n)),t.deepWrap=(e=>{switch(typeof e){case"undefined":return t.undefined;case"boolean":return t.newBoolean(e);case"number":return t.newNumber(e);case"string":return t.newString(e);case"object":if(null===e)return t.null;if(e instanceof Array){const r=t.newArray(),n=e.length;for(let o=0;o<n;o++)t.setProp(r,o.toString(),t.deepWrap(e[o]));return r}if(e instanceof Uint8Array)return t.newUint8Array(e);{const r=t.newObject();for(const n in e)t.setProp(r,n,t.deepWrap(e[n]));return r}default:throw new Error(`Cannot wrap ${typeof e}`)}}),t.deepUnwrap=(e=>{switch(t.typeof(e)){case"undefined":return;case"boolean":return t.toBoolean(e);case"number":return t.toNumber(e);case"string":return t.toString(e);case"object":if(t.isNull(e))return null;if(t.isArray(e)){const r=[],n=t.getNumberProp(e,"length");for(let o=0;o<n;o++)r.push(t.deepUnwrap(t.getProp(e,o.toString())));return r}if(t.isUint8Array(e))return t.getUint8Array(e);{const r={};for(const n of t.getKeys(e))r[n]=t.deepUnwrap(t.getProp(e,n));return r}default:throw new Error(`Cannot unwrap ${t.typeof(e)}`)}}),t.deepFreezeObject=(e=>{if(t.isObject(e))for(const r of t.getKeys(e))t.deepFreezeObject(t.getProp(e,r));t.shallowFreezeObject(e)}),t.defineFunction=((e,r,n)=>{t.defineProp(e,r,{enumerable:!1,value:t.newFunction(r,n)})}),t.registerPromise=function(e){return new Promise((r,n)=>{e.then(e=>{t.isDestroyed()||r(e)},e=>{t.isDestroyed()||n(e)})})},t}t.VmError=s,t.createNoOpJavascriptVm=function(){return c(o.NoOpJavascriptVm)},t.createRealmsVm=function(){return c(a.RealmsVm)};let u=!1;t.createCppVm=function(){return n(this,void 0,void 0,function*(){return u||(yield i.CppVm.load(),u=!0),c(i.CppVm)})}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(322     ),o=r(208        );class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}function a(e){return Object.defineProperty(e,"isOptional",{enumerable:!0,get:function(){return{type:"optional",__schema:this}}}),e}t.PropValidationError=i;const s={type:"number",min:function(e){return a(Object.assign(Object.assign({},this),{__min:e}))},max:function(e){return a(Object.assign(Object.assign({},this),{__max:e}))},range:function(e,t){return a(Object.assign(Object.assign({},this),{__min:e,__max:t}))}};function c(e,t,r,n){const a=e.typeof(t);function s(){return new i(`Expected "${n}" to have type ${f(r)} but got ${function(e,t){const r=e.typeof(t);if("object"===r){if(e.isArray(t))return"array";if(e.isNull(t))return"null"}else if("number"===r){const r=e.getNumber(t);if(isNaN(r))return"NaN";if(r===1/0||r===-1/0)return"Infinity"}return r}(e,t)} instead`)}if("string"==typeof r){if(e.isString(t)&&r===e.getString(t))return r;throw s()}if("number"==typeof r){if(e.isNumber(t)&&r===e.getNumber(t))return r;throw s()}if("boolean"==typeof r){if(e.isBoolean(t)&&r===e.getBoolean(t))return r;throw s()}if(null===r){if(e.isNull(t))return r;throw s()}if(void 0===r){if(e.isUndefined(t))return r;throw s()}switch(r.type){case"optional":if("undefined"===a)return;return c(e,t,r.__schema,n);case"oneOf":if(r.__primaryField){const o=`${n}.${r.__primaryField}`;if(!e.isObject(t))throw new i(`Expected "${n}" to be an object`);let a=null;for(const n of r.__options){const s=n;try{c(e,e.getProp(t,r.__primaryField),s.__shape[r.__primaryField],o),a=n;break}catch(u){if(!(u instanceof i))throw u}}if(a)return c(e,t,a,n);throw new i(`Expected "${o}" to be one of the allowed values for this property`)}{let o=[];for(const s of r.__options)try{return c(e,t,s,n)}catch(u){if(u instanceof i){o.push(u.message);continue}throw u}const a=o.map(e=>e.split("\n").map(e=>"  "+e).join("\n"));throw new i(`Expected "${n}" to be one of the following, but none matched: \n`+a.join("\n"))}case"boolean":if("boolean"!==a)throw s();return e.getBoolean(t);case"uint8array":if(!e.isUint8Array(t))throw s();return e.getUint8Array(t);case"number":{if("number"!==a)throw s();const o=e.getNumber(t);if(!isFinite(o))throw s();if(null!=r.__min&&o<r.__min)throw new i(`Expected "${n}" to have value >= ${r.__min}`);if(null!=r.__max&&o>r.__max)throw new i(`Expected "${n}" to have value <= ${r.__max}`);if(null!=r.__requireInteger&&(0|o)!==o)throw new i(`Expected "${n}" to be an integer`);return o}case"string":if("string"!==a)throw s();return e.getString(t);case"any":if("undefined"===a||e.isNull(t))throw s();return e.deepUnwrap(t);case"array":{if(!e.isArray(t))throw s();const o=[],i=e.getNumberProp(t,"length");for(let a=0;a<i;a++)o.push(c(e,e.getProp(t,a.toString()),r.__contentType,n+`.[${a}]`));return o}case"dictionary":{if(!e.isObject(t)||e.isArray(t))throw s();const o={};for(const i of e.getKeys(t))o[i]=c(e,e.getProp(t,i),r.__contentType,n+`["${i}"]`);return o}case"exact":{if(!e.isObject(t))throw s();const o={},a=Object.keys(r.__shape);for(const i of a){const a=r.__shape[i];o[i]=c(e,e.getProp(t,i),a,n+"."+i)}for(const s of e.getKeys(t))if(-1===a.indexOf(s))throw new i(`Expected "${n}" to have type ${f(r)} but got additional property "${s}"`);return o}default:o.assertNever(r)}}t.PropTypes={bool:a({type:"boolean"}),string:a({type:"string"}),uint8Array:a({type:"uint8array"}),any:a({type:"any"}),arrayOf:e=>a({type:"array",__contentType:e}),dictionaryOf:e=>a({type:"dictionary",__contentType:e}),exact:e=>a({type:"exact",__shape:e}),oneOf:(e,t)=>{if(t)for(const r of e){if("exact"!==r.type)throw new Error("All variants of a PropTypes.oneOf with a primaryField must be PropTypes.exact");if(!r.__shape[t])throw new Error("All variants of a PropTypes.oneOf with a primaryField must contain the primary field")}return a({type:"oneOf",__options:e,__primaryField:t})},float:a(s),integer:a(Object.assign(Object.assign({},s),{__requireInteger:!0}))},t.deepValidateAndUnwrap=c;const u=50;function f(e){return function e(t,r){if(r>u)return"[...(recursive type definition)...]";if("string"==typeof t)return`"${t}"`;if("number"==typeof t)return`${t}`;if("boolean"==typeof t)return`${t}`;if(null===t)return"null";if(void 0===t)return"undefined";switch(t.type){case"optional":return`(optional) ${e(t.__schema,r+1)}`;case"oneOf":return`oneOf(${t.__options.map(t=>e(t,r+1)).join(", ")})`;case"boolean":return"boolean";case"uint8array":return"Uint8Array";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`[array of ${e(t.__contentType,r+1)}]`;case"dictionary":return`{object with values of type ${e(t.__contentType,r+1)}}`;case"exact":return`{${Object.keys(t.__shape).map(n=>n+": "+e(t.__shape[n],r+1)).join(", ")}}`}}(e,0)}t.addDefaults=function(e,t){let r=Object.assign({},e);for(let n in t)void 0===e[n]&&(r[n]=t[n]);return r},t.expensiveValidateWithSchemaOrThrow=function(e,t,r){const o=n.createNoOpJavascriptVm();try{c(o,o.deepWrap(e),t,r)}catch(i){throw i}finally{o.destroy()}}}),
(function(o,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=p(323                );e.ZeroToOne=r.PropTypes.float.range(0,1),e.PositiveFloat=r.PropTypes.float.min(0),e.NonZeroPositiveFloat=r.PropTypes.float.min(.01),e.PositiveInteger=r.PropTypes.integer.min(0),e.Color=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1)}),e.ColorA=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1),a:r.PropTypes.float.range(0,1)});const t=r.PropTypes.exact({0:r.PropTypes.float,1:r.PropTypes.float,2:r.PropTypes.float});e.Matrix=r.PropTypes.exact({0:t,1:t}),e.Vector=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float}),e.BlendMode=r.PropTypes.oneOf(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),e.BooleanOperation=r.PropTypes.oneOf(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),e.ConstraintType=r.PropTypes.oneOf(["MIN","CENTER","MAX","STRETCH","SCALE"]),e.StrokeAlign=r.PropTypes.oneOf(["CENTER","INSIDE","OUTSIDE"]),e.StrokeCap=r.PropTypes.oneOf(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]),e.StrokeJoin=r.PropTypes.oneOf(["MITER","BEVEL","ROUND"]),e.HandleMirroring=r.PropTypes.oneOf(["NONE","ANGLE","ANGLE_AND_LENGTH"]),e.Constraints=r.PropTypes.exact({horizontal:e.ConstraintType,vertical:e.ConstraintType});const s=r.PropTypes.oneOf(["PIXELS","PERCENT"]);e.LetterSpacing=r.PropTypes.exact({value:r.PropTypes.float,unit:s}),e.LineHeight=r.PropTypes.oneOf([r.PropTypes.exact({value:r.PropTypes.float,unit:s}),r.PropTypes.exact({unit:"AUTO"})],"unit"),e.TextAlignHorizontal=r.PropTypes.oneOf(["LEFT","CENTER","RIGHT","JUSTIFIED"]),e.TextAlignVertical=r.PropTypes.oneOf(["TOP","CENTER","BOTTOM"]),e.TextCase=r.PropTypes.oneOf(["ORIGINAL","UPPER","LOWER","TITLE","SMALL_CAPS","SMALL_CAPS_FORCED"]),e.TextDecoration=r.PropTypes.oneOf(["NONE","UNDERLINE","STRIKETHROUGH"]),e.TextAutoResize=r.PropTypes.oneOf(["NONE","WIDTH_AND_HEIGHT","HEIGHT"]),e.OverflowDirection=r.PropTypes.oneOf(["NONE","HORIZONTAL","VERTICAL","BOTH"]),e.LayoutAlign=r.PropTypes.oneOf(["MIN","CENTER","MAX"]),e.LayoutMode=r.PropTypes.oneOf(["NONE","HORIZONTAL","VERTICAL"]),e.CounterAxisSizingMode=r.PropTypes.oneOf(["FIXED","AUTO"]),e.LayoutGrids=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:r.PropTypes.oneOf(["MIN","MAX"]),gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([e.PositiveInteger,1/0]),sectionSize:r.PropTypes.float.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"STRETCH",gutterSize:r.PropTypes.float,count:e.PositiveInteger,offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"CENTER",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([e.PositiveInteger,1/0]),sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:"GRID",sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional})]));const i=r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["INNER_SHADOW","DROP_SHADOW"]),offset:e.Vector,color:e.ColorA,blendMode:e.BlendMode,radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool}),r.PropTypes.exact({type:r.PropTypes.oneOf(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool})],"type");e.Effects=r.PropTypes.arrayOf(i);const n=r.PropTypes.exact({position:e.ZeroToOne,color:e.ColorA}),a=r.PropTypes.exact({exposure:r.PropTypes.float.range(-1,1).isOptional,contrast:r.PropTypes.float.range(-1,1).isOptional,saturation:r.PropTypes.float.range(-1,1).isOptional,temperature:r.PropTypes.float.range(-1,1).isOptional,tint:r.PropTypes.float.range(-1,1).isOptional,highlights:r.PropTypes.float.range(-1,1).isOptional,shadows:r.PropTypes.float.range(-1,1).isOptional});e.Paint=r.PropTypes.oneOf([r.PropTypes.exact({type:"SOLID",color:e.Color,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional}),r.PropTypes.exact({type:r.PropTypes.oneOf(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:e.Matrix,gradientStops:r.PropTypes.arrayOf(n),visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional}),r.PropTypes.exact({type:"IMAGE",scaleMode:r.PropTypes.oneOf(["FILL","FIT","CROP","TILE"]),imageHash:r.PropTypes.string,scalingFactor:e.PositiveFloat.isOptional,imageTransform:e.Matrix.isOptional,filters:a.isOptional,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional,blendMode:e.BlendMode.isOptional})],"type"),e.Paints=r.PropTypes.arrayOf(e.Paint),e.FontName=r.PropTypes.exact({family:r.PropTypes.string,style:r.PropTypes.string});const T=r.PropTypes.exact({axis:r.PropTypes.oneOf(["X","Y"]),offset:r.PropTypes.float});e.Guides=r.PropTypes.arrayOf(T),e.ArcData=r.PropTypes.exact({startingAngle:r.PropTypes.float,endingAngle:r.PropTypes.float,innerRadius:e.ZeroToOne});const y=r.PropTypes.oneOf(["NONZERO","EVENODD"]),P=r.PropTypes.exact({windingRule:r.PropTypes.oneOf([y,"NONE"]),data:r.PropTypes.string});e.VectorPaths=r.PropTypes.arrayOf(P);const l=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float,strokeCap:e.StrokeCap.isOptional,strokeJoin:e.StrokeJoin.isOptional,cornerRadius:e.PositiveFloat.isOptional,handleMirroring:e.HandleMirroring.isOptional}),O=r.PropTypes.exact({start:e.PositiveInteger,end:e.PositiveInteger,tangentStart:e.Vector.isOptional,tangentEnd:e.Vector.isOptional}),f=r.PropTypes.exact({windingRule:y,loops:r.PropTypes.arrayOf(r.PropTypes.arrayOf(e.PositiveInteger))});e.VectorNetwork=r.PropTypes.exact({vertices:r.PropTypes.arrayOf(l),segments:r.PropTypes.arrayOf(O),regions:r.PropTypes.arrayOf(f).isOptional}),e.ExportSetting=r.PropTypes.oneOf([r.PropTypes.exact({format:r.PropTypes.oneOf(["PNG","JPG"]),contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,constraint:r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["SCALE"]),value:r.PropTypes.float}),r.PropTypes.exact({type:r.PropTypes.oneOf(["WIDTH","HEIGHT"]),value:r.PropTypes.integer})]).isOptional}),r.PropTypes.exact({format:"PDF",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional}),r.PropTypes.exact({format:"SVG",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,svgOutlineText:r.PropTypes.bool.isOptional,svgIdAttribute:r.PropTypes.bool.isOptional,svgSimplifyStroke:r.PropTypes.bool.isOptional})],"format"),e.ExportSettings=r.PropTypes.arrayOf(e.ExportSetting);const c=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({command:r.PropTypes.string,name:r.PropTypes.string}),r.PropTypes.exact({separator:!0}),r.PropTypes.exact({name:r.PropTypes.string,get menu(){return c}})]));e.ManifestSchema=r.PropTypes.exact({id:r.PropTypes.string.isOptional,name:r.PropTypes.string,api:r.PropTypes.string,main:r.PropTypes.string,ui:r.PropTypes.string.isOptional,build:r.PropTypes.string.isOptional,enableProposedApi:r.PropTypes.bool.isOptional,menu:c.isOptional,relaunchButtons:r.PropTypes.arrayOf(r.PropTypes.exact({command:r.PropTypes.string,name:r.PropTypes.string,multipleSelection:r.PropTypes.bool.isOptional})).isOptional}),e.ShowVisualBellOptions=r.PropTypes.exact({timeout:r.PropTypes.float.isOptional}),e.RelaunchData=r.PropTypes.dictionaryOf(r.PropTypes.string)}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.figmaDTS=function(n){function e(e){return n.plugin_enable_unstable_api?e:""}return`// Figma Plugin API version 1, update ${n.plugin_enable_unstable_api?"12":"11"}\n\ndeclare global {\n// Global variable with Figma's plugin API.\nconst figma: PluginAPI\nconst __html__: string\n\ninterface PluginAPI {\n  readonly apiVersion: "1.0.0"\n  readonly command: string\n  readonly viewport: ViewportAPI\n  closePlugin(message?: string): void\n\n  notify(message: string, options?: NotificationOptions): NotificationHandler\n\n  showUI(html: string, options?: ShowUIOptions): void\n  readonly ui: UIAPI\n\n  readonly clientStorage: ClientStorageAPI\n\n  getNodeById(id: string): BaseNode | null\n  getStyleById(id: string): BaseStyle | null\n\n  readonly root: DocumentNode\n  currentPage: PageNode\n\n  on(type: "selectionchange" | "currentpagechange" | "close", callback: () => void): void\n  once(type: "selectionchange" | "currentpagechange" | "close", callback: () => void): void\n  off(type: "selectionchange" | "currentpagechange" | "close", callback: () => void): void\n\n  readonly mixed: unique symbol\n\n  createRectangle(): RectangleNode\n  createLine(): LineNode\n  createEllipse(): EllipseNode\n  createPolygon(): PolygonNode\n  createStar(): StarNode\n  createVector(): VectorNode\n  createText(): TextNode\n  createFrame(): FrameNode\n  createComponent(): ComponentNode\n  createPage(): PageNode\n  createSlice(): SliceNode\n  /**\n   * [DEPRECATED]: This API often fails to create a valid boolean operation. Use figma.union, figma.subtract, figma.intersect and figma.exclude instead.\n   */\n  createBooleanOperation(): BooleanOperationNode\n\n  createPaintStyle(): PaintStyle\n  createTextStyle(): TextStyle\n  createEffectStyle(): EffectStyle\n  createGridStyle(): GridStyle\n\n  // The styles are returned in the same order as displayed in the UI. Only\n  // local styles are returned. Never styles from team library.\n  getLocalPaintStyles(): PaintStyle[]\n  getLocalTextStyles(): TextStyle[]\n  getLocalEffectStyles(): EffectStyle[]\n  getLocalGridStyles(): GridStyle[]\n\n  importComponentByKeyAsync(key: string): Promise<ComponentNode>\n  importStyleByKeyAsync(key: string): Promise<BaseStyle>\n\n  listAvailableFontsAsync(): Promise<Font[]>\n  loadFontAsync(fontName: FontName): Promise<void>\n  readonly hasMissingFont: boolean\n\n  createNodeFromSvg(svg: string): FrameNode\n\n  createImage(data: Uint8Array): Image\n  getImageByHash(hash: string): Image\n\n  group(nodes: ReadonlyArray<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): GroupNode\n  flatten(nodes: ReadonlyArray<BaseNode>, parent?: BaseNode & ChildrenMixin, index?: number): VectorNode\n\n  union(nodes: ReadonlyArray<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): BooleanOperationNode\n  subtract(nodes: ReadonlyArray<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): BooleanOperationNode\n  intersect(nodes: ReadonlyArray<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): BooleanOperationNode\n  exclude(nodes: ReadonlyArray<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): BooleanOperationNode\n}\n\ninterface ClientStorageAPI {\n  getAsync(key: string): Promise<any | undefined>\n  setAsync(key: string, value: any): Promise<void>\n}\n\ninterface NotificationOptions {\n  timeout?: number\n}\n\ninterface NotificationHandler {\n  cancel: () => void\n}\n\ninterface ShowUIOptions {\n  visible?: boolean\n  width?: number\n  height?: number\n}\n\ninterface UIPostMessageOptions {\n  origin?: string\n}\n\ninterface OnMessageProperties {\n  origin: string\n}\n\ntype MessageEventHandler = (pluginMessage: any, props: OnMessageProperties) => void\n\ninterface UIAPI {\n  show(): void\n  hide(): void\n  resize(width: number, height: number): void\n  close(): void\n\n  postMessage(pluginMessage: any, options?: UIPostMessageOptions): void\n  onmessage: MessageEventHandler | undefined\n  on(type: "message", callback: MessageEventHandler): void\n  once(type: "message", callback: MessageEventHandler): void\n  off(type: "message", callback: MessageEventHandler): void\n}\n\ninterface ViewportAPI {\n  center: Vector\n  zoom: number\n  scrollAndZoomIntoView(nodes: ReadonlyArray<BaseNode>): void\n  readonly bounds: Rect\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Datatypes\n\ntype Transform = [\n  [number, number, number],\n  [number, number, number]\n]\n\ninterface Vector {\n  readonly x: number\n  readonly y: number\n}\n\ninterface Rect {\n  readonly x: number\n  readonly y: number\n  readonly width: number\n  readonly height: number\n}\n\ninterface RGB {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n}\n\ninterface RGBA {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n  readonly a: number\n}\n\ninterface FontName {\n  readonly family: string\n  readonly style: string\n}\n\ntype TextCase = "ORIGINAL" | "UPPER" | "LOWER" | "TITLE"\n\ntype TextDecoration = "NONE" | "UNDERLINE" | "STRIKETHROUGH"\n\ninterface ArcData {\n  readonly startingAngle: number\n  readonly endingAngle: number\n  readonly innerRadius: number\n}\n\ninterface ShadowEffect {\n  readonly type: "DROP_SHADOW" | "INNER_SHADOW"\n  readonly color: RGBA\n  readonly offset: Vector\n  readonly radius: number\n  readonly visible: boolean\n  readonly blendMode: BlendMode\n}\n\ninterface BlurEffect {\n  readonly type: "LAYER_BLUR" | "BACKGROUND_BLUR"\n  readonly radius: number\n  readonly visible: boolean\n}\n\ntype Effect = ShadowEffect | BlurEffect\n\ntype ConstraintType = "MIN" | "CENTER" | "MAX" | "STRETCH" | "SCALE"\n\ninterface Constraints {\n  readonly horizontal: ConstraintType\n  readonly vertical: ConstraintType\n}\n\ninterface ColorStop {\n  readonly position: number\n  readonly color: RGBA\n}\n\ninterface ImageFilters {\n  readonly exposure?: number\n  readonly contrast?: number\n  readonly saturation?: number\n  readonly temperature?: number\n  readonly tint?: number\n  readonly highlights?: number\n  readonly shadows?: number\n}\n\ninterface SolidPaint {\n  readonly type: "SOLID"\n  readonly color: RGB\n\n  readonly visible?: boolean\n  readonly opacity?: number\n  readonly blendMode?: BlendMode\n}\n\ninterface GradientPaint {\n  readonly type: "GRADIENT_LINEAR" | "GRADIENT_RADIAL" | "GRADIENT_ANGULAR" | "GRADIENT_DIAMOND"\n  readonly gradientTransform: Transform\n  readonly gradientStops: ReadonlyArray<ColorStop>\n\n  readonly visible?: boolean\n  readonly opacity?: number\n  readonly blendMode?: BlendMode\n}\n\ninterface ImagePaint {\n  readonly type: "IMAGE"\n  readonly scaleMode: "FILL" | "FIT" | "CROP" | "TILE"\n  readonly imageHash: string | null\n  readonly imageTransform?: Transform // setting for "CROP"\n  readonly scalingFactor?: number // setting for "TILE"\n  readonly filters?: ImageFilters\n\n  readonly visible?: boolean\n  readonly opacity?: number\n  readonly blendMode?: BlendMode\n}\n\ntype Paint = SolidPaint | GradientPaint | ImagePaint\n\ninterface Guide {\n  readonly axis: "X" | "Y"\n  readonly offset: number\n}\n\ninterface RowsColsLayoutGrid {\n  readonly pattern: "ROWS" | "COLUMNS"\n  readonly alignment: "MIN" | "MAX" | "STRETCH" | "CENTER"\n  readonly gutterSize: number\n\n  readonly count: number        // Infinity when "Auto" is set in the UI\n  readonly sectionSize?: number // Not set for alignment: "STRETCH"\n  readonly offset?: number      // Not set for alignment: "CENTER"\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ninterface GridLayoutGrid {\n  readonly pattern: "GRID"\n  readonly sectionSize: number\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ntype LayoutGrid = RowsColsLayoutGrid | GridLayoutGrid\n\ninterface ExportSettingsConstraints {\n  readonly type: "SCALE" | "WIDTH" | "HEIGHT"\n  readonly value: number\n}\n\ninterface ExportSettingsImage {\n  readonly format: "JPG" | "PNG"\n  readonly contentsOnly?: boolean    // defaults to true\n  readonly suffix?: string\n  readonly constraint?: ExportSettingsConstraints\n}\n\ninterface ExportSettingsSVG {\n  readonly format: "SVG"\n  readonly contentsOnly?: boolean    // defaults to true\n  readonly suffix?: string\n  readonly svgOutlineText?: boolean  // defaults to true\n  readonly svgIdAttribute?: boolean  // defaults to false\n  readonly svgSimplifyStroke?: boolean // defaults to true\n}\n\ninterface ExportSettingsPDF {\n  readonly format: "PDF"\n  readonly contentsOnly?: boolean    // defaults to true\n  readonly suffix?: string\n}\n\ntype ExportSettings = ExportSettingsImage | ExportSettingsSVG | ExportSettingsPDF\n\ntype WindingRule = "NONZERO" | "EVENODD"\n\ninterface VectorVertex {\n  readonly x: number\n  readonly y: number\n  readonly strokeCap?: StrokeCap\n  readonly strokeJoin?: StrokeJoin\n  readonly cornerRadius?: number\n  readonly handleMirroring?: HandleMirroring\n}\n\ninterface VectorSegment {\n  readonly start: number\n  readonly end: number\n  readonly tangentStart?: Vector  // Defaults to { x: 0, y: 0 }\n  readonly tangentEnd?: Vector  // Defaults to { x: 0, y: 0 }\n}\n\ninterface VectorRegion {\n  readonly windingRule: WindingRule\n  readonly loops: ReadonlyArray<ReadonlyArray<number>>\n}\n\ninterface VectorNetwork {\n  readonly vertices: ReadonlyArray<VectorVertex>\n  readonly segments: ReadonlyArray<VectorSegment>\n  readonly regions?: ReadonlyArray<VectorRegion> // Defaults to []\n}\n\ninterface VectorPath {\n  readonly windingRule: WindingRule | "NONE"\n  readonly data: string\n}\n\ntype VectorPaths = ReadonlyArray<VectorPath>\n\ninterface LetterSpacing {\n  readonly value: number\n  readonly unit: "PIXELS" | "PERCENT"\n}\n\ntype LineHeight = {\n  readonly value: number\n  readonly unit: "PIXELS" | "PERCENT"\n} | {\n  readonly unit: "AUTO"\n}\n\ntype BlendMode =\n  "PASS_THROUGH" |\n  "NORMAL" |\n  "DARKEN" |\n  "MULTIPLY" |\n  "LINEAR_BURN" |\n  "COLOR_BURN" |\n  "LIGHTEN" |\n  "SCREEN" |\n  "LINEAR_DODGE" |\n  "COLOR_DODGE" |\n  "OVERLAY" |\n  "SOFT_LIGHT" |\n  "HARD_LIGHT" |\n  "DIFFERENCE" |\n  "EXCLUSION" |\n  "HUE" |\n  "SATURATION" |\n  "COLOR" |\n  "LUMINOSITY"\n\ninterface Font {\n  fontName: FontName\n}\n\ntype Reaction = { action: Action, trigger: Trigger }\n\ntype Action =\n  { readonly type: "BACK" | "CLOSE" } |\n  { readonly type: "URL", url: string } |\n  { readonly type: "NODE"\n    readonly destinationId: string | null\n    readonly navigation: Navigation\n    readonly transition: Transition | null\n    readonly preserveScrollPosition: boolean\n\n    // Only present if navigation == "OVERLAY" and the destination uses\n    // overlay position type "RELATIVE"\n    readonly overlayRelativePosition?: Vector\n  }\n\ninterface SimpleTransition {\n  readonly type: "DISSOLVE" | "SMART_ANIMATE"\n  readonly easing: Easing\n  readonly duration: number\n}\n\ninterface DirectionalTransition {\n  readonly type: "MOVE_IN" | "MOVE_OUT" | "PUSH" | "SLIDE_IN" | "SLIDE_OUT"\n  readonly direction: "LEFT" | "RIGHT" | "TOP" | "BOTTOM"\n  readonly matchLayers: boolean\n\n  readonly easing: Easing\n  readonly duration: number\n}\n\ntype Transition = SimpleTransition | DirectionalTransition\n\ntype Trigger =\n  { readonly type: "ON_CLICK" | "ON_HOVER" | "ON_PRESS" | "ON_DRAG" } |\n  { readonly type: "AFTER_TIMEOUT", readonly timeout: number } |\n  { readonly type: "MOUSE_ENTER" | "MOUSE_LEAVE" | "MOUSE_UP" | "MOUSE_DOWN"\n    readonly delay: number\n  }\n\ntype Navigation = "NAVIGATE" | "SWAP" | "OVERLAY"\n\ninterface Easing {\n  readonly type: "EASE_IN" | "EASE_OUT" | "EASE_IN_AND_OUT" | "LINEAR"\n}\n\ntype OverflowDirection = "NONE" | "HORIZONTAL" | "VERTICAL" | "BOTH"\n\ntype OverlayPositionType = "CENTER" | "TOP_LEFT" | "TOP_CENTER" | "TOP_RIGHT" | "BOTTOM_LEFT" | "BOTTOM_CENTER" | "BOTTOM_RIGHT" | "MANUAL"\n\ntype OverlayBackground =\n  { readonly type: "NONE" } |\n  { readonly type: "SOLID_COLOR", readonly color: RGBA }\n\ntype OverlayBackgroundInteraction = "NONE" | "CLOSE_ON_CLICK_OUTSIDE"\n\n////////////////////////////////////////////////////////////////////////////////\n// Mixins\n\ninterface BaseNodeMixin {\n  readonly id: string\n  readonly parent: (BaseNode & ChildrenMixin) | null\n  name: string // Note: setting this also sets \`autoRename\` to false on TextNodes\n  readonly removed: boolean\n  toString(): string\n  remove(): void\n\n  getPluginData(key: string): string\n  setPluginData(key: string, value: string): void\n\n  // Namespace is a string that must be at least 3 alphanumeric characters, and should\n  // be a name related to your plugin. Other plugins will be able to read this data.\n  getSharedPluginData(namespace: string, key: string): string\n  setSharedPluginData(namespace: string, key: string, value: string): void\n}\n\ninterface SceneNodeMixin {\n  visible: boolean\n  locked: boolean\n}\n\ninterface ChildrenMixin {\n  readonly children: ReadonlyArray<SceneNode>\n\n  appendChild(child: SceneNode): void\n  insertChild(index: number, child: SceneNode): void\n\n  findChildren(callback?: (node: SceneNode) => boolean): SceneNode[]\n  findChild(callback: (node: SceneNode) => boolean): SceneNode | null\n\n  /**\n   * If you only need to search immediate children, it is much faster\n   * to call node.children.filter(callback)${e(" or node.findChildren(callback)")}\n   */\n  findAll(callback?: (node: SceneNode) => boolean): SceneNode[]\n\n  /**\n   * If you only need to search immediate children, it is much faster\n   * to call node.children.find(callback)${e(" or node.findChild(callback)")}\n   */\n  findOne(callback: (node: SceneNode) => boolean): SceneNode | null\n}\n\ninterface ConstraintMixin {\n  constraints: Constraints\n}\n\ninterface LayoutMixin {\n  readonly absoluteTransform: Transform\n  relativeTransform: Transform\n  x: number\n  y: number\n  rotation: number // In degrees\n\n  readonly width: number\n  readonly height: number\n  constrainProportions: boolean\n\n  layoutAlign: "MIN" | "CENTER" | "MAX" // applicable only inside auto-layout frames\n\n  resize(width: number, height: number): void\n  resizeWithoutConstraints(width: number, height: number): void\n}\n\ninterface BlendMixin {\n  opacity: number\n  blendMode: BlendMode\n  isMask: boolean\n  effects: ReadonlyArray<Effect>\n  effectStyleId: string\n}\n\ninterface ContainerMixin {\n  expanded: boolean\n  backgrounds: ReadonlyArray<Paint> // DEPRECATED: use 'fills' instead\n  layoutGrids: ReadonlyArray<LayoutGrid>\n  clipsContent: boolean\n  guides: ReadonlyArray<Guide>\n  gridStyleId: string\n  backgroundStyleId: string // DEPRECATED: use 'fillStyleId' instead\n}\n\ntype StrokeCap = "NONE" | "ROUND" | "SQUARE" | "ARROW_LINES" | "ARROW_EQUILATERAL"\ntype StrokeJoin = "MITER" | "BEVEL" | "ROUND"\ntype HandleMirroring = "NONE" | "ANGLE" | "ANGLE_AND_LENGTH"\n\ninterface GeometryMixin {\n  fills: ReadonlyArray<Paint> | PluginAPI['mixed']\n  strokes: ReadonlyArray<Paint>\n  strokeWeight: number\n  strokeMiterLimit: number\n  strokeAlign: "CENTER" | "INSIDE" | "OUTSIDE"\n  strokeCap: StrokeCap | PluginAPI['mixed']\n  strokeJoin: StrokeJoin | PluginAPI['mixed']\n  dashPattern: ReadonlyArray<number>\n  fillStyleId: string | PluginAPI['mixed']\n  strokeStyleId: string\n  outlineStroke(): VectorNode | null\n}\n\ninterface CornerMixin {\n  cornerRadius: number | PluginAPI['mixed']\n  cornerSmoothing: number\n}\n\ninterface RectangleCornerMixin {\n  topLeftRadius: number\n  topRightRadius: number\n  bottomLeftRadius: number\n  bottomRightRadius: number\n}\n\ninterface ExportMixin {\n  exportSettings: ReadonlyArray<ExportSettings>\n  exportAsync(settings?: ExportSettings): Promise<Uint8Array> // Defaults to PNG format\n}\n\ninterface RelaunchableMixin {\n${t="\n  /** PROPOSED API ONLY */\n",n.plugin_relaunch_api?"":t}  setRelaunchData(relaunchData: { [command: string]: /* description */ string }): void\n}\n\ninterface ReactionMixin {\n  readonly reactions: ReadonlyArray<Reaction>\n}\n\ninterface DefaultShapeMixin extends\n  BaseNodeMixin, SceneNodeMixin, ReactionMixin,\n  BlendMixin, GeometryMixin, LayoutMixin,\n  ExportMixin, RelaunchableMixin {\n}\n\ninterface DefaultFrameMixin extends\n  BaseNodeMixin, SceneNodeMixin, ReactionMixin,\n  ChildrenMixin, ContainerMixin,\n  GeometryMixin, CornerMixin, RectangleCornerMixin,\n  BlendMixin, ConstraintMixin, LayoutMixin,\n  ExportMixin, RelaunchableMixin {\n\n  layoutMode: "NONE" | "HORIZONTAL" | "VERTICAL"\n  counterAxisSizingMode: "FIXED" | "AUTO" // applicable only if layoutMode != "NONE"\n  horizontalPadding: number // applicable only if layoutMode != "NONE"\n  verticalPadding: number // applicable only if layoutMode != "NONE"\n  itemSpacing: number // applicable only if layoutMode != "NONE"\n\n  overflowDirection: OverflowDirection\n  numberOfFixedChildren: number\n\n  readonly overlayPositionType: OverlayPositionType\n  readonly overlayBackground: OverlayBackground\n  readonly overlayBackgroundInteraction: OverlayBackgroundInteraction\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Nodes\n\ninterface DocumentNode extends BaseNodeMixin {\n  readonly type: "DOCUMENT"\n\n  readonly children: ReadonlyArray<PageNode>\n\n  appendChild(child: PageNode): void\n  insertChild(index: number, child: PageNode): void\n  findChildren(callback?: (node: PageNode) => boolean): Array<PageNode>\n  findChild(callback: (node: PageNode) => boolean): PageNode | null\n\n  /**\n   * If you only need to search immediate children, it is much faster\n   * to call node.children.filter(callback)${e(" or node.findChildren(callback)")}\n   */\n  findAll(callback?: (node: PageNode | SceneNode) => boolean): Array<PageNode | SceneNode>\n\n  /**\n   * If you only need to search immediate children, it is much faster\n   * to call node.children.find(callback)${e(" or node.findChild(callback)")}\n   */\n  findOne(callback: (node: PageNode | SceneNode) => boolean): PageNode | SceneNode | null\n}\n\ninterface PageNode extends BaseNodeMixin, ChildrenMixin, ExportMixin, RelaunchableMixin {\n\n  readonly type: "PAGE"\n  clone(): PageNode\n\n  guides: ReadonlyArray<Guide>\n  selection: ReadonlyArray<SceneNode>\n\n  backgrounds: ReadonlyArray<Paint>\n\n  readonly prototypeStartNode: FrameNode | GroupNode | ComponentNode | InstanceNode | null\n}\n\ninterface FrameNode extends DefaultFrameMixin {\n  readonly type: "FRAME"\n  clone(): FrameNode\n}\n\ninterface GroupNode extends\n  BaseNodeMixin, SceneNodeMixin, ReactionMixin,\n  ChildrenMixin, ContainerMixin, BlendMixin,\n  LayoutMixin, ExportMixin, RelaunchableMixin {\n\n  readonly type: "GROUP"\n  clone(): GroupNode\n}\n\ninterface SliceNode extends\n  BaseNodeMixin, SceneNodeMixin, LayoutMixin,\n  ExportMixin, RelaunchableMixin {\n\n  readonly type: "SLICE"\n  clone(): SliceNode\n}\n\ninterface RectangleNode extends DefaultShapeMixin, ConstraintMixin, CornerMixin, RectangleCornerMixin {\n  readonly type: "RECTANGLE"\n  clone(): RectangleNode\n}\n\ninterface LineNode extends DefaultShapeMixin, ConstraintMixin {\n  readonly type: "LINE"\n  clone(): LineNode\n}\n\ninterface EllipseNode extends DefaultShapeMixin, ConstraintMixin, CornerMixin {\n  readonly type: "ELLIPSE"\n  clone(): EllipseNode\n  arcData: ArcData\n}\n\ninterface PolygonNode extends DefaultShapeMixin, ConstraintMixin, CornerMixin {\n  readonly type: "POLYGON"\n  clone(): PolygonNode\n  pointCount: number\n}\n\ninterface StarNode extends DefaultShapeMixin, ConstraintMixin, CornerMixin {\n  readonly type: "STAR"\n  clone(): StarNode\n  pointCount: number\n  innerRadius: number\n}\n\ninterface VectorNode extends DefaultShapeMixin, ConstraintMixin, CornerMixin {\n  readonly type: "VECTOR"\n  clone(): VectorNode\n  vectorNetwork: VectorNetwork\n  vectorPaths: VectorPaths\n  handleMirroring: HandleMirroring | PluginAPI['mixed']\n}\n\ninterface TextNode extends DefaultShapeMixin, ConstraintMixin {\n  readonly type: "TEXT"\n  clone(): TextNode\n  characters: string\n  readonly hasMissingFont: boolean\n  textAlignHorizontal: "LEFT" | "CENTER" | "RIGHT" | "JUSTIFIED"\n  textAlignVertical: "TOP" | "CENTER" | "BOTTOM"\n  textAutoResize: "NONE" | "WIDTH_AND_HEIGHT" | "HEIGHT"\n  paragraphIndent: number\n  paragraphSpacing: number\n  autoRename: boolean\n\n  textStyleId: string | PluginAPI['mixed']\n  fontSize: number | PluginAPI['mixed']\n  fontName: FontName | PluginAPI['mixed']\n  textCase: TextCase | PluginAPI['mixed']\n  textDecoration: TextDecoration | PluginAPI['mixed']\n  letterSpacing: LetterSpacing | PluginAPI['mixed']\n  lineHeight: LineHeight | PluginAPI['mixed']\n\n  getRangeFontSize(start: number, end: number): number | PluginAPI['mixed']\n  setRangeFontSize(start: number, end: number, value: number): void\n  getRangeFontName(start: number, end: number): FontName | PluginAPI['mixed']\n  setRangeFontName(start: number, end: number, value: FontName): void\n  getRangeTextCase(start: number, end: number): TextCase | PluginAPI['mixed']\n  setRangeTextCase(start: number, end: number, value: TextCase): void\n  getRangeTextDecoration(start: number, end: number): TextDecoration | PluginAPI['mixed']\n  setRangeTextDecoration(start: number, end: number, value: TextDecoration): void\n  getRangeLetterSpacing(start: number, end: number): LetterSpacing | PluginAPI['mixed']\n  setRangeLetterSpacing(start: number, end: number, value: LetterSpacing): void\n  getRangeLineHeight(start: number, end: number): LineHeight | PluginAPI['mixed']\n  setRangeLineHeight(start: number, end: number, value: LineHeight): void\n  getRangeFills(start: number, end: number): Paint[] | PluginAPI['mixed']\n  setRangeFills(start: number, end: number, value: Paint[]): void\n  getRangeTextStyleId(start: number, end: number): string | PluginAPI['mixed']\n  setRangeTextStyleId(start: number, end: number, value: string): void\n  getRangeFillStyleId(start: number, end: number): string | PluginAPI['mixed']\n  setRangeFillStyleId(start: number, end: number, value: string): void\n}\n\ninterface ComponentNode extends DefaultFrameMixin {\n  readonly type: "COMPONENT"\n  clone(): ComponentNode\n\n  createInstance(): InstanceNode\n  description: string\n  readonly remote: boolean\n  readonly key: string // The key to use with "importComponentByKeyAsync"\n}\n\ninterface InstanceNode extends DefaultFrameMixin  {\n  readonly type: "INSTANCE"\n  clone(): InstanceNode\n  masterComponent: ComponentNode\n  scaleFactor: number\n}\n\ninterface BooleanOperationNode extends DefaultShapeMixin, ChildrenMixin, CornerMixin {\n  readonly type: "BOOLEAN_OPERATION"\n  clone(): BooleanOperationNode\n  booleanOperation: "UNION" | "INTERSECT" | "SUBTRACT" | "EXCLUDE"\n\n  expanded: boolean\n}\n\ntype BaseNode =\n  DocumentNode |\n  PageNode |\n  SceneNode\n\ntype SceneNode =\n  SliceNode |\n  FrameNode |\n  GroupNode |\n  ComponentNode |\n  InstanceNode |\n  BooleanOperationNode |\n  VectorNode |\n  StarNode |\n  LineNode |\n  EllipseNode |\n  PolygonNode |\n  RectangleNode |\n  TextNode\n\ntype NodeType =\n  "DOCUMENT" |\n  "PAGE" |\n  "SLICE" |\n  "FRAME" |\n  "GROUP" |\n  "COMPONENT" |\n  "INSTANCE" |\n  "BOOLEAN_OPERATION" |\n  "VECTOR" |\n  "STAR" |\n  "LINE" |\n  "ELLIPSE" |\n  "POLYGON" |\n  "RECTANGLE" |\n  "TEXT"\n\n////////////////////////////////////////////////////////////////////////////////\n// Styles\ntype StyleType = "PAINT" | "TEXT" | "EFFECT" | "GRID"\n\ninterface BaseStyle {\n  readonly id: string\n  readonly type: StyleType\n  name: string\n  description: string\n  remote: boolean\n  readonly key: string // The key to use with "importStyleByKeyAsync"\n  remove(): void\n}\n\ninterface PaintStyle extends BaseStyle {\n  type: "PAINT"\n  paints: ReadonlyArray<Paint>\n}\n\ninterface TextStyle extends BaseStyle {\n  type: "TEXT"\n  fontSize: number\n  textDecoration: TextDecoration\n  fontName: FontName\n  letterSpacing: LetterSpacing\n  lineHeight: LineHeight\n  paragraphIndent: number\n  paragraphSpacing: number\n  textCase: TextCase\n}\n\ninterface EffectStyle extends BaseStyle {\n  type: "EFFECT"\n  effects: ReadonlyArray<Effect>\n}\n\ninterface GridStyle extends BaseStyle {\n  type: "GRID"\n  layoutGrids: ReadonlyArray<LayoutGrid>\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Other\n\ninterface Image {\n  readonly hash: string\n  getBytesAsync(): Promise<Uint8Array>\n}\n} // declare global\n\nexport {}\n`;var t}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(117              ),o=t(85                   ),s=t(325                                );function a(){return o.getFeatureFlags().plugin_enable_unstable_api}function r(){return o.getFeatureFlags().community_hub_publishing_flow}n.PLUGIN_VERSION_LATEST_STABLE="1.0.0",n.PLUGIN_VERSION_UNSTABLE="1.1.0",n.getAllowUnstable=a,n.supportsDesktopPluginsV4=function(){return i.desktopApp&&i.desktopApp.supportsLocalFileExtensionsAPIV4()},n.getVersionForNewPlugin=function(){return a()?n.PLUGIN_VERSION_UNSTABLE:n.PLUGIN_VERSION_LATEST_STABLE},n.getJsForNewPlugin=function(){return n.JS_FOR_NEW_PLUGIN},n.getTsForNewPlugin=function(){return n.TS_FOR_NEW_PLUGIN},n.getTsWithHtmlForNewPlugin=function(){return n.TS_WITH_HTML_FOR_NEW_PLUGIN},n.getHtmlForNewPlugin=function(){return n.HTML_FOR_NEW_PLUGIN},n.getFigmaDTSForNewPlugin=function(){return s.figmaDTS(o.getFeatureFlags())},n.JS_FOR_NEW_PLUGIN='// This shows the HTML page in "ui.html". UI is completely optional. Feel free\n// to delete this if you don\'t want your plugin to have any UI. In that case\n// you can just call methods directly on the "figma" object in your plugin.\nfigma.showUI(__html__);\n\n// Calls to "parent.postMessage" from within the HTML page will trigger this\n// callback. The callback will be passed the "pluginMessage" property of the\n// posted message.\nfigma.ui.onmessage = msg => {\n  // One way of distinguishing between different types of messages sent from\n  // your HTML page is to use an object with a "type" property like this.\n  if (msg.type === \'create-rectangles\') {\n    const nodes = [];\n    for (let i = 0; i < msg.count; i++) {\n      const rect = figma.createRectangle();\n      rect.x = i * 150;\n      rect.fills = [{type: \'SOLID\', color: {r: 1, g: 0.5, b: 0}}];\n      figma.currentPage.appendChild(rect);\n      nodes.push(rect);\n    }\n    figma.currentPage.selection = nodes;\n    figma.viewport.scrollAndZoomIntoView(nodes);\n  }\n\n  // Make sure to close the plugin when you\'re done. Otherwise the plugin will\n  // keep running, which shows the cancel button at the bottom of the screen.\n  figma.closePlugin();\n};\n',n.TYPESCRIPT_README_OLD='To get the TypeScript compiler working:\n\n1. Download Visual Studio Code if you haven\'t already: https://code.visualstudio.com/.\n2. Install the TypeScript compiler globally: `sudo npm install -g typescript`.\n3. Open this directory in Visual Studio Code.\n4. Compile TypeScript to JavaScript: Run the "Terminal > Run Build Task..." menu item,\n    then select "tsc: watch - tsconfig.json". You will have to do this again every time\n    you reopen Visual Studio Code.\n\nThat\'s it! Visual Studio Code will regenerate the JavaScript file every time you save.\n',n.TS_FOR_NEW_PLUGIN="// This plugin creates 5 rectangles on the screen.\nconst numberOfRectangles = 5\n\n// This file holds the main code for the plugins. It has access to the *document*.\n// You can access browser APIs such as the network by creating a UI which contains\n// a full browser environment (see documentation).\n\nconst nodes: SceneNode[] = [];\nfor (let i = 0; i < numberOfRectangles; i++) {\n  const rect = figma.createRectangle();\n  rect.x = i * 150;\n  rect.fills = [{type: 'SOLID', color: {r: 1, g: 0.5, b: 0}}];\n  figma.currentPage.appendChild(rect);\n  nodes.push(rect);\n}\nfigma.currentPage.selection = nodes;\nfigma.viewport.scrollAndZoomIntoView(nodes);\n\n// Make sure to close the plugin when you're done. Otherwise the plugin will\n// keep running, which shows the cancel button at the bottom of the screen.\nfigma.closePlugin();\n",n.TS_WITH_HTML_FOR_NEW_PLUGIN='// This plugin will open a modal to prompt the user to enter a number, and\n// it will then create that many rectangles on the screen.\n\n// This file holds the main code for the plugins. It has access to the *document*.\n// You can access browser APIs in the <script> tag inside "ui.html" which has a\n// full browser enviroment (see documentation).\n\n// This shows the HTML page in "ui.html".\nfigma.showUI(__html__);\n\n// Calls to "parent.postMessage" from within the HTML page will trigger this\n// callback. The callback will be passed the "pluginMessage" property of the\n// posted message.\nfigma.ui.onmessage = msg => {\n  // One way of distinguishing between different types of messages sent from\n  // your HTML page is to use an object with a "type" property like this.\n  if (msg.type === \'create-rectangles\') {\n    const nodes: SceneNode[] = [];\n    for (let i = 0; i < msg.count; i++) {\n      const rect = figma.createRectangle();\n      rect.x = i * 150;\n      rect.fills = [{type: \'SOLID\', color: {r: 1, g: 0.5, b: 0}}];\n      figma.currentPage.appendChild(rect);\n      nodes.push(rect);\n    }\n    figma.currentPage.selection = nodes;\n    figma.viewport.scrollAndZoomIntoView(nodes);\n  }\n\n  // Make sure to close the plugin when you\'re done. Otherwise the plugin will\n  // keep running, which shows the cancel button at the bottom of the screen.\n  figma.closePlugin();\n};\n',n.HTML_FOR_NEW_PLUGIN="<h2>Rectangle Creator</h2>\n<p>Count: <input id=\"count\" value=\"5\"></p>\n<button id=\"create\">Create</button>\n<button id=\"cancel\">Cancel</button>\n<script>\n\ndocument.getElementById('create').onclick = () => {\n  const textbox = document.getElementById('count');\n  const count = parseInt(textbox.value, 10);\n  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count } }, '*')\n}\n\ndocument.getElementById('cancel').onclick = () => {\n  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')\n}\n\n<\/script>\n",n.JAVASCRIPT_REDIRECT='throw new Error("This plugin template uses Typescript. Follow the instructions in `README.md` to generate `code.js`.")',n.TYPESCRIPT_README='This plugin template uses Typescript. If you are familiar with Javascript, Typescript will\nlook very familiar. In fact, valid Javascript code is already valid Typescript code.\n\nTypescript adds type annotations to variables. This allows code editors such as Visual Studio Code\nto provide information about the Figma API while you are writing code, as well as help catch bugs\nyou previously didn\'t notice.\n\nFor more information, visit https://www.typescriptlang.org/\n\nUsing Typescript requires a compiler to convert Typescript (code.ts) into Javascript (code.js)\nfor the browser to run.\n\nTo get the TypeScript compiler working:\n\n1. Download Visual Studio Code if you haven\'t already: https://code.visualstudio.com/.\n2. Install the TypeScript compiler globally: `sudo npm install -g typescript`.\n3. Open this directory in Visual Studio Code.\n4. Compile TypeScript to JavaScript: Run the "Terminal > Run Build Task..." menu item,\n    then select "tsc: watch - tsconfig.json". You will have to do this again every time\n    you reopen Visual Studio Code.\n\nThat\'s it! Visual Studio Code will regenerate the JavaScript file every time you save.\n',n.DEFAULT_TSCONFIG='{\n  "compilerOptions": {\n    "target": "es6"\n  }\n}\n',n.communityHubAdminEnabled=function(){return o.getFeatureFlags().community_hub_admin},n.communityHubFilePublishingEnabled=function(){return o.getFeatureFlags().community_hub_files},n.communityHubGAEnabled=function(){return o.getFeatureFlags().community_hub_ga},n.profileHandlesEnabled=function(){return o.getFeatureFlags().edit_profile_handles},n.communityHubNewPublishingFlowEnabled=r,n.communityHubImprovedThumbnailsEnabled=function(){return o.getFeatureFlags().community_hub_new_thumbnails},n.COVER_IMAGE_WIDTH=r()?1920:2048,n.COVER_IMAGE_HEIGHT=r()?960:1024}),
(function(e,n,t){"use strict";var s=this&&this.__awaiter||function(e,n,t,s){return new(t||(t=Promise))(function(c,i){function r(e){try{a(s.next(e))}catch(n){i(n)}}function o(e){try{a(s.throw(e))}catch(n){i(n)}}function a(e){var n;e.done?c(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(r,o)}a((s=s.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const c=t(124     );let i,r,o=new Map,a=0;function u(){return r||(r=function(){if(!i){const e="https://static.figma.com/scripts/esprima-4.0.1.min.js";(i=c.default.get(e,null,{raw:!0}).then(e=>e.response+"")).catch(()=>i=void 0)}return i}().then(e=>{const n=URL.createObjectURL(new Blob([e,"\n        onmessage = function(e) {\n          var id = e.data[0];\n          try {\n            esprima.parse(e.data[1]);\n            postMessage([id, { success: true }]);\n          } catch (e) {\n            e = {\n              index: e.index,\n              description: e.description,\n              column: e.column, // Annoyingly, this is non-enumerable\n              lineNumber: e.lineNumber\n            };\n            postMessage([id, { success: false, error: e }]);\n          }\n        };\n      "])),t=new Worker(n);return t.onmessage=(e=>{const[t,s]=e.data,c=o.get(t);void 0!==c&&(o.delete(t),c(s)),URL.revokeObjectURL(n)}),t})).catch(()=>r=void 0),r}n.prepareForSyntaxChecking=function(){u()},n.checkJavaScriptSyntax=function(e){return s(this,void 0,void 0,function*(){const n=yield u();return new Promise(t=>{const s=a++;return o.set(s,t),n.postMessage([s,e]),{success:!0}})})}}),
(function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function c(e){try{a(n.next(e))}catch(t){s(t)}}function h(e){try{a(n.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(c,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=i(124     ),s=i(121              ),c=i(327                                  );t.pluginCodeCache=new class{constructor(){this.forceRefresh=((e,t)=>n(this,void 0,void 0,function*(){if(!t.signed_code_url_v2)throw new Error("Invalid code download url");const i=new URL(t.signed_code_url_v2);let n="";const h=r.default.get(i.href,s.parse(i.search),{raw:!0}).then(({data:e})=>(n=e,c.checkJavaScriptSyntax(n))).then(t=>{if(!t.success)throw new Error("code is not valid javascript");return delete this.requestsInFlight[e],this.cache[e]=n,n}).catch(t=>{throw delete this.requestsInFlight[e],t});return this.requestsInFlight[e]=h,h})),this.getAndCache=(e=>{const t=this.getPluginVersionHash(e);return t?t in this.cache?Promise.resolve(this.cache[t]):t in this.requestsInFlight?this.requestsInFlight[t]:this.forceRefresh(t,e):Promise.resolve(null)}),this.clearCache=(()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)}),this.clearCache()}getPluginVersionHash(e){return e&&e.id&&e.plugin_id?`${e.plugin_id}:${e.id}`:null}}}),
(function(r,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=u(111            ),e=u(111                        ),i=u(313                       );t.isAuthorInScope=((r,t)=>r.roles.org?r.roles.org.id===t.currentOrgId:r.author_org?r.author_org.id===t.currentOrgId:r.author_team?r.author_team.id in t.teams:null==t.currentOrgId),t.pluginOrgEqualsOrgEntity=((r,t)=>{const u=(r.roles.org||r.roles.is_public&&r.author_org)&&!t,o=r.roles.is_public&&!r.author_org&&t,e=t&&(r.roles.org&&r.roles.org.id!==t||r.roles.is_public&&r.author_org&&r.author_org.id!==t);return!(u||o||e)}),t.isValidPluginRole=(r=>!0===r.is_public||null!=r.org),t.getDefaultRoleToPublishAsForPlugin=((r,u)=>t.isValidPluginRole(r.roles)&&t.pluginOrgEqualsOrgEntity(r,u)?r.roles.is_public||"pending_public"===r.approval_status?i.RoleToPublishAs.PUBLIC:i.RoleToPublishAs.ORG:u?r.approval_status||r.roles.is_public?i.RoleToPublishAs.PUBLIC:i.RoleToPublishAs.ORG:i.RoleToPublishAs.PUBLIC),t.getDefaultHubFilePublishingMetadataAuthor=((r,u,o)=>{const e=t.getAllowedAuthorsForHubFile(u,o);if(0===e.length)throw new Error("Called getDefaultHubFilePublishingMetadataAuthor when no valid author exists");return l(r,e)}),t.getDefaultPluginPublishingMetadataAuthor=((r,u,o)=>{const e=t.getAllowedAuthorsForPlugin(u,o);if(0===e.length)throw new Error("Called getDefaultPluginPublishingMetadataAuthor when no valid author exists");return l(r,e)});const l=(r,u)=>{var o;if(0===u.length)throw new Error("Called getDefaultPublishingMetadataAuthor when no valid author exists");const e=(null===(o=r)||void 0===o?void 0:o.id)&&Object.keys(r.versions).length>0?t.publishingMetadataAuthorFromHubResource(r):null;if(e&&u.some(r=>t.arePublishingMetadataAuthorsEqual(r,e)))return e;const i=u.find(t.isOrgAuthor);if(i)return i;const l=u.find(t.isTeamAuthor);return l||u[0]};t.arePublishingMetadataAuthorsEqual=((r,t)=>{const u=r.author_team_id||null,o=t.author_team_id||null,e=r.author_org_id||null,i=t.author_org_id||null;return u===o&&e===i}),t.publishingMetadataAuthorFromHubResource=(r=>{var t,u;return(null===(t=r.author_org)||void 0===t?void 0:t.id)?{author_org_id:r.author_org.id,author_team_id:null}:(null===(u=r.author_team)||void 0===u?void 0:u.id)?{author_team_id:r.author_team.id,author_org_id:null}:{author_org_id:null,author_team_id:null}}),t.isOrgAuthor=(r=>null!=r.author_org_id),t.isTeamAuthor=(r=>null!=r.author_team_id),t.isUserAuthor=(r=>null==r.author_team_id&&null==r.author_org_id),t.getAllowedAuthorsForHubFile=((r,t)=>{const u=[];if(!o.canEditFile(r.key,t))return[];if(t.currentOrgId){const i=t.orgById[t.currentOrgId];if(!i)return[];if(o.canAdminOrg(t.currentOrgId,t)&&u.push({author_org_id:t.currentOrgId,author_team_id:null}),r.team_id&&t.teams[r.team_id]){if("secret"===t.teams[r.team_id].org_access)return[];(i.public_links_banned?o.canAdminOrg(t.currentOrgId,t):e.canAdminTeam(r.team_id,t))&&u.push({author_org_id:null,author_team_id:r.team_id})}return u}return r.team_id?(e.canAdminTeam(r.team_id,t)&&u.push({author_org_id:null,author_team_id:r.team_id}),u.push({author_org_id:null,author_team_id:null}),u):[{author_org_id:null,author_team_id:null}]}),t.getAllowedAuthorsForPlugin=((r,t)=>{const u=[];return t.currentOrgId&&o.canAdminOrg(t.currentOrgId,t)&&u.push({author_org_id:t.currentOrgId,author_team_id:null}),Object.keys(t.teams).forEach(r=>{const o=t.teams[r];o&&"secret"!==o.org_access&&e.canAdminTeam(r,t)&&u.push({author_org_id:null,author_team_id:r})}),t.currentOrgId&&r!==i.RoleToPublishAs.ORG||u.push({author_org_id:null,author_team_id:null}),u})}),
(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(t){o(t)}}function l(e){try{a(r.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,l)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(117              ),o=n(124     ),s=n(164         ),l=n(233        ),a=n(313                       ),u=n(324                                       ),c=n(323                               ),g=n(326                             ),d=n(328                  ),p=n(213              ),m=n(329                                 ),f=n(122        ),h=n(211                            ),_=n(235                              );function b(e){c.expensiveValidateWithSchemaOrThrow(e,u.ManifestSchema,"manifest");const t=e;if(t.relaunchButtons){let e=new Set;if(t.relaunchButtons.forEach(t=>{if(e.has(t.command))throw new Error(`Expected "manifest.relaunchButtons" to have unique commands, but got more than one button with command: "${t.command}"`);e.add(t.command)}),1!==t.relaunchButtons.length)throw new Error('Expected "manifest.relaunchButtons" to have only one element (until multiple button support has been added)')}return t}function P(e,n){let r,i,o;if("error"in n)i={type:"LOAD",text:n.error};else try{o=JSON.parse(n.manifest)}catch(s){i={type:"PARSE",text:s.message}}if(!i)try{r=b(o)}catch(s){i={type:"VALIDATE",text:s.message}}return{plugin_id:r&&r.id||"",name:function(e,t){if(e)return e.name;if(t.lastKnownName)return t.lastKnownName;if(t.path){const e=t.path.split(/\/|\\/);return e.length>=2?e[e.length-2]:t.path}return"Error"}(r,n),manifest:r||t.emptyManifest,localFileId:e,localFilePath:n.path,error:i}}function v(e){return r(this,void 0,void 0,function*(){try{if(!i.desktopApp)throw Error("desktopApp not available");const r=yield i.desktopApp.getLocalFileExtensionManifest(e);return P(e,r)}catch(n){return{plugin_id:"",name:"Error",manifest:t.emptyManifest,localFileId:e,localFilePath:"",error:{type:"LOAD",text:n.message}}}})}function I(e,t){let n=JSON.stringify(t);const r=n.split(/(<!--|-->|\bimport)/g);return`const __html__ = ${n=r.map((e,t)=>1&t?e.slice(0,2)+'"+"'+e.slice(2):e).join("")};${e}`}t.getManifest=function(e){return r(this,void 0,void 0,function*(){let t=yield v(e);if(t.error)throw new Error(a.pluginErrorToString(t.error));return t.manifest})},t.validateManifestOrThrow=b,t.parseLocalPlugin=P,t.loadLocalPlugin=v,t.findLocalPluginByPluginId=function(e,t){for(const n in e)if(e[n].plugin_id===t)return e[n];return null},t.prefixCodeWithHTML=I,t.getLocalPluginCode=function(e){return r(this,void 0,void 0,function*(){let t;try{if(!i.desktopApp)throw Error("desktopApp not available");t=yield i.desktopApp.getLocalFileExtensionSource(e)}catch(r){throw new Error(`Unable to load code: ${r}`)}if(t.buildErrCode)throw new Error("Build error: "+t.stderr+"\nPath was: "+t.path);let n=t.source;return t.html&&(n=I(n,t.html)),n})},t.getFormattedDisplayString=function(e){return`${e.error?"⚠  ":""}${e.name}`},t.emptyManifest={id:"",name:"",api:"",main:""},t.emptyLocalPlugin={plugin_id:"",name:"empty",manifest:Object.assign({},t.emptyManifest),localFileId:0,localFilePath:""},t.emptyPluginVersion={id:"",plugin_id:"",manifest:Object.assign({},t.emptyManifest),name:"",version:"",release_notes:"",description:"",created_at:"",signed_icon_url:"",signed_cover_image_url:"",signed_code_url_v2:""},t.emptyPublishedPlugin={id:"",creator:{id:"",handle:"",img_url:""},versions:{},install_count:0,view_count:0,like_count:0,unpublished_at:null,approved_at:null,current_plugin_version_id:"",author_org:null,author_team:null,roles:{},realtime_token:"",support_contact:"",created_at:"",redirect_thumbnail_url:null,tags:[]};const y={name:"",releaseNotes:"",description:"",tags:_.getDefaultAutocompleteValue(),iconSrc:"",coverImageSrc:"",supportContact:"",iconImageError:null,coverImageError:null,author:{author_team_id:null,author_org_id:null}};function w(e,n){if(!e||!e.versions)return t.emptyPluginVersion;const r=null==n?e.current_plugin_version_id:n;return r&&e.versions[r]||t.emptyPluginVersion}function E(e,n){return e&&e.manifest.id&&n&&n[e.manifest.id]||t.emptyPublishedPlugin}function O(e,n){return p.getById(e,n,t.emptyPublishedPlugin)}function S(e,t){const n=e.roles.org&&e.roles.org.id===t,r=e.roles.is_public&&e.author_org&&e.author_org.id===t;return!(!n&&!r)}function A(e){const{org:t,user:n}=e.installedPlugins,r=Object.create(null);return M(Object.assign(Object.assign({},t),n),e.publishedPlugins).forEach(e=>{r[e.id]=w(e)}),r}t.getPluginVersion=w,t.getPublishedPluginForLocal=E,t.getPublishedPluginById=O,t.getVersionsSortedByCreatedAt=function(e){return Object.keys(e.versions).map(t=>e.versions[t]).sort((e,t)=>new Date(t.created_at).valueOf()-new Date(e.created_at).valueOf())},t.filterPublicPlugins=function(e){const t={};return Object.keys(e).forEach(n=>{e[n].roles.is_public&&(t[n]=e[n])}),t},t.filterFeaturedPlugins=function(e,t){return e&&t?Object.keys(t).sort((e,n)=>t[e].weight-t[n].weight).map(t=>e[t]).filter(e=>!!e):[]},t.filterOrgPlugins=function(e,t){const n={};return Object.keys(e).forEach(r=>{S(e[r],t)&&(n[r]=e[r])}),n},t.filterPublicOrgProfilePlugins=function(e,t){return Object.keys(e).reduce((n,r)=>{var i;const o=e[r];return o.roles.is_public&&(null===(i=o.author_org)||void 0===i?void 0:i.id)===t&&(n[r]=o),n},{})},t.filterTeamProfilePlugins=function(e,t){return Object.keys(e).reduce((n,r)=>{var i;const o=e[r];return o.roles.is_public&&(null===(i=o.author_team)||void 0===i?void 0:i.id)===t&&(n[r]=o),n},{})},t.filterPrivatePlugins=function(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];i.roles.org&&i.roles.org.id===t&&(n[i.id]=i)}),n},t.filterCurrentUserPlugins=function(e,t){const n={};return Object.keys(e).forEach(r=>{e[r].creator.id===t&&(n[r]=e[r])}),n},t.filterPublicUserProfilePlugins=function(e,t){return Object.keys(e).reduce((n,r)=>{const i=e[r];return!i.roles.is_public||i.creator.id!==t||i.author_org||i.author_team||(n[r]=e[r]),n},{})},t.pluginIsScopedToOrAuthoredByOrgId=S,t.pluginHasAnyOrgAffiliation=function(e){return!(!e.roles.is_public&&!e.roles.org||!e.roles.org&&!e.author_org)},t.getPluginsSortedByInstallCount=function(e){return Object.keys(e).sort((t,n)=>{const r=e[t].install_count||0;return(e[n].install_count||0)-r}).map(t=>e[t])},t.getPluginsSortedByRecency=function(e){return f.sortByCreatedAt(Object.keys(e).map(t=>w(e[t]))).map(t=>e[t.plugin_id])},t.pluginRoleChanged=function(e,t){return!!(!!e.roles.is_public!=!!t.is_public||e.roles.org&&!t.org||!e.roles.org&&t.org||e.roles.org&&t.org&&e.roles.org.id!==t.org.id)},t.validateCodeSize=function(e){if(!e)throw new Error("Code string cannot be empty");const t=s.encodeUTF8(e).length;if(t>p.CODE_UPLOAD_SIZE_LIMIT)throw new Error(`plugin code exceeds max size of ${Math.floor(p.CODE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return t},t.validateIconFile=function(e){if(!e)throw new Error("Icon image not found");if(["image/jpeg","image/png","image/svg+xml"].indexOf(e.type)<0)throw new Error("Icon image must be a jpeg, png, or svg");if(e.size>p.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Icon image exceeds max size of ${Math.floor(p.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size},t.validateCoverFile=function(e){if(!e)throw new Error("Artwork image not found");if(["image/jpeg","image/png","image/svg+xml","image/gif"].indexOf(e.type)<0)throw new Error("Artwork image must be a jpeg, png, svg, or gif");if(e.size>p.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Artwork image exceeds max size of ${Math.floor(p.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size},t.imageWithSrcLoaded=function(e){return new Promise((t,n)=>{const r=new Image;r.onload=(()=>t(r)),r.onerror=n,r.src=e})},t.bytesFromImageFile=function(e){return r(this,void 0,void 0,function*(){return new Promise((t,n)=>{const r=new FileReader;function i(e){"load"===e.type&&"string"!=typeof r.result&&r.result?t(r.result):n("Failed to load image")}r.addEventListener("load",i),r.addEventListener("loadend",i),e?r.readAsArrayBuffer(e):n("Failed to load image")})})},t.newPublishedPlugin=function(){return r(this,void 0,void 0,function*(){const e=(yield o.default.post("/api/plugins")).data.meta;if(!e.id)throw new Error("cannot generate plugin ID");return e})},t.isPluginInstalledForUser=((e,t)=>t&&t.user&&t.user[e]),t.isPluginInstalledForOrg=((e,t)=>t&&t.org&&t.org[e]),t.isPluginInstalled=((e,n)=>t.isPluginInstalledForOrg(e,n)||t.isPluginInstalledForUser(e,n)),t.getInstalledPluginVersions=A,t.cacheCodeForInstalledPlugins=function(e){const t=A(e);for(const n of Object.keys(t)){const e=t[n];d.pluginCodeCache.getAndCache(e).catch(e=>{console.log(e)})}},t.getNewRole=function(e,t){return t===a.RoleToPublishAs.ORG?e?{org:{id:e.id,name:e.name}}:(console.error("publishing a private plugin without a valid org entity."),null):{is_public:!0}},t.isEmptyPluginPublishingMetadata=function(e){const t=y;return e.name===t.name&&e.releaseNotes===t.releaseNotes&&e.supportContact===t.supportContact&&e.description===t.description&&e.iconSrc===t.iconSrc&&e.coverImageSrc===t.coverImageSrc&&null==e.iconBlob&&null==e.coverImageBlob&&null==e.author.author_org_id&&null==e.author.author_team_id},t.getDefaultPluginVersionMetadata=((e,t)=>{const n=e.localPlugins[t],r=n&&n.manifest,i=E(n,e.publishedPlugins),o=w(i),s=Object.assign(Object.assign({},_.getDefaultAutocompleteValue()),{tokens:(i.tags||[]).map(e=>({user:null,email:e,state:h.AutocompleteTokenState.OK}))}),l=y;return{name:o.name||r&&r.name||l.name,releaseNotes:l.releaseNotes,tags:s,supportContact:i.support_contact||l.supportContact,description:o.description||l.description,iconSrc:o.signed_icon_url||l.iconSrc,coverImageSrc:o.signed_cover_image_url||l.coverImageSrc,iconImageError:l.iconImageError,coverImageError:l.coverImageError,author:m.getDefaultPluginPublishingMetadataAuthor(i,m.getDefaultRoleToPublishAsForPlugin(i,e.currentOrgId),e)}});function M(e,t){return Object.keys(e).map(e=>t[e]).filter(e=>!!e)}function F(e,t,n){return!!g.communityHubAdminEnabled()||(!t||(!(!e.roles.org||e.roles.org.id!==t.id)||(!(!e.roles.is_public||!e.author_org||e.author_org.id!==t.id)||!!t.publicPluginsAllowed&&(!t.whitelistEnforced||e.id in n))))}t.StatCounter=class{constructor(){this._counters=new Map,this._hasResizedNodeWithMissingFont=!1}resizeNodeWithMissingFont(){this._hasResizedNodeWithMissingFont=!0}hasResizedNodeWithMissingFont(){return this._hasResizedNodeWithMissingFont}increment(e){const t=this._counters.get(e)||0;this._counters.set(e,t+1)}keys(){return[...this._counters.keys()]}},t.getPresentablePlugins=function(e,t){if(!e)return{};const n={};for(const r in e){const i=e[r];if(!w(i).id)continue;if(i.unpublished_at)continue;const o=i.roles.org&&i.roles.org.id;t&&o&&t!==o||(n[r]=i)}return n},t.getValidPublishedPluginsFromInstalledPlugins=M,t.validatePluginDeferredFieldErrors=function(e){if(!e)return{};const t={};return 0===p.trimString(e.name).length&&(t.name="Name must not be empty"),0===p.trimString(e.description).length&&(t.description="Description must not be empty"),0===p.trimString(e.supportContact).length&&(t.supportContact="Support contact must not be empty"),0===p.trimString(e.iconSrc).length&&(t.iconImageError="Icon must not be empty"),0===p.trimString(e.coverImageSrc).length&&(t.coverImageError="Artwork image must not be empty"),e.supportContact.length>0&&!l.isEmail(e.supportContact)&&!s.isUrl(e.supportContact)&&(t.supportContact="Support contact must be a valid email or URL"),t},t.validatePluginPublishForm=function(e){if(!e)return{};const t={};p.trimString(e.name).length>100&&(t.name="Name must be at most 100 characters long"),p.trimString(e.description).length>1e4&&(t.description="Description must be at most 10000 characters long"),p.trimString(e.releaseNotes).length>1e4&&(t.releaseNotes="Release notes must be at most 10000 characters long");let n=e.tags.tokens.map(e=>e.email);e.tags.inputValue&&(n=n.concat([e.tags.inputValue]));const r=p.validateTags(n);return r&&(t.tags=r),p.trimString(e.supportContact).length>100&&(t.supportContact="Support contact must be at most 100 characters long"),e.iconImageError&&(t.iconImageError=e.iconImageError),e.coverImageError&&(t.coverImageError=e.coverImageError),t},t.canInstallPluginForUser=F,t.canInstallPluginForOrg=function(e,t,n){return!(!t||!t.isAdmin||(!e.roles.org||e.roles.org.id!==t.id)&&(!e.roles.is_public||!e.author_org||e.author_org.id!==t.id)&&(!t.publicPluginsAllowed||t.whitelistEnforced&&!(e.id in n)))};const k=F;t.isPluginRunnable=function(e){const{plugin:n,publishedPlugins:r,orgEntity:i,whitelistedPlugins:o,installedPlugins:s}=e;if(a.isLocalPlugin(n))return!0;if(s&&!t.isPluginInstalled(n.plugin_id,s))return!1;const l=O(n.plugin_id,r);return k(l,i,o)},t.getRoleInfoForTracking=(e=>e.roles.is_public?{role:"public"}:e.roles.org?{role:"org",roleOrgId:e.roles.org.id}:{role:"private"}),t.getPluginIdFromShareUrl=function(e){const t=e.match(/\/c\/plugin\/(\d+)\/.*$/);return t&&t[1]?t[1]:null},t.orgHasAgreedToNewMSA=function(e){return!0===e.public_plugins_allowed||null===e.public_plugins_allowed},t.parsePublishedPlugin=function(e,t){const n=e.current_plugin_version_id;if(n&&(!e.versions||!e.versions[n]))throw new Error(`${t} Invalid publishedPlugin ${e.id}: version id ${n} does not exist in versions`);return e},t.mixedDescription=Symbol("mixedDescription"),t.getRelaunchDataMap=function(e){const n=e.map(e=>e.reverse().reduce((e,{pluginID:t,command:n,message:r})=>(t&&(e[t]={command:n||"",description:r||""}),e),{}));return 0===n.length?{}:n.reduce((e,n)=>{if(e===n)return e;for(const r in e){const i=e[r];if(r in n){const o=n[r];o.command!==i.command?delete e[r]:o.description!==i.description&&(i.description=t.mixedDescription)}else delete e[r]}return e},n[0])}}),
(function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HOME="",e.PROFILE="profile",e.SETTINGS="settings",e.LIBRARIES="libraries",e.PLUGINS="plugins"}(i.OrgViewTab||(i.OrgViewTab={}))}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.ORG="ORG",e.PROFILE="PROFILE",e.PLUGINS="PLUGINS",e.SETTINGS="SETTINGS"}(i.UserViewTab||(i.UserViewTab={}))}),
(function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(r,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function n(e){try{l(a.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,n)}l((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=i(124     ),o=i(98                  ),s=i(105                               ),n=i(312                             ),l=i(264                                  ),d=i(94                                   ),p=i(106                                     ),c=i(330                          ),u=i(331                        ),f=i(332                         ),g=i(115          ),_=i(210                               ),h=i(139                         ),m=i(213                          );function I(e,t){return Object.assign({type:e},t)}t.putPublicProfile=o.actionCreator("COMMUNITY_HUB_ADD_PUBLIC_PROFILE"),t.addLikedResources=o.actionCreator("COMMUNITY_HUB_ADD_LIKED_RESOURCES"),t.getPublicProfileById=s.asyncActionCreator("COMMUNITY_HUB_GET_PUBLIC_PROFILE",(e,i,a)=>{let o;o="userId"in i?r.default.get(`/api/user/${i.userId}/profile`):"orgId"in i?r.default.get(`/api/orgs/${i.orgId}/profile`):"teamId"in i?r.default.get(`/api/teams/${i.teamId}/profile`):Promise.reject("getPublicProfile: unknown type"),l.registerLoadingState(o,e,a),o.then(({data:a})=>{const r=I(m.getProfileType(i),a.meta);e.dispatch(t.putPublicProfile(r)),function(e,t){const{selectedView:i}=e;return"user"===i.view&&"userId"in t&&i.userId===t.userId&&i.userViewTab===f.UserViewTab.PROFILE||"org"===i.view&&"orgId"in t&&i.orgId===t.orgId&&i.orgViewTab===u.OrgViewTab.PROFILE||"team"===i.view&&"teamId"in t&&i.teamId===t.teamId&&i.teamViewTab===h.TeamViewTab.PROFILE}(e.getState(),i)&&e.dispatch(p.fileBrowser.selectView(e.getState().selectedView))}).catch(({data:t})=>{404!==t.status?e.dispatch(d.flash.error(`Error fetching profile information: ${t.message}`)):i.on404Behavior===n.On404Behavior.SHOW_404?g.redirect("/404"):i.on404Behavior===n.On404Behavior.REDIRECT_TO_INTERNAL_PROFILE&&("userId"in i?e.dispatch(p.fileBrowser.selectView({view:"user",userId:i.userId,userViewTab:f.UserViewTab.ORG})):"orgId"in i?e.dispatch(p.fileBrowser.selectView({view:"org",orgId:i.orgId,orgViewTab:u.OrgViewTab.HOME})):"teamId"in i&&e.dispatch(p.fileBrowser.selectView({view:"team",teamId:i.teamId,teamViewTab:h.TeamViewTab.HOME})))})},(e,t)=>`${e}_${m.getLoadingStateName(t)}`),t.getPublicProfileByHandle=s.asyncActionCreator("COMMUNITY_HUB_GET_PUBLIC_PROFILE_BY_HANDLE",(e,{handle:i},a)=>{const o=r.default.get(`/api/profile_handle/${i}`);l.registerLoadingState(o,e,a),o.then(({data:i})=>{const a=i.meta;"user_profile"in a?e.dispatch(t.putPublicProfile(Object.assign({type:_.ProfileType.USER},a.user_profile))):"org_profile"in a?e.dispatch(t.putPublicProfile(Object.assign({type:_.ProfileType.ORG},a.org_profile))):"team_profile"in a?e.dispatch(t.putPublicProfile(Object.assign({type:_.ProfileType.TEAM},a.team_profile))):console.error("getPublicProfileByHandle: unrecognized response")})},(e,{handle:t})=>`${e}_${t}`),t.updatePublicProfile=s.asyncActionCreator("COMMUNITY_HUB_UPDATE_PUBLIC_PROFILE",(e,i,a)=>{const{website:o,description:s,location:n}=i.payload;let p;p="userId"in i?r.default.put(`/api/user/${i.userId}/profile`,{website:o,description:s,location:n}):"orgId"in i?r.default.put(`/api/orgs/${i.orgId}/profile`,{website:o,description:s,location:n}):"teamId"in i?r.default.put(`/api/teams/${i.teamId}/profile`,{website:o,description:s,location:n}):Promise.reject("updatePublicProfile: unknown type"),l.registerLoadingState(p,e,a),p.then(({data:a})=>{const r=m.getProfileType(i);e.dispatch(t.putPublicProfile(I(r,a.meta)))}).catch(({data:t})=>{e.dispatch(d.flash.error(t.message))})},(e,t)=>`${e}_${m.getLoadingStateName(t)}`),t.changeProfileHandle=s.asyncActionCreator("COMMUNITY_HUB_CHANGE_PROFILE_HANDLE",(e,i,a)=>{let o;const s=i.profileHandle;o="userId"in i?r.default.put(`/api/user/${i.userId}/profile`,{profile_handle:s}):"orgId"in i?r.default.put(`/api/orgs/${i.orgId}/profile`,{profile_handle:s}):"teamId"in i?r.default.put(`/api/teams/${i.teamId}/profile`,{profile_handle:s}):Promise.reject("changePublicProfile: unknown type"),l.registerLoadingState(o,e,a),o.then(({data:a})=>{const r=m.getProfileType(i),o=I(r,a.meta);e.dispatch(t.putPublicProfile(o)),i.done(e),r===_.ProfileType.ORG?e.dispatch(d.flash.flash(`Your organization's profile handle was set to @${s}.`)):r===_.ProfileType.USER?e.dispatch(d.flash.flash(`Your profile handle was set to @${s}.`)):r===_.ProfileType.TEAM&&e.dispatch(d.flash.flash(`Your team's profile handle was set to @${s}.`))}).catch(()=>{e.dispatch(d.flash.error("This profile handle cannot be claimed at this time."))})},(e,t)=>`${e}_${m.getLoadingStateName(t)}_${t.profileHandle}`),t.uploadProfileCoverImage=s.asyncActionCreator("COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE",(e,i,o)=>{let s,n;"userId"in i?(s=`/api/user/${i.userId}/upload`,n=`/api/user/${i.userId}/profile`):"orgId"in i?(s=`/api/orgs/${i.orgId}/upload`,n=`/api/orgs/${i.orgId}/profile`):"teamId"in i&&(s=`/api/teams/${i.teamId}/upload`,n=`/api/teams/${i.teamId}/profile`);const p=c.bytesFromImageFile(i.file).then(e=>(function(e,t,i){if(!t)return Promise.resolve({cover_image_path:"",signature:""});return r.default.post(e).then(({data:e})=>e.meta).then(({cover_image_path:e,signature:o})=>a(this,void 0,void 0,function*(){return yield r.default.put(e,t,{raw:!0,headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":i})}),{cover_image_path:e,signature:o}}))})(s,e,i.file.type));l.registerLoadingState(p,e,o),p.then(({signature:e})=>r.default.put(n,{signature:e})).then(({data:a})=>{const r=I(m.getProfileType(i),a.meta);e.dispatch(t.putPublicProfile(r))}).catch(t=>{e.dispatch(d.flash.error(t?`An error occurred ${t}`:"An error occurred"))})},(e,t)=>`${e}_${m.getLoadingStateName(t)}`),t.initializeLikedResourceIdsForUser=s.asyncActionCreator("INITIALIZE_LIKED_RESOURCES",(e,i,a)=>{if(!e.getState().user)return;const o=r.default.get("/api/user/likes");l.registerLoadingState(o,e,a),o.then(({data:i})=>{if(i.meta&&i.meta.liked_hub_files&&i.meta.liked_plugins){const a={hubFiles:i.meta.liked_hub_files.reduce((e,t)=>(e[t]=!0,e),{}),plugins:i.meta.liked_plugins.reduce((e,t)=>(e[t]=!0,e),{})};e.dispatch(t.addLikedResources(a))}})},e=>e)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(111                        );function r(e,t,i=!1,r){let l=Object.assign({},e);if(!i)return l;for(let o in e)o in t.fileByKey&&(n.canManageFile(o,t,r)||delete l[o]);return l}function l(e,t){return!!t.fileByKey[e].trashed_at}t.isTrashed=l,t.getDeleteFilesPayload=function(e,t,i=!1){let n=r(e,t,i,!0),o={};for(let r in n)l(r,t)||(o[r]=t.fileByKey[r]);return o},t.getDeleteFilesForeverPayload=function(e,t,i=!1){let o=r(e,t,i,!0),f={};for(let n in o)l(n,t)&&(f[n]=!0);for(let r in e)null===t.fileByKey[r].folder_id&&n.canEditFile(r,t,!0)&&(f[r]=!0);return f},t.getRestoreFilesPayload=function(e,t,i=!1){let n=r(e,t,i,!0),o={};for(let r in n)r in t.fileByKey&&l(r,t)&&t.fileByKey[r].folder_id&&(o[r]=t.fileByKey[r]);return o},t.fileBackgroundColor=function(e){let t="transparent";if(e)try{let n=JSON.parse(e).background_color,r=n.a;0!=r&&(t=`rgba(${255*n.r|0}, ${255*n.g|0}, ${255*n.b|0}, ${r})`)}catch(i){}return t}}),
(function(l,e,s){l.exports={contactAdmins:"upsell_modals--contactAdmins--2LQT1",slackUpsell:"upsell_modals--slackUpsell--b4W_k",link:"upsell_modals--link--3xbaC blue_link--blueLink--22X56",team_name:"upsell_modals--team_name--2A-T8",title:"upsell_modals--title--3YBhw modal--title--1kOv4"}}),
(function(o,a,l){o.exports={modal:"team_modals-post--modal--2h6Rl",modalBar:"team_modals-post--modalBar--2eJrM",modalCloseX:"team_modals-post--modalCloseX--3YvRR",buttonRow:"team_modals-post--buttonRow--BB2J3",lockedTeamUsageModal:"team_modals-post--lockedTeamUsageModal--1RwKH"}}),
(function(l,o,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.293l4.789-4.79.707.708-4.79 4.79 4.79 4.789-.707.707-4.79-4.79-4.789 4.79-.707-.707L5.293 6 .502 1.211 1.21.504 6 5.294z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),i=a(124     ),o=a(95                      ),r=a(137                             ),l=a(129                                ),p=a(106                                     ),n=a(221                                    ),m=a(227                                 ),c=a(224                                            ),d=a(174                        ),h=a(228                              ),f=a(336                                                        ),u=a(94                                   ),g=a(337                           );class _ extends s.PureComponent{constructor(){super(...arguments),this.popModalStack=(()=>{this.props.dispatch(p.fileBrowser.popModalStack())}),this.hideModal=(()=>{this.props.dispatch(p.fileBrowser.hideModal())}),this.onClickSkip=(e=>{e.preventDefault(),this.hideModal(),null!=this.props.team&&this.props.dispatch(l.payment.startProUpgradeFlow({teamId:this.props.team.id,selectedView:this.props.selectedView||{view:"team",teamId:this.props.team.id}}))}),this.onClickStart=(e=>{e.preventDefault(),this.popModalStack(),null!=this.props.team&&i.default.post(`/api/teams/${this.props.team.id}/trial`).then(e=>{this.props.dispatch(r.team.put({team:e.data.meta,userInitiated:!1})),this.props.dispatch(u.flash.flash("You're now in a trial of the Professional plan"))}).catch(()=>{this.props.dispatch(u.flash.error("There was an error starting your trial. Please try again or contact support@figma.com"))})}),this.onClickClose=(e=>{e.preventDefault(),this.popModalStack()})}render(){const e=this.props.team;return null==e?null:s.createElement(n.TrackingContext,{name:`TeamTrialModal > ${this.props.name}`,properties:{teamId:e.id,initiatorRoleLevel:this.props.teamPermissionLevel}},s.createElement(m.Modal,{className:f.modal,size:"medium",dispatch:this.props.dispatch},s.createElement("div",{className:f.modalBar},s.createElement(d.Svg,{className:f.modalCloseX,svg:g,onClick:this.onClickClose})),s.createElement("h3",null,this.props.title),s.createElement("p",null,"Start a free 14-day trial of Professional and get:"),s.createElement("ul",null,s.createElement("li",null,"Unlimited projects and add editors as needed"),s.createElement("li",null,"Shared components and assets with Team Libraries"),s.createElement("li",null,"Unlimited version history")),this.props.message&&s.createElement("p",null,this.props.message),s.createElement("div",{className:`${h.buttonRow} ${f.buttonRow}`},s.createElement(c.ButtonWhiteTracked,{onClick:this.onClickSkip,trackingProperties:{teamId:e.id}},"Upgrade Now"),s.createElement(c.ButtonGreenTracked,{onClick:this.onClickStart,trackingProperties:{teamId:e.id}},"Start a free trial"))))}}t.TeamTrialModalImpl=_,_.displayName="TeamTrialModal",t.TeamTrialModal=o.connectToTeamTrials(_)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),o=t(129                                ),i=t(106                                     ),r=t(95                      ),l=t(111                        ),n=t(136                            ),d=t(227                                 ),c=t(224                                            ),m=t(228                              ),p=t(335                  ),E=t(221                                    ),h=t(338                                          ),u=t(229                                 );a.UPSELL_NEW_FOLDER_MODAL="UPSELL_NEW_FOLDER_MODAL",a.UPSELL_MOVE_FILE_MODAL="UPSELL_MOVE_FILE_MODAL",a.UPSELL_ADD_EDITOR_MODAL="UPSELL_ADD_EDITOR_MODAL",a.UPSELL_SLACK_MODAL="UPSELL_SLACK_MODAL",a.UPSELL_MOVE_FOLDER_SLACK_MODAL="UPSELL_MOVE_FOLDER_SLACK_MODAL",a.UPSELL_INVITE_ONLY_MODAL="UPSELL_INVITE_ONLY_MODAL",a.UPSELL_VIEW_ONLY_MODAL="UPSELL_VIEW_ONLY_MODAL",a.UPSELL_TRIAL_MODAL="UPSELL_TRIAL_MODAL",u.registerModal(a.UPSELL_NEW_FOLDER_MODAL,e=>s.createElement(g,Object.assign({},e))),u.registerModal(a.UPSELL_MOVE_FILE_MODAL,e=>s.createElement(M,Object.assign({},e))),u.registerModal(a.UPSELL_ADD_EDITOR_MODAL,e=>s.createElement(y,Object.assign({},e))),u.registerModal(a.UPSELL_SLACK_MODAL,e=>s.createElement(f,Object.assign({},e))),u.registerModal(a.UPSELL_TRIAL_MODAL,e=>s.createElement(h.TeamTrialModal,Object.assign({},e.modalShown.data))),u.registerModal(a.UPSELL_MOVE_FOLDER_SLACK_MODAL,e=>s.createElement(S,Object.assign({},e))),u.registerModal(a.UPSELL_INVITE_ONLY_MODAL,e=>s.createElement(O,Object.assign({},e))),u.registerModal(a.UPSELL_VIEW_ONLY_MODAL,e=>s.createElement(P,Object.assign({},e)));const L=e=>{const a=e.modalShown.data;return e.teams[a.teamId]};class _ extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.team=(()=>L(this.props)),this.upgrade=(()=>{this.closeModal(),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.team().id,selectedView:this.props.selectedView}))}),this.updatePayment=(()=>{this.closeModal(),this.props.dispatch(i.fileBrowser.selectView({view:"teamAdmin",teamId:this.team().id}))})}render(){const e=this.team(),a=!e.subscription,t=!a,o=l.canEditTeam(e.id,this.props),i=l.canAdminTeam(e.id,this.props),r=a?"Upgrade to Professional":"Update your payment";return s.createElement(d.Modal,{size:"small",dispatch:this.props.dispatch},s.createElement("div",{className:p.title},r),this.props.message,a&&s.createElement("div",null,s.createElement("br",null),s.createElement("a",{className:p.link,href:"/pricing",target:"_blank",rel:"noopener"},"Learn more about team plans"),!o&&s.createElement("div",{className:p.contactAdmins},"Contact an admin of ",s.createElement("span",{className:p.team_name},e.name)," to upgrade."),s.createElement("div",{className:m.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal,trackingProperties:{teamId:e.id}},"Cancel"),o&&s.createElement(c.ButtonLinkTracked,{className:m.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},"Upgrade"))),t&&s.createElement("div",null,!i&&s.createElement("div",{className:p.contactAdmins},"Contact an admin to update your payment source."),s.createElement("div",{className:m.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal,trackingProperties:{teamId:e.id}},"Cancel"),i&&s.createElement(c.ButtonLinkTracked,{className:m.confirmButton,onClick:this.updatePayment,trackingProperties:{teamId:e.id}},"Update payment"))))}}_.displayName="TeamUpsellModal";class M extends s.PureComponent{render(){const e=L(this.props);let a;if(e.subscription)a=`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and move files into this team.`;else{if(r.isTrialAvailableToStart(e)){const t="You have exceeded the limits of a free Starter team.";return a="Please upgrade to move files into this team.",s.createElement(h.TeamTrialModal,{name:M.displayName,teamId:e.id,title:t,message:a})}a=`${e.name} has exceeded the limits of a free Starter team. Please upgrade to move files into this team.`}return E.asTrackedElement(s.createElement(_,Object.assign({message:a},this.props)),M.displayName,{teamId:e.id})}}a.MoveFileUpsellModal=M,M.displayName="MoveFileUpsellModal";class g extends s.PureComponent{render(){const e=L(this.props);if(r.isTrialAvailableToStart(e)){const a=`Your Figma plan only allows ${r.MAX_FREE_FOLDERS} projects`;return s.createElement(h.TeamTrialModal,{name:g.displayName,teamId:e.id,title:a})}let a;return a=e.subscription?`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and create more projects.`:r.isTeamAtFolderLimit(e.id,this.props)?`${e.name} already has ${r.MAX_FREE_FOLDERS} projects, which is the maximum allowed to a Starter team. Please upgrade to create more projects.`:`${e.name} has exceeded the limits of a free Starter team. Please upgrade to continue editing files and creating projects.`,E.asTrackedElement(s.createElement(_,Object.assign({message:a},this.props)),g.displayName,{teamId:e.id})}}a.NewFolderUpsellModal=g,g.displayName="NewFolderUpsellModal";class y extends s.PureComponent{render(){const{teamId:e,invitesSent:a}=this.props.modalShown.data,t=this.props.teams[e],o=null==t?"your team":t.name;let i;if(t&&r.isTrialAvailableToStart(t)&&l.canEditTeam(t.id,this.props)){const e=`Your Figma plan only allows ${r.MAX_FREE_EDITORS} editors`;return i="Pending invites are limited to view-only access until the team is upgraded.",s.createElement(h.TeamTrialModal,{name:y.displayName,teamId:t.id,title:e,message:i})}return i=t&&t.subscription?s.createElement("div",null,o," is currently locked. Please update your payment source to unlock ",o," and modify team members."):s.createElement("div",null,"You've reached your plan's ",r.MAX_FREE_EDITORS," Editor limit. ",a&&a>1?"Some of the users":"The user"," you've invited will be granted view access, but they won't be able to edit.",s.createElement("br",null),s.createElement("br",null),"You may give them edit access later if you upgrade to the Professional plan or downgrade other Editors on your team to Viewers."),E.asTrackedElement(s.createElement(_,Object.assign({message:i},this.props)),y.displayName,{teamId:e})}}a.AddEditorUpsellModal=y,y.displayName="AddEditorUpsellModal";class f extends s.PureComponent{render(){const e=L(this.props);if(r.isTrialAvailableToStart(e)){const a="Slack integration is available only on the Professional plan";return s.createElement(h.TeamTrialModal,{name:f.displayName,teamId:e.id,title:a})}let a=s.createElement("div",{className:p.slackUpsell},"Upgrade to a Professional Team to take advantage of Slack Notification Integration. Get notifications in Slack when someone comments on a file, with channels configurable at the project level. ",s.createElement("a",{className:p.link,href:"https://help.figma.com/hc/en-us/articles/360039829154",target:"_blank",rel:"noopener"},"Learn more about our Slack integration."));return E.asTrackedElement(s.createElement(_,Object.assign({message:a},this.props)),f.displayName,{teamId:e&&e.id})}}a.SlackUpsellModal=f,f.displayName="SlackUpsellModal";class S extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){return s.createElement(E.TrackingContext,{name:S.displayName},s.createElement(d.Modal,{title:"Move to a Professional Team",size:"small",dispatch:this.props.dispatch},s.createElement("div",{className:p.slackUpsell},"Slack integration is a Professional Team feature. Move this project to a Professional Team to get Slack notifications for this project."),s.createElement("div",{className:m.buttonRow},s.createElement(c.ButtonPrimaryTracked,{onClick:this.closeModal},"Ok"))))}}a.SlackUpsellMoveFolderModal=S,S.displayName="SlackUpsellMoveFolderModal",a.showSlackSettingsOrUpsell=function(e,t,s){r.shouldRestrictProFeature(e)?s(e?i.fileBrowser.showModal({type:a.UPSELL_SLACK_MODAL,data:{teamId:e.id}}):i.fileBrowser.showModal({type:a.UPSELL_MOVE_FOLDER_SLACK_MODAL})):s(i.fileBrowser.showModal({type:n.FOLDER_SLACK_SETTINGS_MODAL,data:{folderId:t}}))};class O extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(i.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView}))})}render(){const e=L(this.props);if(r.isTrialAvailableToStart(e)){const a="Invite-only projects is available only on the Professional plan";return s.createElement(h.TeamTrialModal,{name:O.displayName,teamId:e.id,title:a})}const a=l.canEditTeam(e.id,this.props);return s.createElement(E.TrackingContext,{name:O.displayName,properties:{teamId:e.id}},s.createElement(d.Modal,{title:"Invite Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"Invite only projects are a Professional Team feature."," ",a&&`Upgrade ${e.name} to create an invite only project.`,!a&&"Contact a team admin to upgrade.",s.createElement("div",{className:m.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a&&s.createElement(c.ButtonPrimaryTracked,{className:m.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},`Upgrade ${e.name}`))))}}a.InviteOnlyUpsellModal=O,O.displayName="InviteOnlyUpsellModal";class P extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(i.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView}))})}render(){const e=L(this.props);if(r.isTrialAvailableToStart(e)){const a="View-only projects is available only on the Professional plan";return s.createElement(h.TeamTrialModal,{name:P.displayName,teamId:e.id,title:a})}const a=l.canEditTeam(e.id,this.props);return s.createElement(E.TrackingContext,{name:P.displayName,properties:{teamId:e.id}},s.createElement(d.Modal,{title:"View Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"View only projects are a Professional Team feature."," ",a&&`Upgrade ${e.name} to create a view only project.`,!a&&"Contact a team admin to upgrade.",s.createElement("div",{className:m.buttonRow},s.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a&&s.createElement(c.ButtonPrimaryTracked,{className:m.confirmButton,onClick:this.upgrade,trackingProperties:{teamId:e.id}},`Upgrade ${e.name}`))))}}a.ViewOnlyUpsellModal=P,P.displayName="ViewOnlyUpsellModal"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pxToInt=function(e){return parseInt(e.split("px")[0])}}),
(function(e,o,E){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.FOLDER_ROW=0]="FOLDER_ROW",e[e.NEW_FOLDER_TEAM=1]="NEW_FOLDER_TEAM"}(o.FolderRowType||(o.FolderRowType={}))}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(10,1   ),a=t(106                                     ),l=t(138                                   ),c=t(132                                  );s.USER_FOLDERS="USER_FOLDERS",s.USER_DRAFTS="USER_DRAFTS",s.fileMove=o.combineReducers({folderSearchQuery:function(e="",s){return c.fileMove.setFolderSearchQuery.matches(s)?s.payload.query:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?"":e},folderRenaming:function(e=null,s){return c.fileMove.startFolderRename.matches(s)?s.payload.folderId:c.fileMove.endFolderRename.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?null:e},focusedIndex:function(e=-1,s){return c.fileMove.incrementFocusedIndex.matches(s)?e===s.payload.upperBound-1?e:e+1:c.fileMove.decrementFocusedIndex.matches(s)?0===e||-1===e?e:e-1:c.fileMove.setFocusedIndexAt.matches(s)?s.payload.indexAt:c.fileMove.resetFocusedIndex.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?-1:e},indexCount:function(e=null,s){return c.fileMove.setIndexCount.matches(s)?s.payload.indexCount:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?null:e},indexOffsets:function(e={},s){return c.fileMove.setIndexOffsets.matches(s)?s.payload.indexOffsets:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?{}:e},folderRows:function(e=[],s){return c.fileMove.setFolderRows.matches(s)?s.payload.rows:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?[]:e},teamOrder:function(e=[],s){return c.fileMove.setTeamOrder.matches(s)?s.payload.teamIds:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?[]:e},foldersByTeamId:function(e={},s){return c.fileMove.setfoldersByTeamId.matches(s)?s.payload.foldersByTeamId:l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s)?{}:e},isSearchResult:function(e=!1,s){return c.fileMove.isSearchResult.matches(s)?s.payload.isSearchResult:!a.fileBrowser.hideModal.matches(s)&&e},isSearchFocused:function(e=!1,s){return c.fileMove.isSearchFocused.matches(s)?s.payload.isSearchFocused:!(a.fileBrowser.hideModal.matches(s)||c.fileMove.decrementFocusedIndex.matches(s)||c.fileMove.incrementFocusedIndex.matches(s))&&(!!c.fileMove.setFolderSearchQuery.matches(s)||e)},upDownKeyPressed:function(e=!1,s){return!(!c.fileMove.decrementFocusedIndex.matches(s)&&!c.fileMove.incrementFocusedIndex.matches(s))||!(c.fileMove.setKeyPressedToFalse.matches(s)||l.fullscreen.attemptClose.matches(s)||a.fileBrowser.hideModal.matches(s))&&e},canMouseFocus:function(e=!0,s){return c.fileMove.canMouseFocus.matches(s)?s.payload.canFocus:!(!l.fullscreen.attemptClose.matches(s)&&!a.fileBrowser.hideModal.matches(s))||e}})}),
(function(o,t,e){o.exports={dropdown:"dropdown--dropdown--35dH4 _overlayBase--_overlayBase--1sCqN",_optionBase:"dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",option:"dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHover:"dropdown--optionHover--hW-C9 dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"dropdown--optionDisabled--3N18M dropdown--option--20q-- dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",separator:"dropdown--separator--11K1o",updateBadge:"dropdown--updateBadge--3sGoO",checkableOption:"dropdown--checkableOption--2CE0H",check:"dropdown--check--3SFoQ"}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),i=t(343             ),r=t(172              ),p=t(174                        ),a=t(221                                    ),n=t(212      ),c=t(344                                  );!function(e){class s extends r.PureComponent{constructor(){super(...arguments),this.preventDefault=(e=>{e.preventDefault()}),this.stopPropagation=(e=>{e.stopPropagation()}),this.onClick=r.mouseEvent(this,"click",e=>{if(!this.props.onClick)return r.SKIP_RECORDING;this.props.onClick(e)})}render(){return o.createElement("div",{className:`${i.dropdown} ${this.props.className||""}`,onClick:this.onClick,onMouseDown:this.stopPropagation,onTouchStart:this.stopPropagation,onContextMenu:this.preventDefault,style:this.props.style},this.props.children)}}s.displayName="Dropdown",e.Dropdown=s;class t extends r.PureComponent{constructor(e){super(e),this.onDragStart=(e=>{e.preventDefault()}),this.onMouseOver=(e=>{this.setState({hover:!0}),this.props.href||(this.mouseOverTimestamp=Number(e.timeStamp))}),this.onMouseOut=(e=>{this.setState({hover:!1})}),this.onMouseUp=(e=>{if(!this.props.href&&Number(e.timeStamp)-this.mouseOverTimestamp>20){const s=e.target;null!=s.click&&(this.mouseUpTimer=setTimeout(s.click.bind(s),1))}}),this.onClick=r.mouseEvent(this,"click",e=>{n.shouldUseDefaultOpenBehavior(e)||(this.props.href||clearTimeout(this.mouseUpTimer),this.props.onClick&&this.props.onClick(e))}),this.state={hover:!1}}render(){const e=[this.props.disabled?i.optionDisabled:this.state.hover?i.optionHover:i.option,this.props.className||""].join(" ");return o.createElement("a",{id:this.props.id,className:e,href:this.props.href,target:this.props.target,rel:"noopener",onClick:this.props.disabled?void 0:this.onClick,onMouseUp:this.props.disabled?void 0:this.onMouseUp,onMouseOver:this.props.disabled?void 0:this.onMouseOver,onMouseOut:this.props.disabled?void 0:this.onMouseOut,onDragStart:this.onDragStart,"data-dropdown-tooltip":this.props.tooltip,"data-onboarding-key":this.props.onboardingKey},this.props.children)}}t.displayName="Option",e.Option=t;class h extends o.PureComponent{render(){let e=i.separator;return this.props.className&&(e+=` ${this.props.className}`),o.createElement("div",{className:e,style:this.props.style})}}h.displayName="Separator",e.Separator=h;class l extends o.PureComponent{render(){return o.createElement(t,Object.assign({},this.props,{className:this.props.className?`${i.checkableOption} ${this.props.className}`:i.checkableOption}),this.props.checked?o.createElement(p.Svg,{className:i.check,svg:c}):o.createElement("span",{className:i.check}),this.props.children)}}l.displayName="CheckableOption",e.CheckableOption=l,e.CheckableOptionTrackable=a.asTrackedClickable(l)}(s.dropdown||(s.dropdown={}))}),
(function(r,l,n){r.exports={clipContainer:"scroll_container--clipContainer--2PG4d",scrollContainer:"scroll_container--scrollContainer--1eEK2",innerScrollContainer:"scroll_container--innerScrollContainer--21gfN",noScrollContainer:"scroll_container--noScrollContainer--2jECL scroll_container--scrollContainer--1eEK2",track:"scroll_container--track--b26X_",trackDragging:"scroll_container--trackDragging--fouWu scroll_container--track--b26X_",scrollBar:"scroll_container--scrollBar--3faz-",scrollBarAlways:"scroll_container--scrollBarAlways--2r2hu scroll_container--scrollBar--3faz-"}}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(3,1    ),l=s(346                     ),r=s(86      ),i=s(172              );class n extends i.Component{constructor(t){super(t),this.MIN_SCROLLBAR_HEIGHT=42,this.scrollingTimeout=null,this.trackHeight=0,this.scrollHeight=0,this.scrollTop=0,this.overrideStack=[],this.scrollTo=(t=>{this.scrollContainer&&(this.scrollContainer.scrollTop=t)}),this.scrollToTop=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=0)}),this.scrollToBottom=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=this.scrollContainer.scrollHeight)}),this.getScrollTop=(()=>this.scrollContainer?this.scrollContainer.scrollTop:0),this.getScrollContent=(()=>this.scrollContent),this.getClipContainer=(()=>this.clipContainer),this.getScrollHeight=(()=>this.scrollHeight),this.getTrackHeight=(()=>this.trackHeight),this.refBottomSpacer=(t=>{t&&(this.bottomSpacer=t)}),this.setScrollContent=(t=>{t&&(this.scrollContent=t)}),this.setClipContainer=(t=>{t&&(this.clipContainer=t)}),this.setScrollContainer=(t=>{t&&(this.scrollContainer=t,this.props.initialScrollTop&&(this.scrollContainer.scrollTop=this.props.initialScrollTop),this.recomputeScrollbar())}),this.recalculateLayout=(()=>{this.scrollContainer&&(this.trackHeight=this.scrollContainer.clientHeight,this.scrollHeight=this.scrollContainer.scrollHeight,this.trackTop=this.scrollContainer.getBoundingClientRect().top)}),this.recomputeScrollTop=(()=>{this.scrollContainer&&(this.scrollTop=this.scrollContainer.scrollTop)}),this.onScroll=(t=>{this.recomputeScrollTop(),this.recomputeScrollbar(),this.props.onScroll&&this.props.onScroll(this.scrollTop,this.getStateSnapshot()),this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(()=>{this.scrollingTimeout=null},200)}),this.recomputeScrollbar=(()=>{if(this.scrollContainer){this.scrollingTimeout||this.recalculateLayout();const t=0===this.scrollHeight?0:Math.max(this.trackHeight*(this.trackHeight/this.scrollHeight),this.MIN_SCROLLBAR_HEIGHT),o=this.scrollHeight>this.trackHeight;let s=0;if(o){const o=this.scrollHeight-this.trackHeight;s=(this.trackHeight-t)*(this.scrollTop/o)}this.state.scrollbarTop===s&&this.state.scrollbarHeight===t||this.setState({scrollbarTop:s,scrollbarHeight:t,canScroll:o})}}),this.isDraggingScrollbar=(()=>null!=this.state.startDragScrollTop&&null!=this.state.startDragY),this.onScrollBarMouseDown=(t=>{t.stopPropagation(),t.preventDefault(),this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop})}),this.onTrackMouseDown=(t=>{t.stopPropagation(),t.preventDefault();const o=t.clientY-this.trackTop,s=Math.min(Math.max(0,o-this.state.scrollbarHeight/2),this.trackHeight)/this.trackHeight*this.scrollHeight;this.scrollContainer.scrollTop=s,this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop}),this.recomputeScrollbar()}),this.onTrackMouseWheel=(t=>{let o;!function(t){t[t.DOM_DELTA_PIXEL=0]="DOM_DELTA_PIXEL",t[t.DOM_DELTA_LINE=1]="DOM_DELTA_LINE",t[t.DOM_DELTA_PAGE=2]="DOM_DELTA_PAGE"}(o||(o={}));let s=0;t.deltaMode===o.DOM_DELTA_PIXEL?s=t.deltaY:t.deltaMode===o.DOM_DELTA_LINE?s=10*t.deltaY:t.deltaMode===o.DOM_DELTA_PAGE&&(s=100*t.deltaY),this.scrollContainer.scrollTop+=s}),this.onMouseMove=(t=>{this.isDraggingScrollbar()&&(this.nextClientY=t.clientY,r.safari?null==this.nextFrameRequested&&(this.nextFrameRequested=requestAnimationFrame(this.scrollByNextClientY)):this.scrollByNextClientY())}),this.nextFrameRequested=null,this.scrollByNextClientY=(()=>{const{startDragY:t,startDragScrollTop:o}=this.state;if(t&&o){const s=this.nextClientY-t,e=this.scrollHeight*(s/this.trackHeight);(s>0&&this.nextClientY>=this.trackTop||s<0&&this.nextClientY<=this.trackTop+this.trackHeight)&&(this.scrollContainer.scrollTop=o+e,this.recomputeScrollbar()),this.nextFrameRequested=null}}),this.onMouseUp=(t=>{this.setState({startDragScrollTop:void 0,startDragY:void 0})}),this.onMouseDown=i.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown&&this.props.onMouseDown(t)}),this.state={canScroll:!1,scrollbarTop:0,scrollbarHeight:0,bottomSpacerStyle:{display:"none",height:0}}}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}UNSAFE_componentWillUpdate(t,o){this.recomputeScrollbar(),this.props.onCanScrollChange&&this.state.canScroll!==o.canScroll&&this.props.onCanScrollChange(o.canScroll)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}pushStateSnapshot(){this.overrideStack.push(this.getStateSnapshot())}popStateSnapshot(){let t=this.overrideStack.pop();t&&0===this.overrideStack.length&&this.restoreStateSnapshot(t)}getStateSnapshot(){return{trackHeight:this.trackHeight,trackTop:this.trackTop,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,scrollContainerScrollTop:this.scrollContainer.scrollTop,scrollContainerScrollLeft:this.scrollContainer.scrollLeft,componentState:this.state}}restoreStateSnapshot(t){this.trackHeight=t.trackHeight,this.trackTop=t.trackTop,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollContainer.scrollTop=t.scrollContainerScrollTop,this.scrollContainer.scrollLeft=t.scrollContainerScrollLeft,this.setState(t.componentState)}getBottomSpace(){return this.state.bottomSpacerStyle?this.state.bottomSpacerStyle.height:0}setBottomSpace(t){if(!this.state.bottomSpacerStyle||t!==this.state.bottomSpacerStyle.height){const o=t<=0?"none":"block";this.bottomSpacer&&(this.bottomSpacer.style.height=`${t}px`,this.bottomSpacer.style.display=o),this.setState({bottomSpacerStyle:{height:t,display:o}})}}render(){const t={width:this.props.width,height:this.props.height},o={transform:`translate3d(0px, ${this.state.scrollbarTop}px, 0)`,height:this.state.scrollbarHeight};return e.createElement("div",{className:`${l.clipContainer} ${this.props.className||""}`,style:t,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown?this.onMouseDown:void 0,ref:this.setClipContainer},e.createElement("div",{ref:this.setScrollContainer,className:this.props.scrollingDisabled?l.noScrollContainer:l.scrollContainer,onScroll:this.onScroll},e.createElement("div",{className:l.innerScrollContainer,style:t,ref:this.setScrollContent},this.props.children,e.createElement("div",{ref:this.refBottomSpacer,style:this.state.bottomSpacerStyle}))),this.props.showScrollbar&&this.state.canScroll&&e.createElement("div",{className:this.isDraggingScrollbar()?l.trackDragging:l.track,onMouseDown:this.onTrackMouseDown,onWheel:this.onTrackMouseWheel},e.createElement("div",{className:this.props.scrollBarAlways?l.scrollBarAlways:l.scrollBar,style:o,onMouseDown:this.onScrollBarMouseDown})))}}o.ScrollContainer=n,n.displayName="ScrollContainer"}),
(function(a,i,f){a.exports={figmaBlue:"#18A0FB",figmaPurple:"#7B61FF",figmaPink:"#FF00FF",figmaGreen:"#1BC47D",figmaRed:"#F24822",figmaYellow:"#FFEB00",figmaBrandWarmRed:"#F24E1E",figmaBrandCoral:"#FF8577",figmaBrandGoldenYellow:"#FFC700",figmaBrandGreen:"#0FA958",figmaBrandBlueTint:"#699BF7",figmaBrandBlue:"#5551FF",figmaBrandVioletTint:"#C7B9FF",figmaBrandViolet:"#A259FF",figmaBrandLightGrey:"#6A6A6A",figmaBrandDarkGrey:"#282828",figmaFGBlack:"rgba(0, 0, 0, 1)",figmaFGBlack8:"rgba(0, 0, 0, .8)",figmaFGBlack3:"rgba(0, 0, 0, .3)",figmaFGBlack1:"rgba(0, 0, 0, .1)",figmaFGWhite:"rgba(255, 255, 255, 1)",figmaFGWhite8:"rgba(255, 255, 255, .8)",figmaFGWhite4:"rgba(255, 255, 255, .4)",figmaFGWhite2:"rgba(255, 255, 255, .2)",figmaFGBlack8Opaque:"#333333",figmaFGBlack3Opaque:"#B3B3B3",figmaBGWhite:"#FFFFFF",figmaBGSilver:"#E5E5E5",figmaBGGreyOpaque:"#F0F0F0",figmaBGGrey:"rgba(0, 0, 0, 0.06)",figmaBGBlack:"#000000",figmaBGHUD:"#222222",figmaBGToolbar:"#2C2C2C",figmaBGRed8:"rgba(242, 72, 34, 0.08)",figmaSpecialBlue3:"color(#18A0FB alpha(30%))",figmaSpecialSelectionA:"#DAEBF7",figmaSpecialSelectionB:"#EDF5FA",figmaSpecialOutline:"rgba(0, 0, 0, 0.1)",figmaSpecialOutlineOpaque:"#E6E6E6",figmaSpecialScrollbar:"rgba(0, 0, 0, .15)",figmaBGPreviewGrey:"rgba(0, 0, 0, 0.03)",figmaProfileHeaderDropShadow:"rgba(0, 0, 0, 0.15)",figmaFGBlack6:"rgba(0, 0, 0, .6)",figmaBlack__DEPRECATED:"#050505",figmaDarkGray__DEPRECATED:"#2c2c2c",figmaMediumGray__DEPRECATED:"#444",figmaMediumLightGray__DEPRECATED:"#888",figmaGray__DEPRECATED:"#aaa",figmaLightGray__DEPRECATED:"#d4d4d4",figmaLightLightGray__DEPRECATED:"#efefef",figmaLightestGray__DEPRECATED:"#f8f8f8",figmaWhite__DEPRECATED:"#fcfcfc",figmaLightBlue__DEPRECATED:"#c5e4f9",figmaLightLightBlue__DEPRECATED:"#f1f9ff",figmaDarkBlue__DEPRECATED:"#2288B3",figmaDarkestBlue__DEPRECATED:"#0d475f",figmaMediumPurple__DEPRECATED:"#bbb0f5",figmaOrange__DEPRECATED:"#ff6d30",white__DEPRECATED:"#ffffff"}}),
(function(a,e,l){a.exports={avatar:"avatar--avatar--rj2Q0",circle:"avatar--circle--2J3z6",square:"avatar--square--2vQe3",dim:"avatar--dim--GdQGq",avatarBellWrapper:"avatar--avatarBellWrapper--1uQ1b",bell:"avatar--bell--2YDqE",avatarWithHandle:"avatar--avatarWithHandle--2G2Vu",info:"avatar--info--6fmV-",handleRow:"avatar--handleRow--3gz7_",handle:"avatar--handle--fICEU",isMe:"avatar--isMe--1tfH3",email:"avatar--email--F5k8l",emailClickIcon:"avatar--emailClickIcon--1Mbqr",emailHover:"avatar--emailHover--2BJL8",clickableAvatarWithHandle:"avatar--clickableAvatarWithHandle--1l4mS",dimAvatarWithHandle:"avatar--dimAvatarWithHandle--ylkvG",tableCellBadge:"avatar--tableCellBadge--2mSvK",badgeAdmin:"avatar--badgeAdmin--2umE4 avatar--tableCellBadge--2mSvK",badgeGuest:"avatar--badgeGuest--3G3Aw avatar--tableCellBadge--2mSvK"}}),
(function(e,i,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=l(105               ),t=l(119              ),a=l(164         ),n=l(130                                              );!function(e){e.copyEmailsToClipboard=o.asyncActionCreator("COPY_EMAILS_TO_CLIPBOARD",(e,i)=>{const l=i.emailList,o=l.length,s=l.toString();t.copyText(s).then(()=>{e.dispatch(n.visualBell.enqueue({message:`${a.getPluralOrSingular(o,`${s}`,`${o} emails`)} copied to your clipboard`,type:"emails-copied"}))})})}(i.copyToClipboard||(i.copyToClipboard={}))}),
(function(o,t,i){o.exports={src:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M7.333 8.25c0-2.025 1.642-3.667 3.667-3.667 2.025 0 3.667 1.642 3.667 3.667 0 2.025-1.642 3.667-3.667 3.667-2.025 0-3.667-1.642-3.667-3.667zm3.61 4.583c-5.73 0-9.257 5.02-7.943 9.167h16c1.432-4.583-2.328-9.167-8.057-9.167z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(c,l,t){c.exports={src:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M17.973 14.925C18.627 13.765 19 12.426 19 11c0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8 .812 0 1.595-.12 2.333-.346.224-.068.443-.145.657-.232 1.542-.621 2.845-1.71 3.736-3.089.084-.13.164-.262.24-.396l.006-.012zm-4.74 3.062c-.704.225-1.454.346-2.233.346-.779 0-1.529-.121-2.233-.346.11-.359.303-.681.557-.944.036-.037.073-.072.11-.107.414-.374.964-.603 1.566-.603.592 0 1.132.22 1.544.584l.032.029c.304.278.534.636.657 1.041zM3.667 11c0 1.071.23 2.088.642 3.006.31-.628.834-1.132 1.477-1.417C5.308 12.224 5 11.648 5 11c0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.104-.895 2-2 2-.57 0-1.093.205-1.498.545-.037.03-.073.062-.107.095-.326.308-.562.71-.667 1.161.795 1.31 1.989 2.35 3.413 2.954.147-.461.403-.874.737-1.209l.007-.007c.259-.257.563-.467.9-.616-.477-.366-.785-.942-.785-1.59 0-1.104.895-2 2-2 1.105 0 2 .896 2 2 0 .648-.308 1.224-.786 1.59.78.345 1.384 1.012 1.645 1.832 1.424-.603 2.618-1.644 3.413-2.954-.116-.5-.393-.937-.773-1.256l-.038-.031C16.06 13.192 15.553 13 15 13c-1.105 0-2-.895-2-2 0-.35.09-.678.247-.964-.275-.982-1.177-1.703-2.247-1.703-1.07 0-1.972.72-2.247 1.703-.125-.227-.294-.428-.494-.59.302-.678.848-1.223 1.527-1.523C9.308 7.557 9 6.98 9 6.333c0-1.104.895-2 2-2 1.105 0 2 .896 2 2 0 .648-.308 1.224-.786 1.59.679.3 1.225.845 1.527 1.523C14.085 9.167 14.523 9 15 9c1.105 0 2 .895 2 2 0 .648-.308 1.224-.786 1.59.643.284 1.167.788 1.477 1.416.413-.918.642-1.935.642-3.006 0-4.05-3.283-7.333-7.333-7.333-4.05 0-7.333 3.283-7.333 7.333zM15 12.333c.736 0 1.333-.597 1.333-1.333 0-.736-.597-1.333-1.333-1.333-.736 0-1.333.597-1.333 1.333 0 .736.597 1.333 1.333 1.333zm-8 0c.736 0 1.333-.597 1.333-1.333 0-.736-.597-1.333-1.333-1.333-.736 0-1.333.597-1.333 1.333 0 .736.597 1.333 1.333 1.333zm5.333-6c0 .737-.597 1.334-1.333 1.334-.736 0-1.333-.597-1.333-1.334C9.667 5.597 10.264 5 11 5c.736 0 1.333.597 1.333 1.333zm0 8c0 .737-.597 1.334-1.333 1.334-.736 0-1.333-.597-1.333-1.334 0-.736.597-1.333 1.333-1.333.736 0 1.333.597 1.333 1.333z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,c,h){v.exports={src:'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path d="M7 1H1v6h6V1zM1 0C.448 0 0 .448 0 1v6c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1H1zm2 9v1c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V4c0-.552-.448-1-1-1H9v1h1v6H4V9H3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";var a=this&&this.__rest||function(t,e){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(s[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]])}return s};Object.defineProperty(e,"__esModule",{value:!0});const i=s(3,1    ),r=s(348                                  ),l=s(349           ),o=s(249                             ),p=s(174                        ),n=s(350                                          ),c=s(351                                  ),h=s(352                                       ),d=s(353                             ),m={CIRCLE:`${l.avatar} ${l.circle}`,SQUARE:`${l.avatar} ${l.square}`};class g{constructor(t,e){this.lower=t,this.upper=e}contains(t){return t>=this.lower&&t<this.upper}}const u=new g(65,91),v=new g(97,123);class b extends i.Component{render(){const t={display:"flex",justifyContent:"center",color:this.props.tint||"white",backgroundColor:this.props.color||void 0},e=this.props.enabled||!0,{size:s}=this.props;s&&(t.width=`${s}px`,t.height=`${s}px`,t.lineHeight=`${s}px`,t.fontSize=`${s/2}px`);const a=this.props.shape||"CIRCLE",r=m[a];return i.createElement("span",{style:t,className:`${r} ${this.props.className||""} ${e?"":l.dim}`},this.props.children)}}class E extends i.Component{render(){return i.createElement(b,Object.assign({},this.props),this.props.initial)}}class f extends i.Component{render(){const{size:t}=this.props,e=t?`${t}px`:void 0,s=this.props.shape||"CIRCLE",a=m[s];return i.createElement(p.Svg,{className:`${a} ${this.props.className||""} ${this.props.enabled,""}`,style:this.props.style||{},svg:this.props.src,autosize:!0,width:e,height:e})}}var C;!function(t){t[t.LOADING=0]="LOADING",t[t.LOADED=1]="LOADED",t[t.ERROR=2]="ERROR"}(C=e.LoadingStatus||(e.LoadingStatus={}));class y extends i.Component{constructor(t){super(t),this.onAvatarImageLoad=(()=>{this.setState({loadingStatus:C.LOADED})}),this.onImageLoadError=(()=>{this.setState({loadingStatus:C.ERROR})}),this.state={loadingStatus:C.LOADING}}render(){let t={};const e=this.props.style||{};if(this.props.size){const s=`${this.props.size}px`;t.width=s,t.height=s,e.width=s,e.height=s}const s=this.props.enabled||!0,{loadingStatus:a}=this.state,r=this.props.shape||"CIRCLE",o=m[r];return a===C.LOADING&&(t.display="none"),i.createElement("div",{className:`${o} ${this.props.className} ${s?"":l.dim}`,style:Object.assign(Object.assign({},e),{position:"relative"})},a!==C.LOADED&&this.props.children,a!==C.ERROR&&i.createElement("img",{className:`${s?"":l.dim} ${this.props.className||""}`,style:t,src:this.props.imgUrl||void 0,onLoad:this.onAvatarImageLoad,onError:this.onImageLoadError}))}}e.ImageAvatar=y,e.FIGMA_COLORS=[r.figmaBrandWarmRed,r.figmaBrandCoral,r.figmaBrandGoldenYellow,r.figmaBrandGreen,r.figmaBrandBlueTint,r.figmaBrandBlue,r.figmaBrandVioletTint,r.figmaBrandViolet];const k=[u,v],A={colors:e.FIGMA_COLORS,getInitial:t=>t?t[0]:null,defaultFallbackAvatarSvg:c},N=["handle","name","email"],O=(t,e=A)=>(class extends i.Component{constructor(){super(...arguments),this.computeFallbackInitial=(()=>{const t=(this.props.initializableEntityProperties?this.props.initializableEntityProperties:N).map(t=>this.props.entity[t]),s=S(t);return s?e.getInitial(s):null}),this.computeFallbackColor=(()=>{const t=e.colors;try{if(!this.props.entity.id)return t[0];let e=this.props.entity.id.slice(this.props.entity.id.length-4);return t[parseInt(e)%t.length]}catch(s){return t[0]}})}render(){const s=this.props.fallbackInitial||this.computeFallbackInitial(),a=this.computeFallbackColor()||null,r=this.props.entity.img_url||this.props.entity.imageURL||null;return i.createElement(t,Object.assign({imgUrl:r,fallbackInitial:s,fallbackColor:this.props.defaultFallbackAvatarSvg&&!s?null:a,fallbackTintColor:this.props.defaultFallbackAvatarSvg?void 0:"white"},this.props,{defaultFallbackAvatarSvg:this.props.defaultFallbackAvatarSvg||e.defaultFallbackAvatarSvg}))}});class x extends i.Component{renderFallback(){const{size:t,fallbackSvg:e}=this.props;if(e)return i.createElement(f,{size:t,src:e,shape:this.props.shape});if(this.props.hideFallbackInitial)return i.createElement(b,{size:t,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape});const s=this.props.fallbackInitial;return s?i.createElement(E,{size:t,className:this.props.className,initial:s,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape}):this.props.defaultFallbackAvatarSvg?i.createElement(f,{className:this.props.className,size:t,src:this.props.defaultFallbackAvatarSvg,style:{fill:this.props.fallbackTintColor||void 0,background:this.props.fallbackColor||void 0},enabled:this.props.enabled,shape:this.props.shape}):i.createElement(b,{size:t,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape})}render(){return this.props.imgUrl?i.createElement(y,{size:this.props.size||null,imgUrl:this.props.imgUrl,className:`${this.props.className||""}`,enabled:this.props.enabled,shape:this.props.shape},this.renderFallback()):this.renderFallback()}}x.displayName="Avatar",e.Avatar=O(x,Object.assign(Object.assign({},A),{getInitial:t=>{const e=t.charCodeAt(0);return k.some(t=>t.contains(e))?t[0]:null}}));const $=O(x,Object.assign(Object.assign({},A),{defaultFallbackAvatarSvg:h,getInitial:t=>t.charCodeAt(0)===t.codePointAt(0)?t[0]:null}));e.TeamAvatar=(t=>i.createElement($,Object.assign({shape:"SQUARE"},t))),e.AvatarWithBell=(t=>i.createElement(I,{showBell:!0,size:t.size},i.createElement(e.Avatar,Object.assign({},t))));class I extends i.Component{render(){const t=this.props.size||0,e=Math.round(t/4)+1,s=Math.round(e/5);return i.createElement("span",{className:l.avatarBellWrapper,style:t?{width:`${t}px`,height:`${t}px`}:void 0},this.props.showBell&&i.createElement("div",{className:l.bell,style:t?{width:`${e}px`,height:`${e}px`,top:`-${s}px`,right:`-${s}px`}:void 0}),this.props.children)}}e.AvatarBellWrapper=I,I.displayName="AvatarBellWrapper";const S=(t=[],e="?")=>t.find(t=>t)||e,L=(t,e)=>(class extends i.Component{constructor(){super(...arguments),this.onClick=(()=>{this.props.onClick&&this.props.onClick(this.props.entity)})}render(){const s=`avatar_${this.props.entity.id}_tooltip_proxy`;return i.createElement("div",{className:`${l.avatarWithHandle} ${this.props.onClick?l.clickableAvatarWithHandle:""} ${this.props.enabled?l.dimAvatarWithHandle:""} ${this.props.className||""}`,onClick:this.props.onClick?this.onClick:void 0,"data-tooltip-proxy-element-id":s},i.createElement("div",{id:s,"data-tooltip-text":this.props["data-tooltip-text"],"data-tooltip-offset-x":this.props["data-tooltip-offset-x"],"data-tooltip-offset-y":this.props["data-tooltip-offset-y"]},i.createElement(t,Object.assign({},this.props,{className:void 0}))),i.createElement(e,Object.assign({},this.props)),this.props.children)}});class T extends i.Component{render(){return i.createElement("div",{className:l.info,title:this.props.tooltipText||void 0},!this.props.hideHandle&&i.createElement("div",{className:l.handleRow},i.createElement("span",{className:l.handle},this.props.text),this.props.showIsMe&&i.createElement("span",{className:l.isMe},"(You)"),this.props.badgeType===o.BadgeType.ADMIN&&i.createElement("span",{className:l.badgeAdmin},"Admin"),this.props.badgeType===o.BadgeType.GUEST&&i.createElement("span",{className:l.badgeGuest},"Guest")),this.props.email&&i.createElement("div",{className:this.props.onEmailClick?l.emailHover:"",onClick:this.props.onEmailClick},i.createElement("div",{className:l.email}," ",this.props.email,"  "),this.props.onEmailClick&&this.props.emailClickIcon&&i.createElement(p.Svg,{className:l.emailClickIcon,svg:this.props.emailClickIcon})))}}const _=t=>(class extends i.Component{constructor(){super(...arguments),this.onEmailClick=(()=>{this.props.onEmailClick&&this.props.onEmailClick(this.props.entity)})}render(){const e=[this.props.overrideHandle,this.props.entity.handle,this.props.entity.name];this.props.fallbackToEmail&&e.push(this.props.entity.email);const s=S(e,this.props.defaultText||void 0),r=`${this.props.hideHandle?"":s}${this.props.includeUserEmailAddress?`\n${this.props.entity.email}`:""}`,l=this.props,{onEmailClick:o}=l,p=a(l,["onEmailClick"]);return i.createElement(t,Object.assign({text:s,email:this.props.includeUserEmailAddress?this.props.entity.email:null,tooltipText:this.props.showTooltip?r:null,onEmailClick:this.props.onEmailClick?this.onEmailClick:void 0},p))}});e.AvatarWithHandle=L(e.Avatar,_(T)),e.TeamAvatarWithHandle=L(e.TeamAvatar,_(T));var R,w;e.CopyableAvatar=(R=e.AvatarWithHandle,(w=class extends i.PureComponent{constructor(){super(...arguments),this.onCopyEmailToClipboard=(()=>{this.props.entity.email&&this.props.dispatch(n.copyToClipboard.copyEmailsToClipboard({emailList:[this.props.entity.email]}))})}render(){return i.createElement(R,Object.assign({},this.props,{onEmailClick:this.onCopyEmailToClipboard,emailLinkIcon:d,includeUserEmailAddress:!0}))}}).displayName="Copyable",w)}),
(function(n,t,i){n.exports={input:"input--input--3jE7P"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),n=s(172              ),a=s(355          );class l extends n.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(this.input=e,e.value||(e.value=this.props.placeholderValue||"",e.focus(),e.select()))}),this.submit=n.otherEvent(this,"submit",e=>{this.props.submit(e)}),this.submitOrCancel=(()=>{this.input.value?this.submit(this.input.value):this.props.cancel()}),this.onChange=n.changeEvent(this,"change",e=>{}),this.onBlur=n.focusEvent(this,"blur",()=>{this.input.value!==this.props.placeholderValue?this.submitOrCancel():this.props.cancel()}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{switch(e.keyCode){case 13:this.submitOrCancel();break;case 27:this.props.cancel()}}),this.onClick=(e=>{e.stopPropagation(),e.preventDefault()})}render(){let e=Object.assign({},this.props);return delete e.placeholderValue,delete e.submit,delete e.cancel,delete e.recordingKey,delete e.className,i.createElement("input",Object.assign({ref:this.inputRef,className:`${a.input} ${this.props.className||""}`,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onClick:this.onClick},e))}}t.Input=l,l.displayName="Input"}),
(function(e,o,n){e.exports={newFolder:"new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",folder:"new_folder--folder--1zgej sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",newFolderInput:"new_folder--newFolderInput--3n4Tf sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy sidebar--sectionContent--2dhhM ellipsis--ellipsis--1RWY6",newFolderName:"new_folder--newFolderName--1Fxvk sidebar--sectionName--eII3k sidebar--sectionText--31Nhy sidebar--sectionContent--2dhhM ellipsis--ellipsis--1RWY6",newProjectIcon:"new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileBrowser:"new_folder--newProjectIconFileBrowser--3b4zQ new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileMove:"new_folder--newProjectIconFileMove--32_UA sidebar--icon--1Z2rN",newProjectIconFolderList:"new_folder--newProjectIconFolderList--2v5oJ sidebar--icon--1Z2rN",newFolderHover:"new_folder--newFolderHover--3jE9Z new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--fontPos11--RSei3 text--_fontBase--YWDo0",spacingFileBrowser:"new_folder--spacingFileBrowser--2B3HD sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",spacingFolderList:"new_folder--spacingFolderList--3aAhb",spacingMoveFile:"new_folder--spacingMoveFile--3pj25"}}),
(function(o,t,h){o.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8V7H9V1H8v6H2v1h6v6h1V8h6z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=o(3,1    ),t=o(106                                     ),i=o(174                        ),n=o(357               ),a=o(358                            );class c extends r.Component{constructor(e){let s,o;switch(super(e),this.onClick=(e=>{e.stopPropagation(),this.props.dispatch(t.fileBrowser.openNewFolderModal({where:this.props.where,teamId:this.props.teamId}))}),this.props.where){case"file-browser-nav":s=n.newProjectIconFileBrowser,o=n.spacingFileBrowser;break;case"folder-list-view":s=n.newProjectIconFolderList,o=n.spacingFolderList;break;case"file-move-modal":s=n.newProjectIconFileMove,o=n.spacingMoveFile}this.state={spacingStyle:o,iconStyle:s}}render(){return r.createElement("div",{className:this.props.isFocused?n.newFolderHover:n.newFolder,onMouseMove:this.props.onMouseMove,onMouseDown:this.onClick},r.createElement(i.Svg,{className:this.state.iconStyle,svg:a}),r.createElement("span",{className:n.newFolderName},"New Project"))}}s.NewFolder=c,c.displayName="NewFolder"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PropagatingEvent=class{constructor(t){this.shouldPropagate=!0,this.accept=(()=>{this.shouldPropagate=!1,this.event.stopPropagation(),this.event.preventDefault()}),this.event=t}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),r=s(360                    );var o=s(360                    );t.PropagatingEvent=o.PropagatingEvent;const n=Object.create(null);let c=1;const u=()=>`${c++}`;class a extends i.PureComponent{constructor(e){super(e),this.ref=(e=>{e&&(this.el=e)}),this.focus=(()=>{t.keyboardDispatcher.setFocusedReceiver(this),this.focusDidChange(),this.unmounting&&this.blur()}),this.blur=(()=>{if(t.keyboardDispatcher.isParentOfFocusedReceiver(this)){const e=this.getParentReceiver();e?e.focus():t.keyboardDispatcher.setFocusedReceiver(null),this.focusDidChange()}}),this.hasFocus=(()=>t.keyboardDispatcher.receiverIsReceivingKeyboardEvents(this)),this.focusDidChange=(()=>{if(!this.unmounting)if(this.props.propagateKeyboardFocus){const e=this.getParentReceiver();e&&e.focusDidChange()}else this.props.forceUpdate&&this.props.forceUpdate()}),this.getParentReceiver=(()=>{if(!this.el)return null;let e=this.el.parentElement;for(;e;){const t=e.getAttribute("data-keyboard-receiver");if(null!=t)return n[t];e=e.parentElement}return null}),this.blurSubtreeIfHidden=(e=>{if(!t.keyboardDispatcher.isFocusedReceiver(this))return;const s=[];let i=!1,r=this.el;for(;r;){const t=r.getAttribute("data-keyboard-receiver");if(null!=t&&s.push(t),r===e){i=!0;break}r=r.parentElement}if(i)for(;s.length;){n[s.pop()].onHideOrUnmount()}}),this.handleKeyboardEvent=(e=>{if(this.props.handleKeyDown&&"keydown"===e.event.type&&this.props.handleKeyDown(e),e.shouldPropagate){const t=this.getParentReceiver();t&&t.handleKeyboardEvent(e)}}),this.handleClipboardEvent=((e,t)=>{if(this.props.handleClipboard&&this.props.handleClipboard(e,t),e.shouldPropagate){const s=this.getParentReceiver();s&&s.handleClipboardEvent(e,t)}}),this.id=u(),n[this.id]=this}UNSAFE_componentWillMount(){this.onShowOrMount()}componentWillUnmount(){this.onHideOrUnmount()}onHideOrUnmount(){this.unmounting=!0,this.blur()}onShowOrMount(){this.unmounting=!1,this.props.focusOnMount&&this.focus()}render(){const e=Object.assign({},this.props);return delete e.handleKeyDown,delete e.handleClipboard,delete e.focusOnMount,delete e.forceUpdate,delete e.propagateKeyboardFocus,i.createElement("div",Object.assign({ref:this.ref,"data-keyboard-receiver":this.id},e))}}t.KeyboardReceiver=a,a.displayName="KeyboardReceiver";t.keyboardDispatcher=new class{constructor(){this.hasFocus=!0,this.setCustomFocusElement=(e=>{this.customFocusElement=e,this.customFocusElement.addFocusChangedCallback(this.focusChanged)}),this.focusChanged=(e=>{this.hasFocus=e,this.focusedReceiver&&this.focusedReceiver.focusDidChange()}),this.setFocusedReceiver=(e=>{const t=this.focusedReceiver;this.focusedReceiver=e,t&&t.focusDidChange()}),this.shouldInterceptKeyboardEvent=(e=>{if(!(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target)||e.target===document.body)){let t=e.target;for(;t;){if("fullscreen-root"===t.id)return!1;t=t.parentElement}return!0}const t=new r.PropagatingEvent(e);return this.dispatchKeyboardEvent(t),!t.shouldPropagate}),this.shouldInterceptClipboardEvent=((e,t)=>{if(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target)||e.target===document.body){e.preventDefault();const s=new r.PropagatingEvent(e);return this.dispatchClipboardEvent(s,t),!s.shouldPropagate}}),this.dispatchKeyboardEvent=(e=>{this.focusedReceiver&&function(e){for(;null!==e;){if("none"===e.style.display)return!0;e=e.parentElement}return!1}(this.focusedReceiver.el)?console.warn("Detected a hidden focused receiver, ignoring keyboard event"):this.focusedReceiver&&this.focusedReceiver.handleKeyboardEvent(e)}),this.dispatchClipboardEvent=((e,t)=>{this.focusedReceiver&&this.focusedReceiver.handleClipboardEvent(e,t)}),this.receiverIsReceivingKeyboardEvents=(e=>{if(!this.hasFocus)return!1;if(this.focusedReceiver===e)return!0;let t=this.focusedReceiver;for(;t&&t.props.propagateKeyboardFocus;){const s=t.getParentReceiver();if(s===e)return!0;t=s}return!1}),this.isFocusedReceiver=(e=>this.focusedReceiver===e),this.isParentOfFocusedReceiver=(e=>{let t=this.focusedReceiver;for(;t;){if(t===e)return!0;t=t.getParentReceiver()}}),this.focusSubtreeIfNecessary=(e=>{const t=[e];let s=0;for(;s<t.length;){const e=t[s],i=e.getAttribute("data-keyboard-receiver");if(i&&n[i].onShowOrMount(),e.children)for(let s=0;s<e.children.length;s++)t.push(e.children[s]);s++}}),this.blurSubtreeIfNecessary=(e=>{this.focusedReceiver&&this.focusedReceiver.blurSubtreeIfHidden(e)}),this.focusedReceiverName=(()=>{if(this.focusedReceiver)return this.focusedReceiver.props.name})}focusIfUnfocused(){const e=document.activeElement;this.customFocusElement&&!this.customFocusElement.isFocusElement(e)&&(!e||e===document.body)&&this.customFocusElement.focus()}}}),
(function(e,d,a){e.exports={modalBackground:"header_modal--modalBackground--3fkKH",modal:"header_modal--modal--3V0h3 modal--modalShadow--HbHkT",header:"header_modal--header--c8kL6",headerSmall:"header_modal--headerSmall--8-Lat header_modal--header--c8kL6",headerLarge:"header_modal--headerLarge--3rkae header_modal--header--c8kL6",headerHidden:"header_modal--headerHidden--1BUZD",headerModalTitle:"header_modal--headerModalTitle--8hnpX",closeX:"header_modal--closeX--1_e8o",closeXLight:"header_modal--closeXLight--23Edw",fixedTop:"header_modal--fixedTop--34GrB"}}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(3,1    ),n=o(118                             ),a=o(212      ),i=o(174                        ),r=o(362                 ),l=o(221                                    ),p=o(337                           );class d extends t.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.props.onClose&&this.props.onClose()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{e.keyCode===a.Key.ESCAPE&&(this.props.disableClickOutsideToHide||this.props.onClose&&this.props.onClose())})}render(){const e=`${r.modalBackground} ${n.PREVENT_EVENT_CAPTURE} ${this.props.className||""} ${this.props.fixedTop?r.fixedTop:""}`;let s=this.props.maxWidth||492,o=this.props.minWidth||348;return s<o&&(s=492,o=348),t.createElement("div",{tabIndex:0,className:e,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown},t.createElement("div",{className:r.modal,style:{maxWidth:s,minWidth:o},onMouseDown:this.onModalMouseDown},t.createElement(c,{headerSize:this.props.headerSize,title:this.props.title,onClose:this.props.onClose,onMouseDown:this.onModalMouseDown,isCloseHidden:this.props.isCloseHidden},this.props.children)))}}s.HeaderModal=d,d.displayName="HeaderModal",s.CloseButton=l.asTrackedClickable(({onMouseDown:e,onClick:s,className:o})=>t.createElement("div",{className:`${r.closeX} ${o||""}`,onMouseDown:e,onClick:s},t.createElement(i.Svg,{svg:p})));class c extends t.Component{render(){let e=r.header;switch(this.props.headerSize){case"small":e=r.headerSmall;break;case"large":e=r.headerLarge;break;case"hidden":e=r.headerHidden}const o=`${this.props.headerClassname||""} ${e}`;return t.createElement("div",{className:`${this.props.className||""}`},t.createElement("div",{className:o,onMouseMove:this.props.onMouseMove},"string"==typeof this.props.title?t.createElement("div",{className:r.headerModalTitle},this.props.title):this.props.title,!this.props.isCloseHidden&&t.createElement(s.CloseButton,{onClick:this.props.onClose,onMouseDown:this.props.onMouseDown,innerText:"Close",className:this.props.closeButtonClassName})),this.props.children)}}s.HeaderModalContainer=c,c.displayName="HeaderModalContainer"}),
(function(a,e,r){a.exports={backgroundOverlay:"draggable_modal--backgroundOverlay--CPf6e",positionedContainer:"draggable_modal--positionedContainer--1aHEn",positionedContainerAnimated:"draggable_modal--positionedContainerAnimated--3Exj_ draggable_modal--positionedContainer--1aHEn",popup:"draggable_modal--popup--2HDaD",positionedContainerDragging:"draggable_modal--positionedContainerDragging--CAkAw",frame:"draggable_modal--frame--ZkQEE modal--modalShadow--HbHkT",header:"draggable_modal--header--PzIrk",contentContainer:"draggable_modal--contentContainer--PfnuK",arrow:"draggable_modal--arrow--AnRXT",arrowLight:"draggable_modal--arrowLight--2WNHP",arrowLeftTitle:"draggable_modal--arrowLeftTitle--1sqv2",arrowRightTitle:"draggable_modal--arrowRightTitle--r0wye",arrowRightBody:"draggable_modal--arrowRightBody--2yQTJ",arrowBottom:"draggable_modal--arrowBottom--f5qLk draggable_modal--arrow--AnRXT",resizeTarget:"draggable_modal--resizeTarget--pSHWd",resizeVertical:"draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeHorizontal:"draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeCorner:"draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTop:"draggable_modal--resizeTop--1k1Zr draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeBottom:"draggable_modal--resizeBottom--3bIv1 draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeLeft:"draggable_modal--resizeLeft--Qq71b draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeRight:"draggable_modal--resizeRight--BMx8w draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeTopLeft:"draggable_modal--resizeTopLeft--27ACr draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTopRight:"draggable_modal--resizeTopRight--3ntDc draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomLeft:"draggable_modal--resizeBottomLeft--2rytk draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomRight:"draggable_modal--resizeBottomRight--3XxsI draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(7,1        );e.TouchToMouseAdapter=class{constructor(t,e,o,n,r={}){this.component=t,this.onMouseDown=e,this.onMouseMove=o,this.onMouseUp=n,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=(t=>{if(t.stopPropagation(),null===this.draggingID&&t.touches.length>0&&this.shouldAdaptTouch(t.touches[0])){const e=t.touches[0];if(this.draggingID=e.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.mustBeHorizontal||this.options.delayInMS){let o=!1;if(t.persist(),(t=Object.create(t)).target=t.target,t.currentTarget=t.currentTarget,this.deferredDragStart=(n=>{if(o)return!1;const r=n.clientX-e.clientX,s=n.clientY-e.clientY;return!(Math.sqrt(r*r+s*s)<10||(o=!0,this.options.mustBeHorizontal&&Math.abs(r)<Math.abs(s)||this.options.delayInMS||(this.onMouseDown(this.mouseEvent("mousedown",t,e)),0)))}),this.options.delayInMS){const n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||o||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",t,e)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",t,e))}}),this.onTouchMove=(t=>{if(t.stopPropagation(),null!==this.draggingID)for(const e of t.touches)if(e.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(e))break;this.deferredDragStart=null}t.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",t,e));break}}),this.onTouchEndOrCancel=(t=>{t.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",t,this.oldTouch)))})}mouseEvent(t,e,o){this.oldTouch=o;const n=new MouseEvent(t,{altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});return Object.defineProperty(n,"target",{value:e.target}),Object.defineProperty(n,"currentTarget",{value:e.currentTarget}),n}shouldAdaptTouch(t){if(!this.options.observeInsideOverflowScroll){const e=n.findDOMNode(this.component);for(let o=t.target;o;o=o.parentElement){const n=getComputedStyle(o).overflowY;if("scroll"===n||"auto"===n){const e=o.getBoundingClientRect();if(t.clientX>=e.left&&t.clientX<e.right&&t.clientY>=e.top&&t.clientY<e.bottom)return!1}if(o===e)break}}return!0}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3,1    ),o=i(145         ),n=i(212      ),a=i(361                                           ),h=i(363                                              ),r=i(225                                  ),p=i(118                             ),l=i(172              ),d=i(364                    ),c=i(365                                   );e.HEADER_HEIGHT=40;const g=16;var m,u;!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.RIGHT_TITLE=2]="RIGHT_TITLE",t[t.RIGHT_BODY=3]="RIGHT_BODY",t[t.LEFT_TITLE=4]="LEFT_TITLE"}(m=e.ArrowPosition||(e.ArrowPosition={})),function(t){t[t.IGNORE=0]="IGNORE"}(u=e.OnCloseIgnore||(e.OnCloseIgnore={}));const w={x:"left",y:"top"};class T extends l.Component{constructor(t){super(t),this.minBottomMargin=(()=>this.props.minBottomMargin||g),this.windowResized=(()=>{this.state.position&&this.setState({position:new o.Vector(this.state.position.x,this.state.position.y)})}),this.adjustPositionToFitOnScreen=(()=>{if(!this.props.animatedIn&&this.state.position.equals(this.props.initialPosition)){const{top:t,bottom:e,height:i}=this.el.getBoundingClientRect(),s=this.state.position.x;let n=this.state.position.y;t<0?n=0:e+this.minBottomMargin()>window.innerHeight&&(n=window.innerHeight-(i+this.minBottomMargin()));const a=new o.Vector(s,n);a.equals(this.state.position)||this.setState({position:a})}}),this.onKeyDown=(t=>{t.event.keyCode===n.Key.ESCAPE&&!this.props.ignoreCloseShortcut&&this.props.onClose&&(this.props.onClose()===u.IGNORE?t.shouldPropagate=!0:t.accept())}),this.keyReceiverRef=(t=>this.keyEl=t),this.focus=(()=>this.keyEl.focus()),this.stopPropagation=(t=>t.stopPropagation()),this.frameRef=(t=>{this.el=t,t&&this.props.acceptHeight&&this.props.acceptHeight(t.getBoundingClientRect().height)}),this.onContentMouseDown=(t=>{this.props.dragHeaderOnly&&t.stopPropagation()}),this.mouseDown=(t=>{if(2===t.button)return;t.stopPropagation();const e=t.target;if("input"===e.tagName.toLowerCase()||"label"===e.tagName.toLowerCase()||"img"===e.tagName.toLowerCase()||"a"===e.tagName.toLowerCase())return;const i=this.el.getBoundingClientRect(),s=new o.Vector(t.pageX,t.pageY);this.setState({position:new o.Vector(i.left,i.top),constraints:w,lastDragPosition:s,startDragPosition:s}),this.props.onDragStart&&this.props.onDragStart()}),this.documentMouseMove=(t=>{if(!this.state.lastDragPosition)return l.SKIP_RECORDING;{const e=this.state.position,i=new o.Vector(t.pageX,t.pageY),s=i.subtract(this.state.lastDragPosition);this.setState({position:e.add(s),lastDragPosition:i,hasCustomPosition:!0})}}),this.documentMouseUp=(()=>{(this.state.startDragPosition||this.state.lastDragPosition)&&(this.props.onDragEnd&&this.state.startDragPosition!==this.state.lastDragPosition&&this.props.onDragEnd(this.state.position),this.setState({lastDragPosition:null,startDragPosition:null}))}),this.resizeTop=(t=>{const e=new o.Vector(this.state.position.x,this.state.position.y+t);let i;void 0!==this.state.height&&(i=this.state.height-t,this.props.minHeight&&(i=Math.max(this.props.minHeight,i))),this.setState({height:i,position:e})}),this.resizeBottom=(t=>{if(void 0===this.state.height)return;let e=this.state.height+t;this.props.minHeight&&(e=Math.max(this.props.minHeight,e)),this.setState({height:e})}),this.resizeLeft=(t=>{const e=new o.Vector(this.state.position.x+t,this.state.position.y);let i;void 0!==this.state.width&&(i=this.state.width-t,this.props.minWidth&&(i=Math.max(this.props.minWidth,i))),this.setState({width:i,position:e})}),this.resizeRight=(t=>{if(void 0===this.state.width)return;let e=this.state.width+t;this.props.minWidth&&(e=Math.max(this.props.minWidth,e)),this.setState({width:e})}),this.style=(t=>{const e={};return"left"===this.state.constraints.x?e.left=t.x:e.right=t.x,"top"===this.state.constraints.y?e.top=t.y:e.bottom=t.y,this.state.width&&(e.width=this.state.width),this.state.height&&(e.height=this.state.height),e}),this.touchAdapter=new c.TouchToMouseAdapter(this,this.mouseDown,this.documentMouseMove,this.documentMouseUp),this.state={position:t.initialPosition,constraints:t.initialConstraints||w,width:t.initialWidth,lastDragPosition:null,startDragPosition:null,height:null!=t.initialHeight?t.initialHeight+e.HEADER_HEIGHT:void 0,showArrow:!0}}componentDidMount(){document.addEventListener("mousemove",this.documentMouseMove),document.addEventListener("mouseup",this.documentMouseUp),this.adjustPositionToFitOnScreen();const{width:t,height:e}=this.el.getBoundingClientRect();this.setState({width:t,height:e}),window.addEventListener("resize",this.windowResized)}componentWillUnmount(){document.removeEventListener("mousemove",this.documentMouseMove),document.removeEventListener("mouseup",this.documentMouseUp),window.removeEventListener("resize",this.windowResized)}UNSAFE_componentWillUpdate(t){this.state.hasCustomPosition?this.state.showArrow&&this.setState({showArrow:!1}):this.props.initialPosition.equals(t.initialPosition)||this.setState({position:t.initialPosition}),this.props.initialWidth!==t.initialWidth&&this.setState({width:t.initialWidth}),this.props.initialHeight!==t.initialHeight&&this.setState({height:null!=t.initialHeight?t.initialHeight+e.HEADER_HEIGHT:void 0})}componentDidUpdate(t,e){if(this.adjustPositionToFitOnScreen(),!this.props.initialHeight&&t!==this.props){let t=this.el.style.height;this.el.style.height="";let e=this.el.getBoundingClientRect();this.el.style.height=t,this.state.height!==e.height&&(this.setState({height:e.height}),this.props.acceptHeight&&this.props.acceptHeight(e.height))}this.state.width===e.width&&this.state.height===e.height||this.props.onSizeChange&&this.props.onSizeChange()}render(){let t=this.state.position||new o.Vector(0,0),i=this.state.width||0;t=t.clamp({x:-i/2,y:0,width:window.innerWidth+i/2,height:window.innerHeight-e.HEADER_HEIGHT});const n=this.style(t);let l=this.props.animatedIn?d.positionedContainerAnimated:d.positionedContainer;this.state.lastDragPosition&&(l+=` ${d.positionedContainerDragging}`);const c=s.createElement("div",{className:`${d.contentContainer} ${this.props.contentContainerClassName||""}`,onMouseDown:this.onContentMouseDown},s.createElement(a.KeyboardReceiver,{name:"Draggable modal",handleKeyDown:this.onKeyDown,focusOnMount:!0,ref:this.keyReceiverRef},this.props.children));return s.createElement("div",{className:`${l} ${p.PREVENT_EVENT_CAPTURE}`,style:n,ref:this.frameRef,onMouseDown:this.mouseDown,onTouchStart:this.touchAdapter.onTouchStart},s.createElement("div",{className:d.frame,style:this.props.frameStyle},this.state.showArrow&&this.props.arrowRelativeX&&s.createElement("div",{className:(()=>{switch(this.props.arrowPosition){case m.RIGHT_TITLE:return d.arrowRightTitle;case m.RIGHT_BODY:return d.arrowRightBody;case m.TOP:return this.props.title?d.arrow:d.arrowLight;case m.BOTTOM:return d.arrowBottom;case m.LEFT_TITLE:return d.arrowLeftTitle;default:return}})(),style:{left:this.props.arrowRelativeX,top:this.props.arrowRelativeY}}),s.createElement(r.TabLoop,null,null!=this.props.title?s.createElement(h.HeaderModalContainer,{onClose:this.props.onClose,headerClassname:`${d.header} ${this.props.headerClassName||""}`,closeButtonClassName:this.props.closeButtonClassName,onMouseDown:this.stopPropagation,onMouseMove:this.documentMouseMove,headerSize:this.props.headerSize,title:this.props.title},c):c)),this.props.allowResize&&s.createElement(v,{resizeTop:this.resizeTop,resizeBottom:this.resizeBottom,resizeLeft:this.resizeLeft,resizeRight:this.resizeRight}))}}e.DraggableModal=T,T.displayName="DraggableModal";class E extends s.Component{render(){return s.createElement("div",{className:`${d.backgroundOverlay} ${p.PREVENT_EVENT_CAPTURE}`},s.createElement(T,Object.assign({},this.props)))}}var R;e.DraggableModalBgDisabled=E,E.displayName="DraggableModalBgDisabled",function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(R||(R={}));class v extends s.PureComponent{constructor(t){super(t),this.startResizing=((t,e)=>{e.stopPropagation(),e.preventDefault();const i=Object.create(null);t.forEach(t=>{i[t]=!0});const s=new o.Vector(e.clientX,e.clientY);this.setState({isResizing:i,lastPosition:s}),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}),this.onMouseMove=(t=>{if(!this.state.isResizing||!this.state.lastPosition)return void this.unbindDocumentListeners();const e=new o.Vector(t.clientX,t.clientY),i=e.subtract(this.state.lastPosition);this.state.isResizing[R.TOP]&&this.props.resizeTop(i.y),this.state.isResizing[R.BOTTOM]&&this.props.resizeBottom(i.y),this.state.isResizing[R.LEFT]&&this.props.resizeLeft(i.x),this.state.isResizing[R.RIGHT]&&this.props.resizeRight(i.x),this.setState({lastPosition:e})}),this.onMouseUp=(t=>{this.unbindDocumentListeners(),this.setState({isResizing:void 0})}),this.unbindDocumentListeners=(()=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}),this.state={isResizing:void 0}}render(){return s.createElement("div",null,s.createElement("div",{className:d.resizeTop,onMouseDown:this.startResizing.bind(this,[R.TOP])}),s.createElement("div",{className:d.resizeTopRight,onMouseDown:this.startResizing.bind(this,[R.TOP,R.RIGHT])}),s.createElement("div",{className:d.resizeTopLeft,onMouseDown:this.startResizing.bind(this,[R.TOP,R.LEFT])}),s.createElement("div",{className:d.resizeLeft,onMouseDown:this.startResizing.bind(this,[R.LEFT])}),s.createElement("div",{className:d.resizeRight,onMouseDown:this.startResizing.bind(this,[R.RIGHT])}),s.createElement("div",{className:d.resizeBottom,onMouseDown:this.startResizing.bind(this,[R.BOTTOM])}),s.createElement("div",{className:d.resizeBottomRight,onMouseDown:this.startResizing.bind(this,[R.BOTTOM,R.RIGHT])}),s.createElement("div",{className:d.resizeBottomLeft,onMouseDown:this.startResizing.bind(this,[R.BOTTOM,R.LEFT])}))}}v.displayName="ResizeTarget"}),
(function(e,o,l){e.exports={fileMoveModal:"file_move--fileMoveModal--3al3w",main:"file_move--main--2-VCv",iconContainer:"file_move--iconContainer--yOhz1",truncateText:"file_move--truncateText--2IE65 ellipsis--ellipsis--1RWY6",footer:"file_move--footer--3cSei",fileLocation:"file_move--fileLocation--122jH",teamSectionBody:"file_move--teamSectionBody--1QBwN",teamSection:"file_move--teamSection--3TSgk",teamTitle:"file_move--teamTitle--2HfYT text--fontPos12--3tEpz text--_fontBase--YWDo0",teamTitleText:"file_move--teamTitleText--2NvQ_",folderRowWrapper:"file_move--folderRowWrapper--2WS-E",folderRowWrapperFocused:"file_move--folderRowWrapperFocused--TMAqv file_move--folderRowWrapper--2WS-E",folderRow:"file_move--folderRow--JLCps",folderInfo:"file_move--folderInfo--3NO4P",folderName:"file_move--folderName--1gyBi ellipsis--ellipsis--1RWY6",inlineBlock:"file_move--inlineBlock--33Ehz",renameInput:"file_move--renameInput--1S2sF",searchForMoreRow:"file_move--searchForMoreRow--1SwpW file_move--folderRow--JLCps",title:"file_move--title--bli6j header_modal--headerModalTitle--8hnpX",searchIcon:"file_move--searchIcon--1CQWz",searchInput:"file_move--searchInput--3OikB",searchInputEmpty:"file_move--searchInputEmpty--rAs8s file_move--searchInput--3OikB",emptyModal:"file_move--emptyModal--2WHDo",fileMoveContextMenu:"file_move--fileMoveContextMenu--bv9_l"}}),
(function(o,t,d){o.exports={modalWidth:"288px",modalHeight:"436px",folderRowHeight:"30px"}}),
(function(l,o,t){l.exports={src:'<svg width="11" height="10" viewBox="0 0 11 10" xmlns="http://www.w3.org/2000/svg"><path d="M5.231 0l1.666 3.207 3.565.594-2.535 2.575.537 3.574-3.233-1.615L1.998 9.95l.537-3.574L0 3.801l3.565-.594L5.23 0z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="7" viewBox="0 0 8 7" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 1.882L3.06 3.765 6.824 0 8 1.176 3.059 6.118 0 3.058l1.176-1.176z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,o,t){c.exports={src:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M7.107 3.714c0 1.282-1.04 2.322-2.321 2.322-1.282 0-2.322-1.04-2.322-2.322 0-1.282 1.04-2.321 2.322-2.321 1.282 0 2.321 1.04 2.321 2.321zm7.429 0c0 1.282-1.04 2.322-2.322 2.322-1.282 0-2.321-1.04-2.321-2.322 0-1.282 1.04-2.321 2.321-2.321 1.282 0 2.322 1.04 2.322 2.321zm-5.572 6.964c0-1.794 1.455-3.25 3.25-3.25 1.795 0 3.25 1.456 3.25 3.25v.465h-6.5v-.465zM8.5 8.762c-.502-.971-1.375-1.72-2.43-2.061 1.156-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.966 2.987-1.68.542-2.895 2.118-2.895 3.978V12.07H16.393V10.68c0-1.86-1.215-3.436-2.895-3.978 1.157-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.966 2.987-1.055.34-1.928 1.09-2.43 2.061zm-.464 2.38h-6.5v-.463c0-1.795 1.455-3.25 3.25-3.25 1.795 0 3.25 1.455 3.25 3.25v.464z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(3,1    ),i=s(7,1        ),r=s(133                               ),n=s(188                             ),l=s(106                                     ),a=s(132                                  ),d=s(340              ),p=s(212      ),c=s(145         ),h=s(111                        ),m=s(96                     ),f=s(341                         ),u=s(342                           ),v=s(345                                  ),F=s(222                                      ),M=s(347                                                  ),w=s(174                        ),g=s(224                                            ),E=s(354                            ),y=s(356                                 ),_=s(359                                                         ),R=s(366                                                    ),S=s(367              ),C=s(368                                    ),D=s(229                                 ),N=s(369                              ),x=s(370                                    ),b=s(371                             ),O=d.pxToInt(C.modalWidth),I=d.pxToInt(C.modalHeight),T=d.pxToInt(C.folderRowHeight);function P(e){return!("folder"!==e.view&&"recentFiles"!==e.view&&"searchResults"!==e.view)?"_self":"_blank"}function k(e,o){return o.is_subscribed||m.isADraftsFolder(e,o.id)}o.getTargetAttribute=P,o.isSubcribed=k,o.FILE_MOVE_MODAL="file-move-modal",D.registerModal(o.FILE_MOVE_MODAL,e=>t.createElement(B,Object.assign({fileMove:e.fileMove,modalShown:e.modalShown,creatingNewFolder:e.creatingNewFolder,dropdownShown:e.dropdownShown,selectedView:e.selectedView,dispatch:e.dispatch},h.getPermissionsState(e))));class B extends t.PureComponent{constructor(){super(...arguments),this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=(e=>{this.scrollContainer=e,this.scrollContainerElm=i.findDOMNode(e)}),this.modalData=(()=>this.props.modalShown.data),this.onScroll=(()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(a.fileMove.canMouseFocus({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(a.fileMove.canMouseFocus({canFocus:!0}))},200)}),this.onkeydown=(e=>{if(!(this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused))switch(e.keyCode){case p.Key.ESCAPE:return void this.onClose();case p.Key.UP_ARROW:return void this.props.dispatch(a.fileMove.decrementFocusedIndex());case p.Key.DOWN_ARROW:return void(this.props.fileMove.indexCount&&this.props.dispatch(a.fileMove.incrementFocusedIndex({upperBound:this.props.fileMove.indexCount})));case p.Key.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===f.FolderRowType.NEW_FOLDER_TEAM)this.props.dispatch(l.fileBrowser.openNewFolderModal({where:o.FILE_MOVE_MODAL,teamId:e.id}));else if(e.type===f.FolderRowType.FOLDER_ROW){const o=this.props.folders[e.id];if(!o)break;this.moveFile(o)}return}}}),this.onClose=(()=>{this.props.dispatch(l.fileBrowser.hideModal())}),this.moveFileToSelectedFolder=(()=>{const e=this.getFocusedFolder();e&&this.moveFile(e)}),this.moveFile=(e=>{const o=this.props.fileByKey[this.modalData().fileKey];e&&e.id!==o.folder_id?this.props.dispatch(n.file.tryMove({files:[o],folder:e,fromFileModal:!0})):this.onClose()}),this.getFocusedFolder=(()=>{const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return e&&e.type===f.FolderRowType.FOLDER_ROW?this.props.folders[e.id]:null}),this.onFileMoveContextMenu=((e,o)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(l.fileBrowser.showDropdown({type:this.FILE_MOVE_DROPDOWN,data:{folderId:o.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))})}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!0}))}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,o){const s=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==s){if(!this.scrollContainerElm)return;if(-1===s)return;const e=this.props.fileMove.folderRows[s].positionTop,o=this.scrollContainer.getScrollTop(),t=this.scrollContainerElm.clientHeight;e<o?0===s?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+T>o+t&&(null!=this.props.fileMove.indexCount&&s===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-t+T))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(a.fileMove.setKeyPressedToFalse())}renderDropdown(){const e=this.props.dropdownShown;if(!(e&&e.type===this.FILE_MOVE_DROPDOWN&&e.data&&e.data.folderId))return null;const o=this.props.folders[e.data.folderId];return o?t.createElement(A,Object.assign({folder:o,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch},h.getPermissionsState(this.props))):null}render(){const e=this.props.fileByKey[this.modalData().fileKey],o=null==e.folder_id?null:this.props.folders[e.folder_id],s=this.getFocusedFolder(),i=s&&o&&s.id!==o.id,r=Math.min(.8*window.innerHeight+36,I),n=new c.Vector(window.innerWidth/2-O/2,window.innerHeight/2-r/2);let l=0===this.props.fileMove.teamOrder.length;return t.createElement(R.DraggableModalBgDisabled,{title:t.createElement(K,{folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.moveFile,dispatch:this.props.dispatch}),headerSize:"small",initialPosition:n,dragHeaderOnly:!0,onClose:this.onClose},t.createElement("div",{className:S.main},this.props.fileMove.folderSearchQuery&&l?t.createElement("div",{className:S.emptyModal},`No results found for '${this.props.fileMove.folderSearchQuery}'`):t.createElement(M.ScrollContainer,{width:O,className:S.teamSectionBody,showScrollbar:!0,ref:this.scrollContainerRef,onScroll:this.onScroll},t.createElement(L,Object.assign({fileToMove:e,fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,dispatch:this.props.dispatch},h.getPermissionsState(this.props)))),t.createElement("div",{className:S.footer},t.createElement(g.ButtonSecondary,{onClick:this.onClose},"Cancel"),t.createElement(g.ButtonPrimary,{disabled:!i,onClick:this.moveFileToSelectedFolder},"Move"))),this.renderDropdown(),t.createElement(V,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder}))}}o.FileMoveModal=B,B.displayName="FileMoveModal";class K extends t.PureComponent{constructor(e){super(e),this.onFocus=(()=>{this.props.dispatch(a.fileMove.resetFocusedIndex()),this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!0}))}),this.onBlur=(()=>{this.props.dispatch(a.fileMove.isSearchFocused({isSearchFocused:!1}))}),this.onChange=(e=>{e.stopPropagation(),this.props.dispatch(a.fileMove.setFolderSearchQuery({query:e.currentTarget.value}))}),this.onSearchKeyDown=(e=>{e.stopPropagation();const o=this.searchInputRef.current;switch(e.keyCode){case p.Key.DOWN_ARROW:o&&o.blur(),null!=this.props.folderCount&&this.props.dispatch(a.fileMove.incrementFocusedIndex({upperBound:this.props.folderCount}));break;case p.Key.UP_ARROW:o&&o.blur(),this.props.dispatch(a.fileMove.decrementFocusedIndex());break;case p.Key.ESCAPE:if(!o)break;o.value?(o.value="",this.props.dispatch(a.fileMove.setFolderSearchQuery({query:""}))):o.blur(),this.props.dispatch(a.fileMove.resetFocusedIndex());break;case p.Key.TAB:o&&o.blur(),this.props.dispatch(a.fileMove.resetFocusedIndex());break;case p.Key.ENTER:{o&&o.blur();const e=this.props.getFocusedFolder();e&&this.props.moveFolder(e);break}}}),this.searchInputRef=t.createRef()}componentDidMount(){const e=this.searchInputRef.current;e&&e.focus()}render(){return t.createElement("div",{className:S.title},t.createElement("p",null,"Move to Project"),t.createElement("div",null,t.createElement(F.LazyInput,{ref:this.searchInputRef,placeholder:"Search",onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?S.searchInput:S.searchInputEmpty,value:this.props.searchQuery,onChange:this.onChange})))}}o.FileMoveSearch=K,K.displayName="FileMoveSearch";class L extends t.PureComponent{render(){const{fileMove:e}=this.props;return t.createElement("div",null,null!=e.teamOrder&&e.teamOrder.map(o=>{if(o===u.USER_FOLDERS&&null!=e.foldersByTeamId&&0===e.foldersByTeamId[o].length)return;let s=!0;const i=this.props.teams[o];return o===u.USER_DRAFTS&&(s=!1),t.createElement("div",{className:S.teamSection,key:`Team Section ${o}`},s&&t.createElement("div",{className:S.teamTitle},o===u.USER_FOLDERS&&t.createElement(w.Svg,{svg:b}),o!==u.USER_FOLDERS&&t.createElement("div",{className:S.iconContainer},t.createElement(E.Avatar,{entity:this.props.teams[o],size:24})),t.createElement("div",{className:S.teamTitleText},o===u.USER_FOLDERS?"Shared Projects":this.props.teams[o].name)),i&&t.createElement(_.NewFolder,Object.assign({teamId:o,shouldRedirect:!1,where:"file-move-modal",dispatch:this.props.dispatch,isFocused:e.focusedIndex===this.props.indexOffsets[o],creatingNewFolder:this.props.creatingNewFolder},h.getPermissionsState(this.props))),null!=e.foldersByTeamId&&(e.foldersByTeamId[o]||[]).map((s,r)=>{let n=r+this.props.indexOffsets[o];return i&&(n+=1),t.createElement(W,{key:`${s.team_id} ${s.id}`,folderBeingRenamed:e.folderRenaming,folders:this.props.folders,index:n,isFocused:e.focusedIndex===n,folder:s,isSearchingFolders:!!e.isSearchResult,fileToMove:this.props.fileToMove,onFileMoveContextMenu:this.props.onFileMoveContextMenu,dispatch:this.props.dispatch})}))}),t.createElement("div",{className:S.searchForMoreRow},t.createElement("div",{className:S.iconContainer}),t.createElement("div",{className:S.folderName},"Don't see a project? Try searching for it.")))}}o.TeamDisplay=L,L.displayName="TeamDisplay";class W extends t.PureComponent{constructor(){super(...arguments),this.submitFolderRename=((e,o)=>{this.props.dispatch(r.folder.rename({folderId:e.id,folderName:o})),this.props.dispatch(a.fileMove.endFolderRename())}),this.cancelFolderRename=(()=>{this.props.dispatch(a.fileMove.endFolderRename())}),this.focusFolder=((e,o)=>{o.preventDefault(),this.props.dispatch(a.fileMove.setFocusedIndexAt({indexAt:this.props.index}))}),this.onContextMenu=((e,o)=>{this.props.onFileMoveContextMenu(o,e)}),this.renderFolderRename=(e=>t.createElement("div",{className:S.folderRow},t.createElement(y.Input,{key:`input ${e.id}`,className:S.renameInput,placeholderValue:m.getFolderName(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename}))),this.renderFolderRow=(e=>{const o=this.props.fileToMove.folder_id===e.id,s=k(this.props.folders,e)&&this.props.isSearchingFolders;return t.createElement("div",{className:S.folderRow},t.createElement("div",{className:S.iconContainer},o&&t.createElement(w.Svg,{svg:x})),t.createElement("span",{className:S.folderName},m.getFolderName(e)),t.createElement("div",{className:S.iconContainer},s&&t.createElement(w.Svg,{svg:N})))})}render(){const e=this.props.folderBeingRenamed?S.folderRowWrapper:this.props.isFocused?S.folderRowWrapperFocused:S.folderRowWrapper,o=this.props.folder;return t.createElement("div",{className:e,onMouseDown:this.focusFolder.bind(this,o),key:`${o.team_id} ${o.id}`,onContextMenu:this.onContextMenu.bind(this,o)},this.props.folderBeingRenamed===o.id?this.renderFolderRename(o):this.renderFolderRow(o))}}o.FolderSection=W,W.displayName="FolderSection";class A extends t.PureComponent{constructor(){super(...arguments),this.renameFolder=(()=>{this.props.dispatch(a.fileMove.startFolderRename({folderId:this.props.folder.id}))})}render(){const e=this.props.folder,o=h.canEditFolder(this.props.folder.id,this.props)&&!!e.name,s=`/files/project/${e.id}`,i=P(this.props.selectedView);return t.createElement(v.dropdown.Dropdown,{className:S.fileMoveContextMenu,style:this.props.dropdownShown.data.position},t.createElement(v.dropdown.Option,{disabled:!o,onClick:this.renameFolder},"Rename"),t.createElement(v.dropdown.Separator,null),t.createElement(v.dropdown.Option,{href:s,target:i},"Show in Files..."))}}o.FileMoveDropdown=A,A.displayName="FileMoveDropdown";class V extends t.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=(e=>{this.hiddenDiv=e})}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return t.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}o.FileMoveHiddenDiv=V,V.displayName="FileMoveHiddenDiv"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),l=i(188                             ),o=i(259                                    ),r=i(227                                 ),n=i(229                                 );t.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING="file-delete-component-unpublish-warning",n.registerModal(t.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING,e=>{let t=e.modalShown.data.filesToDeleteByKey;return s.createElement(a,Object.assign({filesToDeleteByKey:t},e))});class a extends s.Component{constructor(){super(...arguments),this.deleteFiles=(()=>{this.props.dispatch(l.file.deleteFiles({fileKeys:this.props.filesToDeleteByKey,userInitiated:!0})),this.props.dispatch(o.tileSelect.resetTileSelection())})}render(){const e=Object.keys(this.props.filesToDeleteByKey),t=e.length;if(0===t)return null;let i,l,o;if(1===t){l=`Are you sure you want to delete ${i=this.props.filesToDeleteByKey[e[0]].name}? Its published components will disappear from the Team Library.`,o=`Delete ${i}`}else l=`Are you sure you want to delete these ${i=`${t} files`}? Their published components will disappear from the Team Library.`,o="Delete";return s.createElement(r.ConfirmationModal,Object.assign({content:l,confirmText:o,onConfirm:this.deleteFiles},this.props))}}a.displayName="DeleteFilesUnpublishWarning"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(94                                   ),s=i(137                             ),a=i(134                             ),r=i(106                                     ),o=i(130                                              ),d=i(188                             ),c=i(189                                        ),n=i(96                     ),f=i(259                                    ),p=i(258                           ),u=i(112                      ),y=i(95                      ),h=i(111                        ),m=i(334                  ),g=i(124     ),_=i(114           ),v=i(121              ),F=i(196               ),b=i(104                     ),k=i(46,1            ),w=i(188                             ),S=i(119              ),E=i(136                            ),I=i(339                                           ),O=i(372                                        ),B=i(165                                     ),M=i(190             ),A=i(115          ),R=i(373                                                                );var D=!1;t.createSavepoint=((e,t,i="",l)=>{let s=l.getState().fileByKey[e];return null!=s?g.default.post(`/api/multiplayer/${e}/create_savepoint`).then(({data:e})=>{const a=e.meta;return l.dispatch(c.versionHistory.append({history:{versions:[a]},direction:M.PREV_PAGE})),l.dispatch(c.versionHistory.setDocHasChangedSinceLastSavepoint({status:!1})),l.dispatch(d.file.updateSavepoint({file:s,savepointID:a.id,label:t,description:i})),a}):Promise.resolve(null)}),t.dispatchSetActiveUsers=((e,t,i=!1)=>{const l=t.getState();for(let s in e){if(i&&l.activeFileUsers&&s in l.activeFileUsers)continue;const a=e[s],r=[];if(a)for(let e in a){let t=JSON.parse(a[e]);r.push(t)}t.dispatch(d.file.setActiveUsers({fileKey:s,users:r}))}});const K=_.debounce((e,i)=>{let l=i.getState();l.activeFileUsers&&(e=e.filter(e=>!(e in l.activeFileUsers))),e.length&&g.default.post("/api/active_file_users",{keys:e}).then(e=>{const l=e.data.meta.active_file_users;t.dispatchSetActiveUsers(l,i,!0)}).catch(e=>{})},1e3);t.selectedViewReducerWasSkipped=!1,t.default=(e=>i=>(function(c){var _;const M=()=>{e.dispatch(d.file.restoreTrashedFiles({fileKeys:c.payload.fileKeys,userInitiated:!0})),e.dispatch(o.visualBell.dequeue({}))};if(d.file.getActiveUsers.matches(c))return K(c.payload.fileKeys,e),i(c);if(d.file.tryDeleteFiles.matches(c)){for(let t in c.payload.filesByKey){const l=c.payload.filesByKey[t];if(!l.team_id)continue;const s=e.getState().library.published.components[l.team_id],a=s&&s[l.key];if(a)for(let t in a)if(null==a[t].unpublished_at)return e.dispatch(r.fileBrowser.showModal({type:R.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING,data:{filesToDeleteByKey:c.payload.filesByKey}})),i(c)}return e.dispatch(d.file.deleteFiles({fileKeys:c.payload.filesByKey,userInitiated:!0})),e.dispatch(f.tileSelect.resetTileSelection()),i(c)}if(a.orgs.switchActiveOrgAndSetCurrentOrgId.matches(c))D=!1,e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:[]}));else{if(s.team.del.matches(c))return D=!1,e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:[]})),i(c);if(r.fileBrowser.selectView.matches(c)){let s=c;if("deletedFiles"===c.payload.view){if(D)return i(c);D=!0;let t={org_id:e.getState().currentOrgId};g.default.get("/api/trashed_files",t).then(t=>{let i=JSON.parse(t.response);e.dispatch(r.fileBrowser.setDeletedFiles({deletedFiles:i.meta}))})}else if("fullscreen"===c.payload.view&&c.payload.fileKey){if(!e.getState().userStateLoaded)return i(c);const a=h.getPermissionsState(e.getState()),o=a.fileByKey[c.payload.fileKey];if(!o)return i(c);if(!h.canViewFile(o.key,a)){const i=null!=o.folder_id?a.orgDraftsOwners[o.folder_id]:null;i&&h.isOrgUserRestricted(i)?e.dispatch(r.fileBrowser.showModal({type:E.VIEW_RESTRICTED_FILE_MODAL,data:{user:i.user}})):e.dispatch(l.flash.error("You don't have permission to open this file.")),t.selectedViewReducerWasSkipped=!0,s=Object.assign(Object.assign({},c),{payload:e.getState().selectedView})}}return i(s)}if(d.file.copySelectedToDrafts.matches(c)||d.file.copySelected.matches(c)){let t=e.getState();const s=n.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);let a=Object.keys(t.tileSelect&&t.tileSelect[p.TileSelectionType.FILES]||{}).concat(Object.keys(t.tileSelect&&t.tileSelect[p.TileSelectionType.PINNED_FILES]||{})).map(e=>{let i=t.fileByKey[e];const l=s?s.id:i.folder_id;return{key:e,folderId:d.file.copySelected.matches(c)&&null!=i.folder_id&&h.canEditFolder(i.folder_id,t)?i.folder_id:l}});return F.parallel(a.map(({key:t,folderId:i})=>{const s=g.default.post(`/api/multiplayer/${t}/copy?${v.encode({folder_id:i})}`);return s.catch(({data:t})=>{t&&t.message?e.dispatch(l.flash.error(t.message)):e.dispatch(l.flash.error("An error occurred while duplicating this file."))}),s})).then(i=>{if(!i.some(e=>"reject"===e.type)){let l=a.filter(e=>s&&e.folderId===s.id).length;if(l>0&&s&&("folder"!==t.selectedView.view||t.selectedView.folderId!==s.id)){const t=(1===a.length?"File":l===a.length?l+" files":"Some files")+" duplicated to your Drafts",i={text:"Show",action:()=>{s&&e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:s.id})),e.dispatch(o.visualBell.dequeue({}))}};e.dispatch(o.visualBell.enqueue({type:"file_duplicated",message:t,button:i}))}"searchResults"===t.selectedView.view&&t.fileSearch&&null!=t.fileSearch.query&&e.dispatch(r.fileBrowser.setFileSearchQuery({query:t.fileSearch.query}));const d=i.map(e=>null!=e.resolve?e.resolve.data.meta:null).filter(e=>null!=e);u.trackEventForFileCopy(a,d,e.getState())}}),i(c)}if(d.file.deleteFiles.matches(c)||d.file.deleteFilesForever.matches(c)){let t=d.file.deleteFiles.matches(c);if(c.payload.userInitiated){let s=b.getOptimisticTransactionID(),a=Object.keys(c.payload.fileKeys);g.default.del("/api/files_batch",{files:a.map(e=>({key:e})),trashed:t}).then(r=>{if(207===r.status){i({type:null,optimist:{type:k.REVERT,id:s}});try{let t=JSON.parse(r.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let s=m.getDeleteFilesPayload(i,e.getState(),!1);e.dispatch(d.file.deleteFiles({fileKeys:s,userInitiated:!1})),e.dispatch(l.flash.error(t.message))}catch(c){e.dispatch(l.flash.error("An error occurred while deleting these files."))}}else{const l=1===a.length?"File deleted":`${a.length} files deleted`;t?e.dispatch(o.visualBell.enqueue({type:"file_deleted",message:l,button:{text:"Undo",action:M}})):e.dispatch(o.visualBell.enqueue({type:"file_deleted",message:`${l} forever`})),i({type:null,optimist:{type:k.COMMIT,id:s}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(l.flash.error(t.message))}catch(a){e.dispatch(l.flash.error("An error occurred while deleting these files."))}i({type:null,optimist:{type:k.REVERT,id:s}})}),(c=Object.assign({},c)).optimist={type:k.BEGIN,id:s};const r=t?"File Trashed":"File Deleted";return u.trackBatchEventForFiles(r,a,e.getState()),i(c)}return i(c)}if(d.file.restoreTrashedFiles.matches(c)){if(c.payload.userInitiated){let t=e.getState(),s=b.getOptimisticTransactionID(),a=Object.keys(c.payload.fileKeys);g.default.post("/api/files_batch/restore",{files:a.map(e=>({key:e}))}).then(c=>{if(207===c.status){i({type:null,optimist:{type:k.REVERT,id:s}});try{let t=JSON.parse(c.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let s=m.getRestoreFilesPayload(i,e.getState(),!1);e.dispatch(d.file.restoreTrashedFiles({fileKeys:s,userInitiated:!1})),e.dispatch(l.flash.error(t.message))}catch(f){e.dispatch(l.flash.error("An error occurred while restoring these files."))}}else{let l,d=1===a.length?"File restored":`${a.length} files restored`,c=null,f=!0;for(let e of a)if(null===c)c=t.fileByKey[e].folder_id;else if(c!==t.fileByKey[e].folder_id){f=!1;break}if(f){const i=e.getState().selectedView;if(!i||"folder"!==i.view||i.folderId!==c){const i=n.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);l={text:`Show in ${i&&c===i.id?"Drafts":"project"}`,action:()=>{null!=c&&e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:c})),e.dispatch(o.visualBell.dequeue({}))}}}}e.dispatch(o.visualBell.enqueue({type:"file_restored",message:d,button:l})),i({type:null,optimist:{type:k.COMMIT,id:s}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(l.flash.error(t.message))}catch(a){e.dispatch(l.flash.error("An error occurred while restoring these files."))}i({type:null,optimist:{type:k.REVERT,id:s}})}),(c=Object.assign({},c)).optimist={type:k.BEGIN,id:s};const f=Object.keys(c.payload.fileKeys);return u.trackBatchEventForFiles("File Restored",f,e.getState()),i(c)}return i(c)}if(d.file.updateSavepoint.matches(c)){const t=g.default.put(`/api/versions/${c.payload.file.key}/${c.payload.savepointID}`,{label:c.payload.label,description:c.payload.description});return b.optimisticRequest({requestPromise:t,fallbackError:"An error occurred while updating this version.",store:e,next:i,action:c}),i(c)}if(d.file.duplicate.matches(c)||d.file.duplicateCheckpoint.matches(c)){let t=e.getState(),l=!!t.editingFileKey,s={},a=t.fileByKey[c.payload.file.key],f=null!=a.folder_id&&h.canEditFolder(a.folder_id,t);const p=n.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);s.folder_id=f||!p?a.folder_id:p.id,d.file.duplicateCheckpoint.matches(c)&&(s.checkpoint_key=c.payload.checkpointKey);let y=g.default.post(`/api/multiplayer/${a.key}/copy?${v.encode(s)}`).then(({data:t})=>{if(!t.error&&t.meta&&l){const i=t.meta;u.trackEventForFile("File Duplicated",a.key,e.getState(),{duplicatedFileKey:i.key,duplicatedContainingFolderId:i.folder_id,duplicatedFileTeamId:i.team_id}),e.dispatch(o.visualBell.enqueue({type:"file_duplicated",message:`File duplicated${f?"":" to your Drafts"}`,button:{text:"Open",action:t=>{e.dispatch(o.visualBell.dequeue({})),t.shiftKey||t.ctrlKey||t.metaKey?A.redirect(i.url,"_blank"):(e.dispatch(d.file.put({file:i})),e.dispatch(r.fileBrowser.selectView({view:"fullscreen",fileKey:i.key})))}}}))}});return b.optimisticRequest({requestPromise:y,fallbackError:"An error occurred while copying this file.",store:e,next:i,action:c})}if(d.file.tryMove.matches(c)){const t=i(c);if(c.payload.files.length>0){const i=e.getState(),s=c.payload.folder;if(!h.canEditFolder(s.id,i))return e.dispatch(l.flash.error(`You don't have permission to move files into '${s.name}.'`)),t;let a=null,o=!1,n=null;for(let r of c.payload.files){const s=r.folder_id?i.folders[r.folder_id]:null;if(!h.canManageFile(r.key,i,!0))return e.dispatch(l.flash.error(`You don't have permission to remove files from ${s?s.name:"this project"}.`)),t;const d=i.figFilePublishedAsHubFile[r.key]||null,c=d&&i.hubFiles[d]||null;if(null===(_=c)||void 0===_?void 0:_.author_team)return e.dispatch(l.flash.error(`You can't move a file that's been published to the Community Hub by a team. File ${r.name} has been published by team ${c.author_team.name}.`)),t;a?s&&a.id===s.id||(o=!0):a=s}if(s.team_id&&(!a||a.team_id!==s.team_id)&&y.isFolderEditingLockedForUser(s,i))return e.dispatch(r.fileBrowser.showModal({type:I.UPSELL_MOVE_FILE_MODAL,data:{teamId:s.team_id}})),t;if(a)if(a.team_id){let e=i.teams[a.team_id];o?n=`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to some of them.`:a.team_id!==s.team_id&&(n=1===c.payload.files.length?`Are you sure you want to move this file? Members of ${e?e.name:"this team"} may lose access to it.`:`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to them.`)}else h.isFolderShared(a.id,i)&&(n=o?`Are you sure you want to move these files? Members of '${a.name}' may lose access to some of them.`:1===c.payload.files.length?`Are you sure you want to move this file? Members of '${a.name}' may lose access to it.`:`Are you sure you want to move these files? Members of '${a.name}' may lose access to them.`);else n=o?"Are you sure you want to move these files? Members of the previous projects may lose access to them.":1===c.payload.files.length?"Are you sure you want to move this file? Members of the previous project may lose access to it.":"Are you sure you want to move these files? Members of the previous project may lose access to them.";n&&!c.payload.fromFileModal?e.dispatch(r.fileBrowser.showModal({type:E.FILE_MOVE_CONFIRM_MODAL,data:{message:n,onConfirm:()=>{e.dispatch(d.file.move({files:c.payload.files,folderId:c.payload.folder.id}))}}})):e.dispatch(d.file.move({files:c.payload.files,folderId:c.payload.folder.id,fromFileModal:c.payload.fromFileModal}))}return t}if(d.file.move.matches(c)){const t=c.payload.files;if(t.length>0){const l=t.map(e=>e.key);u.trackBatchEventForFiles("File Moved",l,e.getState());const s=g.default.put("/api/files_batch",{files:t.map(e=>({key:e.key,folder_id:c.payload.folderId}))});return s.then(({data:t})=>{const i=t&&t.meta&&t.meta.success||{};for(let l in i)e.dispatch(d.file.put({file:i[l]}));if(c.payload.fromFileModal){const t=e.getState(),i=t.folders[c.payload.folderId];e.dispatch(o.visualBell.enqueue({type:"file-moved",message:`Moved '${c.payload.files[0].name}' to ${n.getFolderName(i)}`}));const l=t.modalShown;if(l&&l.type===O.FILE_MOVE_MODAL){const t=l.data;e.dispatch(r.fileBrowser.hideModal()),t.isPublishing&&t.afterFileMove&&t.afterFileMove()}}}),b.optimisticRequest({requestPromise:s,fallbackError:"An error occurred while processing this file.",store:e,next:i,action:c})}return i(c)}if(d.file.put.matches(c))return c.payload.userInitiated?(c.payload.file.created_at&&console.error("It looks like you are PUT-ting to the API with the entire file object; please only pass the key and changed attributes"),b.optimisticRequest({requestPromise:g.default.put(`/api/files/${c.payload.file.key}`,c.payload.file),fallbackError:"An error occurred while processing this file.",store:e,next:i,action:c})):i(c);if(d.file.stopRenaming.matches(c)){if(c.payload.name){const t={key:c.payload.file.key,name:c.payload.name,folder_id:c.payload.file.folder_id,link_access:c.payload.file.link_access};e.dispatch(d.file.put({file:t,userInitiated:!0})),u.trackEventForFile("File Renamed",t.key,e.getState(),{fileName:t.name})}return i(c)}if(d.file.createSavepoint.matches(c)){const l=t.createSavepoint(c.payload.file.key,c.payload.label,c.payload.description,e);return b.optimisticRequest({requestPromise:l,fallbackError:"You must be online to save this version.",store:e,next:i,action:c}),i(c)}if(d.file.restore.matches(c)){let t=g.default.post(`/api/multiplayer/${c.payload.file.key}/restore?checkpoint_key=${encodeURIComponent(c.payload.checkpointKey)}`).then(()=>{A.locationReload("File restored",{key:c.payload.file.key})});return b.optimisticRequest({requestPromise:t,fallbackError:"An error occurred while restoring this version.",store:e,next:i,action:c}),i(c)}if(d.file.markViewed.matches(c))return g.default.post(`/api/files/${c.payload.file.key}/view`).catch(()=>{}),i(c);if(d.file.copyLink.matches(c)){const t=c.payload.url,l=c.payload.copyType||w.CopyType.FILE_URL;return S.copyText(t).then(()=>{u.trackEventForFile(l===w.CopyType.EMBED_CODE?"Embed Code Copied":"File Share Link Copied",c.payload.file.key,e.getState()),e.dispatch(o.visualBell.enqueue({type:"link_copied_to_clipboard",message:l===w.CopyType.EMBED_CODE?"Embed code copied to clipboard":B.defaultStringsRaw["link-copied"]}))}).catch(()=>{e.dispatch(r.fileBrowser.showModal({type:E.TILE_COPY_LINK_MODAL,data:{link:t}}))}),i(c)}if(d.file.recentFilesDelete.matches(c)){if(c.payload.userInitiated){const t=c.payload.files.map(e=>e.key);let l=g.default.del("/api/files_batch/view",{file_keys:t}),s=c.payload.files.length>1?"these files":"this file";return u.trackBatchEventForFiles("File RecentFiles Removed",t,e.getState()),b.optimisticRequest({requestPromise:l,fallbackError:`An error occurred while removing ${s} from Recently Viewed.`,store:e,next:i,action:c})}return i(c)}}return i(c)}))}),
(function(e,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e.CANVAS="canvas",e.PROTOTYPE="prototype"}(o.ViewerModeToPublishAs||(o.ViewerModeToPublishAs={}))}),
(function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function u(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(u,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=i(124     ),o=i(146                                          ),u=i(375                        ),a=i(213              ),l=i(329                                 ),s=i(326                 ),c=i(122        ),d=i(163                               ),_=i(235                              ),m=i(211                            );t.emptyHubFileVersion={id:"",hub_file_id:"",name:"",version:"",release_notes:"",description:"",created_at:"",signed_cover_image_url:""},t.emptyHubFile={id:"",creator:{id:"",handle:"",img_url:""},author_org:null,author_team:null,versions:{},current_hub_file_version_id:"",redirect_canvas_url:"",redirect_thumbnail_url:"",created_at:"",unpublished_at:null,duplicate_count:0,like_count:0,view_count:0,viewer_mode:u.ViewerModeToPublishAs.CANVAS,support_contact:null,realtime_token:"",client_meta:"",tags:[],hide_remixes:!1};const p={name:"",description:"",supportContact:"",tags:_.getDefaultAutocompleteValue(),viewerModeToPublishAs:u.ViewerModeToPublishAs.CANVAS,author:{author_org_id:null,author_team_id:null}};function b(e,i){return a.getById(e,i,t.emptyHubFile)}function h(e,i){const r=i||e.current_hub_file_version_id;return a.getById(r,e.versions,t.emptyHubFileVersion)}t.getHubFileIdFromShareUrl=function(e){const t=e.match(/\/c\/file\/(\d+)/);return t&&t[1]?t[1]:null},t.getHubFileById=b,t.getHubFileVersion=h,t.duplicateHubFile=(e=>r(void 0,void 0,void 0,function*(){return n.default.post(`/api/hub_files/${e}/copy`).then(({data:e})=>{return e.meta})})),t.getDefaultHubFileVersionMetadata=function(e,t){const i=b(e.figFilePublishedAsHubFile[t],e.hubFiles),r=h(i),n=p,o=e.fileByKey[t];let a=u.ViewerModeToPublishAs.CANVAS;i.viewer_mode===u.ViewerModeToPublishAs.PROTOTYPE&&d.PrototypingHelpers.firstPagePrototypeStatus()===d.PrototypeStatus.VALID&&(a=u.ViewerModeToPublishAs.PROTOTYPE);const s=Object.assign(Object.assign({},_.getDefaultAutocompleteValue()),{tokens:(i.tags||[]).map(e=>({user:null,email:e,state:m.AutocompleteTokenState.OK}))});return{name:r.name||("Untitled"===o.name?"":o.name),description:r.description||n.description,supportContact:i.support_contact||n.supportContact,tags:s,viewerModeToPublishAs:a,author:l.getDefaultHubFilePublishingMetadataAuthor(i,o,e)}},t.validateHubFilePublishForm=function(e){const t={},i=a.trimString(e.name).length;0===i?t.name="Name must not be empty":i>100&&(t.name="Name must be at most 100 characters long"),a.trimString(e.description).length>1e4&&(t.description="Description must be at most 10000 characters long");const r=a.validateTags(e.tags);return r&&(t.tags=r),t},t.getThumbnailBufferForHubFile=(e=>{if(!o.fullscreen)return null;return o.fullscreen.DEPRECATED_sendMessage("generateThumbnailForNode",{guid:e,width:s.COVER_IMAGE_WIDTH,height:s.COVER_IMAGE_HEIGHT,maxScale:2}).buffer}),t.filterUserProfileHubFiles=((e,t)=>Object.keys(e).reduce((i,r)=>{const n=e[r];return n.creator.id!==t||n.author_org||n.author_team||(i[r]=n),i},{})),t.filterOrgProfileHubFiles=((e,t)=>Object.keys(e).reduce((i,r)=>{var n;const o=e[r];return(null===(n=o.author_org)||void 0===n?void 0:n.id)===t&&(i[r]=o),i},{})),t.filterTeamProfileHubFiles=((e,t)=>Object.keys(e).reduce((i,r)=>{var n;const o=e[r];return(null===(n=o.author_team)||void 0===n?void 0:n.id)===t&&(i[r]=o),i},{})),t.getHubFilesSortedByRecency=(e=>c.sortByCreatedAt(Object.keys(e).map(t=>e[t])))}),
(function(e,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=u(326                             ),t=u(85                   ),r=u(121              ),b=u(164         ),l=u(330                          ),s=u(376                     ),a=u(312                             ),m=u(210                               ),o=u(213                          ),c=u(208        );function d(e,i){return`/c/file/${e}${i?`/${b.URISlug(i)}`:""}`}function h(e,i){return`/c/plugin/${e}${i?`/${b.URISlug(i)}`:""}`}function g(e,i){const u=i?b.URISlug(i):"";return`/c/file/${e}/${u?`${u}/`:""}remixes`}i.CommunityHubViewSelector=class{pathToSelectedView(e,i,u){var b,l;if("c"===i[1]){const e=u?r.parse(u):{};if("plugin"===i[2]&&i[3].startsWith("all")){const i={view:"communityHub",subView:"pluginSearch",query:e.q||""};return e.sort&&(i.sort=e.sort),"true"===e.desc&&(i.desc=!0),i}if("plugin"===i[2]&&i[3])return{view:"communityHub",subView:"plugin",publishedPluginId:i[3]};if("file"===i[2]&&i[3])return i.length>4&&"remixes"===i[i.length-1]&&n.communityHubGAEnabled()?{view:"communityHub",subView:"remixes",hubFileId:i[3]}:{view:"communityHub",subView:"hubFile",hubFileId:i[3]};if("tag"===i[2]&&i[3]){const u=(null===(b=e.tab)||void 0===b?void 0:b.toUpperCase())===a.CommunityHubLandingTab.PLUGINS?a.CommunityHubLandingTab.PLUGINS:a.CommunityHubLandingTab.FILES;return{view:"communityHub",subView:"landing",tag:decodeURIComponent(i[3]),tab:u}}return"admin"===i[2]&&n.communityHubAdminEnabled()?i[3]&&"plugins"===i[3]?{view:"communityHub",subView:"admin",tab:a.CommunityHubAdminTab.PUBLIC_PLUGINS}:i[3]&&"plugins_review"===i[3]?{view:"communityHub",subView:"admin",tab:a.CommunityHubAdminTab.PLUGIN_REVIEW}:{view:"communityHub",subView:"admin",tab:a.CommunityHubAdminTab.HUB_FILES}:"search"===i[2]&&t.getFeatureFlags().community_hub_search?{view:"communityHub",subView:"search"}:n.communityHubGAEnabled()?{view:"communityHub",subView:"landing",tab:(null===(l=e.tab)||void 0===l?void 0:l.toUpperCase())===a.CommunityHubLandingTab.PLUGINS?a.CommunityHubLandingTab.PLUGINS:a.CommunityHubLandingTab.FILES}:{view:"communityHub",subView:"dashboard"}}if(i.length>=2&&i[1].startsWith("@")){const u=i[1].slice(1),{profileHandleToInfo:n}=e;return n&&u?u.toLowerCase()in n?null:{view:"communityHub",subView:"handle",handle:u}:null}return null}requireHistoryChange(e,i){return"communityHub"!==e.view||"communityHub"!==i.view?"communityHub"===e.view!=("communityHub"===i.view):"handle"===e.subView&&"handle"===i.subView?e.handle!==i.handle:"plugin"===e.subView&&"plugin"===i.subView?e.publishedPluginId!==i.publishedPluginId:"hubFile"===e.subView&&"hubFile"===i.subView?e.hubFileId!==i.hubFileId:"remixes"===e.subView&&"remixes"===i.subView?e.hubFileId!==i.hubFileId:e.subView!==i.subView}selectedViewName(e,i){if("communityHub"!==i.view)return null;if("plugin"===i.subView){const u=l.getPublishedPluginById(i.publishedPluginId,e.publishedPlugins);return l.getPluginVersion(u).name||""}if("hubFile"===i.subView){const u=s.getHubFileById(i.hubFileId,e.hubFiles);return s.getHubFileVersion(u).name||""}if("dashboard"===i.subView)return"Community";if("handle"===i.subView)return`@${i.handle}`;if("remixes"===i.subView){const u=s.getHubFileById(i.hubFileId,e.hubFiles);return`${s.getHubFileVersion(u).name||""} Remixes`}return"landing"===i.subView?i.tag?`#${i.tag} resources from the Figma Community`:"Community":"pluginSearch"===i.subView?`Plugin results for ${i.query}`:"admin"===i.subView?"Community Hub Admin":"search"===i.subView?`Search results for '${e.search.parameters.query}'`:void c.assertNever(i)}selectedViewToPath(e,i){if("communityHub"!==i.view)return null;if("dashboard"===i.subView)return"/c";if("landing"===i.subView){const e=i.tab===a.CommunityHubLandingTab.PLUGINS?`?${r.encode({tab:"plugins"})}`:"";return i.tag?`/c/tag/${i.tag}${e}`:`/c${e}`}if("pluginSearch"===i.subView){const e={};return i.query&&(e.q=i.query),i.sort&&(e.sort=i.sort),null!=i.desc&&(e.desc=i.desc),`/c/plugin/all${Object.keys(e).length?`?${r.encode(e)}`:""}`}if("plugin"===i.subView){const u=this.selectedViewName(e,i),n=u?b.URISlug(u):"";let t=`/c/plugin/${i.publishedPluginId}`;return n&&(t+=`/${n}`),t}if("hubFile"===i.subView)return`/c/file/${i.hubFileId}`;if("admin"===i.subView&&n.communityHubAdminEnabled())return i.tab===a.CommunityHubAdminTab.PUBLIC_PLUGINS?"/c/admin/plugins":i.tab===a.CommunityHubAdminTab.HUB_FILES?"/c/admin/hub_files":i.tab===a.CommunityHubAdminTab.PLUGIN_REVIEW?"/c/admin/plugins_review":"/c/admin";if("search"===i.subView&&t.getFeatureFlags().community_hub_search){const i=e.search.parameters,u=i.searchModelType;return`/c/search?${r.encode(Object.assign({model_type:u},i.query&&{q:i.query}))}`}if("remixes"===i.subView&&n.communityHubGAEnabled()){const u=s.getHubFileById(i.hubFileId,e.hubFiles),n=s.getHubFileVersion(u);return g(i.hubFileId,n.name)}return"handle"===i.subView?`/@${i.handle}`:"/c"}},i.profilePath=function(e,i,u){return e?`/@${e}`:u===m.ProfileType.USER?`/user/${i}`:u===m.ProfileType.TEAM?`/team/${i}`:u===m.ProfileType.ORG?`/org/${i}`:void 0},i.hubFilePath=d,i.hubFileEmbedPath=function(e){return`/c/file/${e}/embed?${r.encode({embed_host:"community_hub"})}`},i.pluginPath=h,i.tagPath=function(e){return`/c/tag/${e}`},i.hubFileRemixesPath=g,i.pluginShareURL=((e,i)=>{return new URL(h(e,i),location.href).href}),i.hubFileShareURL=((e,i)=>{return new URL(d(e,i),location.href).href}),i.hubFileTwitterShareURL=(e=>{const u=new URLSearchParams,n=o.getPublisherDisplayString(e);u.append("url",i.hubFileShareURL(e.id));const t=s.getHubFileVersion(e).name;return u.append("text",`Check out ${t||"this file"} by ${n} — a design resource on @figmadesign:`),`https://twitter.com/intent/tweet?${u.toString()}`}),i.hubFileFacebookShareURL=(e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i.hubFileShareURL(e))}`)}),
(function(e,i,t){"use strict";var a=this&&this.__awaiter||function(e,i,t,a){return new(t||(t=Promise))(function(l,o){function r(e){try{u(a.next(e))}catch(i){o(i)}}function s(e){try{u(a.throw(e))}catch(i){o(i)}}function u(e){var i;e.done?l(e.value):(i=e.value,i instanceof t?i:new t(function(e){e(i)})).then(r,s)}u((a=a.apply(e,i||[])).next())})},l=this&&this.__rest||function(e,i){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t};Object.defineProperty(i,"__esModule",{value:!0});const o=t(124     ),r=t(136                            ),s=t(98                  ),u=t(106                                     ),n=t(333                                                    ),d=t(103                 ),c=t(264                                  ),h=t(105                               ),b=t(374                        ),p=t(375                        ),_=t(187                             ),F=t(130                                              ),f=t(213                          ),g=t(376                     ),m=t(377                                                        ),I=t(115          ),E=t(209                              ),H=t(163                               ),P=t(326                             ),y=t(210                               );function A(e,i){if(!e||!e.id)throw new Error(`${i} Invalid hubFile id`);const t=e.current_hub_file_version_id;if(!t)throw new Error(`${i} Invalid hubFile ${e.id}: current version id does not exist`);if(!e.versions||!e.versions[t])throw new Error(`${i} Invalid hubFile ${e.id}: version id ${t} does not exist in versions`);return e}i.putAll=s.actionCreator("HUB_FILE_PUT_ALL"),i.delAll=s.actionCreator("HUB_FILE_DEL_ALL"),i.putHubFileLike=s.actionCreator("HUB_FILE_UPDATE_LIKES"),i.delHubFileLike=s.actionCreator("HUB_FILE_DEL_LIKES"),i.putFigFilePublishedAsHubFile=s.actionCreator("PUT_FIG_FILE_PUBLISHED_AS_HUB_FILE"),i.delFigFilePublishedAsHubFile=s.actionCreator("DEL_FIG_FILE_PUBLISHED_AS_HUB_FILE"),i.putFigFileRemixedFromHubFile=s.actionCreator("PUT_FIG_FILE_REMIXED_FROM_HUB_FILE"),i.delFigFileRemixedFromHubFile=s.actionCreator("DEL_FIG_FILE_REMIXED_FROM_HUB_FILE"),i.putHubFileRemix=s.actionCreator("HUB_FILE_PUT_HUB_FILE_REMIX"),i.mergeAndValidate=h.asyncActionCreator("HUB_FILE_MERGE_AND_VALIDATE",(e,{hubFiles:t,src:a})=>{if(!t)return;const l=(e.getState().user||{id:null}).id,o=[],r=[];for(const i of t)if(i.unpublished_at&&i.creator.id!=l)r.push(i);else try{o.push(A(i,a))}catch(s){console.error(s)}e.dispatch(i.putAll(o)),e.dispatch(i.delAll(r))}),i.getHubFileVersions=h.asyncActionCreator("HUB_FILE_GET_VERSIONS",(e,{hubFileId:t},a)=>{const r=o.default.get(`/api/hub_files/${t}/versions`);c.registerLoadingState(r,e,a),r.then(({data:a})=>{const o=a.meta,{fig_file_metadata:r,remixed_from_metadata:s,remixed_to_metadata:n}=o,d=l(o,["fig_file_metadata","remixed_from_metadata","remixed_to_metadata"]),c=s?[...n,s,d]:[...n,d];e.dispatch(i.mergeAndValidate({hubFiles:c,src:"getHubFileVersions"})),r&&e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:d.id,fileKey:r.key})),e.dispatch(i.putHubFileRemix({hubFileId:d.id,from:s?s.id:null,to:new Set(n.map(e=>e.id))}));const{selectedView:h}=e.getState();"communityHub"===h.view&&"hubFile"===h.subView&&h.hubFileId===t&&e.dispatch(u.fileBrowser.selectView(h))})},(e,{hubFileId:i})=>`${e}_${i}`),i.getHubFileMetadata=h.asyncActionCreator("HUB_FILE_GET_METADATA",(e,{fileKey:t})=>{o.default.get("/api/hub_file_metadata",{file_key:t}).then(({data:a})=>{var l,o;const r=a.meta.published_as;(null===(l=r)||void 0===l?void 0:l.id)?e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:r.id,fileKey:t})):e.dispatch(i.delFigFilePublishedAsHubFile({fileKey:t}));const s=a.meta.remixed_from_metadata;(null===(o=s)||void 0===o?void 0:o.id)?e.dispatch(i.putFigFileRemixedFromHubFile({hubFileId:s.id,fileKey:t})):e.dispatch(i.delFigFileRemixedFromHubFile({fileKey:t}));const u=[r,s].filter(e=>!!e);u.length>0&&e.dispatch(i.mergeAndValidate({hubFiles:u,src:"getHubFileMetadata"}))}).catch(e=>{console.log(e)})}),i.hubFilePublishingActions=f.publishingStateActionCreator("HUB_FILE"),i.updateHubFilePublishingMetadata=i.hubFilePublishingActions.updateMetadata,i.updateHubFilePublishingStatus=i.hubFilePublishingActions.updateStatus,i.clearHubFilePublishing=i.hubFilePublishingActions.clearMetadataAndStatus,i.clearHubFilePublishingMetadata=i.hubFilePublishingActions.clearMetadata,i.createHubFile=h.asyncActionCreator("HUB_FILE_CREATE",(e,t)=>{e.dispatch(i.updateHubFilePublishingStatus({id:t.fileKey,status:{code:E.HubPublishingStatusCode.UPLOADING}})),function(e,i){return a(this,void 0,void 0,function*(){const{fileKey:t,name:l,description:r,tags:s,thumbnailBuffer:u,viewerMode:n,authorOrgId:d,authorTeamId:c}=i;if(d&&c)throw new Error("Attempting to set both authorOrgId and authorTeamId while publishing");if(n===p.ViewerModeToPublishAs.PROTOTYPE&&H.PrototypingHelpers.firstPagePrototypeStatus()!==H.PrototypeStatus.VALID)throw new Error("Attempting to publish an invalid prototype as a prototype");const h=yield b.createSavepoint(t,"Publish to Community Hub",r,e).then(e=>e.id).catch(e=>{throw new Error(`Error creating savepoint ${e}`)}),{cover_image_uploaded:_,signature:F}=yield function(e,i){return a(this,void 0,void 0,function*(){let t=Promise.resolve({cover_image_uploaded:!1,signature:null});if(i&&i.length){const{cover_image_upload_url:a,signature:l}=yield o.default.post("/api/hub_files/upload",{file_version_id:e}).then(({data:e})=>e.meta).catch(e=>{throw new Error(`Error requesting for upload url ${e}`)});t=o.default.put(a,i,{raw:!0,headers:Object.assign(Object.assign({},o.default.defaults.headers),{"Content-Type":"image/png"})}).then(()=>({cover_image_uploaded:!0,signature:l})).catch(e=>{throw new Error(`Error uploading hub file artwork image ${e}`)})}return t})}(h,u),f={file_version_id:h,name:l,description:r,tags:s,signature:F,cover_image_uploaded:_,viewer_mode:n,author_org_id:d,author_team_id:c};return o.default.post("/api/hub_files",f).then(({data:e})=>{const i=e.meta;let t;return t=i.org_profile?Object.assign(Object.assign({},i.org_profile),{type:y.ProfileType.ORG}):i.team_profile?Object.assign(Object.assign({},i.team_profile),{type:y.ProfileType.TEAM}):Object.assign(Object.assign({},i.user_profile),{type:y.ProfileType.USER}),{hubFile:i.hub_file,publicProfile:t}}).catch(e=>{throw new Error(`Error creating new Hub File Version ${e}`)})})}(e,t).then(({hubFile:a,publicProfile:l})=>{const o=e.getState();e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"createHubFile"})),e.dispatch(i.putFigFilePublishedAsHubFile({hubFileId:a.id,fileKey:t.fileKey})),e.dispatch(n.putPublicProfile(l)),e.dispatch(i.updateHubFilePublishingStatus({id:t.fileKey,status:{code:E.HubPublishingStatusCode.SUCCESS}})),P.communityHubNewPublishingFlowEnabled()||(o.modalShown&&o.modalShown.type===r.HUB_FILE_PUBLISH_MODAL&&e.dispatch(u.fileBrowser.hideModal()),e.dispatch(F.visualBell.enqueue({message:"File published publicly!",type:"hub-file-created",timeout:1e4,button:{text:"View",action:()=>{I.redirect(m.hubFilePath(a.id),"_blank")}}})))}).catch(i=>{e.dispatch(F.visualBell.enqueue({message:`Error: ${i.message} ${i.name}`,type:"hub-file-created-error",timeout:1e4,error:!0}))})}),i.updateHubFile=h.asyncActionCreator("TOGGLE_HUB_FILE_REMIXES",(e,{hubFileId:t,hubFileAttr:a})=>{o.default.put(`/api/hub_files/${t}`,a).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"updateHubFile"}))}).catch(i=>{throw e.dispatch(d.flashActions.error("An error occurred while updating. Please refresh and try again.")),new Error(`Error updating hub file ${i}`)})}),i.unpublishHubFile=h.asyncActionCreator("UNPUBLISH_HUB_FILE",(e,{hubFileId:t,redirectLink:a})=>{o.default.del(`/api/hub_files/${t}`).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:[a],src:"unpublishHubFile"}))}).then(()=>{a&&I.redirect(a)}).catch(e=>{console.log(e)})}),i.showPublishHubFileModal=h.asyncActionCreator("SHOW_PUBLISH_HUB_FILE_MODAL",(e,{fileKey:t})=>{var a,l;const o=e.getState(),s=o.publishingHubFiles[t];null==t||s||e.dispatch(i.updateHubFilePublishingMetadata({id:t,metadata:g.getDefaultHubFileVersionMetadata(o,t)})),(null===(l=null===(a=s)||void 0===a?void 0:a.metadata)||void 0===l?void 0:l.viewerModeToPublishAs)===p.ViewerModeToPublishAs.PROTOTYPE&&H.PrototypingHelpers.firstPagePrototypeStatus()!==H.PrototypeStatus.VALID&&e.dispatch(i.updateHubFilePublishingMetadata({id:t,metadata:Object.assign(Object.assign({},s.metadata),{viewerModeToPublishAs:p.ViewerModeToPublishAs.CANVAS})})),e.dispatch(u.fileBrowser.showModal({type:r.HUB_FILE_PUBLISH_MODAL,data:{fileKey:t}}))}),i.getProfileHubFiles=h.asyncActionCreator("GET_PROFILE_HUB_FILES",(e,t,a)=>{let l;l="userId"in t?o.default.get(`/api/hub_files/user/${t.userId}`):"orgId"in t?o.default.get(`/api/hub_files/org/${t.orgId}`):"teamId"in t?o.default.get(`/api/hub_files/team/${t.teamId}`):Promise.reject("getProfileHubFiles: unknown type"),c.registerLoadingState(l,e,a),l.then(({data:a})=>{const l=a.meta;e.dispatch(i.mergeAndValidate({hubFiles:l,src:`getProfileHubFiles_${f.getProfileType(t)}`}))})},(e,i)=>`${e}_${f.getLoadingStateName(i)}`),i.getProfileHubFilesByHandle=h.asyncActionCreator("GET_PUBLIC_PROFILE_HUB_FILES",(e,{handle:t},a)=>{const l=o.default.get(`/api/hub_files/profile/${t}`);c.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergeAndValidate({hubFiles:a,src:"getPublicProfileHubFiles"}))})},(e,{handle:i})=>`${e}_${i}`),i.likeHubFile=h.optimisticActionCreator("LIKE_HUB_FILE",(e,{hubFileId:t},l)=>a(void 0,void 0,void 0,function*(){o.default.post(`/api/hub_files/${t}/like`).then(({data:t})=>{e.dispatch(h.optimistActions.commit(l));const a=t.meta;e.dispatch(i.putHubFileLike({[a.id]:!0})),e.dispatch(i.putAll([A(a,"likeHubFile")]))}).catch(i=>{e.dispatch(h.optimistActions.revert(l)),e.dispatch(_.visualBellActions.enqueue({message:"Unable to like this hub file. Please try again.",type:"HUB_FILE_LIKE_FAILED",error:!0}))})})),i.unlikeHubFile=h.optimisticActionCreator("UNLIKE_HUB_FILE",(e,{hubFileId:t},l)=>a(void 0,void 0,void 0,function*(){o.default.del(`/api/hub_files/${t}/like`,{hubFileId:t}).then(({data:a})=>{e.dispatch(h.optimistActions.commit(l));const o=a.meta;e.dispatch(i.delHubFileLike({hubFileId:t})),e.dispatch(i.putAll([A(o,"unlikeHubFile")]))}).catch(i=>{e.dispatch(h.optimistActions.revert(l)),e.dispatch(_.visualBellActions.enqueue({message:"Unable to unlike this hub file. Please try again.",type:"HUB_FILE_UNLIKE_FAILED",error:!0}))})})),i.viewHubFile=h.asyncActionCreator("VIEW_HUB_FILE",(e,{hubFileId:i})=>a(void 0,void 0,void 0,function*(){o.default.post(`/api/hub_files/${i}/view`,{hubFileId:i})}))}),
(function(e,i,t){"use strict";var a=this&&this.__awaiter||function(e,i,t,a){return new(t||(t=Promise))(function(l,n){function s(e){try{u(a.next(e))}catch(i){n(i)}}function o(e){try{u(a.throw(e))}catch(i){n(i)}}function u(e){var i;e.done?l(e.value):(i=e.value,i instanceof t?i:new t(function(e){e(i)})).then(s,o)}u((a=a.apply(e,i||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const l=t(98                  ),n=t(105                               ),s=t(106                                     ),o=t(333                                                    ),u=t(136                            ),r=t(124     ),d=t(330                          ),g=t(126          ),c=t(264                                  ),p=t(213                          ),h=t(209                              ),P=t(111                        ),b=t(210                               );i.putAll=l.actionCreator("PLUGIN_PUT_ALL"),i.delAll=l.actionCreator("PLUGIN_DEL_ALL"),i.mergePublishedAndValidate=n.asyncActionCreator("MERGE_PUBLISHED_PLUGIN",(e,{publishedPlugins:t,src:a})=>{if(!t)return;const l=(e.getState().user||{id:null}).id,n=[],s=[];for(const i of t)if(i.unpublished_at&&i.creator.id!=l)s.push(i);else try{n.push(d.parsePublishedPlugin(i,a))}catch(o){console.error(o)}e.dispatch(i.putAll(n)),e.dispatch(i.delAll(s))}),i.replaceFeaturedPlugins=l.actionCreator("PLUGIN_REPLACE_FEATURED"),i.initializePublishedPlugins=n.asyncActionCreator("INITIALIZE_PUBLISHED_PLUGINS",(e,t,a)=>{if(!e.getState().user)return;const l=r.default.get("/api/plugins");c.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"initializePublishedPlugins"}))})}),i.initializeTopPlugins=n.asyncActionCreator("INITIALIZE_TOP_PLUGINS",(e,{limit:t},a)=>{const l=r.default.get(`/api/plugins/top?page_size=${t}`);c.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"initializeTopPlugins"}))})},(e,{limit:i})=>`${e}_${i}`),i.initializeFeaturedPlugins=n.asyncActionCreator("INITIALIZE_FEATURED_PLUGINS",(e,t,a)=>{const l=r.default.get("/api/plugins/featured");c.registerLoadingState(l,e,a),l.then(({data:t})=>{const{public_plugins:a,overrides:l}=t.meta,n=a;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:n,src:"initializeFeaturedPlugins"})),e.dispatch(i.replaceFeaturedPlugins(l))})}),i.getProfilePlugins=n.asyncActionCreator("GET_PROFILE_PLUGINS",(e,t,a)=>{let l;if("userId"in t){const e={};t.contextOrgId&&(e.org_id=t.contextOrgId),l=r.default.get(`/api/plugins/user/${t.userId}`,e)}else l="orgId"in t?r.default.get(`/api/plugins/org/${t.orgId}`):"teamId"in t?r.default.get(`/api/plugins/team/${t.teamId}`):Promise.reject("getProfilePlugins: unknown type");c.registerLoadingState(l,e,a),l.then(({data:a})=>{const l=a.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:l,src:`getProfilePlugins_${p.getProfileType(t)}`}))})},(e,i)=>`${e}_${p.getLoadingStateName(i)}`),i.getProfilePluginsByHandle=n.asyncActionCreator("GET_PUBLIC_PROFILE_PLUGINS",(e,{handle:t,orgId:a},l)=>{const n={};a&&(n.org_id=a);const s=r.default.get(`/api/plugins/profile/${t}`,n);c.registerLoadingState(s,e,l),s.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:a,src:"getPublicProfilePlugins"}))})},(e,{handle:i,orgId:t})=>`${e}_${i}`),i.pluginPublishingActions=p.publishingStateActionCreator("PLUGIN"),i.updatePluginPublishingMetadata=i.pluginPublishingActions.updateMetadata,i.updatePluginPublishingStatus=i.pluginPublishingActions.updateStatus,i.clearPluginPublishing=i.pluginPublishingActions.clearMetadataAndStatus,i.clearPluginPublishingMetadata=i.pluginPublishingActions.clearMetadata,i.publishPluginVersion=n.asyncActionCreator("PUBLISH_PLUGIN_VERSION",(e,t)=>{const{pluginVersion:l,localFileId:n,pluginId:s}=t;e.dispatch(i.updatePluginPublishingStatus({id:n,status:{code:h.HubPublishingStatusCode.UPLOADING}})),function(e,i,t){return a(this,void 0,void 0,function*(){if(!e)throw new Error("plugin id is invalid");const[a,l]=yield Promise.all([d.getManifest(i),d.getLocalPluginCode(i)]),n=d.validateCodeSize(l);let s=0;t.iconBlob&&(s=d.validateIconFile(t.iconBlob));let o=0;t.coverBlob&&(o=d.validateCoverFile(t.coverBlob));const{codeUploadUrl:u,iconUploadUrl:c,coverImageUploadUrl:p,signature:h,versionId:P}=yield r.default.post(`/api/plugins/${e}/upload`,{manifest:a,release_notes:t.releaseNotes,name:t.name,description:t.description}).then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,iconUploadUrl:e.meta.icon_upload_url,coverImageUploadUrl:e.meta.cover_image_upload_url,signature:e.meta.signature,versionId:e.meta.version_id})).catch(e=>{throw new Error(e.data&&e.data.message||"An error occurred while requesting for upload url.")});let _=Promise.resolve(!1);l&&(_=r.default.put(u,l,{headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":""})}).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin code ${e}`)}));let m=Promise.resolve(!1);const I=t.iconBlob;null!=I&&(m=d.bytesFromImageFile(I).then(e=>r.default.put(c,e,{raw:!0,headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":I.type})})).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin icon ${e}`)}));let f=Promise.resolve(!1);const A=t.coverBlob;null!=A&&(f=d.bytesFromImageFile(A).then(e=>r.default.put(p,e,{raw:!0,headers:Object.assign(Object.assign({},r.default.defaults.headers),{"Content-Type":A.type})})).then(()=>!0).catch(e=>{throw new Error(`Error uploading plugin artwork image ${e}`)}));const[L,U,S]=yield Promise.all([_,m,f]),{data:E}=yield r.default.put(`/api/plugins/${e}/versions/${P}`,{icon_uploaded:U,cover_image_uploaded:S,code_uploaded:L,signature:h}).catch(e=>{throw new Error(`Error finalizing plugin ${e}`)}),y=E.meta,v=y.plugin;if(v.id!==e)throw new Error("The published plugin's IDs do not match");let O=null;return y.org_profile?O=Object.assign(Object.assign({},y.org_profile),{type:b.ProfileType.ORG}):y.team_profile?O=Object.assign(Object.assign({},y.team_profile),{type:b.ProfileType.TEAM}):y.user_profile&&(O=Object.assign(Object.assign({},y.user_profile),{type:b.ProfileType.USER})),g.segment.track("Hub Plugin Publish Version",{pluginId:e,hasUI:!!a.ui,apiVersion:a.api,codeLength:n,iconFileSize:s,coverFileSize:o}),{publishedPlugin:v,publicProfile:O}})}(s,n,l).then(({publishedPlugin:t,publicProfile:a})=>{e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[t],src:"publishPluginVersion"})),a&&e.dispatch(o.putPublicProfile(a)),e.dispatch(i.updatePluginPublishingStatus({id:n,status:{code:h.HubPublishingStatusCode.SUCCESS}})),e.dispatch(i.clearPluginPublishingMetadata({id:n}))}).catch(t=>{e.dispatch(i.updatePluginPublishingStatus({id:n,status:{code:h.HubPublishingStatusCode.FAILURE,error:t.message}}))})}),i.updatePublishedPluginRole=n.asyncActionCreator("UPDATE_PUBLISHED_PLUGIN_ROLE",(e,{pluginId:t,role:a})=>{const l={org_id:a.org?a.org.id:void 0,is_public:a.is_public};r.default.put(`/api/plugins/${t}/roles`,l).then(({data:a})=>{const l=a.meta;g.segment.track("Hub Plugin Publish Role",{pluginId:t,toPublic:l.roles.is_public,toOrg:!!l.roles.org,needApproval:!!l.approval_status}),e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[l],src:"updatePublishedPluginRole"}))}).catch(e=>{console.log(e)})}),i.updatePublishedPlugin=n.asyncActionCreator("UPDATE_PUBLISHED_PLUGIN",(e,t)=>{if(t.authorOrgId&&t.authorTeamId)return void console.error("Attempting to set both authorOrgId and authorTeamId while publishing");const a=t.pluginId,l={tags:t.tags,support_contact:t.supportContact,author_org_id:t.authorOrgId,author_team_id:t.authorTeamId};r.default.put(`/api/plugins/${a}`,l).then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[a],src:"updatePublishedPlugin"}))}).catch(e=>{console.log(e)})}),i.unpublishPublishedPlugin=n.asyncActionCreator("UNPUBLISH_PUBLISHED_PLUGIN",(e,{plugin:t})=>{r.default.del(`/api/plugins/${t.id}`).then(({data:a})=>{const l=a.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[l],src:"unpublishPublishedPlugin"})),g.segment.track("Hub Unpublish Plugin",Object.assign({pluginId:t.id},d.getRoleInfoForTracking(t)))}).catch(e=>{console.log(e)})}),i.showPublishPluginModal=n.asyncActionCreator("SHOW_PUBLISH_PLUGIN_MODAL",(e,{localFileId:t})=>{const a=e.getState(),{localPlugins:l,publishedPlugins:n,publishingPlugins:o,currentOrgId:r}=a;null==t||o[t]||e.dispatch(i.updatePluginPublishingMetadata({id:t,metadata:d.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},P.getPermissionsState(a)),{currentOrgId:r,localPlugins:l,publishedPlugins:n}),t)})),e.dispatch(s.fileBrowser.showModal({type:u.PLUGIN_PUBLISH_MODAL,data:{localFileId:t}}))}),i.getPluginVersions=n.asyncActionCreator("GET_PLUGIN_VERSIONS",(e,{pluginId:t},a)=>{const l=r.default.get(`/api/plugins/${t}/versions`);c.registerLoadingState(l,e,a),l.then(({data:t})=>{const a=t.meta;e.dispatch(i.mergePublishedAndValidate({publishedPlugins:[a],src:"getPluginVersions"}))}).catch(e=>{var i;console.log(`Versions of plugin with id ${t} cannot be fetched at this time:`,null===(i=e.data)||void 0===i?void 0:i.message)})},(e,{pluginId:i})=>`${e}_${i}`)}),
(function(i,t,e){"use strict";var n=this&&this.__awaiter||function(i,t,e,n){return new(e||(e=Promise))(function(a,l){function s(i){try{u(n.next(i))}catch(t){l(t)}}function o(i){try{u(n.throw(i))}catch(t){l(t)}}function u(i){var t;i.done?a(i.value):(t=i.value,t instanceof e?t:new e(function(i){i(t)})).then(s,o)}u((n=n.apply(i,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=e(124     ),l=e(98                  ),s=e(105                               ),o=e(187                             ),u=e(379                                                     ),c=e(330                          );t.putPluginLike=l.actionCreator("PLUGIN_PUT_LIKE"),t.delPluginLike=l.actionCreator("PLUGIN_DEL_LIKE"),t.likePlugin=s.optimisticActionCreator("LIKE_PLUGIN",(i,{pluginId:e},l)=>n(void 0,void 0,void 0,function*(){a.default.post(`/api/plugins/${e}/like`).then(({data:e})=>{i.dispatch(s.optimistActions.commit(l));const n=e.meta;i.dispatch(t.putPluginLike({[n.id]:!0})),i.dispatch(u.putAll([c.parsePublishedPlugin(n,"likePlugin")]))}).catch(t=>{i.dispatch(s.optimistActions.revert(l)),i.dispatch(o.visualBellActions.enqueue({message:"Unable to like this plugin. Please try again.",type:"PLUGIN_LIKE_FAILED",error:!0}))})})),t.unlikePlugin=s.optimisticActionCreator("UNLIKE_PLUGIN",(i,{pluginId:e},l)=>n(void 0,void 0,void 0,function*(){a.default.del(`/api/plugins/${e}/like`,{pluginId:e}).then(({data:n})=>{i.dispatch(s.optimistActions.commit(l));const a=n.meta;i.dispatch(t.delPluginLike({pluginId:e})),i.dispatch(u.putAll([c.parsePublishedPlugin(a,"unlikePlugin")]))}).catch(t=>{i.dispatch(s.optimistActions.revert(l)),i.dispatch(o.visualBellActions.enqueue({message:"Unable to unlike this plugin. Please try again.",type:"PLUGIN_UNLIKE_FAILED",error:!0}))})}))}),
(function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=a(333                                                    ),s=a(210                               ),l=a(106                                     ),n=a(378                                               ),o=a(380                                                  ),u=a(10,1   );function r(e,i){return i&&i.id?Object.assign(Object.assign({},e),{[i.id]:i}):e}i.publicUserProfileById=function(e={},i){return t.putPublicProfile.matches(i)&&i.payload.type===s.ProfileType.USER?r(e,i.payload):l.fileBrowser.hydrate.matches(i)&&i.payload.user_profile?r(e,Object.assign({type:s.ProfileType.USER},i.payload.user_profile)):e},i.publicOrgProfileById=function(e={},i){return t.putPublicProfile.matches(i)&&i.payload.type===s.ProfileType.ORG?r(e,i.payload):l.fileBrowser.hydrate.matches(i)&&i.payload.org_profile?r(e,Object.assign({type:s.ProfileType.ORG},i.payload.org_profile)):e},i.publicTeamProfileById=function(e={},i){return t.putPublicProfile.matches(i)&&i.payload.type===s.ProfileType.TEAM?r(e,i.payload):e},i.profileHandleToInfo=function(e={},i){if(t.putPublicProfile.matches(i)){const a=i.payload;return a.profile_handle&&a.id?Object.assign(Object.assign({},e),{[a.profile_handle.toLowerCase()]:{type:a.type,id:a.id}}):e}return e},i.likedComunityHubResources=u.combineReducers({plugins:function(e={},i){if(t.addLikedResources.matches(i))return Object.assign(Object.assign({},e),i.payload.plugins);if(o.putPluginLike.matches(i))return Object.assign(Object.assign({},e),i.payload);if(o.delPluginLike.matches(i)){let a=Object.assign({},e);return delete a[i.payload.pluginId],a}if(o.likePlugin.matches(i)){const a=Object.assign({},e);return a[i.payload.pluginId]=!0,a}if(o.unlikePlugin.matches(i)){const a=Object.assign({},e);return delete a[i.payload.pluginId],a}return e},hubFiles:function(e={},i){if(t.addLikedResources.matches(i))return Object.assign(Object.assign({},e),i.payload.hubFiles);if(n.putHubFileLike.matches(i))return Object.assign(Object.assign({},e),i.payload);if(n.delHubFileLike.matches(i)){let a=Object.assign({},e);return delete a[i.payload.hubFileId],a}if(n.likeHubFile.matches(i)){const a=Object.assign({},e);return a[i.payload.hubFileId]=!0,a}if(n.unlikeHubFile.matches(i)){const a=Object.assign({},e);return delete a[i.payload.hubFileId],a}return e}})}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(378                                               ),l=t(213                          );i.hubFiles=function(e={},i){if(s.putAll.matches(i)){const t=Object.assign({},e);for(const s of i.payload)t[s.id]=Object.assign(Object.assign({},s),{versions:l.mergeVersions(e[s.id],s)});return t}if(s.delAll.matches(i)){const t=Object.assign({},e);for(const e of i.payload)delete t[e.id];return t}if(s.likeHubFile.matches(i)){const t=Object.assign({},e);return t[i.payload.hubFileId]=Object.assign(Object.assign({},t[i.payload.hubFileId]),{like_count:t[i.payload.hubFileId].like_count+1}),t}if(s.unlikeHubFile.matches(i)){const t=Object.assign({},e);return t[i.payload.hubFileId]=Object.assign(Object.assign({},t[i.payload.hubFileId]),{like_count:t[i.payload.hubFileId].like_count-1}),t}return e},i.figFilePublishedAsHubFile=function(e={},i){if(s.putFigFilePublishedAsHubFile.matches(i)){const t=Object.assign({},e),{fileKey:s,hubFileId:l}=i.payload;return t[s]=l,t}if(s.delFigFilePublishedAsHubFile.matches(i)){const t=Object.assign({},e),{fileKey:s}=i.payload;return delete t[s],t}return e},i.figFileRemixedFromHubFile=function(e={},i){if(s.putFigFileRemixedFromHubFile.matches(i)){const t=Object.assign({},e),{fileKey:s,hubFileId:l}=i.payload;return t[s]=l,t}if(s.delFigFileRemixedFromHubFile.matches(i)){const t=Object.assign({},e),{fileKey:s}=i.payload;return delete t[s],t}return e};const n=s.hubFilePublishingActions;i.publishingHubFiles=l.publishingStateReducer(n),i.hubFileRemixes=function(e={},i){if(s.putHubFileRemix.matches(i)){const{hubFileId:t,from:s,to:l}=i.payload;return Object.assign(Object.assign({},e),{[t]:{from:s,to:l}})}return e}}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=a(10,1   ),t=a(245                               ),s=a(250                               ),o=a(254                             ),l=a(256                       ),c=a(260                             ),n=a(261                             ),d=a(266                        ),m=a(267                                  ),f=a(268                                  ),p=a(270                                  ),u=a(271                              ),_=a(273                                   ),g=a(275                                    ),w=a(277                         ),h=a(279                              ),y=a(282                         ),B=a(283                               ),b=a(284                           ),v=a(287                            ),F=a(289                   ),S=a(290                             ),N=a(293                                            ),R=a(305                                             ),I=a(307                            ),O=a(308                           ),T=a(309                                ),C=a(311                ),U=a(188                             ),j=a(106                                     ),P=a(381                               ),V=a(382                           );function K(e=!1,r){return!j.fileBrowser.selectView.matches(r)&&(!j.fileBrowser.showModal.matches(r)&&(!j.fileBrowser.init.matches(r)&&(!!j.fileBrowser.showMobileNav.matches(r)||!j.fileBrowser.hideMobileNav.matches(r)&&e)))}function L(e=!1,r){return!j.fileBrowser.init.matches(r)&&(j.fileBrowser.setLocalFonts.matches(r)?r.payload.value:e)}function M(e=null,r){return j.fileBrowser.beginCreateNewFolder.matches(r)?r.payload:j.fileBrowser.stopCreateNewFolder.matches(r)?null:e}function A(e=null,r){return j.fileBrowser.beginRenameNavFolder.matches(r)?r.payload.folderId:j.fileBrowser.stopRenameNavFolder.matches(r)?null:e}function D(e=null,r){return j.fileBrowser.beginRenameNavTeam.matches(r)?r.payload.teamId:j.fileBrowser.stopRenameNavTeam.matches(r)?null:e}function q(e={},r){if(U.file.deleteActiveUsers.matches(r)){const a=Object.assign(Object.create(null),e);return delete a[r.payload.fileKey],a}if(U.file.setActiveUsers.matches(r)){const a=r.payload.fileKey,i=r.payload.users,t=Object.create(null);for(let e of i)t[e.id]=e;return e=e||Object.create(null),Object.assign(Object.create(null),e,{[a]:t})}return e}function x(e=!1,r){return j.fileBrowser.setFileBrowserLoading.matches(r)?r.payload.show:e}function k(){return{userNotifications:g.userNotifications,recentFiles:u.recentFiles,recentPrototypes:_.recentPrototypes,fileKeysByFolderId:l.fileKeysByFolderId,pinnedFileKeyToUserNameByFolderId:l.pinnedFileKeyToUserNameByFolderId,renamingNavFolderWithId:A,renamingNavTeamWithId:D,fileImport:o.fileImport,avatarEditorState:s.avatarEditorState,fileSearch:n.fileSearch,search:d.search,mobileNavShown:K,localFonts:L,creatingNewFolder:M,tileSelect:c.tileSelect,teamCreation:B.teamCreation,emailSettings:N.emailSettings,activeFileUsers:q,teamView:b.teamView,teamAdmin:v.teamAdmin,teamRoleRequests:F.teamRoleRequests,folderView:S.folderView,payment:w.payment,cart:h.cart,tileSortFilterStateByView:m.tileSortFilterStateByView,viewBarOptions:f.viewBarOptions,showingFileBrowserLoader:x,orgDashboard:R.orgDashboard,activityLogs:t.activityLogs,orgSamlConfig:C.orgSamlConfig,fileBrowserPreferences:y.fileBrowserPreferences,fileBrowserSectionPreferencesBySectionOrTeamId:y.fileBrowserSectionPreferencesBySectionOrTeamId,orgRoster:I.orgRoster,orgTeams:O.orgTeams,orgBillingData:p.orgBillingData,idpUserById:T.idpUserById,likedComunityHubResources:P.likedComunityHubResources,hubFileRemixes:V.hubFileRemixes}}r.activeFileUsers=q,r.showingFileBrowserLoader=x,r.fileBrowserReducerMap=k,r.fileBrowser=i.combineReducers(k())}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(188                             ),s=l(106                                     );function a(e={},t){if(s.fileBrowser.setDeletedFiles.matches(t)){let e={};return t.payload.deletedFiles.forEach(t=>{e[t.key]=t}),e}if(i.file.deleteFiles.matches(t)){let l=Object.assign({},e);for(let e in t.payload.fileKeys)l[e]=t.payload.fileKeys[e];return l}if(i.file.put.matches(t)){let l=t.payload.file;if(!l.trashed_at&&e[l.key]){let t=Object.assign({},e);return delete t[l.key],t}return e}if(i.file.restoreTrashedFiles.matches(t)||i.file.deleteFilesForever.matches(t)){let l=Object.keys(t.payload.fileKeys),i=Object.assign({},e);for(let e of l)delete i[e];return i}return e}t.deletedFilesByKey=a,t.default=a}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(133                               ),r=t(137                             ),d=t(106                                     ),o=t(251                                 );function i(e,t){if(!e)return{};if(d.fileBrowser.hydrate.matches(t)){let e={};for(let a of t.payload.folders||[])e[a.id]=Object.assign(Object.assign({},a),{appData:{}});return e}if(r.team.resourceDelete.matches(t)){const a=Object.assign({},e);return t.payload.folderIds.forEach(e=>{e in a&&delete a[e]}),a}if(s.folder.post.matches(t)){let a=t.payload;return Object.assign(Object.assign({},e),{[a.id]:a})}if(s.folder.del.matches(t)){let a=Object.assign({},e);return delete a[t.payload.folderId],a}return o.reduceObject(e,t,a.folder)}a.folders=i,a.folder=o.createReducerWithPrecheck(function(e,a){if(s.folder.put.matches(a))return a.payload.folder.id!==e.id?e:Object.assign(Object.assign({},e),a.payload.folder);if(s.folder.move.matches(a))return a.payload.folder.id!==e.id?e:Object.assign(Object.assign({},e),{team_id:a.payload.teamId});if(s.folder.rename.matches(a)){if(a.payload.folderId!==e.id)return e;let t=Object.assign({},e);return t.name=a.payload.folderName,t.path=t.parent_path?`${t.parent_path}/${t.name}`:t.name,t}return s.folder.updateFolderAccess.matches(a)?a.payload.folderId!==e.id?e:Object.assign(Object.assign({},e),{is_view_only:a.payload.isViewOnly,is_invite_only:a.payload.isInviteOnly}):s.folder.fetchedRoles.matches(a)?a.payload.id!==e.id?e:Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e},{shouldIgnoreAction:e=>!(s.folder.put.matches(e)||s.folder.move.matches(e)||s.folder.rename.matches(e)||s.folder.updateFolderAccess.matches(e)||s.folder.fetchedRoles.matches(e))}),a.default=i}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(272                                  );function a(e=t.defaultPrototype,s){return o.prototype.reset.matches(s)?Object.assign({},t.defaultPrototype):o.prototype.setTriggerHotspots.matches(s)?Object.assign(Object.assign({},e),{triggerHotspots:s.payload.triggerHotspots}):o.prototype.setHoverCursor.matches(s)?Object.assign(Object.assign({},e),{showHoverCursor:s.payload.showHoverCursor}):o.prototype.showComments.matches(s)?Object.assign(Object.assign({},e),{showComments:!0}):o.prototype.hideComments.matches(s)?Object.assign(Object.assign({},e),{showComments:!1}):o.prototype.setShowResolvedComments.matches(s)?Object.assign(Object.assign({},e),{showResolvedComments:s.payload.showResolved}):o.prototype.setShowOnlyParticipatingComments.matches(s)?Object.assign(Object.assign({},e),{showOnlyParticipatingComments:s.payload.showOnlyParticipating}):o.prototype.setIsReconnecting.matches(s)?Object.assign(Object.assign({},e),{isReconnecting:s.payload.isReconnecting}):o.prototype.setCurrentIndex.matches(s)?Object.assign(Object.assign({},e),{currentIndex:s.payload.currentIndex}):o.prototype.setFrameIds.matches(s)?Object.assign(Object.assign({},e),{frameIds:s.payload.frameIds}):o.prototype.setPages.matches(s)?Object.assign(Object.assign({},e),{pages:s.payload.pages}):o.prototype.setCurrentPageId.matches(s)?Object.assign(Object.assign({},e),{currentPageId:s.payload.currentPageId}):o.prototype.setBackgroundColor.matches(s)?Object.assign(Object.assign({},e),{backgroundColor:s.payload.color}):o.prototype.setProgressBarMode.matches(s)?Object.assign(Object.assign({},e),{showProgressBar:s.payload.showProgress}):e}t.DEFAULT_BG_COLOR={r:0,g:0,b:0,a:255},t.defaultPrototype={showProgressBar:!0,triggerHotspots:!1,showHoverCursor:!1,showComments:!1,showOnlyParticipatingComments:!1,showResolvedComments:!1,currentIndex:0,frameIds:[],pages:[],currentPageId:null,backgroundColor:t.DEFAULT_BG_COLOR,isReconnecting:!1},t.prototypeReducerMap={prototype:a},t.prototype=a}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(98                  );!function(e){e.updateSelectionPaintsFromFullscreen=i.actionCreator("UPDATE_SELECTION_PAINTS_FROM_FULLSCREEN"),e.updateSelectionStylesFromFullscreen=i.actionCreator("UPDATE_SELECTION_STYLES_FROM_FULLSCREEN"),e.clearSelectionPaintsDueToLimitExceeded=i.actionCreator("CLEAR_SELECTION_PAINTS_DUE_TO_LIMIT_EXCEEDED"),e.updateCurrentSelectionPaintInPicker=i.actionCreator("UPDATE_CURRENT_SELECTION_PAINT_IN_PICKER")}(t.selectionPaintActions||(t.selectionPaintActions={}))}),
(function(e,n,u){"use strict";function t(e){return Array.isArray(e)&&e.__mixed_values__}Object.defineProperty(n,"__esModule",{value:!0}),n.MIXED={__mixed__:!0},n.emptyMixedValuesArray=function(){const e=[];return e.__mixed_values__=!0,e},n.notMixed=function(e){return e!==n.MIXED&&!t(e)},n.getValueOrNull=function(e){return e===n.MIXED||null==e?null:e},n.getValue=function(e,u){return e===n.MIXED||null==e?u:e},n.getMixedValues=function(e){return t(e)?e:e===n.MIXED||null==e?[]:[e]}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(138                                   ),n=r(106                                     ),o=r(163                               ),s=r(388                             ),c=r(200         );function l(e,t){return null!=e[t]&&e[t]>0}t.selectionProperties=function(e={},t){if(n.fileBrowser.init.matches(t))return Object.create(null);if(i.fullscreen.updateMirror.matches(t)&&t.payload.selectionProperties){const r=t.payload.selectionProperties,i=r.message;if(null==i&&c.isEmpty(r.derivedProperties.changes)&&c.isEmpty(r.derivedProperties.mixed))return e;const n=Object.assign(Object.create(null),e);if(null!=i&&"NODE_CHANGES"===i.type&&i.nodeChanges)for(const e of i.nodeChanges){const t=e.guid?e.guid.localID:null;for(const r in e)if("guid"!==r)switch(t===o.SelectionPropertyState.MIXED_VALUES_FIRST&&(n[r]=s.emptyMixedValuesArray()),t){case o.SelectionPropertyState.PRESENT:n[r]=e[r];break;case o.SelectionPropertyState.MIXED:n[r]=s.MIXED;break;case o.SelectionPropertyState.MIXED_VALUES_FIRST:case o.SelectionPropertyState.MIXED_VALUES_NEXT:n[r].push(e[r]);break;default:n[r]=null}}for(const e in r.derivedProperties.changes)n[e]=r.derivedProperties.changes[e];for(const e in r.derivedProperties.mixed)n[e]=s.MIXED;return n}return e},t.anySelectedOfType=l,t.allSelectedOfType=function(e,t){if(!l(e,t))return!1;let r=0;for(const i in e)if(null!=e[i]&&e[i]>0&&(r+=1)>1)return!1;return!0}}),
(function(e,t,n){"use strict";function r(e,t,n){if("stop"===n(t))return"stop";if(t.reversedChildren)for(const o of t.reversedChildren)if("stop"===r(e,e.get(o),n))return"stop"}function o(e,t){const n=e.get(t);return n&&n.parent?e.get(n.parent):null}function i(e,t,n){let r=o(e,t);for(;r;){if("CANVAS"===r.type||"DOCUMENT"===r.type)return;if("stop"===n(r))break;r=o(e,r.guid)}}function u(e){return"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e}function s(e,t){return t&&"CANVAS"===t.type&&t.visible&&u(e.type)&&e.visible&&!e.sharedSymbolReference}Object.defineProperty(t,"__esModule",{value:!0}),t.traverse=r,t.getParent=o,t.forEachAncestor=i,t.getAncestors=function(e,t){const n=[];return i(e,t,e=>{n.push(e)}),n},t.countParents=function(e,t){let n=0,r=e.get(t)||null;for(;r&&"CANVAS"!==r.type&&"DOCUMENT"!==r.type;)n++,r=o(e,r.guid);return n},t.pageIdContainingNodeId=function(e,t){let n=null;if(!t)return n;let r=e.get(t);if(!r)return n;for(n=r.guid;r&&"CANVAS"!==r.type&&r.parent;)n=(r=e.get(r.parent)).guid;return n},t.isNodeTypeInFrame=u,t.isNodeTypeWithChildren=function(e){return"DOCUMENT"===e||"CANVAS"===e||"GROUP"===e||"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e||"BOOLEAN_OPERATION"===e},t.isVectorNodeType=function(e){return"VECTOR"===e||"STAR"===e||"LINE"===e||"ELLIPSE"===e||"RECTANGLE"===e||"REGULAR_POLYGON"===e||"ROUNDED_RECTANGLE"===e},t.topLevelFramesForPageId=function(e,t){const n=[],r=e.get(t);for(let o of r.reversedChildren){const t=e.get(o);s(t,r)&&n.push(t)}return n},t.setLocked=function(e,t,n,o){const i=e.get(t);i&&(o?r(e,i,e=>{e.locked=n}):i.locked=n)},t.setVisible=function(e,t,n,o){const i=e.get(t);i&&(o?r(e,i,e=>{e.visible=n}):i.visible=n)}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(138                                   ),c=r(106                                     ),l=r(157         ),o=r(390                                        );function i(e,t){return!!e[t]}function s(e,t,r){if(i(t,r))return e.get(r)||null;let n=null;return o.forEachAncestor(e,r,e=>{if(!n&&i(t,e.guid)&&(n=e),n)return"stop"}),n}t.sceneGraphSelection=function(e=Object.create(null),t){if(c.fileBrowser.init.matches(t)||n.fullscreen.close.matches(t))return Object.create(null);if(n.fullscreen.updateMirror.matches(t)&&t.payload.selection){const{add:r,remove:n,replace:c}=t.payload.selection;if(l.assertDev(!((r||n)&&c),"We expect either an add or remove OR a replace."),c)return c;const o=Object.assign(Object.create(null),e,r);for(let e in n)delete o[e];return o}return e},t.forEachSelectedNode=function(e,t,r){for(const n in t){const t=e.get(n);t&&o.traverse(e,t,r)}},t.forEachDirectlySelectedNode=function(e,t,r){for(const n in t){const t=e.get(n);t&&r(t)}},t.isDirectlySelected=i,t.isSelected=function(e,t,r){return!!s(e,t,r)},t.directlySelectedAncestorOrSelf=s}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=l(138                                   ),c=l(160       );t.selectedStyleProperties=function(e={},t){if(s.fullscreen.updateSelectedStyleProperties.matches(t)){let l=t.payload.selectedStyleProperties||{};return c.equals(l.guid,e.guid)?Object.assign(Object.assign({},l),{url:e.url}):l}return s.fullscreen.updateSelectedStyleThumbnailURL.matches(t)?Object.assign(Object.assign({},e),{url:t.payload.selectedStyleThumbnailURL}):e}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(387                                        );t.selectionPaints=function(e={paints:[],styles:[],version:0,emptyDueToLimitExceeded:!1},t){if(s.selectionPaintActions.updateSelectionPaintsFromFullscreen.matches(t))return Object.assign(Object.assign({},e),{version:e.version+1,paints:t.payload,emptyDueToLimitExceeded:!1});if(s.selectionPaintActions.updateSelectionStylesFromFullscreen.matches(t)){const i=t.payload.sort((e,t)=>e.count>t.count?-1:e.count==t.count&&e.styleName<t.styleName?-1:1);return Object.assign(Object.assign({},e),{styles:i,emptyDueToLimitExceeded:!1})}return s.selectionPaintActions.clearSelectionPaintsDueToLimitExceeded.matches(t)?{paints:[],styles:[],version:e.version+1,emptyDueToLimitExceeded:!0}:e}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualsIgnoringNumberPrecision=function e(r,n){const t=typeof r;if(typeof n!==t)return!1;if("number"===t)return!Number.isNaN(r)&&!Number.isNaN(n);if("object"!==t)return r===n;if(null===r!=(null===n))return!1;if(null===r)return!0;if(r instanceof Array!=n instanceof Array)return!1;if(r instanceof Array)return r.length===n.length&&r.every((r,t)=>e(r,n[t]));const u=Object.keys(r),i=Object.keys(n);return u.length===i.length&&(u.sort(),i.sort(),!!u.every((e,r)=>e===i[r])&&u.every(t=>e(r[t],n[t])))},r.pluginWarn=function(e){console.error(e)}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(153       ),s=o(163                               ),d=o(171         ),l=o(394                                 );function a(e,t){let o=0,n=!1;for(45===e.charCodeAt(t)&&(n=!0,t++);t<e.length;){const n=e.charCodeAt(t++);if(n<48||n>57)break;o=10*o+n-48}return n?-o:o}t.parseIntegerFast=a;class i{constructor(e,t,o){this.guid=e,this.sessionID=t,this.localID=o}setGlobalNodeID(){s.SceneNodeCpp.setGlobalUnstableNodeID(this.sessionID,this.localID)}get type(){return this.setGlobalNodeID(),n.schema.NodeType[s.SceneNodeCpp.getType(s.NodeContext.REDUX)]}get name(){return this.setGlobalNodeID(),s.SceneNodeCpp.getName(s.NodeContext.REDUX)}set name(e){this.setGlobalNodeID(),s.SceneNodeCpp.setName(e,s.NodeContext.REDUX)}get locked(){return this.setGlobalNodeID(),s.SceneNodeCpp.getLocked(s.NodeContext.REDUX)}set locked(e){this.setGlobalNodeID(),s.SceneNodeCpp.setLocked(e,s.NodeContext.REDUX)}get mask(){return this.setGlobalNodeID(),s.SceneNodeCpp.getMask(s.NodeContext.REDUX)}set mask(e){this.setGlobalNodeID(),s.SceneNodeCpp.setMask(e,s.NodeContext.REDUX)}get visible(){return this.setGlobalNodeID(),s.SceneNodeCpp.getVisible(s.NodeContext.REDUX)}set visible(e){this.setGlobalNodeID(),s.SceneNodeCpp.setVisible(e,s.NodeContext.REDUX)}get resizeToFit(){return this.setGlobalNodeID(),s.SceneNodeCpp.getResizeToFit(s.NodeContext.REDUX)}get stackMode(){return this.setGlobalNodeID(),n.schema.StackMode[s.SceneNodeCpp.getStackMode(s.NodeContext.REDUX)]||"NONE"}set stackMode(e){const t=n.schema.StackMode[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackMode");this.setGlobalNodeID(),s.SceneNodeCpp.setStackMode(t,s.NodeContext.REDUX)}get frameMaskDisabled(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFrameMaskDisabled(s.NodeContext.REDUX)}set frameMaskDisabled(e){this.setGlobalNodeID(),s.SceneNodeCpp.setFrameMaskDisabled(e,s.NodeContext.REDUX)}get isSymbolPublishable(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsSymbolPublishable(s.NodeContext.REDUX)}get symbolDescription(){return this.setGlobalNodeID(),s.SceneNodeCpp.getSymbolDescription(s.NodeContext.REDUX)}set symbolDescription(e){this.setGlobalNodeID(),s.SceneNodeCpp.setSymbolDescription(e,s.NodeContext.REDUX)}get cornerRadius(){return this.setGlobalNodeID(),s.SceneNodeCpp.getCornerRadius(s.NodeContext.REDUX)}set cornerRadius(e){this.setGlobalNodeID(),s.SceneNodeCpp.setCornerRadius(e,s.NodeContext.REDUX)}get objectsPanelThumbnailId(){return this.setGlobalNodeID(),s.SceneNodeCpp.getObjectsPanelThumbnailId(s.NodeContext.REDUX)}get isExpandable(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsExpandable(s.NodeContext.REDUX)}get isExpanded(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsExpanded(s.NodeContext.REDUX)}get isTemporarilyExpanded(){return this.setGlobalNodeID(),s.SceneNodeCpp.getIsTemporarilyExpanded(s.NodeContext.REDUX)}get styleType(){return this.setGlobalNodeID(),n.schema.StyleType[s.SceneNodeCpp.getStyleType(s.NodeContext.REDUX)]||"NONE"}get styleDescription(){return this.setGlobalNodeID(),s.SceneNodeCpp.getStyleDescription(s.NodeContext.REDUX)||""}set styleDescription(e){this.setGlobalNodeID(),s.SceneNodeCpp.setStyleDescription(e,s.NodeContext.REDUX)}get componentKey(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getComponentKey(s.NodeContext.REDUX);return""===e?null:e}get sharedSymbolReference(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getSharedSymbolReference(s.NodeContext.REDUX);return""===e?null:n.schema.decodeSharedSymbolReference(d.decode(e))}get fontName(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFontName(s.NodeContext.REDUX)}get exportSettings(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getExportSettings(s.NodeContext.REDUX);return""===e?[]:n.schema.decodeNodeChange(d.decode(e)).exportSettings||[]}set exportSettings(e){const t=n.schema.encodeNodeChange({exportSettings:e}),o=n.schema.decodeNodeChange(t).exportSettings;if(!l.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for export settings");this.setGlobalNodeID(),s.SceneNodeCpp.setExportSettings(d.encode(t),s.NodeContext.REDUX)}get parent(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getParent(s.NodeContext.REDUX);return""===e?null:e}get reversedChildren(){this.setGlobalNodeID();const e=s.SceneNodeCpp.getReversedChildren(s.NodeContext.REDUX);return""===e?[]:e.split(" ")}get scrollDirection(){return this.setGlobalNodeID(),n.schema.ScrollDirection[s.SceneNodeCpp.getScrollDirection(s.NodeContext.REDUX)]||"NONE"}get fixedChildrenCount(){return this.setGlobalNodeID(),s.SceneNodeCpp.getFixedChildrenCount(s.NodeContext.REDUX)}get booleanOperation(){return this.setGlobalNodeID(),n.schema.BooleanOperation[s.SceneNodeCpp.getBooleanOperation(s.NodeContext.REDUX)]||null}set booleanOperation(e){const t=n.schema.BooleanOperation[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for booleanOperation");this.setGlobalNodeID(),s.SceneNodeCpp.setBooleanOperation(t,s.NodeContext.REDUX)}get hasEnabledStaticImagePaint(){return this.setGlobalNodeID(),s.SceneNodeCpp.getHasEnabledStaticImagePaint(s.NodeContext.REDUX)}get hasEnabledAnimatedPaint(){return this.setGlobalNodeID(),s.SceneNodeCpp.getHasEnabledAnimatedPaint(s.NodeContext.REDUX)}}t.SceneGraphShim=class{get(e){const t=a(e,0),o=a(e,e.indexOf(":")+1);return s.SceneNodeCpp.setGlobalUnstableNodeID(t,o),s.SceneNodeCpp.exists(s.NodeContext.REDUX)?new i(e,t,o):null}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createNodeWithDefaults=function(e,n){const t={guid:e,type:"NONE",name:"",locked:!1,mask:!1,visible:!0,resizeToFit:!1,stackMode:"NONE",frameMaskDisabled:!1,isSymbolPublishable:!1,symbolDescription:"",styleType:"NONE",styleDescription:"",parent:null,reversedChildren:[],booleanOperation:null,cornerRadius:0,objectsPanelThumbnailId:0,isExpandable:!1,isExpanded:!1,isTemporarilyExpanded:!1,scrollDirection:"NONE",fixedChildrenCount:0,componentKey:null,hasEnabledStaticImagePaint:!1,hasEnabledAnimatedPaint:!1,fontName:null,sharedSymbolReference:null,exportSettings:[]};return n&&Object.assign(t,n),t},n.createMockSceneGraph=function(e){return{get:n=>e[n]}}}),
(function(e,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=c(138                                   ),n=c(106                                     ),s=c(395                                             ),i=c(396                                                     );a.sceneGraph=function(e=i.createMockSceneGraph({}),a){return n.fileBrowser.init.matches(a)||r.fullscreen.close.matches(a)?i.createMockSceneGraph({}):r.fullscreen.updateMirror.matches(a)&&a.payload.invalidateSceneGraph?new s.SceneGraphShim:e}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10,1   ),o=r(167          ),s=r(389                     ),i=r(391                      ),c=r(392                          ),l=r(393                ),a=r(397                   ),p=r(138                                   );function d(e=0,t){return p.fullscreen.updateMirror.matches(t)&&t.payload.invalidateSceneGraph&&t.payload.invalidateSceneGraph.rebuildRows?e+1:e}t.objectsPanelRowRebuildCounter=d,t.mirror=n.combineReducers({appModel:o.appModel,selectionProperties:s.selectionProperties,selectedStyleProperties:c.selectedStyleProperties,sceneGraph:a.sceneGraph,sceneGraphSelection:i.sceneGraphSelection,objectsPanelRowRebuildCounter:d,selectionPaints:l.selectionPaints})}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(98                  ),i=o(105               ),r=o(124     ),n=o(103                 );!function(e){e.reset=a.actionCreator("FILE_FOLLOWER_RESET"),e.post=a.actionCreator("FILE_FOLLOWER_POST"),e.del=a.actionCreator("FILE_FOLLOWER_DELETE"),e.set=a.actionCreator("FILE_FOLLOWER_SET"),e.put=i.asyncActionCreator("FILE_FOLLOWER_PUT",(t,o)=>{r.default.put(`/api/file/${o.key}/file_followers`,{notification_preference:o.notification_preference}).then(o=>{t.dispatch(e.set({fileFollower:o.data.meta}))}).catch(e=>{const o=e.data&&e.data.message||"An error occurred while updating notification preference.";t.dispatch(n.flashActions.flash(o)),console.log(e)})})}(t.fileFollower||(t.fileFollower={}))}),
(function(e,l,i){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const t=i(399                                      );l.fileFollowers=((e={},l)=>{if(t.fileFollower.set.matches(l)){let i=l.payload.fileFollower;return Object.assign(Object.assign({},e),{[i.user_id]:i})}if(t.fileFollower.reset.matches(l))return{};if(t.fileFollower.post.matches(l)){let i=l.payload.fileFollower;return Object.assign(Object.assign({},e),{[i.user_id]:i})}if(t.fileFollower.del.matches(l)){let i=Object.assign({},e);return delete i[l.payload.fileFollower.user_id],i}return e}),function(e){e.ALL="all",e.PARTICIPATING="participating",e.NONE="none"}(l.NotificationPreference||(l.NotificationPreference={}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(138                                   ),l=n(160       ),s=n(157         ),i=n(126          ),r=n(164         ),a=n(153       ),c=n(146                                          ),d=n(166                      ),u=n(117              ),f=n(163                               ),p=n(388                             ),m=n(191                                 ),g=n(114           ),S=n(198            ),v=n(142                     );function b(e,t,n){c.fullscreen.DEPRECATED_sendMessage("setNodeProperty",{nodeId:e,property:t,value:n})}function E(e){const t=Object.create(null);for(const n in e)t[r.camelCasedToDashed(n)]=e[n];c.fullscreen.DEPRECATED_sendMessage("updateAppModel",t,null)}t.invalidGUID=l.toString(l.invalidGUID),t.addToSelection=function(e){c.fullscreen.DEPRECATED_sendMessage("addToSelection",{nodeIds:e})},t.removeFromSelection=function(e){c.fullscreen.DEPRECATED_sendMessage("removeFromSelection",{nodeIds:e})},t.clearSelection=function(){c.fullscreen.DEPRECATED_sendMessage("clearSelection")},t.selectNodesInRange=function(e,t){c.fullscreen.DEPRECATED_sendMessage("selectNodesInRange",{fromNodeId:e,toNodeId:t})},t.reparentSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){c.fullscreen.DEPRECATED_sendMessage("transferSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.duplicateSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){c.fullscreen.DEPRECATED_sendMessage("duplicateSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.setName=function(e,t){b(e,"name",t)},t.setIsExpanded=function(e,t){b(e,"is-expanded",t)},t.setIsTemporarilyExpanded=function(e,t){b(e,"is-temporarily-expanded",t)},t.setIsSymbolPublishable=function(e,t){b(e,"is-symbol-publishable",t)},t.setIsPublishable=function(e,t){b(e,"is-publishable",t)},t.setStyleDescription=function(e,t){b(e,"style-description",t)},t.expandUpToRoot=function(e){c.fullscreen.DEPRECATED_sendMessage("expandUpToRoot",{nodeId:e})},t.setExpandedRecursive=function(e,t){c.fullscreen.DEPRECATED_sendMessage("setExpandedRecursive",{nodeId:e,isExpanded:t})},t.clearTemporarilyExpanded=function(){c.fullscreen.DEPRECATED_sendMessage("clearTemporarilyExpanded")},t.setSelectionExpanded=function(e,t){c.fullscreen.DEPRECATED_sendMessage("setSelectionExpanded",{nodeId:e,isExpanded:t})},t.updateAppModel=E,t.setHoveredNode=function(e){E({hoveredNode:e})},t.setObjectsPanelWidth=function(e){E({sidebarSplitPosition:e})},t.setPagesPanelHeight=function(e){E({pagesPanelHeight:e})},t.setPagesPanelIsOpen=function(e){E({pagesPanelIsOpen:e})},t.setSmallNudgeAmount=function(e){E({smallNudgeAmount:e})},t.setBigNudgeAmount=function(e){E({bigNudgeAmount:e})},t.setPropertiesPanelTab=function(e){E({propertiesPanelTab:e})},t.setHandoffPlatformTarget=function(e){E({handoffPlatformTarget:e})},t.setHandoffOutputFormat=function(e){E({handoffOutputFormat:e})};const y=["x","y","width","height","angle","canBecomeGroup","miterLimitAngle","availableOTFeaturesForSelection","availableOTFeaturesForFonts","toggledOnOTFeaturesForSelection","toggledOffOTFeaturesForSelection","mixedStateOTFeaturesForSelection","detectedList","destinationOverlayPositionType","destinationOverlayBackgroundInteraction","destinationOverlayBackgroundType","destinationOverlayBackgroundColor","name","numSelected","numSelectedByType","arcStart","arcSweep","arcRadius","fontFamily","fontStyle","intrinsicLineHeight"];function h(e,t,n){var o;const l=Object.assign({},e),i=function(e){const t=Object.create(null);for(const n of y)if(n in e){const o=e[n];o!==p.MIXED&&(t[n]=o),delete e[n]}return t}(l),r=function(e){const t={guid:{sessionID:0,localID:0}};for(const n in e){const o=e[n];o!==p.MIXED&&(t[n]=o)}return t}(l),u=v.globalReduxStore.getState().mirror.selectedStyleProperties;if(null===(o=u)||void 0===o?void 0:o.guid){if(i){const e=i.fontFamily&&i.fontStyle;s.assertDev(!e,"UI should never simultaneously update font family and style"),i.fontFamily&&u.fontStyle&&(r.fontName={family:i.fontFamily,style:u.fontStyle,postscript:""}),u.fontFamily&&i.fontStyle&&(r.fontName={family:u.fontFamily,style:i.fontStyle,postscript:""})}const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[r]});c.fullscreen.DEPRECATED_sendMessage("updateSelectedStyleProperties",{shouldCommit:t===d.ShouldCommit.YES},e),D(u.styleType)}else{const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[r]});c.fullscreen.DEPRECATED_sendMessage("updateSelectionProperties",{derivedPropertyUpdates:i,overwrite:n,shouldCommit:t===d.ShouldCommit.YES},e)}}t.updateSelectionProperties=function(e,t,n){S.appTimer.start("update-selection-properties");try{h(e,t,n)}catch(o){throw o}finally{S.appTimer.stop("update-selection-properties")}},t.updateSelectionProperties_=h;const D=g.debounce(e=>{i.segment.track("Style Edited",{styleType:e})},500);let O=Object.create(null);function P(e){s.assertDev(!O.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),O.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function I(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function T(e){var t,n,o;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.replace),"addSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(n=O.selection)||void 0===n?void 0:n.add)||(O.selection.add=Object.create(null));const i=e.buffer;if(i)for(let s=0;s<i.length;s+=8){const e=I(i,s),t=I(i,s+4),n=l.toString({sessionID:e,localID:t});(null===(o=O.selection)||void 0===o?void 0:o.add)[n]=!0}}function C(e){var t,n,o;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.replace),"removeSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(n=O.selection)||void 0===n?void 0:n.remove)||(O.selection.remove=Object.create(null));const i=e.buffer;if(i)for(let s=0;s<i.length;s+=8){const e=I(i,s),t=I(i,s+4),n=l.toString({sessionID:e,localID:t});(null===(o=O.selection)||void 0===o?void 0:o.remove)[n]=!0}}function R(e){var t,n,o,i;s.assertDev(!(null===(t=O.selection)||void 0===t?void 0:t.add),"addSelectors and replaceSelectors called on the same frame"),s.assertDev(!(null===(n=O.selection)||void 0===n?void 0:n.remove),"removeSelectors and replaceSelectors called on the same frame"),O.selection||(O.selection=Object.create(null)),(null===(o=O.selection)||void 0===o?void 0:o.replace)||(O.selection.replace=Object.create(null));const r=e.buffer;if(r)for(let s=0;s<r.length;s+=8){const e=I(r,s),t=I(r,s+4),n=l.toString({sessionID:e,localID:t});(null===(i=O.selection)||void 0===i?void 0:i.replace)[n]=!0}}function _(e){if(u.desktopApp){const t={},n="action-enabled-";for(let o of Object.keys(e))if(o.startsWith(n)){t[o.substr(n.length)]=e[o].value}Object.keys(t).length>0&&u.desktopApp.updateActionState(t)}let t=Object.create(null);for(let n in e)t[r.toCamelCase(n)]=e[n].value;O.appModelChanges=Object.assign(Object.assign({},O.appModelChanges),t)}function F(e){const t=e.buffer.length>0?a.schema.decodeMessage(e.buffer):null;delete e.buffer;const n=e;s.assertDev(!O.selectionProperties,"Updating selectionProperties multiple times on a frame"),O.selectionProperties={message:t,derivedProperties:n}}t.initialize=function(){c.fullscreen.fromFullscreen.on("sceneGraphMirrorUpdate",P),c.fullscreen.fromFullscreen.on("selection:addSelectors",T),c.fullscreen.fromFullscreen.on("selection:removeSelectors",C),c.fullscreen.fromFullscreen.on("selection:replaceSelectors",R),c.fullscreen.fromFullscreen.on("updateAppModel",_),c.fullscreen.fromFullscreen.on("selectionPropertiesUpdate",F)},t.dispatchUpdateMirrorIfNecessary=function(){if(0===Object.keys(O).length)return{sceneOrVersionHistoryChanged:!1};const e=!!O.invalidateSceneGraph&&v.globalReduxStore.getState().versionHistory.activeId===m.CURRENT_VERSION;return v.globalReduxStore.dispatch(o.fullscreen.updateMirror(O)),O=Object.create(null),{sceneOrVersionHistoryChanged:e}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(106                                     ),i=s(144                                   ),r=s(130                                              ),l=s(131                                        ),n=s(231                                              ),o=s(124     ),p=s(98                  ),c=s(105                               ),u=s(160       ),b=s(141                ),y=s(147                       ),h=s(391                                              ),m=s(136                            ),d=s(155                       ),_=s(146                                          ),g=s(401                              ),S=s(192                            ),f=s(163                               ),E=s(95                      ),T=s(374                        ),L=s(154                                      ),O=s(168                                    ),N=s(164         ),P=p.actionCreator("PUBLISH_PROGRESS");t.publishProgress=P;const I=p.actionCreator("PUBLISH_REQUEST_FINISHED");t.publishRequestFinished=I;const C=c.asyncActionCreator("PUBLISH_SELECTED",e=>{const t=e.getState();let s=!1;const a=Object.create(null);for(const l of t.mirror.appModel.publishableComponents){const e=t.mirror.sceneGraph.get(l.nodeId);e&&h.isSelected(t.mirror.sceneGraph,t.mirror.sceneGraphSelection,e.guid)&&(a[e.guid]=!0,s=!0)}const i=t.mirror.selectedStyleProperties?u.toString(t.mirror.selectedStyleProperties.guid):null;i&&(s=!0);const r=Object.assign({},t.library.local.components);for(const l of t.mirror.appModel.publishableComponents){const e=t.mirror.sceneGraph.get(l.nodeId);if(e){const t=e.guid;let i=!s||!!a[t];g.setIsSymbolPublishable(l.nodeId,i),r[t].status=i?y.LibraryStatus.NEW:y.LibraryStatus.NOT_STAGED}}const n=Object.assign({},t.library.local.styles);for(const l of t.mirror.appModel.styles){const e=l.nodeId;let t=!s||e===i;g.setIsPublishable(e,t),t&&(n[e].status=t?y.LibraryStatus.NEW:y.LibraryStatus.NOT_STAGED)}e.dispatch(l.library.replaceLocalItems({local:r,type:y.LibraryItemType.COMPONENT})),e.dispatch(l.library.replaceLocalItems({local:n,type:y.LibraryItemType.STYLE})),e.dispatch(A({}))});t.publishSelected=C;const D=c.asyncActionCreator("UNPUBLISH_ALL",e=>{const t=e.getState(),s=e=>{e=Object.assign({},e);for(const t in e)S.isPublished(e[t].status)?e[t].status=y.LibraryStatus.DELETED:e[t].status===y.LibraryStatus.NEW&&(e[t].status=y.LibraryStatus.NOT_STAGED);return e},a=s(t.library.local.components),i=s(t.library.local.styles);e.dispatch(l.library.replaceLocalItems({local:a,type:y.LibraryItemType.COMPONENT})),e.dispatch(l.library.replaceLocalItems({local:i,type:y.LibraryItemType.STYLE})),e.dispatch(A({}))});t.unpublishAll=D;const A=c.asyncActionCreator("PUBLISH_CHANGES",(e,t={})=>{let s=e.getState();const p=e=>e.status===y.LibraryStatus.DELETED||e.status===y.LibraryStatus.NOT_STAGED,c=Object.keys(s.library.local.components).every(e=>p(s.library.local.components[e]))&&Object.keys(s.library.local.styles).every(e=>p(s.library.local.styles[e]));if(s.library.publishProgress.state!==y.PublishProgressState.NONE)return;const u=()=>{e.dispatch(r.visualBell.dequeue({type:"library-publish"})),e.dispatch(a.fileBrowser.showModal({type:m.PUBLISH_COMPONENTS_MODAL}))},h=b.getEditingFile(s);(function(e){const t=e.getState(),s=b.getEditingFile(t),a=t.teams[s.team_id],i=E.canAccessProFeature(a)?t.library.local.components:{},r=t.library.local.styles,l=t.library.local.thumbnails;let n={client_version:f.Multiplayer.getClientVersion(),file_key:t.editingFileKey,unpublish_components:[],publish_components:[],unpublish_styles:[],publish_styles:[],parts:[]},o=new FormData,p=[];const c=(e,t,s=!1)=>{const a=e.node_id,i=l[a]||{};let r=i.url;if((s||i.content_hash!==e.content_hash||!d.isValidThumbnailUrl(i.url))&&(r=t===y.LibraryItemType.COMPONENT?d.getThumbnailUrlForComponent(a):L.isColorStyleTransparent(e)?d.getEmptyThumbnailUrl():d.getThumbnailUrlForStyle(a,e.style_type),!d.isValidThumbnailUrl(r)))throw new B;const o=d.generatePublishableBufferForStyleOrSymbol(a),c=d.getBufferForThumbnailUrl(r),u=new Blob([o],{type:"application/x-figma"}),b=new Blob([c],{type:"image/png"}),h=`canvas:${a}`,m=`thumbnail:${a}`;p.push({id:h,data:u}),p.push({id:m,data:b}),n.parts.push({name:h,mime:"application/x-figma",length:o.length},{name:m,mime:"image/png"})};let u=0;return new Promise((t,s)=>{const a=Object.keys(i).reverse(),b=Object.keys(r).reverse(),h=a.length+b.length,m=h<40,g=m?1/0:1/60,S=()=>a.length>0||b.length>0;function f(){const E=(new Date).getTime();for(;((new Date).getTime()-E)/1e3<g&&S();)if(a.length>0){const e=a.pop(),t=i[e],s=t.status;if(s===y.LibraryStatus.CURRENT||s===y.LibraryStatus.NOT_STAGED)continue;if(s===y.LibraryStatus.DELETED){n.unpublish_components.push(t.component_key);continue}let r=d.generateComponentKeyForNode(e),l=t.content_hash;s===y.LibraryStatus.CAN_UPGRADE&&(l=_.fullscreen.DEPRECATED_sendMessage("dirtySharedSymbolVersion",{nodeId:e}).args.newVersion);try{c(t,y.LibraryItemType.COMPONENT)}catch(T){if(!(T instanceof B))throw T;u++;continue}n.publish_components.push({node_id:e,name:t.name,component_key:r,content_hash:l,containing_frame:JSON.stringify(t.containing_frame)||null,description:t.description,is_unflattened:t.is_unflattened,min_node_width:t.width,min_node_height:t.height})}else if(b.length>0){const e=b.pop(),t=r[e],s=t.status,a=l[e];if(s===y.LibraryStatus.CURRENT||s===y.LibraryStatus.NOT_STAGED)continue;if(s===y.LibraryStatus.DELETED){n.unpublish_styles.push(t.key);continue}const i=t.meta||{},o=L.cssThumbnailMaybeSupported(t.style_type)&&(a.content_hash!==t.content_hash||L.hasInvalidCssThumbnail(t));if(o){const s=d.getStyleThumbnailForCSSRendering(e,t.style_type);"INVALID"!=s.type&&(i.style_thumbnail=s)}let p=L.cssThumbnailDefinitelySupported(t.style_type);try{c(t,y.LibraryItemType.STYLE,p)}catch(T){if(!(T instanceof B))throw T;u++;continue}n.publish_styles.push({node_id:e,style_type:t.style_type,name:t.name,key:t.key,content_hash:t.content_hash,description:t.description,sort_position:t.sort_position,meta:JSON.stringify(i)})}m||e.getState().library.publishProgress.state!==y.PublishProgressState.NONE?(m||e.dispatch(P({state:y.PublishProgressState.ASSEMBLING_COMPONENTS,progress:1-(a.length+b.length)/h})),S()?requestAnimationFrame(f):(o.append("manifest",JSON.stringify(n)),p.forEach(e=>{o.append(e.id,e.data)}),t({formData:o,numSkippedDueToError:u}))):s()}m?f():(e.dispatch(P({state:y.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0})),requestAnimationFrame(f))})})(e).then(({formData:s,numSkippedDueToError:a})=>{e.dispatch(P({state:y.PublishProgressState.UPLOADING,progress:0})),e.dispatch(r.visualBell.enqueue({type:"library-publish",message:`${c?"Unpublishing":"Publishing"} library`,icon:O.VisualBellIcon.SPINNER,timeout:1/0})),T.createSavepoint(h.key,`Components ${c?"Unpublished":"Published"}`,t.savepointDescription,e).then(()=>o.default.post("/api/upnode/library_checkpoints",s,{headers:{"X-Csrf-Bypass":"yes"},raw:!0})).then(({data:t})=>{const s=JSON.parse(t);let i=Object.create(null),n=Object.create(null);s.meta&&(s.meta.components&&(i=s.meta.components),s.meta.styles&&(n=s.meta.styles));const o=(t,s)=>{const a=[],i=Object.create(null);for(let e in t){const s=t[e];s.unpublished_at?a.push(s.node_id):i[s.node_id]=s}e.dispatch(l.library.put({itemsById:i,file:h,type:s})),e.dispatch(l.library.del({nodeIds:a,file:h,type:s}))};if(o(i,y.LibraryItemType.COMPONENT),o(n,y.LibraryItemType.STYLE),f.Fullscreen)for(const e in i){const t=i[e];f.Fullscreen.markSharedComponentPublished(e,t.content_hash)}e.dispatch(I()),a>0?e.dispatch(r.visualBell.enqueue({type:"library-publish",timeout:1/0,icon:O.VisualBellIcon.EXCLAMATION,error:!0,message:`Unable to ${c?"unpublish":"publish"} ${a} ${N.getPluralOrSingular(a,"change")} ${c?"from":"to"} the Team Library`,button:{text:"Retry",action:u}})):e.dispatch(r.visualBell.enqueue({type:"library-publish",message:c?"Successfully unpublished library":"Successfully published library updates",icon:O.VisualBellIcon.CHECK,timeout:5e3}))}).catch(t=>{e.dispatch(r.visualBell.enqueue({type:"library-publish",timeout:1/0,icon:O.VisualBellIcon.EXCLAMATION,error:!0,message:`${c?"Unpublishing":"Publishing"} failed`,button:{text:"Retry",action:u}})),e.dispatch(n.updateLibraryFromPublishedAndLocalData()),e.dispatch(I()),0!==t.status&&i.errorHandler.raiseError(t)})}).catch(()=>{})});t.publishChanges=A;class B extends Error{constructor(e){super(e),Object.setPrototypeOf(this,B.prototype)}}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(134                             ),r=t(137                             ),i=t(188                             ),l=t(106                                     ),n=t(107                             ),o=t(131                                        ),c=t(161                                                  ),y=t(138                                   ),u=t(10,1   ),b=t(402                                        ),p=t(231                                              ),d=t(200         ),m=t(147                       ),f=t(154                                      );function h(e){return(a={filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},t)=>o.library.setPublishedSearchResults.matches(t)&&t.payload.type===e?t.payload.results:a}function g(e){return(a={query:"",isLoading:!1,results:[],moreResults:[],showMoreResults:!1},t)=>{if(o.library.setLocalQuery.matches(t)&&t.payload.type===e){const e=t.payload.query;return{query:e,isLoading:e.length>0,results:e.length?a.results:[],moreResults:e.length?a.moreResults:[],showMoreResults:!!e.length&&a.showMoreResults}}return o.library.setLocalSearchResults.matches(t)&&t.payload.type===e?Object.assign(Object.assign({},a),{isLoading:!1,results:t.payload.results,moreResults:t.payload.moreResults,showMoreResults:a.showMoreResults||0===t.payload.results.length}):o.library.setLocalSearchShowMoreResults.matches(t)&&t.payload.type===e?Object.assign(Object.assign({},a),{showMoreResults:t.payload.showMoreResults}):a}}function O(e){return(a=Object.create(null),t)=>{if(o.library.initialize.matches(t)&&t.payload.type===e)return t.payload.publishedItemsByTeamId;if(o.library.put.matches(t)&&t.payload.type===e){const e=t.payload.file,s=e.team_id||m.NO_TEAM_ID;let r=Object.assign({},a);r[s]=Object.assign({},r[s]),r[s][e.key]=Object.assign({},r[s][e.key]);for(let a in t.payload.itemsById){const i=t.payload.itemsById[a];i.meta&&(i.meta=f.parseLibraryMeta(i.meta)),r[s][e.key][a]=i}return r}if(o.library.updateComponentsForTeam.matches(t))return Object.assign(Object.assign({},a),{[t.payload.teamId]:t.payload.componentsByFileKey});if(o.library.del.matches(t)&&t.payload.type===e){const e=t.payload.file,s=e.team_id||m.NO_TEAM_ID;let r=Object.assign({},a);return r[s]=Object.assign({},r[s]),r[s][e.key]=Object.assign({},r[s][e.key]),t.payload.nodeIds.forEach(a=>{delete r[s][e.key][a]}),d.isEmpty(r[s][e.key])&&delete r[s][e.key],r}if(o.library.deleteComponentsForFile.matches(t)){const e=t.payload.fileKey;for(let t in a)if(e in a[t]){let s=Object.assign({},a);return s[t]=Object.assign({},s[t]),delete s[t][e],s}return a}if(i.file.deleteFiles.matches(t)){let e;for(let s in t.payload.fileKeys){const r=t.payload.fileKeys[s].team_id||m.NO_TEAM_ID;r in a&&s in a[r]&&(e||(e=Object.assign({},a)),e[r]=Object.assign({},e[r]),delete e[r][s])}return e||a}if(r.team.del.matches(t)){if(t.payload.team.id in a){let e=Object.assign({},a);return delete e[t.payload.team.id],e}return a}return a}}function _(e){return(a=Object.create(null),t)=>o.library.replaceUpdates.matches(t)&&t.payload.type===e?t.payload.itemsByTeamId:a}function j(e){return(a=Object.create(null),t)=>o.library.clearLocal.matches(t)?Object.create(null):o.library.replaceLocalItems.matches(t)&&t.payload.type===e?t.payload.local:a}const S=u.combineReducers({byTeam:(e=Object.create(null),a)=>{if(p.initializeTeamSubscriptions.matches(a))return a.payload.fileSubscriptionsByTeamId;if(p.postTeamSubscription.matches(a)){const t=Object.assign({},e),{file_key:s,team_id:r,is_subscribed:i}=a.payload.libraryTeamSubscription;return t[r]=Object.assign({},e[r])||Object.create(null),t[r][s]=i,t}return e},byFile:(e=Object.create(null),a)=>{if(p.initializeFileSubscriptionsForFile.matches(a)){const t=Object.assign({},e);return t[a.payload.fileKey]=a.payload.fileSubscriptionsByFileKey,t}if(p.postFileSubscription.matches(a)){const{file_key:t,library_file_key:s,is_subscribed:r}=a.payload.libraryFileSubscription,i=Object.assign({},e);return i[t]=Object.assign({},e[t]),i[t][s]=r,i}return e},forCurrentUser:(e=Object.create(null),a)=>{if(p.initializeUserSubscriptions.matches(a))return a.payload.subscriptions;if(p.postUserSubscription.matches(a)){const{file_key:t,is_subscribed:s}=a.payload.libraryUserSubscription;return Object.assign(Object.assign({},e),{[t]:s})}return e},forCurrentOrg:(e=Object.create(null),a)=>{if(s.orgs.switchActiveOrgAndSetCurrentOrgId.matches(a))return Object.create(null);if(p.initializeOrgSubscriptions.matches(a))return a.payload.subscriptions;if(p.postOrgSubscription.matches(a)){const{file_key:t}=a.payload.libraryOrgSubscription;return Object.assign(Object.assign({},e),{[t]:!0})}if(p.deleteOrgSubscription.matches(a)){const{file_key:t}=a.payload.libraryOrgSubscription;if(t in e){const a=Object.assign({},e);return delete a[t],a}return e}return e}}),T=u.combineReducers({components:O(m.LibraryItemType.COMPONENT),styles:O(m.LibraryItemType.STYLE)}),I=u.combineReducers({components:_(m.LibraryItemType.COMPONENT),styles:_(m.LibraryItemType.STYLE)}),L=u.combineReducers({components:j(m.LibraryItemType.COMPONENT),styles:j(m.LibraryItemType.STYLE),thumbnails:(e={},a)=>o.library.clearLocal.matches(a)?{}:c.libraryThumbnail.replaceThumbnails.matches(a)?a.payload.thumbnails:c.libraryThumbnail.addThumbnail.matches(a)?Object.assign(Object.assign({},e),{[a.payload.styleID]:{url:a.payload.url}}):e}),R=u.combineReducers({components:h(m.LibraryItemType.COMPONENT),styles:h(m.LibraryItemType.STYLE)}),N=u.combineReducers({components:g(m.LibraryItemType.COMPONENT),styles:g(m.LibraryItemType.STYLE)});a.library=u.combineReducers({published:T,updates:I,local:L,subscriptions:S,currentLibraryView:function(e={},a){return o.library.setLibraryView.matches(a)?Object.assign(Object.assign({},e),a.payload):!n.role.del.matches(a)||a.payload.role.resource_id_or_key!==e.teamId&&a.payload.role.resource_id_or_key!==e.fileKey?e:Object.assign(Object.assign({},e),{teamId:null,fileKey:null})},librarySearchQuery:function(e="",a){return o.library.setLibraryQuery.matches(a)?a.payload.query:l.fileBrowser.hideModal.matches(a)?"":e},publishedSearchResults:R,localSearch:N,selectedNodeId:function(e=null,a){return o.library.setSelectedNodeId.matches(a)?a.payload.nodeId:e},notification:function(e=null,a){return o.library.showNotification.matches(a)?a.payload.notification:o.library.hideNotification.matches(a)?null:e},dragState:function(e,a){return null==e||o.library.setLibraryView.matches(a)?{draggingComponent:null,dragPosition:null,dragOffset:null,componentMousePercentageOffset:null}:o.library.setSparseDragState.matches(a)?Object.assign(Object.assign({},e),a.payload):e},publishProgress:function(e={state:m.PublishProgressState.NONE,progress:0},a){return b.publishChanges.matches(a)?{state:m.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0}:b.publishRequestFinished.matches(a)?{state:m.PublishProgressState.NONE,progress:0}:b.publishProgress.matches(a)?a.payload:e},isRenamingSelectedStyle:function(e=!1,a){return o.library.setIsRenamingSelectedStyle.matches(a)?a.payload.isRenaming:e},expandedStylePanels:function(e={},a){if(y.fullscreen.open.matches(a))return{};if(o.library.expandStylePanel.matches(a)){const t=a.payload.styleType;return t in e?e:Object.assign(Object.assign({},e),{[t]:!0})}if(o.library.collapseStylePanel.matches(a)){const t=a.payload.styleType;if(t in e){const a=Object.assign({},e);return delete a[t],a}return e}return e}}),a.default=a.library}),
(function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(98                  );!function(o){o.init=r.actionCreator("AUTH_INIT"),o.realtimeInit=r.actionCreator("AUTH_REALTIME_INIT"),o.signIn=r.actionCreator("AUTH_SIGN_IN"),o.signUpExtraInfo=r.actionCreator("AUTH_SIGN_UP_EXTRA_INFO"),o.signUpGoBack=r.actionCreator("AUTH_SIGN_UP_GO_BACK"),o.signUp=r.actionCreator("AUTH_SIGN_UP"),o.resetPassword=r.actionCreator("AUTH_RESET_PASSWORD"),o.resendCode=r.actionCreator("AUTH_RESEND_CODE"),o.validateCode=r.actionCreator("VALIDATE_CODE"),o.sendEmailSamlStart=r.actionCreator("AUTH_SEND_EMAIL_SAML_START"),o.showForm=r.actionCreator("AUTH_SHOW_FORM"),o.sendPasswordReset=r.actionCreator("AUTH_SEND_PASSWORD_RESET"),o.showError=r.actionCreator("AUTH_SHOW_ERROR"),o.clearError=r.actionCreator("AUTH_CLEAR_ERROR"),o.showSuccess=r.actionCreator("AUTH_SHOW_SUCCESS"),o.complete=r.actionCreator("AUTH_COMPLETE"),o.changeEmail=r.actionCreator("AUTH_CHANGE_EMAIL"),o.changeName=r.actionCreator("AUTH_CHANGE_NAME"),o.toggleSMS=r.actionCreator("AUTH_TOGGLE_SMS"),o.requireTwoFactor=r.actionCreator("AUTH_REQUIRE_TWO_FACTOR"),o.sendSMS=r.actionCreator("AUTH_SEND_SMS"),o.changePasswordLength=r.actionCreator("AUTH_CHANGE_PASSWORD_LENGTH"),o.changeJob=r.actionCreator("AUTH_CHANGE_JOB"),o.changeOptInEmail=r.actionCreator("AUTH_CHANGE_OPT_IN_EMAIL"),o.spellcheckDomain=r.actionCreator("AUTH_SPELLCHECK_DOMAIN"),o.setDomainSuggestion=r.actionCreator("AUTH_SET_DOMAIN_SUGGESTION"),o.useDomainSuggestion=r.actionCreator("AUTH_USE_DOMAIN_SUGGESTION"),o.sendValidationEmail=r.actionCreator("AUTH_SEND_VALIDATION_EMAIL"),o.setGoogleIdToken=r.actionCreator("AUTH_SET_GOOGLE_ID_TOKEN"),o.samlStartFromSession=r.actionCreator("AUTH_SAML_START_FROM_SESSION"),o.emailOnly=r.actionCreator("AUTH_EMAIL_ONLY"),o.redeemReset=r.actionCreator("AUTH_REDEEM_RESET")}(a.auth||(a.auth={}))}),
(function(_,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthFormState={SIGN_IN:"sign_in",SAML_START:"saml_start",SIGN_UP:"sign_up",SIGN_UP_EXTRA_INFO:"sign_up_extra_info",FORGOT_PASSWORD:"forgot_password",SENT_PASSWORD_RESET:"sent_password_reset",RESET_PASSWORD:"reset_password",VALIDATE_EMAIL:"validate_email",VALIDATE_CODE:"validate_code",APP_AUTH_GRANT:"app_auth_grant",APP_AUTH_REDEEM:"app_auth_redeem",SSO_GATE:"sso_gate",EMAIL_ONLY:"email_only"},function(_){_[_.UNAUTHORIZED=0]="UNAUTHORIZED",_[_.BAD_REQUEST=1]="BAD_REQUEST",_[_.NO_SAML=2]="NO_SAML",_[_.SAML_REQUIRED=3]="SAML_REQUIRED"}(e.ErrorType||(e.ErrorType={})),e.AuthInputType={EMAIL:"email",PASSWORD:"password",VERIFICATION_CODE:"verification_code",TOTP_KEY:"totp_key",JOB_TITLE:"job_title"},function(_){_.GOOGLE="google",_.SAML="saml"}(e.SSOMethod||(e.SSOMethod={})),function(_){_.DESKTOP="desktop",_.MOBILE="mobile"}(e.AppAuthAppType||(e.AppAuthAppType={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(85                   ),n=t(404                      ),l=t(405                      );a.defaultState={formState:void 0,email:"",name:"",jobTitle:"",accessCode:null,emailToken:null,optInEmail:!1,passwordLength:0,redirectUrl:null,loading:!1,error:null,success:null,domainSuggestion:null,appAuthId:null,appAuthAppType:null,appAuthGSecret:null,googleIdToken:null,ssoMethod:null,orgName:null,existingSession:!1},a.auth=function(e=a.defaultState,t){if(n.auth.init.matches(t)){let e=s.default();return{formState:t.payload.formState,email:e.email||"",name:e.name||"",jobTitle:"",accessCode:e.access_code||null,emailToken:e.email_token||null,optInEmail:!1,passwordLength:0,redirectUrl:e.redirect_url||null,loading:!1,error:e.error||null,success:null,domainSuggestion:null,origin:t.payload.origin,appAuthId:e.app_auth_id||null,appAuthAppType:e.app_auth_app_type||null,appAuthGSecret:e.app_auth_g_secret||null,googleIdToken:null,ssoMethod:e.sso_method||null,orgName:e.org_name||null,existingSession:e.existing_session||!1}}if(n.auth.redeemReset.matches(t))return Object.assign(Object.assign({},e),{loading:!1,appAuthId:null,appAuthGSecret:null,redirectUrl:null,formState:l.AuthFormState.SIGN_IN});if(n.auth.setGoogleIdToken.matches(t))return Object.assign(Object.assign({},e),{googleIdToken:t.payload.googleIdToken});if(n.auth.changeEmail.matches(t))return Object.assign(Object.assign({},e),{email:t.payload.value});if(n.auth.changeName.matches(t))return Object.assign(Object.assign({},e),{name:t.payload.value});if(n.auth.changeOptInEmail.matches(t))return Object.assign(Object.assign({},e),{optInEmail:t.payload.value});if(n.auth.toggleSMS.matches(t))return Object.assign(Object.assign({},e),{smsOkay:t.payload});if(n.auth.requireTwoFactor.matches(t))return Object.assign(Object.assign({},e),{loading:!1,twoFactorRequired:t.payload.required,hint:t.payload.hint,error:null,success:null});if(n.auth.changeJob.matches(t))return Object.assign(Object.assign({},e),{jobTitle:t.payload.value});if(n.auth.changePasswordLength.matches(t))return Object.assign(Object.assign({},e),{passwordLength:t.payload.value});if(n.auth.setDomainSuggestion.matches(t))return Object.assign(Object.assign({},e),{domainSuggestion:t.payload.domain});if(n.auth.useDomainSuggestion.matches(t)){const a=`${e.email.split("@")[0]}@${e.domainSuggestion}`;return Object.assign(Object.assign({},e),{email:a,domainSuggestion:null})}return n.auth.showForm.matches(t)?t.payload.formState!==e.formState?Object.assign(Object.assign({},e),{formState:t.payload.formState,loading:!1,error:t.payload.errorMessage||null,success:null,invalidInput:null}):e:n.auth.showError.matches(t)?Object.assign(Object.assign({},e),{loading:!1,error:t.payload.message,errorType:t.payload.errorType,invalidInput:t.payload.invalidInput,success:null}):n.auth.clearError.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,success:null}):n.auth.showSuccess.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,loading:!1,success:t.payload.message}):n.auth.signIn.matches(t)||n.auth.signUp.matches(t)||n.auth.sendValidationEmail.matches(t)||n.auth.resetPassword.matches(t)||n.auth.validateCode.matches(t)||n.auth.sendPasswordReset.matches(t)||n.auth.sendEmailSamlStart.matches(t)?Object.assign(Object.assign({},e),{loading:!0,error:null,success:null}):e}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(98                  ),s=o(105               ),n=o(217       ),r=o(124     );function i(t){return t.type?t.type:t.name.endsWith(".otf")?"font/opentype":t.name.endsWith(".ttf")?"font/ttf":""}let c=0;e.getFontUploadId=function(){return c++};const d=t=>{switch(t){case 400:return"Invalid font.";case 403:return"Unfortunately, you don't have permission to complete this action.";case 409:return"This font has already been uploaded to your Organization. Access this font now from the Font Picker.";case 422:return"This file has missing or invalid fields.";case 429:return"This file is too big. Files must be less than 20 MB.";default:return"The font could not be uploaded. Please try again later."}},l=s.asyncActionCreator("UPLOAD_FONTS",(t,e)=>{for(const o in e.fonts){const a=e.fonts[o],s={resourceType:e.resourceType,resourceId:e.resourceId};e.overwrite&&(s.overwrite="true"),r.default.post("/api/upnode/font",a,{params:s,headers:{"content-type":i(a)},raw:!0,uploadEvents:{[r.default.Events.PROGRESS]:(e,a)=>{const s=a.loaded/a.total;t.dispatch(F({uploadId:o,progress:s}))}}}).then(s=>{const r=JSON.parse(s.data).meta,i=n.sharedFontMetadataToFontInfo(r);if("org"===e.resourceType){const o={},a=t.getState(),{fontsByResourceId:s}=a.sharedFonts;Object.keys(s).map(t=>n.resourceIDForUniqueResourceID(t)).filter(t=>a.teams[t]&&a.teams[t].org_id===e.resourceId).forEach(t=>{const e=s[`team-${t}`]&&s[`team-${t}`][i.family]&&s[`team-${t}`][i.family][i.style];e&&e.weight===i.weight&&e.italic===i.italic&&e.stretch===i.stretch&&(o[i.id]=o[i.id]||{font:i,collisions:[]},o[i.id].collisions.push(e))});for(const e in o)t.dispatch(p(o[e]))}t.dispatch(y({font:i})),t.dispatch(u({resourceId:e.resourceId,font:i,filename:a.name,uploadId:o}))}).catch(e=>{let s;if(e.data)try{const t=JSON.parse(e.data).meta;s=t?{existing:n.sharedFontMetadataToFontInfo(t.collision.existing),uploaded:t.collision.uploaded}:void 0}catch(r){}t.dispatch(f({filename:a.name,uploadId:o,collision:s,message:d(e.status),status:e.status}))})}}),u=a.actionCreator("UPLOAD_FONT_SUCCESS"),f=a.actionCreator("UPLOAD_FONT_FAILURE"),p=a.actionCreator("UPLOAD_FONT_WARNING"),h=a.actionCreator("CLEAR_FONT_UPLOAD_RESULTS"),F=a.actionCreator("UPLOAD_FONT_PROGRESS"),T=a.actionCreator("TOGGLE_FONT_TO_DELETE"),_=a.actionCreator("CLEAR_FONTS_TO_DELETE"),O=s.asyncActionCreator("DELETE_FONT",t=>{const{fontsToDelete:e}=t.getState().sharedFonts;r.default.del("/api/fonts",{font_ids:Object.keys(e)}).then(o=>{const a=o.data.meta;for(const s in e)a.errors[s]||t.dispatch(C({font:e[s]}));t.dispatch(E(a))}).catch(e=>{const o={};Object.keys(t.getState().sharedFonts.fontsToDelete).forEach(t=>{o[t]={status:e.status}}),t.dispatch(E({errors:o}))})}),E=a.actionCreator("DELETE_FONT_COMPLETE"),S=a.actionCreator("DISMISS_FONT_COLLISION"),m=a.actionCreator("DISMISS_FONT_WARNING"),I=a.actionCreator("UPDATE_SHARED_FONT_LIST"),y=a.actionCreator("PUT_SHARED_FONT"),C=a.actionCreator("DEL_SHARED_FONT");e.sharedFonts={uploadFonts:l,uploadFontProgress:F,clearFontUploadResults:h,deleteFonts:O,toggleFontsToDelete:T,clearFontsToDelete:_,deleteFontComplete:E,dismissFontCollision:S,dismissFontWarning:m,uploadFontSuccess:u,uploadFontFailure:f,uploadFontWarning:p,updateSharedFontList:I,put:y,del:C}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(407                             ),o=s(138                                   ),i=s(106                                     ),n=s(163                               );e.getFontPriority=(t=>{switch(t.source){case n.FontSource.SHARED:return t.teamId?3:4;case n.FontSource.LOCAL:return 2;case n.FontSource.GOOGLE:return 1;default:return 0}}),e.getVersionsForStyles=(t=>{const s={};for(const r in t){s[r]=s[r]||{};for(const o in t[r]){const i=t[r][o].styles||{};for(const n in i)if(s[r][n]){const i=s[r][n],c=t[r][i],a=t[r][o];e.getFontPriority(a)>e.getFontPriority(c)&&(s[r][n]=o)}else s[r][n]=o}}return s});const c=(t,e)=>t.source===e.source&&(t.source!==n.FontSource.SHARED||!!t.teamId==!!e.teamId&&!!t.orgId==!!e.orgId);function a(t){return{weight:t.weight,stretch:t.stretch,italic:t.italic,postscript:t.postscript,sampleUrl:t.sampleUrl,id:t.id}}function l(t,e,s){t[e]=Object.assign({},t[e]),t[e][s]&&(t[e][s]=Object.assign({},t[e][s]),t[e][s].styles=Object.assign({},t[e][s].styles))}function f(t,s){const r=s.version||"";if(o=t,[s.family,r].reduce((t,e)=>(t||{})[e],o)){if(l(t,s.family,r),c(t[s.family][r],s))return void(t[s.family][r].styles[s.style]=a(s));if(!(e.getFontPriority(s)>e.getFontPriority(t[s.family][r])))return;t[s.family][r]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}}}else t[s.family]=t[s.family]||{},t[s.family][r]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}};var o;l(t,s.family,r),t[s.family][r].styles[s.style]=a(s)}e.fonts=function(t={},e){if(i.fileBrowser.init.matches(e))return Object.create(null);if(o.fullscreen.updateFontList.matches(e)){const s=Object.assign({},t),r=new Set(e.payload.sources);for(const t in s)for(const e in s[t])r.has(s[t][e].source)&&(s[t]=Object.assign({},s[t]),delete s[t][e],0===Object.keys(s[t]).length&&delete s[t]);for(const t of e.payload.list)f(s,t);return s}if(r.sharedFonts.put.matches(e)){const s=Object.assign({},t);return f(s,e.payload.font),s}return t}}),
(function(e,t,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const _=E(98                  );!function(e){e.getStyleSet=_.actionCreator("STYLE_FILE_GET_STYLE_SET"),e.putStyleSet=_.actionCreator("STYLE_FILE_PUT_STYLE_SET"),e.updateSelectedIndices=_.actionCreator("STYLE_FILE_UPDATE_SELECTED_INDICES")}(t.style||(t.style={}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(409                              );t.DOCUMENT_COLORS_STYLE_FILE_ID="-1",t.styleSets=function(e=Object.create(null),t){if(c.style.putStyleSet.matches(t)){const s=Object.assign({},t.payload.styleSet);return Object.assign(Object.create(null),e,{[t.payload.id]:s})}return e},t.selectedSharedColorIndices=function(e=[],t){return c.style.updateSelectedIndices.matches(t)?t.payload.indices:e}}),
(function(e,i,t){e.exports={tabBarHeight:"38px",filebarHeight:"42px",toolbarHeight:"40px",viewbarHeight:"64px",signedOutTopbarDesktopHeight:"56px",signedOutTopbarMobileHeight__OLD:"40px",signedOutTopbarMobileHeight:"48px",fileBrowserToolBarHeight:"48px",fileBrowserHeaderHeight:"84px",fileBrowserLeftPaddingWidth:"32px",fileBrowserMobileWidth:"645px",fileBrowserFooterHeight:"60px",titleChevronWidth:"18px",profileHeaderHeight:"240px",signedInlandingPageHeaderHeight:"120px",signedOutlandingPageHeaderHeight:"360px",landingPageViewBarHeight:"48px",communityHubPublishModalWidth__OLD:"600px",communityHubPublishModalWidth:"560px",communityHubResourcePageDesktopBreakpoint:"800px",leftNavWidth:"208px",leftNavHeight:"40px",navRowHeight:"36px",navRightPadding:"12px",searchInputHeight:"32px",navIconSize:"24px",navIconPadding:"12px",rightNavGridRowHeight:"32px",rightNavGridNumCols:28,rightNavHorizontalPadding:"8px",objectRowHeight:"32px",rightNavWidth:"240px",gridBasis:"8px",dropdownItemHeight:"24px",dropdownOverflowPadding:"6px",copyTextModal:"300px",openDesktopModal:"378px",missingFontsModal:"420px",genericTileMargin:"24px",genericTileOuterMargin:"2px",fileBrowserLeftNavWidth:"200px",orgSwitcherNameWidth:"126px",orgSwitcherNameMobileWidth:"94px",tilePadding:"12px",thumbnailHeight:"162px",listViewHeight:"40px",listViewThumbHeight:"24px",tileLabelHeight:"55px",tileLabelMargin:"16px",tileBorderRadius:"6px",tileBorderOpacity:.13,tileMaxWidth:"280px",userDetailsModalWidth:"420px",exportPickerWidth:"318px",exportPickerMaxHeight:"460px",nudgeAmountPickerWidth:"180px",stylePickerMaxHeight:"300px",stylesPickerGridNumCols:25,stylesPickerWidth:"216px",tooltipDist:"6px",tooltipArrowHeight:"6px",commentThreadWidth:"324px",commentThreadMargins:"48px",commentThreadBuffer:"15px",commentThreadOuterMargin:"16px",commentThreadInnerMargin:"8px",titleFontSize__DEPRECATED:"14px",baseFontSize__DEPRECATED:"11px",defaultCornerRadius:"2px",btnBorderRadius:"6px",bigBtnBorderRadius:"8px",libraryPreferencesModalWidth:"460px",sharedFontsModalWidth:"596px",libraryPreferencesModalHeight:"594px",libraryPreferencesModalMaxHeight:"70vh",orgModal:"864px",orgDashboardModalContentHeight:"564px",orgDashboardTabsHeight:"48px",orgDashboardRowHeight:"60px",keyboardShortcutsPaneHeight:"240px",iconButtonSize:"32px"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(138                                   ),c=n(145         ),i=n(340              ),o=n(411                                        );t.PICKER_WIDTH=i.pxToInt(o.rightNavWidth),t.pickerPositionLeftOf=function(e){const{top:n,left:s}=e.getBoundingClientRect();return new c.Vector(s-t.PICKER_WIDTH,n)},t.pickerShown=function(e=null,t){return s.fullscreen.showPicker.matches(t)?t.payload:s.fullscreen.hidePicker.matches(t)?null:e}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=o(98                  );!function(e){e.reset=E.actionCreator("COLOR_PICKER_RESET"),e.setStylesExpanded=E.actionCreator("COLOR_PICKER_SET_STYLES_EXPANDED"),e.setViewMode=E.actionCreator("COLOR_PICKER_SET_VIEW_MODE"),e.selectSwatchSet=E.actionCreator("COLOR_PICKER_SELECT_SWATCH_SET"),e.resetSwatchSet=E.actionCreator("COLOR_PICKER_RESET_SWATCH_SET")}(t.colorPicker||(t.colorPicker={}))}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.GRID=0]="GRID",e[e.LIST=1]="LIST"}(t.ViewMode||(t.ViewMode={})),t.DOCUMENT_SWATCH_SET_ID="document-swatch-set-id",t.LOCAL_SWATCH_SET_ID="local-swatch-set-id"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(157         ),a=s(413                                     ),d=s(414                            ),i={stylesExpanded:!1,viewMode:d.ViewMode.GRID,selectedSwatchSetId:d.DOCUMENT_SWATCH_SET_ID};t.colorPicker=function(e,t){return e?a.colorPicker.reset.matches(t)?Object.assign({},i):a.colorPicker.setStylesExpanded.matches(t)?Object.assign(Object.assign({},e),{stylesExpanded:t.payload.expanded}):a.colorPicker.setViewMode.matches(t)?Object.assign(Object.assign({},e),{viewMode:t.payload.viewMode}):a.colorPicker.resetSwatchSet.matches(t)?(c.assertDev(""!==i.selectedSwatchSetId,"selectedSwatchSetId must be a valid swatch set ID"),Object.assign(Object.assign({},e),{selectedSwatchSetId:i.selectedSwatchSetId})):a.colorPicker.selectSwatchSet.matches(t)?(c.assertDev(""!==t.payload.swatchId,"selectedSwatchSetId must be a valid swatch set ID"),Object.assign(Object.assign({},e),{selectedSwatchSetId:t.payload.swatchId})):e:i}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(98                  );!function(e){e.setItems=r.actionCreator("EXPORT_PICKER_SET_ITEMS"),e.setChecked=r.actionCreator("EXPORT_PICKER_CHECK")}(t.exportableItems||(t.exportableItems={}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(416                                      ),r=n(200         ),s=n(390                                        ),l=n(167                                  ),a=n(391                                              );class o{constructor(){this.indexer={}}next(e){return null==this.indexer[e]?this.indexer[e]=0:this.indexer[e]++,this.indexer[e]}}function c(e,t,n,i){let r=`${e}-${t}-${n.imageType}-${n.suffix}`;return`${r}-${i.next(r)}`}t.UniqueIndexer=o,t.exportableItems=function(e=Object.create(null),t){if(i.exportableItems.setItems.matches(t)){let n=Object.assign({},e.checked);for(let e of t.payload.items){let t=e.itemID;null==n[t]&&(n[t]=!0)}return{items:t.payload.items,frames:t.payload.frames,checked:n}}if(i.exportableItems.setChecked.matches(t)){let n=Object.assign({},e.checked);return n[t.payload.itemID]=t.payload.checked,Object.assign(Object.assign({},e),{checked:n})}return e};const p={PNG:".png",JPEG:".jpg",SVG:".svg",PDF:".pdf"};function u(e,t,n,i){let r,s=!1;""===e.trim()&&(e="Untitled"),r=`${e}${t}${n}`;let l=i.next(`${r}`);return l>0&&(r=`${e}${t}-${l}${n}`,s=!0),{filename:r,isDuplicate:s}}function d(e,t,n,i){let r,s;if("CANVAS"===e)""===(r=n).trim()&&(r="Untitled"),s=r=r.replace(/\//g,"_");else{(r=t).endsWith("/")&&(r=r.substr(0,r.length-1));let e=r.lastIndexOf("/");s=-1!==e?r.substr(e+1,r.length):r;for(let t of i){let e=t.substr(0,t.lastIndexOf("/"));e.length>0&&(r=e+"/"+r)}}return{name:r,title:s}}function m(e){return("FRAME"===e.type||"SYMBOL"===e.type)&&!e.resizeToFit}t.computeExportFilename=u,t.computeExportName=d,t.isNodeFrameOrSymbol=m,t.computeExportItems=function(e){const t=[],n=[],i=e.mirror,f=i.sceneGraph,g=e=>{(null!=e.exportSettings&&e.exportSettings.length>0||m(e))&&t.push(e)},h=e=>{const t=e.parent?f.get(e.parent):null;m(e)&&null!=t&&"CANVAS"===t.type&&n.push({nodeID:e.guid,name:e.name})},x=e=>{m(e)&&n.push({nodeID:e.guid,name:e.name})};if(r.isEmpty(i.sceneGraphSelection)){const e=f.get(l.currentCanvasNodeId(i.appModel));e&&(s.traverse(f,e,g),s.traverse(f,e,h))}else a.forEachSelectedNode(f,i.sceneGraphSelection,g),a.forEachDirectlySelectedNode(f,i.sceneGraphSelection,x);let y="Untitled";e.editingFileKey&&(y=e.fileByKey[e.editingFileKey].name);const b=[];let I=new o,$=new o;for(let r of t){let e=s.getAncestors(i.sceneGraph,r.guid).filter(e=>!e.visible);if(!r.visible||e.length>0)continue;let t=r.exportSettings;if(null!=t)for(let n of t){if(null==n.imageType)continue;let e=s.getAncestors(i.sceneGraph,r.guid).map(e=>e.name),{name:t,title:l}=d(r.type,r.name,y,e),a=c(r.guid,t,n,$),{filename:o,isDuplicate:m}=u(t,n.suffix||"",(S=n.imageType,p[S]),I);b.push({itemID:a,nodeID:r.guid,title:l,filename:o,exportSetting:n,warning:m?"Name duplicated":void 0,warningTooltip:m?`Renamed to ${o}`:void 0})}}var S;return{items:b,frames:n}}}),
(function(R,E,I){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(R){R[R.NOTHING_RECORDED=0]="NOTHING_RECORDED",R[R.RECORDING=1]="RECORDING",R[R.RECORDING_FINISHED=2]="RECORDING_FINISHED",R[R.EXPORTING=3]="EXPORTING"}(E.RecordingStatus||(E.RecordingStatus={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(10,1   ),o=n(135                                         ),r=n(418                                 );const i={filterOutMouseMoveEvents:!0,includeOnlyFirstAndLastDragEvents:!0,isScreenshotTest:!1};const c=s.combineReducers({dialogShown:function(t=!1,e){return!!o.interactionTest.showRecorder.matches(e)||!o.interactionTest.hideRecorder.matches(e)&&t},status:function(t=r.RecordingStatus.NOTHING_RECORDED,e){return o.interactionTest.startRecording.matches(e)?r.RecordingStatus.RECORDING:o.interactionTest.stopRecording.matches(e)?r.RecordingStatus.RECORDING_FINISHED:o.interactionTest.exportRecording.matches(e)?r.RecordingStatus.EXPORTING:o.interactionTest.doneExporting.matches(e)?r.RecordingStatus.RECORDING_FINISHED:t},recordedEvents:function(t=[],e){return o.interactionTest.startRecording.matches(e)?[]:o.interactionTest.recordEvent.matches(e)?[...t,e.payload]:t},exportSettings:function(t=i,e){return o.interactionTest.updateExportSettings.matches(e)?e.payload:t},pretestCommands:function(t=null,e){return o.interactionTest.updatePretestCommands.matches(e)?e.payload:t}});e.default=c}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(98                  );!function(t){t.usedKeyboardShortcut=r.actionCreator("USED_KEYBOARD_SHORTCUT")}(e.keyboardShortcut||(e.keyboardShortcut={}))}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(420                                          ),s=r(113          );e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY="usedKeyboardShortcuts";let a={};if(s.localStorageOrNull){const t=s.localStorageOrNull.getItem(e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY);try{a=t&&JSON.parse(t)||{}}catch(c){}}e.usedKeyboardShortcuts=function(t,e){if(null==t)return a;if(o.keyboardShortcut.usedKeyboardShortcut.matches(e)){const r=e.payload.key;return r in t?Object.assign(Object.assign({},t),{[r]:t[r]+1}):Object.assign(Object.assign({},t),{[r]:1})}return t}}),
(function(e,s,_){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e){e.FILE_BROWSER_SIDEBAR_DRAFTS="file_browser_sidebar_drafts",e.FILE_BROWSER_TOOLBAR_RECENTS="file_browser_toolbar_recents",e.FILE_BROWSER_TOOLBAR_FOLDER="file_browser_toolbar_folder",e.FILE_BROWSER_TOOLBAR_DRAFTS="file_browser_toolbar_drafts",e.FILE_BROWSER_EMPTY_FOLDER="file_browser_empty_folder"}(s.NewFileFrom||(s.NewFileFrom={})),function(e){e[e.OFF=0]="OFF",e[e.ON_AND_LOCKED=1]="ON_AND_LOCKED",e[e.KEEP_UI=2]="KEEP_UI",e[e.HIDE_UI=3]="HIDE_UI"}(s.ProgressBarMode||(s.ProgressBarMode={})),function(e){e[e.NONE=0]="NONE",e[e.FOR_OPEN=1]="FOR_OPEN",e[e.FOR_MENU=2]="FOR_MENU"}(s.OpenDesktopAppModalMode||(s.OpenDesktopAppModalMode={}));s.SaveStatus=class{constructor(e,s,_){this.statusHTML=e,this.tabCloseText=s,this.hasUnsavedChanges=_}equals(e){return e&&this.statusHTML===e.statusHTML&&this.tabCloseText===e.tabCloseText&&this.hasUnsavedChanges===e.hasUnsavedChanges}},function(e){e[e.CUT=0]="CUT",e[e.COPY=1]="COPY",e[e.PASTE=2]="PASTE"}(s.ClipboardAction||(s.ClipboardAction={}))}),
(function(E,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=o(98                  ),a=o(106                                     );!function(E){E.setTeamName=t.actionCreator("WELCOME_SEQUENCE_SET_TEAM_NAME"),E.setFolderName=t.actionCreator("WELCOME_SEQUENCE_SET_FOLDER_NAME"),E.updateCollaboratorEmail=t.actionCreator("WELCOME_SEQUENCE_UPDATE_EMAIL"),E.addCollaborator=t.actionCreator("WELCOME_SEQUENCE_ADD_COLLABORATOR"),E.submitTeamCreate=t.actionCreator("WELCOME_SEQUENCE_SET_TEAM_CREATE"),E.submitAddCollaborators=t.actionCreator("WELCOME_SEQUENCE_ADD_COLLAB"),E.exit=t.actionCreator("WELCOME_SEQUENCE_EXIT"),E.teamCreateSuccess=t.actionCreator("WELCOME_SEQUENCE_TEAM_CREATE_SUCCESS"),E.teamCreateError=t.actionCreator("WELCOME_SEQUENCE_TEAM_CREATE_ERROR"),E.setFocusedCollaboratorIndex=t.actionCreator("WELCOME_SEQUENCE_SET_FOCUSED_COLLAB_INDEX"),E.goToStep=(E=>a.fileBrowser.selectView({view:"welcomeSequence",welcomeStep:E}))}(e.welcomeSequenceActions||(e.welcomeSequenceActions={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(423                                         );a.welcomeSequence=function(e={requestInFlight:!1,collaborators:["","",""]},a){if(s.welcomeSequenceActions.setTeamName.matches(a))return Object.assign(Object.assign({},e),{teamName:a.payload});if(s.welcomeSequenceActions.setFolderName.matches(a))return Object.assign(Object.assign({},e),{folderName:a.payload});if(s.welcomeSequenceActions.updateCollaboratorEmail.matches(a)){const t=[...e.collaborators];return t[a.payload.index]=a.payload.email,Object.assign(Object.assign({},e),{collaborators:t})}if(s.welcomeSequenceActions.addCollaborator.matches(a)){const a=[...e.collaborators];return a.push(""),Object.assign(Object.assign({},e),{collaborators:a})}return s.welcomeSequenceActions.teamCreateSuccess.matches(a)?Object.assign(Object.assign({},e),{teamId:a.payload.teamId,folderId:a.payload.folderId,requestInFlight:!1}):s.welcomeSequenceActions.teamCreateError.matches(a)?Object.assign(Object.assign({},e),{requestInFlight:!1}):s.welcomeSequenceActions.submitTeamCreate.matches(a)?Object.assign(Object.assign({},e),{requestInFlight:!0}):s.welcomeSequenceActions.setFocusedCollaboratorIndex.matches(a)?Object.assign(Object.assign({},e),{focusedCollaboratorIndex:a.payload}):e}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=n(135                                         ),r=n(138                                   ),a=n(106                                     ),l=n(387                                        ),o=n(85                   ),i=n(398              ),c=n(400                                ),u=n(403                         ),p=n(191                                 ),d=n(406                        ),f=n(408      ),m=n(410                        ),h=n(412       ),g=n(415             ),y=n(417              ),_=n(419                  ),w=n(421                        ),b=n(146                                          ),S=n(163                               ),M=n(422                          ),k=n(424                                  );function P(e=!1,s){return!a.fileBrowser.init.matches(s)&&(!!r.fullscreen.beginRenaming.matches(s)||!r.fullscreen.stopRenaming.matches(s)&&e)}function B(e=null,s){return a.fileBrowser.init.matches(s)?o.default().editing_file?o.default().editing_file.key:null:t.interactionTest.startTestRun.matches(s)?s.payload.fakeFileKey:r.fullscreen.open.matches(s)?s.payload.file?s.payload.file.key:null:r.fullscreen.newFileLoaded.matches(s)?s.payload.file.key:r.fullscreen.close.matches(s)?null:e}function T(e=M.ProgressBarMode.OFF,s){let n=e;if(a.fileBrowser.init.matches(s)){n=o.default().editing_file?M.ProgressBarMode.HIDE_UI:M.ProgressBarMode.OFF}else r.fullscreen.new_.matches(s)?n=s.payload.openInNewTab?M.ProgressBarMode.OFF:M.ProgressBarMode.HIDE_UI:r.fullscreen.open.matches(s)?n=M.ProgressBarMode.HIDE_UI:r.fullscreen.documentLoaded.matches(s)&&e!==M.ProgressBarMode.ON_AND_LOCKED?n=M.ProgressBarMode.OFF:r.fullscreen.setProgressBarMode.matches(s)&&(n=s.payload.mode);return n!==e&&b.fullscreen.isReady()&&b.fullscreen.DEPRECATED_sendMessage("showingProgressBar",{value:n}),n}function O(e=!1,s){return r.fullscreen.new_.matches(s)?!!s.payload.openInNewTab&&e:!(a.fileBrowser.init.matches(s)||r.fullscreen.open.matches(s)||r.fullscreen.reconnectingSucceeded.matches(s)||r.fullscreen.documentLoaded.matches(s)||r.fullscreen.hideAsyncDetachModal.matches(s))&&(!(!r.fullscreen.reconnectingStarted.matches(s)&&!r.fullscreen.showAsyncDetachModal.matches(s))||e)}function D(e=M.OpenDesktopAppModalMode.NONE,s){return r.fullscreen.showOpenDesktopAppModal.matches(s)?s.payload:r.fullscreen.hideOpenDesktopAppModal.matches(s)?M.OpenDesktopAppModalMode.NONE:e}function v(e=null,s){return a.fileBrowser.init.matches(s)?null:r.fullscreen.setSaveStatus.matches(s)?s.payload:e}function A(e=null,s){return a.fileBrowser.init.matches(s)?{sessionID:-1,observingSessionID:-1,allUsers:[]}:r.fullscreen.updateMultiplayerState.matches(s)?s.payload:r.fullscreen.stopObservingOtherUser.matches(s)?Object.assign(Object.assign({},e),{observingSessionID:-1}):e}function I(e=!1,s){return!!r.fullscreen.showUpgradeBanner.matches(s)||!r.fullscreen.hideUpgradeBanner.matches(s)&&e}function F(e,s){return null==e?{activeTab:S.LeftPanelTab.LAYERS}:r.fullscreen.setLeftPanelTab.matches(s)?Object.assign(Object.assign({},e),{activeTab:s.payload.tab}):e}function R(e=null,s){return r.fullscreen.setEyedropper.matches(s)?s.payload:e}function C(e=null,s){return r.fullscreen.setHyperlinkStatusBar.matches(s)?s.payload:e}function E(e=[],s){return r.fullscreen.setRecentlyUsedQuickCommands.matches(s)?s.payload:e}function U(e=null,s){return r.fullscreen.setMostRecentContextMenuClickPosition.matches(s)?s.payload:e}function N(e={count:0,startTime:null,waitTime:0},s){if(r.fullscreen.showProgressBellForSaveAs.matches(s)){const s=Date.now(),n=null===e.startTime?e.waitTime:e.waitTime+(s-e.startTime);return{count:e.count+1,startTime:s,waitTime:n}}const n=r.fullscreen.cancelSaveAs.matches(s),t=r.fullscreen.beginSaveAs.matches(s);if(n||t){const r=(n||t&&s.payload.skipped)&&null!==e.startTime?e.waitTime+Date.now()-e.startTime:0;return{count:e.count+1,startTime:null,waitTime:r}}return e}function L(e={},s){return l.selectionPaintActions.updateCurrentSelectionPaintInPicker.matches(s)?s.payload:e}s.isRenaming=P,s.editingFileKey=B,s.showingProgressBar=T,s.showingReconnectingModal=O,s.showingOpenDesktopAppModal=D,s.saveStatus=v,s.saveAsState=N,s.fullscreenReducerMap=function(){return{auth:d.auth,editingFileKey:B,showingProgressBar:T,showingReconnectingModal:O,showingOpenDesktopAppModal:D,saveStatus:v,isRenaming:P,pickerShown:h.pickerShown,versionHistory:p.versionHistory,fileFollowers:c.fileFollowers,multiplayer:A,fonts:f.fonts,library:u.library,mirror:i.mirror,styleSets:m.styleSets,selectedSharedColorIndices:m.selectedSharedColorIndices,colorPicker:g.colorPicker,exportableItems:y.exportableItems,showingUpgradeBanner:I,interactionTests:_.default,leftPanel:F,usedKeyboardShortcuts:w.usedKeyboardShortcuts,welcomeSequence:k.welcomeSequence,eyedropper:R,hyperlinkStatusBar:C,recentlyUsedQuickCommands:E,mostRecentContextMenuClickPosition:U,saveAsState:N,currentSelectionPaintInPicker:L}}}),
(function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const o=a(106                                     );function t(e=null,l){return o.fileBrowser.showModal.matches(l)?e?Object.assign({prevModal:e},l.payload):l.payload:o.fileBrowser.popModalStack.matches(l)?e&&e.prevModal||null:o.fileBrowser.hideModal.matches(l)?null:o.fileBrowser.hideSpecificModal.matches(l)&&e&&l.payload.type===e.type?null:e}l.modalShown=t,l.default=t}),
(function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const t=a(130                                              );function s(e=[],l){return t.visualBell.enqueue.matches(l)?l.payload.type&&e.length>0&&e[e.length-1].type==l.payload.type?e.slice(0,e.length-1).concat([l.payload]):e.concat([l.payload]):t.visualBell.dequeue.matches(l)?l.payload.type?e.filter(e=>e.type!==l.payload.type):e.slice(1):t.visualBell.clearAll.matches(l)?[]:e}l.visualBell=s,l.default=s}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(98                  );!function(e){e.set=n.actionCreator("BLOCKED_UI_LOADING_INDICATOR_SET"),e.remove=n.actionCreator("BLOCKED_UI_LOADING_INDICATOR_REMOVE")}(o.BlockedUILoadingIndicator||(o.BlockedUILoadingIndicator={}))}),
(function(o,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const d=e(428                                                                                                   );function i(o=null,n){return d.BlockedUILoadingIndicator.set.matches(n)?n.payload:d.BlockedUILoadingIndicator.remove.matches(n)?null:o}n.blockedUILoadingIndicator=i,n.default=i}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=r(98                  );!function(e){e.subscribe=function(t){return e.batchSubscribe([t])},e.batchSubscribe=c.actionCreator("REALTIME_BATCH_SUBSCRIBE"),e.unsubscribe=c.actionCreator("REALTIME_UNSUBSCRIBE"),e.reset=c.actionCreator("REALTIME_RESET")}(t.realtime||(t.realtime={}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(10,1   ),r=i(430                                 ),n=i(106                                     );function a(e={},t){if(n.fileBrowser.init.matches(t))return{};if(r.realtime.batchSubscribe.matches(t)){const i=t.payload;let s=null;for(const t of i)e[t.channel]||(s||(s=Object.assign({},e)),s[t.channel]=!0);return s||e}if(r.realtime.reset.matches(t))return{};if(r.realtime.unsubscribe.matches(t)){let i=t.payload,s=Object.assign({},e);return delete s[i],s}return e}t.subscriptions=a,t.realtime=s.combineReducers({subscriptions:a})}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(106                                     ),c=t(137                             ),n=t(251                                 );function i(e,a){return e.name<a.name?-1:1}a.getConnectSlackUrl=function(e){return`/slack/${e.id}/connect`},a.getFirstTeamAlphabetically=function(e,a){const t=Object.keys(a.byTeamId).map(a=>e[a]);return t.length?(t.sort(i),t[0]):null};const r=n.createReducerWithPrecheck((e,a)=>c.team.fetchedRoles.matches(a)&&a.payload.team.id===e.id?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{fetchedRoles:!0})}):e,{shouldIgnoreAction:e=>!c.team.fetchedRoles.matches(e)});function o(e,a){if(!e)return{};if(s.fileBrowser.hydrate.matches(a)){let e={};for(let t of a.payload.teams||[])e[t.id]=t;return e}if(c.team.post.matches(a))return Object.assign(Object.assign({},e),{[a.payload.team.id]:a.payload.team});if(c.team.del.matches(a)){let t=Object.assign({},e);return delete t[a.payload.team.id],t}if(c.team.rename.matches(a)){let t=Object.assign(Object.assign({},e[a.payload.team.id]),{name:a.payload.name});return Object.assign(Object.assign({},e),{[a.payload.team.id]:t})}if(c.team.changeOrgAccess.matches(a)){let t=Object.assign(Object.assign({},e[a.payload.team.id]),{org_access:a.payload.orgAccess});return Object.assign(Object.assign({},e),{[t.id]:t})}if(c.team.put.matches(a)){const t=e[a.payload.team.id];return Object.assign(Object.assign({},e),{[a.payload.team.id]:Object.assign(Object.assign({},t),a.payload.team)})}return a.type,n.reduceObject(e,a,r)}a.teams=o,a.default=o}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(98                  );!function(e){e.showAfterDelay=a.actionCreator("TOOLTIP_SHOW_AFTER_DELAY"),e.showImmediately=a.actionCreator("TOOLTIP_SHOW_IMMEDIATELY"),e.hide=a.actionCreator("TOOLTIP_HIDE"),e.hideAfterDelay=a.actionCreator("TOOLTIP_HIDE_AFTER_DELAY"),e.cancelHideAfterDelay=a.actionCreator("TOOLTIP_CANCEL_HIDE_AFTER_DELAY"),e.update=a.actionCreator("TOOLTIP_UPDATE")}(t.tooltip||(t.tooltip={}))}),
(function(t,E,o){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.PENDING=1]="PENDING",t[t.SHOWING=2]="SHOWING"}(E.TooltipState||(E.TooltipState={})),function(t){t[t.BELOW=0]="BELOW",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.ABOVE=3]="ABOVE"}(E.TooltipPosition||(E.TooltipPosition={})),function(t){t[t.ELEMENT=0]="ELEMENT",t[t.KEY=1]="KEY",t[t.TEXT=2]="TEXT"}(E.TargetKind||(E.TargetKind={}))}),
(function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=i(106                                     ),a=i(433                                ),s=i(434                       ),n={target:null,state:s.TooltipState.NONE,position:s.TooltipPosition.BELOW,timeoutID:null};o.tooltip=function(t=n,o){return a.tooltip.update.matches(o)?Object.assign(Object.assign({},t),o.payload.tooltip):e.fileBrowser.init.matches(o)?n:t}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(240                             ),n=t(106                                     ),i=t(85                   ),o=10;function r(e=null,a){return n.fileBrowser.init.matches(a)?i.initialOptions().user_data||null:s.user.put.matches(a)?e&&e.id===a.payload.user.id?Object.assign(Object.assign({},e),a.payload.user):e:s.user.eraseSecrets.matches(a)?e?Object.assign(Object.assign({},e),{two_factor_secret_loaded:!1,password_token:void 0,temp_phone:void 0,phone_token:void 0,backup_codes:void 0}):null:s.user.toggleTwoFactor.matches(a)?e?Object.assign(Object.assign({},e),{two_factor_app_enabled:a.payload.enabled}):null:s.user.logOut.matches(a)?e?Object.assign(Object.assign({},e),{appData:Object.assign(Object.assign({},e.appData),{loggedOut:!0})}):e:s.user.deleteUserLoading.matches(a)?e?Object.assign(Object.assign({},e),{delete_user_loading:a.payload.loading}):null:e}a.inGracePeriod=function(e){let a=new Date(e.created_at).getTime(),t=864e5*o;return(new Date).getTime()-a<t},a.isUserLoggedOut=function(e){return!!(e&&e.appData&&e.appData.loggedOut)},a.formatUserHandle=function(e,a){return a&&a.id===e.id?"You":e.handle},a.user=r,a.default=r}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BUSY=0]="BUSY",e[e.READY=1]="READY"}(t.CommentState||(t.CommentState={})),t.NEW_COMMENT_ID="new-comment-id",t.COMMENT_PREFERENCE_ID="comment-preference-picker"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(98                  ),a=i(160       ),s=i(124     ),n=i(103                 ),r=i(187                             ),c=i(105                               ),l=i(112                      ),m=i(163                               ),d=i(156                                ),_=i(131                                        ),E=i(162                            ),p=i(437                        ),C=i(140                               ),f=i(103                 ),T=i(128            ),u=i(104                     );!function(e){e.reset=o.actionCreator("COMMENTS_RESET"),e.post=o.actionCreator("COMMENTS_POST"),e.put=o.actionCreator("COMMENTS_PUT"),e.del=o.actionCreator("COMMENTS_DEL"),e.fetchedUnread=o.actionCreator("COMMENTS_FETCHED_UNREAD"),e.postUnread=o.actionCreator("COMMENTS_POST_UNREAD"),e.deleteUnread=o.actionCreator("COMMENTS_DELETE_UNREAD"),e.setThreadOffset=o.actionCreator("COMMENTS_SET_THREAD_OFFSET"),e.setEditing=o.actionCreator("COMMENTS_SET_EDITING"),e.setReplyMessage=o.actionCreator("COMMENTS_SET_REPLY_MESSAGE"),e.setNewCommentMessage=o.actionCreator("COMMENTS_SET_NEW_COMMENT_MESSAGE"),e.resetThread=o.actionCreator("COMMENTS_RESET_THREAD"),e.resetNewComment=o.actionCreator("COMMENTS_RESET_NEW_COMMENT"),e.setViewportInfo=o.actionCreator("COMMENTS_SET_VIEWPORT_INFO"),e.setShowResolvedComments=o.actionCreator("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),e.setShowOnlyParticipatingComments=o.actionCreator("COMMENTS_SET_SHOW_ONLY_MY_COMMENTS"),e.setEmojiPicker=o.actionCreator("COMMENTS_SHOW_EMOJI_PICKER"),e.setTypeahead=o.actionCreator("COMMENTS_SET_TYPEAHEAD"),e.setTypeaheadPositionOffset=o.actionCreator("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),e.setActive=o.actionCreator("COMMENTS_SET_ACTIVE"),e.setInitialThreadAlreadyOpened=o.actionCreator("COMMENTS_SET_INITIAL_THREAD_ALREADY_OPENED"),e.onResponseError=c.asyncActionCreator("ON_RESPONSE_ERROR",(e,t)=>{const{resp:i}=t;let o=i.data&&i.data.message||"An error occurred";e.dispatch(f.flashActions.error(o))}),e.initCommentsForFile=c.asyncActionCreator("COMMENTS_INIT_COMMENTS_FOR_FILE",(t,i)=>{let{fileKey:o,openThread:a}=i;void 0===a&&(a=!0),s.default.get(`/api/file/${o}/comments`).then(({data:i})=>{let a=t.getState();if(C.editingFileKey(a.selectedView)===o)for(let o of i.meta)t.dispatch(e.post({comment:o,userInitiated:!1}))}),s.default.get(`/api/file/${o}/unread_comments`).then(({data:i})=>{if(C.editingFileKey(t.getState().selectedView)!==o)return;const a=i.meta||{};for(let e in a)a[e]||delete a[e];t.dispatch(e.fetchedUnread({unreadIds:a}))})}),e.setNewAnchorPosition=c.asyncActionCreator("COMMENTS_SET_NEW_ANCHOR_POSITION",(e,t)=>{if("fullscreen"===e.getState().selectedView.view){const{x:e,y:i}=t.position;m.Fullscreen.setActiveCommentNode(m.Fullscreen.getCommentAnchorNodeAtPosition(e,i)||a.invalidGUIDStr)}}),e.setNewCommentActive=c.asyncActionCreator("COMMENTS_SET_NEW_COMMENT_ACTIVE",(t,i)=>{let o=t.getState();if(o.comments.activeId!==p.NEW_COMMENT_ID&&t.dispatch(e.setThreadOffset({threadId:p.NEW_COMMENT_ID,offset:null})),"fullscreen"===o.selectedView.view)if(o.comments.newComment.anchorPosition){const{x:e,y:t}=o.comments.newComment.anchorPosition;m.Fullscreen.setActiveCommentNode(m.Fullscreen.getCommentAnchorNodeAtPosition(e,t)||a.invalidGUIDStr)}else m.Fullscreen.setActiveCommentNode(a.invalidGUIDStr)}),e.deactivateActiveComment=c.asyncActionCreator("COMMENTS_DEACTIVATE_ACTIVE_COMMENT",(e,t)=>{"fullscreen"===e.getState().selectedView.view&&m.Fullscreen.setActiveCommentNode(a.invalidGUIDStr)}),e.submitNewComment=c.asyncActionCreator("COMMENTS_SUBMIT_NEW_COMMENT",(t,i)=>{const o=t.getState(),a=C.editingFileKey(o.selectedView);if(!a)return;const n=o.comments.newComment,{canvasPosition:c,nodeId:m,nodeOffset:d,inFrame:p}=i,f={x:c.x,y:c.y,node_id:m,node_offset:d,in_frame:p};let T=n.messageMeta;s.default.post(`/api/file/${a}/comments`,{file_key:a,message_meta:T,client_meta:f,prototype_mode:"prototype"===o.selectedView.view}).then(({data:i})=>{if(C.editingFileKey(t.getState().selectedView)!==a)return;i.message&&i.message.warning_message&&t.dispatch(r.visualBellActions.enqueue({type:"at-mention-error",message:i.message.warning_message,timeout:4e3})),i.message&&i.message.is_new_file_follower&&t.dispatch(_.library.showNotification({notification:{type:E.NotificationType.COMMENT_PARTICIPATING_PREFERENCE_OPTED_IN,message:"You'll be notified about replies to your comments."}}));let s=i.meta;t.dispatch(e.post({comment:s,userInitiated:!1}));const n="fullscreen"===o.selectedView.view?"fullscreen":"prototype";l.trackEventForFile("Comment Submitted",a,o,{commentId:s.id,locationX:c&&c.x,locationY:c&&c.y,nodeId:m,nodeOffsetX:d&&d.x,nodeOffsetY:d&&d.y,selectedView:n})}).catch(i=>{e.onResponseError(i),t.dispatch(e.resetNewComment({resetStatusOnly:!0}))})}),e.submitReply=c.asyncActionCreator("COMMENTS_SUBMIT_REPLY",(t,i)=>{const o=t.getState(),a=C.editingFileKey(o.selectedView);if(!a)return;let n=o.comments.threads[i.threadId].replyMessageMeta;s.default.post(`/api/file/${a}/comments/${i.threadId}`,{file_key:a,message_meta:n,prototype_mode:"prototype"===o.selectedView.view}).then(({data:i})=>{if(C.editingFileKey(t.getState().selectedView)!==a)return;i.message&&i.message.warning_message&&t.dispatch(r.visualBellActions.enqueue({type:"at-mention-error",message:i.message.warning_message,timeout:4e3})),i.message&&i.message.is_new_file_follower&&t.dispatch(_.library.showNotification({notification:{type:E.NotificationType.COMMENT_PARTICIPATING_PREFERENCE_OPTED_IN,message:"You'll be notified about replies to your comments."}}));let s=i.meta;t.dispatch(e.post({comment:s,userInitiated:!1}));const n="fullscreen"===o.selectedView.view?"fullscreen":"prototype";l.trackEventForFile("Comment Submitted",a,o,{commentId:s.id,parentCommentId:s.id,selectedView:n})}).catch(o=>{e.onResponseError(o),t.dispatch(e.resetThread({threadId:i.threadId,resetStatusOnly:!0}))})}),e.stopEditing=o.actionCreator("COMMENTS_STOP_EDITING"),e.showThread=c.asyncActionCreator("COMMENTS_SHOW_THREAD",(t,i)=>{const o=t.getState(),s=o.comments.viewportInfo;if(!s)return;const{thread:n}=i,r=n.comments[0].client_meta,c=r&&r.node_id;c&&"fullscreen"===o.selectedView.view&&m.Fullscreen.setCurrentPageFromNode(c);if("fullscreen"===o.selectedView.view&&n.anchorPosition&&(n.anchorPosition.x-48<s.x||n.anchorPosition.x+48>s.x+s.width||n.anchorPosition.y-48<s.y||n.anchorPosition.y+48>s.y+s.height)){const{x:e,y:t}=d.viewportPositionToCanvas(s,n.anchorPosition);m.Fullscreen.setCanvasSpaceCenter(e,t)}const l=n.id;l&&l!==o.comments.activeId&&t.dispatch(e.setThreadOffset({threadId:l,offset:null})),t.dispatch(e.readThread({thread:n})),"fullscreen"===o.selectedView.view&&m.Fullscreen.setActiveCommentNode(c||a.invalidGUIDStr),setTimeout(()=>{t.dispatch(e.setActive({threadId:l}))},200)}),e.setMessageMeta=c.asyncActionCreator("COMMENTS_SET_MESSAGE_META",(t,{comment:{key:i,id:o,parent_id:a},messageMeta:n})=>{const c=s.default.put(`/api/file/${i}/comments/${o}`,{message_meta:n}).then(({data:i})=>{i.message&&i.message.warning_message&&(t.dispatch(e.put({comment:i.meta})),t.dispatch(r.visualBellActions.enqueue({type:"at-mention-error",message:i.message.warning_message,timeout:4e3})))}),l="An error occurred while editing this comment.";T.livegraphComments?(u.flashOnFailure(c,t,l),T.livegraphClient.applyUpdates({Comment:{[o]:{messageMeta:n.map(e=>({t:void 0===e.t?null:e.t,userId:void 0===e.user_id?null:e.user_id}))}}},c)):u.optimisticRequest({store:t,requestPromise:c,fallbackError:l,next:t.dispatch,action:e.put({comment:{id:o,parent_id:a,message_meta:n}})})}),e.setClientMeta=c.asyncActionCreator("COMMENTS_SET_CLIENT_META",(t,{thread:{key:i,id:o},clientMeta:a})=>{const n=s.default.put(`/api/file/${i}/comments/${o}`,{client_meta:a}),r="An error occurred while moving this comment.";T.livegraphComments?(u.flashOnFailure(n,t,r),T.livegraphClient.applyUpdates({Comment:{[o]:{clientMeta:{x:a.x,y:a.y,nodeId:void 0===a.node_id?null:a.node_id,nodeOffset:void 0===a.node_offset?null:a.node_offset,inFrame:void 0===a.in_frame?null:a.in_frame}}}},n)):u.optimisticRequest({store:t,requestPromise:n,fallbackError:r,next:t.dispatch,action:e.put({comment:{id:o,parent_id:null,client_meta:a}})})}),e.setResolved=c.asyncActionCreator("COMMENTS_SET_RESOLVED",(t,{thread:{key:i,id:o},resolved:a})=>{const n=t.getState();a&&n.comments.activeId===o&&!n.comments.showResolved&&t.dispatch(e.deactivateActiveComment());const r=a?"true":"false",c=s.default.put(`/api/file/${i}/comments/${o}`,{resolved_at:r}),l=`An error occurred while ${a?"resolving":"unresolving"} this comment.`;T.livegraphComments?(u.flashOnFailure(c,t,l),T.livegraphClient.applyUpdates({Comment:{[o]:{resolvedAt:a?new Date:null}}},c)):u.optimisticRequest({store:t,requestPromise:c,fallbackError:l,next:t.dispatch,action:e.put({comment:{id:o,parent_id:null,resolved_at:r}})})}),e.setDeleted=c.asyncActionCreator("COMMENTS_SET_DELETED",(t,{comment:{key:i,id:o,parent_id:a}})=>{const n=s.default.del(`/api/file/${i}/comments/${o}`),r="An error occurred while deleting this comment.";T.livegraphComments?(u.flashOnFailure(n,t,r),T.livegraphClient.applyUpdates({Comment:{[o]:null}},n)):u.optimisticRequest({store:t,requestPromise:n,fallbackError:r,next:t.dispatch,action:e.del({comment:{id:o,parent_id:a}})})}),e.readThread=c.optimisticActionCreator("COMMENTS_READ_THREAD",(e,t,i)=>{const o=e.getState(),{thread:a}=t,r=C.editingFileKey(o.selectedView);if(r&&a.comments.length){const t=a.comments.map(({id:e})=>e);s.default.del(`/api/file/${r}/unread_comments`,{comment_ids:t}).then(({data:t})=>{e.dispatch(c.optimistActions.commit(i))}).catch(t=>{try{t=JSON.parse(t),e.dispatch(n.flashActions.error(t.message))}catch(o){e.dispatch(n.flashActions.error("An error occurred while marking a comment as read."))}e.dispatch(c.optimistActions.revert(i))})}})}(t.comments||(t.comments={}))}),
(function(e,t,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=m(438                                 ),n=m(437                        );t.activeId=function(e=null,t){return c.comments.reset.matches(t)||c.comments.deactivateActiveComment.matches(t)?null:c.comments.setActive.matches(t)?t.payload.threadId:c.comments.setNewCommentActive.matches(t)?n.NEW_COMMENT_ID:c.comments.del.matches(t)&&t.payload.comment.id===e?null:e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(438                                 );t.commentsById=function(e={},t){if(n.comments.reset.matches(t))return{};if(n.comments.put.matches(t)||n.comments.post.matches(t)){let s=t.payload.comment;return Object.assign(Object.assign({},e),{[s.id]:Object.assign(Object.assign({},e[s.id]),s)})}if(n.comments.del.matches(t)){let s=Object.assign({},e),n=t.payload.comment;return delete s[n.id],n.parent_id||Object.keys(e).forEach(t=>{e[t].parent_id===n.id&&delete s[t]}),s}return e}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(438                                 );t.commentIdsByThread=function(e={},t){if(i.comments.reset.matches(t))return{};if(i.comments.put.matches(t)||i.comments.post.matches(t)){let n=t.payload.comment,i=n.parent_id||n.id;if(i in e){for(let t of e[i])if(t===n.id)return e;return Object.assign(Object.assign({},e),{[i]:e[i].concat([n.id])})}return Object.assign(Object.assign({},e),{[i]:[n.id]})}if(i.comments.del.matches(t)){let n=t.payload.comment;if(n.parent_id){let t=n.parent_id,i=e[t];if(i){let s=i.indexOf(n.id);if(s>=0)return Object.assign(Object.assign({},e),{[t]:i.slice(0,s).concat(i.slice(s+1))})}}else if(n.id in e){let t=Object.assign({},e);return delete t[n.id],t}return e}return e}}),
(function(e,t,a){"use strict";var s=this&&this.__rest||function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a};Object.defineProperty(t,"__esModule",{value:!0});const n=a(438                                 ),r=a(437                        );function o(){return{replyMessageMeta:[],state:r.CommentState.READY,offsetOrNull:null}}t.getDefaultThread=o,t.threads=function(e={},t){if(n.comments.reset.matches(t))return{};if(n.comments.del.matches(t)){if(t.payload.comment.id in e){const a=t.payload.comment.id;return e[a],s(e,["symbol"==typeof a?a:a+""])}}else if(n.comments.setThreadOffset.matches(t)){if(t.payload.threadId!==r.NEW_COMMENT_ID)return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{offsetOrNull:t.payload.offset})})}else{if(n.comments.setReplyMessage.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{replyMessageMeta:t.payload.messageMeta})});if(n.comments.submitReply.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{state:r.CommentState.BUSY})});if(n.comments.resetThread.matches(t))return Object.assign(Object.assign({},e),{[t.payload.threadId]:Object.assign(Object.assign(Object.assign(Object.assign({},o()),e[t.payload.threadId]),{state:r.CommentState.READY}),t.payload.resetStatusOnly?{}:{replyMessageMeta:[]})})}return e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(438                                 ),n=s(437                        ),m={messageMeta:[],state:n.CommentState.READY,anchorPosition:null,threadOffset:null};t.newComment=function(e=m,t){return a.comments.reset.matches(t)?m:a.comments.setNewCommentMessage.matches(t)?Object.assign(Object.assign({},e),{messageMeta:t.payload.messageMeta}):a.comments.setThreadOffset.matches(t)?t.payload.threadId===n.NEW_COMMENT_ID?Object.assign(Object.assign({},e),{threadOffset:t.payload.offset}):e:a.comments.setNewAnchorPosition.matches(t)?Object.assign(Object.assign({},e),{anchorPosition:t.payload.position}):a.comments.submitNewComment.matches(t)?Object.assign(Object.assign({},e),{state:n.CommentState.BUSY}):a.comments.resetNewComment.matches(t)?t.payload.resetStatusOnly?Object.assign(Object.assign({},e),{state:n.CommentState.READY}):m:e}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(438                                 );t.unreadIds=function(e={},t){if(a.comments.reset.matches(t))return{};if(a.comments.fetchedUnread.matches(t))return t.payload.unreadIds;if(a.comments.postUnread.matches(t))return t.payload.commentId in e?e:Object.assign(Object.assign({},e),{[t.payload.commentId]:!0});if(a.comments.deleteUnread.matches(t)){if(!(t.payload.commentId in e))return e;let n=Object.assign({},e);return delete n[t.payload.commentId],n}if(a.comments.del.matches(t)){if(!(t.payload.comment.id in e))return e;let n=Object.assign({},e);return delete n[t.payload.comment.id],n}return e}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(438                                 );e.editingComment=function(t=null,e){return n.comments.reset.matches(e)||n.comments.stopEditing.matches(e)||n.comments.setMessageMeta.matches(e)?null:n.comments.setEditing.matches(e)?e.payload:t}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(438                                 );t.viewportInfo=function(e=null,t){return o.comments.reset.matches(t)?null:o.comments.setViewportInfo.matches(t)?t.payload.viewportInfo:e}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(438                                 );e.showResolved=function(t=!1,e){return!s.comments.reset.matches(e)&&(s.comments.setShowResolvedComments.matches(e)?e.payload.showResolved:t)},e.showOnlyParticipating=function(t=!1,e){return s.comments.setShowOnlyParticipatingComments.matches(e)?e.payload.showOnlyParticipating:t}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=s(438                                 );t.emojiPicker=function(e=null,t){return c.comments.reset.matches(t)||c.comments.setActive.matches(t)||c.comments.setNewCommentActive.matches(t)||c.comments.deactivateActiveComment.matches(t)?null:c.comments.setEmojiPicker.matches(t)?t.payload.visible?{visible:!0,positionOffset:t.payload.positionOffset}:null:e}}),
(function(e,t,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=m(438                                 );t.typeahead=function(e=null,t){return s.comments.reset.matches(t)||s.comments.setActive.matches(t)||s.comments.setNewCommentActive.matches(t)||s.comments.deactivateActiveComment.matches(t)?null:s.comments.setTypeahead.matches(t)?t.payload:e},t.typeaheadPositionOffset=function(e={x:0,y:0},t){return s.comments.reset.matches(t)||s.comments.setActive.matches(t)||s.comments.setNewCommentActive.matches(t)||s.comments.deactivateActiveComment.matches(t)?{x:0,y:0}:s.comments.setTypeaheadPositionOffset.matches(t)?t.payload:e}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(438                                 );n.initialThreadAlreadyOpened=function(e=!1,n){return a.comments.setInitialThreadAlreadyOpened.matches(n)?n.payload.openInitialThread:e}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const d=i(10,1   ),n=i(439          ),o=i(440               ),a=i(441                      ),s=i(442        ),m=i(443            ),r=i(444           ),c=i(445                ),h=i(446              ),_=i(447              ),y=i(448             ),p=i(449          ),l=i(450                           );t.comments=d.combineReducers({activeId:n.activeId,commentsById:o.commentsById,commentIdsByThread:a.commentIdsByThread,threads:s.threads,newComment:m.newComment,unreadIds:r.unreadIds,editingComment:c.editingComment,viewportInfo:h.viewportInfo,showOnlyParticipating:_.showOnlyParticipating,showResolved:_.showResolved,emojiPicker:y.emojiPicker,typeahead:p.typeahead,typeaheadPositionOffset:p.typeaheadPositionOffset,initialThreadAlreadyOpened:l.initialThreadAlreadyOpened})}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98                  );!function(e){e.toggleFullScreen=r.actionCreator("WINDOW_TOGGLE_FULL_SCREEN"),e.enterFullScreen=r.actionCreator("WINDOW_ENTER_FULL_SCREEN"),e.exitFullScreen=r.actionCreator("WINDOW_EXIT_FULL_SCREEN"),e.didEnterFullScreen=r.actionCreator("WINDOW_DID_ENTER_FULL_SCREEN"),e.didExitFullScreen=r.actionCreator("WINDOW_DID_EXIT_FULL_SCREEN")}(t.appWindow||(t.appWindow={}))}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(452                                   );n.defaultAppWindow={inFullScreenMode:!!document.fullscreenElement},n.appWindow=function(e=n.defaultAppWindow,i){return t.appWindow.didEnterFullScreen.matches(i)?Object.assign(Object.assign({},e),{inFullScreenMode:!0}):t.appWindow.didExitFullScreen.matches(i)?Object.assign(Object.assign({},e),{inFullScreenMode:!1}):e}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(134                             ),s=o(106                                     );t.orgById=function(e=Object.create(null),t){if(s.fileBrowser.hydrate.matches(t)){const e=Object.create(null);for(let o of t.payload.orgs||[])o&&(e[o.id]=o);return e}if(r.orgs.put.matches(t)){const o=t.payload.org;return Object.assign(Object.assign({},e),{[o.id]:o})}return e}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(106                                     );t.userStateLoaded=function(e=!1,t){return!!o.fileBrowser.setUserStateLoaded.matches(t)||e}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(124     ),n=a(98                  ),o=a(94                                   ),s=a(456                                   ),r=a(105                               ),c=a(111                        );!function(t){t.setAll=n.actionCreator("ORG_DOMAIN_SET_ALL"),t.isFetching=n.actionCreator("ORG_DOMAINS_IS_FETCHING"),t.getAll=r.asyncActionCreator("ORG_DOMAINS_GET_ALL",(t,e)=>{const a=t.getState(),n=a.orgDomains;if(!a.currentOrgId||!c.canMemberOrg(a.currentOrgId,a)||n.isFetching)return;const r=Date.now(),g=!n.fetchedAt||n.fetchedAt+72e5<r;(e.force||g)&&(t.dispatch(s.orgDomains.isFetching({fetching:!0})),i.default.get(`/api/orgs/${a.currentOrgId}/domains`).then(e=>{t.dispatch(s.orgDomains.setAll({domains:e.data.meta,fetched_at:r})),t.dispatch(s.orgDomains.isFetching({fetching:!1}))}).catch(e=>{t.dispatch(s.orgDomains.isFetching({fetching:!1})),t.dispatch(o.flash.flash(e.data&&e.data.message||"An error occurred while fetching domains.",5e3)),console.error(e)}))})}(e.orgDomains||(e.orgDomains={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(456                                   ),s=n(10,1   ),c=n(134                             );function o(t=[],e){return i.orgDomains.setAll.matches(e)?e.payload.domains:c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)?[]:t}function r(t=!1,e){return!c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)&&(i.orgDomains.isFetching.matches(e)?e.payload.fetching:t)}function a(t=null,e){return i.orgDomains.setAll.matches(e)?e.payload.fetched_at:c.orgs.switchActiveOrgAndSetCurrentOrgId.matches(e)?null:t}e.domains=o,e.isFetching=r,e.fetchedAt=a,e.orgDomains=s.combineReducers({domains:o,isFetching:r,fetchedAt:a})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(134                             ),a=r(106                                     ),i=r(219                       );t.currentOrgId=function(e=null,t){return a.fileBrowser.init.matches(t)||a.fileBrowser.hydrate.matches(t)?i.getLastSelectedOrgId():s.orgs.setCurrentOrgId.matches(t)?t.payload.orgId:e}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=s(106                                     );a.hasPersonalSpace=function(e=!0,a){return o.fileBrowser.hydrate.matches(a)?!a.payload.disable_personal:e}}),
(function(r,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=o(98                  );!function(r){r.startDrag=e.actionCreator("DRAG_AND_DROP_START"),r.stopDrag=e.actionCreator("DRAG_AND_DROP_STOP")}(t.dragAndDrop||(t.dragAndDrop={}))}),
(function(e,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e){e[e.Folder=0]="Folder",e[e.Team=1]="Team",e[e.None=2]="None"}(a.DragDataType||(a.DragDataType={}))}),
(function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e(460                                      ),d={type:e(461                             ).DragDataType.None,data:null};function n(a=d,t){return r.dragAndDrop.startDrag.matches(t)?Object.assign(Object.assign({},a),t.payload):r.dragAndDrop.stopDrag.matches(t)?d:a}t.dragState=n,t.default=n}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(124     ),s=o(105               ).asyncActionCreator("SET_FAVORITE_FONTS",(e,t)=>{r.default.put("/api/user/favorite_fonts",{fonts:t}).then().catch(e=>{console.error("Failed to save favorite fonts to user profile",e)})});t.favoriteFonts={setFavoriteFonts:s}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(106                                     ),s=o(463                               );e.userFavoriteFonts=function(t=[],e){return a.fileBrowser.hydrate.matches(e)&&(t=e.payload.user_favorite_fonts||[]),s.favoriteFonts.setFavoriteFonts.matches(e)&&(t=e.payload),t}}),
(function(s,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(407                             ),t=o(217       );e.initialState={uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[],fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[],fontsByResourceId:{}},e.sharedFonts=function(s=e.initialState,o){if(n.sharedFonts.uploadFonts.matches(o)){const e=Object.assign({},s);e.uploadsRemaining=Object.assign({},e.uploadsRemaining);for(const s in o.payload.fonts)e.uploadsLaunched++,e.uploadsRemaining[s]={file:o.payload.fonts[s],progress:0};return e}if(n.sharedFonts.uploadFontProgress.matches(o)){const e=Object.assign({},s);return e.uploadsRemaining=Object.assign({},e.uploadsRemaining),e.uploadsRemaining[o.payload.uploadId]=Object.assign(Object.assign({},e.uploadsRemaining[o.payload.uploadId]),{progress:o.payload.progress}),e}if(n.sharedFonts.uploadFontSuccess.matches(o)){const e=Object.assign({},s);if(0===e.uploadsLaunched)return e;e.successfulUploads=[...e.successfulUploads,o.payload.filename];const{uploadId:n}=o.payload;return n&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[n]),e}if(n.sharedFonts.uploadFontFailure.matches(o)){const e=Object.assign({},s);return 0===e.uploadsLaunched?e:(o.payload.collision&&null!=o.payload.uploadId?(e.collisions=[...e.collisions,Object.assign(Object.assign({},o.payload.collision),{file:e.uploadsRemaining[o.payload.uploadId].file})],e.uploadsLaunched--):e.unsuccessfulUploads=[...e.unsuccessfulUploads,{filename:o.payload.filename,message:o.payload.message}],o.payload.uploadId&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[o.payload.uploadId]),e)}if(n.sharedFonts.uploadFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings.push(o.payload),e}if(n.sharedFonts.toggleFontsToDelete.matches(o)){const e=Object.assign({},s);return e.fontsToDelete=Object.assign({},e.fontsToDelete),o.payload.fonts.forEach(s=>{const n=()=>{delete e.fontsToDelete[s.id]},t=()=>{e.fontsToDelete[s.id]=s};null!=o.payload.checked?o.payload.checked?t():n():e.fontsToDelete[s.id]?n():t()}),e}if(n.sharedFonts.deleteFonts.matches(o))return Object.assign(Object.assign({},s),{successfulDeletes:[],unsuccessfulDeletes:[]});if(n.sharedFonts.deleteFontComplete.matches(o)){const e=Object.assign({},s);return e.unsuccessfulDeletes=[...e.unsuccessfulDeletes],e.successfulDeletes=[...e.successfulDeletes],e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsToDelete=Object.assign({},e.fontsToDelete),Object.keys(e.fontsToDelete).forEach(s=>{o.payload.errors[s]?e.unsuccessfulDeletes.push(s):(delete e.fontsToDelete[s],e.successfulDeletes.push(s))}),e}if(n.sharedFonts.clearFontsToDelete.matches(o))return Object.assign(Object.assign({},s),{fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[]});if(n.sharedFonts.dismissFontCollision.matches(o)){const e=Object.assign({},s);return e.collisions=e.collisions.slice(1),e}if(n.sharedFonts.dismissFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings=e.warnings.slice(1),e}if(n.sharedFonts.clearFontUploadResults.matches(o))return Object.assign(Object.assign({},s),{uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[]});if(n.sharedFonts.updateSharedFontList.matches(o)){const e=Object.assign({},s);return e.fontsByResourceId={},o.payload.forEach(s=>{const o=t.uniqueResourceIDForFont(s);e.fontsByResourceId[o]||(e.fontsByResourceId[o]={}),e.fontsByResourceId[o][s.family]||(e.fontsByResourceId[o][s.family]={}),e.fontsByResourceId[o][s.family][s.style]=s}),e}if(n.sharedFonts.put.matches(o)){const e=Object.assign({},s),n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),e.fontsByResourceId[n][a][l]=o.payload.font,e}if(n.sharedFonts.del.matches(o)){const e=Object.assign({},s);e.fontsByResourceId=Object.assign({},e.fontsByResourceId);const n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),delete e.fontsByResourceId[n][a][l],0===Object.keys(e.fontsByResourceId[n][a]).length&&delete e.fontsByResourceId[n][a],0===Object.keys(e.fontsByResourceId[n]).length&&delete e.fontsByResourceId[n],e}return s}}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=o(296                                 ),a=o(251                                 );r.orgUserReducer=a.createReducerWithPrecheck(function(e,r){return e&&r.payload&&r.payload.orgUser&&e.id===r.payload.orgUser.id&&s.orgUser.put.matches(r)?Object.assign(Object.assign({},e),{permission:r.payload.orgUser.permission||e.permission,account_type:r.payload.orgUser.account_type||e.account_type}):e},{shouldIgnoreAction:e=>!s.orgUser.put.matches(e)})}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(106                                     ),s=t(466                          ),o=t(251                                 );r.orgDraftsOwners=function(e=Object.create(null),r){if(a.fileBrowser.hydrate.matches(r)&&r.payload.org_drafts_owners){const e=Object.create(null);return r.payload.org_drafts_owners.forEach(r=>{e[r.drafts_folder_id]=r}),e}return o.reduceObject(e,r,s.orgUserReducer)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(98                  );!function(e){e.showOnboardingSequence=o.actionCreator("RCS_ONBOARDING_SHOW"),e.hideOnboardingSequence=o.actionCreator("RCS_ONBOARDING_HIDE"),e.hideOnboardingSequenceFromOtherTab=o.actionCreator("RCS_ONBOARDING_HIDE_FROM_OTHER_TAB"),e.setHighlightTemplateFiles=o.actionCreator("RCS_HIGHLIGHT_TEMPLATE_FILES")}(n.responsiveContentActions||(n.responsiveContentActions={}))}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(468                                           );n.responsiveContent=function(e={},n){var o,i;return t.responsiveContentActions.hideOnboardingSequence.matches(n)?{}:t.responsiveContentActions.hideOnboardingSequenceFromOtherTab.matches(n)&&(null===(o=e.onboardingSequence)||void 0===o?void 0:o.interTabId)&&n.payload.interTabId===(null===(i=e.onboardingSequence)||void 0===i?void 0:i.interTabId)?{}:t.responsiveContentActions.showOnboardingSequence.matches(n)?Object.assign({},n.payload):e}}),
(function(t,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.FAILURE="FAILURE"}(e.LoadingStatus||(e.LoadingStatus={}))}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=e(470                             ),n=e(263                                      );a.loadingState=function(t={},a){if(n.loadingStateActions.putLoading.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.LOADING});if(n.loadingStateActions.putSuccess.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.SUCCESS});if(n.loadingStateActions.putFailure.matches(a))return Object.assign(Object.assign({},t),{[a.payload.key]:s.LoadingStatus.FAILURE});if(n.loadingStateActions.del.matches(a)){const e=Object.assign({},t);return delete e[a.payload.key],e}return t}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(98                  );!function(e){e.set=o.actionCreator("PROGRESS_SET"),e.clear=o.actionCreator("PROGRESS_CLEAR")}(r.progress||(r.progress={}))}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(472                                 );s.progress=function(e={},s){if(t.progress.set.matches(s))return Object.assign(Object.assign({},e),{[s.payload.key]:{progress:s.payload.progress}});if(t.progress.clear.matches(s)){const r=Object.assign({},e);return delete r[s.payload.key],r}return e}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(117              ),l=t(98                  ),o=t(105                               ),s=t(330                          ),n=t(326                             ),p=t(379                       ),c=t(111                        );a.initializeLocal=l.actionCreator("PLUGIN_INITIALIZE_LOCAL"),a.updateLocal=l.actionCreator("PLUGIN_UPDATE_LOCAL"),a.deleteLocal=l.actionCreator("PLUGIN_DELETE_LOCAL"),a.initializeLocalPlugins=o.asyncActionCreator("INITIALIZE_LOCAL_PLUGINS",e=>{n.supportsDesktopPluginsV4()&&i.desktopApp&&(i.desktopApp.getAllLocalFileExtensionIds().then(t=>{Promise.all(t.map(e=>s.loadLocalPlugin(e))).then(t=>{const i={};t.forEach(e=>{i[e.localFileId]=e}),e.dispatch(a.initializeLocal(i))})}),i.desktopApp.registerManifestChangeObserver(t=>{if("added"===t.type||"changed"===t.type){const i=t.id,l=s.parseLocalPlugin(i,t.localLoadResult);e.dispatch(a.updateLocal(l));const o=e.getState(),{publishingPlugins:n,localPlugins:d,publishedPlugins:r,currentOrgId:L}=o,u=n[i];u&&u.metadata&&s.isEmptyPluginPublishingMetadata(u.metadata)&&!l.error&&e.dispatch(p.updatePluginPublishingMetadata({id:i,metadata:s.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},c.getPermissionsState(o)),{currentOrgId:L,localPlugins:d,publishedPlugins:r}),i)}))}else"removed"===t.type&&e.dispatch(a.deleteLocal(t.id))}))}),a.reloadLocalPlugin=o.asyncActionCreator("RELOAD_LOCAL_PLUGIN",(e,{localFileId:t})=>{s.loadLocalPlugin(t).then(t=>{e.dispatch(a.updateLocal(t))})}),a.deleteLocalPlugin=o.asyncActionCreator("DELETE_LOCAL_PLUGIN",(e,t)=>{null!=t&&(i.desktopApp&&i.desktopApp.removeLocalFileExtension(t),e.dispatch(a.deleteLocal(t)))})}),
(function(t,i,e){"use strict";var n=this&&this.__awaiter||function(t,i,e,n){return new(e||(e=Promise))(function(s,l){function a(t){try{o(n.next(t))}catch(i){l(i)}}function r(t){try{o(n.throw(t))}catch(i){l(i)}}function o(t){var i;t.done?s(t.value):(i=t.value,i instanceof e?i:new e(function(t){t(i)})).then(a,r)}o((n=n.apply(t,i||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const s=e(124     ),l=e(126          ),a=e(379                                                     ),r=e(98                  ),o=e(105                               ),u=e(187                             ),g=e(330                          ),c=e(264                                  );i.put=r.actionCreator("PLUGIN_INSTALL_PUT"),i.del=r.actionCreator("PLUGIN_INSTALL_DEL"),i.mergeInstalled=o.asyncActionCreator("MERGE_INSTALLED_PLUGINS",(t,e)=>{t.dispatch(a.mergePublishedAndValidate({publishedPlugins:[...e.user,...e.org],src:"mergeInstalled"}));const n={org:e.org.reduce((t,i)=>(t[i.id]=!0,t),{}),user:e.user.reduce((t,i)=>(t[i.id]=!0,t),{})};t.dispatch(i.put(n)),g.cacheCodeForInstalledPlugins({publishedPlugins:t.getState().publishedPlugins,installedPlugins:t.getState().installedPlugins})}),i.initializeInstalledPlugins=o.asyncActionCreator("INITIALIZE_INSTALLED_PLUGINS",(t,{orgId:e},n)=>{if(!t.getState().user)return;const a=s.default.get("/api/plugins/installed",e?{org_id:e}:null);c.registerLoadingState(a,t,n),a.then(({data:e})=>{const n=e.meta;t.dispatch(i.mergeInstalled(n)),l.segment.track("Hub Plugin Install Count",{org:n.org.length,user:n.user.length})})},(t,{orgId:i})=>i?`${t}_${i}`:t),i.installPlugin=o.optimisticActionCreator("INSTALL_PLUGIN",(t,{pluginId:e,versionId:a,orgId:r},c)=>n(void 0,void 0,void 0,function*(){s.default.post(`/api/plugins/${e}/install`,{plugin_version_id:a,org_id:r}).then(({data:e})=>{t.dispatch(o.optimistActions.commit(c));const n=e.meta;t.dispatch(i.mergeInstalled({org:r?[n]:[],user:r?[]:[n]})),l.segment.track("Hub Plugin Install",Object.assign({pluginId:n.id,userOrOrg:r?"org":"user",orgId:r||null},g.getRoleInfoForTracking(n)))}).catch(i=>{t.dispatch(o.optimistActions.revert(c)),t.dispatch(u.visualBellActions.enqueue({message:"Unable to install plugin. Please try again.",type:"PLUGIN_INSTALL_FAILED",error:!0}))})})),i.uninstallPlugin=o.optimisticActionCreator("UNINSTALL_PLUGIN",(t,{pluginId:e,orgId:r},u)=>n(void 0,void 0,void 0,function*(){const n=r?"org":"user";s.default.del(`/api/plugins/${e}/install`,{org_id:r}).then(({data:s})=>{const g=s.meta;t.dispatch(a.mergePublishedAndValidate({publishedPlugins:[g],src:"mergeInstalled"})),t.dispatch(o.optimistActions.commit(u)),t.dispatch(i.del({orgOrUser:n,pluginId:e})),l.segment.track("Hub Plugin Uninstall",{pluginId:e,userOrOrg:r?"org":"user"})}).catch(i=>{t.dispatch(o.optimistActions.revert(u)),console.log(i)})}))}),
(function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const l=t(124     ),s=t(98                  ),n=t(126          ),a=t(105                               ),u=t(379                       ),r=t(187                             );e.replaceWhitelistedPlugins=s.actionCreator("PLUGIN_REPLACE_WHITELISTED"),e.initializeWhitelistedPlugins=a.asyncActionCreator("INITIALIZE_WHITELISTED_PLUGINS",(i,{orgId:t})=>{t&&l.default.get(`/api/plugins/org/${t}/whitelist`).then(({data:t})=>{const l=t.meta;i.dispatch(u.mergePublishedAndValidate({publishedPlugins:l,src:"initializeWhitelistedPlugins"}));const s=l.reduce((i,e)=>(i[e.id]=!0,i),{});i.dispatch(e.replaceWhitelistedPlugins(s))})}),e.putWhitelistedPlugin=s.actionCreator("PUT_WHITELISTED_PLUGIN"),e.delWhitelistedPlugin=s.actionCreator("DEL_WHITELISTED_PLUGIN"),e.whitelistPlugin=a.asyncActionCreator("WHITELIST_PLUGIN",(i,{orgId:t,pluginId:s})=>{t&&s&&l.default.post(`/api/plugins/org/${t}/whitelist/${s}`).then(()=>{i.dispatch(e.putWhitelistedPlugin({pluginId:s})),n.segment.track("Hub Plugin Add to Whitelist",{pluginId:s,orgId:t})}).catch(()=>{i.dispatch(r.visualBellActions.enqueue({error:!0,message:"Unable to whitelist plugin. Please try again later."}))})}),e.unwhitelistPlugin=a.asyncActionCreator("UNWHITELIST_PLUGIN",(i,{orgId:t,pluginId:s})=>{t&&s&&l.default.del(`/api/plugins/org/${t}/whitelist/${s}`).then(()=>{i.dispatch(e.delWhitelistedPlugin({pluginId:s})),n.segment.track("Hub Plugin Remove from Whitelist",{pluginId:s,orgId:t})}).catch(()=>{i.dispatch(r.visualBellActions.enqueue({error:!0,message:"Unable to remove plugin from whitelist. Please try again later."}))})})}),
(function(i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=a(474                                                   ),s=a(379                                                     ),e=a(475                                                     ),l=a(476                                                       ),u=a(106                                     ),c=a(213                          ),o=a(380                                                  );n.localPlugins=function(i={},n){if(t.initializeLocal.matches(n))return n.payload;if(t.updateLocal.matches(n)){const a=Object.assign({},i);return a[n.payload.localFileId]=n.payload,a}if(t.deleteLocal.matches(n)){const a=Object.assign({},i);return delete a[n.payload],a}return i},n.publishedPlugins=function(i={},n){if(s.putAll.matches(n)){const a=Object.assign({},i);for(const t of n.payload)a[t.id]=Object.assign(Object.assign({},t),{versions:c.mergeVersions(i[t.id],t)});return a}if(s.delAll.matches(n)){const a=Object.assign({},i);for(const i of n.payload)delete a[i.id];return a}if(e.installPlugin.matches(n)){const a=Object.assign({},i);return a[n.payload.pluginId]=Object.assign(Object.assign({},a[n.payload.pluginId]),{install_count:a[n.payload.pluginId].install_count+1}),a}if(e.uninstallPlugin.matches(n)){const a=Object.assign({},i);return a[n.payload.pluginId]=Object.assign(Object.assign({},a[n.payload.pluginId]),{install_count:a[n.payload.pluginId].install_count-1}),a}if(o.likePlugin.matches(n)){const a=Object.assign({},i);return a[n.payload.pluginId]=Object.assign(Object.assign({},a[n.payload.pluginId]),{like_count:a[n.payload.pluginId].like_count+1}),a}if(o.unlikePlugin.matches(n)){const a=Object.assign({},i);return a[n.payload.pluginId]=Object.assign(Object.assign({},a[n.payload.pluginId]),{like_count:a[n.payload.pluginId].like_count-1}),a}return i};const g={org:{},user:{}};n.installedPlugins=function(i=g,n){if(e.put.matches(n))return{org:Object.assign(Object.assign({},i.org),n.payload.org),user:Object.assign(Object.assign({},i.user),n.payload.user)};if(e.del.matches(n)){const a=Object.assign({},i);return delete a[n.payload.orgOrUser][n.payload.pluginId],a}if(e.installPlugin.matches(n)){const a=Object.assign({},i);return n.payload.orgId?(a.org=Object.assign({},a.org),a.org[n.payload.pluginId]=!0):(a.user=Object.assign({},a.user),a.user[n.payload.pluginId]=!0),a}if(e.uninstallPlugin.matches(n)){const a=Object.assign({},i);return delete a[n.payload.orgId?"org":"user"][n.payload.pluginId],a}return i},n.featuredPlugins=function(i={},n){return s.replaceFeaturedPlugins.matches(n)?n.payload:i},n.whitelistedPlugins=function(i={},n){if(l.replaceWhitelistedPlugins.matches(n))return n.payload;if(l.putWhitelistedPlugin.matches(n)){const a=Object.assign({},i);return a[n.payload.pluginId]=!0,a}if(l.delWhitelistedPlugin.matches(n)){const a=Object.assign({},i);return delete a[n.payload.pluginId],a}return u.fileBrowser.hydrate.matches(n)?{}:i};const r=s.pluginPublishingActions;n.publishingPlugins=c.publishingStateReducer(r)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(10,1   ),a=r(106                                     ),o=r(296                                 ),n=r(251                                 ),i=r(466                          );function c(e=!1,s){return!o.orgUser.set.matches(s)&&(!!o.orgUser.getAll.matches(s)||e)}function g(e={},s){if(a.fileBrowser.hydrate.matches(s)){const e={},r=(s.payload.org_users||[]).concat(s.payload.org_drafts_owners||[]);for(let s of r)e[s.org_id]||(e[s.org_id]={}),e[s.org_id][s.user_id]=s;return e}const r=s.payload&&(s.payload.orgUser&&s.payload.orgUser.org_id||s.payload.orgId);if(!r)return e;const t=function(e={},s){if(o.orgUser.batchPut.matches(s)){const r=Object.assign({},e),t=new Set(s.payload.params.org_user_ids);for(let a in e){const o=e[a];t.has(o.id)&&(r[a]=Object.assign(Object.assign({},o),{permission:s.payload.params.permission||o.permission,account_type:s.payload.params.account_type||o.account_type}))}return r}if(o.orgUser.put.matches(s)){const r=Object.assign({},e);for(let t in e){const a=e[t];s.payload.orgUser.id===a.id&&(r[t]=Object.assign(Object.assign({},a),s.payload.orgUser))}return r}if(o.orgUser.set.matches(s)){const r=Object.assign({},e);for(let t of s.payload.orgUsers||[]){const s=e[t.user_id];r[t.user_id]=s?Object.assign(Object.assign({},t),{last_edit:s.last_edit||t.last_edit,last_seen:s.last_seen||t.last_seen}):t}return r}if(o.orgUser.batchDel.matches(s)){const r=Object.assign({},e),t=new Set(s.payload.params.org_user_ids);for(const s in e){const a=e[s];t.has(a.id)&&delete r[s]}return r}return n.reduceObject(e,s,i.orgUserReducer)}(e[r],s);if(t!==e[r]){const s=Object.assign({},e);return s[r]=t,s}return e}s.isFetching=c,s.orgUsers=g,s.orgUsersByOrgId=t.combineReducers({orgUsers:g,isFetching:c})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(98                        );!function(e){e.put=o.actionCreator("USER_FLAG_PUT"),e.post=o.actionCreator("USER_FLAG_POST"),e.resetOnboarding=o.actionCreator("USER_FLAG_RESET_ONBOARDING"),e.receiveUpdate=o.actionCreator("USER_FLAG_RECEIVE_UPDATE"),e.receiveDelete=o.actionCreator("USER_FLAG_RECEIVE_DELETE")}(t.userFlags||(t.userFlags={}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(479                                  ),r=t(106                                     );a.userFlags=function(e={},a){if(r.fileBrowser.hydrate.matches(a)){const t=Object.assign({},e);return a.payload.user_flags&&a.payload.user_flags.forEach(e=>{t[e.name]={createdAt:new Date(e.created_at)}}),t}if(s.userFlags.put.matches(a))return Object.assign(Object.assign({},e),{[a.payload.name]:{createdAt:new Date}});if(s.userFlags.post.matches(a)){const t=Object.assign({},e),s=new Date;return Object.keys(a.payload.flags).forEach(e=>{a.payload.flags[e]?t[e]={createdAt:s}:delete t[e]}),t}if(s.userFlags.receiveUpdate.matches(a))return Object.assign(Object.assign({},e),{[a.payload.name]:{createdAt:new Date(a.payload.created_at)}});if(s.userFlags.receiveDelete.matches(a)){if(e[a.payload.name]){const t=Object.assign({},e);return delete t[a.payload.name],t}return e}return e}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(10,1   ),i=s(46,1            ),o=s(235                              ),d=s(238                          ),l=s(239                          ),p=s(242                                 ),u=s(383                              ),t=s(256                       ),c=s(384                               ),n=s(103                 ),g=s(342                           ),f=s(385                         ),_=s(386                           ),m=s(425                            ),b=s(426                       ),h=s(427                                     ),F=s(429                                                                                          ),w=s(431                          ),y=s(108                       ),P=s(140                               ),I=s(432                       ),B=s(435                         ),v=s(436                      ),O=s(451                                   ),S=s(453                            ),R=s(454                      ),H=s(455                                   ),M=s(457                             ),U=s(458                                ),j=s(459                                    ),A=s(462                               ),k=s(464               ),x=s(465                              ),D=s(467                                  ),K=s(469                                    ),L=s(471                               ),T=s(473                          ),C=s(477                         ),V=s(382                           ),W=s(381                               ),q=s(478                                     ),z=s(480           );r.commonReducerMap={autocomplete:o.autocomplete,contacts:d.contacts,dropdownShown:l.dropdownShown,flashes:n.flashReducer,modalShown:b.modalShown,progress:T.progress,visualBell:h.visualBell,blockedUILoadingIndicator:F.blockedUILoadingIndicator,teams:I.teams,user:v.user,userFlags:z.userFlags,fileMove:g.fileMove,fileByKey:t.fileByKey,deletedFilesByKey:c.deletedFilesByKey,folders:f.folders,realtime:w.realtime,selectedView:P.selectedView,roles:y.roles,twoFactorAuth:p.twoFactorAuth,tooltip:B.tooltip,comments:O.comments,appWindow:S.appWindow,orgById:R.orgById,orgDraftsOwners:D.orgDraftsOwners,currentOrgId:U.currentOrgId,hasPersonalSpace:j.hasPersonalSpace,dragState:A.dragState,userFavoriteFonts:k.userFavoriteFonts,sharedFonts:x.sharedFonts,orgUsersByOrgId:q.orgUsersByOrgId,orgDomains:M.orgDomains,responsiveContent:K.responsiveContent,loadingState:L.loadingState,userStateLoaded:H.userStateLoaded,localPlugins:C.localPlugins,publishedPlugins:C.publishedPlugins,installedPlugins:C.installedPlugins,publishingPlugins:C.publishingPlugins,featuredPlugins:C.featuredPlugins,whitelistedPlugins:C.whitelistedPlugins,hubFiles:V.hubFiles,figFilePublishedAsHubFile:V.figFilePublishedAsHubFile,figFileRemixedFromHubFile:V.figFileRemixedFromHubFile,publishingHubFiles:V.publishingHubFiles,publicUserProfileById:W.publicUserProfileById,publicTeamProfileById:W.publicTeamProfileById,publicOrgProfileById:W.publicOrgProfileById,profileHandleToInfo:W.profileHandleToInfo},r.combineAppReducers=function(){return i.default(a.combineReducers(Object.assign(Object.assign(Object.assign(Object.assign({},r.commonReducerMap),u.fileBrowserReducerMap()),m.fullscreenReducerMap()),_.prototypeReducerMap)))}}),
(function(t,n,u){"use strict";function r(t){return function(n){var u=n.dispatch,r=n.getState;return function(n){return function(e){return"function"==typeof e?e(u,r,t):n(e)}}}}n.__esModule=!0;var e=r();e.withExtraArgument=r,n.default=e}),
(function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e(113          );let r=!1;t.disableIPCForTests=function(){r=!0};t.IPC=class{constructor(){this._PREFIX="ipc:",this._storage=a.localStorageOrNull;const s=this._storage;s&&Object.keys(s).forEach(t=>{0===t.indexOf(this._PREFIX)&&delete s[t]}),this._callbacks={},window.addEventListener("storage",this._onStorageEvent.bind(this),!1)}_onStorageEvent(s){if(!r){var t=s.key;if(s.storageArea===this._storage&&null!==s.newValue&&t&&0===t.indexOf(this._PREFIX)){try{var e=JSON.parse(s.newValue)[0]}catch(i){return}var a=null;if((this._callbacks[t]||[]).forEach(function(s){try{s(e)}catch(i){a=i}}),a)throw a}}}_callbacksForMessage(s){let t=this._PREFIX+s;return this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t]}sendToOtherTabs(s,t){if(!r&&this._storage)try{this._storage[this._PREFIX+s]=JSON.stringify([t,Math.random()])}catch(e){console.error((e&&e.stack||e)+"")}}sendToAllTabs(s,t){var e=this._callbacksForMessage(s),a=null;if(e.forEach(function(s){try{s(t)}catch(e){a=e}}),this.sendToOtherTabs(s,t),a)throw a}register(s,t){var e=this._callbacksForMessage(s);e.indexOf(t)<0&&e.push(t)}unregister(s,t){var e=this._callbacksForMessage(s),a=e.indexOf(t);a>=0&&e.splice(a,1)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormData=(e=>{const t=e.elements,n={};for(let l=0;l<t.length;l++){let e=t.item(l);e.name&&e.value&&(n[e.name]=e.value)}return n})}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(233        ),n=s(164         ),r=s(405                      );!function(e){e.validateSignInForm=(e=>{const s=e.email&&e.email.trim(),t=e.password&&e.password.trim();return a(t,s)}),e.validateSignUpForm=(e=>{const t=e.email&&e.email.trim(),n=e.password&&e.password.trim(),r=e.name&&e.name.trim();let i=a(n,t);return i.message||(i=s(n,t,r)),i});const a=(e,a)=>a?t.isEmail(a)?e?{message:"",invalidInput:null}:{message:"Please provide your password.",invalidInput:r.AuthInputType.PASSWORD}:{message:"Hmm, that email address doesn't look right.",invalidInput:r.AuthInputType.EMAIL}:{message:"Please provide your email.",invalidInput:r.AuthInputType.EMAIL},s=(e,a,s)=>{let t="";return n.encodeUTF8(e).length>500&&(t="Ok, that password is hilariously long!"),Array.from(e).length<8&&(t="Please set a password longer than eight characters."),e===a&&(t="Your email cannot be the same as your password."),s&&e===s&&(t="Your name cannot be the same as your password."),t?{message:t,invalidInput:r.AuthInputType.PASSWORD}:{message:"",invalidInput:null}}}(a.authHelpers||(a.authHelpers={}))}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=n(115          );o.reload=function(){r.locationReload("From window_helpers")}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(126          ),r=a(404             ),o=a(103                 ),i=a(405             ),n=a(124     ),h=a(115          ),m=a(233        ),u=a(85                   ),d=a(483      ),c=a(484               ),p=a(485                       ),l=a(193           ),_=a(486                           ),g=a(121              );e.authMiddleware=(t=>e=>(function(a){const S=t.getState(),f=e=>{console.error(e);let a=e.data;if(a&&a.reason&&"two_factor"===a.reason.missing){let e;return t.dispatch(r.auth.toggleSMS(a.reason.sms)),a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(r.auth.requireTwoFactor({required:!0,hint:e}))}let s,o,n=a&&a.message||"An error occurred";a&&401===a.status?s=i.ErrorType.UNAUTHORIZED:a&&400===a.status?s=i.ErrorType.BAD_REQUEST:a&&404===a.status&&"no_saml"===a.reason?s=i.ErrorType.NO_SAML:a&&403===a.status&&"saml_required"===a.reason&&(s=i.ErrorType.SAML_REQUIRED),S.auth.formState===i.AuthFormState.SIGN_IN&&S.auth.twoFactorRequired?o=i.AuthInputType.TOTP_KEY:S.auth.formState===i.AuthFormState.RESET_PASSWORD?o=i.AuthInputType.PASSWORD:a&&a.reason&&("password"===a.reason.missing||"password"===a.reason.invalid)?o=i.AuthInputType.PASSWORD:S.auth.formState===i.AuthFormState.SAML_START&&(o=i.AuthInputType.EMAIL),S.auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO&&(a.reason&&"uniqueness"===a.reason.invalid?t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN})):t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP}))),t.dispatch(r.auth.showError({message:n,errorType:s,invalidInput:o}))},I=(t,e={})=>{s.segment.track("Auth Actions",Object.assign({eventSubtype:t,origin:S.auth.origin},e))};if(r.auth.init.matches(a)){a.payload.formState=a.payload.formState||u.initialOptions().form_state||i.AuthFormState.SIGN_UP,s.segment.track("Auth Actions",{eventSubtype:"show_auth_page",formState:a.payload.formState,origin:a.payload.origin});let o=new d.IPC;return u.initialOptions().user_data||(o.sendToAllTabs("logged-out"),o.register("logged-in",()=>{t.dispatch(r.auth.complete())})),t.dispatch(r.auth.realtimeInit({formState:a.payload.formState})),e(a)}if(r.auth.sendSMS.matches(a)){I("sms_recover_attempt");const s=document.getElementById(a.payload.formId),o=c.getFormData(s);return n.default.post("/api/session/sms_recover",o).then(({data:e})=>{I("sms_recover_success"),e&&e.meta&&t.dispatch(r.auth.requireTwoFactor({required:!0,hint:`Code was sent to ${e.meta.phone_number}`}))}).catch(f),e(a)}if(r.auth.signUpExtraInfo.matches(a)){I("sign_up_extra_info_attempt");const e=document.getElementById(a.payload.formId),s=c.getFormData(e),o=p.authHelpers.validateSignUpForm(s);if(o.message)return t.dispatch(r.auth.showError({message:o.message,invalidInput:o.invalidInput}));I("sign_up_extra_info_success"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP_EXTRA_INFO}))}else{if(!r.auth.signUpGoBack.matches(a)){if(r.auth.signUp.matches(a)){const s=document.getElementById(a.payload.formId),o=c.getFormData(s),h=!!g.parse(location.search).is_not_gen_0||"logged_out_footer"===S.auth.origin,m="true"===o.opt_in_email;if(!o.googleIdToken){I("sign_up_attempt");const s=p.authHelpers.validateSignUpForm(o);if(s.message)return t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(r.auth.showError({message:s.message,invalidInput:s.invalidInput}));const u=Object.assign(Object.assign({},o),{opt_in_email:m,job_title:S.auth.jobTitle,is_not_gen_0:h});return n.default.post("/api/session/auth",u).then(()=>{I("sign_up_success"),t.dispatch(r.auth.complete())}).catch(f),e(a)}{I("google_sso_attempt");let e="web";(l.isIosMirrorApp()||l.isAndroidMirrorApp())&&(e="mobile"),n.default.post("/api/session/google_auth/signup",{name:o.name,id_token:o.googleIdToken,source:e,job_title:S.auth.jobTitle,opt_in_email:m,is_not_gen_0:h}).then(({data:e})=>{I("google_sso_success"),t.dispatch(r.auth.complete())},({data:e})=>(t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(r.auth.showError({message:e.message}))))}return e(a)}if(r.auth.signIn.matches(a)){I("sign_in_attempt");const s=document.getElementById(a.payload.formId),i=c.getFormData(s),h=p.authHelpers.validateSignInForm(i);return h.message?t.dispatch(r.auth.showError({message:h.message,invalidInput:h.invalidInput})):(i.username=i.email.trim(),n.default.post("/api/session/login",i).then(({data:e})=>{I("sign_in_success"),t.dispatch(r.auth.complete()),t.dispatch(o.flashActions.flash("Authenticated as "+e.meta.email))}).catch(f),e(a))}if(r.auth.spellcheckDomain.matches(a)){const s=S.auth.email;if(s&&m.isEmail(s)){const e=s.split("@")[1],a=m.spellcheckDomain(e);t.dispatch(r.auth.setDomainSuggestion({domain:a}))}return e(a)}if(r.auth.sendPasswordReset.matches(a))return I("send_reset_password_email_attempt"),n.default.post("/api/password/forgot",{username:S.auth.email}).then(()=>{I("send_reset_password_email_success"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SENT_PASSWORD_RESET}))}).catch(f),e(a);if(r.auth.sendEmailSamlStart.matches(a)){I("saml_redirect_to_provider_attempt");const t=document.getElementById(a.payload.formId),s=c.getFormData(t);return s.email=s.email.trim(),m.isEmail(s.email)&&n.default.get("/api/saml",{email:s.email}).then(({data:t})=>{I("saml_redirect_to_provider_success"),h.redirect(t.meta.sp_sso_target_url)}).catch(t=>{f(t)}),e(a)}if(r.auth.samlStartFromSession.matches(a))return I("saml_gate_redirect_attempt"),n.default.get("/api/session/sso_config").then(({data:e})=>{e.meta.org_saml_config?(I("saml_gate_redirect_success"),h.redirect(e.meta.org_saml_config.sp_sso_target_url)):t.dispatch(r.auth.showError({message:"Session expired or invalid"}))}).catch(t=>{f(t)}),e(a);if(r.auth.emailOnly.matches(a)){I("email_only_attempt");const s=document.getElementById(a.payload.formId),o=c.getFormData(s);return n.default.get("/api/session/sso_config",o).then(({data:e})=>{I("email_only_success"),"guest"===e.meta.account_type?t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP})):S.auth.ssoMethod===i.SSOMethod.SAML?h.redirect(e.meta.org_saml_config.sp_sso_target_url):t.dispatch(r.auth.showForm({formState:i.AuthFormState.SSO_GATE}))}).catch(t=>{f(t)}),e(a)}if(r.auth.resetPassword.matches(a)){I("reset_password_attempt"),e(a);const s=document.getElementById(a.payload.formId),o=c.getFormData(s);return void(o.password!==o.password_retype?t.dispatch(r.auth.showError({message:"These passwords don't match. Try again?",invalidInput:i.AuthInputType.PASSWORD})):n.default.post("/api/password/recover",o).then(({data:e})=>{const a=e.meta;if("totp_key"==a.required){let e;return a.reason&&a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(r.auth.requireTwoFactor({required:!0,hint:e}))}I("reset_password_success"),t.dispatch(r.auth.complete())}).catch(f))}if(r.auth.validateCode.matches(a)){I("validate_code_attempt"),e(a);const s=document.getElementById(a.payload.formId),o=c.getFormData(s)[i.AuthInputType.VERIFICATION_CODE];return void(o?n.default.post("/api/saml/validate_code",{code:o}).then(t=>{h.redirect(t.data.meta.redirect)}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred";"invalid_session"===a.reason?h.redirect("/"):t.dispatch(r.auth.showError({message:s,invalidInput:i.AuthInputType.VERIFICATION_CODE}))}):t.dispatch(r.auth.showError({message:"Please enter a code",invalidInput:i.AuthInputType.VERIFICATION_CODE})))}if(r.auth.resendCode.matches(a))return I("resend_code"),e(a),void n.default.post("api/saml/resend_code").then(()=>{t.dispatch(o.flashActions.flash("The code has be resent. Please check your email."))}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred resending the code";"invalid_session"===a.reason&&h.redirect("/"),t.dispatch(o.flashActions.error(s))});if(r.auth.showError.matches(a)){if(I("error",a.payload),e(a),a.payload.errorType===i.ErrorType.UNAUTHORIZED){if(t.getState().auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO){const e=a.payload.message;t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN,errorMessage:e}))}}else if(a.payload.errorType==i.ErrorType.SAML_REQUIRED){const e=a.payload.message;t.dispatch(r.auth.showForm({formState:i.AuthFormState.SAML_START,errorMessage:e}))}return}return r.auth.complete.matches(a)?(S.auth.redirectUrl?h.redirect(S.auth.redirectUrl):_.reload(),e(a)):r.auth.sendValidationEmail.matches(a)?(I("send_validation_email_attempt"),n.default.post("/api/validation/email/send").then(e=>(I("send_validation_email_success"),t.dispatch(r.auth.showSuccess({message:e.data.message})))).catch(e=>{console.error(e);return t.dispatch(r.auth.showError({message:"An error occurred while sending the confirmation email."}))}),e(a)):r.auth.showForm.matches(a)?(I("change_form_state",{oldFormState:S.auth.formState,newFormState:a.payload.formState}),e(a)):e(a)}I("sign_up_go_back"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN}))}}))}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(3,1    );class o extends i.Component{constructor(){super(...arguments),this.form=null,this.submitClicked=!1,this.focusFirstElement=(()=>{if(this.form&&!this.props.noAutofocus)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(!s.value&&!s.dataset.noAutoFocus){s.focus();break}}}),this.focusOnInvalidInput=(()=>{if(this.form)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(s.name===this.props.auth.invalidInput){s.focus(),s.selectionStart=s.selectionEnd;break}}}),this.onSubmit=(t=>{t.preventDefault(),this.submitClicked=!0,this.props.onSubmit&&this.props.onSubmit(t)})}componentDidUpdate(t){this.submitClicked&&this.props.auth.invalidInput?this.focusOnInvalidInput():this.props.auth.formState!==t.auth.formState&&this.focusFirstElement(),this.submitClicked=!1}componentDidMount(){this.focusFirstElement()}render(){return i.createElement("form",{id:this.props.id,className:this.props.className,onSubmit:this.onSubmit,ref:t=>this.form=t},this.props.children)}}s.AuthFormInner=o,o.displayName="AuthFormInner"}),
(function(r,a,o){r.exports={modal:"auth_form--modal--2C3yg",form:"auth_form--form--xKnbM auth_form--modal--2C3yg",header:"auth_form--header--21sqq",largeHeader:"auth_form--largeHeader--3FFhx",hint:"auth_form--hint--3Bsa0",error:"auth_form--error--2I51G"}}),
(function(n,t,o){n.exports={input:"landing_form--input--1hsoX",button:"landing_form--button--y3eAl",textInput:"landing_form--textInput--2D81H landing_form--input--1hsoX",googleButton:"landing_form--googleButton--2VMWs auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",infoCaptureButton:"landing_form--infoCaptureButton--5J213 auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",googleButtonInner:"landing_form--googleButtonInner--3RQWE",googleIcon:"landing_form--googleIcon--3Q7rS"}}),
(function(t,e,u){t.exports={input:"auth_view--input--PalhP",fullWidth:"auth_view--fullWidth--3ydDr",wideButton:"auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",brandButtonBase:"auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",brandButton:"auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",footer:"auth_view--footer--2y326",footerButtonRow:"auth_view--footerButtonRow--1r5Q6",centerText:"auth_view--centerText--21TLX",footerText:"auth_view--footerText--1PPnJ"}}),
(function(l,e,i){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill-rule="evenodd" fill-opacity="1" fill="#4285f4" stroke="none"/><path d="M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z" fill-rule="evenodd" fill-opacity="1" fill="#34a853" stroke="none"/><path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill-rule="evenodd" fill-opacity="1" fill="#fbbc05" stroke="none"/><path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill-rule="evenodd" fill-opacity="1" fill="#ea4335" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),a=n(222                                      ),o=n(178                                        ),r=n(490                 ),l=n(491                                                 ),i=n(174                        ),c=n(221                                    ),p=n(492                               );class d extends s.Component{render(){const e=`${r.button} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement("button",Object.assign({},t),this.props.children)}}t.Button=d,d.displayName="Button";class u extends s.Component{render(){return s.createElement(d,{type:"button",className:r.googleButton,onClick:this.props.onClick,"data-no-auto-focus":!0},s.createElement("div",{className:r.googleButtonInner},s.createElement(i.Svg,{className:r.googleIcon,svg:p,useOriginalSrcFills:!0}),this.props.text))}}t.GoogleAuthButton=u,u.displayName="GoogleAuthButton";class g extends s.Component{render(){const e=this.props.fullWidth?`${l.brandButton} ${l.fullWidth}`:l.brandButton,t=Object.assign(Object.assign({},this.props),{className:e});return delete t.loading,delete t.fullWidth,s.createElement("button",Object.assign({},t,{disabled:this.props.disabled||this.props.loading}),this.props.loading?s.createElement(o.LoadingSpinner,null):this.props.children)}}t.BrandButton=g,g.displayName="Button",g.defaultProps={fullWidth:!0},t.BrandButtonTracked=c.asTrackedClickable(g);class m extends s.Component{render(){return s.createElement(d,{type:"button",className:r.infoCaptureButton,onClick:this.props.onClick,"data-no-auto-focus":!0},this.props.children)}}t.BrandInfoCaptureButton=m,m.displayName="BrandInfoCaptureButton",t.BrandInfoCaptureButtonTracked=c.asTrackedClickable(m),t.BrandSpacer=(e=>s.createElement("div",{style:{height:8*(e.multiple||1)}},e.children));class h extends s.Component{render(){const e=`${r.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement(a.LazyInput,Object.assign({},t))}}t.TextInput=h,h.displayName="TextInput"}),
(function(r,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=s(3,1    ),o=s(488                                             ),a=s(489              ),h=s(493                                                );class p extends t.PureComponent{render(){const r=this.props.header,e=`${this.props.modal?a.modal:a.form} ${this.props.className||""}`,s=`${a.header} ${this.props.largeHeader?a.largeHeader:""}`;return t.createElement(o.AuthFormInner,{id:this.props.id,className:e,dispatch:this.props.dispatch,auth:this.props.auth,noAutofocus:this.props.noAutofocus,onSubmit:this.props.onSubmit},this.props.header&&t.createElement("div",{className:s},r),this.props.auth.hint&&t.createElement("div",{className:a.hint},this.props.auth.hint),!this.props.hideError&&this.props.auth.error&&t.createElement("div",{className:a.error},this.props.auth.error),this.props.header&&!this.props.auth.error&&t.createElement(h.BrandSpacer,{multiple:2}),this.props.children)}}e.AuthForm=p,p.displayName="AuthForm"}),
(function(n,i,t){n.exports={brand:"form_inputs--brand--nxF5w auth_branding--brand--3FsKf",input:"form_inputs--input--r-7Uo",invalidInput:"form_inputs--invalidInput--2tA0l"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(3,1    ),a=s(404                                ),r=s(405                      ),i=s(224                                            ),u=s(495                );class p extends n.PureComponent{render(){const t=`${u.input} ${u.brand} ${this.props.className||""}`,e=Object.assign(Object.assign({},this.props),{className:t});return n.createElement(i.TextInput,Object.assign({},e))}}e.AuthInput=p,p.displayName="AuthInput";class o extends n.PureComponent{render(){const t=`${this.props.isInvalid?u.invalidInput:""}`,e=Object.assign(Object.assign({},this.props),{className:t});return delete e.isInvalid,n.createElement(p,Object.assign({},e))}}e.AuthInvalidInput=o,o.displayName="AuthInvalidInput";class l extends n.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.dispatch(a.auth.changeEmail({value:t.currentTarget.value}))}),this.onBlur=(t=>{this.props.dispatch(a.auth.spellcheckDomain()),this.props.onBlur&&this.props.onBlur(t,!0)})}render(){return n.createElement(o,{onChange:this.onChange,onBlur:this.onBlur,value:this.props.auth.email,name:r.AuthInputType.EMAIL,placeholder:"Email",autoCapitalize:"off",autoCorrect:"off",isInvalid:r.AuthInputType.EMAIL===this.props.auth.invalidInput})}}e.AuthEmailInput=l,l.displayName="AuthEmailInput"}),
(function(e,o,t){e.exports={link:"password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",leftAlign:"password_reset--leftAlign--1mUX_ modal--left--t5YdU password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",center:"password_reset--center--14KR9",buttonRow:"password_reset--buttonRow--3CoXM modal--buttonRow--23IOU",centeredLink:"password_reset--centeredLink--1z3Su auth_view--footerButtonRow--1r5Q6",button:"password_reset--button--1lVHA",modal:"password_reset--modal--1cSyJ",form:"password_reset--form--1jxmp password_reset--modal--1cSyJ",header:"password_reset--header--3N7bH"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),r=s(233        ),o=s(404                                ),n=s(405                      ),i=s(494                                                       ),p=s(496                                                           ),l=s(224                                            ),u=s(405                      ),m=s(497                   ),h=s(493                                                );class d extends a.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>this.props.dispatch(o.auth.sendPasswordReset())),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({},this.props,{header:"Enter your email to reset password",onSubmit:this.onSubmit}),a.createElement(p.AuthEmailInput,Object.assign({},this.props)),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:!r.isEmail(this.props.auth.email)},"Reset password"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement("div",{className:m.centeredLink},a.createElement(l.LinkInline,{onClick:this.onBack},"Cancel")))}}t.ForgotPasswordForm=d,d.displayName="ForgotPasswordForm";class c extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){const e=this.props.modal?m.modal:m.form;return a.createElement("div",{className:e},a.createElement("div",{className:m.header},"If an account exists for ",this.props.auth.email,", you will get an email with instructions on resetting your password. If it doesn't arrive, be sure to check your spam folder."),a.createElement("div",{className:m.buttonRow},a.createElement(l.Link,{onClick:this.onBack,className:m.link},"Back to Log in")))}}t.SentPasswordReset=c,c.displayName="SentPasswordReset";class f extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({header:"Choose a new password",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),this.props.auth.emailToken&&a.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),a.createElement(p.AuthInvalidInput,{name:u.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:3}),a.createElement(p.AuthInvalidInput,{name:"password_retype",type:"password",placeholder:"Confirm password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading},"Submit"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(l.LinkInline,{onClick:this.onBack,className:m.center},"Back to Log in"))}}t.ResetPasswordForm=f,f.displayName="ResetPasswordForm";class S extends a.Component{render(){return this.props.isSignup?a.createElement(l.ButtonGreen,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children):a.createElement(l.ButtonPrimary,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children)}}t.AuthButton=S,S.displayName="AuthButton"}),
(function(o,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=n(94                                   ),i=n(193           ),r=n(124     ),s=n(115          ),a=n(113          );function l(o){return i.isIosMirrorApp()?i.getIosAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest iOS app to authenticate with Google")}):new Promise((o,e)=>{window.FigmaMobile._sso_login_func=((n,t)=>{t?o({name:n,token:t,source:"mobile"}):e("Unable to get profile information from Google")}),window.FigmaMobile.startGoogleSSO()}):i.isAndroidMirrorApp()?i.getAndroidAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest Android app to authenticate with Google")}):new Promise((o,e)=>{window._sso_login_func=((n,t)=>{t?o({name:n,token:t,source:"mobile"}):e("Unable to get profile information from Google")}),window.location.href="/mirror-sso"}):new Promise((o,n)=>{document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let t=s.unsafeWindowOpen("/start_google_sso","","width=600,height=600");null!==t?window.setTimeout(function i(){const r=a.parseCookieForKey(document.cookie,e.COOKIE);if(null!==r){const t=JSON.parse(r);document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t.token?(t.source="web",o(t)):n("Unable to get profile information from Google")}else t.closed?n("Unable to get profile information from Google"):window.setTimeout(i,250)},250):n("Unable to get profile information from Google")})}function g(o,e){return new Promise((n,i)=>{l().then(s=>{(function(o,e){const n={name:e.name,id_token:e.token,source:e.source};return r.default.post(o,n)})(e,s).then(({data:e})=>{o(t.flash.flash("Authenticated as "+e.meta.email)),n()},({data:o})=>{i(o.message||"Unable to authenticate")})},o=>{i(o)})})}window._sso_login_func=((o,e)=>{}),e.COOKIE="google_sso_temp",e.getGoogleUser=l,e.doGoogleLoginOrSignup=function(o){return g(o,"/api/session/google_auth/signin_or_signup")},e.doGoogleLogin=function(o){return g(o,"/api/session/google_auth/signin")}}),
(function(n,i,_){n.exports={brand:"sign_in_and_up--brand--cAvop auth_branding--brand--3FsKf",orBlock:"sign_in_and_up--orBlock--3kqvy",domainSuggestion:"sign_in_and_up--domainSuggestion--1tnLa",error:"sign_in_and_up--error--3e3qg auth_form--error--2I51G",brandError:"sign_in_and_up--brandError--38l7Z",wideButton:"sign_in_and_up--wideButton--IYcsb auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"sign_in_and_up--primaryWideButton--15okP auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"sign_in_and_up--footer--sCgNV auth_view--footer--2y326",footerButtonRow:"sign_in_and_up--footerButtonRow--1L1a9 auth_view--footerButtonRow--1r5Q6",link:"sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",forgotPassword:"sign_in_and_up--forgotPassword--m0ebi sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",footerRow:"sign_in_and_up--footerRow--pB9-z auth_view--footerButtonRow--1r5Q6",signInWithSaml:"sign_in_and_up--signInWithSaml--1vztF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signUpWithSaml:"sign_in_and_up--signUpWithSaml--22Lub sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signInWithPassword:"sign_in_and_up--signInWithPassword---d3uW sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",switchFormText:"sign_in_and_up--switchFormText--aon-9 auth_view--footerText--1PPnJ",switchFormLink:"sign_in_and_up--switchFormLink--uuDAF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",centerText:"sign_in_and_up--centerText--2y7mR auth_view--centerText--21TLX",openExternallyIcon:"sign_in_and_up--openExternallyIcon--1-frt sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56"}}),
(function(h,l,t){h.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h4v1H1v8h8V6h1v4H0V0zm6 0h4v4H9V1.707L4.354 6.354l-.708-.708L8.293 1H6V0z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(3,1    ),a=o(499             ),r=o(117              ),n=o(233        ),i=o(405                      ),p=o(404                                ),h=o(494                                                       ),l=o(496                                                           ),u=o(174                        ),m=o(493                                                ),c=o(500                   ),g=o(224                                            ),d=o(501                                       );class S extends s.PureComponent{constructor(){super(...arguments),this.handleGoogleError=(t=>{this.props.dispatch(p.auth.showError({message:t}))}),this.onGoogleSignup=(()=>{a.getGoogleUser(this.props.dispatch).then(this.googleAuthSignup,t=>{this.handleGoogleError(t)})}),this.googleAuthSignup=(t=>{this.props.setAuthFormsState({password:null}),this.props.dispatch(p.auth.setGoogleIdToken({googleIdToken:t.token})),this.props.dispatch(p.auth.changeName({value:t.name})),this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.SIGN_UP_EXTRA_INFO}))})}render(){return s.createElement(I,Object.assign({onGoogleAuth:this.onGoogleSignup,googleText:"Sign up with Google",submitText:"Create account",usesSignInFooter:!0},this.props))}}e.SignUpForm=S,S.displayName="SignUpForm";class E extends s.PureComponent{constructor(){super(...arguments),this.onGoogleLogin=(()=>{a.doGoogleLogin(this.props.dispatch).then(()=>{this.props.dispatch(p.auth.complete())},t=>{this.handleGoogleError(t)})}),this.handleGoogleError=(t=>{this.props.dispatch(p.auth.showError({message:t}))})}render(){return s.createElement(I,Object.assign({onGoogleAuth:this.onGoogleLogin,googleText:"Log in with Google",submitText:"Log in",usesSignInFooter:!1},this.props))}}e.SignInForm=E,E.displayName="SignInForm";class F extends s.PureComponent{render(){const t=this.props.usesSignInFooter?"Already have an account?":"No account?",e=this.props.usesSignInFooter?"Log in":"Create one",o=this.props.usesSignInFooter?"Sign up with SAML SSO":"Log in with SAML SSO";return s.createElement("div",{className:c.footer},s.createElement("div",{className:c.footerButtonRow},s.createElement(g.LinkInline,{className:this.props.usesSignInFooter?c.signInWithSaml:c.signUpWithSaml,onClick:this.props.onSwitchToSaml},o),r.appAuthSupported()&&s.createElement(u.Svg,{className:c.openExternallyIcon,onClick:this.props.onSwitchToSaml,svg:d})),this.props.onForgotPassword&&s.createElement(s.Fragment,null,s.createElement(m.BrandSpacer,{multiple:2}),s.createElement("div",{className:c.footerRow},s.createElement("a",{onClick:this.props.onForgotPassword,tabIndex:-1,className:c.forgotPassword},"Forgot password?"))),s.createElement(m.BrandSpacer,{multiple:2}),s.createElement("div",{className:c.footerRow},s.createElement("div",{className:c.switchFormText},t,s.createElement("a",{tabIndex:-1,className:c.switchFormLink,onClick:this.props.onChangeFormClick},e))))}}e.EmailPasswordFooter=F,F.displayName="EmailPasswordFooter";class I extends s.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onClickDomainSuggestion=(()=>this.props.dispatch(p.auth.useDomainSuggestion())),this.onChangePassword=(t=>{this.setState({password:t.currentTarget.value}),this.props.dispatch(p.auth.setGoogleIdToken({googleIdToken:null})),this.props.dispatch(p.auth.changePasswordLength({value:t.currentTarget.value.length}))}),this.onForgotPassword=(()=>{this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.FORGOT_PASSWORD}))}),this.onClickSignup=(()=>{this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.SIGN_UP}))}),this.onClickSignin=(()=>{this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.SIGN_IN}))}),this.onClickSaml=(()=>{this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.SAML_START}))})}UNSAFE_componentWillReceiveProps(t){this.props.auth.loading&&!t.auth.loading&&t.auth.errorType===i.ErrorType.UNAUTHORIZED&&(this.setState({password:""}),this.props.dispatch(p.auth.setGoogleIdToken({googleIdToken:null})))}render(){const t=this.props.auth.invalidInput===i.AuthInputType.EMAIL||this.props.auth.invalidInput===i.AuthInputType.PASSWORD;return s.createElement(h.AuthForm,Object.assign({className:c.centerText,largeHeader:!0,hideError:t,onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(m.GoogleAuthButton,{text:this.props.googleText,onClick:this.props.onGoogleAuth}),s.createElement("span",{className:c.orBlock},"or"),s.createElement(l.AuthEmailInput,Object.assign({},this.props)),this.props.auth.invalidInput===i.AuthInputType.EMAIL&&this.props.auth.error&&s.createElement("div",{className:c.brandError},this.props.auth.error),s.createElement(m.BrandSpacer,{multiple:3}),this.props.auth.domainSuggestion&&s.createElement("div",{className:c.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:c.link},this.props.auth.domainSuggestion),"?"),s.createElement(l.AuthInvalidInput,{name:i.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",value:this.state.password,onChange:this.onChangePassword,onBlur:this.props.onBlur,isInvalid:this.props.auth.invalidInput===i.AuthInputType.PASSWORD}),this.props.auth.invalidInput===i.AuthInputType.PASSWORD&&this.props.auth.error&&s.createElement("div",{className:c.brandError},this.props.auth.error),s.createElement(m.BrandSpacer,{multiple:4}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(m.BrandButton,{type:"submit",className:this.props.usesSignInFooter?c.wideButton:c.primaryWideButton,loading:this.props.auth.loading},this.props.submitText),s.createElement(m.BrandSpacer,{multiple:4}),this.props.usesSignInFooter?s.createElement(F,{onChangeFormClick:this.onClickSignin,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}):s.createElement(F,{onChangeFormClick:this.onClickSignup,onForgotPassword:this.onForgotPassword,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}))}}I.displayName="EmailPasswordSSOForm";class w extends s.PureComponent{constructor(){super(...arguments),this.onClickDomainSuggestion=(()=>this.props.dispatch(p.auth.useDomainSuggestion())),this.onClickUserPass=(()=>{this.props.dispatch(p.auth.showForm({formState:i.AuthFormState.SIGN_IN}))})}render(){return s.createElement(h.AuthForm,Object.assign({},this.props,{header:"Log in to Figma with SAML SSO",onSubmit:this.props.onFormSubmit(this.props.id)}),s.createElement(l.AuthEmailInput,Object.assign({},this.props)),this.props.auth.domainSuggestion&&s.createElement("div",{className:c.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:c.link},this.props.auth.domainSuggestion),"?"),s.createElement(m.BrandSpacer,{multiple:4}),s.createElement(m.BrandButton,{type:"submit",className:c.primaryWideButton,loading:this.props.auth.loading,disabled:!n.isEmail(this.props.auth.email)},"Log in"),s.createElement(m.BrandSpacer,{multiple:4}),s.createElement("div",{className:c.footer},s.createElement("div",{className:c.footerButtonRow},s.createElement(g.LinkInline,{onClick:this.onClickUserPass,className:c.signInWithPassword},"Log in with Google or a password"))))}}e.SamlStartForm=w,w.displayName="SamlStartForm"}),
(function(t,o,r){t.exports={input:"two_factor--input--XUk8H auth_view--input--PalhP",wideButton:"two_factor--wideButton--J8y48 auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"two_factor--footer--3bC83 auth_view--footer--2y326",footerButtonRow:"two_factor--footerButtonRow--qEHnV auth_view--footerButtonRow--1r5Q6",goBack:"two_factor--goBack--229Hp",twoFactorText:"two_factor--twoFactorText--1TmP8",brand:"two_factor--brand--1-eiO"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),n=a(404                                ),r=a(405                      ),o=a(496                                                           ),i=a(494                                                       ),h=a(493                                                ),p=a(503               );class u extends s.PureComponent{constructor(){super(...arguments),this.state={smsSent:!1,twoFactorCode:null},this.sendSMS=(()=>{this.props.dispatch(n.auth.sendSMS({formId:this.props.id})),this.setState({smsSent:!0})}),this.goBack=(()=>{this.props.dispatch(n.auth.requireTwoFactor({required:!1}))}),this.onChange=(e=>{const t=e.target.value;this.setState({twoFactorCode:t})})}render(){return s.createElement(i.AuthForm,Object.assign({header:this.props.header||"Please enter your authentication code or recovery code",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(o.AuthInvalidInput,{onBlur:this.props.onBlur,onChange:this.onChange,value:this.state.twoFactorCode||"",name:r.AuthInputType.TOTP_KEY,autoComplete:"off",placeholder:"Authentication Code",isInvalid:this.props.auth.invalidInput===r.AuthInputType.TOTP_KEY}),s.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email}),s.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),s.createElement("input",{type:"hidden",name:"password_retype",value:this.props.password||""}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{type:"submit",loading:this.props.auth.loading,className:p.wideButton},"Log in"),s.createElement(h.BrandSpacer,{multiple:4}),this.props.auth.smsOkay&&!this.state.smsSent&&s.createElement(s.Fragment,null,s.createElement("a",{className:`${p.twoFactorText} ${p.brand}`,onClick:this.sendSMS},`${this.props.auth.hint?"Resend":"Send"} SMS code`),s.createElement(h.BrandSpacer,{multiple:2})),s.createElement("a",{onClick:this.goBack,className:`${p.goBack} ${p.brand}`},"Back"))}}t.TwoFactorForm=u,u.displayName="TwoFactorForm"}),
(function(e,t,n){e.exports={selectFullWidth:"extra_info--selectFullWidth--3NJpV",brand:"extra_info--brand--3IUJs",wideButton:"extra_info--wideButton--2z_Bv auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",termsFlattened:"extra_info--termsFlattened--2Whft auth_view--footerText--1PPnJ",termsLink:"extra_info--termsLink--26YZw",centerText:"extra_info--centerText--z1pDP auth_view--centerText--21TLX",signInText:"extra_info--signInText--35rPS auth_view--footerButtonRow--1r5Q6 auth_view--footerText--1PPnJ",signInLink:"extra_info--signInLink--1M1uC blue_link--blueLink--22X56",error:"extra_info--error--2VSg2 auth_form--error--2I51G",invalidInput:"extra_info--invalidInput--1j8xA",checkbox:"extra_info--checkbox--1jBJW",checkboxGroup:"extra_info--checkboxGroup--2AXq9"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),r=a(404                                ),o=a(496                                                           ),i=a(494                                                       ),s=a(493                                                ),p=a(505               ),l=a(405                         ),h=a(122                             ),u=a(224                                            );class c extends n.PureComponent{constructor(){super(...arguments),this.jobTypeOptions=h.shuffle([n.createElement("option",{value:"designer"},"Design"),n.createElement("option",{value:"developer"},"Software Development"),n.createElement("option",{value:"marketer"},"Marketing"),n.createElement("option",{value:"project-manager"},"Product Management")]),this.onChangeName=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeName({value:t}))}),this.onChangeJobTitle=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeJob({value:t})),this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE&&t&&this.props.dispatch(r.auth.clearError())}),this.onChangeOptInEmail=(e=>{this.props.dispatch(r.auth.changeOptInEmail({value:e.target.checked}))}),this.toggleOptInEmail=(()=>{this.props.dispatch(r.auth.changeOptInEmail({value:!this.props.auth.optInEmail}))}),this.onClickSignIn=(()=>{this.props.dispatch(r.auth.signUpGoBack())})}render(){const e=!this.props.auth||!this.props.auth.jobTitle;return n.createElement(i.AuthForm,Object.assign({className:p.centerText,largeHeader:!!this.props.header,header:this.props.header||"Tell us about yourself",hideError:this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE,onSubmit:t=>{e?this.props.dispatch(r.auth.showError({invalidInput:l.AuthInputType.JOB_TITLE,message:"Please provide your job function"})):this.props.onFormSubmit(this.props.id)(t)}},this.props),n.createElement(o.AuthInput,{onBlur:this.props.onBlur,onChange:this.onChangeName,value:this.props.auth.name||"",name:"name",placeholder:"Your name",autoCorrect:"off"}),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email||""}),n.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),n.createElement("input",{type:"hidden",name:"googleIdToken",value:this.props.googleIdToken||""}),this.props.auth.emailToken&&n.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),n.createElement("select",{value:this.props.auth.jobTitle,onChange:this.onChangeJobTitle,className:`${p.selectFullWidth} ${p.brand} ${this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE?p.invalidInput:""}`},n.createElement("option",{value:"",disabled:!0},"What kind of work do you do? *"),this.jobTypeOptions,n.createElement("option",{value:"other"},"Other")),this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE&&this.props.auth.error&&n.createElement("div",{className:p.error},this.props.auth.error),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement("div",{className:p.checkboxGroup},n.createElement(u.Checkbox,{id:"box",classOverride:p.checkbox,name:"opt_in_email",onChange:this.onChangeOptInEmail,value:`${this.props.auth.optInEmail}`,checked:this.props.auth.optInEmail}),n.createElement("label",{onClick:this.toggleOptInEmail},"I agree to join Figma's mailing list")),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement(s.BrandButton,{type:"submit",className:p.wideButton,loading:this.props.auth.loading},"Create Account"),n.createElement(s.BrandSpacer,{multiple:4}),n.createElement("div",{className:p.termsFlattened},'By clicking "Create Account" you agree to our '," ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/summary-of-policy"},"TOS")," and ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/privacy"},"Privacy Policy"),"."),n.createElement(s.BrandSpacer,{multiple:2}),n.createElement("div",{className:p.signInText},"Already have an account?",n.createElement("a",{tabIndex:-1,className:p.signInLink,onClick:this.onClickSignIn},"Log in")))}}t.SignUpExtraInfoForm=c,c.displayName="SignUpExtraInfoForm"}),
(function(a,e,i){a.exports={link:"validate_email--link--1a7V8 modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttons:"validate_email--buttons--3IWyc",modal:"validate_email--modal--4UBx3",form:"validate_email--form--1qLwT validate_email--modal--4UBx3",innerContainer:"validate_email--innerContainer--3E4u1",back:"validate_email--back--3KxRY",header:"validate_email--header--2KHJ5",description:"validate_email--description--3rpEF",footer:"validate_email--footer--3G88r",error:"validate_email--error--2o7OF",success:"validate_email--success--28l2a"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(3,1    ),i=s(224                                            ),r=s(404                                ),o=s(507                   );class l extends t.PureComponent{constructor(){super(...arguments),this.sendValidationEmail=(()=>{this.props.dispatch(r.auth.sendValidationEmail({email:this.props.auth.email}))})}render(){const e=this.props.modal?o.modal:o.form,a=this.props.auth.email.substring(this.props.auth.email.lastIndexOf("@")+1);return t.createElement("div",{className:e},t.createElement("div",{className:o.innerContainer},t.createElement("div",{className:o.back},t.createElement(i.Link,{href:"/logout",className:o.link},"Logout")),t.createElement("div",{className:o.header},"Welcome to Figma, ",this.props.auth.name,"! Please verify your email to continue."),t.createElement("div",{className:o.description},"Please check your email for a message from Figma, and click the link inside to verify your email address."),t.createElement("div",{className:o.buttons},t.createElement(i.Link,{onClick:this.sendValidationEmail,className:o.link},"Resend Verification Email"),this.props.auth.error&&t.createElement("div",{className:o.error},this.props.auth.error),this.props.auth.success&&t.createElement("div",{className:o.success},this.props.auth.success))),t.createElement("div",{className:o.footer},"When you use a domain like ",a,", we ask that you verify your email. If you’d like to use Figma outside of this organization, sign up with your personal email."))}}a.ValidateEmail=l,l.displayName="ValidateEmail"}),
(function(e,o,r){e.exports={footerRow:"validate_code--footerRow--1WUIC",link:"validate_code--link--2Phzm",error:"validate_code--error--3OIzb auth_form--error--2I51G",header:"validate_code--header--1FM6v",description:"validate_code--description--2n-lr"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),n=a(404                                ),r=a(405                      ),i=a(496                            ),o=a(494                        ),h=a(493                                                ),d=a(509                  );class l extends s.PureComponent{constructor(e){super(e),this.VERIFICATION_CODE_LENGTH=6,this.onResend=(()=>{this.props.dispatch(n.auth.resendCode())}),this.handleCodeChange=(e=>{this.setState({code:e.target.value})}),this.state={code:""}}render(){return s.createElement(o.AuthForm,Object.assign({onSubmit:this.props.onFormSubmit(this.props.id),hideError:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE},this.props),s.createElement("div",{className:d.header},"Verify your account"),s.createElement("div",{className:d.description},"An email has been sent to ",this.props.auth.email,"."),s.createElement("div",{className:d.description},"Enter the code below to verify."),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(i.AuthInvalidInput,{name:r.AuthInputType.VERIFICATION_CODE,autoComplete:"off",autoCorrect:"off",maxLength:this.VERIFICATION_CODE_LENGTH,value:this.state.code,onChange:this.handleCodeChange,isInvalid:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE}),this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE&&this.props.auth.error&&s.createElement("div",{className:d.error},this.props.auth.error),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:this.state.code.length!==this.VERIFICATION_CODE_LENGTH},"Submit"),s.createElement(h.BrandSpacer,{multiple:3}),s.createElement("div",{className:d.footerRow},"Didn’t receive the code?  ",s.createElement("a",{className:d.link,onClick:this.onResend},"Resend")))}}t.ValidateCode=l,l.displayName="ValidateEmail"}),
(function(a,e,o){a.exports={modal:"app_auth--modal--21eLL auth_form--modal--2C3yg",header:"app_auth--header--8aJPD auth_form--header--21sqq",formWide:"app_auth--formWide--3-YAo app_auth--modal--21eLL auth_form--modal--2C3yg",form:"app_auth--form--1pJEo app_auth--modal--21eLL auth_form--modal--2C3yg",innerContainer:"app_auth--innerContainer--1V9qb",logo:"app_auth--logo--2YfGb",message:"app_auth--message--OhFO_",subMessage:"app_auth--subMessage--10AT2",link:"app_auth--link--2RA_H",error:"app_auth--error--1AnkH",redeemButton:"app_auth--redeemButton--3zyJD",footerText:"app_auth--footerText--1L71m auth_view--footerText--1PPnJ",signupLink:"app_auth--signupLink--3W95r blue_link--blueLink--22X56"}}),
(function(l,o,e){l.exports={src:'<svg width="38" height="57" viewBox="0 0 38 57" xmlns="http://www.w3.org/2000/svg"><path d="M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(3,1    ),s=a(124     ),i=a(115          ),n=a(193           ),o=a(126          ),p=a(405                      ),l=a(404                                ),h=a(224                                            ),c=a(178                                        ),m=a(174                        ),u=a(511             ),d=a(493                                                ),g=a(512                            );class A extends r.PureComponent{constructor(e){super(e),this.expirationTimer=null,this.formatGrantUrl=(()=>{if(!this.state.appAuth)return"";let e=`/app_auth/${this.state.appAuth.id}/grant`,t=new URLSearchParams;return this.props.saml&&t.append("saml","true"),t.toString()&&(e+="?"+t.toString()),e}),this.requestAppAuth=(()=>{s.default.post("/api/session/app_auth",{app_type:this.props.appType}).then(e=>{this.setState({loading:!1,appAuth:e.data.meta}),this.openGrantUrl()}).catch(e=>{console.error(e),this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN})),this.props.dispatch(l.auth.showError({message:"An error occurred. Please try again later."}))})}),this.expire=(()=>{this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN})),this.props.dispatch(l.auth.showError({message:"An error has occurred. Please try again."}))}),this.openGrantUrl=(()=>{const e=this.formatGrantUrl();console.log("Opening: "+e),i.unsafeWindowOpen(e)}),this.onClickCancel=(()=>{n.isAndroidMirrorApp()||n.isIosMirrorApp()?i.redirect("/mobile-app"):this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN}))}),this.state={loading:!0,appAuth:null}}componentDidMount(){this.requestAppAuth(),this.expirationTimer=setTimeout(this.expire,A.EXPIRATION_MS)}componentWillUnmount(){this.expirationTimer&&clearTimeout(this.expirationTimer)}render(){const e=this.props.modal?u.modal:u.formWide;return this.state.loading?r.createElement(c.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:u.innerContainer},r.createElement("img",{className:u.logo,src:"https://static.figma.com/uploads/c997a618026ea56ba097bc64eb9875215c70726b"}),r.createElement("div",{className:u.message},"Go to the browser to complete log in."),r.createElement("div",{className:u.subMessage},'Not seeing the "Log in with SAML SSO" tab?'),r.createElement(h.Link,{className:u.link,onClick:this.onClickCancel},"Go back and try again")))}}t.AppAuthRequestForm=A,A.displayName="AppAuthRequestForm",A.EXPIRATION_MS=3e5;class S extends r.PureComponent{constructor(e){super(e),this.expirationTimer=null,this.formatGrantUrl=(e=>{if(!this.state.appAuth)return"";let t=`/app_auth/${this.state.appAuth.id}/grant`,a=new URLSearchParams;return e&&a.append("signup","true"),a.toString()&&(t+="?"+a.toString()),t}),this.openGrantUrl=(e=>{const t=this.formatGrantUrl(e);console.log("Opening: "+t),i.unsafeWindowOpen(t)}),this.requestAppAuth=(e=>{s.default.post("/api/session/app_auth",{app_type:this.props.appType}).then(t=>{this.setState({appAuth:t.data.meta},()=>{this.openGrantUrl(e),this.expirationTimer=setTimeout(this.expire,S.EXPIRATION_MS)})}).catch(e=>{console.error(e),this.expire()})}),this.componentWillUnmount=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer)}),this.expire=(()=>{this.props.dispatch(l.auth.showError({message:"An error has occurred. Please try again."})),this.setState({appAuth:null})}),this.onClickCancel=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer),this.setState({appAuth:null})}),this.onLoginClick=(()=>{this.requestAppAuth(!1)}),this.onSignupClick=(()=>{this.requestAppAuth(!0)}),this.state={appAuth:null}}render(){return this.state.appAuth?r.createElement("div",{className:u.formWide},r.createElement("div",{className:u.innerContainer},r.createElement(m.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(d.BrandSpacer,{multiple:4}),r.createElement("div",{className:u.header},"Go to the browser to complete login"),r.createElement(d.BrandSpacer,{multiple:3}),r.createElement("div",{className:u.footerText},"Not seeing the browser tab?",r.createElement("a",{tabIndex:-1,className:u.signupLink,onClick:this.onClickCancel},"Go back and try again")))):r.createElement("div",{className:u.form},r.createElement("div",{className:u.innerContainer},r.createElement(m.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(d.BrandSpacer,{multiple:4}),r.createElement("div",{className:u.header},"Welcome to Figma"),r.createElement(d.BrandSpacer,{multiple:3}),this.props.auth.error&&r.createElement(r.Fragment,null,r.createElement("div",{className:u.error},this.props.auth.error),r.createElement(d.BrandSpacer,{multiple:1})),r.createElement(d.BrandButton,{type:"submit",loading:this.props.auth.loading,onClick:this.onLoginClick},"Log in with browser"),r.createElement(d.BrandSpacer,{multiple:4}),r.createElement("div",{className:u.footerText},"No account?",r.createElement("a",{tabIndex:-1,className:u.signupLink,onClick:this.onSignupClick},"Create one"))))}}t.AppAuthDesktopRequestForm=S,S.displayName="AppAuthDesktopRequestForm ",S.EXPIRATION_MS=3e5;class E extends r.PureComponent{constructor(e){super(e),this.formatRedeemUrl=(()=>{if(!this.state.gSecret)return"";let e="figma://app_auth/redeem",t=new URLSearchParams;return t.append("g_secret",this.state.gSecret),t.toString()&&(e+="?"+t.toString()),e}),this.openAppToRedeem=(()=>{const e=this.formatRedeemUrl();i.unsafeRedirect(e),setTimeout(()=>{window.close()},2e4)}),this.grantAppAuth=(()=>{this.props.auth.appAuthId?s.default.post(`/api/session/app_auth/${this.props.auth.appAuthId}/grant`).then(e=>{this.setState({loading:!1,gSecret:e.data.meta.g_secret})}).catch(e=>{console.error(e),this.setState({loading:!1,gSecret:null})}):this.setState({loading:!1,gSecret:null})}),this.onClickOpenToRedeem=(()=>{o.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"click_to_redeem"}),this.openAppToRedeem()}),this.openNativeLoginScreen=(()=>{const e=this.props.auth.appAuthAppType===p.AppAuthAppType.MOBILE?"mobile-app":"login";i.unsafeRedirect("figma://"+e)}),this.onClickSignoutAndTryAgain=(()=>{o.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"signout_try_again"}),this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN}))}),this.onClickOpenToStartOver=(()=>{this.openNativeLoginScreen()}),this.state={loading:!0,gSecret:null}}componentDidMount(){this.grantAppAuth()}render(){const e=this.props.modal?u.modal:u.formWide,t=this.props.auth.appAuthAppType===p.AppAuthAppType.MOBILE?"Mirror":"Desktop";return this.state.loading?r.createElement(c.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:u.innerContainer},r.createElement(m.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(d.BrandSpacer,{multiple:4}),this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:u.header},"You're logged in as ",this.props.auth.email),r.createElement(d.BrandSpacer,{multiple:3}),r.createElement(d.BrandButton,{className:u.redeemButton,onClick:this.onClickOpenToRedeem},"Open the ",t," App"),r.createElement(d.BrandSpacer,{multiple:4}),r.createElement("div",{className:u.footerText},"Not ",this.props.auth.email,"?",r.createElement("a",{tabIndex:-1,className:u.signupLink,onClick:this.onClickSignoutAndTryAgain},"Log in with another account"))),!this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:u.header},"Your login session has expired.",r.createElement("br",null),"Try again on the ",t," app."),r.createElement(d.BrandSpacer,{multiple:3}),r.createElement(d.BrandButton,{onClick:this.onClickOpenToStartOver},"Open the ",t," App"))))}}t.AppAuthGrantForm=E,E.displayName="AppAuthGrantForm";class N extends r.PureComponent{constructor(e){super(e),this.redeemAppAuth=(()=>{if(!this.props.auth.appAuthId||!this.props.auth.appAuthGSecret)return this.setState({loading:!1}),void this.handleError();s.default.post("/api/session/app_auth/redeem",{g_secret:this.props.auth.appAuthGSecret}).then(e=>{this.setState({loading:!1}),setTimeout(()=>{const e=this.props.auth.redirectUrl||(n.isAndroidMirrorApp()||n.isIosMirrorApp()?"/mobile-app":"/");console.log("Opening: "+e),i.redirect(e)},500)}).catch(e=>{console.error(e),this.setState({loading:!1}),this.handleError()})}),this.handleError=(()=>{const e="An error has occurred. Please try again.";if(n.isAndroidMirrorApp()||n.isIosMirrorApp()){let t=new URLSearchParams;t.append("error",e),i.redirect("/mobile-app?"+t.toString())}else this.props.dispatch(l.auth.showError({message:e})),this.props.dispatch(l.auth.redeemReset())}),this.state={loading:!0}}componentDidMount(){this.redeemAppAuth(),history.replaceState({},"","/login")}render(){const e=this.props.modal?u.modal:u.formWide;return this.state.loading?r.createElement(c.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:u.innerContainer},r.createElement(m.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(d.BrandSpacer,{multiple:4}),r.createElement(r.Fragment,null,r.createElement("div",{className:u.message},"Loading..."),r.createElement(c.LoadingSpinner,null))))}}t.AppAuthRedeemForm=N,N.displayName="AppAuthRedeemForm"}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e(3,1    ),n=e(115          ),i=e(499             ),a=e(405                      ),r=e(494                                                       ),h=e(493                                                ),l=e(224                                            ),c=e(404                                ),p=e(500                                   );class u extends s.PureComponent{constructor(){super(...arguments),this.onAbandonSSO=(()=>{this.props.auth.existingSession?n.redirect("/"):this.props.dispatch(c.auth.showForm({formState:a.AuthFormState.EMAIL_ONLY}))}),this.onGoogleClick=(()=>{i.doGoogleLoginOrSignup(this.props.dispatch).then(this.onGoogleSuccess,o=>{this.handleGoogleError(o)})}),this.onGoogleSuccess=(()=>{this.props.dispatch(c.auth.complete())}),this.handleGoogleError=(o=>{this.props.dispatch(c.auth.showError({message:o}))}),this.onSamlClick=(()=>{this.props.dispatch(c.auth.samlStartFromSession())})}render(){const o=this.props.auth.ssoMethod===a.SSOMethod.GOOGLE?"Google":"SAML SSO",t=`To continue, join ${this.props.auth.orgName} by logging in with ${o}`,e=this.props.auth.existingSession?`Cancel and do not join ${this.props.auth.orgName}`:"Go back to change email";return s.createElement(r.AuthForm,Object.assign({},this.props,{className:p.centerText,header:t,onSubmit:null}),this.props.auth.ssoMethod===a.SSOMethod.GOOGLE&&s.createElement(h.GoogleAuthButton,{text:"Log in with Google",onClick:this.onGoogleClick}),this.props.auth.ssoMethod===a.SSOMethod.SAML&&s.createElement(h.BrandButton,{type:"submit",onClick:this.onSamlClick,loading:this.props.auth.loading},"Log in with SAML"),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement("div",{className:p.footer},s.createElement("div",{className:p.footerButtonRow},s.createElement(l.LinkInline,{onClick:this.onAbandonSSO},e))))}}t.SSOGateForm=u,u.displayName="ForceSamlForm"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3,1    ),i=n(494                                                       ),s=n(493                                                ),a=n(500                                   ),o=n(496                            );class m extends r.PureComponent{render(){return r.createElement(i.AuthForm,Object.assign({},this.props,{className:a.centerText,header:"Log in to Figma to continue",onSubmit:this.props.onFormSubmit(this.props.id)}),r.createElement(o.AuthEmailInput,Object.assign({},this.props)),r.createElement(s.BrandSpacer,{multiple:4}),r.createElement(s.BrandButton,{type:"submit",loading:this.props.auth.loading},"Log in"))}}t.EmailOnlyForm=m,m.displayName="EmailOnlyForm"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ExperimentToTreatments=class{constructor(){this.exp_welcome_sequence_02=["control","variant"],this.exp_cart=["control","variant"],this.exp_nux_05=["control","variant"]}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3,1    ),i=r(113          ),s=r(126          ),a=r(85                         ),o=r(516                                   ),l=r(112                      ),c=r(193           ),u=r(142                     ),h=(e,t,r)=>{x(e)||s.segmentTrackEvent("set_experiment_treatment",{experimentId:e,treatmentId:t,seed:r.toString()})};class d{constructor(e,t,r,n,i){this.hasReported=!1,this.treatmentToValue=new Map,this.trackingEnabled=!1,this.mobileEnabled=!1,this.requireGen0=!1,this.reportOnce=((e,t)=>{!this.hasReported&&t&&this.trackingEnabled&&void 0!==e&&(this.report(this.experimentId,t,e),this.hasReported=!0)}),this.experimentId=e,this.defaultValue=t,this.report=r,this.seed=n,this.allExperiments=i}}class m{constructor(e,t,r,n,i){this.state=new d(e,t,r,n,i)}enableTracking(){return this.state.trackingEnabled=!0,this}enableMobile(){return this.state.mobileEnabled=!0,this}requireGen0(){return this.state.requireGen0=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}build(){const e=this.state.reportOnce,t=this.state.experimentId,r=this.state.defaultValue,i=this.state.seed,s=this.state.allExperiments,a=this.state.treatmentToValue,o=this.state.mobileEnabled,l=this.state.requireGen0;return class extends n.Component{experimentSeed(){return this.props.experimentSeed||i}treatment(){return f(t,this.experimentSeed(),s,o,l)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=r;const t=this.treatment();if(t){const r=a.get(t);r&&(e=r)}return n.createElement(e,Object.assign({},this.props))}}}}class p{constructor(e,t,r,n,i){this.state=new d(e,t,r,n,i),this.state.trackingEnabled=!1}enableTracking(){return this.state.trackingEnabled=!0,this}enableMobile(){return this.state.mobileEnabled=!0,this}requireGen0(){return this.state.requireGen0=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}get(){const e=f(this.state.experimentId,this.state.seed,this.state.allExperiments,this.state.mobileEnabled,this.state.requireGen0);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}t.experiment=function(e,t=_(),r=h,n=new o.ExperimentToTreatments){return{defaultComponentClass:function(i){return new m(e,i,r,t,n)},defaultValue:function(i){return new p(e,i,r,t,n)}}},t.LOCAL_EXPERIMENTS_SEED="experiment_seed",t.LOCAL_EXPERIMENTS_OVERRIDE="local_experiments";const E=[13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163];var g;function f(e,t=_(),r=new o.ExperimentToTreatments,n=!1,i=!1){const s=x(e);if(s)return s;if(!a.getFeatureFlags()[e])return;if(!n&&c.isMobileBrowserGetter())return;if(i&&function(){const e=u.globalReduxStore;if(!e)return g.UNKNOWN;const t=e.getState();return t.userFlags&&t.orgById&&!t.userFlags.not_gen_0&&0===Object.keys(t.orgById).length?g.ZERO:g.ONE}()!==g.ZERO)return;if(void 0===t)return;const l=r[e];if(!l)return;let h="string"==typeof t?parseInt(t,10):t;if(isNaN(h))return;var d;h>1e8&&(h=Math.floor(h/1e5));return l[67*(h%=(d=e.length,E[d%E.length]))%12345%l.length]}!function(e){e.ZERO="gen_0",e.ONE="gen_1",e.UNKNOWN="unknown"}(g||(g={})),t.pickTreatment=f;const b=e=>btoa(JSON.stringify(e)),O=e=>JSON.parse(atob(e));function x(e){const r=i.getCookieOrLocalOrMemoryStorage();if(r)try{const i=r.get(t.LOCAL_EXPERIMENTS_OVERRIDE);if(i)return O(i)[e]}catch(n){console.error("Failed to read local experiment override",n)}}function _(e=function(){const e=a.initialOptions().user_data;if(e)return e.id}()){if(e)return e;const r=encodeURIComponent(t.LOCAL_EXPERIMENTS_SEED),n=i.getCookieOrLocalOrMemoryStorage();try{const e=n.get(r);if(e){const t=parseInt(e,10);if(!isNaN(t))return t}}catch(o){return void console.error("Failed to read local experiment seed.",o)}const s=Math.floor(1e6*Math.random());try{n.set(r,s)}catch(o){return void console.error("Failed to write local experiment seed",o)}return s}window&&(window.checkExperimentOverride=x,window.setExperimentOverride=function(e,r){const n=i.getCookieOrLocalOrMemoryStorage();if(n)try{let i={};const a=n.get(t.LOCAL_EXPERIMENTS_OVERRIDE);return a&&(i=O(a)),i[e]=r,n.set(t.LOCAL_EXPERIMENTS_OVERRIDE,b(i)),l.trackEvent("Set Experiment Override",{experimentId:e,treatmentId:r}),i}catch(s){return void console.error("Failed to write local experiment override",s)}}),t.getLocalExperimentSeed=_,window.localSeed=_}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    ),r=s(115          ),o=s(117              ),i=s(193           ),h=s(404                                ),p=s(405                      ),n=s(498                                                                 ),m=s(502                                                                                ),u=s(504                                                                        ),S=s(506                                                                        ),c=s(508                                             ),A=s(510                                           ),d=s(513                                 ),l=s(514                                 ),F=s(515                                     );s(517                               );class _ extends a.PureComponent{componentWillUnmount(){this.props.dispatch(h.auth.clearError()),this.props.dispatch(h.auth.showForm({formState:p.AuthFormState.SIGN_UP}))}static title(t){switch(t.auth.formState){case p.AuthFormState.SAML_START:return"Log in with SAML SSO";default:return"Figma"}}static headerActionText(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return"Go back and try again"}static headerAction(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return()=>{i.isAndroidMirrorApp()||i.isIosMirrorApp()?r.redirect("/mobile-app"):t.dispatch(h.auth.redeemReset())}}render(){switch(this.props.auth.formState){case p.AuthFormState.SIGN_IN:case p.AuthFormState.SIGN_UP:case p.AuthFormState.SIGN_UP_EXTRA_INFO:case p.AuthFormState.RESET_PASSWORD:case p.AuthFormState.VALIDATE_CODE:case p.AuthFormState.SAML_START:case p.AuthFormState.EMAIL_ONLY:return a.createElement(E,Object.assign({},this.props));case p.AuthFormState.FORGOT_PASSWORD:return a.createElement(n.ForgotPasswordForm,Object.assign({},this.props));case p.AuthFormState.SENT_PASSWORD_RESET:return a.createElement(n.SentPasswordReset,Object.assign({},this.props));case p.AuthFormState.VALIDATE_EMAIL:return a.createElement(c.ValidateEmail,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_GRANT:return a.createElement(d.AppAuthGrantForm,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_REDEEM:return a.createElement(d.AppAuthRedeemForm,Object.assign({},this.props));case p.AuthFormState.SSO_GATE:return a.createElement(l.SSOGateForm,Object.assign({},this.props))}}}e.AuthView=_,_.displayName="AuthView";class E extends a.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onFormSubmit=(t=>e=>{let s=document.getElementById(t).elements;switch(s.totp_key&&s.totp_key.select(),s.password&&(s.password.select(),this.setState({password:s.password.value}),this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null}))),this.props.auth.formState){case p.AuthFormState.SIGN_IN:this.props.dispatch(h.auth.signIn({formId:t}));break;case p.AuthFormState.RESET_PASSWORD:this.props.dispatch(h.auth.resetPassword({formId:t}));break;case p.AuthFormState.VALIDATE_CODE:this.props.dispatch(h.auth.validateCode({formId:t}));break;case p.AuthFormState.SAML_START:this.props.dispatch(h.auth.sendEmailSamlStart({formId:t}));break;case p.AuthFormState.SIGN_UP_EXTRA_INFO:this.props.dispatch(h.auth.signUp({formId:t}));break;case p.AuthFormState.SIGN_UP:this.props.dispatch(h.auth.signUpExtraInfo({formId:t}));break;case p.AuthFormState.EMAIL_ONLY:this.props.dispatch(h.auth.emailOnly({formId:t}))}this.props.onBlur&&this.props.onBlur(e,!0)}),this.setAuthFormsState=(t=>(t=>{this.setState(t)})(t))}UNSAFE_componentWillMount(){this.props.auth.formState!==p.AuthFormState.SIGN_UP_EXTRA_INFO&&(this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null})),this.setState({password:null}))}render(){return o.desktopNoAuth()?a.createElement(d.AppAuthDesktopRequestForm,Object.assign({appType:p.AppAuthAppType.DESKTOP},this.props)):this.props.auth.twoFactorRequired?a.createElement(u.TwoFactorForm,Object.assign({password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_IN?a.createElement(m.SignInForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP?a.createElement(m.SignUpForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP_EXTRA_INFO?a.createElement(S.SignUpExtraInfoForm,Object.assign({onFormSubmit:this.onFormSubmit,password:this.state.password,googleIdToken:this.props.auth.googleIdToken},this.props)):this.props.auth.formState===p.AuthFormState.RESET_PASSWORD?a.createElement(n.ResetPasswordForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.VALIDATE_CODE?a.createElement(A.ValidateCode,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SAML_START?o.appAuthSupported()?a.createElement(d.AppAuthRequestForm,Object.assign({appType:p.AppAuthAppType.DESKTOP,saml:!0},this.props)):a.createElement(m.SamlStartForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.EMAIL_ONLY?a.createElement(F.EmailOnlyForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):void 0}}e.AuthForms=E,E.displayName="AuthForms"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var u=t(404                      );a.authActions=u.auth;var i=t(487                         );a.authMiddleware=i.authMiddleware;var r=t(518                                   );a.AuthView=r.AuthView;var h=t(485             );a.authHelpers=h.authHelpers}),
(function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=a(244                                      ),o=a(301                                 ),c=a(106                                     ),s=a(243                          );i.activityLogs=(t=>i=>(function(a){if(c.fileBrowser.selectView.matches(a)){if("activityLogs"===a.payload.view){const{today:i,thirtyDaysAgo:c}=s.getThirtyDayEndPoints();t.dispatch(o.orgTeam.get({includeMemberCount:!1,includeProjectCount:!1})),t.dispatch(e.activityLogs.get({newQuery:!0,date:{start:c,end:i},actorEmail:a.payload.initialEmail||""}))}return i(a)}return i(a)})),i.default=i.activityLogs}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(172            );let a=!1,r=[],s=[],l=0;const i=6e4,c=3e5;function u(e){const n=e.split(":");return{channel:n[0],timestamp:parseInt(n[1]),generation:parseInt(n[2]),signature:n[3]}}function d(){let e=null,n=null,t=null,r={},l=2e3,i=!0,c=!0;const d=()=>{null!=t&&clearInterval(t),null!=n&&n.close(),t=null,n=null,c=!0},m=()=>{d(),i&&(console.log(`reconnecting to realtime in ${l}ms`),setTimeout(f,l+4e3*Math.random()-1500),l<3e4&&(l*=2))},p=e=>{n&&n.readyState===n.OPEN&&n.send(`tok:${e.channel}:${e.timestamp}:${e.generation}:${e.signature}`)},f=()=>{d();let o="";o="https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`,o+="/api/realtime_v2",o+=`?release_git_tag=${window.INITIAL_OPTIONS&&window.INITIAL_OPTIONS.release_git_tag||""}`,(n=new WebSocket(o)).onopen=(e=>{l=2e3,t=setInterval(()=>{n.send("ping")},3e4+5e3*Math.random()-2500),a&&s.forEach(e=>{setTimeout(e,0)}),a=!0;for(const n in r)p(r[n])}),n.onmessage=(n=>{if("pong"===n.data)return;const t=n.data.substr(0,4);if("tok:"===t){const e=u(n.data.substr(4));return void(r[e.channel]=e)}let o={};if("ouc:"===t){const e=n.data.substr(4).split(":");2!==e.length&&console.warn("Got ouc: command with wrong number of params");for(let n=0;n<2;n++)"null"===e[n]&&(e[n]=null);o={type:"verify_user_state",org_user_count:e[0]&&parseInt(e[0]),org_user_updated:e[1]&&new Date(parseInt(e[1])).toISOString()}}else if("sub:"===t||"uns:"===t){const e=n.data.split(":"),t=e[e.length-1];if("ok"===t)return;if(delete r[e[1]],"expired"!==t)return void console.warn(n.data);if(!c)return;c=!1,o={type:"token_expired"}}else{try{o=JSON.parse(n.data)}catch(a){return void console.warn(`unexpected non-JSON realtime message: ${n.data}`)}null!=o.err&&(console.warn("encountered error message from realtime",o.err),m())}e&&e(o)}),n.onclose=(e=>{n=null,m()})};return o.isRunningInteractionTests()||f(),{disconnect:()=>{i=!1,d(),r={}},setCallback:n=>{e=n},subscribe:e=>{const n=r[e.channel];r[e.channel]=e,n||p(e)},unsubscribe:e=>{delete r[e],(e=>{delete r[e],n&&n.readyState===n.OPEN&&n.send(`uns:${e}`)})(e)}}}var m;n.parseRealtimeToken=u,n.realtimeClient=d(),n.resetRealtimeConnection=function(){n.realtimeClient.disconnect(),n.realtimeClient=d()},n.addReconnectCallback=function(e){r.push(e)},m=function(){l>0||r.forEach(e=>{l+=1,setTimeout(()=>{try{e()}finally{l-=1}},i+Math.random()*(c-i))})},s.push(m)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(106                                     ),n=i(438                                 ),a=i(140                               ),m=i(437                        ),o=i(206                              ),c=i(521           ),r=i(142                     ),l=i(128            );if(!l.livegraphComments){c.addReconnectCallback(function(){const e=r.globalReduxStore,t=e&&e.getState(),i=t&&t.selectedView&&a.editingFileKey(t.selectedView);i&&e.dispatch(n.comments.initCommentsForFile({fileKey:i,openThread:!1}))})}t.default=(e=>t=>(function(i){if(s.fileBrowser.init.matches(i))o.initialize(e);else{if(s.fileBrowser.selectView.matches(i)&&!l.livegraphComments){const s=e.getState(),m=s.selectedView&&a.editingFileKey(s.selectedView),o=t(i),c=e.getState();if(!c.user)return o;const r=a.editingFileKey(c.selectedView);return r&&r!==m&&(e.dispatch(n.comments.reset()),e.dispatch(n.comments.initCommentsForFile({fileKey:r}))),o}if(n.comments.post.matches(i)&&!i.payload.userInitiated){const s=e.getState();let a=i.payload.comment;if(s.user&&a.user_id===s.user.id)if(a.parent_id){let t=s.comments.threads[a.parent_id];t&&t.state===m.CommentState.BUSY&&e.dispatch(n.comments.resetThread({threadId:a.parent_id,resetStatusOnly:!1}))}else{let o=s.comments.newComment;if(o&&o.state===m.CommentState.BUSY){const s=t(i);return e.dispatch(n.comments.setActive({threadId:a.id})),e.dispatch(n.comments.resetNewComment({resetStatusOnly:!1})),s}}}}return t(i)}))}),
(function(o,t,i){o.exports={notInteractive:"tooltip--notInteractive--2q4-q",arrow:"tooltip--arrow--13xfp",upArrow:"tooltip--upArrow--3q67E tooltip--arrow--13xfp",downArrow:"tooltip--downArrow--2_Bdd tooltip--arrow--13xfp",leftArrow:"tooltip--leftArrow--2X3pK tooltip--arrow--13xfp",rightArrow:"tooltip--rightArrow--ZxI4Y tooltip--arrow--13xfp",content:"tooltip--content--3GEna",row:"tooltip--row--1E13k",column:"tooltip--column--2d6NT",interactiveTooltipContainer:"tooltip--interactiveTooltipContainer--3ejwd tooltip--column--2d6NT",viewUserProfile:"tooltip--viewUserProfile--uKWEe tooltip--column--2d6NT text--fontPos11--RSei3 text--_fontBase--YWDo0",handle:"tooltip--handle--38Mq3",tooltipName:"tooltip--tooltipName--qApnf",italicText:"tooltip--italicText--G5cDr",important:"tooltip--important--27cm9",prototypeInfoText:"tooltip--prototypeInfoText--PTCCf",fixPositionInfoText:"tooltip--fixPositionInfoText--2OPlq",prototypeOriginInfoIcon:"tooltip--prototypeOriginInfoIcon--2Kltu",prototypeNoOriginFrameInfoIcon:"tooltip--prototypeNoOriginFrameInfoIcon--1wPvZ",prototypeDestinationInfoIcon:"tooltip--prototypeDestinationInfoIcon--1rGqq",prototypeTransitionInfoIcon:"tooltip--prototypeTransitionInfoIcon--1nNiC",prototypeScrollInfoIcon:"tooltip--prototypeScrollInfoIcon--eX1l8",fixPositionInfoIcon:"tooltip--fixPositionInfoIcon--OEZT6",text:"tooltip--text--3Jl9L",textWithShortcut:"tooltip--textWithShortcut--2r28_",shortcut:"tooltip--shortcut--30dt8"}}),
(function(o,t,r){o.exports={keyboardShortcut:"keyboard_shortcut--keyboardShortcut--27Yeq",keyboardShortcutSpaced:"keyboard_shortcut--keyboardShortcutSpaced--2R7Fj keyboard_shortcut--keyboardShortcut--27Yeq"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3,1    ),a=r(524                      );class c extends s.PureComponent{render(){const e=["⌘","⌥","⇧","⌃"];return s.createElement("span",{className:this.props.className},this.props.shortcut.split("").map(function(t,r){let c=-1!=e.indexOf(t)?a.keyboardShortcutSpaced:a.keyboardShortcut;return s.createElement("span",{key:r,className:c},t)}))}}t.KeyboardShortcut=c,c.displayName="KeyboardShortcut"}),
(function(l,o,e){l.exports={src:'<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M24.95 0h-24v24h24V0z" fill-rule="nonzero" fill-opacity="1" fill="#18a0fb" stroke="none"/><path d="M9.45 6.066L18.353 12l-8.901 5.934V6.066zm1 1.868v8.132L16.55 12l-6.1-4.066z" fill-rule="evenodd" fill-opacity="1" fill="#f8f8f8" stroke="none"/></svg>'}}),
(function(h,v,H){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .5V3h4V.5h1V3h2.5v1H9v4h2.5v1H9v2.5H8V9H4v2.5H3V9H.5V8H3V4H.5V3H3V.5h1zM8 8V4H4v4h4z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,z){h.exports={src:'<svg width="34" height="22" viewBox="0 0 34 22" xmlns="http://www.w3.org/2000/svg"><path d="M1 1V.5H.5V1H1zm19.5 0h.5V.5h-.5V1zm0 20v.5h.5V21h-.5zM1 21H.5v.5H1V21zm32-10l.354.354.374-.375-.396-.353L33 11zM1 1.5h19.5v-1H1v1zm19.5 19H1v1h19.5v-1zm-19 .5V1h-1v20h1zm22-10c0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4h-1zm-3 3c-1.657 0-3-1.343-3-3h-1c0 2.21 1.79 4 4 4v-1zm-3-3c0-1.657 1.343-3 3-3V7c-2.21 0-4 1.79-4 4h1zm3-3c1.657 0 3 1.343 3 3h1c0-2.21-1.79-4-4-4v1zm3.5 3.5h9v-1h-9v1zm8.646-.854l-4.5 4.5.708.708 4.5-4.5-.708-.707zm.686-.02l-4.5-4-.664.748 4.5 4 .664-.748zM20 1v6.5h1V1h-1zm0 13.5V21h1v-6.5h-1z" fill-rule="nonzero" fill-opacity="1" fill="#fcfcfc" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="32" height="29" viewBox="0 0 32 29" xmlns="http://www.w3.org/2000/svg"><path d="M21 6H11v17h10V6zM10 5v19h12V5H10z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M22 24h2.958v-1H22v1zm0-18h2.958V5H22v1zm4.042-1h3.25v1h-3.25V5zm4.333 0H32v1.425h-1V6h-.625V5zM32 7.375v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8V24h-1.625v-1H31v-.425h1zM29.292 24h-3.25v-1h3.25v1z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="29" height="32" viewBox="0 0 29 32" xmlns="http://www.w3.org/2000/svg"><path d="M23 21V11H6v10h17zm1-11H5v12h19V10z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M6 22v2.959H5V22h1zm17 0h1v2.959h-1V22zm1 4.041v3.25h-1v-3.25h1zm0 4.334V32h-1.425v-1H23v-.625h1zM21.625 32h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0H5v-1.625h1V31h.425v1zM5 29.291v-3.25h1v3.25H5z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M28 21V1H1v20h27zm1-21H0v22h29V0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="22" height="29" viewBox="0 0 22 29" xmlns="http://www.w3.org/2000/svg"><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill-opacity="1" fill="#828282" stroke="none"/><path d="M5 4h12v4H5V4zm0 6h12v4H5v-4zm0 6h12v4H5v-4zm0 6h12v4H5v-4z" fill-rule="nonzero" fill-opacity="1" fill="#828282" stroke="none"/><path d="M0 0h22v5H0V0z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=o(3,1    ),a=o(340              ),n=o(433                                ),r=o(411                                        ),s=o(174                        ),l=o(115          ),p=o(164         ),c=o(145         ),d=o(167                                  ),m=o(434                       ),E=o(224                                            ),O=o(523            ),T=o(525                                                    ),_=o(354                            ),u=180,I=a.pxToInt(r.tooltipArrowHeight),h=a.pxToInt(r.tooltipDist),g=1e3,N=300;class f extends i.Component{constructor(t){super(t),this.contentRef=(t=>{if(t){const e=t.cloneNode(!0);e.setAttribute("style","display: block; visibility: hidden; position: fixed"),t.parentElement.appendChild(e);let o,i=this.props.tooltip.maxWidth?this.props.tooltip.maxWidth:u,a=e.offsetHeight+1;const n=this.props.tooltip.target,r=n&&n.kind===m.TargetKind.ELEMENT&&n.data&&n.data.unconstrainWidth;o=r?e.offsetWidth+1:e.offsetWidth+1<i?e.offsetWidth:i,r||(e.style.width=`${o}px`,a=e.offsetHeight+1);const s=this._pointAt();switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:case m.TooltipPosition.BELOW:{this.props.tooltip.position===m.TooltipPosition.ABOVE?s.y-=e.offsetHeight+I:s.y+=I,s.x-=o/2,s.x=Math.max(s.x,h),s.y=Math.max(s.y,h);const t=s.x+o,i=window.innerWidth-h;t>i&&(s.x=i-o);break}case m.TooltipPosition.RIGHT:s.x+=I,s.y-=a/2,s.x=Math.max(s.x,h),s.y=Math.max(s.y,h);break;case m.TooltipPosition.LEFT:s.x-=I+o,s.y-=a/2,s.x=Math.max(s.x,h),s.y=Math.max(s.y,h)}const l=r?o:i;t.setAttribute("style",`left: ${0|s.x}px; top: ${0|s.y}px; max-width: ${l}px`),e.remove()}}),this.renderTargetElement=(t=>{if(t.key===f.USER_INFO){const e=t.data.userImgUrl,o=t.data.userHandle;return i.createElement("div",{className:O.row},i.createElement("div",null,i.createElement(_.Avatar,{size:30,entity:{id:t.data.userId,img_url:e,handle:o}})),i.createElement("span",{className:O.tooltipName},p.truncateText(o,25)))}if(t.key===f.VIEW_USER_PROFILE){const e=t.data.profileUrl,o=t.data.userHandle;return i.createElement("a",{href:e,className:O.viewUserProfile},i.createElement("span",{className:O.handle},o),i.createElement("div",null,"View Profile"))}if(t.key===f.STYLE_INFO){const e=t.data.styleName,o=t.data.styleDescription,a=t.data.styleFileName;return i.createElement("div",{className:O.column},e&&i.createElement("div",null,e),o&&i.createElement("div",null,o),a&&i.createElement("div",{className:O.italicText},"in ",a))}return t.key===f.PROTOTYPE_ORIGIN_INFO?i.createElement("div",{className:O.row},i.createElement(s.Svg,{className:O.prototypeOriginInfoIcon,svg:f.PROTOTYPE_ORIGIN_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:O.prototypeInfoText},"Select the frame your prototype will begin with.")):t.key===f.PROTOTYPE_NO_ORIGIN_FRAME_INFO?i.createElement("div",{className:O.row},i.createElement(s.Svg,{className:O.prototypeNoOriginFrameInfoIcon,svg:f.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"A prototype needs to have at least one frame.")):t.key===f.PROTOTYPE_ACTION_INFO?i.createElement("div",{className:O.row},i.createElement(s.Svg,{className:O.prototypeDestinationInfoIcon,svg:f.PROTOTYPE_ACTION_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"Use the circular node to connect the selected object to another frame.")):t.key===f.PROTOTYPE_SCROLL_HORIZONTAL_INFO||t.key===f.PROTOTYPE_SCROLL_VERTICAL_INFO?i.createElement("div",{className:O.row},i.createElement(s.Svg,{className:O.prototypeScrollInfoIcon,useOriginalSrcFills:!0,svg:t.key===f.PROTOTYPE_SCROLL_HORIZONTAL_INFO?f.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON:f.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON}),i.createElement("span",{className:O.prototypeInfoText},"For scrolling to work on this frame, the content needs to be bigger than the frame.")):t.key===f.SIDEBAR_GUEST_INFO?i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"You are a guest of this organization, so you can only see files and teams you are explicitly invited to."),i.createElement("p",null,i.createElement(E.Link,{href:"https://help.figma.com/hc/en-us/articles/360039957374",target:"_blank",rel:"noopener"},"More info on permissions"))):t.key===f.PERMISSIONS_MODAL_RESTRICTED_USER_SELF?i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"Your account is ",i.createElement("span",{className:O.important},"Restricted"),". You will be able to ",i.createElement("span",{className:O.important},"Edit")," when your account is upgraded."),i.createElement("p",null,i.createElement(E.Link,{href:"/settings"},"Request Upgrade..."))):t.key===f.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER?i.createElement("div",{className:O.interactiveTooltipContainer},i.createElement("p",null,"This person has a ",i.createElement("span",{className:O.important},"Restricted")," account. They will be able to ",i.createElement("span",{className:O.important},"Edit")," files when their account is upgraded.")):t.key===f.FIX_POSITION_INFO?i.createElement("div",{className:O.row},i.createElement(s.Svg,{className:O.fixPositionInfoIcon,svg:f.FIX_POSITION_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:O.fixPositionInfoText},"Keep the object in place when scrolling in prototypes.")):i.createElement("div",null)}),this.renderContent=(()=>{let t=this.props.tooltip;if(!t.target)return i.createElement("div",null);switch(t.target.kind){case m.TargetKind.TEXT:return i.createElement("span",{className:O.text},t.target.text);case m.TargetKind.KEY:const e=d.getString(this.props.strings,p.camelCasedToDashed(t.target.key)),o=d.getKeyboardShortcut(this.props.keyboardShortcuts,p.camelCasedToDashed(t.target.key));return o?i.createElement("span",{className:O.textWithShortcut},i.createElement("span",null,e),i.createElement(T.KeyboardShortcut,{shortcut:o,className:O.shortcut})):i.createElement("span",{className:O.text},e);case m.TargetKind.ELEMENT:return this.renderTargetElement(t.target)}})}_pointAt(){const t=this.props.tooltip.targetRect;if(!t)return new c.Vector(0,0);switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:return new c.Vector(t.left+t.width/2,t.top);case m.TooltipPosition.BELOW:return new c.Vector(t.left+t.width/2,t.bottom);case m.TooltipPosition.RIGHT:return new c.Vector(t.right,t.top+t.height/2);case m.TooltipPosition.LEFT:return new c.Vector(t.left,t.top+t.height/2)}}render(){if(this.props.tooltip.state!==m.TooltipState.SHOWING)return i.createElement("div",null);const t=Math.random();let e,o=null,a=this._pointAt();switch(this.props.tooltip.position){case m.TooltipPosition.ABOVE:o={left:a.x-I,top:Math.floor(a.y-I)},e=O.downArrow;break;case m.TooltipPosition.BELOW:o={left:a.x-I,top:a.y},e=O.upArrow;break;case m.TooltipPosition.RIGHT:o={left:a.x,top:a.y-I},e=O.leftArrow;break;case m.TooltipPosition.LEFT:o={left:a.x-I-1,top:a.y-I},e=O.rightArrow}return i.createElement("div",{className:this.props.tooltip.interactive?"":O.notInteractive},i.createElement("div",{className:e,style:o,"data-is-the-tooltip":!0}),i.createElement("div",{key:t,className:O.content,ref:this.contentRef,"data-is-the-tooltip":!0},this.renderContent()))}}function R(t,e){const o=e.getAttribute("data-tooltip-proxy-element-id");if(o){const t=document.getElementById(o);t&&(e=t)}if(e.getAttribute("data-is-the-tooltip"))return t.tooltip?{target:t.tooltip.target,position:t.tooltip.position,targetRect:t.tooltip.targetRect}:null;const i=(t,e)=>t?~~t:e;let a=!!e.getAttribute("data-tooltip-show-immediately"),n=!!e.getAttribute("data-tooltip-show-above"),r=i(e.getAttribute("data-tooltip-timeout-delay"),g),s=!!e.getAttribute("data-tooltip-interactive"),p=!!e.getAttribute("data-tooltip-show-left"),c=i(e.getAttribute("data-tooltip-max-width"),u);const d=i(e.getAttribute("data-tooltip-offset-x"),0),E=i(e.getAttribute("data-tooltip-offset-y"),0);let O=null;function T(){return null==O&&((O=l.figmaClientRect(e.getBoundingClientRect())).left+=d,O.right+=d,O.bottom+=E,O.top+=E),O}if(t.dropdownShown){let t=e.getAttribute("data-dropdown-tooltip");if(t){const e=T();let o=m.TooltipPosition.RIGHT;const i=200;return(p||e.left+e.width>window.innerWidth-i)&&(o=m.TooltipPosition.LEFT),{target:{kind:m.TargetKind.KEY,key:t},position:o,targetRect:e,timeoutDelay:r,showImmediately:a,interactive:s,maxWidth:c}}}else{let t=e.getAttribute("data-tooltip");if(t){const e=T();let o=m.TooltipPosition.BELOW;return p?o=m.TooltipPosition.LEFT:(n||window.innerHeight-e.bottom<100)&&(o=m.TooltipPosition.ABOVE),{target:{kind:m.TargetKind.KEY,key:t},position:o,targetRect:e,timeoutDelay:r,showImmediately:a,interactive:s,maxWidth:c}}let o=e.getAttribute("data-tooltip-text");if(o){const t=T();return{target:{kind:m.TargetKind.TEXT,text:o},position:p?m.TooltipPosition.LEFT:n?m.TooltipPosition.ABOVE:m.TooltipPosition.BELOW,targetRect:t,timeoutDelay:r,showImmediately:a,interactive:s,maxWidth:c}}const i=e.getAttribute("data-tooltip-content-key");if(i){let t={kind:m.TargetKind.ELEMENT,key:i};if(i===f.USER_INFO){const o=e.getAttribute("data-tooltip-user-img-url"),a=e.getAttribute("data-tooltip-user-handle"),n="true"===e.getAttribute("data-tooltip-unconstrain-width");t={kind:m.TargetKind.ELEMENT,key:i,data:{userImgUrl:o,userHandle:a,unconstrainWidth:n}}}else if(i===f.VIEW_USER_PROFILE){const o=e.getAttribute("data-tooltip-user-profile-url"),a=e.getAttribute("data-tooltip-user-handle"),n="true"===e.getAttribute("data-tooltip-unconstrain-width");t={kind:m.TargetKind.ELEMENT,key:i,data:{profileUrl:o,userHandle:a,unconstrainWidth:n}}}else if(i===f.STYLE_INFO){const o=e.getAttribute("data-tooltip-style-name"),a=e.getAttribute("data-tooltip-style-description"),n=e.getAttribute("data-tooltip-style-file-name"),r="true"===e.getAttribute("data-tooltip-unconstrain-width");t={kind:m.TargetKind.ELEMENT,key:i,data:{styleName:o,styleDescription:a,styleFileName:n,unconstrainWidth:r}}}else-1!==[f.PROTOTYPE_ORIGIN_INFO,f.PROTOTYPE_ACTION_INFO,f.PROTOTYPE_SCROLL_HORIZONTAL_INFO,f.PROTOTYPE_SCROLL_VERTICAL_INFO,f.SIDEBAR_GUEST_INFO,f.PERMISSIONS_MODAL_RESTRICTED_USER_SELF,f.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER,f.FIX_POSITION_INFO].indexOf(i)&&(t={kind:m.TargetKind.ELEMENT,key:i,data:{unconstrainWidth:!0}});const o=T();return{target:t,position:p?m.TooltipPosition.LEFT:n?m.TooltipPosition.ABOVE:m.TooltipPosition.BELOW,targetRect:o,timeoutDelay:r,showImmediately:a,interactive:s,maxWidth:c}}}return null}e.TooltipView=f,f.displayName="TooltipView",f.USER_INFO="tooltip-user-info",f.VIEW_USER_PROFILE="tooltip-view-user-profile",f.STYLE_INFO="tooltip-style-info",f.PROTOTYPE_ORIGIN_INFO="tooltip-prototype-origin-info",f.PROTOTYPE_NO_ORIGIN_FRAME_INFO="tooltip-prototype-no-origin-frame-info",f.PROTOTYPE_ACTION_INFO="tooltip-prototype-destination-info",f.PROTOTYPE_SCROLL_HORIZONTAL_INFO="tooltip-prototype-scroll-horizontal-info",f.PROTOTYPE_SCROLL_VERTICAL_INFO="tooltip-prototype-scroll-vertical-info",f.SIDEBAR_GUEST_INFO="tooltip-sidebar-guest-info",f.PERMISSIONS_MODAL_RESTRICTED_USER_SELF="tooltip-permissions-modal-restricted-user-self",f.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER="tooltip-permissions-modal-restricted-user-other",f.FIX_POSITION_INFO="tooltip-fix-position-info",f.PROTOTYPE_ORIGIN_INFO_ICON=o(526                                                ),f.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON=o(527                                            ),f.PROTOTYPE_ACTION_INFO_ICON=o(528                                                                    ),f.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON=o(529                                                                     ),f.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON=o(530                                                                   ),f.FIX_POSITION_INFO_ICON=o(531                                                                ),e.initializeTooltipListener=function(t){const e=()=>{const e=t.getState().tooltip;return e.state===m.TooltipState.SHOWING||e.state===m.TooltipState.PENDING};document.addEventListener("mouseleave",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("keydown",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("wheel",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("pointerlockchange",()=>{e()&&t.dispatch(n.tooltip.hide())}),document.addEventListener("mousemove",e=>{let o=t.getState(),i=e.target;if(!i||1!==i.nodeType)return;if(document.pointerLockElement)return;let a=null;for(;i&&!(a=R(o,i));)i=i.parentElement;o.tooltip&&(a?a.position===o.tooltip.position&&l.clientRectsEqual(a.targetRect,o.tooltip.targetRect)?o.tooltip.state===m.TooltipState.SHOWING&&null!==o.tooltip.timeoutID&&t.dispatch(n.tooltip.cancelHideAfterDelay()):o.tooltip.state===m.TooltipState.SHOWING||a.showImmediately?t.dispatch(n.tooltip.showImmediately({target:a.target,targetRect:a.targetRect,position:a.position,interactive:a.interactive,maxWidth:a.maxWidth})):t.dispatch(n.tooltip.showAfterDelay({target:a.target,targetRect:a.targetRect,position:a.position,timeoutDelay:a.timeoutDelay||g,interactive:a.interactive,maxWidth:a.maxWidth})):o.tooltip.state===m.TooltipState.PENDING?t.dispatch(n.tooltip.hide()):o.tooltip.state===m.TooltipState.SHOWING&&t.dispatch(n.tooltip.hideAfterDelay({timeoutDelay:N})))},!0)}}),
(function(e,t,i){e.exports={styleIcon:"style_icon--styleIcon--3-PzQ",image:"style_icon--image--1eP8e",listImage:"style_icon--listImage--rgLLM style_icon--image--1eP8e",bitmapImage:"style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",bitmapListImage:"style_icon--bitmapListImage--27lkv style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",checkerboardBackground:"style_icon--checkerboardBackground--2UCiq",fillIcon:"style_icon--fillIcon--2kZ-_",selectedWithOutline:"style_icon--selectedWithOutline--IJmJK",selectedWithBackground:"style_icon--selectedWithBackground--3z5DF",imageWithBorder:"style_icon--imageWithBorder--1QlF1",selectedOutline:"style_icon--selectedOutline---dYHC style_icon--styleIcon--3-PzQ",strokeMask:"style_icon--strokeMask--3UZKg",alpha:"style_icon--alpha--2aRKm",strokeMaskWithBorder:"style_icon--strokeMaskWithBorder--2CfCI",styleChit:"style_icon--styleChit--1lHkA chit--chit--1bkYY",chitAlpha:"style_icon--chitAlpha--2LkJS chit--chitAlpha--HA8gA",chitWithBorder:"style_icon--chitWithBorder--gdfCT chit--chitWithBorder--pt2ch",failedStyleChit:"style_icon--failedStyleChit--2Cvvo",failedThumb:"style_icon--failedThumb--38_4t",failedTextThumb:"style_icon--failedTextThumb--1lgGi style_icon--failedThumb--38_4t",failedFillThumb:"style_icon--failedFillThumb---3JnL style_icon--failedThumb--38_4t",failedPropertyThumb:"style_icon--failedPropertyThumb--3sh30 style_icon--failedThumb--38_4t"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),a=s(174         );t.SvgWithFallback=class extends i.PureComponent{constructor(e){super(e),this.mediaQueryList=null,this.onMediaQueryListChange=(e=>{this.setState({matches:e.matches})}),this.mediaQueryList=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 2), screen and (min-resolution: 2dppx)"),this.mediaQueryList.addListener(this.onMediaQueryListChange),this.state={matches:this.mediaQueryList.matches}}componentWillUnmount(){this.mediaQueryList&&this.mediaQueryList.removeListener(this.onMediaQueryListChange)}render(){const e=Object.assign({},this.props);return delete e.fallbackSvg,this.props.fallbackSvg?(delete e.svg,i.createElement(a.Svg,Object.assign({svg:this.state.matches?this.props.svg:this.props.fallbackSvg},e))):i.createElement(a.Svg,Object.assign({},e))}}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3,1    );class i extends r.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.reload=(()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()}),this.updateRequestTime=(()=>{const e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})})}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){const{delayMultiplier:e=10}=this.props,t=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*t)}getSrc(){return null===this.state.requestNumber?this.props.src:`${this.props.src}?requestNumber=${this.state.requestNumber}`}imgProps(){let e=Object.assign({},this.props);return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return r.createElement("img",Object.assign({},this.imgProps(),{src:this.getSrc(),onError:this.reload}))}}t.ReloadingImage=i,i.displayName="ReloadingImage"}),
(function(e,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=l(3,1    ),t=l(44,1         ),o=l(161                                                  ),i=l(155                       ),r=l(147                       ),s=l(535                                                                 );var m,c;!function(e){class n extends a.PureComponent{fetchThumbnailUrl(){const e=this.props.component.node_id;requestAnimationFrame(()=>{if(!e)return;const n=i.getThumbnailUrlForComponent(e);null!=n&&this.props.updateThumbnails([{nodeId:e,url:n,type:r.LibraryItemType.COMPONENT}])})}shouldFetchThumbnail(){const{component:e,localThumbnail:n}=this.props;return!!this.props.shouldFetch&&(!!e.isLocal&&(!n||(e.content_hash!==n.content_hash||n.url===e.thumbnail_url)))}render(){const{component:e,className:n,localThumbnail:l}=this.props;this.shouldFetchThumbnail()&&this.fetchThumbnailUrl();const t=l&&i.isValidThumbnailUrl(l.url)?l.url:e.thumbnail_url;return a.createElement(s.ReloadingImage,{className:n,src:t})}}n.displayName="ComponentImage";const l={updateThumbnails:o.libraryThumbnail.updateThumbnails};e.ConnectedComponentImageContainer=t.connect((e,n)=>({localThumbnail:n.component.node_id&&e.library.local.thumbnails[n.component.node_id]||null}),l)(n)}(m||(m={})),n.ComponentImageContainer=m.ConnectedComponentImageContainer,function(e){class n extends a.PureComponent{render(){const{className:e,failedImage:n,localThumbnail:l,style:t}=this.props,o=l&&l.url,r=i.isValidThumbnailUrl(o)&&o||i.isValidThumbnailUrl(t.thumbnail_url)&&t.thumbnail_url||void 0;return r?a.createElement("img",{draggable:!1,className:e,src:r}):n}}n.displayName="StyleImage";e.ConnectedStyleImage=t.connect((e,n)=>({localThumbnail:n.style.node_id&&e.library.local.thumbnails[n.style.node_id]||null}))(n)}(c||(c={})),n.StyleImageContainer=c.ConnectedStyleImage}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ColorFormatter=class{constructor(){this.normalize=(t=>t/255),this.normalize255=(t=>Math.round(255*t)),this.defaultSelection=(t=>this.getSelection(t,{r:!0,g:!0,b:!0})),this.increment=((t,e,i,r)=>{const n=Object.assign({},t);let s=i?this.normalize(10):this.normalize(1);s=e?-s:s;let o=i?.1:.01;return o=e?-o:o,r&&(r.r&&(n.r+=s),r.g&&(n.g+=s),r.b&&(n.b+=s),r.a&&(n.a+=o)),n}),this.clamp=(t=>{const e=Object.assign({},t);for(let i in t){let r=i;e[r]=Math.min(t[r],1),e[r]=Math.max(e[r],0)}return e})}}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(537                );e.ColorCSSFormatter=class extends s.ColorFormatter{constructor(){super(...arguments),this.parse=(t=>{const e=/([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)/.exec(t);if(!e)throw new Error("Could not parse CSS");const r=this.normalize(parseFloat(e[1])),s=this.normalize(parseFloat(e[2])),o=this.normalize(parseFloat(e[3])),n=e[4];let a=1;if(n&&n.length&&(a=parseFloat(n)),[r,s,o,a].some(t=>isNaN(t)))throw new Error("Could not parse CSS");return{r:r,g:s,b:o,a:a}}),this.format=(t=>null==t?"":`rgba(${this.normalize255(t.r)}, ${this.normalize255(t.g)}, ${this.normalize255(t.b)}, ${parseFloat(t.a.toFixed(4))})`),this.getIncrementTargets=((t,e)=>{const{start:r,end:s}=e,o=r===s,n=this.format(this.parse(t)),a=n.indexOf(","),i=n.indexOf(",",a+1),l=n.indexOf(",",i+1),d={};return(r<=a||o&&r===a+1)&&(d.r=!0),(r<=i&&s>a+1||o&&r===i+1)&&(d.g=!0),(r<=l&&s>i+1||o&&r===l+1)&&(d.b=!0),!(d.r||d.g||d.b)&&s>l+1&&(d.a=!0),d}),this.getSelection=((t,e)=>{const r=t.indexOf("("),s=t.indexOf(","),o=t.indexOf(",",s+1),n=t.indexOf(",",o+1),a=t.indexOf(")");if(e.a)return{start:n+2,end:a};let i=r,l=r;return{start:i=e.r?r+1:e.g?s+2:o+2,end:l=e.b?n:e.g?o:s}})}}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-6.738-1.817C6.817 19.2 9.256 20.5 12 20.5c2.743 0 5.183-1.3 6.738-3.317l.792.61C17.793 20.047 15.066 21.5 12 21.5c-3.066 0-5.793-1.453-7.53-3.707l.792-.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm6.738-12.183C17.183 4.8 14.743 3.5 12 3.5c-2.744 0-5.183 1.3-6.738 3.317l-.792-.61C6.207 3.953 8.934 2.5 12 2.5c3.066 0 5.793 1.453 7.53 3.707l-.792.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm5.183-13.738C19.2 6.817 20.5 9.257 20.5 12c0 2.744-1.3 5.183-3.317 6.738l.61.792C20.047 17.793 21.5 15.066 21.5 12c0-3.066-1.453-5.793-3.707-7.53l-.61.792z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-1.1 1.43c.36.046.727.07 1.1.07 4.695 0 8.5-3.806 8.5-8.5 0-.373-.024-.74-.07-1.1l.991-.129c.052.402.079.813.079 1.229 0 5.247-4.253 9.5-9.5 9.5-.416 0-.827-.027-1.229-.079l.13-.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM10.9 3.57c.36-.046.727-.07 1.1-.07 4.694 0 8.5 3.806 8.5 8.5 0 .373-.024.74-.07 1.1l.991.129c.052-.402.079-.813.079-1.229 0-5.247-4.253-9.5-9.5-9.5-.416 0-.826.027-1.229.079l.13.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM6.817 5.262C4.8 6.817 3.5 9.257 3.5 12c0 2.743 1.3 5.183 3.317 6.738l-.61.792C3.954 17.793 2.5 15.066 2.5 12c0-3.066 1.453-5.793 3.708-7.53l.61.792z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-8.43-8.1c-.046.36-.07.727-.07 1.1 0 4.695 3.806 8.5 8.5 8.5.373 0 .74-.024 1.1-.07l.129.991c-.403.052-.813.079-1.229.079-5.247 0-9.5-4.253-9.5-9.5 0-.416.027-.827.079-1.229l.992.13z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm1.1-15.43c-.36-.046-.727-.07-1.1-.07-4.694 0-8.5 3.806-8.5 8.5 0 .373.024.74.07 1.1l-.991.129C2.527 12.827 2.5 12.416 2.5 12c0-5.247 4.253-9.5 9.5-9.5.416 0 .827.027 1.229.079l-.13.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM8.433 9.256C9.256 8.188 10.548 7.5 12 7.5c1.452 0 2.744.688 3.567 1.756l.793-.61C15.354 7.341 13.775 6.5 12 6.5c-1.775 0-3.354.841-4.36 2.146l.793.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-3.567-5.256C9.256 15.812 10.548 16.5 12 16.5c1.452 0 2.744-.688 3.567-1.756l.793.61C15.354 16.659 13.775 17.5 12 17.5c-1.775 0-3.354-.841-4.36-2.146l.793-.61z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-2.744-4.433C8.188 14.744 7.5 13.453 7.5 12c0-1.452.688-2.744 1.756-3.567l-.61-.793C7.341 8.646 6.5 10.225 6.5 12c0 1.775.841 3.354 2.146 4.36l.61-.793z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-7.418c-.024-.19-.037-.385-.037-.582 0-2.485 2.015-4.5 4.5-4.5.197 0 .391.013.582.037l.13-.991c-.233-.03-.471-.046-.712-.046-3.038 0-5.5 2.462-5.5 5.5 0 .241.016.479.046.711l.991-.129z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-8.582c-.024.19-.037.385-.037.582 0 2.485 2.015 4.5 4.5 4.5.197 0 .391-.013.582-.037l.13.991c-.233.03-.471.046-.712.046-3.038 0-5.5-2.462-5.5-5.5 0-.241.016-.479.046-.711l.991.129z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm2.744-4.433l.61.793C16.659 15.354 17.5 13.775 17.5 12c0-1.775-.841-3.354-2.146-4.36l-.61.793C15.812 9.256 16.5 10.548 16.5 12c0 1.453-.688 2.744-1.756 3.567z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-12.463c.19-.024.385-.037.582-.037 2.485 0 4.5 2.015 4.5 4.5 0 .197-.013.392-.037.582l.991.13c.03-.233.046-.47.046-.712 0-3.038-2.462-5.5-5.5-5.5-.241 0-.479.016-.711.046l.129.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-3.537c.19.024.385.037.582.037 2.485 0 4.5-2.015 4.5-4.5 0-.197-.013-.392-.037-.582l.991-.13c.03.233.046.47.046.712 0 3.038-2.462 5.5-5.5 5.5-.241 0-.479-.015-.711-.046l.129-.991z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,z,c){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M17.29 7.416c-.218-.252-.454-.488-.706-.707l-1.938 1.938.707.707 1.938-1.938zm-3.288-2.125c.353.105.694.237 1.02.393l-1.168 1.17-.707-.708.855-.855zm-3.998-.002c.541-.161 1.11-.258 1.697-.283L8.854 7.854l-.708-.708 1.858-1.857zM5.006 11.7c.025-.587.122-1.156.283-1.697l1.857-1.858.708.708L5.006 11.7zm.679 3.322c-.157-.327-.29-.668-.394-1.02l.855-.857.708.708-1.17 1.169zm1.731 2.268c-.252-.219-.488-.455-.707-.707l.937-.938.708.708-.938.937zm2.582 1.418c-.353-.105-.694-.237-1.02-.393l2.668-2.67.707.708-2.355 2.355zm3.998.002c-.541.161-1.11.258-1.697.283l2.847-2.848.707.708-1.857 1.857zm4.998-6.412c-.025.587-.122 1.156-.282 1.697l-1.858 1.858-.707-.707 2.847-2.848zm-.678-3.322c.157.327.289.668.393 1.02l-2.355 2.357-.707-.707 2.669-2.67zm-6.17-1.83l.707.707-2 2-.707-.708 2-2zm-3 3l.708.707-2 2-.708-.707 2-2zm4.207 5.207l-.707-.707 2-2 .707.707-2 2zm.293-5.708l-2 2 .707.708 2-2-.707-.708zm-5 5l2-2 .707.708-2 2-.707-.707z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,z,m){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.478 4.815L6.646 6.646l.708.708 3.228-3.229c-.742.133-1.448.368-2.104.69zm4.725-.725l-2.556 2.556.707.708 3-3.002c-.372-.115-.757-.203-1.15-.262zm2.937 1.063l-1.494 1.493.708.708 1.62-1.62c-.265-.21-.544-.405-.834-.58zm2.126 1.873l-2.62 2.62.708.708 2.493-2.494c-.176-.29-.37-.569-.58-.834zm1.382 2.62l-3.002 3 .708.708 2.556-2.557c-.06-.394-.148-.779-.262-1.152zm.227 3.772l-2.229 2.229.708.707.83-.832c.323-.656.558-1.362.69-2.104zm-4.353 5.767l1.832-1.831-.708-.707-3.228 3.228c.742-.133 1.448-.368 2.104-.69zm-4.725.725l2.556-2.556-.707-.707-3 3c.372.116.757.204 1.15.263zM7.86 18.847l1.494-1.493-.708-.707-1.62 1.62c.265.21.544.404.834.58zm-2.126-1.873l2.12-2.12-.708-.707-1.993 1.993c.176.29.37.569.58.834zm-1.382-2.62l3.002-3-.708-.707-2.556 2.556c.06.394.148.779.262 1.152zm-.227-3.772l2.229-2.228-.708-.708-.83.832c-.323.656-.558 1.362-.69 2.104zm9.729-1.728l-.707-.708-2 2 .707.708 2-2zm-3.707 2.293l-2 2 .707.707 2-2-.707-.707zm3.5 4.5l.707.707 2-2-.708-.707-2 2zm-1-3l2-2 .707.707-2 2-.707-.707zm-1 1l-2 2 .707.707 2-2-.707-.707zm-2-6l-2 2 .707.707 2-2-.708-.708z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.5.5h-1v3h1v-3zM3.05 2.343l-.707.707 2.122 2.122.707-.708-2.122-2.12zm10.607.707l-.707-.707-2.121 2.121.707.708 2.121-2.122zM.5 7.5v1h3v-1h-3zm12 0v1h3v-1h-3zm-7.328 4.036l-.707-.708-2.122 2.122.707.707 2.122-2.121zm6.363-.708l-.707.708 2.122 2.12.707-.706-2.122-2.122zM8.5 12.5h-1v3h1v-3z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M10.498 7.998c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5zm-1 0c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,v){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .5V0H7v3h1V.5zM2.904 2.197l-.354-.354-.707.707.354.354L3.61 4.318l.354.354.707-.708-.354-.353-1.414-1.414zm9.9.707l.353-.354-.707-.707-.354.354-1.414 1.414-.354.353.708.708.353-.354 1.414-1.414zM.5 7H0v1h3V7H.5zm12 0H12v1h3V7h-2.5zm-8.182 4.39l.354-.354-.707-.708-.354.354-1.414 1.414-.354.354.707.707.354-.354 1.414-1.414zm7.071-.708l-.354-.354-.707.708.354.353 1.414 1.414.354.354.707-.707-.354-.354-1.414-1.414zM8 12.5V12H7v3h1v-2.5zm.998-5.002c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5zm1 0c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,h){o.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M15 0v3H0V0h15zm0 6v3H0V6h15zm0 6v3H0v-3h15z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,o,t){h.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v15H0V0zm6 0h3v15H6V0zm6 0h3v15h-3V0z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,z){h.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v3H0V0zm6 0h3v3H6V0zm6 0h3v3h-3V0zM0 6h3v3H0V6zm6 0h3v3H6V6zm6 0h3v3h-3V6zM0 12h3v3H0v-3zm6 0h3v3H6v-3zm6 0h3v3h-3v-3z" fill-rule="nonzero" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(h,o,t){h.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M7 16h2.5v-1h-2V1h5v3h1V0H.5v4h1V1h5v14h-2v1H7z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),l=t(172              ),i=t(532                              ),r=t(533               ),n=t(154                                      ),o=t(174                        ),p=t(534                                                    ),c=t(536                                                    ),m=new(t(538                                       ).ColorCSSFormatter),g=t(539                                                           ),f=t(540                                                              ),h=t(541                                                           ),u=t(542                                                           ),d=t(543                                                              ),_=t(544                                                              ),y=t(545                                                              ),v=t(546                                                                 ),b=t(547                                                            ),N=t(548                                                               ),S=t(549                                                            ),E=t(550                                                            ),C=t(551                                                               ),T=t(552                                                               ),k=t(553                                                               ),w=t(554                                                                  ),I=t(555                                                    ),F=t(556                                                       ),$=t(557                                                 ),L=t(558                                                   ),D={INNER_SHADOW:{"01":b,"0-1":N,10:S,11:E,"1-1":C,"-10":T,"-11":k,"-1-1":w},DROP_SHADOW:{"01":g,"0-1":f,10:h,11:u,"1-1":d,"-10":_,"-11":y,"-1-1":v}},M=t(559                                                  ),O=t(560                                                     ),P=t(561                                                      ),x=P,W=t(562                                                        );class B extends a.PureComponent{render(){return"TEXT"===this.props.styleType?a.createElement("div",{className:r.failedTextThumb},a.createElement(o.Svg,{svg:W})):"EFFECT"===this.props.styleType?a.createElement("div",{className:r.failedPropertyThumb},a.createElement(p.SvgWithFallback,{svg:$,fallbackSvg:L})):"FILL"===this.props.styleType?a.createElement("div",{className:r.failedFillThumb},"?"):a.createElement("div",{className:r.failedThumb},"?")}}s.FailedThumb=B,B.displayName="FailedThumb";class R extends l.PureComponent{constructor(){super(...arguments),this.onMouseDown=l.mouseEvent(this,"mousedown",e=>{if(e.stopPropagation(),!this.props.onMouseDown)return l.SKIP_RECORDING;this.props.onMouseDown()})}render(){let e=r.styleChit;this.props.className&&(e+=` ${this.props.className}`);const s=a.createElement("div",{className:r.failedStyleChit},"?"),t=n.validCssThumbnail(this.props.style);if(t&&"FILL"===t.type){const s=A(t);if(s){const t=m.format(s);return n.shouldUseBorderForBackgroundWithAlpha(s,s.a)&&(e+=` ${r.chitWithBorder}`),a.createElement("div",{className:e,onMouseDown:this.onMouseDown,style:{backgroundColor:t}},a.createElement("div",{className:r.chitAlpha,style:{opacity:1-s.a}}))}}return a.createElement("div",{className:e,onMouseDown:this.props.onMouseDown},a.createElement(c.StyleImageContainer,{failedImage:s,style:this.props.style}))}}function A(e){if("FILL"!==e.type)return null;const s=e.fillPaints;if(!s||1!==s.length)return null;const t=s[0];return"SOLID"!==t.type||null==t.color||null==t.opacity?null:Object.assign(Object.assign({},t.color),{a:t.opacity})}s.FillStyleChit=R,R.displayName="FillStyleChit",s.solidColorStyleThumbnail=A,s.canRenderStyleThumbnail=function(e){return!!A(e)};class G extends a.Component{render(){const e=m.format(this.props.color);let s=this.props.inList?r.listImage:r.image,t=r.strokeMask;n.shouldUseBorderForBackgroundWithAlpha(this.props.color,this.props.color.a)&&(s+=` ${r.imageWithBorder}`,t+=` ${r.strokeMaskWithBorder}`);let l=null;this.props.maskIconForStroke&&(l=a.createElement("div",{className:t})),this.props.className&&(s+=` ${this.props.className}`);let i=null;return this.props.color.a<1&&(i=a.createElement("div",{className:`${r.alpha} ${s}`,style:{opacity:1-this.props.color.a}})),a.createElement("div",null,a.createElement("div",{className:s,style:{backgroundColor:e}}),i,l)}}G.displayName="SolidColorCSSThumbnail";class U extends a.Component{render(){const e=this.props.styleThumbnail.effects;if(!e||0===e.length)return a.createElement("div",{className:r.failedPropertyThumb},a.createElement(p.SvgWithFallback,{svg:$,fallbackSvg:L}));let s=void 0,t=void 0;if(1===e.length){const t=e[0];if(t.type)if("FOREGROUND_BLUR"===t.type)s=F;else if("BACKGROUND_BLUR"===t.type)s=I;else if(t.offset){s=D[t.type][`${Math.sign(t.offset.x)}${Math.sign(t.offset.y)}`]}}return s||(s=$,t=L),s?a.createElement("div",{className:`${r.image} ${this.props.className||""}`},a.createElement(p.SvgWithFallback,{svg:s,fallbackSvg:t})):a.createElement("div",{className:`${r.failedPropertyThumb} ${this.props.className||""}`},a.createElement(p.SvgWithFallback,{svg:$,fallbackSvg:L}))}}U.displayName="EffectCSSThumbnail";class j extends a.Component{render(){const e=this.props.styleThumbnail.layoutGrids;if(!e||0===e.length)return a.createElement("div",{className:r.failedPropertyThumb},a.createElement(o.Svg,{svg:x}));let s=P;if(1===e.length){const t=e[0];"STRIPES"===t.pattern&&(s="Y"===t.axis?M:O)}return s?a.createElement("div",{className:`${r.image} ${this.props.className||""}`},a.createElement(o.Svg,{svg:s})):a.createElement("div",{className:`${r.failedPropertyThumb} ${this.props.className||""}`},a.createElement(o.Svg,{svg:x}))}}j.displayName="GridCSSThumbnail";class H extends a.PureComponent{getCSSThumbnail(e){switch((e=e||{type:"INVALID"}).type){case"FILL":{const s=A(e);return s?a.createElement(G,{maskIconForStroke:this.props.maskIconForStroke,color:s,inList:this.props.inList,className:this.props.thumbnailClassName}):null}case"EFFECT":return a.createElement(U,{styleThumbnail:e,className:this.props.thumbnailClassName});case"GRID":return a.createElement(j,{styleThumbnail:e,className:this.props.thumbnailClassName})}return null}getImageThumbnail(e){let s=this.props.inList?r.bitmapListImage:r.bitmapImage;"FILL"===e.style_type&&(s+=` ${r.checkerboardBackground}`),this.props.className&&(s+=` ${this.props.thumbnailClassName}`);const t=a.createElement("div",{className:`${r.image} ${this.props.thumbnailClassName||""}`},a.createElement(B,{styleType:e.style_type}));return a.createElement(c.StyleImageContainer,{className:s,failedImage:t,style:e})}render(){const e=this.props.style.style_type,s=this.props.showTooltip&&this.props.style.name?i.TooltipView.STYLE_INFO:"";let t=r.styleIcon;this.props.className&&(t+=` ${this.props.className}`),"FILL"===e&&(t+=` ${r.fillIcon}`),"background"===this.props.selectedState&&(t+=` ${r.selectedWithBackground}`),"outline"===this.props.selectedState&&(t+=` ${r.selectedWithOutline}`);let l=null;if(n.cssThumbnailMaybeSupported(this.props.style.style_type)){const e=n.validCssThumbnail(this.props.style);e&&(l=this.getCSSThumbnail(e))}let o=null;return l||(l=this.getImageThumbnail(this.props.style),this.props.maskIconForStroke&&(o=a.createElement("div",{className:r.strokeMask}))),a.createElement("div",{className:t,"data-tooltip-content-key":s,"data-tooltip-style-name":this.props.style.name,"data-tooltip-style-description":this.props.style.description,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown,onDoubleClick:this.props.onDoubleClick},l,o,"outline"===this.props.selectedState?a.createElement("div",{className:`${r.selectedOutline} ${this.props.selectedOutlineClassName||""}`}):null)}}s.StyleIcon=H,H.displayName="StyleIcon"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=t(413                                     ),r=t(137                             ),l=t(138                                   ),s=t(106                                     ),n=t(131                                        ),c=t(161                                                  ),o=t(402                                        ),y=t(231                                              ),p=t(231                                              ),b=t(124     ),d=t(200         ),m=t(163                               ),u=t(432                       ),h=t(141                ),f=t(414                            ),g=t(147                       ),_=t(162                            ),T=t(87                      ),S=t(192                            ),L=t(111                        ),I=t(155                       ),w=t(154                               ),E=t(563                                                                 );function O(e,a,t){const i=a.style_type,r=e[a.node_id]||{},l=!(w.cssThumbnailDefinitelySupported(i)||r.content_hash===a.content_hash&&r.url&&r.url!==I.LOADING_THUMBNAIL),s=w.cssThumbnailMaybeSupported(i)&&(r.content_hash!==a.content_hash||w.hasInvalidCssThumbnail(a));if(l||s){let e=r.url,i=a.meta?a.meta.style_thumbnail:null,n=!1;if(s&&(i=I.getStyleThumbnailForCSSRendering(a.node_id,a.style_type)),l)if(i&&E.canRenderStyleThumbnail(i))e="";else{if(t)return{item:null,wasExpensive:!0};e=I.getThumbnailUrlForStyle(a.node_id,a.style_type),n=!0}return{item:{nodeId:a.node_id,url:e,styleThumbnail:i,type:g.LibraryItemType.STYLE},wasExpensive:n}}return{item:null,wasExpensive:!1}}a.default=(e=>a=>(function(t){if(s.fileBrowser.hydrate.matches(t))return a(t),void e.dispatch(n.library.getLibraryState({}));if(n.library.updateComponentsForResource.matches(t)){let i,r;const l=t.payload.resourceIdOrKey;switch(t.payload.resourceType){case T.ResourceType.FILE:r="files";break;case T.ResourceType.FOLDER:r="folders";break;case T.ResourceType.TEAM:r="teams",i=l}return b.default.get(`/api/${r}/${l}/components`).then(({data:a})=>{const t=e.getState(),r=a.meta,l=Object.create(null);r.forEach(e=>{const a=e.file_key;l[a]=l[a]||Object.create(null),l[a][e.node_id]=e}),i?e.dispatch(n.library.updateComponentsForTeam({componentsByFileKey:l,teamId:i})):Object.keys(l).forEach(a=>{e.dispatch(n.library.put({itemsById:l[a],file:t.fileByKey[a],type:g.LibraryItemType.COMPONENT}))}),t.selectedView&&"fullscreen"===t.selectedView.view&&e.dispatch(y.updateLibraryFromPublishedAndLocalData())},e=>{console.error(e.data.message)}),a(t)}if(s.fileBrowser.selectView.matches(t)){const i=e.getState();if(i.selectedView&&"fullscreen"===i.selectedView.view&&"fullscreen"!==t.payload.view)e.dispatch(n.library.clearLocal()),e.dispatch(n.library.setLibraryView({teamId:null,scrollTop:0,modalPosition:null,size:null})),i.library.notification&&e.dispatch(n.library.hideNotification()),i.library.librarySearchQuery&&e.dispatch(n.library.setLibraryQuery({query:""})),i.modalShown&&e.dispatch(s.fileBrowser.hideModal()),I.teamLibraryItemSceneGraphCache.clearCache(),y.resetFirstUpdatesComputed(),S.resetPublishChangesNotification();else if((!i.selectedView||"fullscreen"!==i.selectedView.view)&&"fullscreen"===t.payload.view){if(a(t),!i.library.currentLibraryView.teamId){const a=h.getEditingFile(e.getState());if(a&&a.team_id&&a.team_id in i.teams)e.dispatch(n.library.setLibraryView({teamId:a.team_id}));else{const a=u.getFirstTeamAlphabetically(i.teams,i.roles),t=a?a.id:null;e.dispatch(n.library.setLibraryView({teamId:t}))}}return}return a(t)}if(n.library.getLibraryState.matches(t))return p.getLibrary(e),a(t);if(n.library.setLibraryView.matches(t))return e.dispatch(n.library.setLibraryQuery({query:""})),a(t);if(l.fullscreen.setLeftPanelTab.matches(t)){const i=e.getState();if(t.payload.tab===m.LeftPanelTab.TEAM_LIBRARY&&i.leftPanel.activeTab===m.LeftPanelTab.TEAM_LIBRARY&&i.library.currentLibraryView.fileKey){const a=i.fileByKey[i.library.currentLibraryView.fileKey],t=i.teams[a.team_id];e.dispatch(n.library.setLibraryView({teamId:t.id,fileKey:null}))}return a(t)}if(l.fullscreen.updateMirror.matches(t)&&t.payload.appModelChanges)return t.payload.appModelChanges.subscribedComponents||t.payload.appModelChanges.subscribedStyles?(a(t),void y.computeUpdates(e)):a(t);if(r.team.del.matches(t)){a(t);const i=e.getState();if(i.library.currentLibraryView.teamId===t.payload.team.id){const a=u.getFirstTeamAlphabetically(i.teams,i.roles),t=a?a.id:null;e.dispatch(n.library.setLibraryView({teamId:t}))}}else{if(c.libraryThumbnail.generateStyleThumbnails.matches(t)){const i=e.getState().library.local.styles,r=e.getState().library.local.thumbnails,l=t.payload.styleType,s=[];let n=0;for(let e in i){const a=i[e];if(a.style_type!==l)continue;const t=r[e]||{},c=!(w.cssThumbnailDefinitelySupported(l)||t.content_hash===a.content_hash&&t.url&&t.url!==I.LOADING_THUMBNAIL),o=w.cssThumbnailMaybeSupported(l)&&(t.content_hash!==a.content_hash||w.hasInvalidCssThumbnail(a));if(c||o){const e=n>0,{item:t,wasExpensive:i}=O(r,a,e);t&&s.push(t),i&&n++}}return s.length>0&&e.dispatch(c.libraryThumbnail.updateThumbnails(s)),n>1&&requestAnimationFrame(()=>{e.dispatch(c.libraryThumbnail.generateStyleThumbnails({styleType:l}))}),a(t)}if(c.libraryThumbnail.generateLocalStyleThumbnail.matches(t)){const i=e.getState().library.local.thumbnails,r=e.getState().library.local.styles[t.payload.styleNodeId];if(r){const{item:a}=O(i,r,!1);a&&e.dispatch(c.libraryThumbnail.updateThumbnails([a]))}return a(t)}if(c.libraryThumbnail.updateThumbnails.matches(t)){const i=e.getState(),r=i.library.local.thumbnails,l=i.library.local.components,s=i.library.local.styles;let o,y;for(const{nodeId:e,url:a,styleThumbnail:n,type:c}of t.payload){const t=c===g.LibraryItemType.COMPONENT?l:s;if(!(e in t))continue;const i=r[e]&&r[e].url;i&&a&&I.revokeThumbnailUrl(i);const p=(o||r)[e];if(p&&p.url===a&&p.content_hash===t[e].content_hash||(o||(o=Object.assign({},r)),o[e]={url:a,content_hash:t[e].content_hash}),c===g.LibraryItemType.STYLE){const a=(y||s)[e];a.meta&&a.meta.style_thumbnail===n||(y||(y=Object.assign({},s)),y[e]=Object.assign(Object.assign({},a),{meta:Object.assign(Object.assign({},a.meta),{style_thumbnail:n})}))}}return o&&e.dispatch(c.libraryThumbnail.replaceThumbnails({thumbnails:o})),y&&e.dispatch(n.library.replaceLocalItems({local:y,type:g.LibraryItemType.STYLE})),a(t)}if(o.publishRequestFinished.matches(t))return S.resetPublishChangesNotification(),a(t);if(n.library.put.matches(t)){const i=e.getState().library.updates.components,r=e.getState().library.published.styles,l={},s=t.payload.file,c=s.team_id||g.NO_TEAM_ID;for(let e in t.payload.itemsById)r[c]&&r[c][s.key]&&r[c][s.key][e]||t.payload.type!==g.LibraryItemType.STYLE||(l[t.payload.itemsById[e].key]=!0);if(Object.keys(l).length>0)for(let a in r){const i=r[a];for(let r in i){const o=i[r],y=[];for(let e in o)a===c&&r===s.key&&t.payload.itemsById[e]||l[o[e].key]&&y.push(e);y.length>0&&e.dispatch(n.library.del({nodeIds:y,file:e.getState().fileByKey[r],type:g.LibraryItemType.STYLE}))}}if(a(t),h.getEditingFile(e.getState())){e.dispatch(y.updateLibraryFromPublishedAndLocalData());const a=e.getState(),t=a.library.updates.components;if(S.getNumLibraryItems(i)<S.getNumLibraryItems(t)){const t=h.getEditingFile(a);t&&L.canEditFile(t.key,a)&&e.dispatch(n.library.showNotification({notification:{type:_.NotificationType.COMPONENT_UPDATES_AVAILABLE,message:"Component updates available"}}))}}}else{if(!n.library.del.matches(t)){if(n.library.clearLocal.matches(t)){const i=e.getState().library.local.thumbnails;for(const e in i)I.revokeThumbnailUrl(i[e].url);return a(t)}if(n.library.setSparseDragState.matches(t)){const i=!!e.getState().library.dragState.draggingComponent;a(t);const r=!!e.getState().library.dragState.draggingComponent;return void(i!==r&&m.Fullscreen.setIsDraggingInstanceFromSidebar(r))}return a(t)}{a(t);const r=e.getState();if(h.getEditingFile(r)){e.dispatch(y.updateLibraryFromPublishedAndLocalData());const a=r.library.published,l=t.payload.file;l.team_id&&d.isEmpty(a.components[l.team_id])&&e.dispatch(n.library.setLibraryView({teamId:null,fileKey:null})),a.styles[l.team_id]&&!a.styles[l.team_id][l.key]&&e.getState().colorPicker.selectedSwatchSetId===l.key&&e.dispatch(i.colorPicker.selectSwatchSet({swatchId:f.DOCUMENT_SWATCH_SET_ID}))}}}}}))}),
(function(a,d,t){"use strict";Object.defineProperty(d,"__esModule",{value:!0});const i=t(470                             );d.isLoading=((a,d)=>a[d]===i.LoadingStatus.LOADING),d.hasResolved=((a,t)=>null!=a[t]&&!d.isLoading(a,t)),d.didSucceed=((a,d)=>a[d]===i.LoadingStatus.SUCCESS),d.didFail=((a,d)=>a[d]===i.LoadingStatus.FAILURE),d.shouldRetry=((a,d)=>null==a[d]||a[d]===i.LoadingStatus.FAILURE)}),
(function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=t(379                                                     ),l=t(47,1    ),n=t(475                                                     ),s=t(565                     ),o={limit:10,offset:0},d={limit:1e3,offset:0};e.pluginRequestCache=new class{loadFeaturedPlugins(i){const e=i.getState().loadingState,t=a.initializeFeaturedPlugins.loadingKeyForPayload();s.isLoading(e,t)||s.didSucceed(e,t)||i.dispatch(a.initializeFeaturedPlugins())}loadTop10Plugins(i){const e=i.getState().loadingState,t=a.initializeTopPlugins.loadingKeyForPayload(o),l=a.initializeTopPlugins.loadingKeyForPayload(d);s.isLoading(e,t)||s.didSucceed(e,t)||s.isLoading(e,l)||s.didSucceed(e,l)||i.dispatch(a.initializeTopPlugins(o))}loadTop1000Plugins(i){const e=i.getState().loadingState,t=a.initializeTopPlugins.loadingKeyForPayload(d);s.isLoading(e,t)||s.didSucceed(e,t)||i.dispatch(a.initializeTopPlugins(d))}loadCurrentUserPlugins(i){const e=i.getState().loadingState,t=a.initializePublishedPlugins.loadingKeyForPayload();s.shouldRetry(e,t)&&i.dispatch(a.initializePublishedPlugins());const l=i.getState().currentOrgId||void 0,o=n.initializeInstalledPlugins.loadingKeyForPayload({orgId:l});s.shouldRetry(e,o)&&i.dispatch(n.initializeInstalledPlugins({orgId:l}))}loadProfilePlugins(i,e){const{loadingState:t,currentOrgId:l}=i.getState(),n=a.getProfilePlugins.loadingKeyForPayload(Object.assign(Object.assign({},e),{contextOrgId:l}));s.shouldRetry(t,n)&&i.dispatch(a.getProfilePlugins(Object.assign(Object.assign({},e),{contextOrgId:l})))}loadCurrentOrgPlugins(i){const{loadingState:e,currentOrgId:t}=i.getState();if(!t)return;this.loadProfilePlugins(i,{orgId:t});const a=n.initializeInstalledPlugins.loadingKeyForPayload({orgId:t});s.shouldRetry(e,a)&&i.dispatch(n.initializeInstalledPlugins({orgId:t}))}loadProfilePluginsByHandle(i,e){const t=i.getState().currentOrgId||null,l=a.getProfilePluginsByHandle.loadingKeyForPayload({handle:e,orgId:t}),{loadingState:n}=i.getState();s.shouldRetry(n,l)&&i.dispatch(a.getProfilePluginsByHandle({handle:e,orgId:t}))}};e.RefreshCache=class{constructor(i){this.expireDuration=i,this.lastRefreshed={}}clear(){this.lastRefreshed={}}debounceRefresh(i,e,t){if(i in this.lastRefreshed){if(l(this.lastRefreshed[i]).add(this.expireDuration).valueOf()>Date.now())return}else if(!t)return void(this.lastRefreshed[i]=l(Date.now()));try{e(i)}catch(a){throw a}finally{this.lastRefreshed[i]=l(Date.now())}}}}),
(function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const a=t(565                     ),i=t(378                                               );l.hubFileRequestCache=new class{loadProfileHubFiles(e,l){const{loadingState:t}=e.getState(),o=i.getProfileHubFiles.loadingKeyForPayload(Object.assign({},l));a.shouldRetry(t,o)&&e.dispatch(i.getProfileHubFiles(Object.assign({},l)))}loadPublicProfileHubFiles(e,l){const{loadingState:t}=e.getState(),o=i.getProfileHubFilesByHandle.loadingKeyForPayload({handle:l});a.shouldRetry(t,o)&&e.dispatch(i.getProfileHubFilesByHandle({handle:l}))}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(333                                                    ),s=i(565                     );t.communityHubRequestCache=new class{loadCurrentUserLikedResources(e){const t=e.getState().loadingState,i=o.initializeLikedResourceIdsForUser.loadingKeyForPayload();s.shouldRetry(t,i)&&e.dispatch(o.initializeLikedResourceIdsForUser())}}}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const l=i(106                                     ),u=i(138                                   ),s=i(474                                                   ),t=i(476                                                       ),o=i(378                                               ),n=i(328                              ),r=i(566                                 ),d=i(326                             ),c=i(332                         ),p=i(331                        ),g=i(567                                   ),h=i(568                                        ),f={};a.default=(e=>a=>(function(i){if(l.fileBrowser.hydrate.matches(i)){const l=a(i);return n.pluginCodeCache.clearCache(),e.dispatch(s.initializeLocalPlugins()),e.dispatch(t.initializeWhitelistedPlugins({orgId:e.getState().currentOrgId})),l}if(l.fileBrowser.selectView.matches(i)){if("fullscreen"===i.payload.view){const l=a(i);r.pluginRequestCache.loadCurrentUserPlugins(e),r.pluginRequestCache.loadCurrentOrgPlugins(e);const u=e.getState();return d.communityHubFilePublishingEnabled()&&u.user&&g.hubFileRequestCache.loadProfileHubFiles(e,{userId:u.user.id}),l}if("user"===i.payload.view)i.payload.userViewTab===c.UserViewTab.PROFILE?(r.pluginRequestCache.loadProfilePlugins(e,{userId:i.payload.userId}),g.hubFileRequestCache.loadProfileHubFiles(e,{userId:i.payload.userId})):i.payload.userViewTab===c.UserViewTab.PLUGINS&&(r.pluginRequestCache.loadCurrentUserPlugins(e),r.pluginRequestCache.loadCurrentOrgPlugins(e));else if("org"===i.payload.view)i.payload.orgViewTab===p.OrgViewTab.PROFILE?(r.pluginRequestCache.loadProfilePlugins(e,{orgId:i.payload.orgId}),g.hubFileRequestCache.loadProfileHubFiles(e,{orgId:i.payload.orgId})):i.payload.orgViewTab===p.OrgViewTab.PLUGINS&&(r.pluginRequestCache.loadCurrentUserPlugins(e),r.pluginRequestCache.loadCurrentOrgPlugins(e));else{if("team"!==i.payload.view){if("communityHub"===i.payload.view){const l=a(i);return r.pluginRequestCache.loadCurrentUserPlugins(e),r.pluginRequestCache.loadCurrentOrgPlugins(e),h.communityHubRequestCache.loadCurrentUserLikedResources(e),"dashboard"===i.payload.subView?(r.pluginRequestCache.loadFeaturedPlugins(e),r.pluginRequestCache.loadTop10Plugins(e)):"pluginSearch"===i.payload.subView?r.pluginRequestCache.loadTop1000Plugins(e):"handle"===i.payload.subView&&(r.pluginRequestCache.loadProfilePluginsByHandle(e,i.payload.handle),g.hubFileRequestCache.loadPublicProfileHubFiles(e,i.payload.handle)),l}return"communityHub"===e.getState().selectedView.view&&e.dispatch(l.fileBrowser.hideModal()),a(i)}r.pluginRequestCache.loadProfilePlugins(e,{teamId:i.payload.teamId}),g.hubFileRequestCache.loadProfileHubFiles(e,{teamId:i.payload.teamId})}}else if(u.fullscreen.open.matches(i)){const l=a(i);if(d.communityHubFilePublishingEnabled()){const a=i.payload.file&&i.payload.file.key;if(!a||f[a])return;f[a]=!0,e.dispatch(o.getHubFileMetadata({fileKey:i.payload.file.key}))}return l}return a(i)}))}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(n){function e(n){throw new Error("unreachable")}function t(n){switch(n.type){case"string-key":return n.string;case"plugin-name":return n.plugin;default:return e()}}function r(n){return function(n){return function(n){return"run-installed-plugin"===n.type&&"string"==typeof n.pluginId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return"run-local-plugin"===n.type&&"number"==typeof n.localFileId&&(void 0===n.command||"string"==typeof n.command)}(n)}(n)||function(n){return function(n){return"run-last"===n.type}(n)||function(n){return"manage"===n.type}(n)||function(n){return"create-new"===n.type}(n)||function(n){return"open-console"===n.type&&(void 0===n.showError||"string"==typeof n.showError)}(n)||function(n){return"internal-dev"===n.type}(n)||function(n){return"open-dir"===n.type&&"number"==typeof n.localFileId}(n)}(n)}function u(n){return function(n){return"run-menu-action"===n.type&&function(n){return function(n){return"string-key"===n.type&&"string"==typeof n.key&&"string"==typeof n.string}(n)||function(n){return"plugin-name"===n.type&&"string"==typeof n.plugin}(n)}(n.name)&&(void 0===n.menuAction||r(n.menuAction))&&(void 0===n.disabled||"boolean"==typeof n.disabled)}(n)||function(n){return"separator"===n.type}(n)||function(n){return"submenu"===n.type&&"string"==typeof n.name&&Array.isArray(n.submenu)&&n.submenu.every(u)}(n)}n.stringOfActionMenuItemName=t,n.nameOfMenuItem=function(n){switch(n.type){case"run-menu-action":return t(n.name);case"separator":return"";case"submenu":return n.name;default:return e()}},n.isMenuAction=r,n.isMenuItem=u}(e.PluginMenuV19||(e.PluginMenuV19={})),function(n){function e(n){throw new Error("unreachable")}function t(n){switch(n.type){case"string-key":return n.string;case"plugin-name":return n.plugin;default:return e()}}function r(n){return function(n){return"run-local-plugin"===n.type&&"number"==typeof n.localFileId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return"run-installed-plugin"===n.type&&"string"==typeof n.pluginId&&(void 0===n.command||"string"==typeof n.command)}(n)||function(n){return!("string"!=typeof n.type||void 0!==n.showError&&"string"!=typeof n.showError||void 0!==n.localFileId&&"number"!=typeof n.localFileId)}(n)}function u(n){return function(n){return"run-menu-action"===n.type&&function(n){return"string-key"===n.type&&"string"==typeof n.string||"plugin-name"===n.type&&"string"==typeof n.plugin}(n.name)&&(void 0===n.menuAction||r(n.menuAction))&&(void 0===n.disabled||"boolean"==typeof n.disabled)}(n)||"separator"===n.type||function(n){return"submenu"===n.type&&"string"==typeof n.name&&Array.isArray(n.submenu)&&n.submenu.every(u)}(n)}n.stringOfActionMenuItemName=t,n.nameOfMenuItem=function(n){switch(n.type){case"run-menu-action":return t(n.name);case"separator":return"";case"submenu":return n.name;default:return e()}},n.isMenuAction=r,n.isMenuItem=u}(e.PluginMenu||(e.PluginMenu={}))}),
(function(n,u,l){"use strict";Object.defineProperty(u,"__esModule",{value:!0});const i=l(330              );let t=null;u.setLastRunPluginArgs=function(n){t=n},u.clearLastRunPluginIfNotRunnable=function(n,u,l,e){t&&!i.isPluginRunnable({plugin:t.plugin,publishedPlugins:u,orgEntity:l,whitelistedPlugins:e,installedPlugins:n})&&(t=null)},u.getLastRunPluginArgs=function(){return t}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(163                               ),r=o(153       ),i=o(171         ),s=o(394                                 ),l=o(159       ),a=o(163        ),d=o(395                      ),c=/^-?\d+:-?\d+$/;class g{constructor(e,t,o){this.guid=e,this.sessionID=t,this.localID=o}setGlobalNodeID(){n.SceneNodeCpp.setGlobalUnstableNodeID(this.sessionID,this.localID)}get type(){return this.setGlobalNodeID(),r.schema.NodeType[n.SceneNodeCpp.getType(n.NodeContext.PLUGIN)]||"NONE"}get name(){return this.setGlobalNodeID(),n.SceneNodeCpp.getName(n.NodeContext.PLUGIN)}set name(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setName(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get locked(){return this.setGlobalNodeID(),n.SceneNodeCpp.getLocked(n.NodeContext.PLUGIN)}set locked(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setLocked(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get mask(){return this.setGlobalNodeID(),n.SceneNodeCpp.getMask(n.NodeContext.PLUGIN)}set mask(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setMask(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get visible(){return this.setGlobalNodeID(),n.SceneNodeCpp.getVisible(n.NodeContext.PLUGIN)}set visible(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setVisible(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get proportionsConstrained(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getProportionsConstrained()}set proportionsConstrained(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setProportionsConstrained(e);if(t)throw new Error(t)}get instanceScaleFactor(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getInstanceScaleFactor()}set instanceScaleFactor(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setInstanceScaleFactor(e);if(t)throw new Error(t)}get resizeToFit(){return this.setGlobalNodeID(),n.SceneNodeCpp.getResizeToFit(n.NodeContext.PLUGIN)}get stackMode(){return this.setGlobalNodeID(),r.schema.StackMode[n.SceneNodeCpp.getStackMode(n.NodeContext.PLUGIN)]||"NONE"}set stackMode(e){const t=r.schema.StackMode[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackMode");this.setGlobalNodeID(),n.SceneNodeCpp.setStackMode(t,n.NodeContext.PLUGIN)}get stackCounterSizing(){return this.setGlobalNodeID(),r.schema.StackSize[n.PluginSceneNodeCpp.getStackCounterSizing()]||null}set stackCounterSizing(e){const t=r.schema.StackSize[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackCounterSizing");this.setGlobalNodeID(),n.PluginSceneNodeCpp.setStackCounterSizing(t)}get stackCounterAlign(){return this.setGlobalNodeID(),r.schema.StackCounterAlign[n.PluginSceneNodeCpp.getStackCounterAlign()]||null}set stackCounterAlign(e){const t=r.schema.StackCounterAlign[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for stackCounterAlign");this.setGlobalNodeID(),n.PluginSceneNodeCpp.setStackCounterAlign(t)}get stackHorizontalPadding(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackHorizontalPadding()}set stackHorizontalPadding(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackHorizontalPadding(e);if(t)throw new Error(t)}get stackVerticalPadding(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackVerticalPadding()}set stackVerticalPadding(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackVerticalPadding(e);if(t)throw new Error(t)}get stackSpacing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStackSpacing()}set stackSpacing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStackSpacing(e);if(t)throw new Error(t)}get frameMaskDisabled(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFrameMaskDisabled(n.NodeContext.PLUGIN)}set frameMaskDisabled(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setFrameMaskDisabled(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get isSymbolPublishable(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsSymbolPublishable(n.NodeContext.PLUGIN)}get symbolDescription(){return this.setGlobalNodeID(),n.SceneNodeCpp.getSymbolDescription(n.NodeContext.PLUGIN)}set symbolDescription(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setSymbolDescription(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get cornerRadius(){return this.setGlobalNodeID(),n.SceneNodeCpp.getCornerRadius(n.NodeContext.PLUGIN)}set cornerRadius(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setCornerRadius(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get cornerRadiusOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCornerRadiusOrMixed()}set cornerRadiusOrMixed(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCornerRadiusOrMixed(e);if(t)throw new Error(t)}get objectsPanelThumbnailId(){return this.setGlobalNodeID(),n.SceneNodeCpp.getObjectsPanelThumbnailId(n.NodeContext.PLUGIN)}get isExpandable(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsExpandable(n.NodeContext.PLUGIN)}get isExpanded(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsExpanded(n.NodeContext.PLUGIN)}set isExpanded(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setIsExpanded(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get isTemporarilyExpanded(){return this.setGlobalNodeID(),n.SceneNodeCpp.getIsTemporarilyExpanded(n.NodeContext.PLUGIN)}get styleType(){return this.setGlobalNodeID(),r.schema.StyleType[n.SceneNodeCpp.getStyleType(n.NodeContext.PLUGIN)]||void 0}get styleDescription(){return this.setGlobalNodeID(),n.SceneNodeCpp.getStyleDescription(n.NodeContext.PLUGIN)||""}set styleDescription(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setStyleDescription(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get componentKey(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getComponentKey(n.NodeContext.PLUGIN);return""===e?null:e}get sharedSymbolReference(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getSharedSymbolReference(n.NodeContext.PLUGIN);return""===e?null:r.schema.decodeSharedSymbolReference(i.decode(e))}get exportSettings(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getExportSettings(n.NodeContext.PLUGIN);return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).exportSettings||[]}set exportSettings(e){const t=r.schema.encodeNodeChange({exportSettings:e}),o=r.schema.decodeNodeChange(t).exportSettings;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for export settings");this.setGlobalNodeID(),n.SceneNodeCpp.setExportSettings(i.encode(t),n.NodeContext.PLUGIN)}get parent(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getParent(n.NodeContext.PLUGIN);return""===e?null:e}get reversedChildren(){this.setGlobalNodeID();const e=n.SceneNodeCpp.getReversedChildren(n.NodeContext.PLUGIN);return""===e?[]:e.split(" ")}get scrollDirection(){return this.setGlobalNodeID(),r.schema.ScrollDirection[n.SceneNodeCpp.getScrollDirection(n.NodeContext.PLUGIN)]||"NONE"}set scrollDirection(e){const t=r.schema.ScrollDirection[e];if("number"!=typeof t)throw new Error("Invalid value for scrollDirection");{this.setGlobalNodeID();const e=n.SceneNodeCpp.setScrollDirection(t,n.NodeContext.PLUGIN);if(e)throw new Error(e)}}get fixedChildrenCount(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFixedChildrenCount(n.NodeContext.PLUGIN)}set fixedChildrenCount(e){this.setGlobalNodeID();const t=n.SceneNodeCpp.setFixedChildrenCount(e,n.NodeContext.PLUGIN);if(t)throw new Error(t)}get booleanOperation(){return this.setGlobalNodeID(),r.schema.BooleanOperation[n.SceneNodeCpp.getBooleanOperation(n.NodeContext.PLUGIN)]||null}set booleanOperation(e){const t=r.schema.BooleanOperation[e];if("number"!=typeof t)throw new Error("Invalid value for booleanOperation");{this.setGlobalNodeID();const e=n.SceneNodeCpp.setBooleanOperation(t,n.NodeContext.PLUGIN);if(e)throw new Error(e)}}get horizontalConstraint(){return this.setGlobalNodeID(),r.schema.ConstraintType[n.PluginSceneNodeCpp.getHorizontalConstraint()]||null}set horizontalConstraint(e){const t=r.schema.ConstraintType[e];if("number"!=typeof t)throw new Error("Invalid value for horizontalConstraint");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setHorizontalConstraint(t);if(e)throw new Error(e)}}get verticalConstraint(){return this.setGlobalNodeID(),r.schema.ConstraintType[n.PluginSceneNodeCpp.getVerticalConstraint()]||null}set verticalConstraint(e){const t=r.schema.ConstraintType[e];if("number"!=typeof t)throw new Error("Invalid value for verticalConstraint");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setVerticalConstraint(t);if(e)throw new Error(e)}}get hasEnabledStaticImagePaint(){return this.setGlobalNodeID(),n.SceneNodeCpp.getHasEnabledStaticImagePaint(n.NodeContext.PLUGIN)}get hasEnabledAnimatedPaint(){return this.setGlobalNodeID(),n.SceneNodeCpp.getHasEnabledAnimatedPaint(n.NodeContext.PLUGIN)}get isInternalOnlyNode(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getIsInternalOnlyNode()}get size(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSize()}set size(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setSize(e.x,e.y);if(t)throw new Error(t)}get relativeTransform(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRelativeTransform()}set relativeTransform(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRelativeTransform(e.m00,e.m01,e.m02,e.m10,e.m11,e.m12);if(t)throw new Error(t)}get absoluteTransform(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getAbsoluteTransform()}get symbolId(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getSymbolId()}get prototypeStartNodeId(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getPrototypeStartNodeId();return e||null}get opacity(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getOpacity()}set opacity(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setOpacity(e);if(t)throw new Error(t)}get cornerSmoothing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCornerSmoothing()}set cornerSmoothing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCornerSmoothing(e);if(t)throw new Error(t)}get strokeWeight(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStrokeWeight()}set strokeWeight(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokeWeight(e);if(t)throw new Error(t)}get hasSharedStyleReference(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getHasSharedStyleReference()}get characters(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCharacters()}set characters(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCharacters(e);if(t)throw new Error(t)}get hasMissingFont(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.hasMissingFont()}get rectangleTopLeftCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleTopLeftCornerRadius()}set rectangleTopLeftCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleTopLeftCornerRadius(e);if(t)throw new Error(t)}get rectangleTopRightCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleTopRightCornerRadius()}set rectangleTopRightCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleTopRightCornerRadius(e);if(t)throw new Error(t)}get rectangleBottomLeftCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleBottomLeftCornerRadius()}set rectangleBottomLeftCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleBottomLeftCornerRadius(e);if(t)throw new Error(t)}get rectangleBottomRightCornerRadius(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleBottomRightCornerRadius()}set rectangleBottomRightCornerRadius(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleBottomRightCornerRadius(e);if(t)throw new Error(t)}get rectangleCornerRadiiIndependent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleCornerRadiiIndependent()}set rectangleCornerRadiiIndependent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleCornerRadiiIndependent(e);if(t)throw new Error(t)}get rectangleCornerToolIndependent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRectangleCornerToolIndependent()}set rectangleCornerToolIndependent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRectangleCornerToolIndependent(e);if(t)throw new Error(t)}get starInnerScale(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStarInnerScale()}set starInnerScale(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStarInnerScale(e);if(t)throw new Error(t)}get count(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getCount()}set count(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setCount(e);if(t)throw new Error(t)}get autoRename(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getAutoRename()}set autoRename(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setAutoRename(e);if(t)throw new Error(t)}get fillPaints(){this.setGlobalNodeID();const e=p("fillPaints",n.PluginSceneNodeCpp.getFillPaints());if(null==e)throw new Error("Figma Internal Error: fillPaints not found");return e}set fillPaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFillPaints(0,-1,u("fillPaints",e));if(t)throw new Error(t)}get fillPaintsOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeFillPaints(0,-1);return"mixed"===e?e:this.fillPaints}get strokePaints(){this.setGlobalNodeID();const e=p("strokePaints",n.PluginSceneNodeCpp.getStrokePaints());if(null==e)throw new Error("Figma Internal Error: strokePaints not found");return e}set strokePaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokePaints(u("strokePaints",e));if(t)throw new Error(t)}get backgroundPaints(){this.setGlobalNodeID();const e=p("backgroundPaints",n.PluginSceneNodeCpp.getBackgroundPaints());if(null==e)throw new Error("Figma Internal Error: backgroundPaints not found");return e}set backgroundPaints(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setBackgroundPaints(u("backgroundPaints",e));if(t)throw new Error(t)}get directlySelectedNodes(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getDirectlySelectedNodes();return""===e?[]:e.split(" ")}set directlySelectedNodes(e){for(const o of e)if(!c.test(o))throw new Error(`Invalid node id: ${o}`);this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setDirectlySelectedNodes(e.join(" "));if(t)throw new Error(t)}get layoutGrids(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getLayoutGrids();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).layoutGrids||[]}set layoutGrids(e){const t=r.schema.encodeNodeChange({layoutGrids:e}),o=r.schema.decodeNodeChange(t).layoutGrids;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for layoutGrids");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setLayoutGrids(i.encode(t));if(l)throw new Error(l)}get guides(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getGuides();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).guides||[]}set guides(e){const t=r.schema.encodeNodeChange({guides:e}),o=r.schema.decodeNodeChange(t).guides;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for guides");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setGuides(i.encode(t));if(l)throw new Error(l)}get effects(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getEffects();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).effects||[]}set effects(e){const t=r.schema.encodeNodeChange({effects:e}),o=r.schema.decodeNodeChange(t).effects;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for effects");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setEffects(i.encode(t));if(l)throw new Error(l)}get reactions(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getReactions()}get overlayPositionType(){return this.setGlobalNodeID(),r.schema.OverlayPositionType[n.PluginSceneNodeCpp.getOverlayPositionType()]||null}get overlayBackground(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getOverlayBackground()}get overlayBackgroundInteraction(){return this.setGlobalNodeID(),r.schema.OverlayBackgroundInteraction[n.PluginSceneNodeCpp.getOverlayBackgroundInteraction()]||null}get dashPattern(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getDashPattern();return""===e?[]:r.schema.decodeNodeChange(i.decode(e)).dashPattern||[]}set dashPattern(e){const t=r.schema.encodeNodeChange({dashPattern:e}),o=r.schema.decodeNodeChange(t).dashPattern;if(!s.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for dashPattern");this.setGlobalNodeID();const l=n.PluginSceneNodeCpp.setDashPattern(i.encode(t));if(l)throw new Error(l)}get fontSize(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getFontSize()}set fontSize(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFontSize(0,-1,e);if(t)throw new Error(t)}get fontSizeOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontSize(0,-1)}get paragraphIndent(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getParagraphIndent()}set paragraphIndent(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setParagraphIndent(e);if(t)throw new Error(t)}get paragraphSpacing(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getParagraphSpacing()}set paragraphSpacing(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setParagraphSpacing(e);if(t)throw new Error(t)}get strokeAlign(){return this.setGlobalNodeID(),r.schema.StrokeAlign[n.PluginSceneNodeCpp.getStrokeAlign()]||null}set strokeAlign(e){const t=r.schema.StrokeAlign[e];if("number"!=typeof t)throw new Error("Invalid value for strokeAlign");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeAlign(t);if(e)throw new Error(e)}}get strokeCap(){return this.setGlobalNodeID(),r.schema.StrokeCap[n.PluginSceneNodeCpp.getStrokeCap()]||null}set strokeCap(e){const t=r.schema.StrokeCap[e];if("number"!=typeof t)throw new Error("Invalid value for strokeCap");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeCap(t);if(e)throw new Error(e)}}get strokeCapOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getStrokeCapOrMixed();return"mixed"===e?e:r.schema.StrokeCap[e]||null}get strokeJoin(){return this.setGlobalNodeID(),r.schema.StrokeJoin[n.PluginSceneNodeCpp.getStrokeJoin()]||null}set strokeJoin(e){const t=r.schema.StrokeJoin[e];if("number"!=typeof t)throw new Error("Invalid value for strokeJoin");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setStrokeJoin(t);if(e)throw new Error(e)}}get strokeJoinOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getStrokeJoinOrMixed();return"mixed"===e?e:r.schema.StrokeJoin[e]||null}get handleMirroring(){return this.setGlobalNodeID(),r.schema.VectorMirror[n.PluginSceneNodeCpp.getHandleMirroring()]||null}set handleMirroring(e){const t=r.schema.VectorMirror[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for handleMirroring");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setHandleMirroring(t);if(e)throw new Error(e)}}get strokeMiterLimit(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getStrokeMiterLimit()}set strokeMiterLimit(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setStrokeMiterLimit(e);if(t)throw new Error(t)}get handleMirroringOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getHandleMirroringOrMixed();return"mixed"===e?e:r.schema.VectorMirror[e]||null}get blendMode(){return this.setGlobalNodeID(),r.schema.BlendMode[n.PluginSceneNodeCpp.getBlendMode()]||null}set blendMode(e){const t=r.schema.BlendMode[e];if("number"!=typeof t)throw new Error("Invalid value for blendMode");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setBlendMode(t);if(e)throw new Error(e)}}get textAlignHorizontal(){return this.setGlobalNodeID(),r.schema.TextAlignHorizontal[n.PluginSceneNodeCpp.getTextAlignHorizontal()]||null}set textAlignHorizontal(e){const t=r.schema.TextAlignHorizontal[e];if("number"!=typeof t)throw new Error("Invalid value for textAlignHorizontal");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAlignHorizontal(t);if(e)throw new Error(e)}}get textAlignVertical(){return this.setGlobalNodeID(),r.schema.TextAlignVertical[n.PluginSceneNodeCpp.getTextAlignVertical()]||null}set textAlignVertical(e){const t=r.schema.TextAlignVertical[e];if("number"!=typeof t)throw new Error("Invalid value for textAlignVertical");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAlignVertical(t);if(e)throw new Error(e)}}get textCase(){return this.setGlobalNodeID(),r.schema.TextCase[n.PluginSceneNodeCpp.getTextCase()]||null}set textCase(e){const t=r.schema.TextCase[e];if("number"!=typeof t)throw new Error("Invalid value for textCase");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setRangeTextCase(0,-1,t);if(e)throw new Error(e)}}get textCaseOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeTextCase(0,-1);return"mixed"===e?e:r.schema.TextCase[e]||null}get textDecoration(){return this.setGlobalNodeID(),r.schema.TextDecoration[n.PluginSceneNodeCpp.getTextDecoration()]||null}set textDecoration(e){const t=r.schema.TextDecoration[e];if("number"!=typeof t)throw new Error("Invalid value for textDecoration");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setRangeTextDecoration(0,-1,t);if(e)throw new Error(e)}}get textDecorationOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeTextDecoration(0,-1);return"mixed"===e?e:r.schema.TextDecoration[e]||null}get textAutoResize(){return this.setGlobalNodeID(),r.schema.TextAutoResize[n.PluginSceneNodeCpp.getTextAutoResize()]||null}set textAutoResize(e){const t=r.schema.TextAutoResize[e];if("number"!=typeof t)throw new Error("Invalid value for textAutoResize");{this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.setTextAutoResize(t);if(e)throw new Error(e)}}get letterSpacing(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getLetterSpacing();return{value:e.value,units:r.schema.NumberUnits[e.units]}}set letterSpacing(e){const t=r.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for letterSpacing");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeLetterSpacing(0,-1,e.value,t);if(o)throw new Error(o)}}get letterSpacingOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeLetterSpacing(0,-1);return"mixed"===e?e:{value:e.value,units:r.schema.NumberUnits[e.units]}}get lineHeight(){throw new Error("Figma Internal Error: direct call to lineHeight getter not supported")}set lineHeight(e){const t=r.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for lineHeight");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeLineHeight(0,-1,e.value,t);if(o)throw new Error(o)}}get lineHeightOrMixed(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getRangeLineHeight(0,-1);return"mixed"===e?e:{value:e.value,units:r.schema.NumberUnits[e.units]}}get fontName(){return this.setGlobalNodeID(),n.SceneNodeCpp.getFontName(n.NodeContext.PLUGIN)}set fontName(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setRangeFontName(0,-1,e.family,e.style,e.postscript);if(t)throw new Error(t)}get fontNameOrMixed(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontName(0,-1)}get arcData(){this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.getArcData();if(""===e)throw new Error("Figma Internal Error: arcData not found");const t=r.schema.decodeNodeChange(i.decode(e)).arcData;if(!t||null==t.startingAngle||null==t.endingAngle||null==t.innerRadius)throw new Error("Figma Internal Error: arcData missing properties");return t}set arcData(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.setArcData(e.startingAngle,e.endingAngle,e.innerRadius);if(t)throw new Error(t)}get vectorDataInfo(){this.setGlobalNodeID();const e=p("vectorData",n.PluginSceneNodeCpp.getVectorData());if(null==e)throw new Error("Figma Internal Error: vectorData not found");return e}set vectorDataInfo(e){const t=e.data.vectorNetworkBlob;if(null==t||t<0||t>=e.blobs.length)throw new Error("Invalid input for vectorData");this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setVectorData(u("vectorData",e));if(o)throw new Error(o)}get inheritedFillStyle(){return this.getInheritedStyleKey("inheritFillStyleKey")}set inheritedFillStyle(e){this.setInheritedStyleKey("inheritFillStyleKey",e)}get inheritedFillStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritFillStyleKey")}get inheritedFillStyleForStroke(){return this.getInheritedStyleKey("inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){this.setInheritedStyleKey("inheritFillStyleKeyForStroke",e)}get inheritedFillStyleForBackground(){return this.getInheritedStyleKey("inheritFillStyleKeyForBackground")}set inheritedFillStyleForBackground(e){this.setInheritedStyleKey("inheritFillStyleKeyForBackground",e)}get inheritedEffectStyle(){return this.getInheritedStyleKey("inheritEffectStyleKey")}set inheritedEffectStyle(e){this.setInheritedStyleKey("inheritEffectStyleKey",e)}get inheritedTextStyle(){return this.getInheritedStyleKey("inheritTextStyleKey")}set inheritedTextStyle(e){this.setInheritedStyleKey("inheritTextStyleKey",e)}get inheritedTextStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritTextStyleKey")}get inheritedGridStyle(){return this.getInheritedStyleKey("inheritGridStyleKey")}set inheritedGridStyle(e){this.setInheritedStyleKey("inheritGridStyleKey",e)}clone(){if("DOCUMENT"===this.type)throw new Error("Cannot clone the root node");this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.cloneNode();if(!e)throw new Error("Failed to clone node");return e}createInstance(){if("SYMBOL"!==this.type)throw new Error("Can only create instances of components");this.setGlobalNodeID();const e=n.PluginSceneNodeCpp.createInstance();if("success"!==e.status)throw console.error("createInstance got error",e.error),new Error(e.error);return e.nodeId}removeSelfAndChildren(){if(this.setGlobalNodeID(),!n.PluginSceneNodeCpp.removeSelfAndChildren())throw new Error("Removing this node is not allowed")}appendChild(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getChildCount(),o=n.PluginSceneNodeCpp.insertChild(this.sessionID,this.localID,t,e.sessionID,e.localID);if(o)throw new Error(o)}insertChild(e,t){const o=n.PluginSceneNodeCpp.insertChild(this.sessionID,this.localID,t,e.sessionID,e.localID);if(o)throw new Error(o)}resizeWithConstraints(e,t){this.setGlobalNodeID(),n.PluginSceneNodeCpp.resizeWithConstraints(e,t)}resizeWithoutConstraints(e,t){this.setGlobalNodeID(),n.PluginSceneNodeCpp.setSize(e,t)}outlineStroke(){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.outlineStroke()}export(e){if(this.setGlobalNodeID(),e){const t=i.encode(r.schema.encodeNodeChange({exportSettings:e}));return n.PluginSceneNodeCpp.exportAsImage(t)}return n.PluginSceneNodeCpp.exportAsImage("")}getRangeFontSize(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontSize(e,t)}setRangeFontSize(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFontSize(e,t,o);if(r)throw new Error(r)}getRangeFontName(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getRangeFontName(e,t)}setRangeFontName(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFontName(e,t,o.family,o.style,o.postscript);if(r)throw new Error(r)}getRangeTextCase(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeTextCase(e,t);return"mixed"===o?o:r.schema.TextCase[o]||null}setRangeTextCase(e,t,o){const i=r.schema.TextCase[o];if("number"!=typeof i)throw new Error("Invalid value for setRangeTextCase");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeTextCase(e,t,i);if(o)throw new Error(o)}}getRangeTextDecoration(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeTextDecoration(e,t);return"mixed"===o?o:r.schema.TextDecoration[o]||null}setRangeTextDecoration(e,t,o){const i=r.schema.TextDecoration[o];if("number"!=typeof i)throw new Error("Invalid value for setRangeTextDecoration");{this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.setRangeTextDecoration(e,t,i);if(o)throw new Error(o)}}getRangeLetterSpacing(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeLetterSpacing(e,t);return"mixed"===o?o:{value:o.value,units:r.schema.NumberUnits[o.units]}}setRangeLetterSpacing(e,t,o){const i=r.schema.NumberUnits[o.units];if("number"!=typeof i)throw new Error("Invalid format for setRangeLetterSpacing");{this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeLetterSpacing(e,t,o.value,i);if(r)throw new Error(r)}}getRangeLineHeight(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeLineHeight(e,t);return"mixed"===o?o:{value:o.value,units:r.schema.NumberUnits[o.units]}}setRangeLineHeight(e,t,o){const i=r.schema.NumberUnits[o.units];if("number"!=typeof i)throw new Error("Invalid format for setRangeLineHeight");{this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeLineHeight(e,t,o.value,i);if(r)throw new Error(r)}}getRangeFillPaints(e,t){this.setGlobalNodeID();const o=n.PluginSceneNodeCpp.getRangeFillPaints(e,t);if("mixed"===o)return o;{const e=p("fillPaints",o);if(null==e)throw new Error("Figma Internal Error: fillPaints not found");return e}}setRangeFillPaints(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeFillPaints(e,t,u("fillPaints",o));if(r)throw new Error(r)}getRangeInheritedFillStyle(e,t){return this.getRangeInheritedStyleKey(e,t,"inheritFillStyleKey")}setRangeInheritedFillStyle(e,t,o){this.setRangeInheritedStyleKey(e,t,"inheritFillStyleKey",o)}getRangeInheritedTextStyle(e,t){return this.getRangeInheritedStyleKey(e,t,"inheritTextStyleKey")}setRangeInheritedTextStyle(e,t,o){this.setRangeInheritedStyleKey(e,t,"inheritTextStyleKey",o)}getPluginData(e,t){return this.setGlobalNodeID(),n.PluginSceneNodeCpp.getPluginData(e,t)}setPluginData(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setPluginData(e,t,o);if(r)throw new Error(r)}setRelaunchData(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setPluginRelaunchData(e,t,o);if(r)throw new Error(r)}clearRelaunchData(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.clearPluginRelaunchData(e);if(t)throw new Error(t)}getInheritedStyleKey(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getInheritedStyle(e);return l.isValidStyleKey(t)?t:null}getInheritedStyleKeyOrMixed(e){this.setGlobalNodeID();const t=n.PluginSceneNodeCpp.getRangeInheritedStyle(0,-1,e);return"mixed"===t?"mixed":l.isValidStyleKey(t)?t:null}setInheritedStyleKey(e,t){if(t&&!l.isValidStyleKey(t))throw new Error(`Invalid style key ${t.key} and version ${t.version}`);const o=t||{key:"",version:""};this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.setRangeInheritedStyle(0,-1,e,o.key,o.version);if(r)throw new Error(`Cannot set style successfully: ${r}`)}getRangeInheritedStyleKey(e,t,o){this.setGlobalNodeID();const r=n.PluginSceneNodeCpp.getRangeInheritedStyle(e,t,o);return"mixed"===r?r:l.isValidStyleKey(r)?r:null}setRangeInheritedStyleKey(e,t,o,r){if(r&&!l.isValidStyleKey(r))throw new Error(`Invalid style key ${r.key} and version ${r.version}`);const i=r||{key:"",version:""};this.setGlobalNodeID();const s=n.PluginSceneNodeCpp.setRangeInheritedStyle(e,t,o,i.key,i.version);if(s)throw new Error(`Cannot set style successfully: ${s}`)}}class h{get(e){const t=d.parseIntegerFast(e,0),o=d.parseIntegerFast(e,e.indexOf(":")+1);if(n.SceneNodeCpp.setGlobalUnstableNodeID(t,o),n.SceneNodeCpp.exists(n.NodeContext.PLUGIN))return new g(e,t,o)}getCurrentPage(){return n.PluginSceneNodeCpp.getCurrentPage()||null}setCurrentPage(e){const t=n.PluginSceneNodeCpp.setCurrentPage(e.sessionID,e.localID);if(t)throw new Error(t)}createNode(e){const t=r.schema.NodeType[e];if("number"==typeof t){const e=n.PluginSceneNodeCpp.createNode(t);if(""!==e)return e}throw new Error(`Cannot create node with type ${e}`)}}function p(e,t){if(""===t)return;const o=r.schema.decodeMessage(i.decode(t));if(!o||!o.nodeChanges||1!==o.nodeChanges.length||void 0===o.nodeChanges[0][e])throw new Error(`Cannot read value for ${e}`);return{data:o.nodeChanges[0][e],blobs:o.blobs||[]}}function u(e,t){const o=r.schema.encodeNodeChange({[e]:t.data});if(!s.deepEqualsIgnoringNumberPrecision(t.data,r.schema.decodeNodeChange(o)[e]))throw new Error(`Invalid format for ${e}`);return i.encode(r.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[{[e]:t.data}],blobs:t.blobs}))}t.SceneGraphShim=h,h.instance=new h,t.decodeDataWithBlobs=p,t.encodeDataWithBlobs=u;class N{get(e){const t=l.styleKeyFromString(e);if(!t)return;const o=a.Fullscreen.getStyleNodeId(t.key,t.version);return o?h.instance.get(o):void 0}createStyle(e){const t=r.schema.StyleType[e];if("number"!=typeof t)return null;const o=a.Fullscreen.createStyle(t);return l.styleKeyToString(o)}softDeleteStyle(e){e.removeSelfAndChildren()}getAllLocalStyles(e){const t=r.schema.StyleType[e];return"number"!=typeof t?[]:a.Fullscreen.getAllLocalStyles(t).map(l.styleKeyToString)}}t.StyleManager=N,N.instance=new N}),
(function(t,n,i){"use strict";function e(t,n){return{x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)}}function r(t,n){return{x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)}}function x(t){return t.width<0||t.height<0||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.width)||!isFinite(t.height)}Object.defineProperty(n,"__esModule",{value:!0}),n.getRotationOfMatrix=function({m00:t,m10:n}){return Math.atan2(-n,t)},n.setRotationOfMatrix=function({m00:t,m01:n,m02:i,m10:e,m11:r,m12:x},y){const h=Math.sin(y),o=Math.cos(y),u=Math.sqrt(t*t+e*e),c=(t*n+e*r)/u,a=(-e*n+t*r)/u;return{m00:u*o,m01:c*o+a*h,m02:i,m10:-u*h,m11:-c*h+a*o,m12:x}},n.vectorEq=function(t,n){return t.x===n.x&&t.y===n.y},n.vectorMin=e,n.vectorAdd=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},n.vectorMax=r,n.computeBounds=function(t,n){const i=e(t,n),x=r(t,n);return{x:i.x,y:i.y,width:x.x-i.x,height:x.y-i.y}},n.rectContains=function(t,n){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height},n.rectIsInvalid=x,n.rectUnionWith=function(t,n){if(x(t))return n;if(x(n))return t;const i=e({x:t.x,y:t.y},{x:n.x,y:n.y}),y=r({x:t.x+t.width,y:t.y+t.height},{x:n.x+n.width,y:n.y+n.height});return{x:i.x,y:i.y,width:y.x-i.x,height:y.y-i.y}}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(573          ),o=0,s={Z:0,M:2,L:2,Q:4,C:6};function i(t){if(!t.data||!t.data.length)return[];const e=t.data.split(" "),n=[];for(let r of e){if("Z"===r||"M"===r||"L"===r||"Q"===r||"C"===r){n.push(r);continue}const t=Number(r);if(isNaN(t))throw new Error(`Failed to convert path. Invalid command at ${r}`);n.push(t)}if(n.length>0&&"M"!==n[0])throw new Error(`Failed to convert path. ${n[0]} is not a valid first command`);return n}function a(t,e){return{x:t.m00*e.x+t.m01*e.y+t.m02,y:t.m10*e.x+t.m11*e.y+t.m12}}function c(t,e,n,o){const s=r.computeBounds(t,o);if(r.rectContains(s,e)&&r.rectContains(s,n))return s;const i=[0,0,0,0],a=[0,0,0,0],c=[0,0,0,0],h=[0,0,0,0];let m=0,d=0;i[0]=0,a[0]=0,m=1+l(t.x,e.x,n.x,o.x,i,1),d=1+l(t.y,e.y,n.y,o.y,a,1),i[m++]=1,a[d++]=1,c[0]=t.x,h[0]=t.y;for(let r=1;r+1<m;r++)c[r]=g(t.x,e.x,n.x,o.x,i[r]);for(let r=1;r+1<d;r++)h[r]=g(t.y,e.y,n.y,o.y,a[r]);c[m-1]=o.x,h[d-1]=o.y;const u={x:t.x,y:t.y},f={x:t.x,y:t.y};for(let r=0;r<m;r++)u.x=Math.min(u.x,c[r]),f.x=Math.max(f.x,c[r]);for(let r=0;r<d;r++)u.y=Math.min(u.y,h[r]),f.y=Math.max(f.y,h[r]);return{x:u.x,y:u.y,width:f.x-u.x,height:f.y-u.y}}function g(t,e,n,r,o){let s=1-o;return s*(s*(s*t+3*o*e)+3*o*o*n)+o*o*o*r}function l(t,e,n,r,o,s){let i=3*(3*e+r-(t+3*n)),a=6*(t+n-2*e),c=3*(e-t),g=s;if(Math.abs(i)<1e-12&&(i=0),Math.abs(a)<1e-12&&(a=0),0!==i){const t=a*a-4*c*i;if(t>=0){const e=-a/(2*i),n=Math.sqrt(t)/Math.abs(2*i),r=e-n,s=e+n;0<r&&r<1&&(o[g++]=r),t>0&&0<s&&s<1&&(o[g++]=s)}}else if(0!==a){const t=-c/a;0<t&&t<1&&(o[g++]=t)}return g-s}function h(t){const e=[];return t?(t.forEach(t=>{e.push({windingRule:t.windingRule,loops:t.loops.map(t=>t.slice())})}),e):e}function m(t){return`${t.x} ${t.y}`}function d(t){return 0===t.tangentStart.x&&0===t.tangentStart.y&&0===t.tangentEnd.x&&0===t.tangentEnd.y}function u(t,e){if(e===t.start)return t.end;if(e===t.end)return t.start;throw new Error(`Unknown vertex (${e}) for segment (${t.start},${t.end})`)}e.pathToCommands=i,e.validateVectorNetwork=function(t){new f(t).checkValid()},e.scaleVectorNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],o=t&&t.regions||[],s={m00:e.x,m01:0,m02:0,m10:0,m11:e.y,m12:0};return{regions:h(o),segments:r.map(t=>({start:t.start,end:t.end,tangentStart:a(s,t.tangentStart),tangentEnd:a(s,t.tangentEnd)})),vertices:n.map(t=>Object.assign(Object.assign({},a(s,t)),{strokeCap:t.strokeCap,strokeJoin:t.strokeJoin,cornerRadius:t.cornerRadius,handleMirroring:t.handleMirroring}))}},e.translateVectorNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],o=t&&t.regions||[],s={m00:1,m01:0,m02:e.x,m10:0,m11:1,m12:e.y};return{regions:h(o),segments:function(t){const e=[];return t?(t.forEach(t=>{e.push({start:t.start,tangentStart:Object.assign({},t.tangentStart),end:t.end,tangentEnd:Object.assign({},t.tangentEnd)})}),e):e}(r),vertices:n.map(t=>Object.assign(Object.assign({},a(s,t)),{strokeCap:t.strokeCap,strokeJoin:t.strokeJoin,cornerRadius:t.cornerRadius,handleMirroring:t.handleMirroring}))}},e.encodeNetwork=function(t,e){const n=t&&t.vertices||[],r=t&&t.segments||[],s=t&&t.regions||[],i=[n.length,r.length,s.length],a=new Float32Array(1),c=new Int32Array(a.buffer);function g(t){return a[0]=t,c[0]}for(let o=0;o<n.length;o++){const t=n[o];i.push(e[o],g(t.x),g(t.y))}for(let l=0;l<r.length;l++){const t=r[l];i.push(o,t.start,g(t.tangentStart.x),g(t.tangentStart.y),t.end,g(t.tangentEnd.x),g(t.tangentEnd.y))}for(let l=0;l<s.length;l++){const t=s[l],e=t.loops;if("NONZERO"!==t.windingRule&&"EVENODD"!==t.windingRule)throw new Error("Invalid network has invalid winding rule "+JSON.stringify(t.windingRule));i.push(o<<1|("NONZERO"===t.windingRule?1:0),e.length);for(let n=0;n<e.length;n++){const t=e[n];i.push(t.length);for(let e=0;e<t.length;e++)i.push(t[e])}}return new Uint8Array(new Int32Array(i).buffer)},e.decodeNetwork=function(t,e){const n=[],r=[],o=[];if(t.length<3)return{vertices:n,segments:r,regions:o};const s=new Int32Array(t.buffer),i=new Float32Array(s.buffer);let a=0;const c=s[a++],g=s[a++],l=s[a++];for(let h=0;h<c;h++){let t=s[a++];const r=e.get(t)||e.get(0);n.push(Object.assign({x:i[a++],y:i[a++]},r))}for(let h=0;h<g;h++)a++,r.push({start:s[a++],tangentStart:{x:i[a++],y:i[a++]},end:s[a++],tangentEnd:{x:i[a++],y:i[a++]}});for(let h=0;h<l;h++){let t=s[a++],e=s[a++],n={windingRule:1&t?"NONZERO":"EVENODD",loops:[]};for(let r=0;r<e;r++){let t=s[a++],e=[];for(let n=0;n<t;n++)e.push(s[a++]);n.loops.push(e)}o.push(n)}if(a!==s.length)throw new Error("Failed to retrieve vector network, network data is invalid");return{vertices:n,segments:r,regions:o}},e.convertNetworkToPaths=function(t){const e=new f(t),n=Array(t.segments.length).fill(!1),o=[];if(e.isEmpty())return[];for(let a of e.regions){const t=new x(a.windingRule);for(const o of a.loops){let s=null;for(const{segment:i,segmentIndex:a}of e.getOrderedLoop(o)){n[a]=!0;const o=e.getVertex(i.start),c=e.getVertex(i.end);null===s&&(t.moveTo(o),s=o),d(i)?t.lineTo(c):t.curveTo(r.vectorAdd(o,i.tangentStart),r.vectorAdd(c,i.tangentEnd),c)}r.vectorEq(t.lastPosition,s)&&t.closePath()}o.push(t)}const s=[];for(let r=0;r<e.vertices.length;r++)s[r]=[];for(let r=0;r<e.segments.length;r++)n[r]||(s[e.segments[r].start].push(r),s[e.segments[r].end].push(r));const i=[];for(let r=0;r<2;r++)for(let t=0;t<e.vertices.length;t++)if(0!==r||2!==s[t].length)for(let r of s[t]){if(n[r])continue;let o=t,a=r;const c={segments:[],isClosed:!1,startingVertex:o};for(i.push(c);!n[a];){n[a]=!0,o=u(e.segments[a],o),c.segments.push(a);const t=s[o];if(2!==t.length)break;a=t[0]===a?t[1]:t[0]}o===t&&(c.isClosed=!0)}if(i.length>0){const t=new x("NONE");o.push(t);for(const n of i){let o=n.startingVertex,s=e.vertices[o];t.moveTo(s);for(const i of n.segments){const n=e.segments[i];o=n.start===o?n.end:n.start;const a=e.vertices[o];d(n)?t.lineTo(a):o===n.end?t.curveTo(r.vectorAdd(s,n.tangentStart),r.vectorAdd(a,n.tangentEnd),a):t.curveTo(r.vectorAdd(s,n.tangentEnd),r.vectorAdd(a,n.tangentStart),a),s=a}n.isClosed&&t.closePath()}}return o.map(t=>t.toVectorPath())},e.convertPathsToNetwork=function(t){const e=[],n=[],r=[],o={},a={},c=[];let g={x:0,y:0},l=null;function h(t){const n=m(t);return n in o?o[n]:(o[n]=e.length,e.push(t),o[n])}function d(t){const e=function(t){return t.start<t.end||t.start===t.end&&(t.tangentStart.x<t.tangentEnd.x||t.tangentStart.x===t.tangentEnd.x&&t.tangentStart.y<t.tangentEnd.y)?`${t.start} ${t.tangentStart.x} ${t.tangentStart.y} ${t.end} ${t.tangentEnd.x} ${t.tangentEnd.y}`:`${t.end} ${t.tangentEnd.x} ${t.tangentEnd.y} ${t.start} ${t.tangentStart.x} ${t.tangentStart.y}`}(t);return e in a?a[e]:(a[e]=n.length,n.push(t),a[e])}function u(){if(null===l){const t=h(g);l={startingVertex:t,loop:[]}}}function f(t){if(null!==l&&l.loop.length){const e=o[m(g)],n=l.startingVertex;if(t&&e!==n){const t=d({start:e,end:n,tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});l.loop.push(t)}c.push(l.loop)}l=null}for(const x of t){const t=i(x),e=t.length;let n=0;for(;n<e;){const r=t[n++],i=s[r];if(void 0===i||n+i>e)throw new Error("Failed to convert path to network, invalid commands data");switch(r){case"M":l=null,g={x:t[n++],y:t[n++]};break;case"L":{u();const e=d({start:o[m(g)],end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});l.loop.push(e);break}case"Q":{u();let e=g;const r=o[m(e)];let s={x:t[n++],y:t[n++]};const i=d({start:r,end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:2*(s.x-e.x)/3,y:2*(s.y-e.y)/3},tangentEnd:{x:2*(s.x-g.x)/3,y:2*(s.y-g.y)/3}});l.loop.push(i);break}case"C":{u();let e=g;const r=o[m(e)];let s={x:t[n++],y:t[n++]},i={x:t[n++],y:t[n++]};const a=d({start:r,end:h(g={x:t[n++],y:t[n++]}),tangentStart:{x:s.x-e.x,y:s.y-e.y},tangentEnd:{x:i.x-g.x,y:i.y-g.y}});l.loop.push(a);break}case"Z":f(!0)}}"NONE"!==x.windingRule&&(f(!1),c.length>0&&r.push({windingRule:x.windingRule,loops:c})),l=null}return{vertices:e,segments:n,regions:r}},e.multiplyTransforms=function(t,e){return{m00:t.m00*e.m00+t.m01*e.m10,m01:t.m00*e.m01+t.m01*e.m11,m02:t.m00*e.m02+t.m01*e.m12+t.m02,m10:t.m10*e.m00+t.m11*e.m10,m11:t.m10*e.m01+t.m11*e.m11,m12:t.m10*e.m02+t.m11*e.m12+t.m12}},e.invertMatrix=function(t){const e=1/(t.m00*t.m11-t.m01*t.m10);return{m00:t.m11*e,m01:-t.m01*e,m02:(t.m01*t.m12-t.m11*t.m02)*e,m10:-t.m10*e,m11:t.m00*e,m12:(t.m10*t.m02-t.m00*t.m12)*e}},e.transformVector=a,e.boundingBoxForNetwork=function(t){const e=t&&t.vertices||[],n=t&&t.segments||[];let o={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let s of n){let t=e[s.start],n=e[s.end];o=r.rectUnionWith(o,r.computeBounds(t,n))}for(let s of n){if(0===s.tangentStart.x&&0===s.tangentStart.y&&0===s.tangentEnd.x&&0===s.tangentEnd.y)continue;const t=e[s.start],n={x:t.x+s.tangentStart.x,y:t.y+s.tangentStart.y},i=e[s.end],a={x:i.x+s.tangentEnd.x,y:i.y+s.tangentEnd.y};r.rectContains(o,n)&&r.rectContains(o,a)||(o=r.rectUnionWith(o,c(t,n,a,i)))}return isFinite(o.x)&&isFinite(o.y)&&isFinite(o.width)&&isFinite(o.height)?o:{x:0,y:0,width:0,height:0}};class f{constructor(t){this.regions=[],this.segments=[],this.vertices=[],t&&(this.regions=t.regions,this.segments=t.segments,this.vertices=t.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(t,e){return t.start===e||t.end===e}startingVertex(t){if(1===t.length)return this.segments[t[0]].start;const e=this.segments[t[0]],n=this.segments[t[1]];let r=this.hasVertex(n,e.end);const o=this.hasVertex(n,e.start);if(r&&o&&t.length>2){const n=this.segments[t[2]];r=this.hasVertex(n,e.start)}if(r)return e.start;if(!o)throw new Error("Network: invalid starting vertex");return e.end}getOrderedLoop(t){if(0===t.length)return[];const e=[];let n=this.startingVertex(t);for(let r of t){const t=this.segments[r],o=t.start===n;if(t.start!==n&&t.end!==n)throw new Error("Network: invalid loop");o?(e.push({segmentIndex:r,segment:{start:t.start,end:t.end,tangentStart:t.tangentStart,tangentEnd:t.tangentEnd}}),n=t.end):(e.push({segmentIndex:r,segment:{start:t.end,end:t.start,tangentStart:t.tangentEnd,tangentEnd:t.tangentStart}}),n=t.start)}return e}getVertex(t){return this.vertices[t]}checkValid(){for(const[t,e]of this.segments.entries()){if(e.start>=this.vertices.length)throw new Error(`vectorNetwork.segments[${t}].start does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);if(e.end>=this.vertices.length)throw new Error(`vectorNetwork.segments[${t}].end does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`)}for(const[t,e]of this.regions.entries()){if(0===e.loops.length)throw new Error(`vectorNetwork.regions[${t}].loops must have at least one loop. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(const[n,r]of e.loops.entries()){if(0===r.length)throw new Error(`vectorNetwork.regions[${t}].loops[${n}] must have at least one segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(const[o,s]of r.entries())if(s>=this.segments.length)throw new Error(`vectorNetwork.regions[${t}].loops[${n}][${o}] does not refer to a valid segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);let e=this.startingVertex(r);for(const[o,s]of r.entries()){const r=this.segments[s];if(e!=r.start&&e!=r.end)throw new Error(`vectorNetwork.regions[${t}].loops[${n}][${o}] does not connect properly with previous segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);e=u(r,e)}}}}}class x{constructor(t){this.windingRule=t,this.commands=[],this.lastPosition=null}moveTo(t){this.commands.push("M",t.x,t.y),this.lastPosition=t}lineTo(t){this.commands.push("L",t.x,t.y),this.lastPosition=t}curveTo(t,e,n){this.commands.push("C",t.x,t.y,e.x,e.y,n.x,n.y),this.lastPosition=n}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(160       ),i=t(572                                          ),o=t(573          ),a=t(163                               ),s=t(118                             ),d=t(574                    ),u=t(246       ),c=t(394                  ),l=t(159                              ),f=t(323                ),p=t(324                        ),g=t(401                              ),m=t(85                   ),h=t(146                                          ),y=i.SceneGraphShim.instance,b=console.warn;class v extends Error{constructor(e){super(e)}}n.NodeNotFoundError=v;const w=i.StyleManager.instance;function S(e,n){if(!e.isObject(n))throw new Error(`Expected node, got ${e.isNull(n)?"null":e.typeof(n)}`);const t=e.getProp(n,"id");if(!e.isString(t))throw new Error(`Expected node id to be a string, got ${e.typeof(t)}`);const r=e.toString(t);if(l.looksLikeStyleKey(r)){const e=w.get(r);if(void 0===e)throw new v(`The style with id ${JSON.stringify(r)} does not exist`);return e}if(r.startsWith("I")){const e=a.PluginHelpers.guidFromDeveloperFriendlyId(r),n=e?y.get(e):void 0;if(void 0===n)throw new v(`The node (instance sublayer) with id ${JSON.stringify(r)} does not exist`);return n}return P(r)}function P(e){const n=y.get(e);if(void 0===n)throw new v(`The node with id ${JSON.stringify(e)} does not exist`);return n}function F(e){return"FRAME"===e.type&&e.resizeToFit}function A({vm:e,mixedSentinel:n,imageStore:t},r,i){e.defineProp(r,i,{enumerable:!0,get:function(){const r=S(e,this).fillPaintsOrMixed;if("mixed"===r)return n;const i=I(e,t,r.data);return e.deepFreezeObject(i),i},set:function(n){const r=[];return S(e,this).fillPaints={data:N(t,f.deepValidateAndUnwrap(e,n,p.Paints,i),r),blobs:r},e.undefined}})}function x(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function R(e){return e?{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}:{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}n.getNode=S,n.getNodeWrapperOrThrow=P,function(e){function n(e){const t=e.parent;if(!t)return;const r=y.get(t);r&&(n(r),g.setIsExpanded(e.guid,!0))}function t(e,n){if(!e)throw new Error(`Cannot ${n} in a plugin without an ID. `+'Make sure your plugin manifest has a valid "id" field.')}e.toString=function({vm:e,stats:n},t){e.defineFunction(t,"toString",function(){n.increment("node.toString");const t=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${t}]`)})},e.clone=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"clone",function(){n.increment("node.clone");const r=S(e,this).clone();return t.createNode(r)})},e.remove=function({vm:e,stats:n},t){e.defineFunction(t,"remove",function(){return n.increment("node.remove"),S(e,this).removeSelfAndChildren(),e.undefined})},e.exportNode=function({vm:e,stats:n},t){e.defineFunction(t,"exportAsync",function(t){n.increment("node.exportAsync");const r=S(e,this),i=f.deepValidateAndUnwrap(e,t,p.ExportSetting.isOptional,"settings")||{format:"PNG"},o=r.export(k([i]));if(0===o.length)throw new Error("Failed to export node");const{promise:a,resolve:s}=e.newPromise();return s(e.newUint8Array(o)),a})},e.parent=function({vm:e,nodeFactory:n},t){e.defineProp(t,"parent",{enumerable:!0,get:function(){const t=S(e,this).parent;if(null===t)return e.null;const r=n.createNode(t),i=S(e,r);return i.sharedSymbolReference||"CANVAS"===i.type&&i.isInternalOnlyNode?e.null:r}})},e.name=function({vm:e},n){e.defineProp(n,"name",{enumerable:!0,get:function(){const n=S(e,this);return"DOCUMENT"===n.type?e.newString(h.fullscreen.getCurrentFileName()):e.newString(n.name)},set:function(n){const t=S(e,this);if("TEXT"===t.type)t.autoRename=!1;else if("DOCUMENT"===t.type){if(e.isString(n))return b("Setting the document name is currently not supported"),e.undefined;throw new Error("Setting the document name is currently not supported")}return t.name=f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"name"),e.undefined}})},e.visible=function({vm:e},n){e.defineProp(n,"visible",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).visible)},set:function(n){return S(e,this).visible=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"visible"),e.undefined}})},e.locked=function({vm:e},n){e.defineProp(n,"locked",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).locked)},set:function(n){return S(e,this).locked=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"locked"),e.undefined}})},e.expanded=function({vm:e},n){e.defineProp(n,"expanded",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).isExpanded)},set:function(n){return S(e,this).isExpanded=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"expanded"),e.undefined}})},e.removed=function({vm:e},n){e.defineProp(n,"removed",{enumerable:!0,get:function(){try{return S(e,this),e.newBoolean(!1)}catch(n){if(n instanceof v)return e.newBoolean(!0);throw n}}})},e.children=function({vm:e,nodeFactory:n},t){e.defineProp(t,"children",{enumerable:!0,get:function(){const t=e.newArray(),r=S(e,this).reversedChildren,i=r.length;if("0:0"!==e.getStringProp(this,"id"))for(let o=0;o<i;o++)e.setProp(t,o.toString(),n.createNode(r[i-o-1]));else for(let o=0,a=0;o<i;o++){let s=r[i-o-1];P(s).isInternalOnlyNode||(e.setProp(t,a.toString(),n.createNode(s)),a++)}return e.deepFreezeObject(t),t}})},e.findOne=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findOne",function(r){n.increment("node.findOne");const i=(n,o)=>{const a=n.reversedChildren,s=a.length;for(let d=0;d<s;d++){const n=P(a[s-d-1]);if(o&&n.isInternalOnlyNode)continue;const u=t.createNode(n.guid),c=e.callFunction(r,e.null,u);if("FAILURE"===c.type)throw new Error(`"findOne" callback crashed: ${c.error.message}`);if(e.toBoolean(c.handle))return u;const l=i(n,!1);if(void 0!==l)return l}},o=S(e,this),a=i(o,"0:0"===o.guid);return void 0!==a?a:e.null})},e.findAll=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findAll",function(r){n.increment("node.findAll");const i=e.toBoolean(r),o=e.newArray();let a=0;const s=(n,d)=>{const u=n.reversedChildren,c=u.length;for(let l=0;l<c;l++){const n=P(u[c-l-1]);if(d&&n.isInternalOnlyNode)continue;const f=t.createNode(n.guid);if(i){const n=e.callFunction(r,e.null,f);if("FAILURE"===n.type)throw new Error(`"findAll" callback crashed: ${n.error.message}`);e.toBoolean(n.handle)&&(e.setProp(o,a+"",f),a++)}else e.setProp(o,a+"",f),a++;s(n,!1)}},d=S(e,this);return s(d,"0:0"===d.guid),o})},e.findChild=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findChild",function(r){n.increment("node.findChild");const i=S(e,this),o="0:0"===i.guid,a=i.reversedChildren,s=a.length;for(let n=0;n<s;n++){const i=P(a[s-n-1]);if(o&&i.isInternalOnlyNode)continue;const d=t.createNode(i.guid),u=e.callFunction(r,e.null,d);if("FAILURE"===u.type)throw new Error(`"findChild" callback crashed: ${u.error.message}`);if(e.toBoolean(u.handle))return d}return e.null})},e.findChildren=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"findChildren",function(r){n.increment("node.findChildren");const i=S(e,this),o="0:0"===i.guid,a=e.newArray();let s=0;const d=i.reversedChildren,u=d.length;for(let n=0;n<u;n++){const i=P(d[u-n-1]);if(o&&i.isInternalOnlyNode)continue;const c=t.createNode(i.guid),l=e.callFunction(r,e.null,c);if("FAILURE"===l.type)throw new Error(`"findChildren" callback crashed: ${l.error.message}`);e.toBoolean(l.handle)&&(e.setProp(a,s+"",c),s++)}return a})},e.appendChild=function({vm:e,stats:n},t){e.defineFunction(t,"appendChild",function(t){return n.increment("node.appendChild"),S(e,this).appendChild(S(e,t)),e.null}),e.defineFunction(t,"insertChild",function(t,r){n.increment("node.insertChild");let i=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer,"index");const o=S(e,this);if("0:0"===e.getStringProp(this,"id")){const e=o.reversedChildren,n=e.length;for(let t=0;t<n&&t<i;t++)P(e[n-t-1]).isInternalOnlyNode&&i++}return o.insertChild(S(e,r),i),e.null})},e.constraints=function({vm:e},n){e.defineProp(n,"constraints",{enumerable:!0,get:function(){const n=S(e,this);if(F(n))return e.undefined;if("BOOLEAN_OPERATION"===n.type)return e.undefined;const t=e.deepWrap({horizontal:n.horizontalConstraint,vertical:n.verticalConstraint});return e.deepFreezeObject(t),t},set:function(n){const t=S(e,this);if(F(t))throw new Error("Groups do not have a constraint property. Please set the constraints on the node's children.");if("BOOLEAN_OPERATION"===t.type)throw new Error("Boolean operations do not have a constraint property. Please set the constraints on the node's children.");const{vertical:r,horizontal:i}=f.deepValidateAndUnwrap(e,n,p.Constraints,"constraints");return t.verticalConstraint=r,t.horizontalConstraint=i,e.undefined}})},e.layoutAlign=function({vm:e},n){e.defineProp(n,"layoutAlign",{enumerable:!0,get:function(){return e.newString(S(e,this).stackCounterAlign)},set:function(n){return S(e,this).stackCounterAlign=f.deepValidateAndUnwrap(e,n,p.LayoutAlign,"layoutAlign"),e.undefined}})},e.layoutMode=function({vm:e},n){e.defineProp(n,"layoutMode",{enumerable:!0,get:function(){return e.newString(S(e,this).stackMode)},set:function(n){return S(e,this).stackMode=f.deepValidateAndUnwrap(e,n,p.LayoutMode,"layoutMode"),e.undefined}})},e.counterAxisSizingMode=function({vm:e},n){e.defineProp(n,"counterAxisSizingMode",{enumerable:!0,get:function(){switch(S(e,this).stackCounterSizing){case"FIXED":return e.newString("FIXED");case"RESIZE_TO_FIT":return e.newString("AUTO")}},set:function(n){switch(f.deepValidateAndUnwrap(e,n,p.CounterAxisSizingMode,"counterAxisSizingMode")){case"FIXED":S(e,this).stackCounterSizing="FIXED";break;case"AUTO":S(e,this).stackCounterSizing="RESIZE_TO_FIT"}return e.undefined}})},e.horizontalPadding=function({vm:e},n){e.defineProp(n,"horizontalPadding",{enumerable:!0,get:function(){return e.newNumber(S(e,this).stackHorizontalPadding)},set:function(n){return S(e,this).stackHorizontalPadding=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"horizontalPadding"),e.undefined}})},e.verticalPadding=function({vm:e},n){e.defineProp(n,"verticalPadding",{enumerable:!0,get:function(){return e.newNumber(S(e,this).stackVerticalPadding)},set:function(n){return S(e,this).stackVerticalPadding=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"verticalPadding"),e.undefined}})},e.itemSpacing=function({vm:e},n){e.defineProp(n,"itemSpacing",{enumerable:!0,get:function(){return e.newNumber(S(e,this).stackSpacing)},set:function(n){return S(e,this).stackSpacing=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"itemSpacing"),e.undefined}})},e.relativeTransform=function({vm:e},n){e.defineProp(n,"relativeTransform",{enumerable:!0,get:function(){const n=e.deepWrap(x(S(e,this).relativeTransform));return e.deepFreezeObject(n),n},set:function(n){return S(e,this).relativeTransform=R(f.deepValidateAndUnwrap(e,n,p.Matrix,"relativeTransform")),e.undefined}})},e.absoluteTransform=function({vm:e},n){e.defineProp(n,"absoluteTransform",{enumerable:!0,get:function(){const n=e.deepWrap(x(S(e,this).absoluteTransform));return e.deepFreezeObject(n),n}})},e.rotation=function({vm:e},n){e.defineProp(n,"rotation",{enumerable:!0,get:function(){const n=S(e,this),t=o.getRotationOfMatrix(n.relativeTransform)*(180/Math.PI);return e.newNumber(t)},set:function(n){const t=S(e,this),r=f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"rotation")*(Math.PI/180);return t.relativeTransform=o.setRotationOfMatrix(t.relativeTransform,r),e.undefined}})},e.x=function({vm:e},n){e.defineProp(n,"x",{enumerable:!0,get:function(){return e.newNumber(S(e,this).relativeTransform.m02)},set:function(n){const t=S(e,this);return t.relativeTransform=Object.assign(Object.assign({},t.relativeTransform),{m02:f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"x")}),e.undefined}})},e.y=function({vm:e},n){e.defineProp(n,"y",{enumerable:!0,get:function(){return e.newNumber(S(e,this).relativeTransform.m12)},set:function(n){const t=S(e,this);return t.relativeTransform=Object.assign(Object.assign({},t.relativeTransform),{m12:f.deepValidateAndUnwrap(e,n,f.PropTypes.float,"y")}),e.undefined}})},e.width=function({vm:e},n){e.defineProp(n,"width",{enumerable:!0,get:function(){return e.newNumber(S(e,this).size.x)}})},e.height=function({vm:e},n){e.defineProp(n,"height",{enumerable:!0,get:function(){return e.newNumber(S(e,this).size.y)}})},e.resizeWithoutConstraints=function({vm:e,stats:n},t){e.defineFunction(t,"resizeWithoutConstraints",function(t,r){n.increment("node.resizeWithoutConstraints");let i=S(e,this),o="LINE"===i.type?0:p.NonZeroPositiveFloat;const a=f.deepValidateAndUnwrap(e,t,p.NonZeroPositiveFloat,"width"),s=f.deepValidateAndUnwrap(e,r,o,"height");return i.hasMissingFont&&n.resizeNodeWithMissingFont(),i.resizeWithoutConstraints(a,s),e.undefined})},e.resizeWithConstraints=function({vm:e,stats:n},t){e.defineFunction(t,"resize",function(t,r){n.increment("node.resize");let i=S(e,this),o="LINE"===i.type?0:p.NonZeroPositiveFloat;const a=f.deepValidateAndUnwrap(e,t,p.NonZeroPositiveFloat,"width"),s=f.deepValidateAndUnwrap(e,r,o,"height");return i.hasMissingFont&&n.resizeNodeWithMissingFont(),i.resizeWithConstraints(a,s),e.undefined})},e.constrainProportions=function({vm:e},n){e.defineProp(n,"constrainProportions",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).proportionsConstrained)},set:function(n){return S(e,this).proportionsConstrained=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"constrainProportions"),e.undefined}})},e.opacity=function({vm:e},n){e.defineProp(n,"opacity",{enumerable:!0,get:function(){return e.newNumber(S(e,this).opacity)},set:function(n){return S(e,this).opacity=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"opacity"),e.undefined}})},e.blendMode=function({vm:e},n){e.defineProp(n,"blendMode",{enumerable:!0,get:function(){return e.newString(S(e,this).blendMode)},set:function(n){return S(e,this).blendMode=f.deepValidateAndUnwrap(e,n,p.BlendMode,"blendMode"),e.undefined}})},e.isMask=function({vm:e},n){e.defineProp(n,"isMask",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).mask)},set:function(n){return S(e,this).mask=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"isMask"),e.undefined}})},e.effects=function({vm:e},n){e.defineProp(n,"effects",{enumerable:!0,get:function(){const n=e.deepWrap(S(e,this).effects.map(e=>"INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type?{type:e.type,color:e.color,offset:e.offset,radius:e.radius,visible:e.visible,blendMode:e.blendMode}:{type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,radius:e.radius,visible:e.visible}));return e.deepFreezeObject(n),n},set:function(n){return S(e,this).effects=f.deepValidateAndUnwrap(e,n,p.Effects,"effects").map(e=>Object.assign(Object.assign({},e),{type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type})),e.undefined}})},e.effectStyleId=function({vm:e},n){e.defineProp(n,"effectStyleId",{enumerable:!0,get:function(){return e.newString(l.styleKeyToString(S(e,this).inheritedEffectStyle))},set:function(n){return S(e,this).inheritedEffectStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.cornerRadius=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"cornerRadius",{enumerable:!0,get:function(){const t=S(e,this);if(F(t))return e.undefined;let r=t.cornerRadiusOrMixed;return"mixed"===r?n:e.newNumber(r)},set:function(n){const t=S(e,this);if(F(t))throw new Error("Groups do not have a cornerRadius property. Please use frames instead.");const r=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"cornerRadius");return t.cornerRadiusOrMixed=r,e.undefined}})},e.cornerSmoothing=function({vm:e},n){e.defineProp(n,"cornerSmoothing",{enumerable:!0,get:function(){const n=S(e,this);return F(n)?e.undefined:e.newNumber(n.cornerSmoothing)},set:function(n){const t=S(e,this);if(F(t))throw new Error("Groups do not have a cornerSmoothing property. Please use frames instead.");return t.cornerSmoothing=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"cornerSmoothing"),e.undefined}})},e.fills=function(e,n){A(e,n,"fills")},e.fillStyleId=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fillStyleId",{enumerable:!0,get:function(){const t=S(e,this).inheritedFillStyleOrMixed;return"mixed"===t?n:e.newString(l.styleKeyToString(t))},set:function(n){return S(e,this).inheritedFillStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"fillStyleId")),e.undefined}})},e.strokes=function({vm:e,imageStore:n},t){e.defineProp(t,"strokes",{enumerable:!0,get:function(){const t=S(e,this),r=I(e,n,t.strokePaints.data);return e.deepFreezeObject(r),r},set:function(t){const r=[];return S(e,this).strokePaints={data:N(n,f.deepValidateAndUnwrap(e,t,p.Paints,"strokes"),r),blobs:r},e.undefined}})},e.strokeStyleId=function({vm:e},n){e.defineProp(n,"strokeStyleId",{enumerable:!0,get:function(){const n=S(e,this);return e.newString(l.styleKeyToString(n.inheritedFillStyleForStroke))},set:function(n){return S(e,this).inheritedFillStyleForStroke=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.strokeWeight=function({vm:e},n){e.defineProp(n,"strokeWeight",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.strokeWeight)},set:function(n){return S(e,this).strokeWeight=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"strokeWeight"),e.undefined}})},e.strokeAlign=function({vm:e},n){e.defineProp(n,"strokeAlign",{enumerable:!0,get:function(){return e.newString(S(e,this).strokeAlign)},set:function(n){return S(e,this).strokeAlign=f.deepValidateAndUnwrap(e,n,p.StrokeAlign,"strokeAlign"),e.undefined}})},e.strokeCap=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"strokeCap",{enumerable:!0,get:function(){let t=S(e,this).strokeCapOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return S(e,this).strokeCap=f.deepValidateAndUnwrap(e,n,p.StrokeCap,"strokeCap"),e.undefined}})},e.strokeJoin=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"strokeJoin",{enumerable:!0,get:function(){let t=S(e,this).strokeJoinOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return S(e,this).strokeJoin=f.deepValidateAndUnwrap(e,n,p.StrokeJoin,"strokeJoin"),e.undefined}})},e.handleMirroring=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"handleMirroring",{enumerable:!0,get:function(){let t=S(e,this).handleMirroringOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return S(e,this).handleMirroring=f.deepValidateAndUnwrap(e,n,p.HandleMirroring,"handleMirroring"),e.undefined}})},e.strokeMiterLimit=function({vm:e},n){e.defineProp(n,"strokeMiterLimit",{enumerable:!0,get:function(){return e.newNumber(S(e,this).strokeMiterLimit)},set:function(n){return S(e,this).strokeMiterLimit=f.deepValidateAndUnwrap(e,n,f.PropTypes.float.range(1,16),"strokeMiterLimit"),e.undefined}})},e.dashPattern=function({vm:e},n){e.defineProp(n,"dashPattern",{enumerable:!0,get:function(){const n=S(e,this),t=e.deepWrap(n.dashPattern);return e.deepFreezeObject(t),t},set:function(n){const t=f.deepValidateAndUnwrap(e,n,f.PropTypes.arrayOf(f.PropTypes.float.min(0)),"dashPattern");if(t.length>a.PluginHelpers.getMaxDashPattern())throw new Error("A maximum of 8 dash patterns is supported");return S(e,this).dashPattern=t,e.undefined}})},e.backgrounds=function({vm:e,imageStore:n},t){e.defineProp(t,"backgrounds",{enumerable:!0,get:function(){const t=S(e,this),r=m.getFeatureFlags().frame_properties_migration&&"CANVAS"!==t.type?I(e,n,t.fillPaints.data):I(e,n,t.backgroundPaints.data);return e.deepFreezeObject(r),r},set:function(t){const r=S(e,this),i=[],o={data:N(n,f.deepValidateAndUnwrap(e,t,p.Paints,"backgrounds"),i),blobs:i};if(m.getFeatureFlags().frame_properties_migration&&"CANVAS"!==r.type){if(F(r))return b("backgrounds on groups are no longer supported"),e.undefined;r.fillPaints=o}else r.backgroundPaints=o;return e.undefined}})},e.backgroundStyleId=function({vm:e},n){e.defineProp(n,"backgroundStyleId",{enumerable:!0,get:function(){const n=S(e,this),t=m.getFeatureFlags().frame_properties_migration?l.styleKeyToString(n.inheritedFillStyle):l.styleKeyToString(n.inheritedFillStyleForBackground);return e.newString(t)},set:function(n){const t=S(e,this),r=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"backgroundStyleId"));if(m.getFeatureFlags().frame_properties_migration){if(F(t))return b("backgrounds on groups are no longer supported"),e.undefined;t.inheritedFillStyle=r}else t.inheritedFillStyleForBackground=r;return e.undefined}})},e.layoutGrids=function({vm:e},n){e.defineProp(n,"layoutGrids",{enumerable:!0,get:function(){const n=e.deepWrap(void 0===(t=S(e,this).layoutGrids)?[]:t.map(e=>{let n={pattern:"GRID"===e.pattern?"GRID":"X"===e.axis?"COLUMNS":"ROWS",visible:e.visible,color:e.color};if("STRIPES"===e.pattern)switch(n.gutterSize=e.gutterSize,n.alignment=e.type,e.type){case"MIN":case"MAX":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,n.sectionSize=e.sectionSize,n.offset=e.offset;break;case"STRETCH":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?1:e.numSections,n.offset=e.offset;break;case"CENTER":n.count=e.numSections===s.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,n.sectionSize=e.sectionSize}else n.sectionSize=e.sectionSize;return n}));var t;return e.deepFreezeObject(n),n},set:function(n){return S(e,this).layoutGrids=function(e){const n={alignment:"STRETCH",count:5,gutterSize:20,sectionSize:10,offset:0,visible:!0,color:{r:1,g:0,b:0,a:.1}};return e.map(e=>{const t=f.addDefaults(e,n);return{pattern:"COLUMNS"===t.pattern||"ROWS"===t.pattern?"STRIPES":t.pattern,axis:"COLUMNS"===t.pattern?"X":"Y",numSections:Math.min(t.count,s.NUM_SECTIONS_INFINITE),type:t.alignment,gutterSize:t.gutterSize,sectionSize:t.sectionSize,offset:t.offset,visible:t.visible,color:t.color}})}(f.deepValidateAndUnwrap(e,n,p.LayoutGrids,"layoutGrids")),e.undefined}})},e.gridStyleId=function({vm:e},n){e.defineProp(n,"gridStyleId",{enumerable:!0,get:function(){return e.newString(l.styleKeyToString(S(e,this).inheritedGridStyle))},set:function(n){return S(e,this).inheritedGridStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"gridStyleId")),e.undefined}})},e.clipsContent=function({vm:e},n){e.defineProp(n,"clipsContent",{enumerable:!0,get:function(){return e.newBoolean(!S(e,this).frameMaskDisabled)},set:function(n){return S(e,this).frameMaskDisabled=!f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"clipsContent"),e.undefined}})},e.overflowDirection=function({vm:e},n){e.defineProp(n,"overflowDirection",{enumerable:!0,get:function(){const n=S(e,this);return e.newString(n.scrollDirection)},set:function(n){return S(e,this).scrollDirection=f.deepValidateAndUnwrap(e,n,p.OverflowDirection,"overflowDirection"),e.undefined}})},e.numberOfFixedChildren=function({vm:e},n){e.defineProp(n,"numberOfFixedChildren",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.fixedChildrenCount)},set:function(n){const t=S(e,this),r=f.deepValidateAndUnwrap(e,n,p.PositiveInteger,"numberOfFixedChildren");if(r>t.reversedChildren.length)throw new Error("numberOfFixedChildren must be <= the number of children in the node");return t.fixedChildrenCount=r,e.undefined}})},e.description=function({vm:e},n){e.defineProp(n,"description",{enumerable:!0,get:function(){return e.newString(S(e,this).symbolDescription)},set:function(n){return S(e,this).symbolDescription=f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"description"),e.undefined}})},e.remote=function({vm:e},n){e.defineProp(n,"remote",{enumerable:!0,get:function(){var n;const t=S(e,this),r=!!(null===(n=t.parent?y.get(t.parent):null)||void 0===n?void 0:n.sharedSymbolReference);return e.newBoolean(r)}})},e.masterComponent=function({vm:e,nodeFactory:n},t){e.defineProp(t,"masterComponent",{enumerable:!0,get:function(){const t=S(e,this);return n.createNode(t.symbolId)},set:function(n){const t=S(e,this),r=S(e,n),i=a.PluginHelpers.replaceSymbolBackingInstance(t.guid,r.guid);if("failure"===i.status)throw new Error(i.error)}})},e.scaleFactor=function({vm:e},n){e.defineProp(n,"scaleFactor",{enumerable:!0,get:function(){return e.newNumber(S(e,this).instanceScaleFactor)},set:function(n){return S(e,this).instanceScaleFactor=f.deepValidateAndUnwrap(e,n,p.NonZeroPositiveFloat,"scaleFactor"),e.undefined}})},e.key=function({vm:e},n){e.defineProp(n,"key",{enumerable:!0,get:function(){const n=S(e,this).componentKey;return e.newString(null===n?"":n)}})},e.createInstance=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"createInstance",function(){n.increment("node.createInstance");const r=S(e,this).createInstance();return t.createNode(r)})},e.textStyleId=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textStyleId",{enumerable:!0,get:function(){const t=S(e,this).inheritedTextStyleOrMixed;return"mixed"===t?n:e.newString(l.styleKeyToString(t))},set:function(n){return S(e,this).inheritedTextStyle=l.styleKeyFromString(f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"textStyleId")),e.undefined}})},e.characters=function({vm:e},n){e.defineProp(n,"characters",{enumerable:!0,get:function(){return e.newString(S(e,this).characters)},set:function(n){return S(e,this).characters=f.deepValidateAndUnwrap(e,n,f.PropTypes.string,"characters"),e.undefined}})},e.hasMissingFont=function({vm:e},n){e.defineProp(n,"hasMissingFont",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).hasMissingFont)}})},e.autoRename=function({vm:e},n){e.defineProp(n,"autoRename",{enumerable:!0,get:function(){return e.newBoolean(S(e,this).autoRename)},set:function(n){const t=S(e,this),r=f.deepValidateAndUnwrap(e,n,f.PropTypes.bool,"autoRename");return t.autoRename=r,r&&(t.name=t.characters.trim().replace(/\s+/g," ")),e.undefined}})},e.fontSize=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fontSize",{enumerable:!0,get:function(){let t=S(e,this).fontSizeOrMixed;return"mixed"===t?n:e.newNumber(t)},set:function(n){return S(e,this).fontSize=f.deepValidateAndUnwrap(e,n,f.PropTypes.float.min(1),"fontSize"),e.undefined}})},e.paragraphIndent=function({vm:e},n){e.defineProp(n,"paragraphIndent",{enumerable:!0,get:function(){return e.newNumber(S(e,this).paragraphIndent)},set:function(n){return S(e,this).paragraphIndent=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"paragraphIndent"),e.undefined}})},e.paragraphSpacing=function({vm:e},n){e.defineProp(n,"paragraphSpacing",{enumerable:!0,get:function(){return e.newNumber(S(e,this).paragraphSpacing)},set:function(n){return S(e,this).paragraphSpacing=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"paragraphSpacing"),e.undefined}})},e.letterSpacing=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"letterSpacing",{enumerable:!0,get:function(){let t=S(e,this).letterSpacingOrMixed;if("mixed"===t)return n;const r=e.deepWrap({unit:t.units,value:t.value});return e.deepFreezeObject(r),r},set:function(n){let t=f.deepValidateAndUnwrap(e,n,p.LetterSpacing,"letterSpacing");return S(e,this).letterSpacing={units:t.unit,value:t.value},e.undefined}})},e.textAlignHorizontal=function({vm:e},n){e.defineProp(n,"textAlignHorizontal",{enumerable:!0,get:function(){return e.newString(S(e,this).textAlignHorizontal)},set:function(n){return S(e,this).textAlignHorizontal=f.deepValidateAndUnwrap(e,n,p.TextAlignHorizontal,"textAlignHorizontal"),e.undefined}})},e.textAlignVertical=function({vm:e},n){e.defineProp(n,"textAlignVertical",{enumerable:!0,get:function(){return e.newString(S(e,this).textAlignVertical)},set:function(n){return S(e,this).textAlignVertical=f.deepValidateAndUnwrap(e,n,p.TextAlignVertical,"textAlignVertical"),e.undefined}})},e.textCase=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textCase",{enumerable:!0,get:function(){let t=S(e,this).textCaseOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return S(e,this).textCase=f.deepValidateAndUnwrap(e,n,p.TextCase,"textCase"),e.undefined}})},e.textDecoration=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"textDecoration",{enumerable:!0,get:function(){let t=S(e,this).textDecorationOrMixed;return"mixed"===t?n:e.newString(t)},set:function(n){return S(e,this).textDecoration=f.deepValidateAndUnwrap(e,n,p.TextDecoration,"textDecoration"),e.undefined}})},e.textAutoResize=function({vm:e},n){e.defineProp(n,"textAutoResize",{enumerable:!0,get:function(){return e.newString(S(e,this).textAutoResize)},set:function(n){return S(e,this).textAutoResize=f.deepValidateAndUnwrap(e,n,p.TextAutoResize,"textAutoResize"),e.undefined}})},e.lineHeight=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"lineHeight",{enumerable:!0,get:function(){let t=S(e,this).lineHeightOrMixed;if("mixed"===t)return n;const r=e.deepWrap(O(t));return e.deepFreezeObject(r),r},set:function(n){return S(e,this).lineHeight=C(f.deepValidateAndUnwrap(e,n,p.LineHeight,"lineHeight")),e.undefined}})},e.fontName=function({vm:e,mixedSentinel:n},t){e.defineProp(t,"fontName",{enumerable:!0,get:function(){let t=S(e,this).fontNameOrMixed;if("mixed"===t)return n;const r=e.deepWrap({family:t.family,style:t.style});return e.deepFreezeObject(r),r},set:function(n){return S(e,this).fontName=f.deepValidateAndUnwrap(e,n,p.FontName,"fontName"),e.undefined}})},e.pointCount=function({vm:e},n){e.defineProp(n,"pointCount",{enumerable:!0,get:function(){return e.newNumber(S(e,this).count)},set:function(n){return S(e,this).count=f.deepValidateAndUnwrap(e,n,f.PropTypes.integer.min(3),"pointCount"),e.undefined}})},e.vectorNetwork=function({vm:e},n){e.defineProp(n,"vectorNetwork",{enumerable:!0,get:function(){const n=S(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=n.size;if(null==t.vectorNetworkBlob)throw new Error("Figma Internal Error: vector is missing data");const o=E(t,i,r[t.vectorNetworkBlob],n),a=e.deepWrap(o);return e.deepFreezeObject(a),a},set:function(n){const t=f.addDefaults(f.deepValidateAndUnwrap(e,n,p.VectorNetwork,"vectorNetwork"),{regions:[]});t.segments=t.segments.map(e=>f.addDefaults(e,{tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}})),d.validateVectorNetwork(t);const{boundingBox:r,blob:i,styleOverrideTable:o}=U(t),a={x:r.width,y:r.height},s={x:r.x,y:r.y},u=S(e,this);u.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:a,styleOverrideTable:o},blobs:[i]};const c=u.relativeTransform,l=d.transformVector(c,s);return u.size=a,u.relativeTransform=Object.assign(Object.assign({},c),{m02:l.x,m12:l.y}),e.undefined}})},e.vectorPaths=function({vm:e},n){e.defineProp(n,"vectorPaths",{enumerable:!0,get:function(){const n=S(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=n.size;if(null==t.vectorNetworkBlob)throw new Error("Figma Internal Error: vector is missing data");const o=function(e,n,t,r){const i=E(e,n,t,r);return d.convertNetworkToPaths(i)}(t,i,r[t.vectorNetworkBlob],n),a=e.deepWrap(o);return e.deepFreezeObject(a),a},set:function(n){const{boundingBox:t,blob:r}=(i=f.deepValidateAndUnwrap(e,n,p.VectorPaths,"vectorPaths"),U(d.convertPathsToNetwork(i)));var i;const o={x:t.width,y:t.height},a={x:t.x,y:t.y},s=S(e,this);s.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:o},blobs:[r]};const u=s.relativeTransform,c=d.transformVector(u,a);return s.size=o,s.relativeTransform=Object.assign(Object.assign({},u),{m02:c.x,m12:c.y}),e.undefined}})},e.guides=function({vm:e},n){e.defineProp(n,"guides",{enumerable:!0,get:function(){const n=e.deepWrap(S(e,this).guides.map(e=>{if(null==e.axis||null==e.offset)throw new Error("Figma Internal Error: guide missing data");return{axis:e.axis,offset:e.offset}}));return e.deepFreezeObject(n),n},set:function(n){return S(e,this).guides=f.deepValidateAndUnwrap(e,n,p.Guides,"guides").map(e=>({axis:e.axis,offset:e.offset,guid:r.invalidGUID})),e.undefined}})},e.prototypeStartNode=function({vm:e,nodeFactory:n},t){e.defineProp(t,"prototypeStartNode",{enumerable:!0,get:function(){const t=S(e,this).prototypeStartNodeId;return t&&void 0!==y.get(t)?n.createNode(t):e.null}})},e.reactions=function({vm:e},n){e.defineProp(n,"reactions",{enumerable:!0,get:function(){const n=S(e,this).reactions,t=e.deepWrap(n);return e.deepFreezeObject(t),t}})},e.overlayPositionType=function({vm:e},n){e.defineProp(n,"overlayPositionType",{enumerable:!0,get:function(){return e.newString(S(e,this).overlayPositionType)}})},e.overlayBackgroundInteraction=function({vm:e},n){e.defineProp(n,"overlayBackgroundInteraction",{enumerable:!0,get:function(){return e.newString(S(e,this).overlayBackgroundInteraction)}})},e.overlayBackground=function({vm:e},n){e.defineProp(n,"overlayBackground",{enumerable:!0,get:function(){const n=S(e,this).overlayBackground,t=e.deepWrap(n);return e.deepFreezeObject(t),t}})},e.selection=function({vm:e,nodeFactory:t},r){e.defineProp(r,"selection",{enumerable:!0,get:function(){const n=e.newArray();let r=0;for(const i of S(e,this).directlySelectedNodes)e.setProp(n,r.toString(),t.createNode(i)),r++;return e.shallowFreezeObject(n),n},set:function(t){if(!e.isArray(t))throw new Error("The selection must be an array");const r=e.getNumberProp(t,"length"),i=[];for(let o=0;o<r;o++){const r=e.getProp(t,o.toString()),a=S(e,r);n(a),i.push(a.guid)}return S(e,this).directlySelectedNodes=i,e.undefined}})},e.booleanOperation=function({vm:e},n){e.defineProp(n,"booleanOperation",{enumerable:!0,get:function(){let n=S(e,this).booleanOperation;return"XOR"===n&&(n="EXCLUDE"),e.newString(n)},set:function(n){let t=f.deepValidateAndUnwrap(e,n,p.BooleanOperation,"booleanOperation");return"EXCLUDE"===t&&(t="XOR"),S(e,this).booleanOperation=t,e.undefined}})},e.innerRadius=function({vm:e},n){e.defineProp(n,"innerRadius",{enumerable:!0,get:function(){return e.newNumber(S(e,this).starInnerScale)},set:function(n){return S(e,this).starInnerScale=f.deepValidateAndUnwrap(e,n,p.ZeroToOne,"innerRadius"),e.undefined}})},e.arcData=function({vm:e},n){e.defineProp(n,"arcData",{enumerable:!0,get:function(){const n=e.deepWrap(S(e,this).arcData);return e.deepFreezeObject(n),n},set:function(n){return S(e,this).arcData=f.deepValidateAndUnwrap(e,n,p.ArcData,"arcData"),e.undefined}})},e.topLeftRadius=function({vm:e},n){e.defineProp(n,"topLeftRadius",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleTopLeftCornerRadius:n.cornerRadius)},set:function(n){const t=S(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleTopLeftCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"topLeftRadius"),e.undefined}})},e.topRightRadius=function({vm:e},n){e.defineProp(n,"topRightRadius",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleTopRightCornerRadius:n.cornerRadius)},set:function(n){const t=S(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleTopRightCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"topRightRadius"),e.undefined}})},e.bottomLeftRadius=function({vm:e},n){e.defineProp(n,"bottomLeftRadius",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleBottomLeftCornerRadius:n.cornerRadius)},set:function(n){const t=S(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleBottomLeftCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"bottomLeftRadius"),e.undefined}})},e.bottomRightRadius=function({vm:e},n){e.defineProp(n,"bottomRightRadius",{enumerable:!0,get:function(){const n=S(e,this);return e.newNumber(n.rectangleCornerRadiiIndependent?n.rectangleBottomRightCornerRadius:n.cornerRadius)},set:function(n){const t=S(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleCornerToolIndependent=!0,t.rectangleBottomRightCornerRadius=f.deepValidateAndUnwrap(e,n,p.PositiveFloat,"bottomRightRadius"),e.undefined}})},e.exportSettings=function({vm:e},n){e.defineProp(n,"exportSettings",{enumerable:!0,get:function(){const n=e.deepWrap(void 0===(t=S(e,this).exportSettings)?[]:t.map(e=>{const n={format:"JPEG"===e.imageType?"JPG":e.imageType,suffix:e.suffix||"",contentsOnly:!!e.contentsOnly};return"JPG"===n.format||"PNG"===n.format?n.constraint={type:e.constraint.type.substring("CONTENT_".length),value:e.constraint.value}:"SVG"===n.format&&(n.svgOutlineText=!!e.svgOutlineText,n.svgIdAttribute="ALWAYS"==e.svgIDMode,n.svgSimplifyStroke=!e.svgForceStrokeMasks),n}));var t;return e.deepFreezeObject(n),n},set:function(n){return S(e,this).exportSettings=k(f.deepValidateAndUnwrap(e,n,p.ExportSettings,"exportSettings")),e.undefined}})},e.pluginData=function({vm:e,stats:n,pluginID:r},i){function o(e){if(e.length<3)throw new Error("The namespace must be at least 3 characters");if(!e.match(/^[0-9a-z]+$/))throw new Error("The namespace can only consist of lowercase alphanumeric characters")}e.defineFunction(i,"getSharedPluginData",function(t,r){n.increment("node.getSharedPluginData");const i=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"namepace");o(i);const a=f.deepValidateAndUnwrap(e,r,f.PropTypes.string,"key");return e.newString(S(e,this).getPluginData("",`${i}-${a}`))}),e.defineFunction(i,"setSharedPluginData",function(t,r,i){n.increment("node.setSharedPluginData");const a=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"namepace");o(a);const s=f.deepValidateAndUnwrap(e,r,f.PropTypes.string,"key"),d=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value");return S(e,this).setPluginData("",`${a}-${s}`,d),e.undefined}),e.defineFunction(i,"getPluginData",function(i){n.increment("node.getPluginData"),t(r,"get private plugin data");const o=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"key");return e.newString(S(e,this).getPluginData(r,o))}),e.defineFunction(i,"setPluginData",function(i,o){n.increment("node.setPluginData"),t(r,"set private plugin data");const a=f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"key"),s=f.deepValidateAndUnwrap(e,o,f.PropTypes.string,"value");return S(e,this).setPluginData(r,a,s),e.undefined})},e.pluginRelaunchData=function({vm:e,stats:n,pluginID:r,enableProposedApi:i},o){(i||m.getFeatureFlags().plugin_relaunch_api)&&e.defineFunction(o,"setRelaunchData",function(i){n.increment("node.setRelaunchData"),t(r,"set relaunch data");const o=f.deepValidateAndUnwrap(e,i,p.RelaunchData,"relaunchData"),a=Object.keys(o),s=S(e,this);if(0===a.length)s.clearRelaunchData(r);else{if(a.length>1)throw new Error('Expected "relaunchData" to have only one command (until multiple command support has been added)');if(o[a[0]].length>1e3)throw new Error("Maximum allowed description length is 1000 characters");s.setRelaunchData(r,a[0],o[a[0]])}return e.undefined})},e.textRangeFunctions=function({vm:e,stats:n,mixedSentinel:t,imageStore:r},i){function o(n,t,r){const i=f.deepValidateAndUnwrap(e,t,p.PositiveInteger,"start"),o=f.deepValidateAndUnwrap(e,r,p.PositiveInteger,"end");if(i>=o)throw new Error("Empty range selected. 'end' must be greater than 'start'");if(o>n.characters.length)throw new Error("Range outside of available characters. 'start' must be less than node.characters.length and 'end' must be less than or equal to node.characters.length");return[i,o]}e.defineFunction(i,"getRangeFontSize",function(r,i){n.increment("node.getRangeFontSize");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeFontSize(s,d);return"mixed"===u?t:e.newNumber(u)}),e.defineFunction(i,"setRangeFontSize",function(t,r,i){n.increment("node.setRangeFontSize");const a=S(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,f.PropTypes.float.min(1),"value");return a.setRangeFontSize(s,d,u),e.undefined}),e.defineFunction(i,"getRangeFontName",function(r,i){n.increment("node.getRangeFontName");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeFontName(s,d);if("mixed"===u)return t;const c=e.deepWrap({family:u.family,style:u.style});return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeFontName",function(t,r,i){n.increment("node.setRangeFontName");const a=S(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.FontName,"value");return a.setRangeFontName(s,d,u),e.undefined}),e.defineFunction(i,"getRangeTextDecoration",function(r,i){n.increment("node.getRangeTextDecoration");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeTextDecoration(s,d);return"mixed"===u?t:e.newString(u)}),e.defineFunction(i,"setRangeTextDecoration",function(t,r,i){n.increment("node.setRangeTextDecoration");const a=S(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.TextDecoration,"value");return a.setRangeTextDecoration(s,d,u),e.undefined}),e.defineFunction(i,"getRangeTextCase",function(r,i){n.increment("node.getRangeTextCase");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeTextCase(s,d);return"mixed"===u?t:e.newString(u)}),e.defineFunction(i,"setRangeTextCase",function(t,r,i){n.increment("node.setRangeTextCase");const a=S(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.TextCase,"value");return a.setRangeTextCase(s,d,u),e.undefined}),e.defineFunction(i,"getRangeLineHeight",function(r,i){n.increment("node.getRangeLineHeight");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeLineHeight(s,d);if("mixed"===u)return t;const c=e.deepWrap(O(u));return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeLineHeight",function(t,r,i){n.increment("node.setRangeLineHeight");const a=S(e,this),[s,d]=o(a,t,r),u=C(f.deepValidateAndUnwrap(e,i,p.LineHeight,"value"));return a.setRangeLineHeight(s,d,u),e.undefined}),e.defineFunction(i,"getRangeLetterSpacing",function(r,i){n.increment("node.getRangeLetterSpacing");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeLetterSpacing(s,d);if("mixed"===u)return t;const c=e.deepWrap({unit:u.units,value:u.value});return e.deepFreezeObject(c),c}),e.defineFunction(i,"setRangeLetterSpacing",function(t,r,i){n.increment("node.setRangeLetterSpacing");const a=S(e,this),[s,d]=o(a,t,r),u=f.deepValidateAndUnwrap(e,i,p.LetterSpacing,"value");return a.setRangeLetterSpacing(s,d,{units:u.unit,value:u.value}),e.undefined}),e.defineFunction(i,"getRangeFills",function(i,a){n.increment("node.getRangeFills");const s=S(e,this),[d,u]=o(s,i,a),c=s.getRangeFillPaints(d,u);if("mixed"===c)return t;const l=I(e,r,c.data);return e.deepFreezeObject(l),l}),e.defineFunction(i,"setRangeFills",function(t,i,a){n.increment("node.setRangeFills");const s=S(e,this),[d,u]=o(s,t,i),c=[],l={data:N(r,f.deepValidateAndUnwrap(e,a,p.Paints,"value"),c),blobs:c};return s.setRangeFillPaints(d,u,l),e.undefined}),e.defineFunction(i,"getRangeTextStyleId",function(r,i){n.increment("node.getRangeTextStyleId");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeInheritedTextStyle(s,d);return"mixed"===u?t:e.newString(l.styleKeyToString(u))}),e.defineFunction(i,"setRangeTextStyleId",function(t,r,i){n.increment("node.setRangeTextStyleId");const a=S(e,this),[s,d]=o(a,t,r),u=l.styleKeyFromString(f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value"));return a.setRangeInheritedTextStyle(s,d,u),e.undefined}),e.defineFunction(i,"getRangeFillStyleId",function(r,i){n.increment("node.getRangeFillStyleId");const a=S(e,this),[s,d]=o(a,r,i),u=a.getRangeInheritedFillStyle(s,d);return"mixed"===u?t:e.newString(l.styleKeyToString(u))}),e.defineFunction(i,"setRangeFillStyleId",function(t,r,i){n.increment("node.setRangeFillStyleId");const a=S(e,this),[s,d]=o(a,t,r),u=l.styleKeyFromString(f.deepValidateAndUnwrap(e,i,f.PropTypes.string,"value"));return a.setRangeInheritedFillStyle(s,d,u),e.undefined})},e.outlineStroke=function({vm:e,stats:n,nodeFactory:t},r){e.defineFunction(r,"outlineStroke",function(){n.increment("node.outlineStroke");const r=S(e,this).outlineStroke();return r?t.createNode(r):e.null})}}(n.VmNode||(n.VmNode={})),n.defineFillsProp=A,n.wrapPrivateImage=function(e,n){const t=e.newObject();return e.defineProp(t,"hash",{enumerable:!1,value:e.deepWrap(n.sha1)}),e.defineFunction(t,"getBytesAsync",function(){const{promise:t,resolve:r,reject:i}=e.newPromise(),o=e.registerPromise(n.getBytesAsync());return o.then(n=>{r(e.deepWrap(n))}),o.catch(n=>{i(e.deepWrap(n))}),t}),t},n.featureFlaggedTrait=function(e,n){return n.map(n=>(t,r)=>{m.getFeatureFlags()[e]&&n(t,r)})},n.mixin=function(e,n,...t){const r=e.vm.evalCode(`(function ${n}() {}).prototype`);if("SUCCESS"!==r.type)throw new Error("Internal eval error");for(const i of t)i(e,r.handle);return e.vm.retainHandle(r.handle),r.handle};const T=.3;function I(e,n,t){const r=e.newArray();if(!t||0===t.length)return r;for(let o=0,a=0;o<t.length;o++){const n=t[o],s=e.newObject();switch(e.setProp(s,"type",e.newString(n.type)),e.setProp(s,"visible",e.newBoolean(n.visible)),e.setProp(s,"opacity",e.newNumber(n.opacity)),e.setProp(s,"blendMode",e.newString(n.blendMode)),n.type){case"SOLID":e.setProp(s,"color",e.deepWrap({r:n.color.r,g:n.color.g,b:n.color.b}));break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":e.setProp(s,"gradientStops",e.deepWrap(n.stops)),e.setProp(s,"gradientTransform",e.deepWrap(x(n.transform)));break;case"IMAGE":e.setProp(s,"scaleMode",e.deepWrap("STRETCH"===n.imageScaleMode?"CROP":n.imageScaleMode)),e.setProp(s,"imageTransform",e.deepWrap(x(n.transform))),e.setProp(s,"scalingFactor",e.deepWrap(n.scale)),e.setProp(s,"filters",e.deepWrap((i=n.paintFilter,f.addDefaults(i?{exposure:i.exposure,contrast:Math.min(Math.max((i.contrast||0)/T,-1),1),saturation:i.vibrance,temperature:i.temperature,tint:i.tint,highlights:i.highlights,shadows:i.shadows}:{},{exposure:0,contrast:0,saturation:0,temperature:0,tint:0,highlights:0,shadows:0})))),n.animatedImage&&n.animatedImage.hash?e.setProp(s,"imageHash",e.newString(u.toHex(n.animatedImage.hash))):n.image&&n.image.hash?e.setProp(s,"imageHash",e.newString(u.toHex(n.image.hash))):e.setProp(s,"imageHash",e.null);break;default:c.pluginWarn(`Paint type ${n.type} is not yet supported`)}e.setProp(r,(a++).toString(),s)}var i;return r}function N(e,n,t){return n.map(n=>{const r=void 0===n.visible||n.visible,i=void 0===n.opacity?1:n.opacity,o=void 0===n.blendMode?"NORMAL":n.blendMode;switch(n.type){case"SOLID":return{type:n.type,color:Object.assign(Object.assign({},n.color),{a:1}),visible:r,opacity:i,blendMode:o};case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return{type:n.type,transform:R(n.gradientTransform),stops:n.gradientStops,visible:r,opacity:i,blendMode:o};case"IMAGE":{if(null!=n.scalingFactor&&n.scalingFactor<=0)throw new Error("Image scaleFactor must be greater than 0");const a=n.imageHash,s={hash:u.fromHex(a)};if(!e.isImageAlreadyRegistered(a)){const n=e.internalBytesForImage(a);if(null===n)throw new Error("Missing bytes for image");s.dataBlob=t.length,t.push({bytes:n})}const d="CROP"===n.scaleMode?"STRETCH":n.scaleMode;return{type:n.type,imageScaleMode:d,image:s,transform:R(n.imageTransform),paintFilter:function(e){return f.addDefaults(e?{exposure:e.exposure,contrast:Math.min(Math.max((e.contrast||0)*T,-T),T),vibrance:e.saturation,temperature:e.temperature,tint:e.tint,highlights:e.highlights,shadows:e.shadows}:{},{exposure:0,contrast:0,vibrance:0,temperature:0,tint:0,highlights:0,shadows:0})}(n.filters),scale:n.scalingFactor||1,visible:r,opacity:i,blendMode:o}}default:throw new Error(`Unsupported paint type: ${n.type}`)}})}function k(e){const n={suffix:"",contentsOnly:!0,constraint:{type:"SCALE",value:1},svgOutlineText:!0,svgIdAttribute:!1,svgSimplifyStroke:!0};return e.map(e=>{const t=f.addDefaults(e,n);return{imageType:"JPG"===t.format?"JPEG":t.format,suffix:t.suffix,contentsOnly:t.contentsOnly,constraint:{type:"CONTENT_"+t.constraint.type,value:t.constraint.value},svgOutlineText:t.svgOutlineText,svgForceStrokeMasks:!t.svgSimplifyStroke,svgIDMode:t.svgIdAttribute?"ALWAYS":"IF_NEEDED"}})}function O(e){if("PERCENT"===e.units)return{unit:"AUTO"};if("RAW"===e.units)return{unit:"PERCENT",value:100*e.value};if("PIXELS"===e.units)return{unit:"PIXELS",value:e.value};throw new Error("Unknown lineHeight unit")}function C(e){if("AUTO"===e.unit)return{units:"PERCENT",value:100};if("PERCENT"===e.unit)return{units:"RAW",value:e.value/100};if("PIXELS"===e.unit)return{units:"PIXELS",value:e.value};throw new Error("Unknown lineHeight unit")}function E(e,n,t,r){let i={strokeCap:r.strokeCap,strokeJoin:r.strokeJoin,cornerRadius:r.cornerRadius,handleMirroring:r.handleMirroring},o=new Map;o.set(0,i);for(let d of e.styleOverrideTable||[]){if(null==d.styleID)throw new Error("Figma Internal Error: missing styleID when decoding vector network");o.set(d.styleID,{strokeCap:"strokeCap"in d?d.strokeCap:i.strokeCap,strokeJoin:"strokeJoin"in d?d.strokeJoin:i.strokeJoin,cornerRadius:"cornerRadius"in d?d.cornerRadius:i.cornerRadius,handleMirroring:"handleMirroring"in d?d.handleMirroring:i.handleMirroring})}const a=d.decodeNetwork(t.bytes,o),s=e.normalizedSize||{x:1,y:1},u={x:n.x/(s.x||1),y:n.y/(s.y||1)};return d.scaleVectorNetwork(a,u)}function U(e){const n=d.boundingBoxForNetwork(e),t=d.translateVectorNetwork(e,{x:-n.x,y:-n.y}),r={strokeCap:"NONE",strokeJoin:"MITER",cornerRadius:0,handleMirroring:"NONE"},i=[],o=new Map,a=t.vertices.map(e=>{const n=f.addDefaults(e,r),t=n.strokeCap+"|"+n.strokeJoin+"|"+n.cornerRadius+"|"+n.handleMirroring;let a=o.get(t);return void 0===a&&(a=i.length+1,i.push({styleID:a,strokeCap:n.strokeCap,strokeJoin:n.strokeJoin,cornerRadius:n.cornerRadius,handleMirroring:n.handleMirroring}),o.set(t,a)),a});return{boundingBox:n,blob:{bytes:d.encodeNetwork(t,a)},styleOverrideTable:i}}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const d=t(163                               ),r=t(575                     );const i=[r.VmNode.toString,r.VmNode.clone,r.VmNode.remove,r.VmNode.parent,r.VmNode.name,r.VmNode.removed,r.VmNode.pluginData],n=[r.VmNode.pluginRelaunchData],a=[r.VmNode.visible,r.VmNode.locked],N=[r.VmNode.children,r.VmNode.findAll,r.VmNode.findOne,r.VmNode.findChild,r.VmNode.findChildren,r.VmNode.appendChild],s=[r.VmNode.relativeTransform,r.VmNode.absoluteTransform,r.VmNode.x,r.VmNode.y,r.VmNode.width,r.VmNode.height,r.VmNode.rotation,r.VmNode.layoutAlign,r.VmNode.resizeWithConstraints,r.VmNode.resizeWithoutConstraints,r.VmNode.constrainProportions],m=[r.VmNode.opacity,r.VmNode.blendMode,r.VmNode.isMask,r.VmNode.effects,r.VmNode.effectStyleId],p=[r.VmNode.cornerRadius,r.VmNode.cornerSmoothing],c=[r.VmNode.fills,r.VmNode.fillStyleId,r.VmNode.strokes,r.VmNode.strokeStyleId,r.VmNode.strokeWeight,r.VmNode.strokeAlign,r.VmNode.strokeCap,r.VmNode.strokeJoin,r.VmNode.strokeMiterLimit,r.VmNode.dashPattern,r.VmNode.outlineStroke],V=[r.VmNode.layoutGrids,r.VmNode.gridStyleId,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.clipsContent,r.VmNode.guides,r.VmNode.expanded],y=[r.VmNode.description,r.VmNode.remote,r.VmNode.createInstance,r.VmNode.key],l=[r.VmNode.masterComponent,r.VmNode.scaleFactor],h=[r.VmNode.textStyleId,r.VmNode.characters,r.VmNode.hasMissingFont,r.VmNode.autoRename,r.VmNode.fontSize,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textAlignHorizontal,r.VmNode.textAlignVertical,r.VmNode.textCase,r.VmNode.textDecoration,r.VmNode.textAutoResize,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.fontName,r.VmNode.textRangeFunctions],P=[r.VmNode.pointCount],g=[r.VmNode.vectorNetwork,r.VmNode.vectorPaths,r.VmNode.handleMirroring],u=[r.VmNode.guides,r.VmNode.selection,r.VmNode.backgrounds],T=[r.VmNode.booleanOperation,r.VmNode.expanded],O=[r.VmNode.innerRadius],b=[r.VmNode.arcData],E=[r.VmNode.topLeftRadius,r.VmNode.topRightRadius,r.VmNode.bottomLeftRadius,r.VmNode.bottomRightRadius],f=[r.VmNode.exportSettings,r.VmNode.exportNode],k=[r.VmNode.reactions],w=[r.VmNode.prototypeStartNode],x=[...i,...a,...m,...c,...s,...f,...n],R=[...x,r.VmNode.constraints],S=[...i,...a,...m,...s,...N,...V,...f,...n,...r.featureFlaggedTrait("frame_properties_migration",c),...r.featureFlaggedTrait("frame_properties_migration",p),...r.featureFlaggedTrait("frame_properties_migration",E),r.VmNode.constraints,r.VmNode.layoutMode,r.VmNode.counterAxisSizingMode,r.VmNode.horizontalPadding,r.VmNode.verticalPadding,r.VmNode.itemSpacing,r.VmNode.overflowDirection,r.VmNode.numberOfFixedChildren,r.VmNode.overlayPositionType,r.VmNode.overlayBackground,r.VmNode.overlayBackgroundInteraction];o.PublicNodeFactory=class{constructor(e,o){this.cache=new Map;const t=Object.assign({vm:e,nodeFactory:this},o);this.vm=e,this.documentNodePrototype=r.mixin(t,"DocumentNode",...i,...N),this.addTypeToPrototype(this.documentNodePrototype,"DOCUMENT"),this.pageNodePrototype=r.mixin(t,"PageNode",...i,...N,...u,...f,...n,...w),this.addTypeToPrototype(this.pageNodePrototype,"PAGE"),this.sliceNodePrototype=r.mixin(t,"SliceNode",...i,...a,...s,...f,...n),this.addTypeToPrototype(this.sliceNodePrototype,"SLICE"),this.frameNodePrototype=r.mixin(t,"FrameNode",...S,...k),this.addTypeToPrototype(this.frameNodePrototype,"FRAME"),this.groupNodePrototype=r.mixin(t,"GroupNode",...i,...a,...m,...s,...N,...f,...n,...V,...k),this.addTypeToPrototype(this.groupNodePrototype,"GROUP"),this.componentNodePrototype=r.mixin(t,"ComponentNode",...S,...y,...k),this.addTypeToPrototype(this.componentNodePrototype,"COMPONENT"),this.instanceNodePrototype=r.mixin(t,"InstanceNode",...S,...l,...k),this.addTypeToPrototype(this.instanceNodePrototype,"INSTANCE"),this.booleanOperationNodePrototype=r.mixin(t,"BooleanOperationNode",...x,...p,...N,...T,...k),this.addTypeToPrototype(this.booleanOperationNodePrototype,"BOOLEAN_OPERATION"),this.vectorNodePrototype=r.mixin(t,"VectorNode",...R,...p,...g,...k),this.addTypeToPrototype(this.vectorNodePrototype,"VECTOR"),this.starNodePrototype=r.mixin(t,"StarNode",...R,...p,...P,...O,...k),this.addTypeToPrototype(this.starNodePrototype,"STAR"),this.lineNodePrototype=r.mixin(t,"LineNode",...R,...k),this.addTypeToPrototype(this.lineNodePrototype,"LINE"),this.ellipseNodePrototype=r.mixin(t,"EllipseNode",...R,...p,...b,...k),this.addTypeToPrototype(this.ellipseNodePrototype,"ELLIPSE"),this.polygonNodePrototype=r.mixin(t,"PolygonNode",...R,...p,...P,...k),this.addTypeToPrototype(this.polygonNodePrototype,"POLYGON"),this.rectangleNodePrototype=r.mixin(t,"RectangleNode",...R,...p,...E,...k),this.addTypeToPrototype(this.rectangleNodePrototype,"RECTANGLE"),this.textNodePrototype=r.mixin(t,"TextNode",...R,...h,...k),this.addTypeToPrototype(this.textNodePrototype,"TEXT")}addTypeToPrototype(e,o){this.vm.defineProp(e,"type",{enumerable:!0,writable:!1,value:this.vm.newString(o)})}createNode(e){let o=this.cache.get(e);if(void 0!==o)return o;const t=this.vm,i=function(e){const o=r.getNodeWrapperOrThrow(e),t=o.type;switch(t){case"NONE":throw new Error(`Internal Figma error: Unknown node type for "${e}" in createNode`);case"ROUNDED_RECTANGLE":return"RECTANGLE";case"REGULAR_POLYGON":return"POLYGON";case"SYMBOL":return"COMPONENT";case"FRAME":if(o.resizeToFit)return"GROUP";break;case"CANVAS":return"PAGE"}return t}(e);switch(i){case"DOCUMENT":o=t.newObject(this.documentNodePrototype);break;case"PAGE":o=t.newObject(this.pageNodePrototype);break;case"SLICE":o=t.newObject(this.sliceNodePrototype);break;case"FRAME":o=t.newObject(this.frameNodePrototype);break;case"GROUP":o=t.newObject(this.groupNodePrototype);break;case"COMPONENT":o=t.newObject(this.componentNodePrototype);break;case"INSTANCE":o=t.newObject(this.instanceNodePrototype);break;case"BOOLEAN_OPERATION":o=t.newObject(this.booleanOperationNodePrototype);break;case"VECTOR":o=t.newObject(this.vectorNodePrototype);break;case"STAR":o=t.newObject(this.starNodePrototype);break;case"LINE":o=t.newObject(this.lineNodePrototype);break;case"ELLIPSE":o=t.newObject(this.ellipseNodePrototype);break;case"POLYGON":o=t.newObject(this.polygonNodePrototype);break;case"RECTANGLE":o=t.newObject(this.rectangleNodePrototype);break;case"TEXT":o=t.newObject(this.textNodePrototype);break;default:throw new Error(`unsupported type in create node: ${i}`)}const n=d.PluginHelpers.developerFriendlyIdFromGuid(e);if(!n)throw new Error(`Internal Figma error: Unknown id "${n}" in createNode`);return t.defineProp(o,"id",{enumerable:!0,writable:!1,value:t.newString(n)}),t.shallowFreezeObject(o),this.cache.set(e,o),t.retainHandle(o),o}}}),
(function(i,n,u){i.exports={pluginUI:"jsvm_ui--pluginUI--HIW9L"}}),
(function(p,a,n){p.exports={appFont:"in_app_page--appFont--3IVZv",app:"in_app_page--app--234Z6 in_app_page--appFont--3IVZv",content:"in_app_page--content--2V_He"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),a=i(7,1        ),n=i(86      ),o=i(113          ),l=i(142                     ),r=i(145         ),h=i(366                                                    ),d=i(146                                          ),m=i(130                                              ),u=i(168                                    ),c=i(577            ),g=i(578                              ),f=i(117              ),p=i(165                                     );function y(e,t,i){return Math.max(t,Math.min(i,e))}t.POSITION_LOCAL_STORAGE_KEY="plugin-positions";t.PluginUIHandle=class{constructor(e,i,s,a,n,l){this.vmType=e,this.pluginID=i,this.title=s,this.shouldShowVisualBell=a,this.cancelCallback=n,this.messageHandler=l,this.uiContainer=null,this.iframeElement=null,this.iframeHtml="",this.iframeDisplayed=!1,this.iframeWidth=300,this.iframeHeight=200,this.iframeInitialPosition=null,this.iframeLoaded=!1,this.lastNotificationTimeout=-1,this.storeModalPosition=(e=>{const i=o.getLocalStorageOrNull();if(i){let a={};try{a=JSON.parse(i.getItem(t.POSITION_LOCAL_STORAGE_KEY)||"")}catch(s){}a&&"object"==typeof a||(a={}),a[this.pluginID]={x:e.x,y:e.y},i.setItem(t.POSITION_LOCAL_STORAGE_KEY,JSON.stringify(a))}}),this.tearDown=(()=>{this.destroyIframe(),this.hideProgress()}),this.windowMessageEventListener=(e=>{e.source&&this.iframeElement&&e.source===this.iframeElement.contentWindow&&(e.data!==w?this.messageHandler(e):d.fullscreen.triggerAction("plugins-run-last",{source:"keyboard"}))}),this.setIframeElement=(e=>{this.iframeElement=e,this.iframeElement&&(this.iframeElement.onload=(()=>{this.iframeElement.contentWindow.postMessage(this.iframeHtml,"*"),this.iframeElement.onload=(()=>{this.iframeLoaded=!0;const e=this.pendingMessages;this.pendingMessages=[],e.forEach(({message:e,options:t})=>this.postMessageToIframe(e,t))})}))}),this.showProgress()}titleWithVmNotice(){return"realms"===this.vmType?`${this.title} (${p.defaultStringsRaw["plugins-realms-vm"]})`:this.title}updateUI(){a.render(s.createElement(C,{title:this.titleWithVmNotice(),displayed:this.iframeDisplayed,width:this.iframeWidth,height:this.iframeHeight,initialPosition:this.iframeInitialPosition,iframeRefCallback:this.setIframeElement,cancelCallback:this.cancelCallback,onDragEnd:this.storeModalPosition}),this.uiContainer)}loadModalPosition(){const e=o.getLocalStorageOrNull();if(e)try{const s=JSON.parse(e.getItem(t.POSITION_LOCAL_STORAGE_KEY)||"")[this.pluginID];return new r.Vector(y(s.x,0,window.innerWidth-this.iframeWidth),y(s.y,0,window.innerHeight-this.iframeHeight))}catch(i){}return null}makeIframe(e,t,i,s){this.destroyIframe(),this.iframeHtml=e,this.iframeLoaded=!1,this.uiContainer=document.createElement("div"),this.uiContainer.className=g.appFont,document.body.appendChild(this.uiContainer),window.addEventListener("message",this.windowMessageEventListener),null!=t&&(this.iframeWidth=t),null!=i&&(this.iframeHeight=i);const a=new r.Vector(Math.max((window.innerWidth-this.iframeWidth)/2,0),Math.max((window.innerHeight-this.iframeHeight)/2,0));if("default"===s)this.iframeInitialPosition=a;else if("last"===s)this.iframeInitialPosition=this.loadModalPosition()||a;else{const e=l.globalReduxStore.getState().mostRecentContextMenuClickPosition;this.iframeInitialPosition=e?new r.Vector(e.x,e.y):this.loadModalPosition()||a}this.storeModalPosition(this.iframeInitialPosition),this.updateUI()}destroyIframe(){this.hideIframe(),this.iframeHtml="",this.pendingMessages=[],this.iframeElement&&(this.iframeElement.onload=null),window.removeEventListener("message",this.windowMessageEventListener),this.uiContainer&&(a.unmountComponentAtNode(this.uiContainer),document.body.removeChild(this.uiContainer)),this.uiContainer=null,this.iframeElement=null}setIframeSize(e,t){if(!this.uiContainer)throw new Error("No UI to resize. Did you forget to create a UI by calling showUI?");Number.isNaN(e)||(this.iframeWidth=y(e,100,window.innerWidth-50)),Number.isNaN(t)||(this.iframeHeight=y(t,100,window.innerHeight-50)),this.updateUI()}showIframe(){if(!this.uiContainer)throw new Error("No UI to show. Did you forget to create a UI by calling showUI?");this.hideProgress(),this.iframeDisplayed=!0,this.updateUI()}hideIframe(){this.iframeDisplayed=!1,this.uiContainer&&this.updateUI(),this.showProgress()}postMessageToIframe(e,t){if(!this.uiContainer||!this.iframeElement)throw new Error("No UI to send a message to. Did you forget to create a UI by calling showUI?");this.iframeLoaded||t.skipQueue?this.iframeElement.contentWindow.postMessage(e,t.origin):this.pendingMessages.push({message:e,options:t})}showPluginVisualBell(e,t,i){this.hideProgress();const s=!this.iframeDisplayed&&(i.timeout>5e3||this.lastNotificationTimeout>Date.now()-1e3);d.fullscreen.dispatch(m.visualBell.enqueue({type:t,message:e,timeout:i.timeout,timeoutType:"exact",button:s?{text:"Cancel",action:e=>{this.cancelCallback()}}:void 0})),this.iframeDisplayed||this.showProgress(),this.lastNotificationTimeout=Math.max(this.lastNotificationTimeout,Date.now())+i.timeout}cancelPluginVisualBell(e){d.fullscreen.dispatch(m.visualBell.dequeue({type:e}))}showProgress(){d.fullscreen&&d.fullscreen.isReady()&&this.shouldShowVisualBell&&d.fullscreen.dispatch(m.visualBell.enqueue({type:"plugins-status",message:`Running ${this.titleWithVmNotice()}`,icon:u.VisualBellIcon.SPINNER,delay:300,timeout:1/0,preventDismissal:!0,button:{text:"Cancel",action:e=>{this.cancelCallback()}}}))}hideProgress(){d.fullscreen&&d.fullscreen.isReady()&&this.shouldShowVisualBell&&d.fullscreen.dispatch(m.visualBell.dequeue({type:"plugins-status"}))}};const w="$INTERNAL_DO_NOT_USE$RERUN_PLUGIN$",I=`\ndocument.close();\ndocument.addEventListener('keydown', (e) => {\n  if (e.keyCode === 80 /* P */ && !e.shiftKey && e.altKey && ${n.mac?"!e.ctrlKey && e.metaKey":"e.ctrlKey && !e.metaKey"}) {\n    // Handle the plugin re-run shortcut\n    parent.postMessage('${w}', '*')\n    e.stopPropagation()\n    e.stopImmediatePropagation()\n  } else if (${JSON.stringify(!!f.desktopApp)}) {\n    // Handle Select All, Undo and Redo in the desktop app\n    if (e.keyCode === 65 /* A */ && ${n.mac?"e.metaKey":"e.ctrlKey"}) {\n      document.execCommand('selectAll')\n    } else if (e.keyCode === 90 /* Z */ && ${n.mac?"e.metaKey":"e.ctrlKey"}) {\n      if (e.shiftKey) {\n        document.execCommand('redo')\n      } else {\n        document.execCommand('undo')\n      }\n    }\n  }\n}, true)\n`,E="data:text/html;base64,"+btoa(`<script>\n  onmessage = (event) => {\n    if (event.source === parent) {\n      document.write("<script>" + ${JSON.stringify(I)} + "</" + "script>" + event.data)\n    }\n  }\n<\/script>`);class C extends s.Component{constructor(){super(...arguments),this.state={dragging:!1},this.onDragStart=(()=>{this.setState({dragging:!0})}),this.onDragEnd=(e=>{this.setState({dragging:!1}),this.props.onDragEnd(e)})}render(){return s.createElement("div",{style:{display:this.props.displayed?"":"none"},className:c.pluginUI},s.createElement(h.DraggableModal,{title:this.props.title,dragHeaderOnly:!0,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onClose:this.props.cancelCallback,ignoreCloseShortcut:!0,initialPosition:this.props.initialPosition},s.createElement("iframe",{name:"Plugin Iframe",ref:this.props.iframeRefCallback,style:{display:"block",width:this.props.width,height:this.props.height,pointerEvents:this.state.dragging?"none":"auto"},src:E})))}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.registerImageListener=function(e,t){let i=n.get(e);void 0===i&&(i=[],n.set(e,i)),-1===i.indexOf(t)&&i.push(t)},t.unregisterImageListener=function(e,t){const i=n.get(e);if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}},t.triggerImageListeners=function(e,t){const i=n.get(e);if(void 0!==i)for(const n of i.slice())n(t)}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(163                               ),s=t(246       ),i=t(171         ),n=t(580                                       );r.PluginImageStore=class{constructor(){this.hashToPrivateImage=new Map,this.tearDown=(()=>{this.hashToPrivateImage=new Map})}isImageAlreadyRegistered(e){return a.PluginHelpers.isImageRegistered(e)}internalBytesForImage(e){return this.getPrivateImageOrThrow(e).bytes}bytesFromImage(e){let r=this.getPrivateImageOrThrow(e);return null!==r.bytes?Promise.resolve(new Uint8Array(r.bytes)):new Promise((t,s)=>{const i=a.PluginHelpers.startLoadingImage(r.sha1);if("failure"===i.status)s(new Error(i.error));else if("FAILED"===i.resourceStatus)s(new Error("Loading failed"));else if("LOADED"===i.resourceStatus)r.bytes=this.bytesFromLoadedImage(e),t(new Uint8Array(r.bytes));else{const i=o=>{o===a.ResourceStatus.LOADED?(n.unregisterImageListener(e,i),r.bytes=this.bytesFromLoadedImage(e),t(new Uint8Array(this.bytesFromLoadedImage(e)))):o===a.ResourceStatus.FAILED&&(n.unregisterImageListener(e,i),s(new Error("Loading failed")))};n.registerImageListener(e,i)}})}bytesFromLoadedImage(e){const r=a.PluginHelpers.getImageBytes(e);if("failure"===r.status)throw new Error(r.error);return i.decode(r.buffer)}getPrivateImageOrThrow(e){const r=this.hashToPrivateImage.get(e);if(void 0===r)throw new Error("SHA1 hash does not correspond to an existing image");return r}getOrCreatePrivateImage(e){let r=this.hashToPrivateImage.get(e);return void 0===r&&(r={isAlreadyOnMainThread:!1,sha1:e,bytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,r),r}createImageFromSHA1(e){const r=this.getOrCreatePrivateImage(e);return r.isAlreadyOnMainThread=!0,r}createImage(e){const r=new Uint8Array(e),t=s.sha1OfUint8Array(r),a=this.getOrCreatePrivateImage(t);return a.bytes=r,a.isAlreadyOnMainThread=!1,a}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(572                                          ),i=n(575                     ),o=n(159                              ),s=r.StyleManager.instance;var c;!function(e){e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){return e.newString(function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"FILL":return"PAINT"}throw new Error(`Unsupported style type: ${e}`)}(i.getNode(e,this).styleType))}})},e.key=function({vm:e},t){e.defineProp(t,"key",{enumerable:!0,get:function(){const t=o.styleKeyFromString(e.getStringProp(this,"id"));return e.newString(t.key)}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(i.getNode(e,this).styleDescription)},set:function(t){return i.getNode(e,this).styleDescription=e.toString(t),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){return e.newBoolean(i.getNode(e,this).hasSharedStyleReference)}})},e.remove=function({vm:e,stats:t},n){e.defineFunction(n,"remove",function(){return t.increment("style.remove"),s.softDeleteStyle(i.getNode(e,this)),e.undefined})},e.paints=function(e,t){i.defineFillsProp(e,t,"paints")}}(c||(c={}));const a=[i.VmNode.name,c.type,c.key,c.description,c.remote,c.remove],l=[...a,c.paints],p=[...a,i.VmNode.fontSize,i.VmNode.textDecoration,i.VmNode.fontName,i.VmNode.letterSpacing,i.VmNode.lineHeight,i.VmNode.paragraphIndent,i.VmNode.paragraphSpacing,i.VmNode.textCase],d=[...a,i.VmNode.effects],u=[...a,i.VmNode.layoutGrids];t.StyleNodeFactory=class{constructor(e,t,n,r,o){this.cache=new Map;const s={vm:e,stats:t,nodeFactory:null,imageStore:n,pluginID:"",mixedSentinel:r,enableProposedApi:o};this.vm=e,this.paintStylePrototype=i.mixin(s,"PaintStyle",...l),this.textStylePrototype=i.mixin(s,"TextStyle",...p),this.effectStylePrototype=i.mixin(s,"EffectStyle",...d),this.gridStylePrototype=i.mixin(s,"GridStyle",...u)}createStyle(e){const t=this.vm,n=this.cache.get(e),r=s.get(e);if(!r)return void 0!==n&&this.cache.delete(e),t.null;if(void 0!==n)return n;let i;const o=r.styleType;switch(o){case"FILL":i=t.newObject(this.paintStylePrototype);break;case"TEXT":i=t.newObject(this.textStylePrototype);break;case"EFFECT":i=t.newObject(this.effectStylePrototype);break;case"GRID":i=t.newObject(this.gridStylePrototype);break;default:throw new Error(`Unsupported style type: ${o}`)}return t.defineProp(i,"id",{enumerable:!0,value:t.newString(e)}),t.shallowFreezeObject(i),this.cache.set(e,i),t.retainHandle(i),i}},t.convertStyleTypeToPrivate=function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"PAINT":return"FILL";default:throw new Error(`Unsupported style type: ${e}`)}}}),
(function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,u){function i(t){try{c(o.next(t))}catch(e){u(e)}}function s(t){try{c(o.throw(t))}catch(e){u(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((o=o.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r="figma-plugin",u="client-quota",i="client-storage",s=1048576;function c(t){const{userID:e,pluginID:n,name:o}=t;return[e,n,o]}function a(t){if(!t.userID)throw new Error("Cannot store to client storage without a user ID");if(!t.pluginID)throw new Error("Cannot store to client storage without a plugin ID")}let l=null;function f(){return l||(l=new Promise((t,e)=>{const n=indexedDB.open(r,1);n.onupgradeneeded=(()=>{const t=n.result;t.createObjectStore(u),t.createObjectStore(i)}),n.onerror=(()=>e(n.error)),n.onsuccess=(()=>{try{const r=n.result;t(r)}catch(o){e(o)}})})),l}function g(t){let e=t.value,n=0;return JSON.stringify(e,(t,e)=>"string"==typeof e?(n+=e.length,""):ArrayBuffer.isView(e)?(n+=e.buffer.byteLength,""):void 0===e?"":e).length+n}e.getClientValueAsync=function(t){return o(this,void 0,void 0,function*(){a(t);const e=(yield f()).transaction(i,"readonly");return new Promise((n,o)=>{const r=c(t),u=e.objectStore(i);e.onabort=(t=>o("Database error"));const s=u.get(r);s.onsuccess=(()=>{n(s.result?s.result.value:void 0)})})})},e.setClientValueAsync=function(t){return o(this,void 0,void 0,function*(){a(t);const e=t.name,n={value:t.value},o=yield f();return new Promise((r,a)=>{const l=o.transaction([u,i],"readwrite");l.onabort=(t=>a("Database error"));const f=c(t),d=function(t){const{userID:e,pluginID:n}=t;return[e,n]}(t),h=l.objectStore(i),v=l.objectStore(u),p=h.get(f),w=v.get(d);w.onsuccess=(()=>{const t=p.result,o=w.result,u=o?o.quota:0,i=t?e.length+g(t):0,c={quota:u+(e.length+g(n))-i};if(c.quota>s)return a("Client storage quota exceeded for this plugin ID. Please use less client storage."),void l.abort();h.put(n,f),v.put(c,d),l.oncomplete=(t=>r())})})})}}),
(function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function l(e){try{s(o.next(e))}catch(t){i(t)}}function a(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,a)}s((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(94                                   ),i=n(124     ),l=n(115          ),a=n(163                               ),s=n(121              ),c=n(117              ),p=Object.create(null);t.checkpointCallback=((e,t)=>{e in p&&p[e](t)});class u extends Error{}function d(e){const t=Math.random().toString(36).substring(2);return a.Multiplayer.forceCheckpoint(t),new Promise((n,o)=>{p[t]=(r=>{try{if(delete p[t],!r)throw new u("Couldn't save checkpoint, please try again later");i.default.get(`/api/files/${e}`).then(e=>{const t=JSON.parse(e.response),o=t.meta.checkpoint_token,r=t.meta.name;n({token:o,fileName:r})},e=>{o(e)})}catch(l){o(l)}}),setTimeout(()=>{t in p&&(delete p[t],o(new u("Timed out waiting for export, aborting")))},1e4)})}t.infoForExternalExport=d,t.ExportTab={zeplin:"zeplin",avocode:"avocode",images:"images"},t.externalExport=function(e,n,i,a,p,f){return o(this,void 0,void 0,function*(){if(f)return void a();let h=()=>{};try{let a=null;if(n===t.ExportTab.zeplin){a=`/zeplin_export?ids=${p.join(",")}`;const e=s.parse(location.search).zeplin_scheme;e&&(a+=`&zeplin_scheme=${e}`)}else{if(n!==t.ExportTab.avocode)throw new Error(`Unsupported export tab: ${n}`);a=`/avocode_export?filekey=${i}&ids=${p.join(",")}`}const f=c.desktopApp?null:l.unsafeWindowOpen(a,"_blank");h=(()=>{null!=f&&f.close()});const{token:x,fileName:b}=yield d(i);if(a+=`&token=${encodeURIComponent(x)}&filename=${encodeURIComponent(b)}`,c.desktopApp)l.unsafeWindowOpen(`${a}&desktop=true`,"_blank");else{const e=f;if(yield function(e){return o(this,void 0,void 0,function*(){let t=0;for(;null==e.startExport;){if(t>=1e4)throw new Error("The external window failed to load");yield new Promise(e=>setTimeout(e,200)),t+=200}})}(e),n===t.ExportTab.zeplin){e.startExport(x),yield new Promise(e=>setTimeout(e,200));try{if(!e.blurred)throw new Error}catch(w){throw new u("Couldn't launch Zeplin, is it installed?")}}else e.startExport(x,b)}}catch(m){h(),m instanceof u?e(r.flash.error(m.message)):(console.error(m),e(r.flash.error("Could not export: Internal error")))}null!=a&&a()})}}),
(function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(144                                   ),r=n(575                     ),s=n(576                 ),a=n(572                                          ),l=n(579                ),c=n(581                 ),d=n(163                               ),u=n(582                ),p=n(323                ),g=n(172              ),m=n(142                     ),h=n(218                                   ),f=n(324                        ),y=n(159                              ),w=n(141                ),v=n(155                       ),b=n(146                                          ),S=n(583                                  ),F=n(584                                       ),P=n(85                   ),I=n(207                            ),A=n(122        ),N=a.SceneGraphShim.instance,E=a.StyleManager.instance,C=console.info,T=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))$/,H={PaintStyle:"FILL",TextStyle:"TEXT",GridStyle:"GRID",EffectStyle:"EFFECT"};function _(e){const t={};for(const n in e)t[e[n]]="create"+n;return t}const O=console.warn;function k(e,t,n,i,o){if(!e.isArray(n))throw new Error(`First argument to ${t}() must be an array`);const s=e.getNumberProp(n,"length");if(s<1)throw new Error(`First argument to ${t}() must be an array of at least one node`);const a=[];for(let d=0;d<s;d++){const t=e.getProp(n,d.toString());a.push(r.getNode(e,t).guid)}const l=e.isUndefined(i)?void 0:r.getNode(e,i);let c=-1;return e.isUndefined(o)||(c=p.deepValidateAndUnwrap(e,o,p.PropTypes.integer.min(0),`${t} index`)),{nodeIds:a,parent:l,index:c}}t.typeToCreateNodeFunctionName=_({Rectangle:"RECTANGLE",Page:"CANVAS",Slice:"SLICE",Frame:"FRAME",Component:"SYMBOL",BooleanOperation:"BOOLEAN_OPERATION",Vector:"VECTOR",Star:"STAR",Line:"LINE",Ellipse:"ELLIPSE",Polygon:"REGULAR_POLYGON",Text:"TEXT"}),t.typeToCreateStyleFunctionName=_(H),t.typeToGetAllStylesFunctionName=function(e){const t={};for(const n in e)t[e[n]]="getLocal"+n+"s";return t}(H),t.addAlertAPI=function(e,t,n){e.isEqual(e.undefined,e.getProp(e.global,"alert"))&&e.defineFunction(e.global,"alert",i=>{t.increment("alert");let o=e.toString(i);return o=""!==n?`From the plugin "${n}":\n\n${o}`:`From the current plugin:\n\n${o}`,alert(o),e.undefined})};const M=p.PropTypes.exact({visible:p.PropTypes.bool.isOptional,width:p.PropTypes.integer.min(0).isOptional,height:p.PropTypes.integer.min(0).isOptional}).isOptional,U=p.PropTypes.exact({origin:p.PropTypes.string.isOptional}).isOptional,V=["close","selectionchange","currentpagechange"],x=[],D=["message"];function j(e,t,n,o){return i(this,void 0,void 0,function*(){const i=m.globalReduxStore.getState().library.published.styles;for(const s in i)for(const a in i[s])for(const l in i[s][a]){const c=i[s][a][l];if(c.key===n){if(a!==o){let e;try{e=yield v.teamLibraryItemSceneGraphCache.get(c)}catch(r){throw new Error(`Failed to download the style with the key "${n}"`)}b.fullscreen.DEPRECATED_sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:c.key,fileKey:c.file_key,editingFileKey:a,versionHash:c.content_hash},e)}const i=t.createStyle(y.styleKeyToString({key:c.key,version:c.content_hash}));if(!e.isNull(i))return i}}throw new Error(`Could not find a published style with the key "${n}"`)})}function L(e,t){return i(this,void 0,void 0,function*(){const n=m.globalReduxStore.getState(),i=w.getEditingFile(n);if(!i)throw new Error("Missing a current file");const o=n.library.published.components;for(const s in o)for(const n in o[s])for(const a in o[s][n]){const l=o[s][n][a];if(l.component_key===t){let o=l.node_id;if(n!==i.key){let e;try{e=yield v.teamLibraryItemSceneGraphCache.get(l)}catch(r){throw new Error(`Failed to download the component with the key "${t}"`)}o=b.fullscreen.DEPRECATED_sendMessage("upsertSharedSymbol",{guid:l.node_id,versionHash:l.content_hash,fileKey:l.file_key,editingFileKey:i.key,componentKey:l.component_key,isUnflattened:l.is_unflattened},e).args.localGUID}if(o&&N.get(o))return e.createNode(o)}}throw new Error(`Could not find a published component with the key "${t}"`)})}t.FigmaAPI=class{constructor(e,t){this.vm=e,this.options=t,this.visualBellCounter=0,this.eventHandlers=new Map,this.eventHandlerTimeouts=new Map,this.previousSelection=[],this.onMessageCallback=void 0,this.selectionCallback=(()=>{this.fireDebouncedEventAsync("selectionchange",()=>{const e=this.currentSelection();A.valuesEqual(this.previousSelection,e)||this.fireEventSync("selectionchange",[]),this.previousSelection=e,d.PluginHelpers.resetSelectionCouldBeDirty()})}),this.pageCallback=(()=>{this.fireDebouncedEventAsync("currentpagechange",()=>{this.fireEventSync("currentpagechange",[])})}),this.uiCancelCallback=(()=>{C("Plugin cancelled by user"),this.options.closePlugin()}),this.iframeMessageHandler=(e=>{if(!(e.data instanceof Object))return void O('Message from UI to plugin ignored because it\'s not an object. The message must be an object with a "pluginMessage" property containing the actual message.');const t=this.options.pluginID;if("getPluginId"in e.data){const n="null"!==e.origin?e.origin:"*";this.uiHandle.postMessageToIframe({pluginId:t},{origin:n,skipQueue:!0})}let n=e.origin+"";if(/^https?\:\/\/\%7b[a-f0-9\.-]+\%7d$/.test(n)&&(n="null"),"*"!==e.data.pluginId&&("pluginId"in e.data||"null"!==e.origin)&&(!t||!(e.data.pluginId===t||Array.isArray(e.data.pluginId)&&e.data.pluginId.indexOf(t)>=0)))return"pluginId"in e.data?void O("Provided pluginId does not match id of currently running plugin"):void O("Message from UI to plugin ignored due to missing pluginId in message. Please specify the pluginId that you wish to deliver the message to. You can also use '*' if it is safe to deliver the message to any plugin.");if("pluginMessage"in e.data){const t=this.eventHandlers.get("message");if(!(void 0!==t&&t.length||this.onMessageCallback))return void O('Message from UI to plugin dropped due to no message handler installed"');let i=[this.vm.deepWrap(e.data.pluginMessage),this.vm.deepWrap({origin:n})];return this.fireEventSync("message",i),void(this.onMessageCallback&&this.vm.callFunction(this.onMessageCallback,this.vm.undefined,...i))}O('Ignoring postMessage from plugin UI iframe due to missing "pluginMessage"')}),this.imageStore=new c.PluginImageStore;const n=e.evalCode("Symbol('figma.mixed')");if("FAILURE"===n.type)throw new Error(`Figma Internal Error: failed to create mixed constant, ${n.error}`);this.mixedSentinel=n.handle,e.retainHandle(this.mixedSentinel),this.nodeFactory=new s.PublicNodeFactory(e,{pluginID:t.pluginID,imageStore:this.imageStore,mixedSentinel:this.mixedSentinel,stats:t.stats,enableProposedApi:t.enableProposedApi}),this.styleFactory=new u.StyleNodeFactory(e,this.options.stats,this.imageStore,this.mixedSentinel,t.enableProposedApi),this.uiHandle="CONSOLE_SHIM"===this.options.apiMode.type?this.options.apiMode.uiHandle:new l.PluginUIHandle(e.vmType,this.options.pluginID,this.options.name,"HIDE_VISUAL_BELL"!==this.options.apiMode.type,this.uiCancelCallback,this.iframeMessageHandler),I.addSelectionChangeCallback(this.selectionCallback),I.addCurrentPageChangeCallback(this.pageCallback),this.options.addShutdownAction(()=>this.tearDown()),this.previousSelection=this.currentSelection(),d.PluginHelpers.resetSelectionCouldBeDirty()}tearDown(){I.removeSelectionChangeCallback(this.selectionCallback),I.removeCurrentPageChangeCallback(this.pageCallback),this.fireEventSync("close",[]),this.imageStore.tearDown(),this.uiHandle.tearDown(),this.eventHandlers.clear(),this.eventHandlerTimeouts.forEach(e=>clearTimeout(e)),this.eventHandlerTimeouts.clear(),this.onMessageCallback=void 0}currentSelection(){const e=N.getCurrentPage();return null!==e?r.getNodeWrapperOrThrow(e).directlySelectedNodes:[]}makeGroupingOperationFunction(e,t){return(n,i,o)=>{const{nodeIds:r,parent:s,index:a}=k(this.vm,e,n,i,o);if(!s)throw new Error(`Second argument to ${e}() must be provided`);const l=d.PluginHelpers.groupNodes(t,r.join(" "),s.sessionID,s.localID,a);if("success"===l.status)return this.nodeFactory.createNode(l.nodeId);throw new Error(`${e}() failed: ${l.error}`)}}addEventHandler(e,t,n){if(!this.vm.isFunction(t))throw new Error(`${e} handler must be a function`);let i=this.eventHandlers.get(e)||[];i.push({handler:t,once:n}),this.eventHandlers.set(e,i),this.vm.retainHandle(t)}removeEventHandler(e,t){let n=this.eventHandlers.get(e);if(n)for(let i=n.length-1;i>=0;i--)if(this.vm.isEqual(n[i].handler,t))return n.splice(i,1),void this.vm.releaseHandle(t)}fireDebouncedEventAsync(e,t){this.eventHandlerTimeouts.has(e)&&clearTimeout(this.eventHandlerTimeouts.get(e)),this.eventHandlerTimeouts.set(e,setTimeout(()=>{this.eventHandlerTimeouts.delete(e),t()},0))}fireEventSync(e,t){let n=this.eventHandlers.get(e);n?this.eventHandlers.set(e,n.filter(({once:e})=>!e)):n=[];for(let i of n)this.vm.callFunction(i.handler,this.vm.undefined,...t)}addEventHandlersTo(e,t){const n=p.PropTypes.oneOf(t);this.vm.defineFunction(e,"on",(e,t)=>{const i=p.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.addEventHandler(i,t,!1),this.vm.undefined}),this.vm.defineFunction(e,"once",(e,t)=>{const i=p.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.addEventHandler(i,t,!0),this.vm.undefined}),this.vm.defineFunction(e,"off",(e,t)=>{const i=p.deepValidateAndUnwrap(this.vm,e,n,"eventName");return this.removeEventHandler(i,t),this.vm.undefined})}createViewportApi(){const e=this.vm,t=this.options.stats,n=e.newObject();return e.defineProp(n,"center",{enumerable:!1,get:()=>{t.increment("get viewport.center");const n=d.PluginHelpers.getViewportBounds(),i=e.newObject();return e.setProp(i,"x",e.newNumber(n.x+n.width/2)),e.setProp(i,"y",e.newNumber(n.y+n.height/2)),e.shallowFreezeObject(i),i},set:function(n){t.increment("set viewport.center");const{x:i,y:o}=p.deepValidateAndUnwrap(e,n,f.Vector,"viewport.center");return d.PluginHelpers.setViewportCenter({x:i,y:o}),e.undefined}}),e.defineProp(n,"bounds",{enumerable:!1,get:()=>{t.increment("get viewport.bounds");const n=d.PluginHelpers.getViewportBounds(),i=e.newObject();return e.setProp(i,"x",e.newNumber(n.x)),e.setProp(i,"y",e.newNumber(n.y)),e.setProp(i,"width",e.newNumber(n.width)),e.setProp(i,"height",e.newNumber(n.height)),e.shallowFreezeObject(i),i}}),e.defineProp(n,"zoom",{enumerable:!1,get:()=>{t.increment("get viewport.zoom");const n=d.PluginHelpers.getViewportZoomScale();return e.newNumber(n)},set:function(n){t.increment("set viewport.zoom");const i=p.deepValidateAndUnwrap(e,n,p.PropTypes.float.min(0),"viewport.zoom");if(!(i>0))throw new Error("viewport.zoom expects a positive number");return d.PluginHelpers.setViewportZoomScale(i),e.undefined}}),e.defineFunction(n,"scrollAndZoomIntoView",n=>{t.increment("viewport.scrollAndZoomIntoView");const i=[];if(!e.isArray(n))throw new Error("Call to scrollAndZoomIntoView expected an array");const o=e.getNumberProp(n,"length");for(let t=0;t<o;t++){const o=e.getProp(n,t.toString());i.push(e.getString(e.getProp(o,"id")))}return d.PluginHelpers.scrollAndZoomIntoView(i),e.undefined}),e.shallowFreezeObject(n),n}createUiApi(){const e=this.vm,t=this.options.stats,n=e.newObject();return e.defineFunction(n,"show",()=>(t.increment("ui.show"),this.uiHandle.showIframe(),e.undefined)),e.defineFunction(n,"resize",(n,i)=>{t.increment("ui.resize");const o=p.deepValidateAndUnwrap(e,n,p.PropTypes.integer.min(0),"resize width"),r=p.deepValidateAndUnwrap(e,i,p.PropTypes.integer.min(0),"resize height");return this.uiHandle.setIframeSize(o,r),e.undefined}),e.defineFunction(n,"hide",()=>(t.increment("ui.hide"),this.uiHandle.hideIframe(),e.undefined)),e.defineFunction(n,"close",()=>(t.increment("ui.close"),this.uiHandle.destroyIframe(),e.undefined)),this.addEventHandlersTo(n,D),e.defineProp(n,"onmessage",{enumerable:!1,get:()=>{if(t.increment("get ui.onmessage"),"CONSOLE_SHIM"===this.options.apiMode.type)throw new Error('Cannot use "onmessage" from the developer tools console');return this.onMessageCallback?this.onMessageCallback:e.undefined},set:n=>{if(t.increment("set ui.onmessage"),"CONSOLE_SHIM"===this.options.apiMode.type)throw new Error('Cannot use "onmessage" from the developer tools console');let i;if(e.isNull(n)||e.isUndefined(n))i=void 0;else{if(!e.isFunction(n))throw new Error("onmessage must be a function");i=n}return this.onMessageCallback&&e.releaseHandle(this.onMessageCallback),this.onMessageCallback=i,this.onMessageCallback&&e.retainHandle(this.onMessageCallback),e.undefined}}),e.defineFunction(n,"postMessage",(n,i)=>{t.increment("ui.postMessage");const o=p.addDefaults(p.deepValidateAndUnwrap(e,i,U,"postMessage options")||{},{origin:"*"});return this.uiHandle.postMessageToIframe({pluginMessage:e.deepUnwrap(n),pluginId:this.options.pluginID},{origin:o.origin}),e.undefined}),e.shallowFreezeObject(n),n}createClientStorageApi(){const e=this.vm,{stats:t,userID:n,pluginID:i}=this.options,o=e.newObject();return e.defineFunction(o,"getAsync",o=>{t.increment("clientStorage.getAsync");const r=p.deepValidateAndUnwrap(e,o,p.PropTypes.string,"key"),{promise:s,resolve:a,reject:l}=e.newPromise();return e.registerPromise(S.getClientValueAsync({userID:n,pluginID:i,name:r})).then(t=>a(e.deepWrap(t)),t=>{const n=JSON.stringify(r);l(e.newString(`Failed to get client storage key ${n}`))}),s}),e.defineFunction(o,"setAsync",(o,r)=>{t.increment("clientStorage.setAsync");const s=p.deepValidateAndUnwrap(e,o,p.PropTypes.string,"key"),a=e.deepUnwrap(r),{promise:l,resolve:c,reject:d}=e.newPromise();return e.registerPromise(S.setClientValueAsync({userID:n,pluginID:i,name:s,value:a})).then(t=>c(e.undefined),t=>{const n=JSON.stringify(s);d(e.newString(`Failed to set client storage key ${n}: ${t}`))}),l}),e.shallowFreezeObject(o),o}getUiHandle(){return this.uiHandle}createAPI(){const e=this.vm,{command:n,pluginID:s,apiVersion:a,closePlugin:l,enableProposedApi:c,stats:u}=this.options,y=e.newObject();e.setProp(e.global,"figma",y),e.defineProp(y,"apiVersion",{enumerable:!1,writable:!1,value:e.newString(a)}),function(e,n,i,o){e.defineFunction(i,"getStyleById",t=>{n.increment("getStyleById");const i=e.toString(t);return o.createStyle(i)});for(const r in t.typeToCreateStyleFunctionName){const s=t.typeToCreateStyleFunctionName[r];e.defineFunction(i,s,()=>{n.increment(s);const e=E.createStyle(r);if(!e)throw new Error(`Could not create ${r} style`);return o.createStyle(e)})}for(const r in t.typeToGetAllStylesFunctionName){const s=t.typeToGetAllStylesFunctionName[r];e.defineFunction(i,s,()=>{n.increment(s);const t=E.getAllLocalStyles(r),i=e.newArray();let a=0;for(const n of t)e.setProp(i,a.toString(),o.createStyle(n)),a++;return i})}}(e,u,y,this.styleFactory),e.defineProp(y,"root",{value:this.nodeFactory.createNode("0:0"),enumerable:!1}),e.defineProp(y,"currentPage",{enumerable:!1,get:()=>{u.increment("get currentPage");const t=N.getCurrentPage();return null===t?e.null:this.nodeFactory.createNode(t)},set:function(t){u.increment("set currentPage");const n=r.getNode(e,t);if("CANVAS"!==n.type)throw new Error("figma.currentPage expects a PageNode");return N.setCurrentPage(n),e.null}}),e.defineProp(y,"command",{enumerable:!1,get:()=>(u.increment("get command"),e.newString(n))}),e.defineProp(y,"mixed",{enumerable:!1,get:()=>(u.increment("get mixed"),this.mixedSentinel)});for(const i in t.typeToCreateNodeFunctionName){const n=t.typeToCreateNodeFunctionName[i];e.defineFunction(y,n,()=>{u.increment(n);const e=N.createNode(i);return this.nodeFactory.createNode(e)})}e.defineFunction(y,"flatten",(t,n,i)=>{u.increment("flatten");const{nodeIds:o,parent:r,index:s}=k(e,"flatten",t,n,i),a=d.PluginHelpers.flattenNodes(o.join(" "),r?r.sessionID:-1,r?r.localID:-1,s);if("success"===a.status)return this.nodeFactory.createNode(a.nodeId);throw new Error(`Call to flatten() failed: ${a.error}`)}),e.defineFunction(y,"group",this.makeGroupingOperationFunction("group",d.GroupNodesType.GROUP)),e.defineFunction(y,"union",this.makeGroupingOperationFunction("union",d.GroupNodesType.UNION)),e.defineFunction(y,"subtract",this.makeGroupingOperationFunction("subtract",d.GroupNodesType.SUBTRACT)),e.defineFunction(y,"intersect",this.makeGroupingOperationFunction("intersect",d.GroupNodesType.INTERSECT)),e.defineFunction(y,"exclude",this.makeGroupingOperationFunction("exclude",d.GroupNodesType.XOR)),e.defineFunction(y,"createImage",t=>(u.increment("createImage"),r.wrapPrivateImage(e,this.imageStore.createImage(p.deepValidateAndUnwrap(e,t,p.PropTypes.uint8Array,"createImage"))))),e.defineFunction(y,"getImageByHash",t=>{u.increment("getImageByHash");const n=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"getImageByHash");return r.wrapPrivateImage(e,this.imageStore.createImageFromSHA1(n))}),e.defineFunction(y,"listAvailableFontsAsync",()=>{u.increment("listAvailableFontsAsync");const{promise:t,resolve:n,reject:r}=e.newPromise();return e.registerPromise(function(){return i(this,void 0,void 0,function*(){const e=m.globalReduxStore.getState(),t=e.fonts,n=[];for(const i in t){const e=new Set,o=t[i];for(const t in o){const r=o[t];for(const t in r.styles)e.has(t)||(e.add(t),n.push({fontName:{family:i,style:t}}))}}return n.sort((e,t)=>e.fontName.family>t.fontName.family?1:e.fontName.family<t.fontName.family?-1:e.fontName.style>t.fontName.style?1:e.fontName.style<t.fontName.style?-1:0),n})}()).then(t=>n(e.deepWrap(t)),t=>{r(e.newString("Internal error")),o.errorHandler.raiseError(t)}),t}),e.defineFunction(y,"loadFontAsync",t=>{u.increment("loadFontAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=p.deepValidateAndUnwrap(e,t,f.FontName,"loadFontAsync");return setTimeout(()=>{e.registerPromise(function({family:e,style:t}){return new Promise((n,i)=>{const o=d.PluginHelpers.startLoadingFontName(e,t);if(o!==d.ResourceStatus.LOADED)if(o!==d.ResourceStatus.LOADING)i();else{const o=r=>{r===d.ResourceStatus.LOADED?(h.unregisterFontListener(e,t,o),n()):r===d.ResourceStatus.FAILED&&(h.unregisterFontListener(e,t,o),i())};h.registerFontListener(e,t,o)}else n()})}(r)).then(()=>i(e.undefined),()=>o(e.newString(`The font "${r.family} ${r.style}" could not be loaded`)))}),n}),e.defineProp(y,"hasMissingFont",{enumerable:!1,get:()=>(u.increment("get hasMissingFont"),e.newBoolean(d.PluginHelpers.documentHasMissingFont()))}),e.defineFunction(y,"getNodeById",t=>{u.increment("getNodeById");const n=e.toString(t);if(!T.test(n))return e.null;let i=n.startsWith("I")?d.PluginHelpers.guidFromDeveloperFriendlyId(n):n;return i&&void 0!==N.get(i)?this.nodeFactory.createNode(i):e.null}),e.defineFunction(y,"createNodeFromSvg",t=>{u.increment("createNodeFromSvg");const n=e.toString(t),i=d.PluginHelpers.createNodeFromSvgForPlugin(n);if(""===i)throw new Error("Failed to convert SVG file");return this.nodeFactory.createNode(i)}),e.defineFunction(y,"importStyleByKeyAsync",t=>{u.increment("importStyleByKeyAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"key");return e.registerPromise(j(e,this.styleFactory,r,this.options.editingFileKey)).then(e=>i(e),t=>{o(e.newString(`Failed to import style by key "${r}"`))}),n}),e.defineFunction(y,"importComponentByKeyAsync",t=>{u.increment("importComponentByKeyAsync");const{promise:n,resolve:i,reject:o}=e.newPromise(),r=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"key");return e.registerPromise(L(this.nodeFactory,r)).then(e=>i(e),t=>{o(e.newString(`Failed to import component by key "${r}"`))}),n}),e.defineFunction(y,"closePlugin",t=>{u.increment("closePlugin");const n=p.deepValidateAndUnwrap(e,t,p.PropTypes.string.isOptional,"closePlugin message");return setTimeout(()=>{n?l({message:n,isError:!1}):l()}),e.undefined}),e.defineFunction(y,"notify",(t,n)=>{let i=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"notify message");const o=p.addDefaults(p.deepValidateAndUnwrap(e,n,f.ShowVisualBellOptions.isOptional,"notify options")||{},{timeout:4e3});o.timeout=Math.max(o.timeout,100),i.length>100&&(i=i.slice(0,100)+"…");const r=`message-from-plugin-${this.visualBellCounter}`;return this.uiHandle.showPluginVisualBell(i,r,o),this.visualBellCounter++,function(e,t,n){const i=e.newObject();return e.defineFunction(i,"cancel",()=>(t.cancelPluginVisualBell(n),e.undefined)),i}(e,this.uiHandle,r)});let w=V;c&&(w=w.concat(x)),this.addEventHandlersTo(y,w),g.isRunningInteractionTests()&&e.defineFunction(y,"closePluginWithFailure",t=>{let n;try{n=e.toString(t)}catch(i){n='The plugin called "closePluginWithFailure"'}return setTimeout(()=>l({message:n,isError:!0})),e.undefined}),e.defineFunction(y,"showUI",(t,n)=>{u.increment("showUI");const i=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"showUI html"),o=p.addDefaults(p.deepValidateAndUnwrap(e,n,M,"showUI options")||{},{visible:!0,position:"last"});return this.uiHandle.makeIframe(i,o.width,o.height,o.position),o.visible&&this.uiHandle.showIframe(),e.undefined}),e.defineProp(y,"ui",{enumerable:!1,value:this.createUiApi()}),e.defineProp(y,"viewport",{enumerable:!1,value:this.createViewportApi()}),e.defineProp(y,"clientStorage",{enumerable:!1,value:this.createClientStorageApi()});const v=P.default().zeplin_plugin_id;v&&s===v&&e.defineFunction(y,"infoForZeplinExportAsync",()=>{const{promise:t,resolve:n,reject:i}=e.newPromise();return F.infoForExternalExport(this.options.editingFileKey).then(({token:t})=>n(e.deepWrap({token:t})),t=>{i(e.newString("Failed to generate Zeplin export information"))}),t}),e.shallowFreezeObject(y)}},t.importStyleByKeyAsync=j,t.importComponentByKeyAsync=L}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(163                               );n.addTestAPI=function(e,n){const t=e.newObject();e.setProp(e.global,"__TEST__",t),e.defineProp(t,"updateInstanceCallCount",{enumerable:!0,get:()=>e.newNumber(s.DebuggingHelpers.updateInstanceCallCount())}),n&&(e.defineFunction(t,"sendMessage",t=>(n.sendMessageToTest(e.toString(t)),e.undefined)),e.defineFunction(t,"onMessage",t=>{if(!e.isFunction(t))throw new Error("onMessage handler must be a function");return e.retainHandle(t),n.sendMessageToPlugin=(n=>{e.callFunction(t,e.undefined,e.newString(n))}),e.undefined})),e.shallowFreezeObject(t)}}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTimerAPIs=function(e,t,l){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;const n=new Map,r=new Map;let a=1;function o(t,l){if(e.isFunction(t)){e.retainHandle(t);for(const t of l)e.retainHandle(t);let n=!1;return{release:()=>{if(!n){n=!0,e.releaseHandle(t);for(const t of l)e.releaseHandle(t)}},callback:()=>{n||e.callFunction(t,e.global,...l)}}}{const l=e.toString(t);return{release:()=>{},callback:()=>e.evalCode(l)}}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(l,r,...c)=>{null!==t&&t.increment("setTimeout");const{release:u,callback:s}=o(l,c),i=e.toNumber(r),d=a++,m=setTimeout(()=>{n.delete(m),s(),u()},i);return n.set(d,{release:u,realId:m}),e.newNumber(d)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",l=>{null!==t&&t.increment("clearTimeout");const r=e.toNumber(l),a=n.get(r);return void 0!==a&&(n.delete(r),clearTimeout(a.realId),a.release()),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(l,n,...c)=>{null!==t&&t.increment("setInterval");const{release:u,callback:s}=o(l,c),i=e.toNumber(n),d=a++,m=setInterval(s,i);return r.set(d,{release:u,realId:m}),e.newNumber(d)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",l=>{null!==t&&t.increment("clearInterval");const n=e.toNumber(l),a=r.get(n);return void 0!==a&&(r.delete(n),clearInterval(a.realId),a.release()),e.undefined})),l(()=>{for(const{realId:e}of n.values())clearTimeout(e);n.clear();for(const{realId:e}of r.values())clearInterval(e);r.clear()})}}),
(function(e,n,t){"use strict";var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(n){s(n)}}function o(e){try{l(r.throw(e))}catch(n){s(n)}}function l(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,o)}l((r=r.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=t(146                                          ),s=t(322     ),a=t(585               ),o=t(586              ),l=t(589                          ),c=t(172              ),u=t(126          ),d=t(143                ),g=t(163                               ),p=t(316                   ),m=t(587               ),f=100;let I=0;function _(e){if(++I>f)return;const{message:n,raw_stack:t,apiVersion:r,pluginID:i}=e;let s=Object.assign(Object.assign({message:n},d.splitStackIntoSegmentSizes(t)),{pluginID:i||"",version:r});u.segment.track("plugin_generated_error",s)}n.runPluginCodeInRuntime=function(e){return r(this,void 0,void 0,function*(){const{code:n,name:t,apiVersion:r,command:u,userID:d,editingFileKey:f,enableProposedApi:I,pluginCounter:y,errorHandler:h,testMessageHandler:P,securityCheckReporter:v,stats:b}=e;let w,A;return"cppvm"===e.vmType?w=yield s.createCppVm():(yield p.loadRealms(),w=s.createRealmsVm()),w.setErrorHandler(n=>{let t="";try{t=w.toString(n.handle)}catch(s){t="Error: An error was thrown, but couldn't be converted into a string"}let i="";try{i=w.getStringProp(n.handle,"stack")}catch(s){i="Unable to get stack"}_({message:t,raw_stack:i,pluginID:e.pluginID,apiVersion:r}),h(t)}),w.setAbortHandler(n=>{A({message:"Plugin runtime aborted",isError:!0}),_({message:"Plugin runtime aborted",raw_stack:n,pluginID:e.pluginID,apiVersion:r})}),{runResult:new Promise((p,_)=>{let h=[];const D=e=>{-1===h.indexOf(e)&&h.push(e)};A=(e=>{let n=void 0;e&&e.isError&&(n=new Error(e.message));try{(()=>{let e;if(h.forEach(n=>{try{n()}catch(t){e||(e=t)}}),h=[],e)throw e})()}catch(t){throw n=n||t,t}finally{n?_(n):p(e&&e.message)}}),l.silenceConsole();const E=new a.FigmaAPI(w,{stats:b,name:t,command:u,userID:d,pluginID:e.pluginID||"",editingFileKey:f,apiVersion:r,closePlugin:A,addShutdownAction:D,apiMode:v?{type:"HIDE_VISUAL_BELL"}:{type:"NORMAL"},enableProposedApi:I});E.createAPI(),D(()=>w.destroy()),D(()=>l.restoreConsole()),D(()=>i.fullscreen.triggerAction("commit")),a.addAlertAPI(w,b,t),m.addTimerAPIs(w,b,D),c.isRunningInteractionTests()&&o.addTestAPI(w,P),v&&w.defineFunction(w.global,"reportSecurityResults",e=>(v(w.toString(e)),w.undefined));const S=s.createNoOpJavascriptVm();D(()=>S.destroy()),D(()=>{delete window.figma}),new a.FigmaAPI(S,{stats:b,name:t,command:u,userID:d,pluginID:e.pluginID||"",editingFileKey:f,apiVersion:r,closePlugin:A,addShutdownAction:D,apiMode:{type:"CONSOLE_SHIM",uiHandle:E.getUiHandle()},enableProposedApi:I}).createAPI();const R=n+"\n//# sourceURL=PLUGIN_"+y+"_SOURCE\n";setTimeout(()=>{if(!v&&l.getCurrentPluginCounter()!==y)return void A({message:"Plugin already terminated",isError:!0});let e;g.PluginHelpers.prepareToRunPlugin();try{e=w.evalTopLevelCode(R)}catch(n){let e="Unknown error";try{e=n+""}catch(n){}return void A({message:e,isError:!0})}if("FAILURE"===e.type)if(c.isRunningInteractionTests()){const n=w.toString(e.error.handle);A({message:n,isError:!0})}else A()})}),closePlugin:A}})}}),
(function(module,exports,require){"use strict";var __awaiter=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(n){i(n)}}function l(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,l)}u((r=r.apply(e,n||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const storage_1=require(113          ),plugin_syntax_checker_1=require(327                      ),segment_1=require(126          ),safe_record_1=require(172              ),jsvm_runtime_1=require(588                            ),jsvm_1=require(322                    ),plugin_constants_1=require(326                 ),jsvm_figma_api_1=require(585                              ),bindings_interface_1=require(146                                          ),cpp_api_1=require(163                               ),global_redux_store_1=require(142                     ),desktop_app_1=require(117              ),visual_bell_actions_1=require(130                                              ),plugin_constants_2=require(326                             ),plugin_helper_1=require(330              ),plugins_1=require(313                       ),plugin_code_cache_1=require(328                  ),plugin_last_run_1=require(571                ),consoleError=console.error,hasTrackedPluginApiUse=new Set;function getUserID(){var e;return null===(e=global_redux_store_1.globalReduxStore.getState().user)||void 0===e?void 0:e.id}function vmTypeForPluginDev(){return global_redux_store_1.globalReduxStore.getState().mirror.appModel.useRealmsForPluginDev?"realms":"cppvm"}function showVisualBellError(e){return __awaiter(this,void 0,void 0,function*(){e.length>50&&(e=e.substring(0,50)+"…");const n=desktop_app_1.desktopApp&&(!plugin_constants_2.supportsDesktopPluginsV4()||!(yield desktop_app_1.desktopApp.isDevToolsOpened()));bindings_interface_1.fullscreen.dispatch(visual_bell_actions_1.visualBell.enqueue({type:"plugins-runtime-error",message:e,timeout:3e3,button:n?{text:"Open Console",action:()=>{desktop_app_1.desktopApp.openDevTools("bottom")}}:void 0}))})}function makeRuntimeErrorHandler(){let e=0;return n=>{let t="";++e>1&&(t=` (${e} errors total)`),showVisualBellError(`Plugin Error: ${n}${t}`)}}exports.getUserID=getUserID,exports.vmTypeForPluginDev=vmTypeForPluginDev,exports.showVisualBellError=showVisualBellError;let closePluginFunc=e=>{};function terminateCurrentPlugin(e){e?closePluginFunc({message:e+"",isError:!0}):closePluginFunc(),currentPluginCounter=void 0}function exposeGlobalDebugAPI(e){const n=jsvm_1.createNoOpJavascriptVm();let t=[()=>n.destroy(),()=>{delete window.figma},()=>bindings_interface_1.fullscreen.triggerAction("commit")];const r=e=>{(()=>{let e;if(t.forEach(n=>{try{n()}catch(t){e||(e=t)}}),t=[],e)throw e})()};delete window.figma,cpp_api_1.PluginHelpers.setRunningPluginVersion(plugin_constants_1.PLUGIN_VERSION_LATEST_STABLE),new jsvm_figma_api_1.FigmaAPI(n,{name:"",command:"",pluginID:"",editingFileKey:e.editingFileKey,stats:new plugin_helper_1.StatCounter,userID:e.userID,apiVersion:plugin_constants_1.PLUGIN_VERSION_UNSTABLE,closePlugin:r,addShutdownAction:e=>{-1===t.indexOf(e)&&t.push(e)},apiMode:{type:"HIDE_VISUAL_BELL"},enableProposedApi:!0}).createAPI(),closePluginFunc=r}exports.terminateCurrentPlugin=terminateCurrentPlugin,exports.exposeGlobalDebugAPI=exposeGlobalDebugAPI;let nextPluginCounter=1,currentPluginCounter=void 0;function getCurrentPluginCounter(){return currentPluginCounter}function isPluginRunning(){return void 0!==currentPluginCounter}exports.getCurrentPluginCounter=getCurrentPluginCounter,exports.isPluginRunning=isPluginRunning;let realmsSandboxChecksPromise=void 0,cppSandboxChecksPromise=void 0;function resetSecurityChecks(){realmsSandboxChecksPromise=void 0,cppSandboxChecksPromise=void 0}function createPluginRunID(){return Math.random().toString(36).slice(2)}function runPlugin(e){return __awaiter(this,void 0,void 0,function*(){plugins_1.isLocalPlugin(e.plugin)?yield runLocalPlugin(e.plugin,e):yield runInstalledPlugin(e.plugin,e)})}function runInstalledPlugin(e,n){return __awaiter(this,void 0,void 0,function*(){const{command:t,triggeredFrom:r,editingFileKey:o}=n,i=yield plugin_code_cache_1.pluginCodeCache.getAndCache(e);if(!i)throw new Error("No code found for plugin version");const s=getUserID();if(!s)throw new Error("Cannot run plugin while logged out");plugin_last_run_1.setLastRunPluginArgs(n);const l=createPluginRunID(),u={pluginID:e.plugin_id,version:e.manifest.api,trigger:r,source:"imported",command:t,name:e.name,fileKey:o,pluginRunID:l};return segment_1.segment.track("Run User Action",u),runPluginCode({code:i,command:t,name:e.name,apiVersion:e.manifest.api,pluginID:e.plugin_id,userID:s,editingFileKey:o,enableProposedApi:!1,checkSyntax:!1,showRuntimeErrors:!1,showLaunchErrors:!0,vmType:"cppvm",pluginRunID:l})})}function runLocalPlugin(e,n){return __awaiter(this,void 0,void 0,function*(){const{command:t,triggeredFrom:r,editingFileKey:o}=n,i=createPluginRunID(),s=getUserID();if(!s)throw new Error("Cannot run plugin while logged out");if(plugin_last_run_1.setLastRunPluginArgs(n),e.manifest){const n={pluginID:e.manifest.id||"",version:e.manifest.api,trigger:r,source:"development",command:t,name:"<local plugin>",fileKey:o,pluginRunID:i};segment_1.segment.track("Run User Action",n)}try{const n=yield plugin_helper_1.getManifest(e.localFileId),r={code:yield plugin_helper_1.getLocalPluginCode(e.localFileId),command:t,name:n.name,apiVersion:n.api,pluginID:n.id||"",userID:s,editingFileKey:o,checkSyntax:!0,enableProposedApi:!!n.enableProposedApi,showRuntimeErrors:!0,showLaunchErrors:!1,vmType:vmTypeForPluginDev(),pluginRunID:i};yield runPluginCode(r)}catch(l){consoleError(l),showVisualBellError(l&&l.message||"An error occurred while running this plugin")}})}function runLastPlugin(){const e=plugin_last_run_1.getLastRunPluginArgs();e&&runPlugin(e)}function runPluginCode(e){const n=new plugin_helper_1.StatCounter,t=Date.now(),r=new Promise((t,r)=>__awaiter(this,void 0,void 0,function*(){terminateCurrentPlugin(),closePluginFunc=r;let o=nextPluginCounter;currentPluginCounter=o,nextPluginCounter++;try{realmsSandboxChecksPromise||(realmsSandboxChecksPromise=doSecurityChecks("realms").catch(e=>{throw segment_1.segment.track("Plugin Sandbox Failure",{error:e+"",vm:"realms"}),e})),yield realmsSandboxChecksPromise,cppSandboxChecksPromise||(cppSandboxChecksPromise=doSecurityChecks("cppvm").catch(e=>{throw segment_1.segment.track("Plugin Sandbox Failure",{error:e+"",vm:"cppvm"}),e})),yield cppSandboxChecksPromise;let{runResult:s,closePlugin:l}=yield runPluginCodeInternal(Object.assign(Object.assign({},e),{pluginCounter:o,stats:n}));if(getCurrentPluginCounter()===o){closePluginFunc=l;const e=yield s;e&&bindings_interface_1.fullscreen.dispatch(visual_bell_actions_1.visualBell.enqueue({type:"plugins-supplied-message",message:e,timeout:3e3}))}t()}catch(i){r(i)}finally{o===currentPluginCounter&&(currentPluginCounter=void 0,exposeGlobalDebugAPI({userID:e.userID,editingFileKey:e.editingFileKey}))}})).catch(n=>{if(consoleError(n),!e.showLaunchErrors)throw n;showVisualBellError(n&&n.message||"An error occurred while running this plugin")}),o=()=>{if(segment_1.segment.track("Finish User Action",{pluginID:e.pluginID,pluginRunID:e.pluginRunID,approximateDurationMS:Date.now()-t}),e.pluginID){let t=0;for(const r of n.keys()){const n=`${e.pluginID}:${r}`;hasTrackedPluginApiUse.has(n)||(hasTrackedPluginApiUse.add(n),setTimeout(()=>{segment_1.segment.track("Plugin Api Use",{pluginID:e.pluginID,apiName:r})},t),t+=20)}n.hasResizedNodeWithMissingFont()&&(segment_1.segment.track("Plugin resized node with missing font",{pluginID:e.pluginID}),console.warn("This plugin resized a node with missing fonts. Text layout for node will not be applied."))}};return r.then(o,o),r}function runPluginCodeInternal(e){return __awaiter(this,void 0,void 0,function*(){const{stats:n,code:t,name:r,apiVersion:o,command:i,userID:s,editingFileKey:l,enableProposedApi:u,checkSyntax:a,vmType:c,pluginCounter:g,showRuntimeErrors:p,testMessageHandler:d,securityCheckReporter:_,errorHandler:m}=e;if("0.6.0"===o||"1.0.0"===o);else{if("1.1.0"!==o)throw new Error(`Unknown plugin api version "${o}"`);if(!plugin_constants_1.getAllowUnstable()&&!_)throw new Error(`Unknown plugin api version "${o}"`)}let h;if(p){let e=makeRuntimeErrorHandler();h=m?n=>{e(n),m(n)}:e}else h=m||(()=>{});if(!1!==a){let e;try{e=yield plugin_syntax_checker_1.checkJavaScriptSyntax(t)}catch(f){}if(e&&!1===e.success){const{lineNumber:n,column:r,description:o}=e.error,i=`Syntax error on line ${n}: ${o}`,s=t.split("\n");let l="";if(n>=1&&n<=s.length&&r>=1&&r<100){l+=`\n${s[n-1].replace(/\t/g," ").slice(0,r+100)}\n${" ".repeat(r-1)}^`}throw consoleError(i+l),new Error(i)}}return cpp_api_1.PluginHelpers.setRunningPluginVersion(o),jsvm_runtime_1.runPluginCodeInRuntime({stats:n,code:t,name:r,apiVersion:o,userID:s,pluginID:e.pluginID,editingFileKey:l,pluginCounter:g,vmType:c,command:i,enableProposedApi:u,errorHandler:h,testMessageHandler:d,securityCheckReporter:_})})}function doSecurityChecks(vmType){return __awaiter(this,void 0,void 0,function*(){let html='<script>\n  function doIframeSecurityChecks() {\n\n    // Edge seems to change the URL and origin of the page when you document.write()\n    // a whole new page. The new URL looks something like http://{abc123.abcd-1234-5678-0123}/\n    // with the {} escaped using percent encoding.\n    if (document.location.origin !== "null" &&\n        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d$/.test(document.location.origin)) {\n      return "Failed origin check: " + document.location.origin\n    }\n\n    // This doesn\'t ensure that we\'re sandboxed. But we want this to be true\n    if (!document.location.href.startsWith(\'data:text/html,\') &&\n        !document.location.href.startsWith(\'data:text/html;base64,\') &&\n        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d\\/$/.test(document.location.href)) {\n      return "Failed location.href check: " + document.location.href\n    }\n\n    try {\n      if (localStorage && localStorage["figma-extension-guard"] !== undefined) {\n        return "Failed localStorage check"\n      }\n    } catch(ex) {}\n\n    try {\n      window.parent.document.body\n      return "Failed DOM access check"\n    } catch(ex) {}\n\n    try {\n      window.parent.someRandomProperty\n      return "Failed JS heap access check"\n    } catch(ex) {}\n\n    return "ok"\n  }\n\n  let result\n  try {\n    result = doIframeSecurityChecks()\n  } catch(ex) {\n    result = ex + \'\'\n  }\n  parent.postMessage({ pluginMessage: result }, \'*\')\n  <\/script>',code=`\n    function doMainThreadSecurityChecks() {\n      // Modify a grab bag of prototype objects to try to modify prototypes outside\n      // of the sandbox.\n      // Grab prototype objects both through global property accesses, like\n      // Array.prototype, through syntax access, like [].__proto__, and through\n      // Object helpers, like Object.getPrototypeOf({}), in case\n      // the realm API accidentally protects one but not the other.\n      // Also grab prototypes for things that don't have named constructors, like\n      // GeneratorFunction\n      for (let obj of [Array.prototype,\n                       String.prototype,\n                       Function.prototype,\n                       Object.prototype,\n                       Date.prototype,\n                       [].__proto__,\n                       "".__proto__,\n                       Math.__proto__,\n                       (new Date()).__proto__,\n                       ({}).__proto__,\n                       (() => {}).__proto__,\n                       (function*(){}).__proto__,\n                       "(async () => {}).__proto__",\n                       "(async function*(){}).__proto__",\n                       Object.getPrototypeOf([]),\n                       Object.getPrototypeOf(""),\n                       Object.getPrototypeOf(Math),\n                       Object.getPrototypeOf(new Date()),\n                       Object.getPrototypeOf({}),\n                       Object.getPrototypeOf(() => {}),\n                       Object.getPrototypeOf(function*(){}),\n                       "Object.getPrototypeOf(async () => {})",\n                       "Object.getPrototypeOf(async function*(){})",\n                       ]) {\n        // Some syntaxes might not work in all browser versions. But we still want to protect the\n        // ones where it does work.\n        if (typeof obj === 'string') {\n          try {\n            obj = eval(obj)\n          } catch(ex) {\n            continue\n          }\n        }\n\n        // Don't make it enumerable since adding enumerable properties on Object.prototype\n        // will completely break Figma. And we want a breach here to prevent plugins from\n        // running, not to prevent Figma from continuing to work\n        Object.defineProperty(obj, 'hackedSandbox', {\n          value: true,\n          configurable: true,\n          enumerable: false,\n        })\n      }\n\n      function swallowErrors(cb) {\n        try { return cb() }\n        catch (e) { return false }\n      }\n\n      if (swallowErrors(() => window) ||\n          swallowErrors(() => document) ||\n          swallowErrors(() => localStorage)) {\n        return "Browser globals accessible"\n      }\n\n      // Check if you can use eval or Function to break out of the sandbox\n      if (swallowErrors(() => eval('window')) ||\n          swallowErrors(() => eval('document')) ||\n          swallowErrors(() => eval('localStorage')) ||\n          swallowErrors(() => new Function('return window')()) ||\n          swallowErrors(() => new Function('return document')()) ||\n          swallowErrors(() => new Function('return localStorage')())) {\n        return "Browser globals accessible"\n      }\n\n      if (figma.showUI.__proto__ !== Function.prototype) {\n        return "APIs use unexpected prototype"\n      }\n\n      if ([].__proto__ !== Array.prototype) {\n        return "Array use unexpected prototype"\n      }\n\n      return "ok"\n    }\n\n    let result\n    try {\n      result = doMainThreadSecurityChecks()\n    } catch(ex) {\n      result = ex + ''\n    }\n\n    if (result !== "ok") {\n      reportSecurityResults(result)\n      figma.closePlugin()\n    }\n\n    figma.showUI(${JSON.stringify(html)}, { visible: false })\n    figma.ui.onmessage = result => {\n      reportSecurityResults(result)\n      figma.closePlugin()\n    }\n  `;storage_1.localStorageOrNull&&(storage_1.localStorageOrNull["figma-extension-guard"]="guard");let triggeredError=void 0,reportedResult="";const{runResult:runResult}=yield runPluginCodeInternal({stats:new plugin_helper_1.StatCounter,code:code,name:"Security Checker",apiVersion:plugin_constants_1.PLUGIN_VERSION_UNSTABLE,command:"",pluginRunID:"",pluginID:"",userID:"",editingFileKey:"",vmType:vmType,enableProposedApi:!1,checkSyntax:!1,showRuntimeErrors:!1,showLaunchErrors:!1,errorHandler:e=>{triggeredError=triggeredError||e||"unknown error"},pluginCounter:-1,securityCheckReporter:e=>{reportedResult=e}});yield runResult;let failedPrototypeChecks=!1;for(let obj in[Array.prototype,Function.prototype,Object.prototype,Date.prototype,Object.getPrototypeOf(function*(){yield 0}),"Object.getPrototypeOf(async () => {})","Object.getPrototypeOf(async function*(){ yield 0 })"]){if("string"==typeof obj)try{obj=eval(obj)}catch(ex){continue}obj.hackedSandbox&&(failedPrototypeChecks=!0,delete obj.hackedSandbox)}if(failedPrototypeChecks)throw new Error("Prototypes not isolated");if(void 0!==triggeredError)throw new Error("Security checks triggered error");if("ok"!==reportedResult)throw new Error(reportedResult)})}exports.resetSecurityChecks=resetSecurityChecks,exports.createPluginRunID=createPluginRunID,exports.runPlugin=runPlugin,exports.runLastPlugin=runLastPlugin,exports.runPluginCode=runPluginCode;const consoleFuncNames=["log","error","assert","info","warn","clear"];let consoleStash={};for(let e of consoleFuncNames)consoleStash[e]=console[e];let silenceDepth=0;function silenceConsole(){if(!safe_record_1.isRunningInteractionTests()&&!safe_record_1.isDevelopmentEnvironment){if(0===silenceDepth){console.clear(),console.log("------- Clearing and silencing console.log from Figma -------");try{for(let e of consoleFuncNames)console[e]=(()=>{})}catch(e){console.log("unable to silence console")}}silenceDepth++}}function restoreConsole(){if(!safe_record_1.isRunningInteractionTests()&&!safe_record_1.isDevelopmentEnvironment&&0===--silenceDepth){try{for(let e of consoleFuncNames)console[e]=consoleStash[e]}catch(e){console.log("unable to restore console")}console.log("------- Restoring console.log functionality in Figma --------")}}exports.silenceConsole=silenceConsole,exports.restoreConsole=restoreConsole}),
(function(e,n,t){e.exports={button:"plugin_new_development_modal--button--3-_9K",buttonsContainer:"plugin_new_development_modal--buttonsContainer--gds_U",modal:"plugin_new_development_modal--modal--3EC1c",modalTitle:"plugin_new_development_modal--modalTitle--3Hv0k text--fontPos24--2l6xY text--_fontBase--YWDo0",modalSubtitle:"plugin_new_development_modal--modalSubtitle--1rM6E text--fontPos14--3UJ36 text--_fontBase--YWDo0",modalContent:"plugin_new_development_modal--modalContent--Njltu",modalTitleSubtext:"plugin_new_development_modal--modalTitleSubtext--3grCs",modalContentPadding:"plugin_new_development_modal--modalContentPadding--1r2TR",generateNew:"plugin_new_development_modal--generateNew--2Lv-g",pluginNameText:"plugin_new_development_modal--pluginNameText--1IR2r text--fontPos11--RSei3 text--_fontBase--YWDo0",pluginNameInput:"plugin_new_development_modal--pluginNameInput--3Ii7E",continueButton:"plugin_new_development_modal--continueButton--3h3iM",separator:"plugin_new_development_modal--separator--3ByuV",separatorLine:"plugin_new_development_modal--separatorLine--1_RJX",or:"plugin_new_development_modal--or--pwKZW",dragTargetBox:"plugin_new_development_modal--dragTargetBox--2kvTx",folderIcon:"plugin_new_development_modal--folderIcon--3LTsf",folderDragText:"plugin_new_development_modal--folderDragText--39n0d",split:"plugin_new_development_modal--split--3_gma",leftSplit:"plugin_new_development_modal--leftSplit--3h8ZC plugin_new_development_modal--split--3_gma",rightSplit:"plugin_new_development_modal--rightSplit--VngdX plugin_new_development_modal--split--3_gma",closeX:"plugin_new_development_modal--closeX--sY_d7",closeWhite:"plugin_new_development_modal--closeWhite--Loa95",templatesRow:"plugin_new_development_modal--templatesRow--1uIs0",template:"plugin_new_development_modal--template--39s_h",selectedTemplate:"plugin_new_development_modal--selectedTemplate--28ghr plugin_new_development_modal--template--39s_h",templateContent:"plugin_new_development_modal--templateContent--261dy",selectedTemplateContent:"plugin_new_development_modal--selectedTemplateContent--3My5n plugin_new_development_modal--templateContent--261dy",templateImage:"plugin_new_development_modal--templateImage--2Ixp5",templateDescription:"plugin_new_development_modal--templateDescription--3JOy9",templateTitle:"plugin_new_development_modal--templateTitle--2o_pj text--fontPos14--3UJ36 text--_fontBase--YWDo0",radio:"plugin_new_development_modal--radio--OGs-_",emptyRadio:"plugin_new_development_modal--emptyRadio--1cH-I",chooseButtonsContainer:"plugin_new_development_modal--chooseButtonsContainer--2YGhR",modalInstructions:"plugin_new_development_modal--modalInstructions--2VvNS",modalTextPadding:"plugin_new_development_modal--modalTextPadding--3D6iY",commandTitle:"plugin_new_development_modal--commandTitle--2indb",instructionArea:"plugin_new_development_modal--instructionArea--y-r3l",linkArea:"plugin_new_development_modal--linkArea--2OZ5e plugin_new_development_modal--instructionArea--y-r3l text--fontPos13--1DoEt text--_fontBase--YWDo0",codeArea:"plugin_new_development_modal--codeArea--C1ejr plugin_new_development_modal--instructionArea--y-r3l",copyIcon:"plugin_new_development_modal--copyIcon--1PIzW"}}),
(function(c,h,l){c.exports={src:'<svg width="18" height="22" viewBox="0 0 18 22" xmlns="http://www.w3.org/2000/svg"><path d="M.879.879C1.44.316 2.204 0 3 0h8c.265 0 .52.105.707.293l6 6c.188.187.293.442.293.707v12c0 .796-.316 1.559-.879 2.121-.562.563-1.325.879-2.121.879H3c-.796 0-1.559-.316-2.121-.879C.316 20.56 0 19.796 0 19V3C0 2.204.316 1.441.879.879zM3 2c-.265 0-.52.105-.707.293C2.105 2.48 2 2.735 2 3v16c0 .265.105.52.293.707.187.188.442.293.707.293h12c.265 0 .52-.105.707-.293.188-.187.293-.442.293-.707V8h-5c-.552 0-1-.448-1-1V2H3zm9 1.414L14.586 6H12V3.414zM4 8c0-.552.448-1 1-1h2c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1zm0 4c0-.552.448-1 1-1h8c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1zm0 4c0-.552.448-1 1-1h8c.552 0 1 .448 1 1 0 .552-.448 1-1 1H5c-.552 0-1-.448-1-1z" fill-rule="evenodd" fill-opacity="1" fill="#61616a" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.089-5.135l4-4.5-.822-.73-3.613 4.064L4.89 7.11l-.778.778 3 3 .413.412.387-.436z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(c,h,v){c.exports={src:'<svg width="23" height="22" viewBox="0 0 23 22" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 2c-.265 0-.52.105-.707.293-.188.187-.293.442-.293.707v9c0 .265.105.52.293.707.187.188.442.293.707.293h1c.552 0 1 .448 1 1 0 .552-.448 1-1 1h-1c-.796 0-1.559-.316-2.121-.879C.816 13.56.5 12.796.5 12V3c0-.796.316-1.559.879-2.121C1.94.316 2.704 0 3.5 0h9c.796 0 1.559.316 2.121.879.563.562.879 1.325.879 2.121v1c0 .552-.448 1-1 1-.552 0-1-.448-1-1V3c0-.265-.105-.52-.293-.707C13.02 2.105 12.765 2 12.5 2h-9zm7 7c-.552 0-1 .448-1 1v9c0 .552.448 1 1 1h9c.552 0 1-.448 1-1v-9c0-.552-.448-1-1-1h-9zm-3 1c0-1.657 1.343-3 3-3h9c1.657 0 3 1.343 3 3v9c0 1.657-1.343 3-3 3h-9c-1.657 0-3-1.343-3-3v-9z" fill-rule="evenodd" fill-opacity="1" fill="#61616a" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="19" height="18" viewBox="0 0 19 18" xmlns="http://www.w3.org/2000/svg"><path d="M2.157 16.5v-15h3.6V0h-4.35c-.45 0-.75.3-.75.75v16.5c0 .45.3.75.75.75h16.5c.45 0 .75-.3.75-.75V12.9h-1.5v3.6h-15zM15.97 1.675L8.757 8.834 9.83 9.9l7.29-7.235v2.437h1.536V0h-5.142v1.523h2.456v.152z" fill-rule="nonzero" fill-opacity="1" fill="#60606a" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(n,s){function l(e){try{c(i.next(e))}catch(t){s(t)}}function o(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(l,o)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),s=a(474                                                   ),l=a(379                                                     ),o=a(106                                     ),c=a(330                          ),r=a(224                                            ),m=a(227                                 ),d=a(187                             ),p=a(326                             ),u=a(174                        ),g=a(117              ),h=a(126          ),v=a(119              ),E=a(130                                              ),N=a(590                                 ),f=a(229                    ),C=a(591                                     ),w=a(337                           ),_=a(592                                        ),P=a(593                                        ),T=a(594                                     ),y="npm install -g typescript";function k(e,t,a){const i={name:e,id:t,api:p.getVersionForNewPlugin(),main:"code.js"};return a&&(i.ui="ui.html"),JSON.stringify(i,void 0,2)}const b={empty:function(e,t){return[{name:"manifest.json",content:k(e,t,!1)},{name:"code.js",content:"figma.closePlugin()"}]},runOnce:function(e,t){return[{name:"manifest.json",content:k(e,t,!1)},{name:"README.md",content:p.TYPESCRIPT_README},{name:"code.js",content:p.JAVASCRIPT_REDIRECT},{name:"code.ts",content:p.getTsForNewPlugin()},{name:"figma.d.ts",content:p.getFigmaDTSForNewPlugin()},{name:"tsconfig.json",content:p.DEFAULT_TSCONFIG}]},withUI:function(e,t){return[{name:"manifest.json",content:k(e,t,!0)},{name:"README.md",content:p.TYPESCRIPT_README},{name:"code.js",content:p.JAVASCRIPT_REDIRECT},{name:"code.ts",content:p.getTsWithHtmlForNewPlugin()},{name:"ui.html",content:p.getHtmlForNewPlugin()},{name:"figma.d.ts",content:p.getFigmaDTSForNewPlugin()},{name:"tsconfig.json",content:p.DEFAULT_TSCONFIG}]}};t.PLUGIN_ADD_DEVELOPMENT_MODAL="PLUGIN_ADD_DEVELOPMENT_MODAL",f.registerModal(t.PLUGIN_ADD_DEVELOPMENT_MODAL,e=>n.createElement(S,{dispatch:e.dispatch}));class S extends n.PureComponent{constructor(){super(...arguments),this.state={pluginName:"",step:"createPlugin",selectedTemplate:"runOnce"},this.onPluginNameChange=(e=>{this.setState({pluginName:e.currentTarget.value})}),this.onCancelClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.onLinkExistingClick=(()=>i(this,void 0,void 0,function*(){try{(yield this.importPluginFromFile())&&this.props.dispatch(o.fileBrowser.hideModal())}catch(e){this.props.dispatch(d.visualBellActions.enqueue({message:"Unable to import plugin. Please try again later.",error:!0}))}})),this.onGenerateNewClick=(()=>i(this,void 0,void 0,function*(){let e="";try{const a=yield c.newPublishedPlugin();this.props.dispatch(l.mergePublishedAndValidate({publishedPlugins:[a],src:"onGenerateNewClick"})),e=a.id}catch(t){return void this.props.dispatch(d.visualBellActions.enqueue({message:"Unable to generate plugin ID. Please try again later.",error:!0}))}yield this.createAndWriteNewPluginToFile({name:this.state.pluginName,pluginId:e,template:b[this.state.selectedTemplate](this.state.pluginName,e)}),"runOnce"===this.state.selectedTemplate||"withUI"===this.state.selectedTemplate?this.setState({step:"instructions"}):this.props.dispatch(o.fileBrowser.hideModal())})),this.onContinueClick=(()=>{""!==this.pluginDirName()&&this.setState({step:"chooseTemplate"})}),this.onCopyCommandClick=(()=>i(this,void 0,void 0,function*(){v.copyText(y).then(()=>{this.props.dispatch(E.visualBell.enqueue({message:"Command copied to your clipboard",type:"command-copied"}))})})),this.onFinishClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.selectTemplate=(e=>()=>{this.setState({selectedTemplate:e})})}importPluginFromFile(){return i(this,void 0,void 0,function*(){let e=null;const{added:t,existed:a}=yield g.desktopApp.createMultipleNewLocalFileExtensions({title:"Pick Plugin Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0);if(null!=(e=t&&t[0]||a&&a[0])){const t=yield c.getManifest(e);return h.segment.track("Added New Plugin",{how:"loaded",pluginId:t.id,version:t.api}),this.props.dispatch(s.reloadLocalPlugin({localFileId:e})),!0}return!1})}pluginDirName(){return this.state.pluginName.replace(/[^0-9a-zA-Z\.\-\+!%&_ =]/g,"_").trim()}createAndWriteNewPluginToFile({name:e,pluginId:t,template:a}){return i(this,void 0,void 0,function*(){if(""!==this.pluginDirName())try{const i=yield g.desktopApp.writeNewExtensionToDisk(this.pluginDirName(),a);i&&(h.segment.track("Added New Plugin",{how:"created",pluginId:t,version:p.getVersionForNewPlugin()}),this.props.dispatch(s.reloadLocalPlugin({localFileId:i})))}catch(e){this.props.dispatch(d.visualBellActions.enqueue({message:"Unable to write plugin to disk. Please try again later",error:!0}))}else this.props.dispatch(d.visualBellActions.enqueue({message:'Please add some text to your plugin name (for example, add "Plugin" to the end)',error:!0}))})}renderCreatePluginStep(){return n.createElement(m.Modal,{className:N.modal,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:N.leftSplit},n.createElement("div",{className:N.modalTitle},"Create a plugin"),n.createElement("div",{className:N.modalContent},n.createElement("div",{className:N.modalSubtitle},"Generate from template"),n.createElement("div",{className:N.generateNew},n.createElement("div",{className:N.pluginNameText},"Name"),n.createElement(r.TextInput,{value:this.state.pluginName,onChange:this.onPluginNameChange,className:N.pluginNameInput,placeholder:"Plugin Name",required:!0}),n.createElement(r.ButtonPrimary,{className:N.continueButton,onClick:this.onContinueClick},"Continue ->"))),n.createElement("div",{className:N.separator},n.createElement("hr",{className:N.separatorLine}),n.createElement("div",{className:N.or},"or"),n.createElement("hr",{className:N.separatorLine})),n.createElement("div",{className:N.modalSubtitle},"Link existing plugin"),n.createElement("div",{className:N.dragTargetBox,onClick:this.onLinkExistingClick},n.createElement(u.Svg,{svg:C,className:N.folderIcon}),n.createElement("div",{className:N.folderDragText},"Click to choose a manifest.json file"))),n.createElement("div",{className:N.rightSplit},n.createElement("img",{src:"https://static.figma.com/uploads/0a7232b023a327674d4dae60db15c41dee9506b7"})),n.createElement("div",{className:`${N.closeX} ${N.closeWhite}`,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:w})))}renderTemplate(e){const t=e.id===this.state.selectedTemplate;return n.createElement("div",{className:t?N.selectedTemplate:N.template,onClick:this.selectTemplate(e.id)},n.createElement("div",{className:t?N.selectedTemplateContent:N.templateContent},n.createElement("div",{className:N.radio},t?n.createElement(u.Svg,{svg:_}):n.createElement("div",{className:N.emptyRadio})),n.createElement("img",{className:N.templateImage,src:e.imageUrl}),n.createElement("div",{className:N.templateDescription},n.createElement("div",{className:N.templateTitle},e.name),n.createElement("div",null,e.text))))}renderChooseTemplateStep(){return n.createElement(m.Modal,{className:N.modal,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:N.modalContentPadding},n.createElement("div",{className:N.modalTitle},"Choose a template"),n.createElement("div",{className:N.modalTitleSubtext},"Select the type of plugin you would like to build"),n.createElement("div",{className:N.templatesRow},this.renderTemplate({id:"empty",name:"Empty",text:"Empty starter plugin. A blank slate for your imagination.",imageUrl:"https://static.figma.com/uploads/171bddd8f0698d6caa103c986338af272d905f17"}),this.renderTemplate({id:"runOnce",name:"Run once",text:"Doesn't require the user to interact with the plugin after it runs once. The simplest way to get started.",imageUrl:"https://static.figma.com/uploads/b73d4f9a0a5dbc0d235cca2da54ce1e64bd5ce30"}),this.renderTemplate({id:"withUI",name:"With UI & browser APIs",text:"Allows users to interact with your plugin on the canvas. Provides access to the full set of browser APIs like <canvas> and network.",imageUrl:"https://static.figma.com/uploads/20bbb50c0e2e9ee70e049ec54e3df7f040296e2a"})),n.createElement("div",{className:N.chooseButtonsContainer},n.createElement(r.ButtonSecondary,{className:N.button,onClick:this.onCancelClick},"Cancel"),n.createElement(r.ButtonPrimary,{className:N.button,onClick:this.onGenerateNewClick},"Save as..."))),n.createElement("div",{className:N.closeX,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:w})))}renderInstructionsStep(){return n.createElement(m.Modal,{className:N.modalInstructions,dispatch:this.props.dispatch,size:720},n.createElement("div",{className:N.modalContentPadding},n.createElement("div",{className:N.modalTextPadding},n.createElement("div",{className:N.modalTitle},this.state.pluginName," installation instructions"),n.createElement("div",{className:N.modalTitleSubtext},'To run this template, make sure you have Node.js and TypeScript installed. They are also listed in the "README.md" file in your new plugin\'s file directory.'),n.createElement("div",{className:N.commandTitle},"Node.js"),n.createElement("div",{className:N.linkArea},n.createElement("a",{href:"https://nodejs.org/en/download/"},"https://nodejs.org/en/download/"),n.createElement("a",{href:"https://nodejs.org/en/download/"},n.createElement(u.Svg,{svg:T,className:N.copyIcon}))),n.createElement("div",{className:N.commandTitle},"Typescript"),n.createElement("div",{className:N.codeArea},n.createElement("span",null,y),n.createElement(u.Svg,{svg:P,className:N.copyIcon,onClick:this.onCopyCommandClick})),n.createElement("div",{className:N.commandTitle},"Plugin documentation"),n.createElement("div",{className:N.linkArea},n.createElement("a",{href:"https://www.figma.com/plugin-docs/"},"https://www.figma.com/plugin-docs/"),n.createElement("a",{href:"https://www.figma.com/plugin-docs/"},n.createElement(u.Svg,{svg:T,className:N.copyIcon})))),n.createElement("div",{className:N.chooseButtonsContainer},n.createElement(r.ButtonSecondary,{className:N.button,onClick:this.onFinishClick},"Okay"))),n.createElement("div",{className:N.closeX,onClick:this.onCancelClick},n.createElement(u.Svg,{svg:w})))}render(){return p.supportsDesktopPluginsV4()?"createPlugin"===this.state.step?this.renderCreatePluginStep():"chooseTemplate"===this.state.step?this.renderChooseTemplateStep():"instructions"===this.state.step?this.renderInstructionsStep():n.createElement(n.Fragment,null):n.createElement(m.Modal,{dispatch:this.props.dispatch,size:"small",title:"Please update Figma"},n.createElement("div",null,"There's a new version of the Figma Desktop App available which supports an improved experience for creating new plugins. Please update your Figma Desktop App to get access to this new functionality."),n.createElement("div",{className:N.buttonsContainer},n.createElement(r.ButtonSecondary,{className:N.button,onClick:this.onCancelClick},"Close")))}}S.displayName="PluginNewDevelopmentModal"}),
(function(n,o,e){n.exports={singleRowHeight:"raw_components--singleRowHeight--3PF2a",doubleRowHeight:"raw_components--doubleRowHeight--1jQtW",input:"raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"raw_components--border--3I0I6",borderFocusWithin:"raw_components--borderFocusWithin--3IG2Z",iconInsideBorderFocusWithin:"raw_components--iconInsideBorderFocusWithin--Ry1th",rowSelectedSecondary:"raw_components--rowSelectedSecondary--N6MBn raw_components--rowSelected--1SC96",selectHiddenInput:"raw_components--selectHiddenInput--1Ss5k",iconButton:"raw_components--iconButton--1XZ77",borderFocus:"raw_components--borderFocus--tz1OP",multiValueInput:"raw_components--multiValueInput--1SaL7 raw_components--borderFocusWithin--3IG2Z",base:"raw_components--base--3TpZG",label:"raw_components--label--34YmO raw_components--base--3TpZG",labelInactive:"raw_components--labelInactive--2GwUQ raw_components--label--34YmO raw_components--base--3TpZG",textInput:"raw_components--textInput--23_ta raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",textAreaInput:"raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",noLeftBorder:"raw_components--noLeftBorder--22ykO",squareRightBorder:"raw_components--squareRightBorder--2-R1G",_iconButton:"raw_components--_iconButton--353Le",iconButtonEnabled:"raw_components--iconButtonEnabled--1oUUU raw_components--_iconButton--353Le",iconButtonDisabled:"raw_components--iconButtonDisabled--2yADb raw_components--_iconButton--353Le",iconButtonSelected:"raw_components--iconButtonSelected--2l7Qs raw_components--_iconButton--353Le",chitCenter:"raw_components--chitCenter--3mNyg",outlineButton:"raw_components--outlineButton--1TPi5",modalPanel:"raw_components--modalPanel--3UTJj",panel:"raw_components--panel--3IcXg",_row:"raw_components--_row--73H_w",singleRow:"raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",doubleRow:"raw_components--doubleRow--13dq7 raw_components--doubleRowHeight--1jQtW raw_components--_row--73H_w",labelRow:"raw_components--labelRow--3iB2d raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",rowSelected:"raw_components--rowSelected--1SC96",panelTitle:"raw_components--panelTitle--7MaOu",panelTitleExtended:"raw_components--panelTitleExtended--yLQuB raw_components--panelTitle--7MaOu",panelTitleWithTip:"raw_components--panelTitleWithTip--HuW_v raw_components--panelTitle--7MaOu",panelTitleWithTipText:"raw_components--panelTitleWithTipText--2GjkM",panelTitleWithTipIcon:"raw_components--panelTitleWithTipIcon--1mzL2",panelTitleFaded:"raw_components--panelTitleFaded--2DWvf raw_components--panelTitle--7MaOu",flushLeft:"raw_components--flushLeft--2dWma"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86      ),o=r(433                                ),s=r(146                                          ),i=r(212      ),a=r(224                                            );var y;function l(e,t=y.YES){if(!s.fullscreen)return!1;if(!s.fullscreen.isRootElementVisible())return!1;const r=e.keyCode,o=i.isStandardShortcutKeyPressed(e);if(r===i.Key.TAB&&i.isNoneOrAllowedModifiersPressed(e,i.ModifierKey.SHIFT));else if(n.mac&&e.ctrlKey&&(r===i.Key.A||r===i.Key.B||r===i.Key.D||r===i.Key.E||r===i.Key.F||r===i.Key.H||r===i.Key.K||r===i.Key.L||r===i.Key.N||r===i.Key.O||r===i.Key.P||r===i.Key.T||r===i.Key.V));else if(r===i.Key.A||r===i.Key.DELETE||r===i.Key.BACKSPACE||r===i.Key.NUMPAD_DELETE||r===i.Key.SPACE||r===i.Key.ENTER||r===i.Key.HOME||r===i.Key.END||r===i.Key.PAGE_UP||r===i.Key.PAGE_DOWN);else if(o&&r===i.Key.Z&&t===y.NO);else if(o||e.ctrlKey){if(d(e,!0))return!0}else if(r===i.Key.ESCAPE){if(s.fullscreen.DEPRECATED_sendMessage("handleEscape").args.accepted)return e.preventDefault(),!0}return!1}function d(e,t=!1){let r;if("keydown"===e.type)r=i.EventType.KEY_PRESS;else{if("keyup"!==e.type)return console.error("Invalid event passed to forwardKeyboardEvent"),!1;r=i.EventType.KEY_RELEASE}const n=t?"handleKeyboardShortcut":"handleKeyboardEvent",o=s.fullscreen.DEPRECATED_sendMessage(n,{type:r,which:e.which,modifierKeys:i.modifierKeys(e),isRepeat:e.repeat}).args.accepted;return o&&e.preventDefault(),o}!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(y=t.ForwardUndo||(t.ForwardUndo={})),t.forwardInputKeyToFullscreenIfNecessary=l,a.setForwardInputKeyToFullscreenIfNecessary(l),t.forwardKeyboardEvent=d,t.webAppHasElementAtPoint=((e,t)=>{const r=document.elementFromPoint(e,t);return r&&!r.getAttribute("data-forward-events-to-fullscreen")}),t.webAppWantsEventAtPoint=((e,r,n)=>{let s=!1;return!1===(s=!!t.webAppHasElementAtPoint(r,n)||(!!e.getState().dropdownShown||!!document.activeElement&&document.activeElement!==document.body))&&e.getState().tooltip&&e.dispatch(o.tooltip.hide()),s})}),
(function(s,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=e(3,1    ),i=e(7,1        ),n=e(172              ),p=e(596                                   ),r=e(534                                                    ),a=e(221                                    );class d extends n.PureComponent{constructor(s){super(s),this.ref=(s=>{s&&(this.el=i.findDOMNode(s))}),this.documentKeyDown=(s=>{9===s.keyCode&&this.setState({isFocused:!0})}),this.onKeyDown=n.keyboardEvent(this,"keydown",s=>{13===s.keyCode?(this.props.onMouseDown&&this.props.onMouseDown(s),this.props.onClick&&this.props.onClick(s)):27===s.keyCode&&this.el&&this.el.blur()}),this.onMouseDown=(s=>{this.props.onMouseDown&&this.props.onMouseDown(s),this.setState({isFocused:!1})}),this.onMouseUp=(s=>{this.el.blur()}),this.state={isFocused:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown)}render(){let s=this.props.disabled?p.iconButtonDisabled:p.iconButtonEnabled;return this.props.selected&&(s=p.iconButtonSelected,this.props.selectedClassName&&(s+=` ${this.props.selectedClassName}`)),this.props.className&&(s+=` ${this.props.className}`),t.createElement(r.SvgWithFallback,{ref:this.ref,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:this.props.disabled?-1:0,className:s,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,onKeyDown:this.props.disabled?void 0:this.onKeyDown,onMouseDown:this.props.disabled?void 0:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.props.disabled?void 0:this.props.onClick,href:this.props.disabled?void 0:this.props.href,target:this.props.target,"data-tooltip":this.props["data-tooltip"],"data-tooltip-text":this.props["data-tooltip-text"],"data-onboarding-key":this.props["data-onboarding-key"],recordingKey:this.props.recordingKey,useOriginalSrcFills:this.props.useOriginalSrcFills})}}o.IconButton=d,d.displayName="IconButton",o.IconButtonTracked=a.asTrackedClickable(d)}),
(function(c,l,t){c.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm1 0c0 3.313-2.686 6-6 6-3.314 0-6-2.687-6-6 0-3.313 2.686-6 6-6 3.314 0 6 2.687 6 6zm-6.512.383c-.088.216-.133.506-.133.87h1l.016-.237c.029-.256.142-.478.34-.668l.316-.301c.248-.24.421-.457.52-.652.099-.198.148-.408.148-.63 0-.486-.152-.863-.457-1.128-.304-.268-.733-.403-1.285-.403-.547 0-.98.141-1.297.422-.315.281-.475.67-.48 1.168h1.133c.003-.147.035-.272.093-.374.024-.042.053-.08.086-.114.062-.063.134-.11.217-.14.075-.027.157-.04.248-.04.406 0 .61.22.61.66 0 .075-.01.148-.031.22-.02.067-.048.133-.087.198-.078.13-.235.301-.472.512-.235.209-.396.42-.485.637zm-.07 1.64c-.117.112-.176.256-.176.43 0 .172.058.314.172.426.117.112.27.168.461.168.12 0 .227-.023.317-.068.052-.026.098-.06.14-.1.117-.112.176-.254.176-.426 0-.174-.06-.318-.18-.43-.117-.114-.268-.171-.453-.171-.094 0-.18.015-.258.044-.074.029-.14.071-.199.127z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),o=n(172              ),r=n(179                         ),l=n(174                        ),a=n(222                                      ),i=n(596                   ),d=n(597                                        );!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(598                         ));const p=(e,t)=>Object.assign(Object.assign({},e),{className:`${t} ${e.className||""}`});class c extends s.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},p(this.props,i.modalPanel)))}}t.ModalPanel=c,c.displayName="ModalPanel";class u extends o.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},p(this.props,i.panel)))}}t.Panel=u,u.displayName="Panel";class h extends o.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.singleRow;e&&(t=t+" "+e);const n=p(this.props,t);return delete n.selected,delete n.selectedSecondary,s.createElement(r.RecordableDiv,Object.assign({},n))}}t.Row=h,h.displayName="Row";class m extends o.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.doubleRow;e&&(t=t+" "+e);const n=p(this.props,t);return delete n.selected,delete n.selectedSecondary,s.createElement(r.RecordableDiv,Object.assign({},n))}}t.DoubleRow=m,m.displayName="Row";class b extends o.PureComponent{render(){return s.createElement(r.RecordableDiv,Object.assign({},p(this.props,i.labelRow)))}}t.LabelRow=b,b.displayName="LabelRow";class g extends o.PureComponent{render(){let e=i.panelTitle;this.props.faded&&(e=i.panelTitleFaded),this.props.extended&&(e=i.panelTitleExtended);const t=p(this.props,e);return delete t.faded,delete t.extended,s.createElement(r.RecordableDiv,Object.assign({},t))}}t.PanelTitle=g,g.displayName="PanelTitle";class y extends o.PureComponent{render(){const e=p(this.props,i.panelTitleWithTip);return delete e.title,delete e.dataTooltipContentKey,delete e.dataTooltipTimeoutDelay,s.createElement(r.RecordableDiv,Object.assign({},e),s.createElement("div",{className:i.panelTitleWithTipText},this.props.title),s.createElement(l.Svg,{className:i.panelTitleWithTipIcon,svg:y.helpIcon,"data-tooltip-content-key":this.props.dataTooltipContentKey,"data-tooltip-timeout-delay":this.props.dataTooltipTimeoutDelay}))}}function T(e){let t=i.textInput;return e.noLeftBorder&&(t+=` ${i.noLeftBorder}`),e.squareRightBorder&&(t+=` ${i.squareRightBorder}`),e.noBorderOnFocus||(t+=` ${i.border}`),t}t.PanelTitleWithTip=y,y.displayName="PanelTitleWithTip",y.helpIcon=n(599                                              );class R extends s.PureComponent{render(){const e=T(this.props);let t=p(this.props,e);return null!=t.dataTestId&&(t["data-test-id"]=t.dataTestId),delete t.dataTestId,delete t.noLeftBorder,delete t.squareRightBorder,delete t.noBorderOnFocus,s.createElement("input",Object.assign({autoComplete:"new-password",spellCheck:!1},t))}}t.SimpleInput=R,R.displayName="SimpleInput";class w extends o.PureComponent{constructor(){super(...arguments),this.onChange=o.changeEvent(this,"change",e=>this.props.onChange?this.props.onChange(e):o.SKIP_RECORDING),this.onBlur=o.focusEvent(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):o.SKIP_RECORDING),this.onKeyDown=(e=>{!d.forwardInputKeyToFullscreenIfNecessary(e,d.ForwardUndo.NO)&&this.props.onKeyDown&&this.props.onKeyDown(e)})}render(){const e=T(this.props),t=p(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,delete t.recordingKey,this.props.recordingKey&&(this.props.onChange&&(t.onChange=this.onChange),this.props.onBlur&&(t.onBlur=this.onBlur)),t.onKeyDown=this.onKeyDown,s.createElement(a.LazyInput,Object.assign({"data-test-id":this.props.dataTestId,type:"text",spellCheck:!1},t))}}t.TextInput=w,w.displayName="TextInput",t.Label=(e=>s.createElement("label",Object.assign({},p(e,i.label)))),t.LabelInactive=(e=>s.createElement("label",Object.assign({},p(e,i.labelInactive))));class C extends s.PureComponent{render(){const e=T(this.props)+" "+i.outlineButton,t=p(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,s.createElement(r.RecordableDiv,Object.assign({},t,{tabIndex:0}),t.children)}}t.OutlineButton=C,C.displayName="OutlineButton"}),
(function(n,e,l){n.exports={container:"internal_plugin_dev_modal--container--2RUM9",section:"internal_plugin_dev_modal--section--1XVM_",webPluginsContainer:"internal_plugin_dev_modal--webPluginsContainer--1GQt_ internal_plugin_dev_modal--section--1XVM_",label:"internal_plugin_dev_modal--label--1dXnr",warning:"internal_plugin_dev_modal--warning--1KQ5H",statusSection:"internal_plugin_dev_modal--statusSection--IkBsw internal_plugin_dev_modal--section--1XVM_",pluginCode:"internal_plugin_dev_modal--pluginCode--1QQyh",deprecatedPluginCode:"internal_plugin_dev_modal--deprecatedPluginCode--HQjJr",row:"internal_plugin_dev_modal--row--1hMJe",buttonRow:"internal_plugin_dev_modal--buttonRow--2gqLZ internal_plugin_dev_modal--row--1hMJe",growingButton:"internal_plugin_dev_modal--growingButton--2q2D3",rowLeft:"internal_plugin_dev_modal--rowLeft--3MnlK",primaryAction:"internal_plugin_dev_modal--primaryAction--28PrT",offlineLabel:"internal_plugin_dev_modal--offlineLabel--1cFec"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3,1    ),a=n(106                                     ),s=n(145         ),i=n(224                                            ),l=n(366                                                    ),o=n(600                                                                        ),u=n(589                          ),c=n(326                             ),d=n(327                                  ),m=n(113          ),g=n(601                              ),p=n(229                                 ),h=800,_=500,E="devPluginCode";t.INTERNAL_PLUGIN_DEV_MODAL="internal-plugin-dev-modal",p.registerModal(t.INTERNAL_PLUGIN_DEV_MODAL,e=>r.createElement(v,Object.assign({},e)));class v extends r.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onPluginError=(e=>{this.setState({status:e})}),this.runPlugin=(()=>{const e=u.runPluginCode({code:this.state.pluginCode,name:"Dev Plugin",apiVersion:c.PLUGIN_VERSION_UNSTABLE,command:"",pluginRunID:"",pluginID:"dev-plugin",userID:u.getUserID(),editingFileKey:this.props.editingFileKey,vmType:u.vmTypeForPluginDev(),enableProposedApi:!0,showLaunchErrors:!0,showRuntimeErrors:!0,errorHandler:this.onPluginError,checkSyntax:!0});this.setState({status:"Running",currentRun:e,numRuntimeErrors:0,lastRuntimeError:""}),e.then(()=>{this.state.currentRun===e&&this.setState({status:"Done",currentRun:void 0})}).catch(t=>{this.state.currentRun===e&&(t=(t+="").replace(/^Error: /,""),this.setState({status:"Error: "+t,currentRun:void 0}))})}),this.onPluginCodeChanged=(e=>{const t=e.target.value;this.setState({pluginCode:t}),m.localStorageOrNull&&m.localStorageOrNull.setItem(E,t)}),this.state={status:"",numRuntimeErrors:0,pluginCode:m.localStorageOrNull&&m.localStorageOrNull.getItem(E)||""},d.prepareForSyntaxChecking()}render(){const e=new s.Vector(window.innerWidth-h,window.innerHeight-_);return r.createElement(l.DraggableModal,{title:"Internal Plugin Dev",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},r.createElement("div",{className:g.container},r.createElement("div",null,r.createElement("div",{className:g.section},r.createElement("div",{className:g.label},"Code"),r.createElement(o.TextInput,{type:"textarea",className:g.pluginCode,placeholder:"Type code here...",onChange:this.onPluginCodeChanged,value:this.state.pluginCode,spellCheck:!1}))),r.createElement("div",{className:g.statusSection},r.createElement("div",{className:g.row},r.createElement("div",null,this.state.status||"Ready")),0===this.state.numRuntimeErrors?null:r.createElement("div",null,this.state.numRuntimeErrors," runtime errors detected. See browser console for more details. Last error was: ",this.state.lastRuntimeError)),r.createElement("div",{className:g.buttonRow},r.createElement(i.ButtonPrimary,{className:g.primaryAction,disabled:!this.state.pluginCode,onClick:this.runPlugin},"Run Plugin"))))}}v.displayName="InternalPluginDevModal"}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(106                                     ),u=i(146                                          ),l=i(326                             ),s=i(313                       ),a=i(330                          ),r=i(117              ),o=i(86      ),p=i(115          ),m=i(126          ),g=i(570                                       ),c=i(208        ),d=i(165                                     ),y=i(571                            ),b=i(589                          ),f=i(187                             ),h=i(595                                                         ),_=i(602                                                                        ),P=console.error;function w(e,n,i){e.sort((e,t)=>i(n(e),n(t)))}function v(e,n){return e.map(e=>s.isManifestSubmenu(e)?{type:"submenu",name:e.name,submenu:v(e.menu,n)}:s.isManifestMenuSeparator(e)?{type:"separator"}:{type:"run-menu-action",name:{type:"plugin-name",plugin:e.name},menuAction:n(e.command)})}function A(e,n){const{publishedPlugins:i,installedPluginVersions:t,whitelistedPlugins:u,orgEntity:l}=e,s=[];for(const r in t){const e=t[r];a.isPluginRunnable({plugin:e,publishedPlugins:i,orgEntity:l,whitelistedPlugins:u})&&(!e.manifest.menu||0===e.manifest.menu.length||n?s.push({type:"run-menu-action",name:{type:"plugin-name",plugin:e.name},menuAction:{type:"run-installed-plugin",pluginId:r,command:void 0},disabled:n}):s.push({type:"submenu",name:e.name,submenu:v(e.manifest.menu,e=>({type:"run-installed-plugin",pluginId:r,command:e}))}))}return w(s,g.PluginMenu.nameOfMenuItem,(new Intl.Collator).compare),s}function M({nameStringKey:e,menuAction:n,disabled:i,property:t,propertyValue:u}){return{type:"run-menu-action",name:{type:"string-key",key:e,string:d.defaultStringsRaw[e]},menuAction:n,disabled:i,property:t,propertyValue:u}}function k(e){const{localPlugins:n,publishedPlugins:i,whitelistedPlugins:t,orgEntity:u}=e,l=[];for(let r in n){const e=+r,p=n[r];if(!a.isPluginRunnable({plugin:p,publishedPlugins:i,orgEntity:u,whitelistedPlugins:t}))continue;const m=p.error,g=a.getFormattedDisplayString(p);if(m){const n="LOAD"===m.type;l.push({type:"submenu",name:g,submenu:[M({nameStringKey:n?"plugins-menu-plugin-missing":"plugins-menu-manifest-issue",menuAction:{type:"open-console"},disabled:!0}),M({nameStringKey:"plugins-menu-show-error",menuAction:{type:"open-console",showError:s.pluginErrorToString(m)},disabled:n}),M({nameStringKey:o.mac?"plugins-menu-open-directory-mac":"plugins-menu-open-directory-win",menuAction:{type:"open-dir",localFileId:e},disabled:n})]})}else p.manifest.menu&&0!==p.manifest.menu.length?l.push({type:"submenu",name:g,submenu:v(p.manifest.menu,n=>({type:"run-local-plugin",localFileId:e,command:n}))}):l.push({type:"run-menu-action",name:{type:"plugin-name",plugin:g},menuAction:{type:"run-local-plugin",localFileId:e,command:void 0}})}return w(l,g.PluginMenu.nameOfMenuItem,(new Intl.Collator).compare),l}function I(e){const n=[],i=e.appModel.isReadOnly;return n.push(...A(e,i)),n.push(M({nameStringKey:"plugins-run-last",menuAction:{type:"run-last"},disabled:null==y.getLastRunPluginArgs()||i})),n.push({type:"separator"}),n.push(M({nameStringKey:"plugins-menu-manage",menuAction:{type:"manage"},disabled:i})),l.supportsDesktopPluginsV4()&&!i&&(n.push({type:"separator"}),n.push({type:"submenu",name:"Development",submenu:function(e){const n=k(e);return n.length>0&&n.push({type:"separator"}),n.push(M({nameStringKey:"plugins-menu-dev-create-new",menuAction:{type:"create-new"}})),n.push(M({nameStringKey:"plugins-menu-open-console",menuAction:{type:"open-console"}})),n.push(M({nameStringKey:"plugins-menu-dev-toggle-realms",menuAction:{actualTypeForBackwardsCompatibility:"toggle-realms",type:"open-console"},property:"useRealmsForPluginDev",propertyValue:!0})),n}(e)})),l.getAllowUnstable(),n}function E(e,n,i){const{editingFileKey:l,publishedPlugins:s,installedPluginVersions:o,localPlugins:g,whitelistedPlugins:d,orgEntity:y}=e;switch(i.type){case"run-installed-plugin":case"run-local-plugin":{if(!l)return void u.fullscreen.dispatch(f.visualBellActions.enqueue({message:"File must be fully loaded to run plugin.",type:"missing-file-key-to-run-plugin",error:!0}));const e="run-installed-plugin"===i.type?o[i.pluginId]:g[i.localFileId];return void(e&&a.isPluginRunnable({plugin:e,publishedPlugins:s,orgEntity:y,whitelistedPlugins:d})&&b.runPlugin({plugin:e,command:i.command||"",triggeredFrom:n,editingFileKey:l}))}case"run-last":return void u.fullscreen.triggerAction("plugins-run-last",{source:"menu"});case"manage":return void p.redirect("/my_plugins","_blank");case"create-new":return void u.fullscreen.dispatch(t.fileBrowser.showModal({type:h.PLUGIN_ADD_DEVELOPMENT_MODAL}));case"open-console":if(!r.desktopApp)return;return"toggle-realms"===i.actualTypeForBackwardsCompatibility?void u.fullscreen.triggerAction("toggle-use-realms-for-plugin-dev"):(r.desktopApp.openDevTools("bottom"),void(i.showError?P(i.showError):m.segment.track("Plugin Open Dev Tools")));case"internal-dev":return void u.fullscreen.dispatch(t.fileBrowser.showModal({type:_.INTERNAL_PLUGIN_DEV_MODAL,data:{}}));case"open-dir":if(!r.desktopApp)return;return void r.desktopApp.openExtensionDirectory(i.localFileId);default:c.assertNever(i)}}n.buildInstalledPluginMenuItems=A,n.buildLocalPluginMenuItems=k,n.buildPluginMenu=I,n.runPluginMenuAction=E,n.getPluginsMenu=function(e,n){const i=i=>()=>E(e,n,i);return{name:"plugins-menu",children:I(e).map(function e(n){switch(n.type){case"run-menu-action":switch(n.name.type){case"string-key":return{name:n.name.key,callback:i(n.menuAction),disabled:n.disabled,property:n.property,propertyValue:n.propertyValue};case"plugin-name":return{name:"plugins-menu-item",args:{plugin_name:n.name.plugin},callback:i(n.menuAction),disabled:n.disabled};default:return c.assertNever(n.name)}case"separator":return{separator:!0};case"submenu":return{name:"labeled-menu-item",args:{label:n.name},children:n.submenu.map(e)};default:c.assertNever(n)}})}}}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=s(603                              ),l=s(330                          ),t=s(213                          ),u=s(117              ),g=s(571                            ),r=s(114           );let o={};const a=r.debounce(e=>{const i=n.buildPluginMenu(Object.assign(Object.assign({},e),{installedPluginVersions:l.getInstalledPluginVersions(e),orgEntity:t.getOrgPermissionEntity(e)}));u.desktopApp.setPluginMenuData(i)},200);i.default=(e=>i=>(function(s){const n=i(s),l=e.getState(),r=t.getOrgPermissionEntity(l);if(g.clearLastRunPluginIfNotRunnable(l.installedPlugins,l.publishedPlugins,r,l.whitelistedPlugins),!u.desktopApp||!u.desktopApp.supportsSettingPluginMenuData())return;const d={appModel:l.mirror.appModel,editingFileKey:l.editingFileKey,publishedPlugins:l.publishedPlugins,installedPlugins:l.installedPlugins,localPlugins:l.localPlugins,whitelistedPlugins:l.whitelistedPlugins,currentOrgId:l.currentOrgId,hasLastPlugin:null!=g.getLastRunPluginArgs(),user:l.user,fileByKey:l.fileByKey,folders:l.folders,teams:l.teams,roles:l.roles,orgById:l.orgById,orgDraftsOwners:l.orgDraftsOwners,orgUsersByOrgId:l.orgUsersByOrgId};let p=!1;for(const e in d)if(d[e]!==o[e]){p=!0;break}return p?(o=d,a(d),n):void 0}))}),
(function(e,t,r){
/*!
 * Fuse.js v3.2.0 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var n,o;n=this,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(5),i=r(7),a=r(4),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}return n(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,r=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>r)return o(e,this.pattern,n);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}]),e}();e.exports=s},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){return function e(t,r,o){if(r){var i=r.indexOf("."),a=r,s=null;-1!==i&&(a=r.slice(0,i),s=r.slice(i+1));var c=t[a];if(null!=c)if(s||"string"!=typeof c&&"number"!=typeof c)if(n(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}},function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t,r){"use strict";e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t,r){"use strict";var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t,r){"use strict";var n=r(6),o=r(3);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,d=i.minMatchCharLength,p=void 0===d?1:d,g=s,y=e.length,m=u,k=e.indexOf(t,g),x=t.length,S=[],M=0;M<y;M+=1)S[M]=0;if(-1!==k){var b=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(b,m),-1!==(k=e.lastIndexOf(t,g+x))){var _=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,C=x+y,A=1<<x-1,I=0;I<x;I+=1){for(var O=0,F=C;O<F;){n(t,{errors:I,currentLocation:g+F,expectedLocation:g,distance:h})<=m?O=F:C=F,F=Math.floor((C-O)/2+O)}C=F;var P=Math.max(1,g-F+1),j=v?y:Math.min(g+F,y)+x,z=Array(j+2);z[j+1]=(1<<I)-1;for(var T=j;T>=P;T-=1){var E=T-1,K=r[e.charAt(E)];if(K&&(S[E]=1),z[T]=(z[T+1]<<1|1)&K,0!==I&&(z[T]|=(L[T+1]|L[T])<<1|1|L[T+1]),z[T]&A&&(w=n(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(n(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=z}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(S,p)}}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(1),i=r(2),a=r(0),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,x=r.id,S=void 0===x?null:x,M=r.keys,b=void 0===M?[]:M,_=r.shouldSort,L=void 0===_||_,w=r.getFn,C=void 0===w?i:w,A=r.sortFn,I=void 0===A?function(e,t){return e.score-t.score}:A,O=r.tokenize,F=void 0!==O&&O,P=r.matchAllTokens,j=void 0!==P&&P,z=r.includeMatches,T=void 0!==z&&z,E=r.includeScore,K=void 0!==E&&E,$=r.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:S,keys:b,includeMatches:T,includeScore:K,shouldSort:L,getFn:C,sortFn:I,verbose:J,tokenize:F,matchAllTokens:j},this.setCollection(t)}return n(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),r=t.tokenSearchers,n=t.fullSearcher,o=this._search(r,n),i=o.weights,a=o.results;return this._computeScore(i,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new o(r[n],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=this.list,n={},o=[];if("string"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:"",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=r.length;c<h;c+=1)for(var l=r[c],u=0,f=this.options.keys.length;u<f;u+=1){var v=this.options.keys[u];if("string"!=typeof v){if(s[v.name]={weight:1-v.weight||1},v.weight<=0||v.weight>1)throw new Error("Key weight has to be > 0 and <= 1");v=v.name}else s[v]={weight:1};this._analyze({key:v,value:this.options.getFn(l,v),record:l,index:c},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,o=void 0===n?-1:n,i=e.value,s=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,v=t.resultMap,d=void 0===v?{}:v,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if("string"==typeof i){this._log("\nKey: "+(""===r?"-":r));var x=f.search(i);if(this._log('Full text: "'+i+'", score: '+x.score),this.options.tokenize){for(var S=i.split(this.options.tokenSeparator),M=[],b=0;b<l.length;b+=1){var _=l[b];this._log('\nPattern: "'+_.pattern+'"');for(var L=!1,w=0;w<S.length;w+=1){var C=S[w],A=_.search(C),I={};A.isMatch?(I[C]=A.score,y=!0,L=!0,M.push(A.score)):(I[C]=1,this.options.matchAllTokens||M.push(1)),this._log('Token: "'+C+'", score: '+I[C])}L&&(k+=1)}m=M[0];for(var O=M.length,F=1;F<O;F+=1)m+=M[F];m/=O,this._log("Token score average:",m)}var P=x.score;m>-1&&(P=(P+m)/2),this._log("Score average:",P);var j=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log("\nCheck Matches: "+j),(y||x.isMatch)&&j){var z=d[c];z?z.output.push({key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}):(d[c]={item:s,output:[{key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}]},g.push(d[c]))}}else if(a(i))for(var T=0,E=i.length;T<E;T+=1)this._analyze({key:r,arrayIndex:T,value:i[T],record:s,index:c},{resultMap:d,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var o=t[r].output,i=o.length,a=0,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a+=l)}t[r].score=1===s?a/i:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e));var r=[];this.options.includeMatches&&r.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&r.push(function(e,t){t.score=e.score});for(var n=0,o=e.length;n<o;n+=1){var i=e[n];if(this.options.id&&(i.item=this.options.getFn(i.item,this.options.id)[0]),r.length){for(var a={item:i.item},s=0,c=r.length;s<c;s+=1)r[s](i,a);t.push(a)}else t.push(i.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=s}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define("Fuse",[],o):"object"==typeof t?t.Fuse=o():n.Fuse=o()}),
(function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=r(605      ),i=r(85                   );e.SearchLibrary=class{constructor(s,e={}){this.options=Object.assign(Object.assign({},e),{includeScore:!1}),this.sourceList=s,this.fuse=new t(s,this.options)}set(s){this.fuse=new t(s,this.options),this.sourceList=s}list(){return[...this.sourceList]}search(s){return this.fuse.search(s.trim())}};class o{constructor(s,e={}){this.libraryId=o.nextLibraryId++,this.search=(s=>o.searchWorker?new Promise((e,r)=>{const t=o.lastMessageId++;o.promiseResolvesByMessageId[t]=e;const i={type:"SEARCH",pattern:s.trim(),libraryId:this.libraryId,messageId:t};o.searchWorker.postMessage(i)}):new Promise((e,r)=>{e(this.fuse.search(s.trim()))})),this.options=Object.assign(Object.assign({},e),{includeScore:!0}),this.sourceList=s,i.getFeatureFlags().library_search_worker?o.searchWorker||(o.searchWorker=new Worker(Fig.librarySearchWorkerURL),o.searchWorker.onmessage=(s=>{if("SEARCH_RESULTS"===s.data.type){const e=s.data.messageId,r=o.promiseResolvesByMessageId[e];if(r){return r(s.data.results),void delete o.promiseResolvesByMessageId[e]}}})):this.fuse=new t(s,this.options)}set(s){if(o.searchWorker){const e={type:"INIT",list:s,libraryId:this.libraryId,options:this.options};o.searchWorker.postMessage(e)}else this.fuse=new t(s,this.options);this.sourceList=s}list(){return[...this.sourceList]}}e.ScoredSearchLibrary=o,o.promiseResolvesByMessageId={},o.nextLibraryId=0,o.lastMessageId=0}),
(function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,a){function o(e){try{n(s.next(e))}catch(t){a(t)}}function l(e){try{n(s.throw(e))}catch(t){a(t)}}function n(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,l)}n((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(131                                        ),a=r(114           ),o=r(606                           ),l=r(95                      ),n=r(141                ),c=r(126          ),h=r(147                       ),y=r(192                            ),d=r(85                   ),u=r(124     ),m=[{name:"name",weight:.6},{name:"containing_frame.name",weight:.1},{name:"containing_frame.pageName",weight:.1},{name:"description",weight:.05}],p=m.concat([{name:"file.name",weight:.1},{name:"folder.name",weight:.1}]);class b{constructor(){this.dirtySources=new Set,this.dirtyResults=new Set,this.queryDidChange=((e,t)=>{for(const r of t)this.dirtyResults.add(r);this.debouncedComputeResults(e)}),this.debouncedComputeResults=a.debounce(e=>{const t=e.getState();this.dirtyResults.size>0&&(this.dirtySources.size>0&&(this.initSources(t,this.dirtySources),this.dirtySources.clear()),this.computeResults(e,this.dirtyResults),this.dirtyResults.clear())},200),this.queryIsPresentForTypes=(e=>[]),this.initSources=((e,t)=>{}),this.computeResults=((e,t)=>{})}sourcesDidChange(e,t){for(const r of t)this.dirtySources.add(r)}}t.localLibrarySearch=new class extends b{constructor(){super(...arguments),this.localComponentSearch=new o.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearch=new o.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localComponentSearchMore=new o.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearchMore=new o.ScoredSearchLibrary([],{keys:m,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.lastUpdatedQuery=Date.now(),this.initSources=((e,t)=>{const r=n.getEditingFile(e);if(!r)return;const s=(t,s,i,a,o)=>{const l=[],n=new Set,c=e=>{for(const t of e)t.id&&n.has(t.id)||(t.id&&n.add(t.id),l.push(Object.assign({},t)))},h=y.localLibraryItemsExcludingDeleted(i),d=y.getSubscribedLibraryItems(e.library,a,r);c(h),c(d),c(o),t.set(l);const u=y.flattenLibraryItems(a).filter(e=>e.id&&!n.has(e.id));s.set(u)};t.has(h.LibraryItemType.COMPONENT)&&s(this.localComponentSearch,this.localComponentSearchMore,e.library.local.components,e.library.published.components,y.getOtherUsedComponents(e.mirror.sceneGraph,e.mirror.appModel.subscribedComponents,e.library,e.fileByKey)),t.has(h.LibraryItemType.STYLE)&&s(this.localStyleSearch,this.localStyleSearchMore,e.library.local.styles,e.library.published.styles,[])}),this.computeResults=((e,t)=>{const r=e.getState(),a=(t,a,o)=>s(this,void 0,void 0,function*(){try{const l=Date.now();let n,y={query:t};r.currentOrgId&&(y.org_id=r.currentOrgId);let d=yield u.default.get("/api/search/components",y);if(l<=this.lastUpdatedQuery)return;n=d.data.meta;let m=a.map(e=>e.item.id);n=n.filter(e=>-1==m.indexOf(e.id)&&e.file_key in r.fileByKey),e.dispatch(i.library.setLocalSearchResults({results:o,moreResults:n,type:h.LibraryItemType.COMPONENT})),this.lastUpdatedQuery=l}catch(s){e.dispatch(i.library.setLocalSearchResults({results:o,moreResults:[],type:h.LibraryItemType.COMPONENT})),c.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during component sidebar search",{query:t})}}),o=(t,r,o,l)=>s(this,void 0,void 0,function*(){if(o){const s=Date.now(),n=t.search(o),y=yield n,u=y.map(e=>e.item);let m=d.getFeatureFlags(),p=m&&m.sss_team_library_live_launch;if(p&&l==h.LibraryItemType.COMPONENT&&(a(o,y,u),c.segmentTrackEvent("asset-search-time",{useSSS:!0,elapsedTime:Date.now()-s})),!p||l!=h.LibraryItemType.COMPONENT){const t=r.search(o);let a=(yield t).map(e=>e.item);e.dispatch(i.library.setLocalSearchResults({results:u,moreResults:a,type:l})),c.segmentTrackEvent("asset-search-time",{useSSS:!1,elapsedTime:Date.now()-s})}}});t.has(h.LibraryItemType.COMPONENT)&&o(this.localComponentSearch,this.localComponentSearchMore,r.library.localSearch.components.query,h.LibraryItemType.COMPONENT),t.has(h.LibraryItemType.STYLE)&&o(this.localStyleSearch,this.localStyleSearchMore,r.library.localSearch.styles.query,h.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>{const t=[];return e.library.localSearch.components.query&&t.push(h.LibraryItemType.COMPONENT),e.library.localSearch.styles.query&&t.push(h.LibraryItemType.STYLE),t})}},t.publishedLibrarySearch=new class extends b{constructor(){super(...arguments),this.componentSearch=new o.ScoredSearchLibrary([],{keys:p,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.componentSearchWithPage=new o.ScoredSearchLibrary([],{keys:p,threshold:.1,tokenize:!1}),this.styleSearch=new o.ScoredSearchLibrary([],{keys:p,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.initSources=((e,t)=>{const r=(t,r)=>{t.set(r.map(t=>{var r;const s=e.fileByKey[t.file_key],i=(null===(r=s)||void 0===r?void 0:r.folder_id)?e.folders[s.folder_id]:null;return Object.assign(Object.assign({},t),{file:s,folder:i})}))};if(t.has(h.LibraryItemType.COMPONENT)){const t=Object.assign({},e.library.published.components);for(let r in t){const s=e.teams[r];l.shouldRestrictProFeature(s)&&delete t[r]}let s=y.flattenLibraryItems(t);r(this.componentSearch,s),r(this.componentSearchWithPage,s)}t.has(h.LibraryItemType.STYLE)&&r(this.styleSearch,y.flattenLibraryItems(e.library.published.styles))}),this.computeResults=((e,t)=>{const r=e.getState(),a=r.library.librarySearchQuery,o=(t,o)=>s(this,void 0,void 0,function*(){const s=yield t.search(a),l=Object.create(null),n=Object.create(null);for(let e of s){const t=Object.assign(Object.assign({},e.item),{score:e.score}),s=r.fileByKey[t.file_key];if(!s)continue;if(s.team_id&&!r.teams[s.team_id])continue;let i=s.team_id||h.NO_TEAM_ID;l[i]=l[i]||Object.create(null),l[i][s.key]=l[i][s.key]||Object.create(null),l[i][s.key][t.node_id]=t,null==n[s.key]?n[s.key]=t.score:n[s.key]=Math.min(n[s.key],t.score)}e.dispatch(i.library.setPublishedSearchResults({results:{filteredByTeamId:l,minScorePerFile:n,numAssetsByFileKey:{}},type:o}))});t.has(h.LibraryItemType.COMPONENT)&&o(-1!==a.toLowerCase().indexOf("page")?this.componentSearchWithPage:this.componentSearch,h.LibraryItemType.COMPONENT),t.has(h.LibraryItemType.STYLE)&&o(this.styleSearch,h.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>e.library.librarySearchQuery?[h.LibraryItemType.COMPONENT,h.LibraryItemType.STYLE]:[])}}}),
(function(e,a,i){"use strict";var r=this&&this.__awaiter||function(e,a,i,r){return new(i||(i=Promise))(function(t,s){function l(e){try{c(r.next(e))}catch(a){s(a)}}function n(e){try{c(r.throw(e))}catch(a){s(a)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof i?a:new i(function(e){e(a)})).then(l,n)}c((r=r.apply(e,a||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});const t=i(138                                   ),s=i(133                               ),l=i(188                             ),n=i(131                                        ),c=i(231                                              ),y=i(136                            ),o=i(126          ),u=i(141                ),d=i(147                       ),p=i(85                   ),m=i(607                           ),b=i(130                                              ),h=i(114           ),f=i(124     );let _=Date.now();const g=h.debounce((e,a)=>r(void 0,void 0,void 0,function*(){const i=e.getState(),r=Date.now();if(!a)return e.dispatch(n.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.STYLE})),e.dispatch(n.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.COMPONENT})),void(_=r);try{let l={query:a};i.currentOrgId&&(l.org_id=i.currentOrgId),"team"===i.selectedView.view&&i.modalShown.type==y.LIBRARY_PREFERENCES_MODAL&&(l.team_id=i.selectedView.teamId);const c=yield f.default.get("/api/search/library_assets",l);if(r<=_)return;function t(a,t,s){const l={},c={};for(const e of a){if(!(e.file_key in i.fileByKey))continue;if(t==d.LibraryItemType.COMPONENT&&!(e.team_id in i.teams))continue;if(t==d.LibraryItemType.STYLE&&!(e.team_id in i.teams)&&e.team_id)continue;e.file_key in c&&!(e.score<c[e.file_key])||(c[e.file_key]=e.score);const a=e.team_id||d.NO_TEAM_ID;l[a]=l[a]||{},l[a][e.file_key]=l[a][e.file_key]||{},l[a][e.file_key][e.node_id]=e,_=r}e.dispatch(n.library.setPublishedSearchResults({results:{filteredByTeamId:l,minScorePerFile:c,numAssetsByFileKey:s},type:t}))}t(c.data.meta.styles,d.LibraryItemType.STYLE,c.data.meta.num_styles_by_file),t(c.data.meta.components,d.LibraryItemType.COMPONENT,c.data.meta.num_components_by_file),_=r}catch(s){o.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during team library retrieval",{query:a}),e.dispatch(n.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.STYLE})),e.dispatch(n.library.setPublishedSearchResults({results:{filteredByTeamId:{},minScorePerFile:{},numAssetsByFileKey:{}},type:d.LibraryItemType.COMPONENT})),_=r}}),100,!1);a.librarySearchMiddleware=(e=>a=>(function(i){if(n.library.initialize.matches(i)||n.library.put.matches(i)||n.library.del.matches(i))return a(i),u.getEditingFile(e.getState())&&m.localLibrarySearch.sourcesDidChange(e,[i.payload.type]),void m.publishedLibrarySearch.sourcesDidChange(e,[i.payload.type]);if(n.library.deleteComponentsForFile.matches(i)||l.file.put.matches(i)||s.folder.put.matches(i))return a(i),void(u.getEditingFile(e.getState())&&(m.publishedLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]),m.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE])));if(n.library.clearLocal.matches(i)||c.initializeFileSubscriptionsForFile.matches(i)||c.initializeTeamSubscriptions.matches(i)||c.postFileSubscription.matches(i)||c.postTeamSubscription.matches(i))return a(i),void(u.getEditingFile(e.getState())&&m.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]));if(n.library.replaceLocalItems.matches(i))return a(i),void(u.getEditingFile(e.getState())&&m.localLibrarySearch.sourcesDidChange(e,[i.payload.type]));if(t.fullscreen.updateMirror.matches(i)&&i.payload.appModelChanges)return a(i),void(i.payload.appModelChanges.subscribedComponents&&m.localLibrarySearch.sourcesDidChange(e,[d.LibraryItemType.COMPONENT]));if(n.library.setLibraryQuery.matches(i)){a(i);const r=Date.now();let t=p.getFeatureFlags(),s=t&&t.sss_team_library_live_launch;return s&&g(e,i.payload.query),s||m.publishedLibrarySearch.queryDidChange(e,[d.LibraryItemType.COMPONENT,d.LibraryItemType.STYLE]),void o.segmentTrackEvent("library-preferences-modal-search-time",{useSSS:null!=s,elapsedTime:Date.now()-r})}if(n.library.setLocalQuery.matches(i))return a(i),m.localLibrarySearch.queryDidChange(e,[i.payload.type]),void(""==i.payload.query&&e.dispatch(b.visualBell.dequeue({type:"library-search"})));if(!n.library.setLocalSearchResults.matches(i))return a(i);{a(i);const r=i.payload.results,t=i.payload.moreResults;0==r.length&&t.length>0?e.dispatch(b.visualBell.enqueue({type:"library-search",message:"No results. Searching in all libraries...",timeout:5e3})):e.dispatch(b.visualBell.dequeue({type:"library-search"}))}}))}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(124     ),l=t(138                                   ),s=t(106                                     ),r=t(231                                              ),n=t(136                            );let o={};i.default=(e=>i=>(function(t){if(s.fileBrowser.selectView.matches(t)){const a=e.getState();return"fullscreen"===a.selectedView.view&&"fullscreen"===t.payload.view&&a.selectedView.fileKey===t.payload.fileKey||!a.modalShown||a.modalShown.type!==n.LIBRARY_PREFERENCES_MODAL&&a.modalShown.type!==n.SHARED_FONTS_MODAL||e.dispatch(s.fileBrowser.hideModal()),i(t)}if(l.fullscreen.open.matches(t)){i(t);const l=t.payload.file;if(!l)return;const s=l.key;if(o[s])return;if(!e.getState().user)return;return o[s]=!0,void a.default.get(`/api/library_file_subscriptions/${s}`).then(({data:i})=>{e.dispatch(r.initializeFileSubscriptionsForFile({fileKey:s,fileSubscriptionsByFileKey:i.meta})),e.dispatch(r.prefetchSubscribedStyles())})}return i(t)}))}),
(function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e(131                                        ),o=e(162                            );let n=null,r=null,l=null;t.componentNotificationsMiddleware=(i=>t=>(function(e){if(a.library.showNotification.matches(e))return clearTimeout(r),n=null,r=null,l=null,e.payload.notification.type!==o.NotificationType.COMPONENT_PUBLISH_SUCCESS&&e.payload.notification.type!==o.NotificationType.COMMENT_PARTICIPATING_PREFERENCE_OPTED_IN||(l=6e3,i.dispatch(a.library.resumeNotificationTimer())),t(e);if(a.library.hideNotification.matches(e))return t(e);if(a.library.pauseNotificationTimer.matches(e)){if(r&&n&&null!==l){clearTimeout(r);const i=(new Date).getTime()-n;l-=i}return t(e)}return a.library.resumeNotificationTimer.matches(e)?(l&&(n=(new Date).getTime(),r=setTimeout(()=>{i.dispatch(a.library.hideNotification())},l)),t(e)):t(e)}))}),
(function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(90                     ),t=e(233        );o.isEmailInOrgsDomain=function(n,o){const e=n.map(n=>n.domain.toLowerCase()),i=t.getEmailDomain(o);return!(0===e.length||!i)&&e.indexOf(i)>-1},o.getSignInMethod=function(n){return n.saml_sso_only?i.SignInMethod.SAML:n.google_sso_only?i.SignInMethod.GOOGLE:i.SignInMethod.ANY}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(121              ),r=i(200         ),n=i(160       ),s=i(193           ),p=i(163                               ),l=i(212      ),c=i(146                                          ),y=i(202                              ),d=i(388                             );function a(e){return e===p.DeviceType.PRESET||e===p.DeviceType.CUSTOM?"scale-down":e===p.DeviceType.PRESENTATION?"contain":"min-zoom"}function f(e){return{type:e.type||"NONE",size:e.size||{x:0,y:0},presetIdentifier:e.presetIdentifier||"",rotation:e.rotation||"NONE"}}t.urlQueryForPrototype=function(e){const t={},i=o.parse(location.search);for(const o in i)""!==o&&(t[o]=i[o]);return e.scalingMode&&(t.scaling=e.scalingMode),e.nodeId&&n.isValid(n.fromString(e.nodeId))&&(t["node-id"]=e.nodeId),e.hideUI&&(t["hide-ui"]="1"),null==e.showHotspots||e.showHotspots?delete t["hotspot-hints"]:t["hotspot-hints"]="0",delete t["version-id"],r.isEmpty(t)?"":`?${o.encode(t)}`},t.urlFragmentForPrototype=function(e){return e?`#${encodeURIComponent(e)}`:""},t.defaultDesktopScalingMode=a,t.getScalingMode=function(e){let t=e.scalingMode;return t||(t=a(p.DeviceType.NONE)),s.isMobileBrowser&&(t="fit-width"),t},t.shouldShowPreviousFrame=(e=>e.keyCode===l.Key.LEFT_ARROW||e.shiftKey&&e.keyCode===l.Key.N),t.shouldShowNextFrame=(e=>[l.Key.RIGHT_ARROW,l.Key.SPACE,l.Key.ENTER,l.Key.N].indexOf(e.keyCode)>=0),t.shouldReplayPrototype=(e=>e.keyCode===l.Key.R&&!e.metaKey&&!e.shiftKey&&!e.ctrlKey),t.shouldToggleFullscreen=(e=>e.keyCode===l.Key.F&&!e.metaKey&&!e.shiftKey&&!e.ctrlKey),t.asPrototypeDeviceOrNone=function(e){return f(d.getValue(e,{type:"NONE",size:{x:0,y:0}}))},t.asPrototypeDevice=f;const u=e=>"PRESET"===e.type?e.presetIdentifier:"";t.handlePrototypeDeviceTypeChange=((e,t)=>{if("NONE"===e)c.fullscreen.updateSelectionProperties({prototypeDevice:{type:"NONE",size:{x:0,y:0},rotation:"NONE"}});else if("PRESENTATION"===e)c.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESENTATION",size:{x:0,y:0},rotation:"NONE"}});else if("CUSTOM"===e){let e=t.size;0===e.x&&0===e.y&&(e={x:500,y:500});const i="CUSTOM"===t.type?t.rotation:"NONE";c.fullscreen.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:e,rotation:i}})}else{const i=y.deviceInfoByIdentifier[u(t)];if(null!=i&&i.deviceName===e.deviceName)return;const o="PRESET"===t.type&&y.deviceTypeForPresetIdentifier(u(t))===y.deviceTypeForPresetIdentifier(e.presetIdentifier)?t.rotation:"NONE";c.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:{x:e.framePresetSize.x,y:e.framePresetSize.y},presetIdentifier:e.presetIdentifier,rotation:o}})}})}),
(function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(3,1    ),t=r(44,1         ),o=r(233        ),n=r(611                 );class a extends i.PureComponent{render(){const s=!!this.props.org&&this.props.org.domain_capture&&this.props.email&&o.isEmail(this.props.email)&&this.props.orgDomains.domains.length>0&&!n.isEmailInOrgsDomain(this.props.orgDomains.domains,this.props.email);return i.createElement("div",{className:this.props.className},this.props.displayString,s&&" (Guest)")}}e.OrgGuestIdentifierInner=a,a.displayName="OrgGuestIdentifier";e.OrgGuestIdentifier=t.connect(s=>({orgDomains:s.orgDomains,org:s.orgById[s.currentOrgId]}))(a)}),
(function(t,e,o){t.exports={autocompleteResults:"autocomplete_results--autocompleteResults--3t0Y2 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",contactRow:"autocomplete_results--contactRow--3TArs",avatar:"autocomplete_results--avatar--3yfsQ",name:"autocomplete_results--name--3AiV5",email:"autocomplete_results--email--1fgNK",contactRowSelected:"autocomplete_results--contactRowSelected--2ZYjZ autocomplete_results--contactRow--3TArs"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),c=s(613                                                        ),r=s(354                            ),o=s(614                         );class n extends a.Component{render(){return a.createElement("div",{className:this.props.isSelected?o.contactRowSelected:o.contactRow,onMouseEnter:this.props.onMouseOverSearchResult.bind(this,this.props.index),onClick:this.props.onSelectSearchResult.bind(this,this.props.index)},a.createElement(r.Avatar,{className:o.avatar,entity:this.props.contact}),a.createElement("div",null,a.createElement("div",{className:o.name},this.props.contact.handle),a.createElement(c.OrgGuestIdentifier,{className:o.email,email:this.props.contact.email,displayString:this.props.contact.email})))}}n.displayName="ContactRow";class i extends a.Component{render(){return 0===this.props.searchResults.length?null:a.createElement("div",{className:o.autocompleteResults},this.props.searchResults.map((e,t)=>a.createElement(n,{key:`contact-${e.id}`,index:t,contact:e,isSelected:this.props.selectedIndex===t,onSelectSearchResult:this.props.onSelectSearchResult,onMouseOverSearchResult:this.props.onMouseOverSearchResult})))}}t.AutocompleteResults=i,i.displayName="AutocompleteResults"}),
(function(t,e,o){t.exports={inputWrapper:"autocomplete_input--inputWrapper--1naDE",inputWrapperNotSearching:"autocomplete_input--inputWrapperNotSearching--2X7w9 autocomplete_input--inputWrapper--1naDE",inputWrapperError:"autocomplete_input--inputWrapperError--1rQU- autocomplete_input--inputWrapper--1naDE",container:"autocomplete_input--container--3VOsw",tokenPadding:"autocomplete_input--tokenPadding--1odgI",input:"autocomplete_input--input--GaHQC autocomplete_input--tokenPadding--1odgI",token:"autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",tokenSelected:"autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",x:"autocomplete_input--x--2YOuz",tokenError:"autocomplete_input--tokenError--1PZVt autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",tokenErrorSelected:"autocomplete_input--tokenErrorSelected--3Ci5G autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenPadding--1odgI",ellipsis:"autocomplete_input--ellipsis--3oC0S ellipsis--ellipsis--1RWY6"}}),
(function(l,t,e){l.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 4.293L8.646.646l.708.708L5.707 5l3.647 3.646-.708.708L5 5.707 1.354 9.354l-.708-.708L4.293 5 .646 1.354l.708-.707L5 4.293z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),n=s(211                            ),l=s(613                                                        ),a=s(222                                      ),i=s(174                        ),c=s(615                                                                     ),p=s(233        ),r=s(212      ),h=s(616                       ),u=s(617                         ),d=[r.Key.TAB,r.Key.ENTER,r.Key.COMMA];class k extends o.Component{constructor(){super(...arguments),this.stopPropagation=(e=>{e.stopPropagation()}),this.onSelect=(e=>{e.stopPropagation(),this.props.onSelect(this.props.index)}),this.onDelete=(e=>{e.stopPropagation(),this.props.onDelete(this.props.index)})}render(){const e=this.props.token.state===n.AutocompleteTokenState.ERROR,t=this.props.token.user?this.props.token.user.handle:this.props.token.email;return o.createElement("div",{className:e?this.props.isSelected?h.tokenErrorSelected:h.tokenError:this.props.isSelected?h.tokenSelected:h.token,onMouseDown:this.onSelect,onClick:this.stopPropagation,title:t.length>35?t:void 0},o.createElement(l.OrgGuestIdentifier,{className:h.ellipsis,email:this.props.token.email,displayString:t}),o.createElement(i.Svg,{className:h.x,svg:u,onMouseDown:this.stopPropagation,onClick:this.onDelete}))}}k.displayName="Token";class m extends o.PureComponent{constructor(){super(...arguments),this.state={selectedTokenIndex:null,selectedSearchResultIndex:0},this.containerRef=o.createRef(),this.inputRef=o.createRef(),this.focusInput=(()=>{this.inputRef.current&&this.inputRef.current.focus()}),this.onSelectToken=(e=>{this.setState({selectedTokenIndex:e})}),this.onDeleteToken=(e=>{let t=this.props.autocomplete.tokens.slice(0,e).concat(this.props.autocomplete.tokens.slice(e+1)),s=this.state.selectedTokenIndex;0===t.length?s=null:s===e&&(s=Math.max(0,s-1)),this.setState({selectedTokenIndex:s}),this.deleteTokenAt(e)}),this.onContainerKeyDown=(e=>{var t,s;let o=this.props.autocomplete;const n=this.inputRef.current;switch(e.keyCode){case r.Key.BACKSPACE:null!==this.state.selectedTokenIndex?(e.preventDefault(),this.onDeleteToken(this.state.selectedTokenIndex)):o.tokens.length&&n&&n===document.activeElement&&0===n.selectionStart&&0===n.selectionEnd&&(e.preventDefault(),null===(t=this.containerRef.current)||void 0===t||t.focus(),this.selectPrevToken());break;case r.Key.DELETE:null!==this.state.selectedTokenIndex&&(e.preventDefault(),this.onDeleteToken(this.state.selectedTokenIndex));break;case r.Key.LEFT_ARROW:n&&(n!==document.activeElement||0===n.selectionStart&&0===n.selectionEnd)&&(null===(s=this.containerRef.current)||void 0===s||s.focus(),this.selectPrevToken());break;case r.Key.RIGHT_ARROW:n&&o.tokens.length&&this.state.selectedTokenIndex===o.tokens.length-1&&(n.focus(),e.preventDefault()),this.selectNextToken();break;case r.Key.DOWN_ARROW:e.preventDefault(),this.selectNextSearchResult();break;case r.Key.UP_ARROW:e.preventDefault(),this.selectPrevSearchResult()}}),this.onKeyDown=(e=>{var t,s;if(e.keyCode!==r.Key.ENTER||this.props.autocomplete.inputValue)if(-1!==(this.props.newTokenKeyCodes||d).indexOf(e.keyCode)){e.preventDefault();const o=null===(s=(t=this.props).searchResults)||void 0===s?void 0:s.call(t,this.props.autocomplete);if(o&&o[this.state.selectedSearchResultIndex]){const e=o[this.state.selectedSearchResultIndex];this.addTokens([{email:e.email,state:n.AutocompleteTokenState.OK,user:e}])}else{const e=this.props.autocomplete.inputValue.trim();e&&this.addTokens([this.props.validateToken(e)])}}else e.keyCode===r.Key.ESCAPE&&this.props.autocomplete.inputValue&&(this.setState({selectedSearchResultIndex:0}),this.inputChange(""),e.stopPropagation());else this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit())}),this.onInputChange=(e=>{const t=e.currentTarget.value;if(/[,\n]/.test(t)){const e=p.parseEmails(t).map(e=>this.props.validateToken(e));this.addTokens(e)}else this.inputChange(t)}),this.onInputFocus=(()=>{this.setState({selectedTokenIndex:null})}),this.onMouseOverSearchResult=(e=>{this.setState({selectedSearchResultIndex:e})}),this.onSelectSearchResult=(e=>{var t,s;const o=null===(s=(t=this.props).searchResults)||void 0===s?void 0:s.call(t,this.props.autocomplete)[e];o&&this.addTokens([{email:o.email,state:n.AutocompleteTokenState.OK,user:o}])})}componentDidMount(){this.props.autoFocus&&this.focusInput()}componentDidUpdate(e){null===this.state.selectedTokenIndex&&this.focusInput()}selectNextToken(){const e=null!==this.state.selectedTokenIndex&&this.state.selectedTokenIndex<this.props.autocomplete.tokens.length-1?this.state.selectedTokenIndex+1:null;this.setState({selectedTokenIndex:e})}selectPrevToken(){if(null===this.state.selectedTokenIndex)this.props.autocomplete.tokens.length&&this.setState({selectedTokenIndex:this.props.autocomplete.tokens.length-1});else{let e=Math.max(0,this.state.selectedTokenIndex-1);e!==this.state.selectedTokenIndex&&this.setState({selectedTokenIndex:e})}}selectNextSearchResult(){var e,t;const s=null===(t=(e=this.props).searchResults)||void 0===t?void 0:t.call(e,this.props.autocomplete);if(!s||0===s.length)return;const o=Math.min(s.length-1,this.state.selectedSearchResultIndex+1);o!==this.state.selectedSearchResultIndex&&this.setState({selectedSearchResultIndex:o})}selectPrevSearchResult(){const e=Math.max(0,this.state.selectedSearchResultIndex-1);e!==this.state.selectedSearchResultIndex&&this.setState({selectedSearchResultIndex:e})}addTokens(e){this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{tokens:this.props.autocomplete.tokens.concat(e),inputValue:""}))}deleteTokenAt(e){let t=this.props.autocomplete.tokens.slice(0,e).concat(this.props.autocomplete.tokens.slice(e+1));this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{tokens:t}))}inputChange(e){this.props.onChange(Object.assign(Object.assign({},this.props.autocomplete),{inputValue:e})),this.setState({selectedTokenIndex:null,selectedSearchResultIndex:0})}render(){var e,t,s,n;let l=this.props.autocomplete.tokens||[];const i=(null===(t=(e=this.props).searchResults)||void 0===t?void 0:t.call(e,this.props.autocomplete))||[],p=i.length>0;let r;return r=this.props.autocomplete.errorMessage&&!p?h.inputWrapperError:p?h.inputWrapper:h.inputWrapperNotSearching,o.createElement(o.Fragment,null,o.createElement("div",{className:r,onClick:this.focusInput,ref:this.containerRef,onKeyDown:this.onContainerKeyDown,tabIndex:0},o.createElement("div",{className:`${this.props.className} ${h.container}`},l.map((e,t)=>o.createElement(k,{key:`token-${t}`,index:t,token:e,isSelected:this.state.selectedTokenIndex===t,onSelect:this.onSelectToken,onDelete:this.onDeleteToken})),o.createElement(a.LazyInput,{ref:this.inputRef,key:`autocomplete-input-${l.length}`,className:h.input,placeholder:l.length?void 0:this.props.placeholder,value:this.props.autocomplete.inputValue,onKeyDown:this.onKeyDown,onFocus:this.onInputFocus,onChange:this.onInputChange})),null===(n=(s=this.props).renderOptions)||void 0===n?void 0:n.call(s)),i.length>0&&!this.state.selectedTokenIndex&&o.createElement(c.AutocompleteResults,{searchResults:i,selectedIndex:this.state.selectedSearchResultIndex,onSelectSearchResult:this.onSelectSearchResult,onMouseOverSearchResult:this.onMouseOverSearchResult}))}}t.AutocompleteInput=m,m.displayName="AutocompleteInput"}),
(function(e,o,r){e.exports={row:"token_form--row--3Vkiu",autocompleteWrapper:"token_form--autocompleteWrapper--3bTu2",select:"token_form--select--2KcjE undefined role_row--select--15DNx role_row--selectOnly--2Eytr",selectSpan:"token_form--selectSpan--20Xo0",selectDropdown:"token_form--selectDropdown--3lgdm",button:"token_form--button--3fGsN",errorMessage:"token_form--errorMessage--3fknq"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(3,1    ),p=o(106                                     ),r=o(234                                     ),n=o(235                              ),i=o(618                                                                 ),a=o(345                                  ),l=o(224                                            ),c=o(619               );t.TokenForm=class extends s.PureComponent{constructor(){super(...arguments),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey),this.toggleDropdown=(e=>{this.props.dropdownKey&&(e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(p.fileBrowser.hideDropdown()):this.props.dispatch(p.fileBrowser.showDropdown({type:this.props.dropdownKey})))}),this.renderOptions=(()=>{if(!this.props.options)return null;let e=0;this.isDropdownShown()&&(e=-24*Math.max(0,this.props.options.indexOf(this.props.inviteLevel)));const t=this.props.onInviteLevelChange,o=this.props.getSelectText;return s.createElement("div",null,s.createElement("div",{className:c.select,onClick:this.toggleDropdown},s.createElement("span",{className:c.selectSpan},o(this.props.inviteLevel))),this.isDropdownShown()&&s.createElement("div",{style:{position:"relative",top:e}},s.createElement(a.dropdown.Dropdown,{className:c.selectDropdown},this.props.options.map((e,p)=>s.createElement(a.dropdown.CheckableOption,{key:p,checked:e===this.props.inviteLevel,onClick:()=>t(e)},o(e))))))}),this.onAutocompleteChange=(e=>{this.props.dispatch(r.autocomplete.set(e))}),this.onSubmit=(e=>{var t;null===(t=e)||void 0===t||t.preventDefault(),n.isInputValid(this.props.autocomplete)&&this.props.onSubmit(this.props.autocomplete)})}render(){return s.createElement("form",{onSubmit:this.onSubmit},s.createElement("div",{className:c.row},s.createElement("div",{className:c.autocompleteWrapper},s.createElement(i.AutocompleteInput,{autocomplete:this.props.autocomplete,placeholder:"Invite someone...",autoFocus:!0,onChange:this.onAutocompleteChange,onSubmit:this.onSubmit,searchResults:this.props.searchResults,validateToken:this.props.validateToken,renderOptions:this.renderOptions,key:this.props.dropdownShown?"dropdown":""})),this.props.isSubmitting?s.createElement(l.ButtonWhite,{className:c.button,disabled:!0},"Importing..."):s.createElement(l.ButtonPrimaryTracked,{className:c.button,trackingProperties:{numInvites:this.props.autocomplete.tokens.length},disabled:!n.isInputValid(this.props.autocomplete),type:"submit"},this.props.buttonText)),this.props.autocomplete.errorMessage&&s.createElement("div",{className:c.errorMessage},this.props.autocomplete.errorMessage))}}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 15c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm8-7c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#ff6d30" stroke="none"/><path d="M8.688 9.571H7.306l-.195-5.808h1.773L8.688 9.57zm-.69.91c.28 0 .504.082.673.247.172.165.259.377.259.634 0 .253-.087.462-.26.627-.168.165-.393.248-.673.248-.276 0-.5-.083-.673-.248-.17-.165-.254-.374-.254-.627 0-.254.085-.463.254-.628.172-.169.397-.253.673-.253z" fill-rule="nonzero" fill-opacity="1" fill="#ff6d30" stroke="none"/></svg>'}}),
(function(l,c,z){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.963 12.942l-.997-.077c.023-.285.034-.574.034-.865 0-.291-.011-.58-.034-.865l.997-.077c.025.31.037.625.037.942 0 .317-.012.632-.037.942zm-.292-3.745l-.973.233c-.135-.565-.314-1.113-.532-1.64l.923-.383c.24.575.434 1.174.582 1.79zM22.233 5.73l-.852.524c-.302-.493-.642-.96-1.016-1.397l.76-.65c.408.477.779.986 1.108 1.523zm-2.44-2.854l-.65.76c-.437-.374-.903-.714-1.396-1.016l.524-.852c.537.33 1.046.7 1.523 1.108zM16.594.91l-.383.923c-.527-.218-1.075-.397-1.64-.532l.233-.973c.616.148 1.215.343 1.79.582zm-3.65-.875l-.078.997C12.58 1.011 12.291 1 12 1c-.291 0-.58.011-.865.033l-.077-.997C11.368.012 11.683 0 12 0c.317 0 .632.012.942.036zM9.196.33l.233.973c-.565.135-1.113.314-1.64.532L7.407.911C7.982.67 8.58.477 9.197.329zM5.73 1.767c-.537.33-1.046.7-1.522 1.108l.65.76c.437-.374.903-.714 1.396-1.016l-.524-.852zm-2.854 2.44l.76.65c-.374.437-.714.903-1.016 1.396l-.852-.524c.33-.537.7-1.046 1.108-1.522zM.91 7.407l.923.383c-.218.527-.397 1.075-.532 1.64l-.973-.233c.148-.616.343-1.215.582-1.79zm-.875 3.65C.012 11.369 0 11.684 0 12c0 .317.012.632.036.942l.997-.077C1.011 12.58 1 12.291 1 12c0-.291.011-.58.033-.865l-.997-.077zm.293 3.746l.973-.233c.135.565.314 1.113.532 1.64l-.923.383c-.24-.575-.434-1.174-.582-1.79zm1.438 3.468l.852-.524c.302.493.642.96 1.016 1.397l-.76.65c-.408-.477-.778-.986-1.108-1.523zm2.44 2.854l.65-.76c.437.374.903.714 1.396 1.016l-.524.852c-.537-.33-1.046-.7-1.522-1.108zm3.2 1.964l.383-.923c.527.218 1.075.397 1.64.532l-.233.973c-.616-.148-1.215-.343-1.79-.582zm3.65.875l.078-.997c.285.022.574.033.865.033.291 0 .58-.011.865-.034l.077.997c-.31.025-.625.037-.942.037-.317 0-.632-.012-.942-.037zm3.746-.293l-.233-.973c.565-.135 1.113-.314 1.64-.532l.383.923c-.575.24-1.174.434-1.79.582zm3.468-1.438l-.524-.852c.493-.302.96-.642 1.397-1.016l.65.76c-.477.408-.986.779-1.523 1.108zm2.854-2.44l-.76-.65c.374-.437.714-.903 1.016-1.396l.852.524c-.33.537-.7 1.046-1.108 1.523zm1.964-3.2l-.923-.383c.218-.527.397-1.075.532-1.64l.973.233c-.148.616-.343 1.215-.582 1.79z" fill-rule="evenodd" fill-opacity=".3" fill="#000" stroke="none"/></svg>'}}),
(function(e,r,o){e.exports={roleRow:"role_row--roleRow--1utt9",nameAndSelect:"role_row--nameAndSelect--uiDVd",descriptionRow:"role_row--descriptionRow--8s8q8",contextMenu:"role_row--contextMenu--gjLPX",fixedContextMenu:"role_row--fixedContextMenu--O8LzT",selectOnly:"role_row--selectOnly--2Eytr",select:"role_row--select--15DNx role_row--selectOnly--2Eytr",selectLeft:"role_row--selectLeft--3G8Yk",avatar:"role_row--avatar--1wPrK",avatarEmpty:"role_row--avatarEmpty--1CTLj role_row--avatar--1wPrK",avatarPending:"role_row--avatarPending--2GKEg role_row--avatar--1wPrK",name:"role_row--name--2Pl36",namePending:"role_row--namePending--3uXEV role_row--name--2Pl36",warningIcon:"role_row--warningIcon--1UB3K",sharingDisclaimer:"role_row--sharingDisclaimer--1saHu",folderDisclaimer:"role_row--folderDisclaimer--1IppB role_row--sharingDisclaimer--1saHu",grey:"role_row--grey--3G5ET",linkAccessText:"role_row--linkAccessText--1soI4",linkAccessIcon:"role_row--linkAccessIcon--2AfeY role_row--avatar--1wPrK",linkAccessDisabledIcon:"role_row--linkAccessDisabledIcon--2hdBB role_row--linkAccessIcon--2AfeY role_row--avatar--1wPrK",enableAccessLink:"role_row--enableAccessLink--167VA blue_link--blueLink--22X56"}}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=r(3,1    ),t=r(107                             ),i=r(106                                     ),p=r(108                       ),l=r(111                        ),n=r(85                   ),a=r(136                            ),d=r(345                                  ),h=r(532                              ),c=r(174                        );let m=r(621                                       ),u=r(622                                );const _=r(623             ),g=r(87                      ),v=r(613                                                        );class E extends o.Component{constructor(){super(...arguments),this.LEVEL_CHANGE_DROPDOWN="level-change-dropdown",this.levelsDivRef=(e=>{e&&(this.levelsDiv=e)}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LEVEL_CHANGE_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id),this.toggleDropdown=(()=>{if(this.isDropdownShown())this.props.dispatch(i.fileBrowser.hideDropdown());else{const e=this.levelsDiv.getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:this.LEVEL_CHANGE_DROPDOWN,data:{roleId:this.props.role.id,position:{top:e.top,bottom:"auto",left:e.left,right:"auto"}}}))}}),this.resendInvite=(()=>{this.props.dispatch(t.role.resendInvite({role:this.props.role}))}),this.onChangeLevel=(e=>{let s=s=>{this.props.role.resource_type===g.ResourceType.FILE?this.props.dispatch(t.role.setUserFilePermission({userId:p.roleUserId(this.props.role),fileKey:this.props.role.resource_id_or_key,level:e})):this.props.role.resource_type===g.ResourceType.FOLDER?this.props.dispatch(t.role.setUserFolderPermission({userId:p.roleUserId(this.props.role),folderId:this.props.role.resource_id_or_key,level:e,cascade:s})):this.props.role.resource_type===g.ResourceType.TEAM&&this.props.dispatch(t.role.setUserTeamPermission({userId:p.roleUserId(this.props.role),teamId:this.props.role.resource_id_or_key,level:e}))};if(e===g.PermissionLevel.OWNER){let e=this.props.modalShown;this.props.dispatch(i.fileBrowser.showModal({type:a.CONFIRM_TRANSFER_OWNERSHIP_MODAL,data:{resourceType:this.props.role.resource_type,resourceName:l.getResourceName(this.props.role,this.props),newOwnerName:this.props.role.user.handle,onConfirmTransfer:r=>{s(r),e&&this.props.dispatch(i.fileBrowser.showModal(e))},onCancel:()=>{e&&this.props.dispatch(i.fileBrowser.showModal(e))}}}))}else s()})}userName(){const{role:e,user:s,contacts:r}=this.props;if(s&&e.user_id===s.id)return o.createElement(o.Fragment,null,s.name," (You)");let t=e.user.email||"";if(this.props.currentOrgId&&!t&&!1===e.pending)for(let o in r.usersByEmail)if(r.usersByEmail[o].id===e.user.id){t=o;break}const i=!1===e.pending?e.user.handle:e.user.email in r?r.usersByEmail[e.user.email].handle:e.user.email;return o.createElement(v.OrgGuestIdentifier,{email:t,displayString:i})}render(){const e=this.props.user;let s=l.canEditRole(this.props.role,this.props),r=l.isOwnerOfResource(e.id,this.props.role,this.props),t=l.getReadOnlyOverrideMessage(this.props.role,this.props),i=void 0;return l.isOrgUserRestricted(this.props.role.org_user)&&(this.props.role.level!==g.PermissionLevel.VIEWER||t)&&(this.props.role.org_user&&this.props.role.org_user.user_id===e.id?(t=null,i=h.TooltipView.PERMISSIONS_MODAL_RESTRICTED_USER_SELF):(t=null,i=h.TooltipView.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER)),o.createElement("div",{className:_.roleRow},(()=>{const{role:e}=this.props;let s=!1===e.pending?e.user.img_url:e.user.email in this.props.contacts&&this.props.contacts.usersByEmail[e.user.email].img_url;return s?o.createElement("img",{key:`avatar-${this.props.role.id}`,src:s,className:this.props.role.pending?_.avatarPending:_.avatar}):o.createElement(c.Svg,{key:`avatar-${this.props.role.id}`,svg:u,className:_.avatarEmpty})})(),o.createElement("div",{className:_.nameAndSelect},o.createElement("div",{key:`name-${this.props.role.id}`,className:this.props.role.pending?_.namePending:_.name},this.userName()),t&&o.createElement(c.Svg,{className:_.warningIcon,svg:m,"data-tooltip-timeout-delay":50,"data-tooltip-text":t}),i&&o.createElement(c.Svg,{className:_.warningIcon,svg:m,"data-tooltip-content-key":i,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),(()=>{const t=[];let i,p=!1;if(this.props.role.user_id!==e.id||r){if(!s)return o.createElement("span",null,l.levelName(this.props.role.level));r&&!this.props.role.pending&&t.push(g.PermissionLevel.OWNER),l.canMakeAdmin(this.props.role.resource_type,this.props.role.resource_id_or_key,this.props)&&t.push(g.PermissionLevel.ADMIN),t.push(g.PermissionLevel.EDITOR),t.push(g.PermissionLevel.VIEWER),this.props.role.resource_type===g.ResourceType.FILE&&n.getFeatureFlags().prototype_permissions&&t.push(g.PermissionLevel.VIEW_PROTOTYPES),p=this.props.role.pending}else t.push(this.props.role.level);if(this.isDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position){const e=Math.max(0,t.indexOf(this.props.role.level));(i=Object.assign({},this.props.dropdownShown.data.position)).top+=-24*e}return o.createElement("div",{ref:this.levelsDivRef},o.createElement("div",{className:_.select,onClick:this.toggleDropdown},o.createElement("span",null,l.levelName(this.props.role.level))),this.isDropdownShown()&&o.createElement(d.dropdown.Dropdown,{className:_.fixedContextMenu,style:i},t.map(e=>o.createElement(d.dropdown.CheckableOption,{key:`${e}`,onClick:this.props.role.level!==e?()=>this.onChangeLevel(e):void 0,checked:this.props.role.level===e},l.levelName(e))),o.createElement(d.dropdown.Separator,null),p&&o.createElement(d.dropdown.Option,{onClick:this.resendInvite},"resend"),o.createElement(d.dropdown.Option,{onClick:()=>this.onChangeLevel(g.PermissionLevel.NONE)},this.props.role.user_id!==e.id||r?"remove":"leave")))})()))}}s.UserRoleRow=E,E.displayName="UserRoleRow"}),
(function(t,e,h){t.exports={src:'<svg width="13" height="17" viewBox="0 0 13 17" xmlns="http://www.w3.org/2000/svg"><path d="M10 4.5V7H3V4.5C3 2.567 4.566 1 6.5 1c1.031 0 1.959.446 2.6 1.156.56.62.9 1.443.9 2.344zM2 7V4.5C2 2.015 4.016 0 6.5 0 8.984 0 11 2.015 11 4.5V7h2v10H0V7h2zM1 8v8h11V8H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(3,1    ),r=i(164         ),n=i(96                     ),o=i(174                        ),a=i(111                        ),l=i(625                        ),c=i(371                             ),m=i(623             );class f extends t.PureComponent{constructor(){super(...arguments),this.sharingDisclaimer=(()=>{const e=this.props.file,s=e.folder_id?this.props.folders[e.folder_id]:null,i=s&&Object.keys(this.props.roles.byFolderId[s.id]||{}).length>1,t=e.team_id&&this.props.teams[e.team_id];if(!(t&&s&&a.canViewTeam(t.id,this.props)))return s&&i?`Members of '${r.truncateText(n.getFolderName(s),50)}' can access this file.`:e.team_id?"Members of this project or team can access this file.":"Members of this project can access this file.";{const e=r.truncateText(t.name,25);if(s.is_invite_only)return`Invite-only – Members of ${e} cannot view this file.`;if(!s.is_invite_only)return`Everyone at ${e} can access this file.`}})}render(){const e=this.props.file,s=e.folder_id?this.props.folders[e.folder_id]:null;if(!s)return null;const i=s.is_invite_only?l:c;return t.createElement("div",{className:m.roleRow},t.createElement(o.Svg,{className:m.linkAccessDisabledIcon,svg:i}),t.createElement("div",{className:m.sharingDisclaimer},this.sharingDisclaimer()))}}s.FileInfoRow=f,f.displayName="FileInfoRow"}),
(function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const s=n(3,1    );class t extends s.PureComponent{render(){const e=this.props.delimiter||s.createElement("span",null,", "),l=this.props.oxfordDelimiter||s.createElement("span",null,","),n=this.props.finalDelimiter||s.createElement("span",null," and ");let t=[];const r=s.Children.count(this.props.children);return s.Children.forEach(this.props.children,(i,o)=>{0===o?t.push(i):o===r-1?(r>2&&this.props.includeOxfordDelimiter&&t.push(s.cloneElement(l,{key:o+"_oxford"})),t.push(s.cloneElement(n,{key:o+"_delim"})),t.push(i)):(t.push(s.cloneElement(e,{key:o+"_delim"})),t.push(i))}),s.createElement("span",{className:this.props.className||""},t)}}l.JoinNaturally=t,t.displayName="JoinNaturally"}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.525 13.657l2.652-2.652.707.707-2.652 2.652c-1.269 1.27-3.327 1.27-4.596 0-1.27-1.27-1.27-3.327 0-4.596l2.652-2.652.707.707-2.652 2.652c-.879.879-.879 2.303 0 3.182.879.879 2.303.879 3.182 0zm6.187-4.773l-.707-.707 2.652-2.652c.879-.879.879-2.303 0-3.182-.879-.879-2.303-.879-3.182 0L7.823 4.995l-.707-.707 2.652-2.652c1.269-1.27 3.327-1.27 4.596 0 1.27 1.27 1.27 3.327 0 4.596l-2.652 2.652zm-5.45 1.62l4.242-4.242-.766-.766-4.242 4.242.766.766z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="14" height="12" viewBox="0 0 14 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .098l.765.478 8 5 .678.424-.678.424-8 5-.765.478V.098zm1 1.804v8.196L11.557 6 5 1.902z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=n(3,1    ),o=n(106                                     ),t=n(188                             ),r=n(111                        ),c=n(97                     ),p=n(87                      ),a=n(136                            ),l=n(174                        ),d=n(345                                  ),h=n(85                   ),k=n(623             ),_=n(224                                                     ),w=n(627                                                       ),m=n(109                    ),E=n(157         ),g=n(628                             ),u=n(625                        ),A=n(629                                                   );s.FileAccessRow=class extends i.PureComponent{constructor(e){super(e),this.onCollapseDescription=(()=>{this.setState({descriptionModeExpanded:!1})}),this.onExpandDescription=(()=>{this.setState({descriptionModeExpanded:!0})}),this.state={descriptionModeExpanded:!1}}shouldShowDescription(){const e=this.props.file,s=e.parent_org_id;return s&&this.props.orgById[s]&&!this.props.orgById[s].domain_capture&&(e.link_access===c.LinkAccess.ORG_VIEW||e.link_access==c.LinkAccess.ORG_EDIT)&&this.props.user&&this.props.orgUsersByOrgId.orgUsers[s][this.props.user.id].permission!==m.OrgPermissionType.GUEST}renderDescription(){if(!this.props.file||!this.props.file.parent_org_id||!this.props.orgDomains||this.props.orgDomains.domains.length<=0)return i.createElement("div",null);const e=this.props.orgDomains.domains.map(e=>e.domain),s=this.props.orgById[this.props.file.parent_org_id].name;if(this.state.descriptionModeExpanded)return i.createElement("div",null,i.createElement("p",{className:k.descriptionRow},s," members have emails at ",i.createElement(w.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:i.createElement("span",null," and ")},e.map(e=>i.createElement("span",{key:e},e))),". ",i.createElement(_.LinkInline,{onClick:this.onCollapseDescription},"Show less")));{const n=e[0],o=e.length-1;return i.createElement("p",{className:k.descriptionRow},s," members have emails at ",n," ",o>0&&i.createElement("span",null,"... ",i.createElement(_.LinkInline,{onClick:this.onExpandDescription},"+",o," more")))}}render(){const{file:e}=this.props,s=h.getFeatureFlags().prototype_permissions,n=e.link_access===c.LinkAccess.INHERIT?u:g,o=!!e.proto_link_access||!this.shouldShowDescription();return i.createElement("div",null,i.createElement("div",{className:k.roleRow},i.createElement(l.Svg,{className:k.linkAccessIcon,svg:n}),i.createElement("div",{className:k.nameAndSelect},!this.props.hideLinkAccessInfo&&i.createElement(i.Fragment,null,i.createElement(I,Object.assign({},this.props)),i.createElement(O,Object.assign({},this.props))),this.props.hideLinkAccessInfo&&i.createElement(i.Fragment,null,"Only editors can invite people to this file"))),this.shouldShowDescription()&&this.renderDescription(),!!e.proto_link_access&&s&&!this.props.hideLinkAccessInfo&&i.createElement("div",{className:k.roleRow},i.createElement(l.Svg,{className:k.linkAccessIcon,svg:A}),i.createElement("div",{className:k.nameAndSelect},i.createElement(D,Object.assign({},this.props)),i.createElement("span",{className:k.selectOnly},"can view prototypes"))),o&&i.createElement("div",null))}};const L=e=>{const s=e.current&&e.current.getBoundingClientRect();return s?{position:{top:s.top,bottom:"auto",left:s.left,right:"auto"}}:{}};class I extends i.PureComponent{constructor(){super(...arguments),this.FILE_LINK_AUDIENCE_DROPDOWN="file-link-audience-dropdown",this.audienceDropdownRef=i.createRef(),this.onAudienceChange=(e=>{const{file:s}=this.props;let n=s.link_access,i="org-browsable"===e,o=s.proto_link_access;const r=h.getFeatureFlags().prototype_permissions&&!!s.proto_link_access;"public"===e?(n=c.LinkAccess.VIEW,s.link_access===c.LinkAccess.EDIT&&(n=c.LinkAccess.EDIT),i=!1,o=c.ProtoLinkAccess.VIEW):"inherit"===e?(n=c.LinkAccess.INHERIT,i=!1):(n=s.link_access===c.LinkAccess.EDIT||s.link_access===c.LinkAccess.ORG_EDIT?c.LinkAccess.ORG_EDIT:c.LinkAccess.ORG_VIEW,s.proto_link_access===c.LinkAccess.INHERIT&&(o=c.ProtoLinkAccess.ORG_VIEW)),this.props.dispatch(t.file.put({file:{key:s.key,link_access:n,proto_link_access:r?o:c.ProtoLinkAccess.NULL,org_browsable:i},userInitiated:!0}))}),this.isLinkAudienceDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.FILE_LINK_AUDIENCE_DROPDOWN),this.toggleLinkAudienceDropdown=(()=>{this.isLinkAudienceDropdownShown()?this.props.dispatch(o.fileBrowser.hideDropdown()):this.props.dispatch(o.fileBrowser.showDropdown({type:this.FILE_LINK_AUDIENCE_DROPDOWN,data:L(this.audienceDropdownRef)}))}),this.renderCurrentAudience=(()=>{const e=this.props.file;let s;return s=e.link_access===c.LinkAccess.ORG_VIEW||e.link_access===c.LinkAccess.ORG_EDIT?e.org_browsable?`Anyone at ${this.getOrgName()}`:`Anyone at ${this.getOrgName()} with the file link`:e.link_access===c.LinkAccess.INHERIT?"Only people invited to this file":"Anyone with the file link",i.createElement("div",{className:k.linkAccessText},s)}),this.getOrgName=(()=>{const e=this.props.file;return e.parent_org_id&&this.props.orgById[e.parent_org_id]?this.props.orgById[e.parent_org_id].name:null}),this.renderOrgDropdown=(()=>{const e=this.props.file,s=e.link_access===c.LinkAccess.ORG_VIEW||e.link_access===c.LinkAccess.ORG_EDIT,n=e.link_access===c.LinkAccess.VIEW||e.link_access===c.LinkAccess.EDIT,o=e.link_access===c.LinkAccess.INHERIT,t=s&&!e.org_browsable,r=s&&!!e.org_browsable,p=!!e.parent_org_id&&this.props.orgById[e.parent_org_id].public_links_banned;let a;if(this.props.dropdownShown.data&&this.props.dropdownShown.data.position){a=Object.assign({},this.props.dropdownShown.data.position);const e=24;t?a.top-=1*e:r?a.top-=2*e:o&&(a.top-=3*e+18)}return i.createElement(d.dropdown.Dropdown,{style:a,className:k.fixedContextMenu},p&&i.createElement(d.dropdown.CheckableOption,{checked:!s,disabled:!0},"Anyone with the file link (disabled by admin)"),!p&&i.createElement(d.dropdown.CheckableOption,{disabled:!1,checked:n,onClick:()=>{this.onAudienceChange("public")}},"Anyone with the file link"),i.createElement(d.dropdown.CheckableOption,{checked:t,onClick:()=>{this.onAudienceChange("org")}},"Anyone at ",this.getOrgName()," with the file link"),i.createElement(d.dropdown.CheckableOption,{checked:r,onClick:()=>{this.onAudienceChange("org-browsable")}},"Anyone at ",this.getOrgName()),i.createElement(d.dropdown.Separator,null),i.createElement(d.dropdown.CheckableOption,{checked:o,onClick:()=>{this.onAudienceChange("inherit")}},"Only people invited to this file"))}),this.renderNonOrgDropdown=(()=>{const e=this.props.file,s=e.link_access===c.LinkAccess.VIEW||e.link_access===c.LinkAccess.EDIT;let n;if(this.props.dropdownShown.data&&this.props.dropdownShown.data.position){n=Object.assign({},this.props.dropdownShown.data.position);const e=24;s||(n.top-=1*e)}return i.createElement(d.dropdown.Dropdown,{style:n,className:k.fixedContextMenu},i.createElement(d.dropdown.CheckableOption,{checked:s,onClick:()=>{this.onAudienceChange("public")}},"Anyone with the file link"),i.createElement(d.dropdown.CheckableOption,{checked:!s,onClick:()=>{this.onAudienceChange("inherit")}},"Only people invited to this file"))})}render(){const e=this.props.file;return r.canEditFile(e.key,this.props,!0)?i.createElement("div",{ref:this.audienceDropdownRef},i.createElement("div",{className:k.selectLeft,onClick:this.toggleLinkAudienceDropdown},this.renderCurrentAudience()),this.getOrgName()&&this.isLinkAudienceDropdownShown()&&this.renderOrgDropdown(),!this.getOrgName()&&this.isLinkAudienceDropdownShown()&&this.renderNonOrgDropdown()):this.renderCurrentAudience()}}s.FileLinkAudience=I,I.displayName="FileLinkAudience";class D extends i.PureComponent{constructor(){super(...arguments),this.PROTO_LINK_AUDIENCE_DROPDOWN="proto-link-audience-dropdown",this.audienceDropdownRef=i.createRef(),this.onAudienceChange=(e=>{const{file:s}=this.props;let n;n="public"===e?c.ProtoLinkAccess.VIEW:"inherit"===e?c.ProtoLinkAccess.INHERIT:c.ProtoLinkAccess.ORG_VIEW,this.props.dispatch(t.file.put({file:{key:s.key,proto_link_access:n},userInitiated:!0}))}),this.isLinkAudienceDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.PROTO_LINK_AUDIENCE_DROPDOWN),this.toggleLinkAudienceDropdown=(()=>{this.isLinkAudienceDropdownShown()?this.props.dispatch(o.fileBrowser.hideDropdown()):this.props.dispatch(o.fileBrowser.showDropdown({type:this.PROTO_LINK_AUDIENCE_DROPDOWN,data:L(this.audienceDropdownRef)}))}),this.renderCurrentAudience=(()=>{const e=this.props.file;let s;E.assertDev(!!e.proto_link_access,"proto_link_access should be set elsewhere");const n=e.proto_link_access;return s=n===c.ProtoLinkAccess.ORG_VIEW?e.org_browsable?`Anyone at ${this.getOrgName()}`:`Anyone at ${this.getOrgName()} with a prototype link`:n===c.ProtoLinkAccess.INHERIT?"Only people invited to view prototypes":"Anyone with a prototype link",i.createElement("div",{className:k.linkAccessText},s)}),this.getOrgName=(()=>{const e=this.props.file;return e.parent_org_id&&this.props.orgById[e.parent_org_id]?this.props.orgById[e.parent_org_id].name:null}),this.renderOrgDropdown=(()=>{const e=this.props.file,s=e.link_access===c.LinkAccess.VIEW||e.link_access===c.LinkAccess.EDIT,n=e.link_access===c.LinkAccess.INHERIT,o=e.proto_link_access,t=o===c.ProtoLinkAccess.VIEW,r=o===c.ProtoLinkAccess.ORG_VIEW,p=o===c.ProtoLinkAccess.INHERIT,a=!s,l=n,h=!!e.parent_org_id&&this.props.orgById[e.parent_org_id].public_links_banned;let _;if(this.props.dropdownShown.data&&this.props.dropdownShown.data.position){_=Object.assign({},this.props.dropdownShown.data.position);const e=24;r?_.top-=1*e:p&&(_.top-=2*e+18)}return i.createElement(d.dropdown.Dropdown,{style:_,className:k.fixedContextMenu},h&&i.createElement(d.dropdown.CheckableOption,{checked:!r,disabled:!0},"Anyone with a prototype link (disabled by admin)"),!h&&i.createElement(d.dropdown.CheckableOption,{disabled:!1,checked:t,onClick:()=>{this.onAudienceChange("public")}},"Anyone with a prototype link"),i.createElement(d.dropdown.CheckableOption,{checked:r,disabled:!a,onClick:()=>{this.onAudienceChange("org")}},"Anyone at ",this.getOrgName(),!e.org_browsable&&" with a prototype link"),i.createElement(d.dropdown.Separator,null),i.createElement(d.dropdown.CheckableOption,{checked:p,disabled:!l,onClick:()=>{this.onAudienceChange("inherit")}},"Only people invited to view prototypes"))}),this.renderNonOrgDropdown=(()=>{const e=this.props.file,s=e.proto_link_access===c.ProtoLinkAccess.VIEW,n=e.link_access===c.LinkAccess.INHERIT;let o;if(this.props.dropdownShown.data&&this.props.dropdownShown.data.position){o=Object.assign({},this.props.dropdownShown.data.position);const e=24;s||(o.top-=1*e)}return i.createElement(d.dropdown.Dropdown,{style:o,className:k.fixedContextMenu},i.createElement(d.dropdown.CheckableOption,{checked:s,onClick:()=>{this.onAudienceChange("public")}},"Anyone with a prototype link"),i.createElement(d.dropdown.Separator,null),i.createElement(d.dropdown.CheckableOption,{checked:!s,disabled:!n,onClick:()=>{this.onAudienceChange("inherit")}},"Only people invited to view prototypes"))})}render(){const e=this.props.file;return r.canEditFile(e.key,this.props,!0)?i.createElement("div",{ref:this.audienceDropdownRef},i.createElement("div",{className:k.selectLeft,onClick:this.toggleLinkAudienceDropdown},this.renderCurrentAudience()),this.getOrgName()&&this.isLinkAudienceDropdownShown()&&this.renderOrgDropdown(),!this.getOrgName()&&this.isLinkAudienceDropdownShown()&&this.renderNonOrgDropdown()):this.renderCurrentAudience()}}s.ProtoLinkAudience=D,D.displayName="ProtoLinkAudience";class O extends i.PureComponent{constructor(){super(...arguments),this.LINK_LEVEL_DROPDOWN="link-level-dropdown",this.levelsDropdownRef=i.createRef(),this.onLevelChange=(e=>{const s=this.props.file;s.link_access!==c.LinkAccess.ORG_VIEW&&s.link_access!==c.LinkAccess.ORG_EDIT||(e===c.LinkAccess.VIEW&&(e=c.LinkAccess.ORG_VIEW),e===c.LinkAccess.EDIT&&(e=c.LinkAccess.ORG_EDIT));const n=s.parent_org_id&&this.props.user&&this.props.orgUsersByOrgId.orgUsers[s.parent_org_id]&&this.props.orgUsersByOrgId.orgUsers[s.parent_org_id][this.props.user.id];if(s.link_access!==c.LinkAccess.EDIT&&s.link_access!==c.LinkAccess.ORG_EDIT||e===c.LinkAccess.EDIT||e===c.LinkAccess.ORG_EDIT&&n||r.hasImplicitOrExplicitRoleForFile(s.key,p.PermissionLevel.EDITOR,this.props))this.props.dispatch(t.file.put({file:{key:s.key,link_access:e},userInitiated:!0}));else{let n=this.props.modalShown;this.props.dispatch(o.fileBrowser.showModal({type:a.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL,data:{onConfirm:()=>{n&&this.props.dispatch(o.fileBrowser.showModal(n)),this.props.dispatch(t.file.put({file:{key:s.key,link_access:e},userInitiated:!0}))},onCancel:()=>{n&&this.props.dispatch(o.fileBrowser.showModal(n))}}}))}}),this.toggleLinkLevelDropdown=(()=>{this.isLinkLevelDropdownShown()?this.props.dispatch(o.fileBrowser.hideDropdown()):this.props.dispatch(o.fileBrowser.showDropdown({type:this.LINK_LEVEL_DROPDOWN,data:L(this.levelsDropdownRef)}))}),this.isLinkLevelDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LINK_LEVEL_DROPDOWN),this.renderCurrentLevel=(()=>{let e="";switch(this.props.file.link_access){case c.LinkAccess.EDIT:case c.LinkAccess.ORG_EDIT:e="can edit";break;case c.LinkAccess.VIEW:case c.LinkAccess.ORG_VIEW:e="can view";break;case c.LinkAccess.INHERIT:e="can access"}return i.createElement("span",null,e)})}render(){const e=this.props.file,s=r.canEditFile(e.key,this.props,!0),n=e.link_access===c.LinkAccess.ORG_EDIT||e.link_access===c.LinkAccess.ORG_VIEW,o=e.link_access!==c.LinkAccess.INHERIT&&(null==e.team_id||n),t=e.link_access===c.LinkAccess.VIEW||e.link_access===c.LinkAccess.ORG_VIEW||e.link_access===c.LinkAccess.INHERIT;if(!s)return this.renderCurrentLevel();let p;return this.isLinkLevelDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(p=Object.assign({},this.props.dropdownShown.data.position),o&&t&&(p.top+=-24)),i.createElement("div",{ref:this.levelsDropdownRef},i.createElement("div",{className:k.select,onClick:this.toggleLinkLevelDropdown},this.renderCurrentLevel()),this.isLinkLevelDropdownShown()&&i.createElement(d.dropdown.Dropdown,{className:k.fixedContextMenu,style:p},o&&i.createElement(d.dropdown.CheckableOption,{checked:!t,onClick:()=>{this.onLevelChange(c.LinkAccess.EDIT)}},"can edit"),e.link_access===c.LinkAccess.INHERIT&&i.createElement(d.dropdown.CheckableOption,{checked:!0},"can access"),e.link_access!==c.LinkAccess.INHERIT&&i.createElement(d.dropdown.CheckableOption,{checked:t,onClick:()=>this.onLevelChange(c.LinkAccess.VIEW)},"can view")))}}s.FileLinkLevel=O,O.displayName="FileLinkLevel"}),
(function(e,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.EDIT=0]="EDIT",e[e.VIEW=1]="VIEW",e[e.DISABLE=2]="DISABLE"}(o.FolderLevel||(o.FolderLevel={})),function(e){e.FolderListView="folder-list-view",e.FileBrowserNav="file-browser-nav",e.FileMoveModal="file-move-modal"}(o.NewFolderSource||(o.NewFolderSource={}))}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(3,1    ),i=o(133                               ),a=o(106                                     ),n=o(111                        ),r=o(95                      ),l=o(354                            ),c=o(164         ),d=o(174                        ),p=o(345                                  ),h=o(623             ),m=o(631                       ),w=o(208        ),_=o(339                              ),E=o(625                        );s.FolderAccessRow=class extends t.PureComponent{constructor(){super(...arguments),this.FOLDER_ACCESS_CHANGE_DROPDOWN="FOLDER_ACCESS_CHANGE_DROPDOWN",this.folderAccessEl=null,this.folderAccessRef=(e=>{e&&(this.folderAccessEl=e)}),this.isFolderAccessDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.FOLDER_ACCESS_CHANGE_DROPDOWN&&this.props.dropdownShown.data.folderId===this.props.folder.id),this.renderSharingDisclaimer=(()=>{const e=this.props.folder,s=this.props.team,o=n.canEditFolder(e.id,this.props);return e.is_invite_only?t.createElement("span",{className:h.sharingDisclaimer},"Invite-only – Members of ",s.name?c.truncateText(s.name,10):"this team"," cannot access."):!e.is_invite_only&&o?t.createElement("span",null,"Members of ",s.name?c.truncateText(s.name,25):"this team"):e.is_invite_only||o?void 0:t.createElement("span",{className:h.sharingDisclaimer},"Everyone at ",s.name?c.truncateText(s.name,50):"this team"," can access this project.")}),this.onEnableFolderTeamAccess=(()=>{this.onFolderAccessChange(m.FolderLevel.EDIT)}),this.onFolderAccessChange=(e=>{let s,o;switch(e){case m.FolderLevel.EDIT:s=!1,o=!1;break;case m.FolderLevel.VIEW:s=!1,o=!0;break;case m.FolderLevel.DISABLE:s=!0,o=!1;break;default:w.assertNever(e)}const t=this.props.folder;!s&&!o||r.canAccessProFeature(this.props.team)?this.props.dispatch(i.folder.updateFolderAccess({folderId:t.id,isInviteOnly:s,isViewOnly:o})):o?this.props.dispatch(a.fileBrowser.showModal({type:_.UPSELL_VIEW_ONLY_MODAL,data:{teamId:t.team_id}})):this.props.dispatch(a.fileBrowser.showModal({type:_.UPSELL_INVITE_ONLY_MODAL,data:{teamId:t.team_id}}))}),this.toggleFolderAccessDropdown=(()=>{if(this.isFolderAccessDropdownShown())this.props.dispatch(a.fileBrowser.hideDropdown());else if(this.folderAccessEl){const e=this.props.folder,s=this.folderAccessEl.getBoundingClientRect();this.props.dispatch(a.fileBrowser.showDropdown({type:this.FOLDER_ACCESS_CHANGE_DROPDOWN,data:{folderId:e.id,position:{top:s.top+-24*(e.is_view_only?1:0),bottom:"auto",left:s.left,right:"auto"}}}))}}),this.handleFolderAccessChangeView=(()=>this.onFolderAccessChange(m.FolderLevel.VIEW)),this.handleFolderAccessChangeEdit=(()=>this.onFolderAccessChange(m.FolderLevel.EDIT)),this.handleFolderAccessChangeDisabled=(()=>this.onFolderAccessChange(m.FolderLevel.DISABLE))}render(){const e=this.props.folder,s=this.props.team,o=s&&n.canEditTeam(s.id,this.props)&&n.canEditFolder(e.id,this.props),i=e.is_invite_only?t.createElement(d.Svg,{className:h.linkAccessDisabledIcon,svg:E}):t.createElement(l.Avatar,{size:24,className:h.avatar,entity:s});let a={};return this.isFolderAccessDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(a=Object.assign({},this.props.dropdownShown.data.position)),t.createElement("div",{className:h.roleRow},i,t.createElement("div",{className:h.nameAndSelect},t.createElement("div",{className:h.folderDisclaimer},this.renderSharingDisclaimer(),e.is_invite_only&&o&&t.createElement("a",{className:h.enableAccessLink,onClick:this.onEnableFolderTeamAccess},"Enable team access"),!e.is_invite_only&&o&&t.createElement("div",{ref:this.folderAccessRef,onClick:this.toggleFolderAccessDropdown,className:h.select},t.createElement("span",null,e.is_view_only?"can view":"can edit")),this.isFolderAccessDropdownShown()&&t.createElement(p.dropdown.Dropdown,{className:h.fixedContextMenu,style:Object.assign({position:"fixed"},a)},t.createElement(p.dropdown.CheckableOption,{checked:!e.is_view_only,onClick:this.handleFolderAccessChangeEdit},"can edit"),t.createElement(p.dropdown.CheckableOption,{checked:e.is_view_only,onClick:this.handleFolderAccessChangeView},"can view"),t.createElement(p.dropdown.Separator,null),t.createElement(p.dropdown.CheckableOption,{onClick:this.handleFolderAccessChangeDisabled,checked:!1},"remove team access")))))}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(3,1    ),a=t(106                                     ),o=t(296                                 ),i=t(227                                 ),c=t(224                                            ),n=t(228          );class l extends r.PureComponent{constructor(){super(...arguments),this.requestUpgrade=(e=>{this.props.dispatch(o.orgUser.requestAccountType({orgUserId:this.props.orgUser.id})),this.props.dispatch(a.fileBrowser.hideModal())}),this.cancel=(e=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){return r.createElement(i.Modal,{title:"Request Upgrade",size:"small",dispatch:this.props.dispatch},"Your account is ",r.createElement("span",{className:n.important},"Restricted"),". You will be able to share files from your ",r.createElement("span",{className:n.important},"Drafts")," when your account is upgraded by an admin.",r.createElement("div",{className:n.buttonRow},r.createElement(c.ButtonSecondary,{onClick:this.cancel},"Cancel"),r.createElement(c.ButtonLink,{className:n.confirmButton,onClick:this.requestUpgrade},"Request Upgrade")))}}s.ShareFromRestrictedDraftsModal=l,l.displayName="ShareFromRestrictedDraftsModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),r=t(106                                     ),i=t(227                                 ),c=t(224                                            ),n=t(354                            ),o=t(228          );class l extends s.PureComponent{constructor(){super(...arguments),this.cancel=(e=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.share?"shared":"opened";return s.createElement(i.Modal,{title:`File cannot be ${e}`,dispatch:this.props.dispatch},s.createElement(n.AvatarWithHandle,{className:o.avatarWithHandle,entity:this.props.user,includeUserEmailAddress:!0}),"This file cannot be ",e," because it's in the ",s.createElement("span",{className:o.important},"Drafts")," of a ",s.createElement("span",{className:o.important},"Restricted")," user. Please contact your Org admin for further assistance.",s.createElement("div",{className:o.buttonRow},s.createElement(c.ButtonPrimary,{onClick:this.cancel},"OK")))}}a.ViewRestrictedFileModal=l,l.displayName="ViewRestrictedFileModal"}),
(function(o,e,i){o.exports={permissionsModal:"permissions_modal--permissionsModal--1Y_zo unselectable--unselectable--3i8U7",headerTitle:"permissions_modal--headerTitle--1lVlV",contentContainer:"permissions_modal--contentContainer--2gc3M",inviteBar:"permissions_modal--inviteBar--dvsSo",roleRows:"permissions_modal--roleRows--3IhV0 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",inputSection:"permissions_modal--inputSection--310o_",dividedInputSection:"permissions_modal--dividedInputSection--32etK permissions_modal--inputSection--310o_",prototypeDividedInputSection:"permissions_modal--prototypeDividedInputSection--9CS_D permissions_modal--dividedInputSection--32etK permissions_modal--inputSection--310o_",inviteFromSlackFooter:"permissions_modal--inviteFromSlackFooter--1P2PV",inviteFromSlackText:"permissions_modal--inviteFromSlackText--2gabi",footerLinks:"permissions_modal--footerLinks--1dvpq",footerLink:"permissions_modal--footerLink--tBFNA blue_link--blueLink--22X56",footerLinkDisabled:"permissions_modal--footerLinkDisabled--3tjd8 permissions_modal--footerLink--tBFNA blue_link--blueLink--22X56",linkToNode:"permissions_modal--linkToNode--2kOyC",linkToNodeDisabled:"permissions_modal--linkToNodeDisabled--1hJC3 permissions_modal--linkToNode--2kOyC",slackLink:"permissions_modal--slackLink--nS3Of",fileTitle:"permissions_modal--fileTitle--1GMA_",truncateText:"permissions_modal--truncateText--3BWPl ellipsis--ellipsis--1RWY6",resourceName:"permissions_modal--resourceName--3NW-R permissions_modal--truncateText--3BWPl ellipsis--ellipsis--1RWY6",fileLocation:"permissions_modal--fileLocation--30GlZ",spinner:"permissions_modal--spinner--Aa9Li",contextMenu:"permissions_modal--contextMenu--Zyp3G",inviteLevelDropdown:"permissions_modal--inviteLevelDropdown--y2jJa",icon:"permissions_modal--icon--C1AyU",copyIcon:"permissions_modal--copyIcon--zdrgs",arrow:"permissions_modal--arrow--2x0FM pointing_dropdown--arrow--Lu8iU",embedCode:"permissions_modal--embedCode--3I8ev",embedCodeButtons:"permissions_modal--embedCodeButtons--2s-2X",embedMessageContainer:"permissions_modal--embedMessageContainer--1sDGi",embedMessage:"permissions_modal--embedMessage--dyJf7",embedMessagePageName:"permissions_modal--embedMessagePageName--1r-ZN",orgGuestEmails:"permissions_modal--orgGuestEmails--caK4d",orgGuestLink:"permissions_modal--orgGuestLink--2p7WD blue_link--blueLink--22X56",settingsButton:"permissions_modal--settingsButton--3ATT5 raw_components--iconButtonEnabled--1oUUU raw_components--_iconButton--353Le",viewRestrictionDropdown:"permissions_modal--viewRestrictionDropdown--TZLF0"}}),
(function(n,e,i){n.exports={blueLink:"blue_link--blueLink--22X56"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=a(3,1    ),t=a(635                                                ),i=a(224                                            ),n=a(636                                 ),r=a(188                             ),m=a(188                             ),c=a(227                                 );s.EmbedModal=class extends o.PureComponent{constructor(){super(...arguments),this.onFocus=(e=>{e.target.select()}),this.copyEmbedCode=(()=>{const e=this.props.file;this.props.dispatch(m.file.copyLink({file:e,url:this.embedCode(),copyType:r.CopyType.EMBED_CODE})),this.props.hideEmbed()}),this.embedCode=(()=>{const e=encodeURIComponent(this.props.fileLink);return`<iframe style="border: none;" width="800" height="450" src="${location.origin}/embed?embed_host=share&url=${e}" allowfullscreen></iframe>`})}render(){return o.createElement(c.Modal,Object.assign({size:600,fixedTop:!0,title:"Copy public embed code",className:t.permissionsModal},this.props),o.createElement("textarea",{readOnly:!0,onFocus:this.onFocus,className:t.embedCode,value:this.embedCode()}),this.props.pageName&&o.createElement("div",{className:t.embedMessageContainer},o.createElement("span",{className:t.embedMessage},"Embed "),o.createElement("span",{className:t.embedMessagePageName},this.props.pageName),o.createElement("span",{className:t.embedMessage}," in your webpage")),o.createElement("div",{className:t.embedCodeButtons},o.createElement("div",{className:n.blueLink,onClick:this.props.hideEmbed},"Cancel"),o.createElement(i.ButtonPrimary,{onClick:this.copyEmbedCode},"Copy")))}}}),
(function(l,t,e){l.exports={src:'<svg width="9" height="6" viewBox="0 0 9 6" xmlns="http://www.w3.org/2000/svg"><path d="M.6 1.307L1.307.6l3.146 3.146L7.6.6l.707.707L4.453 5.16.6 1.307z" fill-rule="evenodd" fill-opacity=".7" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M11.555.878c-1.172-1.17-3.07-1.17-4.242 0l-.708.707c-.785.786-1.046 1.896-.777 2.898l.902-.901c.028-.47.223-.93.582-1.29l.708-.707c.78-.78 2.046-.781 2.828 0 .78.782.78 2.048 0 2.829l-.707.707c-.36.359-.82.554-1.29.582l-.902.902c1.004.268 2.114.008 2.899-.777l.707-.707c1.172-1.172 1.172-3.071 0-4.243zM.879 11.555c1.172 1.17 3.07 1.17 4.242 0l.707-.708c.785-.785 1.047-1.896.777-2.898l-.902.902c-.027.47-.223.93-.582 1.29l-.707.706c-.781.781-2.047.782-2.828 0-.781-.781-.781-2.047 0-2.828l.707-.707c.36-.359.82-.554 1.289-.582l.902-.902c-1.004-.268-2.113-.008-2.898.777l-.707.707c-1.172 1.171-1.172 3.071 0 4.243zm7.848-7.141l-.707-.707-4.243 4.242.707.708 4.243-4.243z" fill-rule="evenodd" fill-opacity="1" fill="#18a0fb" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="14" height="11" viewBox="0 0 14 11" xmlns="http://www.w3.org/2000/svg"><path d="M4.953.65l-4.5 4.5-.351.354.351.353 4.5 4.5.711-.707-4.148-4.146 4.148-4.147-.71-.707zm4.211 0l4.5 4.5.352.354-.352.353-4.5 4.5-.71-.707 4.148-4.146-4.149-4.147.711-.707z" fill-rule="evenodd" fill-opacity="1" fill="#18a0fb" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="12" height="14" viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 7.05V0h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V14H2v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM4 9.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5C1 8.672 1.672 8 2.5 8 3.328 8 4 8.672 4 9.5zM9 14h1V6.95c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V0H9v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45V14zm2-9.5c0-.828-.672-1.5-1.5-1.5C8.672 3 8 3.672 8 4.5 8 5.328 8.672 6 9.5 6c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),r=t(188                             ),i=t(106                                     ),p=t(107                             ),a=t(611                 ),n=t(111                        ),l=t(612                      ),c=t(96                     ),d=t(235                              ),h=t(97                     ),m=t(87                      ),u=t(140                               ),_=t(136                            ),g=t(620                                                 ),E=t(372                                        ),w=t(624                                        ),y=t(626                                        ),f=t(630                                          ),I=t(632                                            ),v=t(633                                                       ),T=t(634                                               ),k=t(637                                      ),S=t(233        ),O=t(345                                  ),R=t(224                                            ),L=t(174                        ),N=t(187                             ),b=t(363                                              ),P=t(178                                        ),D=t(163                               ),M=t(635                                                ),F=t(160       ),A=t(221                                    ),C=t(95                      ),V=t(85                   ),x=t(211                            ),B=t(339                                           ),K=t(606                           ),W=t(208        ),U=t(157         ),j=t(229                    ),H=t(167                                  ),G=t(212      ),$=t(638                                               ),Y=t(639                               ),q=t(640                              ),z=t(641                                                          );s.TEAM_PERMISSIONS_MODAL="team-permissions-modal",s.FOLDER_PERMISSIONS_MODAL="folder-permissions-modal",s.FILE_PERMISSIONS_MODAL="file-permissions-modal",j.registerModal(s.TEAM_PERMISSIONS_MODAL,e=>{let s=e.teams[e.modalShown.data.teamId];return o.createElement(Q,Object.assign({resource:s,resourceType:m.ResourceType.TEAM},e))}),j.registerModal(s.FOLDER_PERMISSIONS_MODAL,e=>{let s=e.folders[e.modalShown.data.folderId];return o.createElement(Q,Object.assign({resource:s,resourceType:m.ResourceType.FOLDER},e))}),j.registerModal(s.FILE_PERMISSIONS_MODAL,e=>{let s=e.fileByKey[e.modalShown.data.fileKey],t=void 0;if(e.mirror&&e.mirror.appModel.pagesList&&e.mirror.appModel.pagesList.length>1){const s=e.mirror.sceneGraph.get(H.currentCanvasNodeId(e.mirror.appModel));s&&(t=s.name)}return o.createElement(Q,Object.assign({resource:s,resourceType:m.ResourceType.FILE,pageName:t},e))});class Q extends o.Component{constructor(e){super(e),this.PERMISSIONS_DROPDOWN="permissions-dropdown",this.PERMISSIONS_INVITE_DROPDOWN="permissions-invite-dropdown",this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN="permissions-view-restrictions-dropdown",this.onInviteLevelChange=(e=>{this.setState({inviteLevel:e})}),this.getSearch=(e=>{const s=new K.SearchLibrary([],{keys:["handle","email"],threshold:0,tokenize:!0});return s.set(Object.keys(e).map(s=>e[s])),s}),this.searchResults=(e=>{const s=this.emailsToExclude();for(const t of e.tokens)s.add(t.email);return this.getSearch(this.props.contacts.usersByEmail).search(e.inputValue).filter(({email:e})=>!s.has(e))}),this.onValidateToken=(e=>({email:e,state:S.isEmail(e)?x.AutocompleteTokenState.OK:x.AutocompleteTokenState.ERROR,user:this.props.contacts.usersByEmail[e]})),this.getCurrentPageNodeId=(()=>{if(this.state.linkToPrototype){if(this.props.prototype&&this.props.prototype.currentPageId)return this.props.prototype.currentPageId}else if(this.props.mirror)return H.currentCanvasNodeId(this.props.mirror.appModel)}),this.sendInvites=(e=>{const s=this.state.inviteLevel,t=this.state.linkToPrototype||s===m.PermissionLevel.VIEW_PROTOTYPES;this.props.dispatch(p.role.sendInvites({emails:d.toEmailList(e),resourceType:this.props.resourceType,resourceIdOrKey:n.idOrKey(this.props.resource),level:s,nodeId:t?this.getCurrentPageNodeId():void 0,emailsToExclude:this.emailsToExclude(),onSuccess:({invites:e,over_editor_limit:t})=>{if(s>=m.PermissionLevel.EDITOR&&t){const s=n.getResourceTeamId(e[0],this.props);this.props.dispatch(i.fileBrowser.showModal({type:B.UPSELL_ADD_EDITOR_MODAL,data:{teamId:s,invitesSent:e.length}}))}}})),this.props.resourceType===m.ResourceType.TEAM&&this.props.dispatch(i.fileBrowser.hideModal())}),this.onSubmit=(e=>{const s=this.props.orgById[this.props.currentOrgId];if(s&&s.domain_capture&&this.props.orgDomains.domains.length>0){const s=d.toEmailList(e).filter(e=>S.isEmail(e)&&!a.isEmailInOrgsDomain(this.props.orgDomains.domains,e));if(s.length>0)return void this.props.dispatch(i.fileBrowser.showModal({type:_.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:s,onConfirm:()=>{this.sendInvites(e)},popStack:!0}}))}this.sendInvites(e)}),this.onlinkToNodeChange=(e=>{this.setState({linkToNodeCheckbox:e.currentTarget.checked})}),this.hideEmbed=(()=>{this.setState({showEmbed:!1})}),this.showEmbedCode=(()=>{this.setState({showEmbed:!0})}),this.copyFileLink=(()=>{if(this.props.resourceType!==m.ResourceType.FILE)return;const e=this.props.resource;this.props.dispatch(r.file.copyLink({file:e,url:this.fileLinkUrl(e)}))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_DROPDOWN),this.toggleDropdown=(()=>{if(this.isDropdownShown())this.props.dispatch(i.fileBrowser.hideDropdown());else{if(this.props.resourceType!==m.ResourceType.FILE)return;const e=this.props.resource;this.props.dispatch(i.fileBrowser.showDropdown({type:this.PERMISSIONS_DROPDOWN,data:{folderId:e.folder_id}}))}}),this.renderFileMoveModal=(()=>{if(this.props.resourceType!==m.ResourceType.FILE)return;let e=this.props.resource;this.props.dispatch(i.fileBrowser.showModal({type:E.FILE_MOVE_MODAL,data:{fileKey:e.key}}))}),this.renderTitle=(()=>{const e=e=>o.createElement("div",{className:M.fileTitle},e);if(this.props.resourceType===m.ResourceType.TEAM)return e(o.createElement("p",null,"Invite team members"));if(this.props.resourceType===m.ResourceType.FOLDER){const s=c.getFolderName(this.props.resource);return e(o.createElement("p",null,"Share ",o.createElement("span",{className:M.resourceName},s)))}const s=this.props.resource,t=s.folder_id?this.props.folders[s.folder_id]:null;if(!t)return e(o.createElement("p",null,"Share ",o.createElement("span",{className:M.resourceName},s.name)));const r=!n.canManageFile(s.key,this.props,!0),i="folder"===this.props.selectedView.view&&this.props.selectedView.folderId===t.id||!n.canViewFolder(t.id,this.props),p=i?void 0:`/files/project/${t.id}`,a=E.getTargetAttribute(this.props.selectedView);return o.createElement("div",{className:M.fileTitle},o.createElement("p",null,"Share ",o.createElement("span",{className:M.resourceName},this.props.resource.name)),o.createElement("div",{className:M.fileLocation,onClick:this.toggleDropdown},o.createElement("span",{className:M.truncateText},c.getFolderName(t)),o.createElement(L.Svg,{svg:$,className:M.icon})),this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_DROPDOWN&&o.createElement("div",{className:M.contextMenu},o.createElement("div",{className:M.arrow}),o.createElement(O.dropdown.Dropdown,null,o.createElement(O.dropdown.Option,{disabled:r,onClick:this.renderFileMoveModal},"Move to Project..."),o.createElement(O.dropdown.Option,{disabled:i,href:p,target:a},"Show in Files"))))}),this.hideModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this._toggleAdvancedOptionForFile=((e,s,t)=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(r.file.put({file:s,userInitiated:!0})),this.props.dispatch(i.fileBrowser.hideDropdown()),t&&this.props.dispatch(N.visualBellActions.enqueue(t))}),this.onViewerExportRestrictedChange=((e,s)=>{if(this.props.resourceType!==m.ResourceType.FILE)return;const t=this.props.resource;this._toggleAdvancedOptionForFile(e,{key:t.key,viewer_export_restricted:s},{type:"viewer-restriction-changed",message:"Viewer permission changed"})}),this.toggleProtoLinkAccessOptionEnabled=((e,s)=>{if(this.props.resourceType!==m.ResourceType.FILE)return;const t=this.props.resource;this._toggleAdvancedOptionForFile(e,{key:t.key,proto_link_access:s?h.linkAccessToProtoLinkAccess(t.link_access):h.ProtoLinkAccess.NULL})});const s=this.isPrototypeView()?m.PermissionLevel.VIEW_PROTOTYPES:m.PermissionLevel.VIEWER,t=u.nodeId(this.props.selectedView);t&&t!==F.invalidGUIDStr?this.state={inviteLevel:s,linkToPrototype:"prototype"===this.props.selectedView.view,inviteInputFocused:!1,linkToNodeCheckbox:!0,selectedNodeId:t,selectedPage:D.SceneGraphHelpers.nodeIsPage(t)}:this.state={inviteLevel:s,linkToPrototype:"prototype"===this.props.selectedView.view,inviteInputFocused:!1}}isPrototypeView(){return"file"===this.props.resourceType&&"prototype"===this.props.selectedView.view}getRoles(){let e={};switch(this.props.resourceType){case m.ResourceType.FILE:e=this.props.roles.byFileKey[this.props.resource.key]||{};break;case m.ResourceType.FOLDER:e=this.props.roles.byFolderId[this.props.resource.id]||{};break;case m.ResourceType.TEAM:e=this.props.roles.byTeamId[this.props.resource.id]||{};break;default:W.assertNever(this.props)}return Object.keys(e).map(s=>e[s]).sort((e,s)=>new Date(e.created_at)<new Date(s.created_at)?-1:1)}emailsToExclude(){let e={};for(let t in this.props.contacts.usersByEmail)e[this.props.contacts.usersByEmail[t].id]=t;const s=new Set;s.add(this.props.user.email);for(const t of this.getRoles())s.add(!0===t.pending?t.user.email:e[t.user.id]);return s}fileLinkUrl(e){let s="";return this.state.linkToNodeCheckbox&&this.state.selectedNodeId?s+=`?node-id=${encodeURIComponent(this.state.selectedNodeId)}`:this.state.linkToPrototype&&"prototype"===this.props.selectedView.view&&(s+=l.urlQueryForPrototype({scalingMode:this.props.selectedView.scalingMode,nodeId:void 0,showHotspots:this.props.selectedView.showHotspots})),`${this.state.linkToPrototype?e.prototype_url:e.url}${s}`}toggleViewRestrictionsDropdown(){this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN}))}renderFileLinks(){if(this.props.resourceType!==m.ResourceType.FILE)return;const e=this.props.resource,s=n.canEditResource(this.props.resourceType,n.idOrKey(this.props.resource),this.props),t=C.canAccessProFeature(e.team_id?this.props.teams[e.team_id]:null),r=V.getFeatureFlags().prototype_permissions,i=s&&(t||r),p=!this.state.selectedNodeId||this.state.selectedPage;let a=!0;if(e.parent_org_id){const s=this.props.orgById[e.parent_org_id];s&&!s.public_links_banned||(a=!1)}const l=e.link_access===h.LinkAccess.EDIT||e.link_access===h.LinkAccess.VIEW,c=l?M.footerLink:M.footerLinkDisabled;return o.createElement("div",null,o.createElement("div",{className:M.footerLinks},o.createElement("div",{className:M.footerLink,onClick:this.copyFileLink},o.createElement(L.Svg,{className:M.copyIcon,svg:Y})," Copy link"),a&&o.createElement("div",{className:c,onClick:l?this.showEmbedCode:void 0},o.createElement(L.Svg,{className:M.copyIcon,svg:q})," Get embed code"),!this.isPrototypeView()&&o.createElement("div",{className:p?M.linkToNodeDisabled:M.linkToNode},o.createElement(R.Checkbox,{id:"link-to-node",checked:!p&&this.state.linkToNodeCheckbox,onChange:this.onlinkToNodeChange,disabled:p}),o.createElement(R.Label,{htmlFor:"link-to-node"},"Link to selected frame")),i&&o.createElement(L.Svg,{svg:z,onClick:()=>this.toggleViewRestrictionsDropdown(),className:M.settingsButton}),this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_VIEW_RESTRICTIONS_DROPDOWN&&o.createElement(O.dropdown.Dropdown,{className:M.viewRestrictionDropdown},o.createElement(O.dropdown.CheckableOption,{checked:!1,disabled:!0},"Advanced options"),t&&o.createElement(O.dropdown.CheckableOptionTrackable,{checked:!e.viewer_export_restricted||e.link_access===h.LinkAccess.EDIT,disabled:e.link_access===h.LinkAccess.EDIT,onClick:s=>this.onViewerExportRestrictedChange(s,!e.viewer_export_restricted),trackingProperties:{fileKey:e.key,teamId:e.team_id,viewerRestrictedAfterToggle:!e.viewer_export_restricted}},"Allow viewers to copy, share, and export from this file"),r&&o.createElement(O.dropdown.CheckableOptionTrackable,{checked:!!e.proto_link_access,disabled:!1,onClick:s=>this.toggleProtoLinkAccessOptionEnabled(s,!e.proto_link_access),trackingProperties:{fileKey:e.key,teamId:e.team_id,viewerProtoLinkAccessAfterToggle:!e.proto_link_access}},"Show advanced prototype settings"))))}onKeyDown(e){e.keyCode!==G.Key.ESCAPE&&e.stopPropagation()}render(){const e=V.getFeatureFlags().prototype_permissions,s=this.state.linkToPrototype,t=this.props.resourceType===m.ResourceType.FILE?this.props.resource:null,r=this.props.resourceType===m.ResourceType.FOLDER?this.props.resource:null,i=this.props.resourceType===m.ResourceType.TEAM?this.props.resource:null,p=n.canEditResource(this.props.resourceType,n.idOrKey(this.props.resource),this.props),a=n.canViewResource(this.props.resourceType,n.idOrKey(this.props.resource),this.props),l=n.canViewPrototypes(n.idOrKey(this.props.resource),this.props,!1),c=!!t&&!a&&l,d=s&&l&&!n.canViewPrototypes(n.idOrKey(this.props.resource),this.props,!0);c&&U.assertDev(!!s,"How did a prototype viewer sneak into non-prototype mode?!");const u=!(!t||!n.isCopyExportRestricted(n.idOrKey(this.props.resource),this.props)||t.link_access!==h.LinkAccess.INHERIT);let _;_=!t||(s?!(c||d||u):!u);let E=M.dividedInputSection;if(i?E=M.inputSection:(e?d:s)&&(E=M.prototypeDividedInputSection),t){const e=t.folder_id?this.props.orgDraftsOwners[t.folder_id]:null;if(e&&n.isOrgUserRestricted(e))return e.user_id===this.props.user.id?o.createElement(v.ShareFromRestrictedDraftsModal,{orgUser:this.props.orgUsersByOrgId.orgUsers[this.props.currentOrgId][this.props.user.id],dispatch:this.props.dispatch}):o.createElement(T.ViewRestrictedFileModal,{share:!0,user:e.user,dispatch:this.props.dispatch})}if(t&&this.state.showEmbed)return o.createElement(k.EmbedModal,{file:t,hideEmbed:this.hideEmbed,fileLink:this.fileLinkUrl(t),pageName:this.props.pageName,dispatch:this.props.dispatch});const S=[];return n.canMakeAdmin(this.props.resourceType,n.idOrKey(this.props.resource),this.props)&&S.push(m.PermissionLevel.ADMIN),p&&S.push(m.PermissionLevel.EDITOR),a&&S.push(m.PermissionLevel.VIEWER),this.props.resourceType===m.ResourceType.FILE&&V.getFeatureFlags().prototype_permissions&&S.push(m.PermissionLevel.VIEW_PROTOTYPES),U.assertDev(S.length>0,"there should be at least one role (the user's own)"),o.createElement(A.TrackingContext,{name:"Share Modal",properties:{resourceType:this.props.resourceType,resourceId:this.props.resourceType===m.ResourceType.TEAM?this.props.resource.id:null,userStateLoaded:this.props.userStateLoaded}},o.createElement(b.HeaderModal,{title:this.renderTitle(),isCloseHidden:this.props.resourceType===m.ResourceType.FILE,maxWidth:459,fixedTop:!0,onClose:this.hideModal},!this.props.userStateLoaded&&o.createElement("div",{className:M.spinner},o.createElement(P.LoadingSpinner,null)),this.props.userStateLoaded&&[o.createElement("div",{key:"container",className:M.contentContainer,onKeyDown:this.onKeyDown},_&&(!s||e)&&o.createElement("div",{className:M.inviteBar},o.createElement(g.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Send Invite",dispatch:this.props.dispatch,dropdownKey:this.PERMISSIONS_INVITE_DROPDOWN,dropdownShown:this.props.dropdownShown,inviteLevel:this.state.inviteLevel,getSelectText:n.levelName,onInviteLevelChange:this.onInviteLevelChange,options:S,onSubmit:this.onSubmit,searchResults:this.searchResults,validateToken:this.onValidateToken})),(t||r)&&o.createElement("div",{className:M.roleRows},t&&o.createElement(y.FileInfoRow,Object.assign({file:t},this.props)),t&&o.createElement(f.FileAccessRow,Object.assign({file:t,hideLinkAccessInfo:u},this.props)),r&&r.team_id&&o.createElement(I.FolderAccessRow,Object.assign({folder:r,team:this.props.teams[r.team_id]},this.props)),(e?!d:!s)&&this.getRoles().map(e=>o.createElement(w.UserRoleRow,Object.assign({key:`role-row-${e.id}`,role:e},this.props))))),o.createElement("div",{key:"file-links",className:E},t&&this.renderFileLinks())]))}}s.PermissionsModal=Q,Q.displayName="PermissionsModal"}),
(function(a,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=s(237                                 ),i=s(134                             ),o=s(106                                     ),c=s(139                         ),n=s(642                                            );e.default=(a=>e=>(function(s){if(o.fileBrowser.showModal.matches(s))switch(s.payload.type){case n.FILE_PERMISSIONS_MODAL:case n.FOLDER_PERMISSIONS_MODAL:case n.TEAM_PERMISSIONS_MODAL:a.dispatch(t.loadContacts())}return i.orgs.switchActiveOrgAndSetCurrentOrgId.matches(s)&&a.dispatch(t.reset()),o.fileBrowser.selectView.matches(s)&&"team"===s.payload.view&&s.payload.teamViewTab===c.TeamViewTab.MEMBERS&&a.dispatch(t.loadContacts()),e(s)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(291                       ),r=i(103                 ),a=i(104                     ),n=i(124     );function c(e){let t="/api/user/email_lists";return e.token&&(t+=`?t=${encodeURIComponent(e.token)}`),t}t.emailSettingsMiddleware=(e=>t=>(function(i){switch(i.type){case s.emailSettings.GET:{const a=e.getState().emailSettings;return a.listsFetched||n.default.get(c(a)).then(({data:t})=>{const i=t.meta.lists;e.dispatch(s.emailSettings.put(i))}).catch(()=>{e.dispatch(r.flashActions.error("An error occurred while fetching your email preferences."))}),t(i)}case s.emailSettings.PUT:if(i.payload.userInitiated){const s=e.getState().emailSettings;return a.optimisticRequest({requestPromise:n.default.put(c(s),i.payload.emailLists),fallbackError:"An error occurred while changing your email preferences.",store:e,next:t,action:i})}return t(i);default:return t(i)}}))}),
(function(e,i,o){e.exports={row:"email_settings_view--row--3rDGL"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),l=i(292                              ),a=i(291                        ),n=i(224                                            ),c=i(645                        );t.EmailSettingsView=(e=>s.createElement("div",null,s.createElement(m,Object.assign({emailListKey:l.EmailListKey.ACTIVITY,label:"Activity from other users"},e))));const m=e=>{const t=e.emailSettings.lists,i=e.emailListKey,c=()=>i===l.EmailListKey.ACTIVITY?!!t[l.ActivityLevel.EVERY_FOLLOWER]:t[i];return s.createElement(r,null,s.createElement(n.Checkbox,{id:i,checked:c(),onChange:()=>{e.dispatch(a.emailSettings.put({[i]:(()=>i===l.EmailListKey.ACTIVITY?c()?"never":"every":!t[i])()},!0))}}),s.createElement(n.Label,{htmlFor:i},e.label))},r=e=>s.createElement("div",{className:c.row},e.children)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t(644                                   );i.emailSettingsMiddleware=a.emailSettingsMiddleware;var n=t(646                                                 );i.EmailSettingsView=n.EmailSettingsView;var s=t(291                                );i.emailSettingsActions=s.emailSettings}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(188                             ),a=i(94                                   ),r=i(106                                     ),d=i(133                               ),l=i(46,1            ),s=i(104                     ),n=i(124     ),f=i(112                      ),c=i(115          ),p=i(95                      ),m=i(111                        ),h=i(96                     ),y=i(339                                           ),u=i(136                            );t.default=(e=>t=>(function(i){if(r.fileBrowser.selectView.matches(i)){if(e.getState().creatingNewFolder&&(e.dispatch(r.fileBrowser.hideModal()),e.dispatch(r.fileBrowser.stopCreateNewFolder())),"folder"===i.payload.view){if(!e.getState().folders[i.payload.folderId])return c.locationReload("missing folder data, doing full reload to fix"),void e.dispatch(r.fileBrowser.selectView({view:"recentFiles"}));e.dispatch(d.folder.getPinnedFiles({folderId:i.payload.folderId}))}return t(i)}if(d.folder.put.matches(i)){t(i);let o=e.getState();m.canViewFolder(i.payload.folder.id,o)||e.dispatch(d.folder.del({folderId:i.payload.folder.id}))}else{if(d.folder.rename.matches(i)){const{folderId:o,folderName:a}=i.payload;return f.trackEventForFolder("Folder Renamed",o,e.getState(),{folderName:a}),s.optimisticRequest({requestPromise:n.default.put("/api/folders/rename",{folder_id:i.payload.folderId,name:i.payload.folderName}),fallbackError:"An error occurred while renaming this project.",store:e,next:t,action:i})}if(d.folder.turnOffSlackNotifications.matches(i)){let o=i.payload,r=o.settings&&o.settings.webhooks&&Object.keys(o.settings.webhooks)[0];return r?s.optimisticRequest({requestPromise:n.default.put(`/api/folders/${o.id}`,{remove_slack_webhook_key:r}).then(()=>{e.dispatch(a.flash.flash("Slack notifications have been turned off for this project."))}),fallbackError:"An error occurred while turning off slack notifications.",store:e,next:t,action:i}):t(i)}if(d.folder.updateFolderAccess.matches(i))return s.optimisticRequest({requestPromise:n.default.put(`/api/folders/${i.payload.folderId}`,{is_invite_only:i.payload.isInviteOnly,is_view_only:i.payload.isViewOnly}),fallbackError:"An error while updating the folder's access.",store:e,next:t,action:i});if(d.folder.tryMove.matches(i)){t(i);let o=e.getState(),l=i.payload.folder,s=i.payload.teamId;if(l.team_id){if(!m.canEditTeam(l.team_id,o)){let t=o.teams[l.team_id];return void e.dispatch(a.flash.error(`You don't have permission to remove projects from ${t?t.name:"this team"}.`))}}else if(!m.canEditFolder(l.id,o))return void e.dispatch(a.flash.error("You don't have permission to move this project"));if(l.is_invite_only||l.is_view_only)return void e.dispatch(r.fileBrowser.showModal({type:u.BLOCK_MOVING_PRIVATE_PROJECT,data:{folder:l}}));if(s&&!m.canEditTeam(s,o)){let t=o.teams[s];return void e.dispatch(a.flash.error(`You don't have permission to move projects into ${t?t.name:"this team"}.`))}if(s&&(p.isTeamLockedForUser(s,o)||p.isTeamAtFolderLimit(s,o))){const t={teamId:s};return void e.dispatch(r.fileBrowser.showModal({type:y.UPSELL_NEW_FOLDER_MODAL,data:t}))}if(l.team_id){let t=o.teams[s];e.dispatch(r.fileBrowser.showModal({type:u.TEAM_FOLDER_MOVE_CONFIRM_MODAL,data:{folder:l,destinationTeam:t,onConfirm:()=>{e.dispatch(d.folder.move({folder:l,teamId:s}))}}}))}else e.dispatch(d.folder.move({folder:l,teamId:s}))}else{if(d.folder.move.matches(i))return f.trackEventForFolder("Folder Moved",i.payload.folder.id,e.getState(),{destTeamId:i.payload.teamId}),s.optimisticRequest({requestPromise:n.default.put("/api/folders/move",{folder_id:i.payload.folder.id,team_id:i.payload.teamId}),fallbackError:"An error occurred while moving this project.",store:e,next:t,action:i});if(!d.folder.del.matches(i)){if(r.fileBrowser.openNewFolderModal.matches(i)){const o=e.getState(),d=i.payload.where,l=i.payload.teamId;if(!o.creatingNewFolder||o.creatingNewFolder.where!==d||o.creatingNewFolder.teamId!=l)if(m.canEditTeam(l,o))if(p.isTeamAtFolderLimit(l,o)||p.isTeamLockedForUser(l,o)){const t={teamId:l};e.dispatch(r.fileBrowser.showModal({type:y.UPSELL_NEW_FOLDER_MODAL,data:t}))}else e.dispatch(r.fileBrowser.beginCreateNewFolder({where:d,teamId:l})),e.dispatch(r.fileBrowser.showModal({type:u.NEW_FOLDER_MODAL}));else{const t=o.teams[l];e.dispatch(a.flash.flash(`You don't have permission to create projects in ${t?t.name:"this team"}.`))}return t(i)}return t(i)}{let a=e.getState();const d=a.folders[i.payload.folderId],c=a.fileKeysByFolderId[i.payload.folderId];if(!(d||c&&0!==c.length))return t(i);let p="folder"===a.selectedView.view&&a.selectedView.folderId===i.payload.folderId;const y=a.fileKeysByFolderId[i.payload.folderId],u={},w={},_=(new Date).getTime(),I=d&&d.is_invite_only;y.forEach(e=>{const t=a.roles.byFileKey[e]&&a.roles.byFileKey[e][a.user.id];I&&!t?w[e]=!0:u[e]=Object.assign(Object.assign({},a.fileByKey[e]),{folder_id:null,trashed_at:_})});const g=o.file.deleteFiles({fileKeys:u,userInitiated:!1}),v=o.file.deleteFilesForever({fileKeys:w,userInitiated:!1}),F=s.getOptimisticTransactionID(),E=s.getOptimisticTransactionID();if(i.payload.userInitiated&&(g.optimist={type:l.BEGIN,id:F},v.optimist={type:l.BEGIN,id:E}),e.dispatch(g),e.dispatch(v),i.payload.userInitiated){f.trackEventForFolder("Folder Deleted",i.payload.folderId,a);let o=n.default.del(`/api/folders/${i.payload.folderId}`);o.then(()=>{e.dispatch({type:null,optimist:{type:l.COMMIT,id:F}}),e.dispatch({type:null,optimist:{type:l.COMMIT,id:E}})}).catch(()=>{e.dispatch({type:null,optimist:{type:l.REVERT,id:F}}),e.dispatch({type:null,optimist:{type:l.REVERT,id:E}}),p&&setTimeout(()=>{e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:i.payload.folderId}))},0)}),s.optimisticRequest({requestPromise:o,fallbackError:"An error occurred while deleting this project.",store:e,next:t,action:i})}else t(i);if(p){const t=d&&h.getFolderTeamId(d);d&&t&&h.isTeamFolder(d)&&m.canViewTeam(t,a)?e.dispatch(r.fileBrowser.selectView({view:"team",teamId:t})):e.dispatch(r.fileBrowser.selectView({view:"recentFiles"}))}}}}}))}),
(function(a,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=r(124     ),i=r(94                                   ),o=r(134                             ),s=r(248                               ),n=r(249                             );t.apiOrg=(a=>t=>(function(r){if(s.avatar.editorUploaded.matches(r)){if(r.payload.entityType!==n.EntityType.ORG)return t(r);const l=r.payload.entity.id;return e.default.put(`/api/orgs/${l}`,{img_url:r.payload.smallUrl,img_url_500_500:r.payload.largeUrl}).then(function(t){let r=JSON.parse(t.response).meta;a.dispatch(o.orgs.put({org:r})),a.dispatch(s.avatar.editorReset())},t=>{a.dispatch(i.flash.error("An error occurred: "+t.data.message)),console.error("An error occurred while setting the organization icon.",t),a.dispatch(s.avatar.editorReset())}),t(r)}return t(r)})),t.default=t.apiOrg}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(104                     ),i=a(124     ),s=a(248                               ),o=a(106                                     ),d=a(430                                 ),l=a(94                                   ),c=a(107                             ),n=a(137                             ),m=a(112                      ),p=a(249                             ),h=a(219                       ),u=a(126          ),f=a(300                     ),g=a(263                                      );t.apiTeam=(e=>t=>(function(a){if(n.team.del.matches(a)){const s=e.getState(),o=a.payload.team.id,c=Object.keys(s.folders).filter(e=>s.folders[e].team_id===o),p=Object.keys(s.fileByKey).filter(e=>s.fileByKey[e].team_id===o);if(a.payload.userInitiated&&a.payload.teamDelete)return m.trackEventForTeam("Org Team Deleted",o,s),r.optimisticRequest({requestPromise:i.default.del(`/api/teams/${o}`).then(()=>{e.dispatch(l.flash.flash(`You have deleted the team "${a.payload.team.name}"`)),e.dispatch(n.team.resourceDelete({folderIds:c,fileKeys:p}))}).then(()=>{e.dispatch(d.realtime.unsubscribe(`/team-${a.payload.team.id}`))}),fallbackError:"An error occurred while deleting this team.",store:e,next:t,action:a});if(a.payload.userInitiated){if(!s.user)return t(a);const o=s.roles.byTeamId[a.payload.team.id],h=o[s.user.id],u=Object.keys(o).length>1;return m.trackEventForRole("Role Deleted",h),u||m.trackEventForTeam("Team Deleted",h.resource_id_or_key,e.getState(),{lastUserId:h.user_id}),r.optimisticRequest({requestPromise:i.default.del(`/api/roles/${h.id}`).then(()=>{e.dispatch(l.flash.flash(`You have left the ${a.payload.team.name} team`)),e.dispatch(n.team.resourceDelete({folderIds:c,fileKeys:p}))}).then(()=>{e.dispatch(d.realtime.unsubscribe(`/team-${a.payload.team.id}`))}),fallbackError:"An error occurred while leaving this team.",store:e,next:t,action:a})}return e.dispatch(n.team.resourceDelete({folderIds:c,fileKeys:p})),t(a)}if(n.team.submitNewTeam.matches(a)){const r=e.getState().currentOrgId,s={team_name:a.payload.teamName};let d;return r&&(s.org_id=r,s.org_access=a.payload.orgAccess),i.default.post("/api/teams/create",s).then(({data:t})=>(d=t.meta,e.dispatch(n.team.post({team:d})),m.trackEventForTeam("Team Created",d.id,e.getState()),i.default.get(`/api/roles/team/${d.id}`))).then(({data:t})=>{let a=t.meta;for(let r of a)e.dispatch(c.role.post({role:r,userInitiated:!1}));e.getState().currentOrgId?(e.dispatch(n.team.setLoading({loading:!1})),e.dispatch(o.fileBrowser.selectView({view:"team",teamId:d.id})),e.dispatch(l.flash.flash("You have created a new team."))):(e.dispatch(n.team.setLoading({loading:!1})),e.dispatch(o.fileBrowser.selectView({view:"addCollaborators",teamId:d.id})))}).catch(t=>{console.log("ERR",t);let a="An error occurred while creating this team.";try{a=JSON.parse(t.response).message}catch(r){}e.dispatch(l.flash.error(a)),e.dispatch(n.team.setLoading({loading:!1}))}),t(a)}if(n.team.rename.matches(a)){const s=a.payload.team.id;return m.trackEventForTeam("Team Renamed",s,e.getState()),r.optimisticRequest({requestPromise:i.default.put(`/api/teams/${s}`,{name:a.payload.name}),fallbackError:"An error occurred while renaming this team.",store:e,next:t,action:a})}if(n.team.changeOrgAccess.matches(a)){const s=a.payload.team.id;return m.trackEventForTeam("Team Org Access Changed",s,e.getState()),r.optimisticRequest({requestPromise:i.default.put(`/api/teams/${s}`,{org_access:a.payload.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:t,action:a})}if(s.avatar.editorUploaded.matches(a)){if(a.payload.entityType!==p.EntityType.TEAM)return t(a);const r=a.payload.entity.id;return i.default.put(`/api/teams/${r}`,{img_url:a.payload.smallUrl,img_url_500_500:a.payload.largeUrl}).then(function(t){let a=JSON.parse(t.response).meta;e.dispatch(n.team.put({team:a,userInitiated:!1})),e.dispatch(s.avatar.editorReset())},t=>{e.dispatch(l.flash.error("An error occurred while setting the team icon.")),console.error("An error occurred while setting the team icon.",t),e.dispatch(s.avatar.editorReset())}),t(a)}if(n.team.onJoin.matches(a)){u.segmentTrackEvent("file-browser-hydrate",{location:"team.onJoin"});const t=f.getJoiningOrgTeamLoadingKey(a.payload.teamId);h.getUserStateRequest().then(r=>{const i=a.payload.teamId,{selectedView:s}=e.getState(),d=!("org"!==s.view||!s.orgId||!s.shouldRedirectAfterJoiningTeam);e.dispatch(o.fileBrowser.hydrate(r.data.meta)),d&&e.dispatch(o.fileBrowser.selectViewByTeamId(i)),e.dispatch(l.flash.flash(`You are now a member of '${e.getState().teams[i].name}'`)),e.dispatch(g.loadingStateActions.putSuccess({key:t}))}).catch(()=>{e.dispatch(g.loadingStateActions.putFailure({key:t}))})}else n.team.get.matches(a)&&i.default.get(`/api/teams/${a.payload.teamId}`).then(({data:t})=>{e.dispatch(n.team.put({team:t.meta,userInitiated:!1}))});return t(a)})),t.default=t.apiTeam}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(332                         );r.isUserAccountSettingsView=(e=>"user"===e.view&&e.userViewTab===n.UserViewTab.SETTINGS),r.isOrgIdentifier=((e,r)=>{const{currentOrgId:t,orgById:n}=r;if(!t)return!1;if(e===t)return!0;const i=n[t];return!(!i||!n)&&i.handle===e}),r.getOrgIdentifier=(e=>{const{currentOrgId:r,orgById:t}=e;if(!r)return null;let n=t[r];return n&&n.handle||r}),r.getOrgPathPart=(e=>{const t=r.getOrgIdentifier(e);return t?`/${t}`:""})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(104                     ),s=r(124     ),o=r(248                               ),i=r(94                                   ),n=r(479                                  ),c=r(106                                     ),d=r(241                                        ),u=r(240                             ),p=r(136                            ),l=r(242                                 ),h=r(484               ),f=r(485                       ),m=r(647                                   ),w=r(249                             ),g=r(651                          );t.default=(e=>t=>(function(r){function _(t,r){try{let s=JSON.parse(t);"bad_token"===s.reason?(e.dispatch(u.user.eraseSecrets()),e.dispatch(d.twoFactorAuth.error("It's been too long since you typed your password, please re-enter."))):e.dispatch(d.twoFactorAuth.error(s.message))}catch(a){e.dispatch(d.twoFactorAuth.error(r))}}if(c.fileBrowser.selectView.matches(r))return g.isUserAccountSettingsView(r.payload)&&e.dispatch(m.emailSettingsActions.get()),t(r);if(u.user.put.matches(r))return r.payload.userInitiated?a.optimisticRequest({requestPromise:s.default.put("/api/user",r.payload.user),fallbackError:"An error occurred while updating your information",store:e,next:t,action:r}):t(r);if(n.userFlags.put.matches(r)){const o=s.default.post(`/api/user/flag/${r.payload.name}`);return a.optimisticRequest({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(n.userFlags.post.matches(r)){const o=s.default.post("/api/user/flags",r.payload);return a.optimisticRequest({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(n.userFlags.resetOnboarding.matches(r)){const o=s.default.post("/api/user/reset_onboarding");return a.optimisticRequest({requestPromise:o,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(u.user.changePassword.matches(r))return r.payload.passwordNew!==r.payload.passwordRetype?e.dispatch(i.flash.error("Please retype your new password. They don't match.")):s.default.post("/api/password/change",{password_old:r.payload.passwordOld,password_new:r.payload.passwordNew}).then(()=>{e.dispatch(c.fileBrowser.hideModal()),e.dispatch(i.flash.flash("Password changed!"))}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(i.flash.error(t.message))}catch(r){e.dispatch(i.flash.error(r))}}),t(r);if(u.user.changeEmail.matches(r)){const o=document.getElementById(r.payload.formId),n=h.getFormData(o),d=f.authHelpers.validateSignInForm(n);if(d.message)return e.dispatch(i.flash.error(d.message));const u=s.default.put("/api/user",n);return u.then(({data:t})=>{const r=e.getState();r.modalShown&&r.modalShown.type===p.CHANGE_EMAIL_MODAL&&e.dispatch(c.fileBrowser.hideModal()),e.dispatch(i.flash.flash(`We sent a verification email to ${n.email}. Please check it to verify your new email.`))}),a.optimisticRequest({requestPromise:u,fallbackError:"An error occurred while updating your information",store:e,next:t,action:r})}if(c.fileBrowser.hideModal.matches(r))return e.dispatch(u.user.eraseSecrets()),t(r);if(u.user.verifyPassword.matches(r)){const a=document.getElementById(r.payload.passwordForm);let o="";for(let e=0;e<a.elements.length;e++){const t=a.elements.item(e);if("password"===t.name){o=t.value;break}}return s.default.post("/api/session/verify_password",{password:o}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}));let r=e.getState();if(r.modalShown)switch(r.modalShown.type){case p.TWO_FACTOR_RECOVERY_MODAL:e.dispatch(u.user.getBackupCodes({token:t.meta.password_token}))}}).catch(({response:e})=>{_(e,"An error occurred while verifying your password.")}),t(r)}if(u.user.invalidateSessions.matches(r))return s.default.post("/api/session/invalidate").then(()=>{e.dispatch(i.flash.flash("All other devices have been logged out."))}).catch(({response:e})=>{_(e,"An error occurred while trying to logout other devices.")}),t(r);if(u.user.changePhone.matches(r)){let t=e.getState().user.password_token;s.default.post("/api/user/phone_number",{password_verify_token:t,phone_number:r.payload.phone}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{_(e,"An error occurred while verifying your phone number")})}else if(u.user.deletePhone.matches(r)){let t=e.getState().user.password_token;s.default.del("/api/user/phone_number",{password_verify_token:t}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:t})=>{e.dispatch(c.fileBrowser.showModal({type:p.SETUP_PHONE_MODAL})),_(t,"An error occurred while deleting your phone number")})}else if(u.user.confirmPhone.matches(r)){let t=e.getState().user;s.default.post("/api/user/phone_number/confirm",{phone_token:t.phone_token,code:r.payload.code}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{_(e,"An error occurred while verifying your phone number")})}else{if(u.user.getBackupCodes.matches(r))return s.default.get("/api/user/backup_codes",{password_verify_token:r.payload.token}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{_(e,"An error occurred while trying to retrieve two-factor recovery codes.")}),t(r);if(u.user.resetBackupCodes.matches(r)){let a=e.getState().user.password_token;return s.default.post("/api/user/backup_codes",{password_verify_token:a}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{_(e,"An error occurred while trying to reset two-factor recovery codes.")}),t(r)}if(u.user.disableTwoFactor.matches(r))return s.default.del("/api/user/totp",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(c.fileBrowser.hideModal()),e.dispatch(u.user.toggleTwoFactor({enabled:!1}))}).catch(({response:t})=>{e.dispatch(c.fileBrowser.showModal({type:p.DISABLE_TWO_FACTOR_MODAL})),_(t,"An error occurred while trying to disable two-factor auth.")}),t(r);if(u.user.setupTwoFactor.matches(r))return s.default.post("/api/user/totp",{password_verify_token:r.payload.token}).then(({data:t})=>{l.storeSecret(t.meta.two_factor_secret),e.dispatch(u.user.put({user:{id:t.meta.id,two_factor_secret_loaded:!!t.meta.two_factor_secret},userInitiated:!1}))}).catch(({response:e})=>{_(e,"An error occurred while trying to set up two-factor auth.")}),t(r);if(u.user.verifyOTP.matches(r)){let a=l.getSecret().token;return s.default.post("/api/user/totp/confirm",{totp_code:r.payload.otp,two_factor_token:a}).then(({data:t})=>{e.dispatch(u.user.put({user:t.meta,userInitiated:!1})),e.dispatch(u.user.toggleTwoFactor({enabled:!0}))}).catch(({response:e})=>{_(e,"An error occurred while trying to verify the authentication code, please try again.")}),t(r)}if(u.user.forgotPassword.matches(r)){let a=i.flash.flash("One moment...");return e.dispatch(a),s.default.post("/api/password/forgot",{username:e.getState().user.email}).then(()=>{e.dispatch(i.flash.remove(a.payload.id)),e.dispatch(i.flash.flash(`We sent an email to ${e.getState().user.email} with instructions to reset your password!`))}).catch(()=>{e.dispatch(i.flash.remove(a.payload.id)),e.dispatch(i.flash.error("An error occurred while resetting your password."))}),t(r)}if(u.user.sendValidationEmail.matches(r))return s.default.post("/api/validation/email/send").then(()=>{let t=`We sent a confirmation email to ${e.getState().user.email}!`;e.dispatch(i.flash.flash(t))}).catch(()=>{e.dispatch(i.flash.error("An error occurred while sending the confirmation email."))}),t(r);if(o.avatar.editorUploaded.matches(r))return r.payload.entityType!==w.EntityType.CURRENT_USER?t(r):(s.default.put("/api/user",{img_url:r.payload.smallUrl,img_url_500_500:r.payload.largeUrl}).then(function(t){let r=JSON.parse(t.response).meta;e.dispatch(u.user.put({user:r,userInitiated:!1})),e.dispatch(o.avatar.editorReset())},t=>{e.dispatch(i.flash.error("An error occurred while setting your profile photo.")),console.error("An error occurred while setting your profile photo.",t),e.dispatch(o.avatar.editorReset())}),t(r));if(u.user.deleteUserAccount.matches(r))return e.dispatch(u.user.deleteUserLoading({loading:!0})),s.default.del("/api/user",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(c.fileBrowser.hideModal()),e.dispatch(i.flash.flash("Account deleted! Redirecting...")),setTimeout(()=>{document.location.href="/logout"},3e3)}).catch(({response:t})=>{e.dispatch(c.fileBrowser.hideModal()),e.dispatch(u.user.deleteUserLoading({loading:!1})),"User does not have verified email"===(t=JSON.parse(t)).message?e.dispatch(i.flash.error("You must verify your email first.")):"User is part of an organization"===t.message?e.dispatch(i.flash.error("You cannot delete your account because you are part of an organization. Please contact support.")):e.dispatch(i.flash.error("An error occurred while attempting to delete your account."))}),t(r)}return t(r)}))}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=a(146                                          ),t=a(138                                   ),u=a(479                                  ),o=a(106                                     );s.userFlagsMiddleware=(e=>s=>(function(a){if(t.fullscreen.open.matches(a)||o.fileBrowser.hydrate.matches(a))return r.fullscreen.onReady().then(()=>{r.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!e.getState().userFlags.use_numbers_for_opacity})}),s(a);if(t.fullscreen.updateMirror.matches(a)){if(a.payload.appModelChanges&&null!=a.payload.appModelChanges.useNumbersForOpacity&&r.fullscreen.isReady()){!!e.getState().userFlags.use_numbers_for_opacity!==a.payload.appModelChanges.useNumbersForOpacity&&e.dispatch(u.userFlags.post({flags:{use_numbers_for_opacity:a.payload.appModelChanges.useNumbersForOpacity}}))}return s(a)}if(!u.userFlags.receiveDelete.matches(a)&&!u.userFlags.receiveUpdate.matches(a))return s(a);{const t=e.getState().userFlags;s(a);const u=e.getState().userFlags;!!u.use_numbers_for_opacity!=!!t.use_numbers_for_opacity&&r.fullscreen.onReady().then(()=>{r.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!u.use_numbers_for_opacity})})}}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(126          ),l=a(138                                   ),o=a(438                                 ),n=a(106                                     ),s=a(163                               ),r=a(136                            ),p=a(163                               ),d=a(192                            ),c=a(437                        );function u(e,t){return void 0!==e.urlNodeId?null!=e.urlNodeId&&""!==e.urlNodeId?e.urlNodeId:null:null!=t.urlNodeId?t.urlNodeId:null}function f(e,t,a){let f=e.getState();if(void 0!==t.urlNodeId){let i=f.selectedView;const l=u(t,a.mirror.appModel);if(l!==i.nodeId){let t=Object.assign({},i);l&&(t.nodeId=l),e.dispatch(n.fileBrowser.selectView(t))}}if(void 0!==t.currentPage&&e.dispatch(o.comments.deactivateActiveComment()),void 0!==t.multiplayerSessionState){!function(e,t,a){a===s.MultiplayerSessionState.SHOULD_UPGRADE?(i.segment.track("Upgrade Banner Shown"),e.dispatch(l.fullscreen.showUpgradeBanner())):a===s.MultiplayerSessionState.JOINED&&e.dispatch(l.fullscreen.hideUpgradeBanner());a===s.MultiplayerSessionState.WAITING_FOR_RELOAD||a===s.MultiplayerSessionState.UPGRADING?e.dispatch(n.fileBrowser.showModal({type:r.UPGRADING_MODAL,data:{upgradingState:a}})):t!==s.MultiplayerSessionState.WAITING_FOR_RELOAD&&t!==s.MultiplayerSessionState.UPGRADING||e.dispatch(n.fileBrowser.hideSpecificModal({type:r.UPGRADING_MODAL}))}(e,a.mirror.appModel.multiplayerSessionState,t.multiplayerSessionState)}if(void 0===t.publishableComponents&&void 0===t.styles||d.computeLocal(e),t.currentTool!==p.Tool.COMMENTS&&void 0!==t.currentTool){e.dispatch(o.comments.deactivateActiveComment());const t=e.getState().pickerShown;t&&t.id===c.COMMENT_PREFERENCE_ID&&e.dispatch(l.fullscreen.hidePicker())}}t.getNodeIdForSelectedView=u,t.handleAppModelUpdate=f;t.default=(e=>t=>(function(a){if(l.fullscreen.updateMirror.matches(a)&&a.payload.appModelChanges){const i=e.getState();let l=t(a);return f(e,a.payload.appModelChanges,i),l}return t(a)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(521           ),a=i(85                   ),l=i(126          ),r=i(430                                 ),o=i(407                             ),n=i(288                                          ),c=i(274                                          ),d=i(399                                      ),p=i(438                                 ),_=i(280                                                 ),u=i(280                                                 ),f=i(479                                  ),m=i(240                             ),h=i(134                             ),g=i(296                                 ),b=i(131                                        ),y=i(137                             ),k=i(188                             ),w=i(133                               ),I=i(107                             ),F=i(106                                     ),S=i(231                                              ),T=i(379                                                     ),O=i(475                                                     ),P=i(476                                                       ),v=i(378                                               ),R=i(333                                                    ),C=i(330                          ),K=i(124     ),U=i(647                                   ),B=i(140                               ),A=i(111                        ),E=i(87                      ),L=i(147                       ),j=i(374                            ),M=i(219                       ),V=i(217       ),D=i(146                                          ),q=i(128            ),H=i(213                          ),N=i(231                                              ),W=i(380                                                  ),$=i(210                        );function z(e,t){let i;return i=t.parent_org_id&&A.canGuestOrg(t.parent_org_id,e.getState())?t.parent_org_id:null,!(t.email_lists||t.user||t.user_flag||t.user_notification||t.bell||t.org_user||t.active_file_users||H.isCommunityHubRealtimeMessage(t))&&function(e,t){return e.getState().currentOrgId!==t}(e,i)}function x(e,t){var i,s;const{editingFileKey:r,fileByKey:C}=e.getState(),K=C&&r&&C[r];if("client_reload"===t.type)a.default().user_data&&t.target_user_id&&t.target_user_id===a.default().user_data.id?t.client_id&&l.segment&&l.segment.anonymousId&&t.client_id===l.segment.anonymousId||e.dispatch(F.fileBrowser.reloadWhenConvenient({now:!0})):t.target_version&&t.target_version!==a.default().release_manifest_hash&&e.dispatch(F.fileBrowser.reloadWhenConvenient({}));else if("token_expired"===t.type)M.getUserStateRequest().then(t=>{e.dispatch(F.fileBrowser.hydrate(t.data.meta))});else if("verify_user_state"===t.type){const i=e.getState();if(!i.user)return;let s,a=0;for(const e in i.orgUsersByOrgId.orgUsers)i.orgUsersByOrgId.orgUsers[e][i.user.id]&&a++;const r=t.org_user_count&&t.org_user_count!=a;if(null==t.org_user_updated)s=!1;else{s=!0;const e=new Date(t.org_user_updated);for(const t in i.orgUsersByOrgId.orgUsers){const a=i.orgUsersByOrgId.orgUsers[t][i.user.id];if(a&&new Date(a.user_state_changed_at||0)>=e){s=!1;break}}}(r||s)&&(console.warn("Local state out of date. Rehydrating"),l.segmentTrackEvent("file-browser-hydrate",{location:"orgUserOutOfDate"}),M.getUserStateRequest().then(t=>{e.dispatch(F.fileBrowser.hydrate(t.data.meta))}))}if(!z(e,t))if(t.role)switch(t.method){case"put":{const i=t.role,s=e.getState(),a=s.user&&s.user.id,r=!!a&&i.user_id===a,o=A.canViewResource(i.resource_type,i.resource_id_or_key,s);if(a&&!o&&r)l.segmentTrackEvent("file-browser-hydrate",{location:"role-put"}),M.getUserStateRequest().then(t=>{e.dispatch(F.fileBrowser.hydrate(t.data.meta))});else if(e.dispatch(I.role.put({role:i})),t.role_data){let i=e.getState();t.role_data.folder&&!i.folders[t.role_data.folder.id]&&e.dispatch(w.folder.post(t.role_data.folder)),t.role_data.file&&!i.fileByKey[t.role_data.file.key]&&e.dispatch(k.file.post({file:t.role_data.file}))}break}case"post":{const i=t.role;e.dispatch(I.role.post({role:t.role}));const s=e.getState().user;if(t.role_data&&s&&s.id===i.user_id){let i=e.getState();if(t.role_data.team&&!i.teams[t.role_data.team.id]&&(e.dispatch(y.team.post({team:t.role_data.team})),e.dispatch(b.library.getLibraryState({}))),t.role_data.folder&&!i.folders[t.role_data.folder.id]){const i=t.role_data.folder;i.org_id&&!i.team_id&&""!==i.path||e.dispatch(w.folder.post(t.role_data.folder))}t.role_data.file&&e.dispatch(k.file.post({file:t.role_data.file}))}break}case"delete":e.dispatch(I.role.del({role:t.role}))}else if(t.folder)switch(t.method){case"put":const i=t.folder,s=e.getState(),a=s.folders[i.id];if(a&&(e.dispatch(w.folder.put({folder:i})),a.team_id!==i.team_id)){const t=s.fileKeysByFolderId[a.id]||[];for(let i of t)e.dispatch(b.library.deleteComponentsForFile({fileKey:i})),e.dispatch(k.file.deleteActiveUsers({fileKey:i}))}break;case"post":t.folder.id in e.getState().folders?e.dispatch(w.folder.put({folder:t.folder})):e.dispatch(w.folder.post(t.folder));break;case"delete":e.dispatch(w.folder.del({folderId:t.folder.id}))}else if(t.file){const i=t.file;switch(t.method){case"put":const s=e.getState().fileByKey[i.key];if(i.trashed_at){e.dispatch(k.file.deleteFiles({fileKeys:{[i.key]:i}}));break}if(e.dispatch(k.file.put({file:i})),s){if(s.team_id!==i.team_id)e.dispatch(b.library.deleteComponentsForFile({fileKey:i.key})),e.dispatch(k.file.deleteActiveUsers({fileKey:i.key}));else if(s.folder_id!==i.folder_id){e.dispatch(k.file.deleteActiveUsers({fileKey:i.key}));const t=e.getState();A.canViewFile(i.key,t)||e.dispatch(b.library.deleteComponentsForFile({fileKey:i.key}))}}else i.folder_id&&e.dispatch(b.library.updateComponentsForResource({resourceType:E.ResourceType.FOLDER,resourceIdOrKey:i.folder_id}));break;case"post":e.dispatch(k.file.post({file:t.file}));break;case"delete":e.dispatch(k.file.deleteFilesForever({fileKeys:{[t.file.key]:!0}}))}}else if(t.org_user){const a=e.getState(),l=a.currentOrgId,r=t.org_user,o=a.currentOrgId?a.orgUsersByOrgId.orgUsers[a.currentOrgId][r.user_id]:null;if("delete"===t.method&&r.org_id===l&&r.user_id===(null===(i=a.user)||void 0===i?void 0:i.id)){let t=null;if(a.hasPersonalSpace)t=null;else{const e=Object.keys(a.orgById);for(let i of e)if(i!==l){t=i;break}}e.dispatch(h.orgs.switchActiveOrgAndSetCurrentOrgId({orgId:t}))}else"delete"===t.method?e.dispatch(g.orgUser.batchDel({params:{org_user_ids:[r.id]},orgId:r.org_id,userInitiated:!1})):("put"!==t.method||r.org_id!==l||r.user_id!==(null===(s=a.user)||void 0===s?void 0:s.id)||o&&o.permission===r.permission&&o.account_type===r.account_type)&&("put"===t.method||"post"===t.method)?e.dispatch(g.orgUser.put({orgUser:r,userInitiated:!1})):e.dispatch(h.orgs.switchActiveOrgAndSetCurrentOrgId({orgId:l}))}else if(t.recent_file)switch(t.method){case"post":e.dispatch(k.file.recentFilePost({file:t.recent_file}));break;case"put":e.dispatch(k.file.recentFilePut({file:t.recent_file}));break;case"delete":e.dispatch(k.file.recentFilesDelete({files:[t.recent_file]}))}else if(t.user)switch(t.method){case"put":e.dispatch(m.user.put({user:t.user,userInitiated:!1}))}else if(t.public_user_profile)switch(t.method){case"put":{const i=t.public_user_profile;e.dispatch(R.putPublicProfile(Object.assign({type:$.ProfileType.USER},i)));break}}else if(t.public_org_profile)switch(t.method){case"put":{const i=t.public_org_profile;e.dispatch(R.putPublicProfile(Object.assign({type:$.ProfileType.ORG},i)));break}}else if(t.public_team_profile)switch(t.method){case"put":{const i=t.public_team_profile;e.dispatch(R.putPublicProfile(Object.assign({type:$.ProfileType.TEAM},i)))}}else if(t.team)switch(t.method){case"post":e.dispatch(y.team.post({team:t.team}));break;case"put":t.team.deleted_at?e.dispatch(y.team.del({team:t.team,userInitiated:!1})):e.dispatch(y.team.put({team:t.team,userInitiated:!1}));break;case"delete":e.dispatch(y.team.del({team:t.team,userInitiated:!1}))}else if(t.org)switch(t.method){case"put":{const{currentOrgId:i,orgById:s}=e.getState();s[i]&&e.dispatch(h.orgs.put({org:Object.assign(Object.assign({},s[i]),{plugins_whitelist_enforced:t.org.plugins_whitelist_enforced,public_plugins_allowed:t.org.public_plugins_allowed})}));break}}else if(t.user_flag)switch(t.method){case"post":case"put":e.dispatch(f.userFlags.receiveUpdate({name:t.user_flag.name,created_at:t.user_flag.created_at}));break;case"delete":e.dispatch(f.userFlags.receiveDelete({name:t.user_flag.name}))}else if(t.email_lists)switch(t.method){case"put":let i=Object.assign({announcements:!1,important:!1,every_follower:!1,daily_follower:!1,weekly_follower:!1},t.email_lists);e.dispatch(U.emailSettingsActions.put(i))}else if(t.file_browser_preferences)e.dispatch(u.fileBrowserPreferences.put({prefs:t.file_browser_preferences,userInitiated:!1}));else if(t.file_browser_section_preferences)e.dispatch(_.fileBrowserSectionPreferences.put({prefs:t.file_browser_section_preferences,userInitiated:!1}));else if(t.file_comment&&!q.livegraphComments){if(e.getState().editingFileKey===t.file_comment.key)switch(t.method){case"post":e.dispatch(p.comments.post({comment:t.file_comment,userInitiated:!1}));break;case"put":t.file_comment.deleted_at?e.dispatch(p.comments.del({comment:t.file_comment})):e.dispatch(p.comments.put({comment:t.file_comment}));break;case"delete":e.dispatch(p.comments.del({comment:t.file_comment}))}}else if(t.unread_file_comment&&!q.livegraphComments){if(e.getState().editingFileKey){let i=t.unread_file_comment;switch(t.method){case"post":e.dispatch(p.comments.postUnread({fileKey:i.file_key,commentId:i.comment_id}));break;case"delete":e.dispatch(p.comments.deleteUnread({fileKey:i.file_key,commentId:i.comment_id}))}}}else if(t.file_follower){if(e.getState().editingFileKey===t.file_follower.key)switch(t.method){case"post":e.dispatch(d.fileFollower.post({fileFollower:t.file_follower,userInitiated:!1}));break;case"delete":e.dispatch(d.fileFollower.del({fileFollower:t.file_follower,userInitiated:!1}))}}else if(t.component||t.style){const i=t.component||t.style,s=t.component?L.LibraryItemType.COMPONENT:L.LibraryItemType.STYLE,a=e.getState();if(0===i.length)return;const l=a.fileByKey[i[0].file_key];if(l)switch(t.method){case"delete":e.dispatch(b.library.del({nodeIds:i.map(e=>e.node_id),file:l,type:s}));break;case"post":case"put":{const t={};for(const e of i)t[e.node_id]=e;e.dispatch(b.library.put({itemsById:t,file:l,type:s}));break}}}else if(t.library_user_subscription)switch(t.method){case"post":case"put":{const{library_user_subscription:i}=t;K&&i.is_subscribed&&N.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postUserSubscription({libraryUserSubscription:i,userInitiated:!1}));break}}else if(t.library_file_subscription)switch(t.method){case"post":case"put":{const{library_file_subscription:i}=t;r===i.file_key&&i.is_subscribed&&N.getPublishedComponentsForFile(e,i.library_file_key),e.dispatch(S.postFileSubscription({libraryFileSubscription:i,userInitiated:!1}));break}}else if(t.library_team_subscription)switch(t.method){case"post":case"put":{const{library_team_subscription:i}=t;K&&K.team_id===i.team_id&&i.is_subscribed&&N.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postTeamSubscription({libraryTeamSubscription:i,userInitiated:!1}));break}}else if(t.library_org_subscription)switch(t.method){case"post":case"put":if(t.library_org_subscription.org_id===e.getState().currentOrgId){const{library_org_subscription:i}=t;N.getPublishedComponentsForFile(e,i.file_key),e.dispatch(S.postOrgSubscription({libraryOrgSubscription:i,userInitiated:!1}))}break;case"delete":t.library_org_subscription.org_id===e.getState().currentOrgId&&e.dispatch(S.deleteOrgSubscription({libraryOrgSubscription:t.library_org_subscription,userInitiated:!1}))}else if(t.active_file_users)switch(t.method){case"put":{const i=t.active_file_users;j.dispatchSetActiveUsers(i,e);break}}else if(t.bell)switch(t.method){case"put":if(void 0!==t.bell.notification_space_id){let i={isBellStateHigh:t.bell.bell,userInitiated:!1,notificationSpaceId:t.bell.notification_space_id};e.dispatch(c.userNotifications.setBell(i))}}else if(t.team_role_request)switch(t.method){case"post":case"put":case"delete":e.dispatch(n.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:[t.team_role_request]}))}else if(t.font_file)switch(t.method){case"post":case"put":D.fullscreen.DEPRECATED_sendMessage("addToFontList",{list:[V.sharedFontMetadataToFontInfo(t.font_file)],version:null,localizedToUnlocalized:[]}),e.dispatch(o.sharedFonts.put({font:V.sharedFontMetadataToFontInfo(t.font_file)}));break;case"delete":e.dispatch(o.sharedFonts.del({font:V.sharedFontMetadataToFontInfo(t.font_file)}))}else if(t.plugin)switch(t.method){case"post":case"put":case"delete":const i=t.plugin;i&&i.id&&e.dispatch(T.mergePublishedAndValidate({publishedPlugins:[i],src:"realtime"}))}else if(t.plugin_install)switch(t.method){case"post":case"put":const i=t.plugin_install.plugin;i&&i.id&&e.dispatch(O.mergeInstalled({org:t.plugin_install.org_id?[i]:[],user:t.plugin_install.org_id?[]:[i]}));break;case"delete":e.dispatch(O.del({orgOrUser:t.plugin_install.org_id?"org":"user",pluginId:t.plugin_install.plugin.id}))}else if(t.whitelisted_plugin)switch(t.method){case"post":case"put":e.dispatch(P.putWhitelistedPlugin({pluginId:t.whitelisted_plugin.plugin_id}));break;case"delete":e.dispatch(P.delWhitelistedPlugin({pluginId:t.whitelisted_plugin.plugin_id}))}else if(t.hub_file){const i=t.hub_file;if(i&&i.id){const t=Object.assign({},i);delete t.file_key,e.dispatch(v.mergeAndValidate({hubFiles:[t],src:"realtime"})),i.file_key&&e.dispatch(v.putFigFilePublishedAsHubFile({hubFileId:t.id,fileKey:i.file_key}))}}else if(t.community_hub_like){const i=t.community_hub_like;switch(t.method){case"post":"hub_file_id"in i&&null!=i.hub_file_id?e.dispatch(v.putHubFileLike({[i.hub_file_id]:!0})):"plugin_id"in i&&null!=i.plugin_id&&e.dispatch(W.putPluginLike({[i.plugin_id]:!0}));break;case"delete":"hub_file_id"in i&&null!=i.hub_file_id?e.dispatch(v.delHubFileLike({hubFileId:i.hub_file_id})):"plugin_id"in i&&null!=i.plugin_id&&e.dispatch(W.delPluginLike({pluginId:i.plugin_id}))}}else if(t.pinned_file)switch(t.method){case"post":e.dispatch(w.folder.postPinnedFile({folderId:t.pinned_file.folder_id,fileKey:t.pinned_file.key}));break;case"delete":e.dispatch(w.folder.delPinnedFile({folderId:t.pinned_file.folder_id,fileKey:t.pinned_file.key}))}}function G(e){let t=e.getState(),i=t.user,a=[],l=e=>{const t=s.parseRealtimeToken(e);a.push(t)},o=t.roles;for(const s of t.recentFiles)A.canViewFile(s.key,t)&&s.realtime_token&&l(s.realtime_token);const n=i&&i.id;for(let s in o.byFileKey)if(n&&n in o.byFileKey[s]){let e=t.fileByKey[s];if(e&&e.team_id&&!A.canViewTeam(e.team_id,t)){const i=t.teams[e.team_id];i&&i.realtime_token&&l(i.realtime_token)}}for(let s in o.byFolderId){const e=n&&o.byFolderId[s][n];e&&e.realtime_token&&l(e.realtime_token);const i=t.folders[s];if(i&&i.team_id&&!A.canViewTeam(i.team_id,t)){const e=t.teams[i.team_id];e&&e.realtime_token&&l(e.realtime_token)}}for(let s in o.byTeamId){const e=n&&o.byTeamId[s][n];e&&e.realtime_token&&l(e.realtime_token)}const c=t.orgById[t.currentOrgId];c&&c.realtime_token&&l(c.realtime_token),e.dispatch(r.realtime.batchSubscribe(a))}t.shouldSuppressFayeMessage=z,t.handleFayeMessage=x,t.subscribeToChannel=((e,t)=>{e.dispatch(r.realtime.subscribe(t))});const J=(e,i)=>{const a=e.getState(),l=i.realtime_token;if(null==l)return;const r=s.parseRealtimeToken(l);if(!a.realtime.subscriptions[r.channel])switch(i.resource_type){case E.ResourceType.FILE:{const s=a.fileByKey[i.resource_id_or_key];if(s&&s.folder_id){const e=s.folder_id;if(a.realtime.subscriptions[`/folder-${e}`])return}s&&s.team_id&&!A.canViewTeam(s.team_id,a)&&t.subscribeToChannel(e,r);break}case E.ResourceType.FOLDER:{t.subscribeToChannel(e,r);const l=a.folders[i.resource_id_or_key];if(l&&l.team_id&&!A.canViewTeam(l.team_id,a)){const i=a.teams[l.team_id];i&&i.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(i.realtime_token))}break}case E.ResourceType.TEAM:t.subscribeToChannel(e,r)}};t.realtime=(e=>i=>(function(a){let l=i(a),o=t=>{x(e,t)};if(F.fileBrowser.hydrate.matches(a))return s.realtimeClient.setCallback(o),a.payload.user_realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(a.payload.user_realtime_token)),void G(e);if(O.initializeInstalledPlugins.matches(a))Object.keys(e.getState().realtime.subscriptions).filter(e=>/^\/plugins-/.test(e)).forEach(t=>{e.dispatch(r.realtime.unsubscribe(t))});else if(O.put.matches(a)){const t=C.getValidPublishedPluginsFromInstalledPlugins(Object.assign(Object.assign({},a.payload.user),a.payload.org),e.getState().publishedPlugins).map(e=>s.parseRealtimeToken(e.realtime_token));e.dispatch(r.realtime.batchSubscribe(t))}else if(O.del.matches(a))e.dispatch(r.realtime.unsubscribe(`/plugins-${a.payload.pluginId}`));else if(T.delAll.matches(a))for(const t of a.payload)t&&t.realtime_token&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t.realtime_token).channel));else if(v.delAll.matches(a))for(const t of a.payload)t&&t.realtime_token&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t.realtime_token).channel));else{if(F.fileBrowser.selectView.matches(a)){if("fullscreen"===a.payload.view||"prototype"===a.payload.view){const i=B.editingFileKey(a.payload);i&&!e.getState().realtime.subscriptions[`/file-${i}`]&&K.default.get(`/api/files/${i}/realtime_token`).then(i=>{const a=JSON.parse(i.response);a&&a.meta&&a.meta.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(a.meta.realtime_token))})}return}if(I.role.batchPut.matches(a)){const t=e.getState().user;for(let i of a.payload.roles)null!=t&&i.user_id===t.id&&J(e,i)}else if(I.role.put.matches(a)||I.role.post.matches(a)){const t=e.getState().user,i=a.payload.role;null!=t&&i.user_id===t.id&&J(e,i)}else if(I.role.del.matches(a)){let t=e.getState().user,i=a.payload.role;if(t&&i.user_id===t.id){if(i.resource_type===E.ResourceType.FILE&&e.getState().editingFileKey===i.resource_id_or_key)return l;const t=i.realtime_token;t&&e.dispatch(r.realtime.unsubscribe(s.parseRealtimeToken(t).channel)),G(e)}}else if(r.realtime.batchSubscribe.matches(a)){const e=a.payload;for(const t of e)s.realtimeClient.subscribe(t)}else if(r.realtime.unsubscribe.matches(a)){const e=a.payload;s.realtimeClient.unsubscribe(e)}else r.realtime.reset.matches(a)&&s.resetRealtimeConnection()}return l}))}),
(function(e,t,r){
/*
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e){"use strict";var t,r="File format is not recognized.",n="CRC failed.",i="File contains encrypted entry.",o="File is using Zip64 (4gb+ file size).",a="Error while reading zip file.",c="Error while writing zip file.",s="Error while writing file data.",f="Error while reading file data.",u="File already exists.",l=524288,p="text/plain";try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(P){}function w(){this.crc=-1}function h(){}function v(e,t){var r,n;return r=new ArrayBuffer(e),n=new Uint8Array(r),t&&n.set(t,0),{buffer:r,array:n,view:new DataView(r)}}function d(){}function g(e){var t,r=this;r.size=0,r.init=function(n,i){var o=new Blob([e],{type:p});(t=new m(o)).init(function(){r.size=t.size,n()},i)},r.readUint8Array=function(e,r,n,i){t.readUint8Array(e,r,n,i)}}function y(t){var r,n=this;n.size=0,n.init=function(e){for(var i=t.length;"="==t.charAt(i-1);)i--;r=t.indexOf(",")+1,n.size=Math.floor(.75*(i-r)),e()},n.readUint8Array=function(n,i,o){var a,c=v(i),s=4*Math.floor(n/3),f=4*Math.ceil((n+i)/3),u=e.atob(t.substring(s+r,f+r)),l=n-3*Math.floor(s/4);for(a=l;a<l+i;a++)c.array[a-l]=u.charCodeAt(a);o(c.array)}}function m(e){var t=this;t.size=0,t.init=function(r){t.size=e.size,r()},t.readUint8Array=function(t,r,n,i){var o=new FileReader;o.onload=function(e){n(new Uint8Array(e.target.result))},o.onerror=i;try{o.readAsArrayBuffer(function(e,t,r){if(t<0||r<0||t+r>e.size)throw new RangeError("offset:"+t+", length:"+r+", size:"+e.size);return e.slice?e.slice(t,t+r):e.webkitSlice?e.webkitSlice(t,t+r):e.mozSlice?e.mozSlice(t,t+r):e.msSlice?e.msSlice(t,t+r):void 0}(e,t,r))}catch(P){i(P)}}}function U(){}function z(e){var r;this.init=function(e){r=new Blob([],{type:p}),e()},this.writeUint8Array=function(e,n){r=new Blob([r,t?e:e.buffer],{type:p}),n()},this.getData=function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=n,i.readAsText(r,e)}}function b(t){var r="",n="";this.init=function(e){r+="data:"+(t||"")+";base64,",e()},this.writeUint8Array=function(t,i){var o,a=n.length,c=n;for(n="",o=0;o<3*Math.floor((a+t.length)/3)-a;o++)c+=String.fromCharCode(t[o]);for(;o<t.length;o++)n+=String.fromCharCode(t[o]);c.length>2?r+=e.btoa(c):n=c,i()},this.getData=function(t){t(r+e.btoa(n))}}function k(e){var r;this.init=function(t){r=new Blob([],{type:e}),t()},this.writeUint8Array=function(n,i){r=new Blob([r,t?n:n.buffer],{type:e}),i()},this.getData=function(e){e(r)}}function A(e,t,r,n,i,o,a,c,s,f){var u,p,w,h=0,v=t.sn;function d(){e.removeEventListener("message",g,!1),c(p,w)}function g(t){var r=t.data,i=r.data,c=r.error;if(c)return c.toString=function(){return"Error: "+this.message},void s(c);if(r.sn===v)switch("number"==typeof r.codecTime&&(e.codecTime+=r.codecTime),"number"==typeof r.crcTime&&(e.crcTime+=r.crcTime),r.type){case"append":i?(p+=i.length,n.writeUint8Array(i,function(){y()},f)):y();break;case"flush":w=r.crc,i?(p+=i.length,n.writeUint8Array(i,function(){d()},f)):d();break;case"progress":a&&a(u+r.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",r)}}function y(){(u=h*l)<=o?r.readUint8Array(i+u,Math.min(l,o-u),function(r){a&&a(u,o);var n=0===u?t:{sn:v};n.type="append",n.data=r;try{e.postMessage(n,[r.buffer])}catch(i){e.postMessage(n)}h++},s):e.postMessage({sn:v,type:"flush"})}p=0,e.addEventListener("message",g,!1),y()}function S(e,t,r,n,i,o,a,c,s,f){var u,p=0,h=0,v="input"===o,d="output"===o,g=new w;!function o(){var w;if((u=p*l)<i)t.readUint8Array(n+u,Math.min(l,i-u),function(t){var n;try{n=e.append(t,function(e){a&&a(u+e,i)})}catch(P){return void s(P)}n?(h+=n.length,r.writeUint8Array(n,function(){p++,setTimeout(o,1)},f),d&&g.append(n)):(p++,setTimeout(o,1)),v&&g.append(t),a&&a(u,i)},s);else{try{w=e.flush()}catch(P){return void s(P)}w?(d&&g.append(w),h+=w.length,r.writeUint8Array(w,function(){c(h,g.get())},f)):c(h,g.get())}}()}function _(t,r,n,i,o,a,c,s,f,u,l){e.zip.useWebWorkers&&c?A(t,{sn:r,codecClass:"NOOP",crcType:"input"},n,i,o,a,f,s,u,l):S(new h,n,i,o,a,"input",f,s,u,l)}function D(e){var t,r,n="",i=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)n+=(r=255&e.charCodeAt(t))>127?i[r-128]:String.fromCharCode(r);return n}function L(e){return decodeURIComponent(escape(e))}function M(e){var t,r="";for(t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function W(e,t,r,n,a){e.version=t.view.getUint16(r,!0),e.bitFlag=t.view.getUint16(r+2,!0),e.compressionMethod=t.view.getUint16(r+4,!0),e.lastModDateRaw=t.view.getUint32(r+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,r=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(P){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((n||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(r+10,!0),e.compressedSize=t.view.getUint32(r+14,!0),e.uncompressedSize=t.view.getUint32(r+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(r+22,!0),e.extraFieldLength=t.view.getUint16(r+24,!0)):a(o)):a(i)}function C(t,i,o){var c=0;function u(){}u.prototype.getData=function(i,a,u,l){var p=this;function w(e,t){l&&!function(e){var t=v(4);return t.view.setUint32(0,e),p.crc32==t.view.getUint32(0)}(t)?o(n):i.getData(function(e){a(e)})}function h(e){o(e||f)}function d(e){o(e||s)}t.readUint8Array(p.offset,30,function(n){var a,s=v(n.length,n);1347093252==s.view.getUint32(0)?(W(p,s,4,!1,o),a=p.offset+30+p.filenameLength+p.extraFieldLength,i.init(function(){0===p.compressionMethod?_(p._worker,c++,t,i,a,p.compressedSize,l,w,u,h,d):function(t,r,n,i,o,a,c,s,f,u,l){var p=c?"output":"none";e.zip.useWebWorkers?A(t,{sn:r,codecClass:"Inflater",crcType:p},n,i,o,a,f,s,u,l):S(new e.zip.Inflater,n,i,o,a,p,f,s,u,l)}(p._worker,c++,t,i,a,p.compressedSize,l,w,u,h,d)},d)):o(r)},h)};var l={getEntries:function(e){var n=this._worker;!function(e){var n=22;if(t.size<n)o(r);else{var i=n+65536;c(n,function(){c(Math.min(i,t.size),function(){o(r)})})}function c(r,i){t.readUint8Array(t.size-r,r,function(t){for(var r=t.length-n;r>=0;r--)if(80===t[r]&&75===t[r+1]&&5===t[r+2]&&6===t[r+3])return void e(new DataView(t.buffer,r,n));i()},function(){o(a)})}}(function(i){var c,s;c=i.getUint32(16,!0),s=i.getUint16(8,!0),c<0||c>=t.size?o(r):t.readUint8Array(c,t.size-c,function(t){var i,a,c,f,l=0,p=[],w=v(t.length,t);for(i=0;i<s;i++){if((a=new u)._worker=n,1347092738!=w.view.getUint32(l))return void o(r);W(a,w,l+6,!0,o),a.commentLength=w.view.getUint16(l+32,!0),a.directory=16==(16&w.view.getUint8(l+38)),a.offset=w.view.getUint32(l+42,!0),c=M(w.array.subarray(l+46,l+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?L(c):D(c),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),f=M(w.array.subarray(l+46+a.filenameLength+a.extraFieldLength,l+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?L(f):D(f),p.push(a),l+=46+a.filenameLength+a.extraFieldLength+a.commentLength}e(p)},function(){o(a)})})},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?x("inflater",function(e){l._worker=e,i(l)},function(e){o(e)}):i(l)}function E(e){return unescape(encodeURIComponent(e))}function F(e){var t,r=[];for(t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}function T(t,r,n,i){var o={},a=[],s=0,l=0;function p(e){n(e||c)}function w(e){n(e||f)}var h={add:function(r,c,f,h,d){var g,y,m,U=this._worker;function z(e,r){var n=v(16);s+=e||0,n.view.setUint32(0,1347094280),void 0!==r&&(g.view.setUint32(10,r,!0),n.view.setUint32(4,r,!0)),c&&(n.view.setUint32(8,e,!0),g.view.setUint32(14,e,!0),n.view.setUint32(12,c.size,!0),g.view.setUint32(18,c.size,!0)),t.writeUint8Array(n.array,function(){s+=16,f()},p)}function b(){var f,b;(d=d||{},r=r.trim(),d.directory&&"/"!=r.charAt(r.length-1)&&(r+="/"),o.hasOwnProperty(r))?n(u):(y=F(E(r)),a.push(r),f=function(){c?i||0===d.level?_(U,l++,c,t,0,c.size,!0,z,h,w,p):function(t,r,n,i,o,a,c,s,f){e.zip.useWebWorkers?A(t,{sn:r,options:{level:o},codecClass:"Deflater",crcType:"input"},n,i,0,n.size,c,a,s,f):S(new e.zip.Deflater,n,i,0,n.size,"input",c,a,s,f)}(U,l++,c,t,d.level,z,h,w,p):z()},m=d.lastModDate||new Date,g=v(26),o[r]={headerArray:g.array,directory:d.directory,filename:y,offset:s,comment:F(E(d.comment||""))},g.view.setUint32(0,335546376),d.version&&g.view.setUint8(0,d.version),i||0===d.level||d.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(m.getHours()<<6|m.getMinutes())<<5|m.getSeconds()/2,!0),g.view.setUint16(8,(m.getFullYear()-1980<<4|m.getMonth()+1)<<5|m.getDate(),!0),g.view.setUint16(22,y.length,!0),(b=v(30+y.length)).view.setUint32(0,1347093252),b.array.set(g.array,4),b.array.set(y,30),s+=b.array.length,t.writeUint8Array(b.array,f,p))}c?c.init(b,w):b()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var r,n,i,c=0,f=0;for(n=0;n<a.length;n++)c+=46+(i=o[a[n]]).filename.length+i.comment.length;for(r=v(c+22),n=0;n<a.length;n++)i=o[a[n]],r.view.setUint32(f,1347092738),r.view.setUint16(f+4,5120),r.array.set(i.headerArray,f+6),r.view.setUint16(f+32,i.comment.length,!0),i.directory&&r.view.setUint8(f+38,16),r.view.setUint32(f+42,i.offset,!0),r.array.set(i.filename,f+46),r.array.set(i.comment,f+46+i.filename.length),f+=46+i.filename.length+i.comment.length;r.view.setUint32(f,1347093766),r.view.setUint16(f+8,a.length,!0),r.view.setUint16(f+10,a.length,!0),r.view.setUint32(f+12,c,!0),r.view.setUint32(f+16,s,!0),t.writeUint8Array(r.array,function(){t.getData(e)},p)},_worker:null};e.zip.useWebWorkers?x("deflater",function(e){h._worker=e,r(h)},function(e){n(e)}):r(h)}w.prototype.append=function(e){for(var t=0|this.crc,r=this.table,n=0,i=0|e.length;n<i;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t},w.prototype.get=function(){return~this.crc},w.prototype.table=function(){var e,t,r,n=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)1&r?r=r>>>1^3988292384:r>>>=1;n[e]=r}return n}(),h.prototype.append=function(e,t){return e},h.prototype.flush=function(){},g.prototype=new d,g.prototype.constructor=g,y.prototype=new d,y.prototype.constructor=y,m.prototype=new d,m.prototype.constructor=m,U.prototype.getData=function(e){e(this.data)},z.prototype=new U,z.prototype.constructor=z,b.prototype=new U,b.prototype.constructor=b,k.prototype=new U,k.prototype.constructor=k;var R={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function x(t,r,n){if(null===e.zip.workerScripts||null===e.zip.workerScriptsPath){var i,o,a;if(e.zip.workerScripts){if(i=e.zip.workerScripts[t],!Array.isArray(i))return void n(new Error("zip.workerScripts."+t+" is not an array!"));o=i,a=document.createElement("a"),i=o.map(function(e){return a.href=e,a.href})}else(i=R[t].slice(0))[0]=(e.zip.workerScriptsPath||"")+i[0];var c=new Worker(i[0]);c.codecTime=c.crcTime=0,c.postMessage({type:"importScripts",scripts:i.slice(1)}),c.addEventListener("message",function e(t){var i=t.data;if(i.error)return c.terminate(),void n(i.error);"importScripts"===i.type&&(c.removeEventListener("message",e),c.removeEventListener("error",s),r(c))}),c.addEventListener("error",s)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function s(e){c.terminate(),n(e)}}function B(e){console.error(e)}e.zip={Reader:d,Writer:U,BlobReader:m,Data64URIReader:y,TextReader:g,BlobWriter:k,Data64URIWriter:b,TextWriter:z,createReader:function(e,t,r){r=r||B,e.init(function(){C(e,t,r)},r)},createWriter:function(e,t,r,n){r=r||B,n=!!n,e.init(function(){T(e,t,r,n)},r)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this)}),
(function(e,i,o){e.exports={dragTargetNormal:"file_import_view--dragTargetNormal--_qR9v",dragTargetDragging:"file_import_view--dragTargetDragging--MdzFb file_import_view--dragTargetNormal--_qR9v",fileRows:"file_import_view--fileRows--2xHuP overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",fileStatusIcon:"file_import_view--fileStatusIcon--35LoN",fileSpinnerIcon:"file_import_view--fileSpinnerIcon--A6ilk file_import_view--fileStatusIcon--35LoN",fileCheckIcon:"file_import_view--fileCheckIcon--13yb4 file_import_view--fileStatusIcon--35LoN",fileXIcon:"file_import_view--fileXIcon--AGLCK file_import_view--fileStatusIcon--35LoN",fileName:"file_import_view--fileName--3CDfj",fileWaitingName:"file_import_view--fileWaitingName--3idit file_import_view--fileName--3CDfj",fileResolvedName:"file_import_view--fileResolvedName--pYoiw file_import_view--fileName--3CDfj",fileImportRow:"file_import_view--fileImportRow--2EnV_",fileImportMessage:"file_import_view--fileImportMessage--1I9_K",footer:"file_import_view--footer--2QPcX",footerRed:"file_import_view--footerRed--2pCUe file_import_view--footer--2QPcX",footerGreen:"file_import_view--footerGreen--3RMzq file_import_view--footer--2QPcX",footerBlue:"file_import_view--footerBlue--1G7j1 file_import_view--footer--2QPcX",footerButton:"file_import_view--footerButton--3et84",footerButtonRed:"file_import_view--footerButtonRed--18g4F file_import_view--footerButton--3et84",footerButtonGreen:"file_import_view--footerButtonGreen--3MxpX file_import_view--footerButton--3et84",footerButtonBlue:"file_import_view--footerButtonBlue--1uYet file_import_view--footerButton--3et84"}}),
(function(l,t,e){l.exports={src:'<svg width="11" height="8" viewBox="0 0 11 8" xmlns="http://www.w3.org/2000/svg"><path d="M10.194 1.444L4.252 7.386.31 3.444l.884-.884 3.058 3.058L9.31.56l.884.884z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),o=s(44,1         ),l=s(252                                    ),r=s(106                                     ),a=s(253                           ),n=s(174                        ),p=s(227                                 ),m=s(178                                        ),c=s(657                     ),d=s(658                         ),f=s(337                           );class u extends i.Component{constructor(){super(...arguments),this.onDone=(()=>{this.props.dispatch(r.fileBrowser.hideModal()),this.props.dispatch(l.fileImport.resetImports())}),this.onCancel=(()=>{this.props.dispatch(l.fileImport.cancelImport())})}renderImportModal(){if(this.props.showingImportModal){let e=this.props.fileImport.files,t=Object.keys(e).map(e=>parseInt(e)).sort((e,t)=>e-t),s=Object.keys(this.props.fileImport.files).length,o=this.props.fileImport.queue.length,l=s-o,r=0,u="";if(0===o){for(let t in this.props.fileImport.files){let s=e[t];s.status!==a.FileImportStatus.SUCCESS&&s.status!==a.FileImportStatus.WARNING||r++}u=s>1?`${r}/${s} files imported successfully`:1===r?"File imported successfully":"File import failed"}else u=s>1?`Importing ${l+1}/${s} files...`:"Importing file...";let I=c.footerBlue,g=c.footerButtonBlue;return 0===o&&(0===r?(I=c.footerRed,g=c.footerButtonRed):(I=c.footerGreen,g=c.footerButtonGreen)),i.createElement(p.Modal,{title:"Import Files",disableClickOutsideToHide:o>0,tintedModalBackground:!0,dispatch:this.props.dispatch},i.createElement("div",{className:c.fileRows},t.map(t=>{let s=e[t],o=c.fileSpinnerIcon,l=null;s.status!==a.FileImportStatus.SUCCESS&&s.status!==a.FileImportStatus.WARNING||(o=c.fileCheckIcon,l=d),s.status!==a.FileImportStatus.FAILURE&&s.status!==a.FileImportStatus.CANCELED||(o=c.fileXIcon,l=f);let r=c.fileWaitingName;return s.status===a.FileImportStatus.WAITING&&(r=c.fileResolvedName),i.createElement("div",{className:c.fileImportRow,key:`file-import-${t}`},l?i.createElement(n.Svg,{className:o,svg:l}):i.createElement(m.LoadingSpinner,{className:o}),i.createElement("div",{className:r},e[t].name),(()=>{if(s.message)return i.createElement("div",{className:c.fileImportMessage},s.message)})())})),i.createElement("div",{className:I},i.createElement("div",null,u),(()=>0===o?i.createElement("div",{onClick:this.onDone,className:g},"Done"):i.createElement("div",{onClick:this.onCancel,className:g},"Cancel"))()))}}render(){const e=this.props.fileImport.isDraggingImport?c.dragTargetDragging:c.dragTargetNormal;return i.createElement("div",null,i.createElement("div",{className:e}),this.renderImportModal())}}u.displayName="FileImportView";t.FileImportView=o.connect(e=>{var s;return{fileImport:e.fileImport,showingImportModal:(null===(s=e.modalShown)||void 0===s?void 0:s.type)===t.FILE_IMPORT_MODAL}})(u),t.FILE_IMPORT_MODAL="file-import-modal"}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}(r(163        ))}),
(function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),i(656                );const s=i(124     ),o=i(246       ),r=i(106                                     ),a=i(252                                    ),l=i(188                             ),c=i(259                                    ),p=i(253                           ),f=i(126          ),d=i(85                   ),m=i(218                                   ),u=i(257                         ),g=i(258                           ),h=i(119              ),I=i(659                                            ),y=i(96                     ),w=i(660                             ),F={bytes:new Uint8Array([137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,6,0,0,0,31,21,196,137,0,0,0,10,73,68,65,84,120,156,99,0,1,0,0,5,0,1,13,10,45,180,0,0,0,0,73,69,78,68,174,66,96,130]),clientMeta:{background_color:{r:0,g:0,b:0,a:0},thumbnail_size:{width:1,height:1}}};let b=null,_=[];zip.workerScriptsPath="/js/zip/";class v extends Error{constructor(e){super(e),this.message=e,this.imageUploadError=!1}}class S extends v{}class C extends v{}function E(e){const t=e.getState(),i=t.fileImport.queue.filter(e=>{const i=t.fileImport.files[e];return i.status===p.FileImportStatus.WAITING||i.status===p.FileImportStatus.BUSY});for(let n of i)e.dispatch(a.fileImport.updateItem({id:n,status:p.FileImportStatus.CANCELED}))}function P(e,t){const i=e.getState();if(i.fileImport.isProcessingFile)return void(t.hasCanceled()&&e.dispatch(a.fileImport.doneProcessingFile()));let r=i.fileImport.queue[0];if(void 0===r)return;let h=i.fileImport.files[r];if(t.hasCanceled())return e.dispatch(a.fileImport.updateItem({id:r,status:p.FileImportStatus.CANCELED})),e.dispatch(a.fileImport.doneProcessingFile()),void E(e);e.dispatch(a.fileImport.updateItem({id:r,status:p.FileImportStatus.BUSY}));let I,b=Date.now(),v=h.name.replace(/\.[^\.]+$/,""),P=h.name.slice(v.length);if("folder"===i.selectedView.view){const e=i.folders[i.selectedView.folderId];I=e&&e.team_id}(function(e,t,i,r,a,p){return n(this,void 0,void 0,function*(){function f(e,t,i,n){if(p.hasCanceled())return Promise.reject("canceled");const s="Oops. This service is temporarily unavailable";return new Promise((o,r)=>{let a=new XMLHttpRequest;a.open("POST","/api/upnode/checkpoint?st=import"),a.onload=(()=>{try{let t=JSON.parse(a.responseText);t.error?r(t.message):o(t)}catch(e){r(s)}}),a.onerror=(()=>r(s)),a.send(function(e,t,i,n){let s=e.getState(),o=y.getUserDraftsFolderOrNull(s.folders,s.currentOrgId,s.roles,s.user,s.orgUsersByOrgId.orgUsers);"folder"===s.selectedView.view&&(o=s.folders[s.selectedView.folderId]);const r=new FormData;return r.append("manifest",JSON.stringify({canvas_count:1,parts:[{name:"canvas",mime:"application/x-figma",length:t.length},{name:"thumbnail",mime:"image/png",length:i.bytes.length}],folder_id:o?o.id:null,client_meta:i.clientMeta,max_session_id:n})),r.append("canvas",new Blob([t],{type:"application/x-figma"})),r.append("thumbnail",new Blob([i.bytes],{type:"image/png"})),r}(e,t,i,n))})}if(".svg"===r.toLowerCase())throw new S("To import an SVG, drag it directly into an open Figma file.");const h=d.initialOptions().user_data,I=!(!h||!h.email)&&h.email.endsWith("@figma.com"),b=yield p.convertFile({bytes:i,featureFlags:a,fontLoader:function(){let e=m.fetchFontList([w.FontSource.LOCAL,w.FontSource.GOOGLE,w.FontSource.SHARED]);return{getFont:function(t){return n(this,void 0,void 0,function*(){const i=yield e;for(let e of i.list){const i=O(e.postscript,t);if(i){!0!==i&&console.warn(`Fuzzy font name match: ${e.postscript} = ${t} (${i})`);const n=yield m.fetchFontFile(e.source,e.id,e.postscript);if(n)return{name:e.postscript,font:n}}}return new Promise((e,t)=>t(null))})}}}(),isUserFigmaEmployee:I}),v=b.file;if(!v)throw new C("Could not convert file.");if(p.hasCanceled())return{warnings:["Canceled"],file:null};const{fileKey:E}=yield function(t,i,o,r){return n(this,void 0,void 0,function*(){var n=null;try{const d=yield f(e,i,o||F,r);if(n=d.meta.file.key,p.hasCanceled())throw new Error("Import canceled.");if(null!=n){yield s.default.put(`/api/files/${n}`,{name:t});const i={file:Object.assign(Object.assign({},d.meta.file),{name:t,accessed_at:new Date})};return e.dispatch(l.file.post(i)),e.dispatch(l.file.recentFilePost(i)),e.dispatch(c.tileSelect.selectTiles({type:g.TileSelectionType.FILES,tiles:[{type:u.TileType.FILE,file:i.file}]})),{fileKey:n}}throw new Error("Null fileKey.")}catch(a){throw null!==n&&s.default.del("/api/files_batch",{files:[{key:n}]}),a}})}(t,v.bytes,v.thumbnail,v.maxSessionID||0),P={fileKey:E,sketchMeta:v.sketchMeta},k=yield function(e,t){return n(this,void 0,void 0,function*(){const i=e.length;let n=0;try{for(let s=0;s<e.length;s+=5){const r=[];for(let a=s;a<s+5&&a<e.length;a++){const s=e[a];if(p.hasCanceled())throw new Error("Import canceled.");let l="application/octet-stream";if(p.isProbablyPNGFile(s.bytes))l="image/png";else if(p.isProbablyJPEGFile(s.bytes))l="image/jpeg";else{if(!p.isProbablyGIFFile(s.bytes)){console.log("warning: ignoring image with unknown type ("+Array.prototype.slice.call(s.bytes,0,10).map(e=>(256|e).toString(16).slice(-2))+"...)");continue}l="image/gif"}console.log("uploading image "+o.toHex(s.sha1Bytes)+" of type "+l),p.callUpdateProgressCallback(20+(0===i?0:80*a/i)),r.push(new Promise((e,i)=>{const r=a=>{let c=new XMLHttpRequest,p=!1;c.onloadend=(()=>{let t=_.indexOf(c);if(t>-1&&_.slice(t,1),4===c.readyState&&200===c.status)e();else if(p)i(new Error("Import canceled."));else if(413===c.status)n++,e();else if(400!==c.status&&401!==c.status&&--a>0)return console.log("Image upload failed, retrying..."),void setTimeout(()=>{r(a)},1e3);let s=new C("Image import failed");s.imageUploadError=!0,i(s)}),c.onabort=(()=>{p=!0}),c.open("POST",`/api/upnode/image?purpose=canvas&sha1=${o.toHex(s.sha1Bytes)}&fileKey=${t.fileKey}`),c.setRequestHeader("Content-Type",l),_.push(c),c.send(s.bytes||null)};r(3)})),yield new Promise(e=>setTimeout(e,0))}yield Promise.all(r)}}catch(a){throw s.default.del("/api/files_batch",{files:[{key:t.fileKey}]}),a}const r=[];return n>0&&r.push(`${n} image(s) were too large (>64MB) and did not successfully import`),r})}(b.images,P);return{warnings:b.warnings.concat(k),file:P}})})(e,v,h.bytes,P,d.getFeatureFlags(),t).then(t=>{t.warnings.length?e.dispatch(a.fileImport.updateItem({id:r,status:p.FileImportStatus.WARNING,message:t.warnings.join("\n")})):e.dispatch(a.fileImport.updateItem({id:r,status:p.FileImportStatus.SUCCESS}));let i=(Date.now()-b)/1e3;if(console.log(`conversion took ${i} seconds`),e.dispatch(a.fileImport.doneProcessingFile()),f.segment&&t.file){const e=t.file.fileKey;f.segment.track("File Imported",Object.assign(Object.assign({},t.file.sketchMeta),{extension:P,worked:!0,teamId:I,fileKey:e}))}}).catch(i=>{try{if(e.dispatch(a.fileImport.updateItem({id:r,status:t.hasCanceled()?p.FileImportStatus.CANCELED:p.FileImportStatus.FAILURE,message:i&&i.message?i.message+"":"Internal error. Please try again later."})),f.segment){f.segment.track("File Imported",{extension:P,worked:!1,teamId:I}),i.imageUploadError&&f.segment.track("File Import Image Upload Error",{extension:P,teamId:I})}i instanceof S||(t.hasCanceled()?(e.dispatch(a.fileImport.doneProcessingFile()),E(e)):console.error("file import failure:",i&&i.stack||i&&i.message||i))}catch(n){setTimeout(()=>{throw n})}finally{e.dispatch(a.fileImport.doneProcessingFile())}})}function k(e,t=!0,i){const n=document.createElement("input");n.type="file",n.multiple=t,i&&(n.accept=i),n.style.display="none",n.onchange=(t=>{const i=e.getState().selectedView;if("folder"!==i.view&&"recentFiles"!==i.view){const t=e.getState(),i=y.getUserDraftsFolderOrNull(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers);i&&e.dispatch(r.fileBrowser.selectView({view:"folder",folderId:i.id}))}e.dispatch(a.fileImport.inputChange(t)),n.remove()}),document.body.appendChild(n),n.click()}function O(e,t){if(e===t)return!0;const i=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(i===n)return"lower";const s=i.split("-"),o=n.split("-");return 0!==s.length&&0!==o.length&&o[0]===s[0]&&((1===s.length&&2===o.length&&"regular"===o[1]||2===s.length&&1===o.length&&"regular"===s[1])&&"assume-regular")}t.default=(e=>t=>(function(i){return r.fileBrowser.init.matches(i)?(h.loadScript(Fig.importShimURL).then(()=>{b=window.createFileImporter(Fig.importWorkerURL)}),t(i)):b?a.fileImport.openFileInput.matches(i)?(k(e),t(i)):a.fileImport.openSketchFileInput.matches(i)?(k(e,!1,".sketch"),t(i)):a.fileImport.drop.matches(i)?(function(e,t,i){_=[],i.extractFilesFromDropEvent(t,(t,i)=>e.dispatch(a.fileImport.addToQueue({name:t,bytes:i})))}(e,i.payload,b),t(i)):a.fileImport.inputChange.matches(i)?(function(e,t,i){let n=t.target,s=(t,n)=>{let s=new FileReader;i.resetCancel(),s.onload=(()=>e.dispatch(a.fileImport.addToQueue({name:t,bytes:new Uint8Array(s.result)}))),s.readAsArrayBuffer(n)};if(n.files)for(let o=0;o<n.files.length;o++){let e=n.files[o];e&&e.name.endsWith(".sketch.zip")?zip.createReader(new zip.BlobReader(e),t=>{t.getEntries(t=>{if(t.length){for(let i of t)if(i.filename.endsWith("Data"))return void i.getData(new zip.BlobWriter,t=>{var i=e.name.slice(0,-4);s(i,t)});s(e.name,e)}})},()=>{s(e.name,e)}):s(e.name,e)}}(e,i.payload,b),t(i)):a.fileImport.addToQueue.matches(i)?(t(i),e.dispatch(r.fileBrowser.showModal({type:I.FILE_IMPORT_MODAL})),b.hasCanceled()||e.dispatch(a.fileImport.processNextInQueue()),i):a.fileImport.processNextInQueue.matches(i)?(P(e,b),t(i)):a.fileImport.cancelImport.matches(i)?(_.forEach(e=>{e.onload=(()=>{}),e.abort()}),b.cancelConversion(),e.dispatch(a.fileImport.doneProcessingFile()),E(e),_=[],t(i)):a.fileImport.doneProcessingFile.matches(i)?(t(i),e.getState().fileImport.queue.length>0&&e.dispatch(a.fileImport.processNextInQueue()),i):t(i):t(i)}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(122        );t.INTERACTION_TEST_FAKE_FILE_KEY="INTERACTION_TEST_FAKE_FILE_KEY",t.interactionTestFakeFile={checkpoint_key:"",checkpoint_token:"",client_meta:"",created_at:"",creator:{},creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,trashed_user:null,description:"",edit_url:"",folder_id:"1",key:t.INTERACTION_TEST_FAKE_FILE_KEY,license:"",link_access:"edit",proto_link_access:"view",name:"Interaction Tests Running",team_id:"",thumbnail_url:"",touched_at:"",url:"",prototype_url:"",appData:{isRenaming:!1,fetchedRoles:!1},is_template:!1};let o=null;t.setViewerInstance=function(e){null!=o&&o.off("recordInteraction",l),(o=e).on("recordInteraction",l)},t.getGlobalViewer=function(){return o},t.inefficientlyWaitForDeviceImageToRender=function(){return new Promise(e=>{const t=setInterval(()=>{o&&!o.isWaitingForDeviceFrameToLoad()&&(clearInterval(t),e())},1/60)})};let r=[];function l(e){for(let t of r)t(e)}t.onViewerInteraction=function(e){i.pushIfAbsent(r,e)},t.offViewerInteraction=function(e){i.removeByValue(r,e)};let a=[];t.handlePrototypeViewLoaded=function(){for(let e of a)e();a=[]},t.nextPrototypeViewLoad=function(){return new Promise((e,t)=>{a.push(e)})};let c=null;t.fileForPrototypeView=function(){return c},t.setFileForPrototype=function(e){c=e};let u=null;t.setLastEditingFileKey=function(e){u=e},t.lastEditingFileKey=function(){return u}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.ComposingViewSelector=class{constructor(e){this.selectors=e}pathToSelectedView(e,s,t){for(const r of this.selectors){const o=r.pathToSelectedView(e,s,t);if(null!=o)return o}return null}requireHistoryChange(e,s){for(const t of this.selectors)if(t.requireHistoryChange(e,s))return!0;return!1}selectedViewToPath(e,s){for(const t of this.selectors){const r=t.selectedViewToPath(e,s);if(null!=r)return r}return null}selectedViewName(e,s){for(const t of this.selectors){const r=t.selectedViewName(e,s);if(null!=r)return r}return null}selectedViewHasMissingResources(e,s){for(const t of this.selectors)if(t.selectedViewHasMissingResources&&t.selectedViewHasMissingResources(e,s))return!0;return!1}}}),
(function(e,c,n){e.exports={mousePointer:"welcome_sequence--mousePointer--1MkaT",logo:"welcome_sequence--logo--QpUT0",wrapper:"welcome_sequence--wrapper--3FIPM",closeButton:"welcome_sequence--closeButton--PAD1A",modal:"welcome_sequence--modal--35St7",panel:"welcome_sequence--panel--3SVaa",plansLeftPanel:"welcome_sequence--plansLeftPanel--2Nf0g",plansRightPanel:"welcome_sequence--plansRightPanel--2EAdI",content:"welcome_sequence--content--1dfF4",formInput:"welcome_sequence--formInput--12Dog",textInput:"welcome_sequence--textInput--2iItO welcome_sequence--formInput--12Dog",textInputError:"welcome_sequence--textInputError--2HFm3 welcome_sequence--textInput--2iItO welcome_sequence--formInput--12Dog",errorMessage:"welcome_sequence--errorMessage--zjjKM",primaryCta:"welcome_sequence--primaryCta--3VDKg welcome_sequence--formInput--12Dog welcome_sequence--mousePointer--1MkaT",link:"welcome_sequence--link--rkpc0 welcome_sequence--mousePointer--1MkaT",skipLinkHolder:"welcome_sequence--skipLinkHolder--3E0Sz",skipLink:"welcome_sequence--skipLink--34Izc welcome_sequence--mousePointer--1MkaT",linkHolder:"welcome_sequence--linkHolder--2KgOM welcome_sequence--formInput--12Dog",doThisLaterLink:"welcome_sequence--doThisLaterLink--cSWNS welcome_sequence--link--rkpc0 welcome_sequence--mousePointer--1MkaT",doThisLaterLinkHolder:"welcome_sequence--doThisLaterLinkHolder--2dwmT welcome_sequence--linkHolder--2KgOM welcome_sequence--formInput--12Dog",leftPad:"welcome_sequence--leftPad--2ZX_a",spacing:"welcome_sequence--spacing--30spW",filler:"welcome_sequence--filler--26YhY",plusIcon:"welcome_sequence--plusIcon--2A2dy",checkIcon:"welcome_sequence--checkIcon--B62PP",fileBrowser:"welcome_sequence--fileBrowser--2ITNi",editorImage:"welcome_sequence--editorImage--1BHDH",teamIcon:"welcome_sequence--teamIcon--3mlzR",teamName:"welcome_sequence--teamName--1czW4",projectName:"welcome_sequence--projectName--32QcO",planCard:"welcome_sequence--planCard--1uvR6",starterPlanCard:"welcome_sequence--starterPlanCard--1zxJa welcome_sequence--planCard--1uvR6",professionalPlanCard:"welcome_sequence--professionalPlanCard--3jSoo welcome_sequence--planCard--1uvR6",plans:"welcome_sequence--plans--3YWbr",planTitle:"welcome_sequence--planTitle--2Pp0Q",planDescription:"welcome_sequence--planDescription--16Tbi",planDescriptionHolder:"welcome_sequence--planDescriptionHolder--1EVbX",price:"welcome_sequence--price--3Trny",planPrice:"welcome_sequence--planPrice--2QOpu",planPriceDollar:"welcome_sequence--planPriceDollar--3-pvo welcome_sequence--planPrice--2QOpu",planPriceNumber:"welcome_sequence--planPriceNumber--Lf0bk welcome_sequence--planPrice--2QOpu",planPriceMonth:"welcome_sequence--planPriceMonth--BPvlT welcome_sequence--planPrice--2QOpu",dividerY:"welcome_sequence--dividerY--1gvno",planItem:"welcome_sequence--planItem--wgF_t",planButton:"welcome_sequence--planButton--18S6t welcome_sequence--mousePointer--1MkaT",starterPlanButton:"welcome_sequence--starterPlanButton--377pC welcome_sequence--planButton--18S6t welcome_sequence--mousePointer--1MkaT",cursorTriangle:"welcome_sequence--cursorTriangle--I4LfK",triangle:"welcome_sequence--triangle--3q1vK",cursorCircle:"welcome_sequence--cursorCircle--1TjW9",circle:"welcome_sequence--circle--9Nvd2",cursorDiagonal:"welcome_sequence--cursorDiagonal--1vPdZ",diagonal:"welcome_sequence--diagonal--168Pp",cursorRectangle:"welcome_sequence--cursorRectangle--1OczI",rectangle:"welcome_sequence--rectangle--1wBb6",cursorPause:"welcome_sequence--cursorPause--spOU9",cursorRunning:"welcome_sequence--cursorRunning--Mqmgx"}}),
(function(h,v,o){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5v-5h1v5h5v1h-5v5h-1v-5h-5v-1h5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#1bc47d" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(3,1    ),o=a(664                     ),n=a(174                        ),r=a(44,1         ),i=a(224                                            ),s=a(423                                         ),c=a(106                                     ),m=a(129                                ),d=a(221                                    ),p=a(193           ),u=a(479                                  ),g=a(517                               ),h=a(233        ),b=a(227                                 ),E=a(665                                              ),w=a(666                                      ),f=a(667                                             );t.WelcomeSequenceViewSelector=class{pathToSelectedView(e,t){if("files"===t[1]&&"welcome"===t[2]){const e=parseInt(t[3]);return{view:"welcomeSequence",welcomeStep:isNaN(e)?1:e}}return null}requireHistoryChange(e,t){return"welcomeSequence"!==e.view||"welcomeSequence"!==t.view?"welcomeSequence"===e.view!=("welcomeSequence"===t.view):t.welcomeStep!==e.welcomeStep}selectedViewName(e,t){return"welcomeSequence"===t.view?"Welcome to Figma":null}selectedViewToPath(e,t){return"welcomeSequence"===t.view?`/files/welcome/${t.welcomeStep||1}`:null}};const v=e=>Object.assign({},e.welcomeSequence),N=r.connect(v,e=>({setTeamName:t=>{e(s.welcomeSequenceActions.setTeamName(t))},setFolderName:t=>{e(s.welcomeSequenceActions.setFolderName(t))},goToStep:t=>{e(s.welcomeSequenceActions.goToStep(t))},updateCollaborator:(t,a)=>{e(s.welcomeSequenceActions.updateCollaboratorEmail({index:t,email:a}))},addCollaborator:()=>{e(s.welcomeSequenceActions.addCollaborator())},submitTeamCreate:()=>{e(s.welcomeSequenceActions.submitTeamCreate())},submitAddCollaborators:()=>{e(s.welcomeSequenceActions.submitAddCollaborators())},goToCart:t=>{e(m.payment.startProUpgradeFlow({teamId:t,selectedView:{view:"welcomeSequence",welcomeStep:4},newTeam:!0}))},exit:()=>{e(s.welcomeSequenceActions.exit())},setFocusedCollaboratorIndex:t=>{e(s.welcomeSequenceActions.setFocusedCollaboratorIndex(t))}}));function x(e){e(c.fileBrowser.selectView({view:"recentFiles"})),e(u.userFlags.post({flags:{completed_welcome_sequence:!0}}))}class k extends l.Component{componentDidMount(){p.isMobileBrowser&&x(this.props.dispatch)}get leftPanel(){switch(this.props.step){case 1:return l.createElement(P,null);case 2:return l.createElement(_,null);case 3:return l.createElement(q,null);case 4:return l.createElement(B,null)}return null}get rightPanel(){switch(this.props.step){case 1:case 2:return l.createElement(y,null);case 3:return l.createElement(C,null);case 4:return l.createElement(I,null)}return null}render(){return l.createElement(d.TrackingContext,{name:"Welcome Sequence"},l.createElement(b.Modal,{dispatch:this.props.dispatch,className:o.modal,size:"any"},l.createElement("div",{className:o.wrapper},this.leftPanel,this.rightPanel)))}}k.displayName="WelcomeSequenceView",t.default=g.experiment("exp_welcome_sequence_02").defaultComponentClass(e=>(l.useEffect(()=>x(e.dispatch)),null)).treatment("variant",k).enableTracking().build();const y=r.connect(v)(e=>l.createElement(S,null,l.createElement(j,{className:o.fileBrowser},e.teamName&&l.createElement(l.Fragment,null,l.createElement("div",{className:o.teamIcon},e.teamName.charAt(0)),l.createElement("div",{className:o.teamName},e.teamName)),e.folderName&&l.createElement("div",{className:o.projectName},e.folderName)))),C=()=>l.createElement(S,null,l.createElement(O,{className:o.editorImage})),S=e=>{let t="";return e.leftPad&&(t=o.leftPad),l.createElement("div",{className:o.panel},l.createElement("div",{className:`${o.content} ${t}`},e.children))},T=e=>l.createElement(l.Fragment,null,[...Array(e.multiple||4).keys()].map(e=>l.createElement("div",{className:o.spacing,key:e}))),F=()=>l.createElement("div",{className:o.filler}),P=d.asTrackedContext(N(e=>{return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Welcome to Figma"),l.createElement("p",null,"Give your first team a name. You can change this at any time."),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.goToStep(2)}},l.createElement(i.BigTextInput,{autoFocus:!0,className:o.textInput,value:e.teamName||"",placeholder:"Team name",onChange:t=>e.setTeamName(t.target.value)}),l.createElement(T,null),l.createElement(i.BigButtonGreenTracked,{disabled:!e.teamName||!e.teamName.trim(),className:o.primaryCta},"Next")),l.createElement(T,null),l.createElement("div",{className:o.skipLinkHolder},l.createElement(i.LinkTracked,{className:o.skipLink,onClick:e.exit},"Skip and do this later")))}),"Create Team Panel"),_=d.asTrackedContext(N(e=>{return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Now, let's name your project"),l.createElement("p",null,'Organize your files by projects like "website redesign" or "user onboarding."'),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.submitTeamCreate()}},l.createElement(i.BigTextInput,{autoFocus:!0,className:o.textInput,value:e.folderName||"",placeholder:"Project name",onChange:t=>e.setFolderName(t.target.value)}),l.createElement(T,null),l.createElement(i.BigButtonGreenTracked,{disabled:e.requestInFlight||!e.folderName||!e.folderName.trim(),className:o.primaryCta},"Next")))}),"Create Project Panel"),q=d.asTrackedContext(N(e=>{const[t,a]=l.useState({});return l.createElement(S,{leftPad:!0},l.createElement("h1",null,"Invite teammates"),l.createElement("p",null,"Figma works best with friends and teammates. Invite a collaborator and get working together."),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.submitAddCollaborators(),e.goToStep(4)}},e.collaborators.map((n,r)=>{const s=!!n&&t[r];return l.createElement(l.Fragment,{key:r},l.createElement(i.BigTextInput,{autoFocus:0===r,value:n,onFocus:()=>e.setFocusedCollaboratorIndex(r),onChange:l=>{const o=l.target.value;o||a(Object.assign(Object.assign({},t),{[r]:!1})),e.updateCollaborator(r,o)},onBlur:l=>{e.setFocusedCollaboratorIndex(void 0);const o=l.target.value;o&&!h.isEmail(o)?a(Object.assign(Object.assign({},t),{[r]:!0})):a(Object.assign(Object.assign({},t),{[r]:!1}))},className:s?o.textInputError:o.textInput,placeholder:"name@company.com"}),s&&l.createElement("div",{className:o.errorMessage},"Email address doesn’t look right"),l.createElement(T,null))}),e.collaborators.length<5&&l.createElement("div",{className:o.linkHolder},l.createElement(i.LinkTracked,{canFocus:!0,innerText:"Add another",className:o.link,onClick:e.addCollaborator},l.createElement(n.Svg,{svg:E,className:o.plusIcon})," Add another")),l.createElement(T,null),l.createElement(i.BigButtonGreenTracked,{className:o.primaryCta,disabled:e.collaborators.some(e=>e&&!h.isEmail(e))},"Add"),l.createElement(T,null),l.createElement("div",{className:o.doThisLaterLinkHolder},l.createElement(i.LinkTracked,{canFocus:!0,onClick:()=>e.goToStep(4),className:o.doThisLaterLink},"Do this later"))))}),"Add Collaborator Panel"),B=()=>l.createElement("div",{className:`${o.plansLeftPanel}`},l.createElement("div",{className:`${o.content}`},l.createElement("h1",null,"Choose your plan to get started"))),A=e=>l.createElement("div",{className:o.planItem},l.createElement(n.Svg,{svg:e.icon,className:o.checkIcon,useOriginalSrcFills:!0})," ",e.text),I=d.asTrackedContext(N(e=>l.createElement("div",{className:o.plansRightPanel},l.createElement("div",{className:`${o.content}`},l.createElement("div",{className:o.plans},l.createElement("div",{className:o.starterPlanCard},l.createElement("div",{className:o.planTitle},"Starter"),l.createElement(L,null),l.createElement("div",{className:o.planDescriptionHolder},l.createElement("div",{className:o.planDescription},"Free for up to 2 editors")),l.createElement(L,null),l.createElement(T,{multiple:8}),l.createElement(A,{icon:w,text:"3 Projects"}),l.createElement(A,{icon:w,text:"30-day Version History"}),l.createElement(A,{icon:w,text:"Up to 2 editors"}),l.createElement(F,null),l.createElement(i.BigButtonSecondaryTracked,{disabled:!e.folderId,className:o.starterPlanButton,onClick:e.exit},"Choose Starter")),l.createElement("div",{className:o.professionalPlanCard},l.createElement("div",{className:o.planTitle},"Professional"),l.createElement(L,null),l.createElement("div",{className:o.planDescriptionHolder},l.createElement("div",{className:o.price},l.createElement("p",{className:o.planPriceDollar},"$"),l.createElement("p",{className:o.planPriceNumber},"12"),l.createElement("p",{className:o.planPriceMonth},"/mo.")),l.createElement("div",{className:o.planDescription},"per editor when billed annually")),l.createElement(L,null),l.createElement(T,{multiple:8}),l.createElement(A,{icon:f,text:"Unlimited Projects"}),l.createElement(A,{icon:f,text:"Unlimited Version History"}),l.createElement(A,{icon:f,text:"Add editors as needed"}),l.createElement(A,{icon:f,text:"Advanced Project Permissions"}),l.createElement(A,{icon:f,text:"Full Team Library Features"}),l.createElement(F,null),l.createElement(i.BigButtonGreenTracked,{disabled:!e.teamId,onClick:()=>e.teamId&&e.goToCart(e.teamId),className:o.planButton},"Choose Professional")))))),"Plans Panel"),L=()=>l.createElement("div",{className:o.dividerY}),j=e=>l.createElement("div",{className:e.className,style:{position:"relative",width:955,height:603,borderRadius:6,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},l.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,height:40,background:"#2C2C2C",borderRadius:"6px 6px 0px 0px"}}),l.createElement("div",{style:{position:"absolute",left:10,top:10,height:20,width:20,borderRadius:20,background:"#907CFF"}}),l.createElement("div",{style:{position:"absolute",left:40,top:16,height:8,width:47,background:"rgba(255, 255, 255, 0.8)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:56,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:97,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:121,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:40,top:145,height:8,width:47,background:"rgba(0, 0, 0, 0.1)"}}),l.createElement("div",{style:{position:"absolute",left:0,top:80,height:1,width:200,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:0,top:169,height:1,width:200,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:200,top:40,height:800,width:1,background:"rgba(0, 0, 0, 0.06)"}}),l.createElement("div",{style:{position:"absolute",left:232,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),l.createElement("div",{style:{position:"absolute",left:469,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),l.createElement("div",{style:{position:"absolute",left:706,top:72,height:144,width:217,background:"rgba(0,0,0,0.03)"}}),e.children),D=[{top:62,left:251,color:"#907CFF",animation:o.cursorTriangle},{top:100,left:451,color:"#EF5533",animation:o.cursorCircle},{top:462,left:51,color:"#FFC700",animation:o.cursorDiagonal,direction:"up"},{top:362,left:350,color:"#18A0FB",animation:o.cursorDiagonal,direction:"up"},{top:262,left:51,color:"#EE46D3",animation:o.cursorCircle}],O=r.connect(v)(e=>l.createElement("div",{className:e.className,style:{position:"relative",width:955,height:603,borderRadius:6,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.1)",overflow:"hidden"}},l.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,height:40,background:"#2C2C2C",borderRadius:"6px 6px 0px 0px"}}),l.createElement("div",{style:{position:"absolute",left:40,top:0,height:40,width:40,background:"#18A0FB"}}),l.createElement("div",{style:{position:"absolute",left:485,top:16,height:8,width:71,background:"rgba(255, 255, 255, 0.4)"}}),l.createElement("div",{style:{position:"absolute",left:210,top:170,height:300,width:180,border:"1px solid #18A0FB"}}),l.createElement("div",{style:{position:"absolute",left:207,top:167,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:387,top:167,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:207,top:467,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),l.createElement("div",{style:{position:"absolute",left:387,top:467,height:6,width:6,border:"1px solid #18A0FB",background:"white"}}),e.collaborators.map((t,a)=>{if(a<D.length){const t=D[a];return l.createElement($,{key:`cursor-${a}`,direction:t.direction||"down",top:t.top,left:t.left,color:t.color,className:`${t.animation} ${a===e.focusedCollaboratorIndex?o.cursorRunning:o.cursorPause}`})}return null}),e.children)),$=e=>"down"===e.direction?l.createElement("div",{style:{position:"absolute",width:97,height:60,top:e.top,left:e.left},className:e.className},l.createElement("div",{style:{position:"absolute",top:34,left:0}},l.createElement("svg",{style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.35))"},width:"27",height:"31",viewBox:"0 0 27 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.10526 3.03509L2 28.5614L24.0436 15.2357L13.4381 12.3574L7.10526 3.03509Z",fill:e.color,stroke:"white",strokeWidth:"1.70175",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute",top:0,left:22,minWidth:75,height:30,background:e.color,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.35)"}})):l.createElement("div",{style:{position:"absolute",width:97,height:60,top:e.top,left:e.left},className:e.className},l.createElement("div",{style:{position:"absolute",top:0,left:0}},l.createElement("svg",{style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.35))"},width:"27",height:"30",viewBox:"0 0 27 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.10526 27.5263L2 2L24.0436 15.3257L13.4381 18.204L7.10526 27.5263Z",fill:e.color,stroke:"white",strokeWidth:"1.70175",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute",top:29,left:22,minWidth:75,height:30,background:e.color,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.35)"}}))}),
(function(l,o,e){l.exports={fullWidthPage:"full_width_page--fullWidthPage--Fg4oT overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",closeMenu:"full_width_page--closeMenu--2rjQg"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),l=n(669                    );class a extends s.PureComponent{render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:l.closeMenu},this.props.menu),s.createElement("div",Object.assign({className:l.fullWidthPage},this.props)))}}t.FullWidthPageContent=a,a.displayName="FullWidthPageContent"}),
(function(t,e,o){t.exports={page:"team_restore--page--1a6EZ",section:"team_restore--section--32FeE",text:"team_restore--text--RNknX text--fontPos12--3tEpz text--_fontBase--YWDo0",header:"team_restore--header--39WpT text--fontPos20--ds4Ol text--_fontBase--YWDo0",button:"team_restore--button--22jkD"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),r=a(47,1    ),i=a(164         ),o=a(124     ),n=a(106                                     ),l=a(94                                   ),m=a(137                             ),c=a(224                                            ),d=a(178                                        ),p=a(670                                                           ),h=a(221                                    ),u=a(174                        ),g=a(671                 ),f=a(337                           );t.TeamRestoreViewSelector=class{pathToSelectedView(e,t){return"files"===t[1]&&"team"===t[2]&&"restore"===t[5]?{view:"teamRestore",teamId:t[3],teamName:t[4]}:null}requireHistoryChange(e,t){return"teamRestore"!==e.view||"teamRestore"!==t.view?"teamRestore"===e.view!=("teamRestore"===t.view):t.teamId!==e.teamId}selectedViewName(e,t){return"teamRestore"===t.view?"Restore Team":null}selectedViewToPath(e,t){return"teamRestore"===t.view?`/files/team/${t.teamId}/${i.URISlug(t.teamName)}/restore`:null}};class v extends s.PureComponent{constructor(){super(...arguments),this.state={isLoading:!1},this.cancel=(()=>{this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"}))}),this.restoreTeam=(()=>{this.props.dispatch(m.team.restoreTeam({teamId:this.props.selectedView.teamId}))})}componentDidMount(){this.setState({isLoading:!0});const e=this.props.selectedView.teamId;o.default.get(`/api/teams/deleted/${e}`).then(({data:e})=>{this.props.dispatch(m.team.post({team:e.meta})),this.setState({isLoading:!1})}).catch(e=>{400!==e.status&&(this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"})),this.props.dispatch(l.flash.error(`${e.data.message}`))),this.setState({isLoading:!1})})}render(){const e=this.props.selectedView.teamId,t=this.props.teams[e];let a,i,o=s.createElement(c.ButtonPrimaryTracked,{className:g.button,onClick:this.cancel},"Back to Files");const n=s.createElement(u.Svg,{svg:f,onClick:this.cancel});if(t)if(t.deleted_at){const e=r(t.deleted_at).add(28,"days").format("MMMM D, YYYY");a=`Are you sure you want to restore team "${t.name}"?`,i=`Your team’s files, projects, prototypes, and shared components will be available to everyone who previously had access.\n                You have until ${e} to recover this data.`,o=s.createElement(c.ButtonPrimaryTracked,{className:g.button,onClick:this.restoreTeam},"Restore team")}else a="This team is not eligible to be restored.",i="If you have any questions, please contact us at support@figma.com.";else{if(this.state.isLoading)return s.createElement("div",{className:g.page},s.createElement("div",{className:g.section},s.createElement(d.LoadingSpinner,null)));a="Oh no! This link has expired.",i=s.createElement("div",null,"The period to recover your team’s data has expired. ",s.createElement("br",null),s.createElement("br",null),"If you have any questions, please contact us at support@figma.com.")}return s.createElement(h.TrackingContext,{name:"Team Restore",properties:{teamId:e}},s.createElement(p.FullWidthPageContent,{menu:n},s.createElement("div",{className:g.page},s.createElement("div",{className:g.section},s.createElement("div",{className:g.header},a),s.createElement("div",{className:g.text},i),o))))}}t.TeamRestorePage=v,v.displayName="TeamRestorePage"}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.enumLookup=function(e,o){for(const t of Object.keys(e))if(e[t]===o)return e[t]}}),
(function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=i(331                        ),g=i(673       ),l=i(651                          ),n=i(210                               );r.OrgViewViewSelector=class{pathToSelectedView(e,r){const{currentOrgId:i,profileHandleToInfo:l}=e;if(r.length>=2&&r[1].startsWith("@")){const e=r[1].slice(1);if(!l||!e)return null;if(!(e.toLowerCase()in l))return null;const i=l[e.toLowerCase()];return i.type!==n.ProfileType.ORG?null:{view:"org",orgId:i.id,orgViewTab:o.OrgViewTab.PROFILE}}if("org"===r[1]&&r.length>=3)return{view:"org",orgId:r[2],orgViewTab:o.OrgViewTab.PROFILE};if(!i)return null;if("files"===r[1]&&2===r.length)return{view:"org",orgId:i,orgViewTab:o.OrgViewTab.HOME};if("files"===r[1]&&r.length>=3){const e={view:"org",orgId:i,orgViewTab:o.OrgViewTab.HOME},l=g.enumLookup(o.OrgViewTab,r[2]);return null==l?null:(e.orgViewTab=l,e)}return null}requireHistoryChange(e,r){return"org"!==e.view||"org"!==r.view?"org"===e.view!=("org"===r.view):e.orgId!==r.orgId}selectedViewName(e,r){if("org"!==r.view)return null;const{publicOrgProfileById:i,orgById:g}=e,l=g[r.orgId];if(r.orgViewTab===o.OrgViewTab.PROFILE){const e=i[r.orgId];if(!e)return"";let o=e.name||"";return e.profile_handle&&(o+=` (@${e.profile_handle})`),o}return r.orgViewTab===o.OrgViewTab.HOME?l?l.name:"":r.orgViewTab===o.OrgViewTab.SETTINGS?l?l.name+" Settings":"":r.orgViewTab===o.OrgViewTab.PLUGINS?"Plugins":"Org"}selectedViewToPath(e,r){if("org"!==r.view)return null;if(r.orgViewTab===o.OrgViewTab.PROFILE){const i=e.publicOrgProfileById[r.orgId];return i&&i.profile_handle?`/@${i.profile_handle}`:`/org/${r.orgId}`}const i=l.getOrgPathPart(e);if(!i)return null;let g=`/files${i}`;return r.orgViewTab&&(g+=`/${r.orgViewTab}`),g}}}),
(function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=i(85                   );r.OrgSelfServeViewSelector=class{pathToSelectedView(e,r,i){return t.getFeatureFlags().org_self_serve&&"purchase-organization"===r[1]?{view:"orgSelfServe"}:null}selectedViewToPath(e,r){return"orgSelfServe"===r.view?"/purchase-organization":null}requireHistoryChange(e,r){return"orgSelfServe"===r.view}selectedViewName(e,r){return"orgSelfServe"!==r.view?null:"Purchase Figma Organization"}}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(332                         ),u=s(164         ),n=s(651                          ),t=s(210                               ),l=s(85                   ),a=s(326                             );r.UserViewViewSelector=class{pathToSelectedView(e,r){const{user:s,profileHandleToInfo:u}=e;if(r.length>=2&&"my_plugins"===r[1])return s?a.communityHubGAEnabled()?{view:"user",userId:s.id,userViewTab:i.UserViewTab.PLUGINS}:{view:"communityHub",subView:"dashboard"}:null;if(r.length>=2&&r[1].startsWith("@")){const e=r[1].slice(1);if(!u||!e)return null;if(!(e.toLowerCase()in u))return null;const s=u[e.toLowerCase()];return s.type!==t.ProfileType.USER?null:{view:"user",userId:s.id,userViewTab:i.UserViewTab.PROFILE}}if("user"===r[1]&&r.length>=3)return{view:"user",userId:r[2],userViewTab:i.UserViewTab.PROFILE};if("files"===r[1]&&"user"===r[2]&&r.length>=4&&s){const u=r[3];if("settings"===r[r.length-1]&&u===s.id)return{view:"user",userId:s.id,userViewTab:i.UserViewTab.SETTINGS};if("plugins"===r[r.length-1])return{view:"user",userId:u,userViewTab:i.UserViewTab.PLUGINS};if(e.currentOrgId)return{view:"user",userId:u,userViewTab:i.UserViewTab.ORG};if(u===s.id||l.getFeatureFlags().internal_profile_non_org)return{view:"user",userId:u,userViewTab:i.UserViewTab.ORG}}return null}requireHistoryChange(e,r){return"user"!==e.view||"user"!==r.view?"user"===e.view!=("user"===r.view):e.userId!==r.userId||e.userViewTab!==r.userViewTab}selectedViewName(e,r){if("user"!==r.view)return null;const{user:s,orgUsersByOrgId:u,currentOrgId:t,publicUserProfileById:l}=e,a=t&&u.orgUsers[t]||{};if(n.isUserAccountSettingsView(r))return s&&r.userId===s.id?s.name:"";if(r.userViewTab===i.UserViewTab.ORG){const e=a[r.userId];return e?e.user.handle:""}if(r.userViewTab===i.UserViewTab.PLUGINS)return"Plugins";if(r.userViewTab===i.UserViewTab.PROFILE){const e=l[r.userId];if(!e)return"";let s=e.handle||"";return e.profile_handle&&(s+=` (@${e.profile_handle})`),s}return"User"}selectedViewToPath(e,r){if("user"!==r.view)return null;const s=this.selectedViewName(e,r),t=s?u.URISlug(s):"",l=n.getOrgPathPart(e);if(n.isUserAccountSettingsView(r))return`/files${l}/user/${r.userId}${t?`/${t}`:""}/settings`;if(r.userViewTab===i.UserViewTab.ORG&&e.currentOrgId)return`/files${l}/user/${r.userId}${t?`/${t}`:""}`;if(r.userViewTab!==i.UserViewTab.ORG||e.currentOrgId){if(r.userViewTab===i.UserViewTab.PROFILE){const s=e.publicUserProfileById[r.userId];return s&&s.profile_handle?`/@${s.profile_handle}`:`/user/${r.userId}${t?`/${t}`:""}`}return r.userViewTab===i.UserViewTab.PLUGINS?`/files/user/${r.userId}/plugins`:null}return`/files/user/${r.userId}${t?`/${t}`:""}`}selectedViewHasMissingResources(e,r){return"user"===r.view&&!!n.isUserAccountSettingsView(r)&&!e.user}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(188                             ),r=i(379                                                     ),s=i(133                               ),l=i(94                                   ),o=i(138                                   ),n=i(137                             ),d=i(106                                     ),c=i(265                               ),f=i(140                               ),w=i(612                      ),m=i(96                     ),u=i(276                       ),p=i(517                               ),v=i(146                                          ),g=i(85                   ),h=i(121              ),y=i(662                                    ),b=i(160       ),_=i(117              ),I=i(115          ),S=i(663                          ),T=i(668                                       ),V=i(672                                                          ),P=i(674                                                           ),F=i(675                                                        ),E=i(676                                                             ),$=i(164         ),O=i(306                          ),R=i(377                                                        ),A=i(139                         ),U=i(673       ),H=i(651                          ),C=new S.ComposingViewSelector([new T.WelcomeSequenceViewSelector,new V.TeamRestoreViewSelector,new E.UserViewViewSelector,new R.CommunityHubViewSelector,new P.OrgViewViewSelector,new F.OrgSelfServeViewSelector]);function K(e,t){const i=j(e,t),a=i?$.URISlug(i):"",r=H.getOrgPathPart(e);if("folder"===t.view){const i=m.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers);let s=`/files${r}/project/${t.folderId}`;return a&&(s+=`/${a}`),i&&i.id===t.folderId&&(s=`/files${r}/drafts`),s}if("team"===t.view){if(t.teamViewTab===A.TeamViewTab.PROFILE){const i=e.publicTeamProfileById[t.teamId];return i&&i.profile_handle?`/@${i.profile_handle}`:`/team/${t.teamId}`}let i=`/files${r}/team/${t.teamId}`;if(a&&(i+=`/${a}`),t.teamViewTab&&(i+=`/${t.teamViewTab}`),t.teamPreferencesModalTab){const e={};e.teamPreferencesModalTab=t.teamPreferencesModalTab,i+=`?${h.encode(e)}`}return i}if("recentFiles"===t.view)return`/files${r}/recent`;if("deletedFiles"===t.view)return`/files${r}/deleted`;if("sharedFiles"===t.view)return`/files${r}/shared`;if("sharedProjects"===t.view)return`/files${r}/shared-projects`;if("searchResults"===t.view)return`/files${r}/search/${e.fileSearch.query?encodeURIComponent(e.fileSearch.query):""}`;if("teamCreation"===t.view)return`/files${r}/create-team`;if("addCollaborators"===t.view)return`/files${r}/add-collaborators/${t.teamId}`;if("activityLogs"===t.view){const e={};let i=`/files${r}/activity-logs`;return t.initialEmail&&(e.initialEmail=t.initialEmail,i+=`?${h.encode(e)}`),i}if("configureSSO"===t.view)return`/files${r}/configure-sso`;if("teamUpgrade"===t.view)return"variant"===p.pickTreatment("exp_cart")&&t.cartStep?`/files/upgrade-team/${t.teamId}/${t.cartStep}`:t.paymentStep?`/files/upgrade-team/${t.teamId}/${t.paymentStep}`:`/files/upgrade-team/${t.teamId}`;if("addAnnualPlan"===t.view)return`/files/add-annual-plan/${t.teamId}`;if("teamAdmin"===t.view)return`/team/${t.teamId}/admin`;if("teamInvoices"===t.view)return`/team/${t.teamId}/admin/invoices`;if("prototype"===t.view){if(t.fileKey===y.INTERACTION_TEST_FAKE_FILE_KEY)return`/test/interactions${window.location.search}`;let e=`/proto/${t.fileKey}`;return a&&(e+=`/${a}`),e+=w.urlQueryForPrototype(t),e+=w.urlFragmentForPrototype(t.commentThreadId)}if("fullscreen"===t.view){let e={};let i=`/file/${t.fileKey||"new"}`;return t.fileKey===y.INTERACTION_TEST_FAKE_FILE_KEY?`/test/interactions${window.location.search}`:(i+=a?`/${a}`:"/Untitled",t.landingState&&"DUPLICATE"===t.landingState&&(i+="/duplicate"),t.versionId&&(e["version-id"]=t.versionId),t.newFile&&(e.new="1"),t.nodeId&&b.isValid(b.fromString(t.nodeId))&&(e["node-id"]=t.nodeId),t.viewport&&(e.viewport=t.viewport),null!=h.parse(window.location.search).zeplin_scheme&&(e.zeplin_scheme=h.parse(window.location.search).zeplin_scheme),Object.keys(e).length>0&&(i+=`?${h.encode(e)}`),i)}return C.selectedViewToPath(e,t)}t.selectedViewToPath=K;const B=["create-team","deleted","drafts","project","recent","search","shared","shared-projects","team","activity-logs","configure-sso","settings","user"],D=(e,t)=>{const i=e.split("/");if(!i[1]||"files"!==i[1])return i;const a=new RegExp(`^/files/([a-zA-Z0-9-]+)/(?:${B.join("|")})(.*)$`);return e.match(a)?(i.splice(2,1),i):(i.length>=3&&H.isOrgIdentifier(i[2],t)&&i.splice(2,1),i)};function N(e,t,i,a){const r=D(t,e);switch(""===r[r.length-1]&&r.splice(r.length-1,1),r[1]){case"files":switch(r[2]){case"drafts":{const t=m.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers);return t?{view:"folder",folderId:t.id}:{view:"recentFiles"}}case"personal":case"shared-projects":return{view:"sharedProjects"};case"project":return{view:"folder",folderId:r[3]};case"team":{const e={view:"team",teamId:r[3],teamViewTab:A.TeamViewTab.HOME},t=i?h.parse(i):{};if(5===r.length||6===r.length){const t=U.enumLookup(A.TeamViewTab,r[r.length-1]);t&&(e.teamViewTab=t)}return t.teamPreferencesModalTab&&(e.teamViewTab=A.TeamViewTab.SETTINGS,e.teamPreferencesModalTab=t.teamPreferencesModalTab),r.length>5&&"restore"===r[5]?{view:"teamRestore",teamId:r[3],teamName:r[4]}:e}case"recent":if(i&&"members-billing"===h.parse(i).orgDashboardTab)return{view:"recentFiles",orgDashboardTab:"members",sortType:O.OrgRosterSortType.UPGRADED_DATE};{const e=i?h.parse(i):{};return e.orgDashboardTab?{view:"recentFiles",orgDashboardTab:e.orgDashboardTab}:{view:"recentFiles"}}case"activity-logs":const t={view:"activityLogs"},a=i?h.parse(i):{};return a.initialEmail&&(t.initialEmail=a.initialEmail),t;case"configure-sso":return{view:"configureSSO"};case"create-team":return{view:"teamCreation"};case"add-collaborators":return{view:"addCollaborators",teamId:r[3]};case"upgrade-team":{let e=r[3];const t={view:"teamUpgrade",teamId:e,previousView:{view:"teamAdmin",teamId:e}};return t.paymentStep=r[4]||u.PaymentStep.CHOOSE_PLAN,"variant"===p.pickTreatment("exp_cart")&&(t.cartStep=u.paymentStepToCartStep(r[4])),t}case"add-annual-plan":return{view:"addAnnualPlan",teamId:r[3]};case"deleted":return{view:"deletedFiles"};case"search":return r[3]?{view:"searchResults"}:{view:"recentFiles"}}break;case"team":{const e=r[2];if("admin"===r[3])return"invoices"===r[4]?{view:"teamInvoices",teamId:e}:{view:"teamAdmin",teamId:e};if(3===r.length)return{view:"team",teamId:e,teamViewTab:A.TeamViewTab.PROFILE};break}case"file":{let e=i?h.parse(i):{};a=a?a.slice(1):"";const t={view:"fullscreen"};if("new"!==r[2]&&(t.fileKey=r[2]),a&&("commentPreferences"===a?t.showCommentPreferencesPicker=!0:t.commentThreadId=a),"code"===e["properties-panel-tab"]&&(t.showInspectPanel=!0),e.integration_id&&(t.integrationId=e.integration_id,t.integrationParams={},e.scale&&(t.integrationParams.scale=+e.scale)),e["node-id"]&&(t.nodeId=e["node-id"]),e["version-id"]&&(t.versionId=e["version-id"]),e.new&&(t.preloaded=!0),e.viewport){const i=e.viewport.split(",");3!==i.length||isNaN(+i[0])||isNaN(+i[1])||isNaN(+i[2])||(t.viewport=e.viewport)}return("duplicate"===r[4]||e.duplicate)&&(t.landingState="DUPLICATE"),t}case"test":if("interactions"===r[2]){const e=i?h.parse(i):{},t={view:"fullscreen",fileKey:y.INTERACTION_TEST_FAKE_FILE_KEY};return e["node-id"]&&(t.nodeId=e["node-id"]),t}break;case"proto":{const e=i?h.parse(i):{},t={view:"prototype",fileKey:r[2]};a=a?a.slice(1):"",e.scaling&&(t.scalingMode=e.scaling),e["show-debug-stats"]&&(t.showDebugStats=!0),"1"===e["stage-debug"]?t.showStageDebug=!0:t.showStageDebug=!1,e["version-id"]&&(t.versionId=e["version-id"]),e["bg-color"]&&(t.backgroundColorHex=16777215&parseInt(e["bg-color"],16)),e["hide-ui"]&&(t.hideUI=!0),t.showHotspots=!0,"0"===e["hotspot-hints"]&&(t.showHotspots=!1),"true"===e["mobile-optimizations"]?t.mobileOptimizations=!0:t.mobileOptimizations=!1,a&&(t.commentThreadId=a);let s=e["node-id"];return s&&!a&&b.isValid(b.fromString(s))&&(t.nodeId=s),t}}return C.pathToSelectedView(e,r,i)||{view:"recentFiles"}}function j(e,t){if("folder"===t.view)return m.getFolderName(e.folders[t.folderId]);if("team"===t.view){if(t.teamViewTab===A.TeamViewTab.PROFILE){const i=e.publicTeamProfileById[t.teamId];return i&&i.name||"Team"}return e.teams[t.teamId].name}if("recentFiles"===t.view)return"Recently Viewed";if("deletedFiles"===t.view)return"Deleted Files";if("sharedFiles"===t.view)return"Shared with Me";if("searchResults"===t.view)return"Search Results";if("activityLogs"===t.view)return"Activity Logs";if("configureSSO"===t.view)return"Configure SSO";if("teamCreation"===t.view)return"Create New Team";if("addCollaborators"===t.view)return"Add Collaborators";if("teamUpgrade"===t.view)return`Upgrade ${e.teams[t.teamId].name}`;if("orgSelfServe"===t.view)return"Upgrade to Organization";if("addAnnualPlan"===t.view)return"Add an Annual Plan";if("teamAdmin"===t.view)return"Admin Dashboard";if("teamInvoices"===t.view)return"Team Invoices";if("sharedProjects"===t.view)return"Shared Projects";if("fullscreen"===t.view||"prototype"===t.view){let i="Untitled";if(t.fileKey){let a=e.fileByKey[t.fileKey];a&&(i=`${a.name}`)}return i}return C.selectedViewName(e,t)}function L(e,t){let i="";const a=j(e,t);if(a)if("prototype"===t.view){const t=function(e){const t=e.prototype;for(const i of t.pages)if(i.nodeId===t.currentPageId)return i.name;return""}(e);i=t?`▶ ${t} - ${a}`:`▶ ${a}`}else i=`${a} – Figma`;else i="Figma";if(i!==document.title&&(document.title=i,_.desktopApp)){if("fullscreen"===t.view&&!t.fileKey)return;_.desktopApp.setTitle(a)}}function M(e,t){return null==e||null==t?e!==t:"recentFiles"===e.view!=("recentFiles"===t.view)||"deletedFiles"===e.view!=("deletedFiles"===t.view)||"folder"===e.view!=("folder"===t.view)||"folder"===e.view&&"folder"===t.view&&e.folderId!==t.folderId||"team"===e.view!=("team"===t.view)||"team"===e.view&&"team"===t.view&&e.teamId!==t.teamId||"teamAdmin"===e.view!=("teamAdmin"===t.view)||"teamAdmin"===e.view&&"teamAdmin"===t.view&&e.teamId!==t.teamId||"teamInvoices"===e.view!=("teamInvoices"===t.view)||"teamInvoices"===e.view&&"teamInvoices"===t.view&&e.teamId!==t.teamId||"teamUpgrade"===e.view!=("teamUpgrade"===t.view)||"teamUpgrade"===e.view&&"teamUpgrade"===t.view&&e.teamId!==t.teamId||"teamUpgrade"===e.view&&"teamUpgrade"===t.view&&(i=e,a=t,"control"===p.pickTreatment("exp_cart")?a.paymentStep!==u.PaymentStep.CONFIRM_PAY&&i.paymentStep!==a.paymentStep:-1!==u.cartHistoricSteps.indexOf(a.cartStep)&&i.cartStep!==a.cartStep)||"fullscreen"===e.view!=("fullscreen"===t.view)||"fullscreen"===e.view&&"fullscreen"===t.view&&function(e,t){return e.fileKey!==t.fileKey}(e,t)||"prototype"===e.view&&"prototype"===t.view&&function(e,t){return!!e.nodeId&&e.nodeId!==t.nodeId}(e,t)||C.requireHistoryChange(e,t);var i,a}t.pathToSelectedView=N,t.requireHistoryChange=M,t.fileBrowserSelectedViewHasMissingResources=((e,t)=>f.selectedViewHasMissingResources(t,e.getState())||C.selectedViewHasMissingResources(e.getState(),t)),t.fileBrowserHydrateWasHit=!1,t.fileBrowserHistory=(e=>i=>(function(w){var u,p,y;let b=e.getState().selectedView;i(w);let _=e.getState();if(d.fileBrowser.hydrate.matches(w)){t.fileBrowserHydrateWasHit=!0;let i=_.selectedView;if(i===f.EMPTY_SELECTED_VIEW&&(i=g.default().selected_view||N(_,location.pathname,location.search,location.hash)),t.fileBrowserSelectedViewHasMissingResources(e,i)&&(i=f.EMPTY_SELECTED_VIEW),"teamUpgrade"===i.view){const e=_.teams[i.teamId];e&&e.subscription&&(i={view:"teamAdmin",teamId:i.teamId})}if(i!==f.EMPTY_SELECTED_VIEW){if("searchResults"===i.view){let t,i="";(t=window.location.pathname.match(/^\/files\/search\/(.*)$/))?i=decodeURIComponent(t[1]):(t=window.location.pathname.match(/^\/files\/([0-9]+)\/search\/(.*)$/))&&(i=decodeURIComponent(t[2])),e.dispatch(d.fileBrowser.setFileSearchQuery({query:i}))}else if("communityHub"===i.view&&"search"===i.subView&&g.getFeatureFlags().community_hub_search){const t=new URLSearchParams(window.location.search),i=t.get("q"),a=t.get("model_type");i&&a&&e.dispatch(c.searchActions.changeSearchQuery({searchModelType:a,query:i,debounce:!1}))}e.dispatch(d.fileBrowser.selectView(i))}else{const t=m.getUserDraftsFolderOrNull(_.folders,_.currentOrgId,_.roles,_.user,_.orgUsersByOrgId.orgUsers);w.payload.recent_files&&w.payload.recent_files.length?e.dispatch(d.fileBrowser.selectView({view:"recentFiles"})):t?e.dispatch(d.fileBrowser.selectView({view:"folder",folderId:t.id})):e.dispatch(d.fileBrowser.selectView({view:"recentFiles"}))}return w}if(n.team.del.matches(w)){const t=e.getState().selectedView;let i=K(_,t);return history&&window.location.pathname+window.location.search!==i&&(history.state&&M(b,t)?I.debouncedHistoryPushState(t,null,i):I.debouncedHistoryReplaceState(t,null,i),L(_,t)),w}if(o.fullscreen.newFileLoaded.matches(w)){const e={view:"fullscreen",fileKey:w.payload.file.key},t=K(_,e);return I.debouncedHistoryReplaceState(e,null,t),w}if(d.fileBrowser.selectView.matches(w)){if(!w.payload.fromPopstate){let t=K(_,w.payload);if(history)if(window.location.pathname+window.location.search!==t){!w.payload.forceReplaceState&&history.state&&M(b,w.payload)?I.debouncedHistoryPushState(Object.assign(Object.assign({},w.payload),{previousSelectedView:b}),null,t):I.debouncedHistoryReplaceState(Object.assign(Object.assign({},w.payload),{previousSelectedView:b}),null,t)}else null==history.state&&I.debouncedHistoryReplaceState(Object.assign(Object.assign({},w.payload),{previousSelectedView:b}),null,t);(null===(y=null===(p=null===(u=e.getState())||void 0===u?void 0:u.user)||void 0===p?void 0:p.appData)||void 0===y?void 0:y.loggedOut)&&"fullscreen"!==w.payload.view&&I.locationReload("User Logged out")}L(_,w.payload)}else if(r.mergePublishedAndValidate.matches(w)){const t=e.getState().selectedView,i=w.payload.publishedPlugins,a=t&&"communityHub"===t.view&&"plugin"===t.subView&&t.publishedPluginId;if(a&&i&&i.some(e=>e.id===a)){if(history){let e=K(_,t);I.debouncedHistoryReplaceState(t,null,e)}L(_,t)}}else if(d.fileBrowser.init.matches(w)){window.addEventListener("popstate",t=>{if(t.state){let i=e.getState(),a=i.selectedView,r=t.state;if("fullscreen"===a.view&&!v.fullscreen.isReady())return void I.locationReload("User navigated before fullscreen fully initialized");if("fullscreen"===r.view&&!r.fileKey)return void window.history.back();"fullscreen"!==a.view||"fullscreen"===r.view&&a.fileKey===r.fileKey?(e.dispatch(d.fileBrowser.selectView(Object.assign(Object.assign({},r),{fromPopstate:!0}))),L(i,r)):e.dispatch(o.fullscreen.handlePopState({oldSelectedView:a,newSelectedView:r}))}});let t=h.parse(location.search).flash;t&&e.dispatch(l.flash.flash(t))}else if(s.folder.put.matches(w)){let t=e.getState().selectedView;"folder"===t.view&&t.folderId===w.payload.folder.id&&L(_,t)}else if(a.file.put.matches(w)){let t=e.getState().selectedView;if("fullscreen"===t.view&&w.payload.file.key===t.fileKey){L(_,t);let e=K(_,t);history&&I.debouncedHistoryReplaceState(t,null,e)}}else if(a.file.deleteFiles.matches(w)){if("folder"===e.getState().selectedView.view&&w.payload.userInitiated){let t=w.payload.fileKeys;for(let i in t)e.dispatch(s.folder.delPinnedFile({folderId:t[i].folder_id,fileKey:t[i].key}))}}else if(a.file.move.matches(w)){if("folder"===e.getState().selectedView.view){let t=w.payload.files;for(let i in t)e.dispatch(s.folder.delPinnedFile({folderId:t[i].folder_id,fileKey:t[i].key}))}}else if(d.fileBrowser.setFileSearchQuery.matches(w)){let t=e.getState().selectedView;t&&"searchResults"===t.view&&I.debouncedHistoryReplaceState(t,null,K(_,t))}else if(c.searchActions.setParameters.matches(w)&&g.getFeatureFlags().community_hub_search){let t=e.getState().selectedView;t&&"communityHub"===t.view&&"search"===t.subView&&(I.debouncedHistoryReplaceState(t,null,K(_,t)),L(_,t))}else 0===k&&(k=setTimeout(function(){k=0,null===e.getState().selectedView&&e.dispatch(d.fileBrowser.selectView({view:"recentFiles"}))},0));return w}));let k=0;t.default=t.fileBrowserHistory}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(124     ),o=i(104                     ),r=i(106                                     ),a=i(399                                      ),s=i(140                               ),f=i(112                      );t.fileFollowerMiddleware=(e=>t=>(function(i){if(!r.fileBrowser.selectView.matches(i)){if(a.fileFollower.post.matches(i)){if(i.payload.userInitiated){let r=i.payload.fileFollower;return f.trackEventForFile("File Follower Added",r.key,e.getState()),o.optimisticRequest({requestPromise:l.default.post(`/api/file/${r.key}/file_followers`).then(({data:t})=>{e.dispatch(a.fileFollower.post({fileFollower:t.meta,userInitiated:!1}))}),fallbackError:"An error occurred while subscribing to this file",store:e,next:t,action:i})}return t(i)}if(a.fileFollower.del.matches(i)){if(i.payload.userInitiated){let r=i.payload.fileFollower;return f.trackEventForFile("File Follower Deleted",r.key,e.getState()),o.optimisticRequest({requestPromise:l.default.del(`/api/file/${r.key}/file_followers`),fallbackError:"An error occurred while unsubscribing from this file",store:e,next:t,action:i})}return t(i)}return t(i)}{const o=e.getState(),r=o.selectedView&&s.editingFileKey(o.selectedView);t(i);const f=e.getState(),c=s.editingFileKey(f.selectedView);f.user&&c&&c!==r&&(e.dispatch(a.fileFollower.reset()),((e,t)=>{l.default.get(`/api/file/${e}/file_followers`).then(({data:i})=>{let l=t.getState();if(s.editingFileKey(l.selectedView)===e)for(let e of i.meta)t.dispatch(a.fileFollower.post({fileFollower:e,userInitiated:!1}))})})(c,e))}}))}),
(function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(t){i(t)}}function n(e){try{l(o.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(133                               ),i=s(106                                     ),a=s(132                                  ),n=s(340              ),l=s(114           ),d=s(606                           ),c=s(95                      ),f=s(111                        ),u=s(342                           ),p=s(96                     ),h=s(372                                        ),m=s(368                                    ),_=s(341                         ),S=n.pxToInt(m.folderRowHeight),g=new d.ScoredSearchLibrary([],{keys:["folder.name","team.name"],threshold:.3,tokenize:!0}),F=(e,t,s)=>!!p.isADraftsFolder(t.folders,e.id)||!!f.canEditFolder(e.id,t)&&(!c.isFolderEditingLockedForUser(e,t)&&!(s&&!c.canAccessProFeature(e.team_id?t.teams[e.team_id]:null))),R=(e,t,s)=>!c.isTeamLockedForUser(e,t)&&!(s&&!c.canAccessProFeature(t.teams[e])),y=(e,t=!1)=>{const s=[];let o;Object.keys(e.folders).forEach(r=>{o=e.folders[r],p.isADraftsFolder(e.folders,r)&&(o=Object.assign(Object.assign({},o),{name:"Drafts"})),F(o,e,t)&&s.push(o)}),g.set(s.map(t=>{const s=t.team_id&&e.teams[t.team_id];return s?{folder:t,team:s}:{folder:t}}))},O=(e,t,s=!1,r=!1)=>o(void 0,void 0,void 0,function*(){let o=e.getState();var i,n;if(t){let s=((e,t)=>{const s=t.getState();let o=Object.create(null);const r=Object.create(null);let i=0,n=0;const l=p.getUserDraftsFolderOrNull(s.folders,s.currentOrgId,s.roles,s.user,s.orgUsersByOrgId.orgUsers);for(let a of e){const e=a.item.folder,t=l&&e.id===l.id?0:a.score,d=l&&e.id===l.id?u.USER_DRAFTS:v(e.team_id,s);d in o||(o[d]=[],d!==u.USER_FOLDERS&&d!==u.USER_DRAFTS&&n++),o[d].push(e),null==r[d]?r[d]=t:r[d]=Math.min(r[d],t),i++}const d=i+n;return t.dispatch(a.fileMove.setIndexCount({indexCount:d})),[r,o]})(yield g.search(t),e);n=s[0],i=s[1]}else i=((e,t,s)=>{const o=Object.create(null);let r=0,i=0,n=t.getState();const l=p.getUserDraftsFolderOrNull(n.folders,n.currentOrgId,n.roles,n.user,n.orgUsersByOrgId.orgUsers);o[u.USER_DRAFTS]=[],o[u.USER_FOLDERS]=[];for(let a in n.roles.byTeamId)R(a,n,s)&&(i++,o[a]=[]);Object.keys(e).forEach(t=>{const i=Object.assign({},e[t]);if(F(i,n,s)&&h.isSubcribed(e,i)){const e=l&&i.id===l.id?u.USER_DRAFTS:v(i.team_id,n);o[e].push(i),r++}});const d=r+i;return t.dispatch(a.fileMove.setIndexCount({indexCount:d})),t.dispatch(a.fileMove.resetFocusedIndex()),o})(o.folders,e,s);const l=Object.keys(i),d=0===l.length;!d&&t?l.sort((e=>(t,s)=>e[t]-e[s])(n)):d||l.sort((e=>(t,s)=>{const o=e[t],r=e[s];return o?r&&o.name.toLowerCase()<r.name.toLowerCase()?-1:1:-1})(o.teams));const[c,f,m]=((e,t,s)=>{const o=Object.create(null),r=Object.create(null),i=[];let a=0,n=0;return e.forEach(e=>{let s=48;if(e===u.USER_DRAFTS&&(s=12),n+=s,r[e]=a,e!==u.USER_FOLDERS&&e!==u.USER_DRAFTS){const t={type:_.FolderRowType.NEW_FOLDER_TEAM,id:e,positionTop:n};i.push(t),n+=S,a+=1}const l=t[e];a+=l.length,l.sort((e,t)=>""===e.path?-1:""===t.path?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1),l.forEach(e=>{const t={type:_.FolderRowType.FOLDER_ROW,id:e.id,positionTop:n};n+=S,i.push(t)}),o[e]=l,n+=13}),[o,r,i]})(l,i);e.dispatch(a.fileMove.setFolderRows({rows:m})),e.dispatch(a.fileMove.setIndexOffsets({indexOffsets:f})),e.dispatch(a.fileMove.setfoldersByTeamId({foldersByTeamId:c})),e.dispatch(a.fileMove.setTeamOrder({teamIds:l})),o.fileMove.isSearchResult!==r&&e.dispatch(a.fileMove.isSearchResult({isSearchResult:r}));const y=u.USER_DRAFTS in f&&m[0].type===_.FolderRowType.FOLDER_ROW;t&&y?e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:0})):t&&!y&&e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:1}))}),v=(e,t)=>{let s;return s=e&&f.canViewTeam(e,t)?e:u.USER_FOLDERS},b=l.debounce((e,t,s=!1)=>{O(e,t,s,!!t)},200);t.default=(e=>t=>(function(s){if(a.fileMove.setFolderSearchQuery.matches(s))return b(e,s.payload.query),t(s);if(a.fileMove.focusFolderId.matches(s)){const o=e.getState().fileMove.folderRows;for(let t=0;t<o.length;t++)if(o[t].id===s.payload.folderId){e.dispatch(a.fileMove.setFocusedIndexAt({indexAt:t}));break}return t(s)}if(i.fileBrowser.showModal.matches(s)){if(t(s),s.payload&&s.payload.type===h.FILE_MOVE_MODAL){const t=s.payload.data;y(e.getState(),t.isPublishing),((e,t=!1)=>{O(e,"",t,!1)})(e,t.isPublishing)}}else{if(!(r.folder.put.matches(s)||r.folder.post.matches(s)||r.folder.del.matches(s)))return t(s);{t(s);const o=e.getState();if(o.modalShown&&o.modalShown.type===h.FILE_MOVE_MODAL){const t=o.modalShown.data;y(o,t.isPublishing);const s=o.fileMove.folderSearchQuery;O(e,o.fileMove.folderSearchQuery,t.isPublishing,!!s)}}}}))}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=l(106                                     ),s=l(259                                    ),a=l(260                             ),c=l(126          ),o=l(257                         ),r=l(258                           );t.default=(e=>t=>(function(l){if(i.fileBrowser.selectView.matches(l)){const t=e.getState().selectedView;!("folder"===t.view&&"folder"===l.payload.view&&t.folderId===l.payload.folderId||"recentFiles"===t.view&&"recentFiles"===l.payload.view||"searchResults"===t.view&&"searchResults"===l.payload.view)&&a.numTilesSelected(e.getState().tileSelect)&&e.dispatch(s.tileSelect.resetTileSelection())}else if(s.tileSelect.selectTiles.matches(l)){if(l.payload.type===r.TileSelectionType.PINNED_FILES)for(let e of l.payload.tiles)e.type===o.TileType.FILE&&c.segmentTrackEvent("pinned-file-selected",{fileKey:e.file.key});return t(l)}return t(l)}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(106                                     ),a=n(112                      );t.default=(e=>t=>(function(n){if(o.fileBrowser.downloadFontInstaller.matches(n)||o.fileBrowser.downloadFontUninstaller.matches(n)){const l=o.fileBrowser.downloadFontInstaller.matches(n)?"Font Installer Downloaded":"Font Uninstaller Downloaded";let r=e.getState();return a.trackEventForUser(l,r),t(n)}return t(n)}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(106                                     ),s=o(216              ),n=o(117              ),l=o(651                          );t.default=(e=>t=>(function(o){return t(o),i.fileBrowser.selectView.matches(o)&&function e(t){(function(){if(n.desktopApp)return!1;const{user:e,selectedView:o}=t.getState();return e&&l.isUserAccountSettingsView(o)})()&&s.requestFontDaemonFontFiles().then(({data:o})=>{let s=0;for(let e in o.fontFiles)s+=o.fontFiles[e].length;t.getState().localFonts!==s&&t.dispatch(i.fileBrowser.setLocalFonts({value:s})),setTimeout(e.bind(void 0,t),2e3)}).catch(()=>{!1!==t.getState().localFonts&&t.dispatch(i.fileBrowser.setLocalFonts({value:!1})),setTimeout(e.bind(void 0,t),1e3)})}(e),o}))}),
(function(e,n,o){e.exports={modal:"license_agreement--modal--16g_-",scrollContainer:"license_agreement--scrollContainer--2gHHz",content:"license_agreement--content--281DO",footer:"license_agreement--footer--1Fau4"}}),
(function(e,t,n){"use strict";
// A license agreement modal to show on certain files.
Object.defineProperty(t,"__esModule",{value:!0});const o=n(3,1    ),r=n(106                                     ),s=n(141                ),i=n(227                                 ),a=n(347                                                  ),l=n(224                                            ),E=n(118                             ),c=n(115          ),p=n(683                      ),A=560;t.needsLicenseAgreement=(e=>{return"apple"===(e.license||"").toLowerCase()});class I extends o.PureComponent{constructor(){super(...arguments),this.state={checked:!1},this.onChange=(e=>{this.setState({checked:e.target.checked})}),this.accept=(()=>{this.props.dispatch(r.fileBrowser.hideModal());const e=s.getEditingFile(this.props),{selectedView:t}=this.props;"DUPLICATE"===t.landingState&&this.props.user&&null!=e&&c.redirect(`${e.url}/duplicate`)}),this.decline=(()=>{c.redirect("/")})}render(){var e,t;return"apple"===(null===(t=null===(e=s.getEditingFile(this.props))||void 0===e?void 0:e.license)||void 0===t?void 0:t.toLowerCase())?o.createElement(i.Modal,Object.assign({size:A,className:`${E.PREVENT_EVENT_CAPTURE} ${p.modal}`,disableClickOutsideToHide:!0},this.props),o.createElement(a.ScrollContainer,{width:A,className:p.scrollContainer,showScrollbar:!0},o.createElement("div",{className:p.content},o.createElement(u,null))),o.createElement("div",{className:p.footer},o.createElement(l.Checkbox,{id:"check-license-agreement",checked:this.state.checked,onChange:this.onChange}),o.createElement(l.Label,{htmlFor:"check-license-agreement"},"I have read, understood, and agree to the License Agreement."),o.createElement(l.ButtonSecondary,{onClick:this.decline},"Disagree and Cancel"),o.createElement(l.ButtonPrimary,{disabled:!this.state.checked,onClick:this.accept},"Agree and Open"))):o.createElement("div",null)}}t.LicenseAgreementModal=I,I.displayName="LicenseAgreementModal";class u extends o.PureComponent{render(){return o.createElement("div",null,o.createElement("p",null,"APPLE INC."),o.createElement("p",null,"LICENSE AGREEMENT FOR APPLE UI DESIGN RESOURCES"),o.createElement("p",null,"For iOS Application Uses Only"),o.createElement("p",null,"PLEASE READ THIS LICENSE AGREEMENT (“LICENSE”) CAREFULLY BEFORE USING THE APPLE UI DESIGN RESOURCES (DEFINED BELOW). BY USING THE APPLE UI DESIGN RESOURCES, YOU ARE AGREEING TO BE BOUND BY THE TERMS OF THIS LICENSE. IF YOU ARE ACCESSING THE APPLE UI DESIGN RESOURCES ELECTRONICALLY, SIGNIFY YOUR AGREEMENT TO BE BOUND BY THE TERMS OF THIS LICENSE BY CLICKING THE “AGREE” BUTTON. IF YOU DO NOT AGREE TO THE TERMS OF THIS LICENSE, DO NOT USE THE APPLE UI DESIGN RESOURCES AND CLICK “DISAGREE”. IMPORTANT NOTES:"),o.createElement("p",null,"THE APPLE UI DESIGN RESOURCES LICENSED HEREUNDER ARE TO BE USED SOLELY FOR CREATING MOCK-UPS OF USER INTERFACES DESIGNED FOR USE IN SOFTWARE PRODUCTS THAT RUN SOLELY ON APPLE’S iOS OPERATING SYSTEM."),o.createElement("p",null,"If you are entering into this License on behalf of your company or organization, “you” or “your” refers to such entity as well, and you represent that you have legal authority to bind your company or organization to the terms of this License."),o.createElement("p",null,"1. General."),o.createElement("p",null,"A. The Apple software, interfaces, content, templates, data, and other materials accompanying this License, whether on disk, print or electronic documentation, in read only memory, or any other media or in any other form (collectively the “Apple UI Design Resources”) are licensed, not sold, to you by Apple Inc. (“Apple”) for use only under the terms of this License. Apple and/or Apple’s licensors retain ownership of the Apple UI Design Resources and reserve all rights not expressly granted to you. The terms of this License will govern any software upgrades provided to you by Apple that replace and/or supplement the original Apple UI Design Resources, unless such upgrade is accompanied by a separate license in which case the terms of that license will govern."),o.createElement("p",null,"B. To the extent that the Apple San Francisco font is included with the Apple UI Design Resources, it is subject to a separate license agreement. If you want to install and use the Apple San Francisco font, you must first accept the separate license agreement that accompanies the font."),o.createElement("p",null,"C. Title and intellectual property rights in and to any content displayed by or accessed through the Apple UI Design Resources belongs to the respective content owner. Such content may be protected by copyright or other intellectual property laws and treaties, and may be subject to terms of use of the third party providing such content. This License does not grant you any rights to use such content nor does it guarantee that such content will continue to be available to you."),o.createElement("p",null,"2. Permitted License Uses and Restrictions."),o.createElement("p",null,"A. Limited License. Subject to the terms of this License, you are granted a limited, non-transferable, non-exclusive license to use the Apple UI Design Resources solely for creating mock-ups of user interfaces designed for use in software products that run solely on Apple’s iOS operating system (“Mock-Ups”). The foregoing right includes the right to show the Apple UI Design Resources in screen shots, images or other depictions of such Mock-Ups. You may use the Apple UI Design Resources only for the purposes described in this License and only if you are a registered Apple Developer, or as otherwise expressly permitted by Apple in writing."),o.createElement("p",null,"B. Other Use Restrictions. The grants set forth in this License do not permit you to, and you agree not to, install, use or run the Apple UI Design Resources for the purpose of creating mock-ups of user interfaces to be used in software products running on any non-Apple iOS operating system. You may not embed the Apple UI Design Resources in any software programs or other products. Except as expressly provided for herein, you may not use the Apple UI Design Resources to, create, develop, display or otherwise distribute any documentation, artwork, website content or any other work product. Except as otherwise expressly permitted by the terms of this License or as otherwise licensed by Apple, you may not make the Apple UI Design Resources available over a network where they could be run or used by multiple computers at the same time. You may not rent, lease, lend, trade, transfer, sell, sublicense or otherwise redistribute the Apple UI Design Resources in any unauthorized way, or enable others to do so."),o.createElement("p",null,"C. Template Content. The Apple UI Design Resources licensed hereunder contain content such as interfaces, graphics, artwork, images, and similar content (individually and collectively, the “Template Content”), for use in creating your Mock-Ups in accordance with this License. To the extent that you provide Mock-Ups you create using the Template Content to any other party, you agree to ensure that each such recipient is aware of the restrictions set forth in this License including, without limitation, the restriction on extraction of Template Content and the requirement that the Template Content be used only for Mock-Ups of user interfaces for software products that would run solely on Apple’s iOS operating system. The Template Content may not otherwise be used, extracted, copied, modified, distributed, or repackaged as content, clip art, stock animation, or similar assets, or in any other manner."),o.createElement("p",null,"D. No Reverse Engineering; Limitations. You may not, and you agree not to or to enable others to, copy (except as expressly permitted by this License), decompile, reverse engineer, disassemble, attempt to derive the source code of, decrypt, modify, create derivative works of the Apple UI Design Resources or any part thereof (except as and only to the extent any foregoing restriction is prohibited by applicable law)."),o.createElement("p",null,"E. Compliance with Laws. You agree to use the Apple UI Design Resources in compliance with all applicable laws, including local laws of the country or region in which you reside or in which you download or use the Apple UI Design Resources."),o.createElement("p",null,"3. No Transfer or Assignment."),o.createElement("p",null,"Except as otherwise set forth herein, you may not transfer the Apple UI Design Resources without Apple’s express prior written approval. All components of the Apple UI Design Resources are provided as part of a bundle and may not be separated from the bundle and distributed on a standalone basis. This License may not be assigned by you, nor may the rights granted hereunder be transferred by you, in whole or in part, through acquisition, merger or otherwise, without the prior written consent of a duly authorized representative of Apple. Any attempted assignment in contravention of this section shall be void."),o.createElement("p",null,"4. Termination."),o.createElement("p",null,"This License shall commence upon your installation or use of the Apple UI Design Resources. Your rights under this License will terminate automatically or cease to be effective without notice from Apple (a) if you fail to comply with any term(s) of this License, (b) if you are no longer a registered Apple Developer, or (c) if Apple releases a version of the Apple UI Design Resources which is incompatible with this version of the Apple UI Design Resources. Upon the termination of this License, you shall cease all use of the Apple UI Design Resources and destroy all copies, full or partial, of the Apple UI Design Resources. Section 2B, 2D, and 5 through 10 of this License shall survive any termination."),o.createElement("p",null,"5. Disclaimer of Warranties."),o.createElement("p",null,"A. YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE LAW, USE OF THE APPLE UI DESIGN RESOURCES IS AT YOUR SOLE RISK AND THAT THE ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY AND EFFORT IS WITH YOU."),o.createElement("p",null,"B. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE APPLE UI DESIGN RESOURCES IS PROVIDED “AS IS” AND “AS AVAILABLE”, WITH ALL FAULTS AND WITHOUT WARRANTY OF ANY KIND, AND APPLE AND APPLE’S LICENSORS (COLLECTIVELY REFERRED TO AS “APPLE” FOR THE PURPOSES OF SECTIONS 5 AND 6) HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH RESPECT TO THE APPLE UI DESIGN RESOURCES, EITHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES AND/OR CONDITIONS OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, ACCURACY, QUIET ENJOYMENT, AND NON-INFRINGEMENT OF THIRD PARTY RIGHTS."),o.createElement("p",null,"C. APPLE DOES NOT WARRANT AGAINST INTERFERENCE WITH YOUR ENJOYMENT OF THE APPLE UI DESIGN RESOURCES, THAT THE FUNCTIONS CONTAINED IN THE APPLE UI DESIGN RESOURCES WILL MEET YOUR REQUIREMENTS, THAT THE OPERATION OF THE APPLE UI DESIGN RESOURCES WILL BE UNINTERRUPTED OR ERROR-FREE, THAT THE APPLE UI DESIGN RESOURCES WILL BE COMPATIBLE OR WORK WITH ANY THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, OR THAT DEFECTS IN THE APPLE UI DESIGN RESOURCES WILL BE CORRECTED. INSTALLATION OF THIS APPLE UI DESIGN RESOURCES MAY AFFECT THE AVAILABILITY AND USABILITY OF THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, AS WELL AS APPLE PRODUCTS AND SERVICES."),o.createElement("p",null,"D. YOU FURTHER ACKNOWLEDGE THAT THE APPLE UI DESIGN RESOURCES IS NOT INTENDED OR SUITABLE FOR USE IN SITUATIONS OR ENVIRONMENTS WHERE THE FAILURE OR TIME DELAYS OF, OR ERRORS OR INACCURACIES IN THE CONTENT, DATA OR INFORMATION PROVIDED BY, THE APPLE UI DESIGN RESOURCES COULD LEAD TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR ENVIRONMENTAL DAMAGE, INCLUDING WITHOUT LIMITATION THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, LIFE SUPPORT OR WEAPONS SYSTEMS."),o.createElement("p",null,"E. NO ORAL OR WRITTEN INFORMATION OR ADVICE GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE SHALL CREATE A WARRANTY. SHOULD THE APPLE UI DESIGN RESOURCES PROVE DEFECTIVE, YOU ASSUME THE ENTIRE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION."),o.createElement("p",null,"6. Limitation of Liability."),o.createElement("p",null,"TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT SHALL APPLE BE LIABLE FOR PERSONAL INJURY, OR ANY INCIDENTAL, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, CORRUPTION OR LOSS OF DATA, FAILURE TO TRANSMIT OR RECEIVE ANY DATA OR INFORMATION, BUSINESS INTERRUPTION OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY TO USE THE APPLE UI DESIGN RESOURCES OR ANY THIRD PARTY SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE APPLE UI DESIGN RESOURCES, HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT OR OTHERWISE) AND EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION MAY NOT APPLY TO YOU. In no event shall Apple’s total liability to you for all damages (other than as may be required by applicable law in cases involving personal injury) exceed the amount of fifty dollars ($50.00). The foregoing limitations will apply even if the above stated remedy fails of its essential purpose."),o.createElement("p",null,"7. Export Control."),o.createElement("p",null,"You may not use or otherwise export or re-export the Apple UI Design Resources except as authorized by United States law and the laws of the jurisdiction(s) in which the Apple UI Design Resources was obtained. In particular, but without limitation, the Apple UI Design Resources may not be exported or re-exported (a) into any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Department’s list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person’s List or Entity List or any other restricted party lists. By using the Apple UI Design Resources, you represent and warrant that you are not located in any such country or on any such list. You also agree that you will not use the Apple UI Design Resources for any purposes prohibited by United States law, including, without limitation, the development, design, manufacture or production of missiles, nuclear, chemical or biological weapons."),o.createElement("p",null,"8. Government End Users."),o.createElement("p",null,"The Apple UI Design Resources and related documentation are “Commercial Items”, as that term is defined at 48 C.F.R. §2.101, consisting of “Commercial Computer Software” and “Commercial Computer Software Documentation”, as such terms are used in 48 C.F.R. §12.212 or 48 C.F.R. §227.7202, as applicable. Consistent with 48 C.F.R. §12.212 or 48 C.F.R. §227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein. Unpublished-rights reserved under the copyright laws of the United States."),o.createElement("p",null,"9. Controlling Law and Severability."),o.createElement("p",null,"This License will be governed by and construed in accordance with the laws of the State of California, excluding its conflict of law principles. This License shall not be governed by the United Nations Convention on Contracts for the International Sale of Goods, the application of which is expressly excluded. If for any reason a court of competent jurisdiction finds any provision, or portion thereof, to be unenforceable, the remainder of this License shall continue in full force and effect."),o.createElement("p",null,"10. Complete Agreement; Governing Language."),o.createElement("p",null,"This License constitutes the entire agreement between you and Apple relating to the use of the Apple UI Design Resources licensed hereunder and supersedes all prior or contemporaneous understandings regarding such subject matter. No amendment to or modification of this License will be binding unless in writing and signed by Apple. The parties hereto confirm that they have requested that this Agreement and all related documents be drafted in English. Les parties ont exigé que le présent contrat et tous les documents connexes soient rédigés en anglais."),o.createElement("p",null,"EA1441"),o.createElement("p",null,"12/02/2016"))}}u.displayName="AppleLicenseAgreement"}),
(function(e,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=l(146                                          ),t=l(85                   );var c="fullscreen_websocket_api",r=0,s=null,i=!1;function u(e){const n="https:"==location.protocol?"wss":"ws",l=t.default().tracking_session_id;return`${n}://${location.host}/api/multiplayer/${e}?role=editor&tracking_session_id=${l}&version=33`}n.multiplayerURLForFileKey=u;let a=null,f=null,p=null;function d(e){a!==e&&(E(),a=e,(f=new WebSocket(e)).binaryType="arraybuffer",p=[],f.onmessage=(e=>{p&&p.push(new Uint8Array(e.data))}),f.onclose=(()=>{E()}),f.onerror=(()=>{E()}))}function E(){if(a=null,p=null,null!==f){f.onopen=null,f.onmessage=null,f.onclose=null,f.onerror=null;try{f.close()}catch(e){}f=null}}function m(e){if(b(),e!==a||!f||f.readyState!==WebSocket.CONNECTING&&f.readyState!==WebSocket.OPEN)null!==a&&console.warn(`Preconnect URL ${a} doesn't match URL ${e}, skipping preconnect optimization`),E(),(s=new WebSocket(e)).binaryType="arraybuffer",s.onopen=(()=>{o.fullscreen.DEPRECATED_sendMessage(c+":connect")});else{console.log(`Applied the preconnect optimization for URL ${e}`);let n=p||[];s=f,f=null,a=null,p=null,o.fullscreen.DEPRECATED_sendMessage(c+":connect");for(let e of n)o.fullscreen.DEPRECATED_sendMessage(c+":receive",{},e)}s.onmessage=(e=>{o.fullscreen.DEPRECATED_sendMessage(c+":receive",{},new Uint8Array(e.data))}),s.onclose=(()=>{b()}),s.onerror=(()=>{b()})}function b(){if(null!==s){s.onopen=null,s.onmessage=null,s.onclose=null,s.onerror=null;try{s.close()}catch(e){}s=null,o.fullscreen.DEPRECATED_sendMessage(c+":disconnect")}}function y(e){try{s.send(e.buffer)}catch(n){}_()}function _(){var e=null!==s?s.bufferedAmount:0;e!==r&&(r=e,o.fullscreen.DEPRECATED_sendMessage(c+":bufferedAmount",{bufferedAmount:e}))}n.preconnect=d,n.initialize=function(){i||(i=!0,o.fullscreen.fromFullscreen.on(c+":connect",m),o.fullscreen.fromFullscreen.on(c+":disconnect",b),o.fullscreen.fromFullscreen.on(c+":send",y),function e(){_(),requestAnimationFrame(e)}())},n.preconnectIfFileURL=function(){const e=/^\/file\/([0-9a-zA-Z]{22,128})\//.exec(location.pathname);null!==e&&d(u(e[1]))}}),
(function(m,t,n){"use strict";function e(m,t,n,e,r,u){return{m00:m,m01:t,m02:n,m10:e,m11:r,m12:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(){return e(1,0,0,0,1,0)},t.create=e,t.translated=function(m,t,n){const{m00:r,m01:u,m02:c,m10:o,m11:i,m12:s}=m;return e(r,u,t*r+n*u+c,o,i,t*o+n*i+s)},t.rotated=function(m,t){const{m00:n,m01:r,m02:u,m10:c,m11:o,m12:i}=m,s=Math.sin(t),a=Math.cos(t);return e(a*n+s*r,a*r-s*n,u,a*c+s*o,a*o-s*c,i)},t.scaled=function(m,t,n){const{m00:r,m01:u,m02:c,m10:o,m11:i,m12:s}=m;return e(r*t,u*n,c,o*t,i*n,s)},t.product=function(m,t){return e(m.m00*t.m00+m.m01*t.m10,m.m00*t.m01+m.m01*t.m11,m.m00*t.m02+m.m01*t.m12+m.m02,m.m10*t.m00+m.m11*t.m10,m.m10*t.m01+m.m11*t.m11,m.m10*t.m02+m.m11*t.m12+m.m12)}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(146                                          ),i=a(153       ),n=a(686                   );e.defaultFill={r:196/255,g:196/255,b:196/255,a:1},e.defaultStroke={r:0,g:0,b:0,a:1};let r=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}];const o=(()=>{let t=n.identity();return t=n.translated(t,.5,.5),t=n.rotated(t,-Math.PI/2),t=n.translated(t,-.5,-.5)})();let l=null;function c(t){return null!=t&&-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(t)}e.asGradientPaint=function(t){return c(t.type)?t:null},e.isGradient=c,e.asImagePaint=function(t){return"IMAGE"!==t.type?null:t};e.paintCache=new class{constructor(){this.clearCache=(t=>{null!=t?delete this.cache[t]:this.cache={}}),this.getId=((t,e)=>`${e}-${t}`),this.initPaint=((t,e,a,s)=>{let i={type:t,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===t?i.color=e:c(t)?(i.stops=r,i.transform=o):"IMAGE"===t&&l&&this.transferImageAttributes(l,i),!a)return i;const n=this.cachePaint(a,s);return this.transferGeneralAttributes(n,i),"SOLID"===t?n.color?this.transferColorAttributes(n,i):n.stops&&n.stops.length&&this.transferColorAttributes(n.stops[0],i):c(t)?n.stops?this.transferGradientAttributes(n,i):n.color&&(i.stops=[{position:0,color:Object.assign(Object.assign({},n.color),{a:1})},{position:1,color:Object.assign(Object.assign({},n.color),{a:0})}]):"IMAGE"===t&&n.image&&n.imageThumbnail&&(this.transferImageAttributes(n,i),i.transform=n.imageTransform),i}),this.cachePaint=((t,e)=>(this.cache[e]=this.cache[e]||t,c(t.type)?this.transferGradientAttributes(t,this.cache[e]):"SOLID"===t.type?this.transferColorAttributes(t,this.cache[e]):"IMAGE"===t.type&&(this.transferImageAttributes(t,this.cache[e]),this.cache[e].imageTransform=t.transform),this.cache[e])),this.transferGeneralAttributes=((t,e)=>{e.opacity=t.opacity,e.blendMode=t.blendMode,e.visible=t.visible}),this.transferColorAttributes=((t,e)=>{e.color=t.color}),this.transferGradientAttributes=((t,e)=>{e.stops=t.stops,e.transform=t.transform}),this.transferImageAttributes=((t,e)=>{e.image=t.image,e.imageThumbnail=t.imageThumbnail,e.animatedImage=t.animatedImage,e.animationFrame=t.animationFrame,e.imageScaleMode=t.imageScaleMode,e.rotation=t.rotation,e.scale=t.scale,e.paintFilter=t.paintFilter}),this.clearCache()}};let h=!1;e.initialize=function(){h||(h=!0,s.fullscreen.fromFullscreen.on("handleDefaultImageStyle",t=>{const e=i.schema.decodeMessage(t.buffer);e.nodeChanges&&e.nodeChanges.length>0&&e.nodeChanges[0].fillPaints&&(l=e.nodeChanges[0].fillPaints[0])}),s.fullscreen.onReady().then(()=>{s.fullscreen.DEPRECATED_sendMessage("requestDefaultImageStyle")}))}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(146                                          ),a=n(163                               );let l=null,o=0,r=!1,i=!1;t.startMonitorInterval=function(){i||(i=!0,setInterval(()=>s.fullscreen.isReady()&&a.Multiplayer.updateConnectionStateIfNeeded(),250))},t.setBackgroundFlushInterval=function(e){l||(l=function(){try{let t=new Blob(["("+function(){onmessage=(e=>setTimeout(()=>self.postMessage(""),e.data))}+")()"],{type:"text/javascript"}),n=new Worker(URL.createObjectURL(t));return(e,t)=>{n.onmessage||(n.onmessage=(()=>{n.onmessage=null,e()}),n.postMessage(t))}}catch(e){return console.error(e),(e,t)=>{setTimeout(e,t)}}}()),o=e,r||function e(){o&&(r=!0,l(function(){r=!1,o&&a.Multiplayer.flush(),e()},o))}()}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(86      ),s=o(124     ),r=o(117              ),i=o(126          );o(127             );function a(){const e=[],t=["mac","windows","linux","ios","chromeos"],o=["chrome","firefox","safari","msedge","msie","ios","android"];for(const s of t)if(n[s]){e.push(`os:${s}`);break}if(r.desktopApp)e.push("browser:figma_desktop");else for(const s of o)if(n[s]){e.push(`browser:${s}`);break}return e}t.logNumericMetric=function(e,t){s.default.post(`/api/metrics/histogram/${e}`,{value:t,tags:a().join(",")})};let c=!0;function u(e,t){let o=-1/0;return()=>{let n=Date.now()/1e3;n-o>e&&(o=n,t())}}window.addEventListener("error",e=>{if(!c)return;c=!1;const{message:t,filename:o}=e,n=a(),r=/abort/i.test(t),i=/\/compiled_/.test(o);s.default.post("/api/metrics/unhandled_error",{tags:n.concat(`abort:${r}`,`fullscreen:${i}`).join(",")})}),t.reportContextLost=u(30,()=>{s.default.post("/api/metrics/context_lost",{tags:a().join(",")})}),t.reportContextRestored=u(30,()=>{s.default.post("/api/metrics/context_restored",{tags:a().join(",")})}),t.reportPerfTestingInfo=function(e){window.figmaPerfTesting&&window.postMessage({name:e,value:performance.now()/1e3},"*")};let l=!0;t.reportOOM=function(e){if(!l)return;l=!1;const t=e/1024/1024,o=t<=128?"0mb-to-128mb":t<=256?"128mb-to-256mb":t<=512?"256mb-to-512mb":t<=1024?"512mb-to-1gb":t<=2e3?"1gb-to-2gb":"2gb";s.default.post("/api/metrics/oom_error",{tags:a().concat(`memory:${o}`).join(",")}),i.segment.track("Out Of Memory",{totalMemoryInBytes:e})};let p=!0;t.reportDoubleFlush=function(){p&&(p=!1,s.default.post("/api/metrics/double_flush",{tags:a().join(",")}))},t.reportDirtyAfterLoad=function(){s.default.post("/api/metrics/dirty_after_load",{tags:a().join(",")})},t.reportConsecutiveFlushes=function(){s.default.post("/api/metrics/consecutive_flushes",{tags:a().join(",")})},t.reportConsecutiveImageChangeSkips=function(){s.default.post("/api/metrics/consecutive_image_change_skips",{tags:a().join(",")})},t.reportImagePasteError=function(){s.default.post("/api/metrics/image_paste_error",{tags:a().join(",")})},t.reportUnsavedChangesBell=function(e){s.default.post("/api/metrics/unsaved_changes_bell",{file_key:e,tags:a().join(",")})},function(){const e=document.createElement("canvas");let t=null;try{t=e.getContext("webgl")}catch(c){}try{t=e.getContext("experimental-webgl")}catch(c){}const o=t&&t.getExtension("WEBGL_debug_renderer_info"),n=o&&(t.getParameter(o.UNMASKED_RENDERER_WEBGL)+"").toLowerCase(),r=n?/\bamd\b|\bati\b/.test(n)?"amd":/\bnvidia\b/.test(n)?"nvidia":/\bintel\b/.test(n)?"intel":"unknown":"unknown",i=n?/direct3d9/.test(n)?"d3d9":/direct3d11/.test(n)?"d3d11":/opengl/.test(n)?"opengl":"unknown":"unknown";s.default.post("/api/metrics/page_load",{tags:a().concat(`gpu_vendor:${r}`,`gpu_api:${i}`).join(",")})}()}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(240                             ),a=i(106                                     ),l=i(115          ),n=i(483      ),r=i(141                ),s=i(172              ),g=!l.isInIframe();t.globalIPC=null;t.default=(e=>i=>(function(u){if(i(u),s.isRunningInteractionTests())return null;if(a.fileBrowser.init.matches(u)){let i=new n.IPC;const{user:a}=e.getState();a&&i.sendToOtherTabs("logged-in",a.id);let s=()=>{i.unregister("logged-out",s);let t=e.getState();r.fullscreenHasUnsavedChanges(t)?e.dispatch(o.user.logOut()):t.user&&g&&l.locationReload("iframe automagic reload on logOut")};i.register("logged-out",s);let u=t=>{const{user:i}=e.getState();i&&t===i.id||g&&l.locationReload("iframe automatic reload on logIn")};i.register("logged-in",u),t.globalIPC=i}return null}))}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(690                       );r.createUrlCache=function(){function e(e){try{var r=e.transaction("urlCache")}catch(n){return void console.error(n)}r.objectStore("urlCache").openCursor().onsuccess=function(e){var r=e.target.result;r&&(r.key&&r.value&&(t[r.key]=r.value.presence),r.continue())}}var r=null,t={},c="url-cache-update";return setTimeout(function(){var t;try{t=window.indexedDB&&indexedDB.open("urlCache",1)}catch(o){return void console.error(o)}t&&(t.onsuccess=function(){e(r=t.result),n.globalIPC&&n.globalIPC.register(c,()=>e(r))},t.onupgradeneeded=function(e){e.target.result.createObjectStore("urlCache",{keyPath:"hash"})})}),{get:function(e){return t[e]||""},set:function(e,o){t[e]=o,null!==r&&(r.transaction(["urlCache"],"readwrite").objectStore("urlCache").put({hash:e,presence:o}).onsuccess=function(){n.globalIPC&&n.globalIPC.sendToOtherTabs(c,e)})}}}}),
(function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(a,i){function o(e){try{u(s.next(e))}catch(t){i(t)}}function r(e){try{u(s.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,r)}u((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(124     ),i=n(689         ),o=n(146                   );t.ImagePasteManager=class{constructor(e=1e3){this.pendingPasteRequests={},this.retryDelayMagnitude=e}allowDownloadForPastedImages(e,t,n){return s(this,void 0,void 0,function*(){if(0===n.length||e===t)return Promise.resolve();const s=()=>a.default.put(`/api/files/${t}`,{image_sha1s:n,image_origin_file_key:e}).then(()=>{for(const e of n)delete this.pendingPasteRequests[e]}).catch(e=>(e.status>=400&&e.status<500&&i.reportImagePasteError(),{retryPromise:new Promise(e=>setTimeout(()=>e(s()),this.getRandomDelayMs()))})),o=s();for(const e of n)this.pendingPasteRequests[e]=o;return o})}actuallyDownloadImage(e){const t=o.fullscreen.editingFileKey();return null==t?new Promise((e,t)=>t("Can't load images outside of a file")):a.default.get(`/file/${t}/image/${e}`,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(t=>{throw console.warn(`Couldn't download image with hash ${e}`),403===t.status||404===t.status?"IMAGE_MISSING":t})}getRandomDelayMs(){return(5+5*Math.random())*this.retryDelayMagnitude}downloadImage(e){return s(this,void 0,void 0,function*(){const t=this.pendingPasteRequests[e]||Promise.resolve();return yield Promise.race([t,new Promise((e,t)=>setTimeout(t,6e4))]),this.actuallyDownloadImage(e)})}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(146                                          );let r="fullscreen_xhr_api",s=!1;function l(e){let n=new XMLHttpRequest;n.onloadend=(()=>{let t={promiseID:e.promiseID,status:n.status,contentType:n.getResponseHeader("Content-Type")};a.fullscreen.DEPRECATED_sendMessage(r+":receive",t,n.response?new Uint8Array(n.response):null)}),n.open(e.method,e.url),n.responseType="arraybuffer";for(let t in e.headers)n.setRequestHeader(t,e.headers[t]);if(e.formData){let t=new FormData;for(let n of e.formData)null!=n.data?t.append(n.name,n.data):t.append(n.name,new Blob([e.buffer.subarray(n.dataStart,n.dataEnd)],{type:n.mimeType}));n.send(t)}else n.send(e.buffer)}n.initialize=function(){s||(s=!0,a.fullscreen.fromFullscreen.on(r+":send",l))}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(98                  ),r=t(105               ),i=t(187                             );!function(e){e.pushOverrides=r.asyncActionCreator("PUSH_OVERRIDES",e=>{e.dispatch(i.visualBellActions.enqueue({type:"push_overrides",message:"Overrides pushed to master",timeout:5e3}))}),e.returnToInstance=o.actionCreator("RETURN_TO_INSTANCE")}(s.symbolToast||(s.symbolToast={}))}),
(function(n,u,e){n.exports={input:"nudge_amount_picker--input--3nyYf",rightInput:"nudge_amount_picker--rightInput--IKW4q nudge_amount_picker--input--3nyYf",label:"nudge_amount_picker--label--3uj9S",spacer:"nudge_amount_picker--spacer--2NPJs"}}),
(function(e,E,r){"use strict";var N,t;Object.defineProperty(E,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SYNTAX_EMPTY=1]="SYNTAX_EMPTY",e[e.SYNTAX_UNRECOGNIZED=2]="SYNTAX_UNRECOGNIZED",e[e.SYNTAX_MISMATCHED_PARENS=3]="SYNTAX_MISMATCHED_PARENS",e[e.EVAL_UNEXPECTED_TYPE=4]="EVAL_UNEXPECTED_TYPE",e[e.EVAL_EXPECTED_MORE_ARGUMENTS=5]="EVAL_EXPECTED_MORE_ARGUMENTS",e[e.EVAL_EXPECTED_NUMBER=6]="EVAL_EXPECTED_NUMBER",e[e.EVAL_IMAGINARY=7]="EVAL_IMAGINARY",e[e.EVAL_DIVIDE_BY_ZERO=8]="EVAL_DIVIDE_BY_ZERO",e[e.EVAL_UNKNOWN=9]="EVAL_UNKNOWN",e[e.EVAL_NO_CURRENT_VALUE=10]="EVAL_NO_CURRENT_VALUE"}(N=E.ErrorType||(E.ErrorType={})),E.evaluateExpression=function(e,E){const r=[],_=s(e,r);if(null!==_)return{value:null,error:_};const p=[],i=[];for(let s of r)switch(s.type){case T.NUMBER:p.push(s.value);break;case T.OPERATOR:{const e=A[s.operator];let r;switch(s.operator){case n.UNARY_PLUS:break;case n.PAREN_L:i.push(s);break;case n.PAREN_R:if(!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:s.position}};for(;i.length;){const e=i[i.length-1];let r;if(e.operator===n.PAREN_L){i.pop();break}if((r=R(e.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[r]}};if(i.pop(),!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:s.position}}}break;default:for(;r=i[i.length-1];)if(e.associativity===o.LEFT){if(!(e.precedence<=A[r.operator].precedence))break;{let e;if((e=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[e]}};i.pop()}}else{if(e.associativity!==o.RIGHT)return{value:null,error:{type:N.EVAL_UNKNOWN}};if(!(e.precedence<A[r.operator].precedence))break;{let e;if((e=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[e]}};i.pop()}}i.push(s)}break}default:return{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}}for(;i.length;){const r=i.pop();let o;if(r.operator===n.PAREN_L||r.operator===n.PAREN_R)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:e.length}};if((o=R(r.operator,p,E))!==t.SUCCESS)return{value:null,error:{type:a[o]}}}return 1!==p.length?{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}:{value:p[0],error:null}},function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNEXPECTED_TYPE=1]="UNEXPECTED_TYPE",e[e.EXPECTED_MORE_ARGUMENTS=2]="EXPECTED_MORE_ARGUMENTS",e[e.EXPECTED_NUMBER=3]="EXPECTED_NUMBER",e[e.IMAGINARY=4]="IMAGINARY",e[e.DIVIDE_BY_ZERO=5]="DIVIDE_BY_ZERO",e[e.NO_CURRENT_VALUE=6]="NO_CURRENT_VALUE"}(t||(t={}));const a=[N.NONE,N.EVAL_UNEXPECTED_TYPE,N.EVAL_EXPECTED_MORE_ARGUMENTS,N.EVAL_EXPECTED_NUMBER,N.EVAL_IMAGINARY,N.EVAL_DIVIDE_BY_ZERO,N.EVAL_NO_CURRENT_VALUE];var n,o;!function(e){e[e.NONE=0]="NONE",e[e.PAREN_L=1]="PAREN_L",e[e.PAREN_R=2]="PAREN_R",e[e.ADD=3]="ADD",e[e.SUBTRACT=4]="SUBTRACT",e[e.MULTIPLY=5]="MULTIPLY",e[e.DIVIDE=6]="DIVIDE",e[e.UNARY_PLUS=7]="UNARY_PLUS",e[e.UNARY_MINUS=8]="UNARY_MINUS",e[e.EXPONENT=9]="EXPONENT",e[e.PERCENT=10]="PERCENT",e[e.X=11]="X",e[e.PIXELS=12]="PIXELS"}(n=E.OperatorType||(E.OperatorType={})),function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT"}(o||(o={}));const A=[{associativity:o.NONE,precedence:-1,degree:0,name:""},{associativity:o.NONE,precedence:-1,degree:0,name:"("},{associativity:o.NONE,precedence:-1,degree:0,name:")"},{associativity:o.LEFT,precedence:1,degree:2,name:"add"},{associativity:o.LEFT,precedence:1,degree:2,name:"sub"},{associativity:o.LEFT,precedence:2,degree:2,name:"mul"},{associativity:o.LEFT,precedence:2,degree:2,name:"div"},{associativity:o.LEFT,precedence:4,degree:1,name:"pos"},{associativity:o.LEFT,precedence:4,degree:1,name:"neg"},{associativity:o.RIGHT,precedence:5,degree:2,name:"exp"},{associativity:o.RIGHT,precedence:6,degree:1,name:"%"},{associativity:o.RIGHT,precedence:6,degree:1,name:"x"},{associativity:o.RIGHT,precedence:6,degree:1,name:"px"}];function R(e,E,r){if(E.length<A[e].degree)return t.EXPECTED_MORE_ARGUMENTS;switch(e){case n.NONE:case n.PAREN_L:case n.PAREN_R:return t.UNEXPECTED_TYPE;case n.ADD:case n.SUBTRACT:case n.MULTIPLY:case n.DIVIDE:case n.EXPONENT:{const r=E.pop(),N=E.pop();switch(e){case n.ADD:E.push(N+r);break;case n.SUBTRACT:E.push(N-r);break;case n.MULTIPLY:E.push(N*r);break;case n.DIVIDE:E.push(N/r);break;case n.EXPONENT:{const e=Math.pow(N,r);if(isNaN(e))return t.IMAGINARY;E.push(e);break}}break}case n.UNARY_PLUS:case n.PIXELS:break;case n.UNARY_MINUS:E.push(-E.pop());break;case n.PERCENT:if(!r&&0!==r)return t.NO_CURRENT_VALUE;E.push(r*E.pop()/100);break;case n.X:if(!r&&0!==r)return t.NO_CURRENT_VALUE;E.push(r*E.pop())}return t.SUCCESS}var T,_;!function(e){e[e.NONE=0]="NONE",e[e.OPERATOR=1]="OPERATOR",e[e.NUMBER=2]="NUMBER"}(T=E.TokenType||(E.TokenType={})),function(e){e[e.NONE=0]="NONE",e[e.OPEN_PAREN=1]="OPEN_PAREN",e[e.CLOSE_PAREN=2]="CLOSE_PAREN",e[e.PLUS=3]="PLUS",e[e.MINUS=4]="MINUS",e[e.ASTERISK=5]="ASTERISK",e[e.SLASH=6]="SLASH",e[e.CARET=7]="CARET",e[e.PERCENT=8]="PERCENT",e[e.X=9]="X",e[e.PIXELS=10]="PIXELS"}(_=E.TokenId||(E.TokenId={}));const p={"(":_.OPEN_PAREN,")":_.CLOSE_PAREN,"+":_.PLUS,"-":_.MINUS,"*":_.ASTERISK,"/":_.SLASH,"^":_.CARET,"%":_.PERCENT,x:_.X,X:_.X,px:_.PIXELS},i={[_.OPEN_PAREN]:n.PAREN_L,[_.CLOSE_PAREN]:n.PAREN_R,[_.PLUS]:n.ADD,[_.MINUS]:n.SUBTRACT,[_.ASTERISK]:n.MULTIPLY,[_.SLASH]:n.DIVIDE,[_.CARET]:n.EXPONENT,[_.PERCENT]:n.PERCENT,[_.X]:n.X,[_.PIXELS]:n.PIXELS};function s(e,E){const r=(e=e.toLowerCase()).split(/(px|[+*()^\/%x\-]|(?:\d+[.,]?\d*|[.,]?\d+)(?:[e][+\-]?\d+)?|(?:\s+))/g),t=r.length;if(0===t)return{type:N.SYNTAX_EMPTY};let a=0;for(let o=0;o<t;o++){const e=r[o],t=e.length;if(o%2){let r=p.hasOwnProperty(e)?p[e]:_.NONE,N={id:r,text:e,type:r!==_.NONE?T.OPERATOR:T.NONE,operator:r in i?i[r]:n.NONE,position:a,value:NaN};N.type===T.NONE&&/^(?:\d+[.,]?\d*|[.,]?\d+)(?:[eE][+\-]?\d+)?$/.test(e)&&(N.type=T.NUMBER,N.value=+e.replace(",",".")),N.type!==T.NONE&&E.push(N)}else if(t>0)return{type:N.SYNTAX_UNRECOGNIZED,position:a,length:t};a+=t}if(0===E.length)return{type:N.SYNTAX_EMPTY};for(let N=0,o=null;N<E.length;N++){let e=E[N];e.operator!==n.ADD&&e.operator!==n.SUBTRACT||null!==o&&!c(o.operator)||(e.operator=e.operator===n.ADD?n.UNARY_PLUS:n.UNARY_MINUS),o=e}return null}function c(e){const E=A[e];return E&&(e===n.PAREN_L||2===E.degree||1===E.degree&&E.associativity===o.LEFT)}E.tokenize=s}),
(function(e,_,U){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DEFAULT_SMALL_NUDGE_AMOUNT=1,_.DEFAULT_BIG_NUDGE_AMOUNT=10}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(696              ),s=r(697          );class u{constructor(t){this.units="",this.min=(()=>{var t;return null!=(t=this.options.min)?t:this.defaultMin}),this.max=(()=>{var t;return null!=(t=this.options.max)?t:this.defaultMax}),this.smallNudgeAmount=(()=>{var t;return null!=(t=this.options.smallNudgeAmount)?t:s.DEFAULT_SMALL_NUDGE_AMOUNT}),this.bigNudgeAmount=(()=>{var t;return null!=(t=this.options.bigNudgeAmount)?t:s.DEFAULT_BIG_NUDGE_AMOUNT}),this.options=t||{}}parse(t,e){t=t.replace(new RegExp(this.units,"g"),"");const r=n.evaluateExpression(t,e);if(null!==r.value&&isFinite(r.value))return r.value;throw new Error("Could not parse input")}format(t){return`${t}`}increment(t,e,r){return r?e?t-this.bigNudgeAmount():t+this.bigNudgeAmount():e?t-this.smallNudgeAmount():t+this.smallNudgeAmount()}clamp(t){return"number"==typeof this.min()&&(t=Math.max(t,this.min())),"number"==typeof this.max()&&(t=Math.min(t,this.max())),t}}e.NumberFormatter=u;e.PixelFormatter=class extends u{constructor(t){super(t)}format(t){return null==t?"":String(parseFloat(t.toFixed(2)))}};var a;e.ScaleFormatter=class extends u{constructor(){super(...arguments),this.units="x"}format(t){return null==t?"":`${parseFloat(t.toFixed(2))}x`}},function(t){t[t.SECONDS=0]="SECONDS",t[t.MILLISECONDS=1]="MILLISECONDS"}(a=e.OutputUnit||(e.OutputUnit={}));e.SecondsFormatter=class extends u{constructor(t,e){super({min:.001,max:e,smallNudgeAmount:.01,bigNudgeAmount:.1}),this.outputUnit=t,this.units="ms",this.units=t===a.MILLISECONDS?"ms":"s"}parse(t,e){const r=this.outputUnit===a.SECONDS?1:.001;return super.parse(t,e)*r}format(t){if(null==t)return"";switch(this.outputUnit){case a.SECONDS:return`${parseFloat(t.toFixed(2))}s`;case a.MILLISECONDS:return`${Math.round(1e3*t)}ms`}}};e.PercentageFormatter=class extends u{constructor(){super(...arguments),this.units="%|px",this.defaultMin=0,this.defaultMax=1}format(t){return null==t?"":`${parseFloat((100*t).toFixed(2))}%`}parse(t,e){return super.parse(t,e)/100}increment(t,e,r){return r?e?t-.1:t+.1:e?t-.01:t+.01}};e.AngleFormatter=class extends u{constructor(){super(...arguments),this.units="°|px"}format(t){return null==t?"":(-180==(t=(t+180+360)%360-180)&&(t=180),`${parseFloat(t.toFixed(2))}°`)}};e.IntegerFormatter=class extends u{constructor(){super(...arguments),this.units="px"}parse(t,e){let r=super.parse(t,e);return Math.round(r)}};e.NormalizedIntegerFormatter=class extends u{constructor(t){super(t),this.normalizeFactor=(t||{}).normalizeFactor||1}parse(t,e){return super.parse(t,e)/this.normalizeFactor}format(t){const e=t*this.normalizeFactor;return`${Math.round(e)}`}increment(t,e,r){let n=1/this.normalizeFactor;return r&&(n=10/this.normalizeFactor),e?t-n:t+n}};class i{constructor(t){this.min=t.min,this.max=t.max,this.bigPixelNudgeAmount=t.bigPixelNudgeAmount||s.DEFAULT_BIG_NUDGE_AMOUNT,this.smallPixelNudgeAmount=t.smallPixelNudgeAmount||s.DEFAULT_SMALL_NUDGE_AMOUNT,this.bigPercentageNudgeAmount=t.bigPercentageNudgeAmount||10,this.smallPercentageNudgeAmount=t.smallPercentageNudgeAmount||1}static parse(t){const e=-1!==t.indexOf("%")?"PERCENT":-1!==t.indexOf("px")?"PIXELS":void 0;t=(t=t.toLowerCase()).replace(new RegExp("%|px","g"),"");const r=n.evaluateExpression(t,NaN);if(null!==r.value&&isFinite(r.value))return[r.value,e]}parse(t,e){const r=i.parse(t);if(void 0===r)throw new Error("Could not parse input");let[n,s]=r;return void 0===s&&(s=null==e?"PERCENT":e.units),{value:n,units:s}}format(t){if(null==t||t.value!=t.value)return"";const e=parseFloat(t.value.toFixed(2));return"PERCENT"===t.units?`${e}%`:`${e} px`}increment(t,e,r){let n,s;return s=r?"PIXELS"===t.units?this.bigPixelNudgeAmount:this.bigPercentageNudgeAmount:"PIXELS"===t.units?this.smallPixelNudgeAmount:this.smallPercentageNudgeAmount,{value:n=e?t.value-s:t.value+s,units:t.units}}clamp(t){let e=t.value;return"number"==typeof this.min&&(e=Math.max(e,this.min)),"number"==typeof this.max&&(e=Math.min(e,this.max)),{value:e,units:t.units}}}e.PixelPercentageFormatter=i;e.ExportConstraintFormatter=class{constructor(){this.MAX_SCALE=1024,this.MAX_SIZE=32768}parse(t,e){const r=-1!==(t=t.toLowerCase()).indexOf("w")?"CONTENT_WIDTH":-1!==t.indexOf("h")?"CONTENT_HEIGHT":"CONTENT_SCALE";t=t.replace(new RegExp("x|w|h","g"),"");const s=n.evaluateExpression(t,NaN);if(null!==s.value&&isFinite(s.value))return{value:s.value,type:r};throw new Error("Could not parse input")}format(t){if(null==t)return"";const e=parseFloat(t.value.toFixed(2));switch(t.type){case"CONTENT_SCALE":return`${e}x`;case"CONTENT_WIDTH":return`${e}w`;case"CONTENT_HEIGHT":return`${e}h`}}increment(t,e,r){let n;return r?(n=e?t.value-1:t.value+1,n=Math.round(n)):(n=e?t.value-.5:t.value+.5,n=+(Math.round(2*n)/2).toFixed(1)),{value:n,type:t.type}}clamp(t){let e=t.value,r="CONTENT_SCALE"===t.type?this.MAX_SCALE:this.MAX_SIZE;return(e=Math.min(e,r))<=0&&(e=1),{value:e,type:t.type}}isEqual(t,e){return t.type===e.type&&t.value===e.value}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(3,1    ),i=s(7,1        ),r=s(388                             ),n=s(212      ),l=s(600                               ),p=s(212      ),h=s(597                                        ),u=s(172              );class a extends u.PureComponent{constructor(t){super(t),this.ref=(t=>{this.input=i.findDOMNode(t),this.input&&this.props.autoFocus&&this.input.select()}),this.didIncrement=!1,this.looksEqual=((t,e)=>{const s=!r.notMixed(t);return s===!r.notMixed(e)&&(!!s||this.props.formatter.format(r.getValueOrNull(t))===this.props.formatter.format(r.getValueOrNull(e)))}),this.selectAll=(()=>{if(this.input)if(r.notMixed(this.props.property)&&this.props.formatter.defaultSelection){const t=this.props.formatter.defaultSelection(this.input.value);this.input.setSelectionRange(t.start,t.end)}else this.input.select();this.needToSelectAll=!1}),this.needToSelectAll=!1,this.onFocus=u.focusEvent(this,"focus",t=>{this.needToSelectAll=!0,this.input&&this.input.setSelectionRange(0,0),this.props.shouldClearOnFocus&&this.setState({editingValue:""}),this.props.onFocus&&this.props.onFocus(t)}),this.onBlur=u.focusEvent(this,"blur",t=>{var e;const s=this.props.property,o=this.input.value;if("Mixed"!==o)try{let i=s;i=this.props.formatter.parse(o,null!=(e=r.getValueOrNull(s))?e:void 0),this.props.formatter.clamp&&(i=this.props.formatter.clamp(i)),this.looksEqual(i,s)||this.props.onChange(i)}catch(t){}this.setState({editingValue:null}),this.props.onBlur&&this.props.onBlur(t)}),this.onChange=u.changeEvent(this,"change",t=>{this.setState({editingValue:t.target.value})}),this.onKeyDown=u.keyboardEvent(this,"keydown",t=>{var e;if(h.forwardInputKeyToFullscreenIfNecessary(t,this.shouldForwardUndo()))return u.SKIP_RECORDING;if(this.props.onKeyDown&&this.props.onKeyDown(t),this.didIncrement=!1,t.keyCode===n.Key.ESCAPE)this.setState({editingValue:null}),setTimeout(()=>this.input.blur(),0),t.preventDefault();else{if(t.keyCode===n.Key.ENTER)return this.input.blur(),t.preventDefault(),u.SKIP_RECORDING;if(t.keyCode!==n.Key.UP_ARROW&&t.keyCode!==n.Key.DOWN_ARROW)return this.needToSelectAll&&this.selectAll(),u.SKIP_RECORDING;if(t.preventDefault(),this.props.formatter.increment){let s=this.props.property;try{s=this.props.formatter.parse(this.input.value,null!=(e=r.getValueOrNull(this.props.property))?e:void 0)}catch(t){}if(r.notMixed(s)){let e=null;if(this.props.formatter.getIncrementTargets){const t=this.input.selectionStart||0,s=this.input.selectionEnd||0;e=this.props.formatter.getIncrementTargets(this.input.value,{start:t,end:s})}let o=this.props.formatter.increment(s,40===t.keyCode,t.shiftKey,null!=e?e:void 0);this.props.formatter.clamp&&(o=this.props.formatter.clamp(o)),this.setState({editingValue:null,incrementTargets:e}),this.looksEqual(s,o)||(this.props.onChange(o),this.didIncrement=!0)}}}}),this.onKeyUp=u.keyboardEvent(this,"keyup",t=>{if(h.forwardInputKeyToFullscreenIfNecessary(t,this.shouldForwardUndo()))return u.SKIP_RECORDING;if(this.props.formatter.autocomplete){const e=this.input.value,s=e.length>0&&this.input.selectionStart===e.length&&this.input.selectionEnd===e.length,o=t.key&&1===t.key.length,i=32===t.keyCode||t.keyCode>=65&&t.keyCode<=90;if(s&&(o||i)&&p.isNoneOrAllowedModifiersPressed(t,p.ModifierKey.SHIFT)){const t=this.props.formatter.autocomplete(e);null!==t&&(this.input.value=t,this.input.setSelectionRange(e.length,t.length))}}else{if(t.keyCode!==n.Key.TAB)return u.SKIP_RECORDING;this.needToSelectAll&&this.selectAll()}}),this.onMouseDown=u.mouseEvent(this,"mousedown",t=>{if(!this.props.onMouseDown)return u.SKIP_RECORDING;this.props.onMouseDown(t)}),this.onMouseUp=u.mouseEvent(this,"mouseup",t=>{if(!this.needToSelectAll)return u.SKIP_RECORDING;this.input&&this.input.selectionStart===this.input.selectionEnd&&this.selectAll(),this.needToSelectAll=!1}),this.onMouseLeave=(t=>{this.needToSelectAll&&(this.needToSelectAll=!1)}),this.state={editingValue:null,incrementTargets:null}}componentDidUpdate(t,e){if(super.componentDidUpdate(t,e),t.source!==this.props.source&&this.setState({editingValue:null}),this.didIncrement&&t.property!==this.props.property)if(this.didIncrement=!1,this.state.incrementTargets&&this.props.formatter.getSelection){const{start:t,end:e}=this.props.formatter.getSelection(this.input.value,this.state.incrementTargets);this.input.setSelectionRange(t,e)}else this.selectAll();else this.lastSelection&&this.input.setSelectionRange(this.lastSelection[0],this.lastSelection[1])}shouldForwardUndo(){if(null===this.state.editingValue)return h.ForwardUndo.YES;if(r.notMixed(this.props.property)){const t=null==this.props.property?"":this.props.formatter.format(this.props.property);return this.state.editingValue===t?h.ForwardUndo.YES:h.ForwardUndo.NO}return h.ForwardUndo.YES}valueForRender(){return null!==this.state.editingValue?this.state.editingValue:r.notMixed(this.props.property)?null==this.props.property?"":this.props.formatter.format(this.props.property):"Mixed"}render(){return o.createElement(l.SimpleInput,{ref:this.ref,className:this.props.className,dataTestId:this.props.dataTestId,placeholder:this.props.placeholder,disabled:this.props.disabled,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,style:this.props.style,value:this.valueForRender(),onFocus:this.onFocus,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,autoFocus:this.props.autoFocus,noBorderOnFocus:this.props.noBorderOnFocus})}}e.FormattedInput=a,a.displayName="FormattedInput";e.NumberInput=class extends a{};e.NumberArrayInput=class extends a{};e.FigNumberInput=class extends a{};e.ColorInput=class extends a{}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3,1    ),o=n(138                                   ),r=n(145         ),s=n(340              ),i=n(212      ),l=n(366                                                    ),m=n(600                                                                        ),u=n(401                              ),p=n(172              ),c=n(411                                        ),g=n(695                        ),d=n(698                                     ),_=n(697                             ),h=n(699                                                                          );t.NUDGE_AMOUNT_PICKER_ID="nudge-amount";const N=s.pxToInt(c.nudgeAmountPickerWidth);class f extends a.PureComponent{constructor(){super(...arguments),this.smallFormatter=new d.PixelFormatter({min:.1,smallNudgeAmount:_.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:_.DEFAULT_BIG_NUDGE_AMOUNT}),this.bigFormatter=new d.PixelFormatter({min:1,smallNudgeAmount:_.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:_.DEFAULT_BIG_NUDGE_AMOUNT}),this.onClose=(()=>{this.props.dispatch(o.fullscreen.hidePicker())}),this.onKeyDown=(e=>{e.keyCode===i.Key.ENTER&&this.onClose()}),this.onSmallChange=(e=>{u.setSmallNudgeAmount(e)}),this.onBigChange=(e=>{u.setBigNudgeAmount(e)})}render(){const e=new r.Vector(window.innerWidth/2-N/2,window.innerHeight/3);return a.createElement(l.DraggableModal,{title:"Nudge Amount",headerSize:"small",initialPosition:e,onClose:this.onClose,dragHeaderOnly:!0,recordingKey:p.joinKeys(this.props,"modal")},a.createElement("div",{className:g.spacer}),a.createElement(m.Row,null,a.createElement("label",{className:g.label},"Small nudge"),a.createElement("label",{className:g.label},"Big nudge")),a.createElement(m.Row,null,a.createElement(h.NumberInput,{className:g.input,formatter:this.smallFormatter,property:this.props.smallNudgeAmount,onChange:this.onSmallChange,onKeyDown:this.onKeyDown,recordingKey:p.joinKeys(this.props,"smallNudgeInput")}),a.createElement(h.NumberInput,{className:g.rightInput,formatter:this.bigFormatter,property:this.props.bigNudgeAmount,onChange:this.onBigChange,onKeyDown:this.onKeyDown,recordingKey:p.joinKeys(this.props,"bigNudgeInput"),autoFocus:!0})),a.createElement("div",{className:g.spacer}))}}t.NudgeAmountPicker=f,f.displayName="NudgeAmountPicker"}),
(function(n,o,p){n.exports={container:"open_desktop_app_modal--container--2FYIu",inputContainer:"open_desktop_app_modal--inputContainer--1rsj4"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),o=n(340              ),a=n(117              ),i=n(195                ),p=n(126          ),l=n(145         ),c=n(138                                   ),r=n(366                                                    ),d=n(224                                            ),k=n(411                                        ),h=n(701                           ),u=o.pxToInt(k.openDesktopModal);class _ extends s.PureComponent{constructor(e){super(e),this.initialPosition=new l.Vector(window.innerWidth/2-u/2,window.innerHeight-150),this.onClose=(()=>{this.props.dispatch(c.fullscreen.hideOpenDesktopAppModal()),a.setAutoOpenPref("never"),p.segment.track("desktop_links",{action:"notification_dismissed"})}),this.onClickOpenInApp=(()=>{this.props.dispatch(c.fullscreen.hideOpenDesktopAppModal()),a.setAutoOpenPref(this.state.alwaysChecked?"always":"never"),i.openUrlInDesktopApp(location.href).then(e=>{e?p.segment.track("desktop_links",{action:"opened_in_app",source:"notification"}):p.segment.track("desktop_links",{action:"open_in_app_rejected",source:"notification"})}).catch(()=>{p.segment.track("desktop_links",{action:"open_in_app_failed",source:"notification"})}),p.segment.track("desktop_links",{action:this.state.alwaysChecked?"notification_set_and_open_in_app":"notification_open_once_in_app"})}),this.onClickAlwaysOpenDesktopApp=(()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})}),this.state={alwaysChecked:"never"!==a.getAutoOpenPref()}}static shouldShowOnce(){return a.canAutoOpenInDesktopApp()&&void 0===a.getAutoOpenPref()}static shouldAutoOpen(){return a.canAutoOpenInDesktopApp()&&"always"===a.getAutoOpenPref()}static toggleAutoOpen(){const e="always"===a.getAutoOpenPref();a.setAutoOpenPref(e?"never":"always"),p.segment.track("desktop_links",{action:e?"preference_disabled":"preference_enabled"})}static isAutoOpenEnabled(){return"always"===a.getAutoOpenPref()}static enableAutoOpen(){a.setAutoOpenPref("always")}static disableAutoOpenIfUnset(){void 0===a.getAutoOpenPref()&&a.setAutoOpenPref("never")}render(){return s.createElement(r.DraggableModal,{initialPosition:this.initialPosition,title:"Do you want to open this file in the Desktop App?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},s.createElement("div",{className:h.container},s.createElement("div",{className:h.inputContainer},s.createElement(d.Checkbox,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),s.createElement(d.Label,{htmlFor:"always-open-desktop-app"},"Always open in the app")),s.createElement("div",{className:h.inputContainer},s.createElement(d.ButtonSecondary,{onClick:this.onClose},"Dismiss"),s.createElement(d.ButtonPrimary,{onClick:this.onClickOpenInApp},"Open in app"))))}}t.OpenDesktopAppModal=_,_.displayName="OpenDesktopAppModal"}),
(function(o,_,n){o.exports={container:"open_desktop_app_from_now_on_modal--container--22I1_",text:"open_desktop_app_from_now_on_modal--text--3rgp7",buttonRow:"open_desktop_app_from_now_on_modal--buttonRow--2vyup"}}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=n(3,1    ),t=n(340              ),i=n(117              ),a=n(126          ),l=n(145         ),p=n(138                                   ),r=n(146                                          ),d=n(366                                                    ),c=n(224                                            ),m=n(411                                        ),_=n(703                                       ),u=n(702                                               ),h=t.pxToInt(m.openDesktopModal);class f extends s.PureComponent{constructor(e){super(e),this.initialPosition=new l.Vector(window.innerWidth/2-h/2,window.innerHeight/2-60),this.onClose=(()=>{i.setMenuModalPref("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_dismissed"})}),this.onAlwaysClick=(()=>{i.setMenuModalPref("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_accepted"}),u.OpenDesktopAppModal.enableAutoOpen(),r.fullscreen.showVisualBell("plugins-added-from-file","Links will open in the Desktop App from now on",1e4,!1)})}static shouldShowOnce(){return void 0===i.getMenuModalPref()&&!u.OpenDesktopAppModal.isAutoOpenEnabled()}render(){return s.createElement(d.DraggableModalBgDisabled,{initialPosition:this.initialPosition,title:"Open files in the Desktop App from now on?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},s.createElement("div",{className:_.container},s.createElement("div",{className:_.text},"You can always change this in Preferences."),s.createElement("div",{className:_.buttonRow},s.createElement(c.ButtonSecondary,{onClick:this.onClose},"Dismiss"),s.createElement(c.ButtonPrimary,{onClick:this.onAlwaysClick},"Always open in Desktop App"))))}}o.OpenDesktopAppFromNowOnModal=f,f.displayName="OpenDesktopAppFromNowOnModal"}),
(function(e,p,r){e.exports={perfHUD:"perf_hud--perfHUD--jnVX6",perfHUDRow:"perf_hud--perfHUDRow--3j9eP",perfHUDChildBlock:"perf_hud--perfHUDChildBlock--WATpJ",sparklineCanvas:"perf_hud--sparklineCanvas--3k-EO"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(3,1    ),s=a(7,1        ),l=a(198            ),r=a(705             ),n=a(411                                        ),o=a(163                               ),h=[{label:"Time between frames (ms)",id:"inter-frame-time",max:100,barWidth:1},{label:"Frame handler (ms)",id:"frame",max:100,barWidth:1,children:[{label:"Scene render (ms)",id:"scene-render",max:100,barWidth:1,children:[{label:"Render tree creation (ms)",id:"render-tree-generation",max:100,barWidth:1}]},{label:"React + redux (ms)",id:"react-render",max:100,barWidth:1},{label:"Symbol updater (ms)",id:"symbol-updater",max:100,barWidth:1},{label:"Style updater (ms)",id:"style-updater",max:100,barWidth:1},{label:"Layout groups and stacks (ms)",id:"layout-groups-and-stacks",max:100,barWidth:1}]},{label:"C++ event handling (ms)",id:"fullscreen-handle-event",max:100,barWidth:1},{label:"malloc call count (#)",id:"cpp-malloc-call-count",autoResize:!0,max:100,barWidth:1},{label:"malloc size totals (KB)",id:"cpp-malloc-size-totals",autoResize:!0,max:1,barWidth:1},{label:"Total used memory (MB)",id:"total-memory",max:10,autoResize:!0,barWidth:1},{label:"Used c++ heap memory (MB)",id:"cpp-heap-memory",max:10,autoResize:!0,barWidth:1}],m=10;class d extends i.PureComponent{constructor(e){super(e),this.ctx=null,this.buffer=[],this.canvasRef=i.createRef(),this.lastRenderedHitCount=0,this.updateFromTimer=(e=>{let t=e.hitCount-this.lastRenderedHitCount,a=0;for(let i=Math.max(0,e.elapsedTimes.length-t);i<e.elapsedTimes.length;i++)a+=e.elapsedTimes[i];this.append(a),this.lastRenderedHitCount=e.hitCount}),this.yAxisMaxValue=e.max,this.bufferCapacity=Math.ceil(e.width/e.barWidth)}componentDidMount(){this.canvasRef.current&&(this.ctx=this.canvasRef.current.getContext("2d"),this.ctx&&(this.ctx.imageSmoothingEnabled=!1))}append(e){if(!this.ctx)return;const t=this.ctx.canvas,a=this.ctx;for(this.buffer.push(e);this.buffer.length>=this.bufferCapacity;)this.buffer.shift();let i=1/0,s=-1/0;for(let m of this.buffer)i=Math.min(i,m),s=Math.max(s,m);const l=t.width,r=t.height,n=this.props.barWidth,o=r-m;if(a.font="9px monospace",a.fillStyle=this.props.bg,a.textBaseline="top",a.fillRect(0,0,l,m),a.fillStyle=this.props.fg,a.fillText(`${i.toFixed(1)} - ${s.toFixed(1)}`,0,0),a.fillStyle=this.props.bg,this.props.autoResize)if(e>this.yAxisMaxValue){const i=Math.pow(2,Math.ceil(Math.log2(e/this.yAxisMaxValue)));this.yAxisMaxValue*=i,a.fillRect(0,r-o,l,(i-1)*o/i),a.drawImage(t,0,r-o,l,o,0,r-o/i,l,o/i)}else if(this.yAxisMaxValue>2*Math.max(this.props.max,s)){const e=Math.pow(2,Math.ceil(Math.log2(this.yAxisMaxValue/Math.max(this.props.max,s))));this.yAxisMaxValue/=e,a.drawImage(t,0,r-o/e,l,o/e,0,r-o,l,o)}a.drawImage(t,n,r-o,l-n,o,0,r-o,l-n,o);const h=Math.floor(o*Math.min(1,e/this.yAxisMaxValue));a.fillRect(l-n,r-o,n,o),a.fillStyle=this.props.fg,a.fillRect(l-n,r-h,n,h)}render(){return i.createElement("canvas",{className:r.sparklineCanvas,ref:this.canvasRef,width:this.props.width,height:this.props.height})}}function c(e){return e/1048576}d.displayName="Sparkline";class p extends i.PureComponent{constructor(){super(...arguments),this.sparklines=new Map,this.lastFrameTime=null,this.updateTimers=(()=>{if(null==this.lastFrameTime)this.lastFrameTime=performance.now();else{const e=performance.now(),t=this.sparklines.get("inter-frame-time");t&&(t.append(e-this.lastFrameTime),this.lastFrameTime=e)}const e=this.sparklines.get("total-memory");e&&e.append(c(o.PerfInfo.getTotalUsedProcessMemory()));const t=this.sparklines.get("cpp-heap-memory");t&&t.append(c(o.PerfInfo.getTotalUsedHeapMemory()));const a=this.sparklines.get("cpp-malloc-call-count");a&&a.append(o.PerfInfo.getAllocCallCount());const i=this.sparklines.get("cpp-malloc-size-totals");i&&i.append(function(e){return e/1024}(o.PerfInfo.getAllocTotal())),o.PerfInfo.resetAllocCountsAndTotal();const s=l.appTimer.report(),r=[],n=e=>{r.push(e.name);const t=this.sparklines.get(r.join(","));t&&t.updateFromTimer(e);for(let a of e.children)n(a);r.pop()};for(let l of s)n(l);requestAnimationFrame(this.updateTimers)}),this.sparklineRef=(e=>t=>{t&&this.sparklines.set(e.join(","),t)}),this.frameRequest=null,this.renderHUDNode=((e,t=[])=>{const a=t.concat([e.id]),s=150-10*t.length;return i.createElement("div",{key:e.id},i.createElement("div",{className:r.perfHUDRow},i.createElement("div",null,i.createElement("div",null,e.label),i.createElement(d,{ref:this.sparklineRef(a),fg:"black",bg:"white",barWidth:e.barWidth,max:e.max,height:30,autoResize:!!e.autoResize,width:s}))),e.children&&i.createElement("div",{className:r.perfHUDChildBlock},e.children.map(e=>this.renderHUDNode(e,a))))})}componentDidMount(){this.frameRequest=requestAnimationFrame(this.updateTimers)}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){const e=parseInt(n.rightNavWidth,10)+5,t=parseInt(n.toolbarHeight,10)+5;return i.createElement("div",{className:r.perfHUD,style:{right:e,top:t}},h.map(e=>this.renderHUDNode(e)))}}p.displayName="PerfHUD";let u=null;t.togglePerfHUD=function(){u?(s.unmountComponentAtNode(u),document.body.removeChild(u),u=null):(u=document.createElement("div"),document.body.appendChild(u),s.render(i.createElement(p,null),u))}}),
(function(a,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class C{}t.TypeSettingsData=C,C.OpenTypeFeatureGroups=[{group_name:"Letter case",tags:["PCAP","C2PC","CASE","CPSP","TITL","UNIC"]},{group_name:"Numbers",tags:["AFRC","ZERO"]},{group_name:"Letterforms",tags:["LIGA","CLIG","DLIG","HLIG","CALT","RCLT","ORDN","RVRN","VERT","SWSH","CSWH","NALT","STCH","HIST","ORNM","ITAL","RAND"]},{group_name:"Stylistic sets",tags:["SALT","SS01","SS02","SS03","SS04","SS05","SS06","SS07","SS08","SS09","SS10","SS11","SS12","SS13","SS14","SS15","SS16","SS17","SS18","SS19","SS20"]},{group_name:"Character variants",tags:["CV01","CV02","CV03","CV04","CV05","CV06","CV07","CV08","CV09","CV10","CV11","CV12","CV13","CV14","CV15","CV16","CV17","CV18","CV19","CV20","CV21","CV22","CV23","CV24","CV25","CV26","CV27","CV28","CV29","CV30","CV31","CV32","CV33","CV34","CV35","CV36","CV37","CV38","CV39","CV40","CV41","CV42","CV43","CV44","CV45","CV46","CV47","CV48","CV49","CV50","CV51","CV52","CV53","CV54","CV55","CV56","CV57","CV58","CV59","CV60","CV61","CV62","CV63","CV64","CV65","CV66","CV67","CV68","CV69","CV70","CV71","CV72","CV73","CV74","CV75","CV76","CV77","CV78","CV79","CV80","CV81","CV82","CV83","CV84","CV85","CV86","CV87","CV88","CV89","CV90","CV91","CV92","CV93","CV94","CV95","CV96","CV97","CV98","CV99"]},{group_name:"Math",tags:["DTLS","FLAC","MGRK","SSTY"]},{group_name:"Horizontal spacing",tags:["KERN","FWID","HWID","HALT","TWID","QWID","PWID","JUST","LFBD","OPBD","RTBD","PALT","PKNA"]},{group_name:"Writing direction",tags:["LTRA","LTRM","RTLA","RTLM"]},{group_name:"More features",tags:["DNOM","NUMR","SINF","ABRV","VALT","VHAL","CFAR","CPCT","CURS","EXPT","FALT","FINA","FIN2","FIN3","HALN","HKNA","HNGL","HOJO","INIT","ISOL","JP78","JP83","JP90","JP04","LJMO","MEDI","MED2","NLCK","PREF","VPAL","PSTF","RUBY","SMPL","TJMO","TNAM","TRAD","VJMO","VKNA","VKRN","VRTR","VRT2"]}],C.OpenTypeFeatureDefaultOn=["CALT","CLIG","CURS","KERN","LIGA","RCLT","CCMP","LOCL","MARK","MKMK","RLIG"],C.OpenTypeFeatureNames={PCAP:"Petite Capitals",C2PC:"Petite Capitals from Capitals",CASE:"Case-Sensitive Forms",CPSP:"Capital Spacing",TITL:"Titling",UNIC:"Unicase",AFRC:"Alternative Fractions",DNOM:"Fraction Denominators",NUMR:"Fraction Numerators",SINF:"Scientific Inferiors",ORDN:"Ordinals",ZERO:"Slashed Zero",LIGA:"Ligatures",CLIG:"Contextual Ligatures",DLIG:"Rare Ligatures",HLIG:"Historical Ligatures",RLIG:"Required Ligatures",AALT:"Access All Alternates",CALT:"Contextual Alternates",RCLT:"Required Contextual Alternates",SALT:"Stylistic Alternates",RVRN:"Required Variation Alternates",VERT:"Vertical Alternates",SWSH:"Swash",CSWH:"Contextual Swash",NALT:"Alternate Annotation Forms",CCMP:"Glyph Composition/Decomposition",STCH:"Stretching Glyph Decomposition",HIST:"Historical Forms",SIZE:"Optical Size",ORNM:"Ornaments",ITAL:"Italics",RAND:"Randomize",DTLS:"Dotless Forms",FLAC:"Flattened Ascent Forms",MGRK:"Mathematical Greek",SSTY:"Math script style alternates",KERN:"Kerning Pairs",FWID:"Full Widths",HWID:"Half Widths",HALT:"Alternate Half Widths",TWID:"Third Widths",QWID:"Quarter Widths",PWID:"Proportional Widths",JUST:"Justification Alternates",LFBD:"Left Bounds",OPBD:"Optical Bounds",RTBD:"Right Bounds",PALT:"Proportional Alternate Widths",PKNA:"Proportional Kana",LTRA:"Left-to-right Alternates",LTRM:"Left-to-right Mirrored Forms",RTLA:"Right-to-left Alternates",RTLM:"Right-to-left Mirrored Forms",ABRV:"Above-base Forms",ABVM:"Above-base Mark Positioning",ABVS:"Above-base Substitutions",VALT:"Alternate Vertical Metrics",VHAL:"Alternate Vertical Half Metrics",BLWF:"Below-base Forms",BLWM:"Below-base Mark Positioning",BLWS:"Below-base Substitutions",AKHN:"Akhand (Ligature Devanagari)",CJCT:"Conjuct Forms",CFAR:"Conjunct Form After Ro",CPCT:"Centered CJK Punctuation",CURS:"Cursive Positioning",DIST:"Distances",EXPT:"Expert Forms",FALT:"Final Glyph on Line Alternates",FINA:"Terminal Forms",FIN2:"Terminal Form #2",FIN3:"Terminal Form #3",HALF:"Half Forms",HALN:"Halant Forms",HKNA:"Horizontal Kana Alternates",HNGL:"Hangul",HOJO:"Hojo Kanji Forms",INIT:"Initial Forms",ISOL:"Isolated Forms",JP78:"JIS78 Forms",JP83:"JIS83 Forms",JP90:"JIS90 Forms",JP04:"JIS2004 Forms",LJMO:"Leading Jamo Forms (Hangul)",LOCL:"Localized Forms",MARK:"Mark Positioning (Arabic)",MEDI:"Medial Forms",MED2:"Medial Forms #2",MKMK:"Mark-to-Mark Positioning",NLCK:"NLC Kanji Forms",NUKT:"Nukta Forms",PREF:"Pre-base Forms",PRES:"Pre-base Substitutions",VPAL:"Proportional Alternate Vertical Metrics",PSTF:"Post-base Forms",PSTS:"Post-base Substitutions",RKRF:"Rakar Forms",RPHF:"Reph Form",RUBY:"Ruby Notation Forms",SMPL:"Simplified Forms",TJMO:"Trailing Jamo Forms",TNAM:"Traditional Name Forms",TRAD:"Traditional Forms",VATU:"Vattu Variants",VJMO:"Vovel Jamo Forms",VKNA:"Vertical Kana Alternates",VKRN:"Vertical Kerning",VRTR:"Vertical Alternates for Rotation",VRT2:"Vertical Alternates and Rotation",SS01:"Stylistic Set 1",SS02:"Stylistic Set 2",SS03:"Stylistic Set 3",SS04:"Stylistic Set 4",SS05:"Stylistic Set 5",SS06:"Stylistic Set 6",SS07:"Stylistic Set 7",SS08:"Stylistic Set 8",SS09:"Stylistic Set 9",SS10:"Stylistic Set 10",SS11:"Stylistic Set 11",SS12:"Stylistic Set 12",SS13:"Stylistic Set 13",SS14:"Stylistic Set 14",SS15:"Stylistic Set 15",SS16:"Stylistic Set 16",SS17:"Stylistic Set 17",SS18:"Stylistic Set 18",SS19:"Stylistic Set 19",SS20:"Stylistic Set 20",CV01:"Character Variant 1",CV02:"Character Variant 2",CV03:"Character Variant 3",CV04:"Character Variant 4",CV05:"Character Variant 5",CV06:"Character Variant 6",CV07:"Character Variant 7",CV08:"Character Variant 8",CV09:"Character Variant 9",CV10:"Character Variant 10",CV11:"Character Variant 11",CV12:"Character Variant 12",CV13:"Character Variant 13",CV14:"Character Variant 14",CV15:"Character Variant 15",CV16:"Character Variant 16",CV17:"Character Variant 17",CV18:"Character Variant 18",CV19:"Character Variant 19",CV20:"Character Variant 20",CV21:"Character Variant 21",CV22:"Character Variant 22",CV23:"Character Variant 23",CV24:"Character Variant 24",CV25:"Character Variant 25",CV26:"Character Variant 26",CV27:"Character Variant 27",CV28:"Character Variant 28",CV29:"Character Variant 29",CV30:"Character Variant 30",CV31:"Character Variant 31",CV32:"Character Variant 32",CV33:"Character Variant 33",CV34:"Character Variant 34",CV35:"Character Variant 35",CV36:"Character Variant 36",CV37:"Character Variant 37",CV38:"Character Variant 38",CV39:"Character Variant 39",CV40:"Character Variant 40",CV41:"Character Variant 41",CV42:"Character Variant 42",CV43:"Character Variant 43",CV44:"Character Variant 44",CV45:"Character Variant 45",CV46:"Character Variant 46",CV47:"Character Variant 47",CV48:"Character Variant 48",CV49:"Character Variant 49",CV50:"Character Variant 50",CV51:"Character Variant 51",CV52:"Character Variant 52",CV53:"Character Variant 53",CV54:"Character Variant 54",CV55:"Character Variant 55",CV56:"Character Variant 56",CV57:"Character Variant 57",CV58:"Character Variant 58",CV59:"Character Variant 59",CV60:"Character Variant 60",CV61:"Character Variant 61",CV62:"Character Variant 62",CV63:"Character Variant 63",CV64:"Character Variant 64",CV65:"Character Variant 65",CV66:"Character Variant 66",CV67:"Character Variant 67",CV68:"Character Variant 68",CV69:"Character Variant 69",CV70:"Character Variant 70",CV71:"Character Variant 71",CV72:"Character Variant 72",CV73:"Character Variant 73",CV74:"Character Variant 74",CV75:"Character Variant 75",CV76:"Character Variant 76",CV77:"Character Variant 77",CV78:"Character Variant 78",CV79:"Character Variant 79",CV80:"Character Variant 80",CV81:"Character Variant 81",CV82:"Character Variant 82",CV83:"Character Variant 83",CV84:"Character Variant 84",CV85:"Character Variant 85",CV86:"Character Variant 86",CV87:"Character Variant 87",CV88:"Character Variant 88",CV89:"Character Variant 89",CV90:"Character Variant 90",CV91:"Character Variant 91",CV92:"Character Variant 92",CV93:"Character Variant 93",CV94:"Character Variant 94",CV95:"Character Variant 95",CV96:"Character Variant 96",CV97:"Character Variant 97",CV98:"Character Variant 98",CV99:"Character Variant 99"}}),
(function(e,s,n){e.exports={cppTestsMessage:"bindings--cppTestsMessage--30TcW",fadeInFromNone:"bindings--fadeInFromNone--NHRa4"}}),
(function(e,l,n){"use strict";var u,t;Object.defineProperty(l,"__esModule",{value:!0}),function(e){e[e.ROTATE_0=0]="ROTATE_0",e[e.ROTATE_90=1]="ROTATE_90",e[e.ROTATE_180=2]="ROTATE_180",e[e.ROTATE_270=3]="ROTATE_270",e[e.FLIP_ROTATE_0=4]="FLIP_ROTATE_0",e[e.FLIP_ROTATE_90=5]="FLIP_ROTATE_90",e[e.FLIP_ROTATE_180=6]="FLIP_ROTATE_180",e[e.FLIP_ROTATE_270=7]="FLIP_ROTATE_270"}(u=l.ImageOrientation||(l.ImageOrientation={})),function(e){e[e.BIG=0]="BIG",e[e.LITTLE=1]="LITTLE"}(t||(t={}));const r=274,T=1,a=3,_=4,c=9;function i(e,l){if(l.value+1>e.length)return null;const n={value:e[l.value]};return l.value+=1,n}function v(e,l,n){if(l.value+2>e.length)return null;const u=e[l.value],r=e[l.value+1];return l.value+=2,{value:n==t.LITTLE?u|r<<8:r|u<<8}}function s(e,l,n){if(l.value+2>e.length)return null;const u=e[l.value],r=e[l.value+1],T=e[l.value+2],a=e[l.value+3];return l.value+=4,{value:n==t.LITTLE?u|r<<8|T<<16|a<<24:a|T<<8|r<<16|u<<24}}function o(e,l){const n={value:l},o=v(e,n,t.BIG);if(null==o||o.value<6)return null;const E=s(e,n,t.BIG);if(null==E||1165519206!=E.value)return null;const O=v(e,n,t.BIG);if(null==O||0!=O.value)return null;const I=s(e,n,t.BIG);if(null==I||1229531648!=I.value&&1296891946!=I.value)return null;const f=1229531648==I.value?t.LITTLE:t.BIG,A=s(e,n,f);if(null==A)return null;n.value=n.value+A.value-8;const R=v(e,n,f);if(null==R)return null;const L=R.value;let F=-1;for(let t=0;t<L;t++){const l=v(e,n,f);if(null==l)break;const t=l.value,o=v(e,n,f);if(null==o)break;const E=o.value,O=s(e,n,f);if(null==O)break;const I=O.value,A={value:n.value};if(n.value+=4,t==r&&1==I){if(E==T){const l=i(e,A);if(null==l)return null;F=l.value}else if(E==a){const l=v(e,A,f);if(null==l)return null;F=l.value}else{if(E!=_&&E!=c)continue;{const l=s(e,A,f);if(null==l)return null;F=l.value}}switch(F){case 1:return u.ROTATE_0;case 6:return u.ROTATE_90;case 3:return u.ROTATE_180;case 8:return u.ROTATE_270;case 2:return u.FLIP_ROTATE_0;case 5:return u.FLIP_ROTATE_90;case 4:return u.FLIP_ROTATE_180;case 7:return u.FLIP_ROTATE_270}}}return null}l.EXIF={getOrientation:e=>(function(e){const l=[255,216,255];if(e.length<l.length)return null;for(let u=0;u<l.length;u++)if(l[u]!=e[u])return null;const n={value:2};for(;n.value+4<=e.length;){const l=v(e,n,t.BIG);if(null==l||l.value>>8!=255)return null;const u=v(e,n,t.BIG);if(null==u||u.value<2)return null;if(n.value-=2,65505==l.value)return o(e,n.value);n.value+=u.value}return null})(e),angleFromOrientation(e){switch(e){case u.ROTATE_0:case u.FLIP_ROTATE_0:return 0;case u.ROTATE_90:case u.FLIP_ROTATE_90:return 90;case u.ROTATE_180:case u.FLIP_ROTATE_180:return 180;case u.ROTATE_270:case u.FLIP_ROTATE_270:return 270;default:return 0}},orientationIsFlipped:e=>e==u.FLIP_ROTATE_0||e==u.FLIP_ROTATE_90||e==u.FLIP_ROTATE_180||e==u.FLIP_ROTATE_270}}),
(function(e,t,a){"use strict";function r(e){let t=0,a=10;const r=e[a++];for(a+=2,r>>7&&(a+=3*(1<<1+(7&r)));a<e.length;)switch(e[a++]){case 33:switch(e[a++]){case 255:if(11!==e[a]||78==e[a+1]&&69==e[a+2]&&84==e[a+3]&&83==e[a+4]&&67==e[a+5]&&65==e[a+6]&&80==e[a+7]&&69==e[a+8]&&50==e[a+9]&&46==e[a+10]&&48==e[a+11]&&3==e[a+12]&&1==e[a+13]&&0==e[a+16])a+=17;else for(a+=12;;){const t=e[a++];if(!(t>=0))return!1;if(0===t)break;a+=t}break;case 249:a+=6;break;case 254:case 1:for(;;){const t=e[a++];if(0===t)break;a+=t}}break;case 44:if(++t>1)return!0;a+=8;const r=e[a++];for(r>>7&&(a+=3*(1<<1+(7&r))),a++;;){const t=e[a++];if(!(t>=0))return!1;if(0===t)break;a+=t}break;case 59:return!1}return!1}function n(e){let t=8,a=0,r=null;const n=new DataView(e.buffer);let s=!1;for(;t+12<e.length;){const c=n.getInt32(t);if(c<0){r&&(r=null);break}const i=n.getInt32(t+4);switch(i){case 1229209940:s=!0,r&&(r.copyWithin(a,t,e.length),a+=e.length-t,r=r.subarray(0,a));break;case 1934772034:case 1732332865:case 1665684045:case 1766015824:0,r||(r=new Uint8Array(e),a=t);break;default:r&&(r.copyWithin(a,t,t+c+12),a+=c+12)}if(s)break;t+=c+12}return r||e}Object.defineProperty(t,"__esModule",{value:!0}),t.testWorkersAvailable=function(){if("undefined"==typeof Worker)return{works:!1,canTransfer:!1};let e=!1,t=null,a=null;try{t=URL.createObjectURL(new Blob([""],{type:"application/javascript"})),a=new Worker(t);const n=new ArrayBuffer(1);a.postMessage(n,[n]),n.byteLength||(e=!0)}catch(r){}return t&&URL.revokeObjectURL(t),a&&a.terminate(),{works:!0,canTransfer:e}},t.checkIsMultiFrameGIF=r,t.removeColorspaceFromPNG=n;t.ImageWorker=class{constructor(){this.nextID=0,this.callbacks=new Map;let e="";e+="(",e+=function(e,t){const a=self.postMessage;onerror=(e=>{console.warn("[imageDecodeWorker] webworker error: "+e),a({bitmap:null,id:0,isMultiFrameGIF:!1})}),onmessage=(r=>{let{array:n,id:s,type:c,workerCanTransfer:i,supportsCreateBitmapOptions:o}=r.data,l=!1;"image/png"===c&&(n=e(n)),"image/gif"===c&&(l=t(n));const b=new Blob([n],{type:c}),p={bitmap:null,id:s,isMultiFrameGIF:l};try{o?createImageBitmap(b,{premultiplyAlpha:"none"}).then(e=>{p.bitmap=e,i?a(p,[e]):a(p)}).catch(()=>{p.bitmap=null,a(p)}):createImageBitmap(b).then(e=>{p.bitmap=e,i?a(p,[e]):a(p)}).catch(()=>{p.bitmap=null,a(p)})}catch(u){console.warn("[imageDecodeWorker] createImageBitmap PROMISE failed: "+u),p.bitmap=null,a(p)}})},e+=")(",e+=n,e+=",",e+=r,e+=")";const t=new Blob([e],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(t)),this.worker.onmessage=(e=>{const t=e.data,a=this.callbacks.get(t.id);this.callbacks.delete(t.id),void 0!==a&&a(t)})}forgetCallbacks(){this.callbacks.clear()}sendMessage(e){return new Promise(t=>{const a=this.nextID++;this.callbacks.set(a,t),this.worker.postMessage(Object.assign(Object.assign({},e),{id:a}))})}terminate(){this.worker.terminate()}}}),
(function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function l(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,l)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(171         ),a=r(709       ),o=r(710                ),l=document.createElement("canvas"),u=l.getContext("2d");function c(e,t,r,i){return n(this,void 0,void 0,function*(){"image/png"===t&&(e=o.removeColorspaceFromPNG(e));let n=null;"image/jpeg"===t&&(n=a.EXIF.getOrientation(e));let l=!1;"image/gif"===t&&(l=o.checkIsMultiFrameGIF(e));const u=URL.createObjectURL(new Blob([e],{type:t}));try{return s(yield function(e){return new Promise((t,r)=>{const n=new Image;n.crossOrigin="",n.onerror=r,n.onload=(()=>t(n)),n.src=e})}(u),r,i,n,l)}finally{URL.revokeObjectURL(u)}})}function s(e,t,r,n,i){const{width:o,height:c,originalWidth:s,originalHeight:g}=function(e,t,r,n,i){const o=a.EXIF.angleFromOrientation(i),c=a.EXIF.orientationIsFlipped(i),s=e,g=t;let A=e,d=t;if(90===o||270===o){let r=t;t=e,e=r,r=d,d=A,A=r}return r>0&&n>0&&(e>r&&(t=Math.round(t*r/e),e=r),t>n&&(e=Math.round(e*n/t),t=n),e=Math.max(1,e),t=Math.max(1,t)),l.width=e,l.height=t,u.translate(e/2,t/2),u.scale(e/A,t/d),c&&u.scale(-1,1),u.rotate(o*(Math.PI/180)),u.translate(-s/2,-g/2),{originalHeight:d,originalWidth:A,width:e,height:t}}(e.width,e.height,t,r,n);return u.drawImage(e,0,0),{width:o,height:c,originalWidth:s,originalHeight:g,isMultiFrameGIF:i,bitmap:null,rgba:new Uint8Array(u.getImageData(0,0,o,c).data.buffer)}}function g(e){return n(this,void 0,void 0,function*(){if(!(window.createImageBitmap&&"function"==typeof window.createImageBitmap))return{works:!1,allowsOptions:!1};const t=i.decode("iVBORw0KGgoAAAANSUhEUgAAAAEAAAAQBAMAAAAlsQiEAAAALVBMVEX///////////////////////////////////////////////////////8AAACgbBYXAAAAD3RSTlPx5NXDsJ2Ic19LOCgYDQAksqQSAAAAJklEQVQI12MAAQEGBQYDBgeGAIYEhgKGBoYJDAsYNjAcYHjAcAEAP7AGkQT7krEAAAAASUVORK5CYII="),r=new Blob([t],{type:"image/png"});try{try{return yield createImageBitmap(r,{premultiplyAlpha:"none"}),{works:!0,allowsOptions:!0}}catch(a){return{works:yield function(e,t){return n(this,void 0,void 0,function*(){if(!e)return!1;try{const a=yield createImageBitmap(t),o=a.width,l=a.height;let u=!1;const c=e.getParameter(e.ACTIVE_TEXTURE);e.activeTexture(e.TEXTURE0);const s=e.getParameter(e.FRAMEBUFFER_BINDING),g=e.getParameter(e.TEXTURE_BINDING_2D);let A=null,d=null;try{if(d=e.createTexture(),e.bindTexture(e.TEXTURE_2D,d),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.bindTexture(e.TEXTURE_2D,null),A=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,d,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,null),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE){var r=new Uint8Array(4*o*l);e.readPixels(0,0,o,l,e.RGBA,e.UNSIGNED_BYTE,r),255===r[0]&&(u=!0)}}catch(n){}return e.bindFramebuffer(e.FRAMEBUFFER,s),e.bindTexture(e.TEXTURE_2D,g),e.deleteTexture(d),e.deleteFramebuffer(A),e.activeTexture(c),u}catch(i){return!1}})}(e,r),allowsOptions:!1}}}catch(o){return{works:!1,allowsOptions:!1}}})}let A={works:!1,canTransfer:!1},d={works:!1,allowsOptions:!1},h=null;t.ImageIO={init(e){A=o.testWorkersAvailable(),g(e).then(e=>d=e)},reset(){null!==h&&h.forgetCallbacks()},terminateWorker(){null!==h&&(h.terminate(),h=null)},encode(e,t,r,n,a,o){const c=e*t*4,s=u.createImageData(e,t);let g;o&&(r=function(e,t){const r=new Uint8Array(t);for(let n=0,i=t;n<i;n+=4){const t=e[n+3|0],i=255.999/t;r[n]=e[n]*i,r[n+1|0]=e[n+1|0]*i,r[n+2|0]=e[n+2|0]*i,r[n+3|0]=t}return r}(r,c)),new Uint8Array(s.data.buffer).set(r),l.width=e,l.height=t,u.putImageData(s,0,0),g=n?l.toDataURL("image/jpeg",a):l.toDataURL();return i.decode(g.slice(g.indexOf(";base64,")+";base64,".length))},decodeAsync(e,t,r,i,l){return n(this,void 0,void 0,function*(){if(!d.works||!A.works)return yield c(e,t,r,i);null===h&&(h=new o.ImageWorker);const{bitmap:n,isMultiFrameGIF:u}=yield h.sendMessage({type:t,array:e,workerCanTransfer:A.canTransfer,supportsCreateBitmapOptions:d.allowsOptions});if(!n)return console.warn("Something wrong in createImageBitmap thread.  Bitmap is null ... falling back to decode using image"),yield c(e,t,r,i);let g=null;"image/jpeg"===t&&(g=a.EXIF.getOrientation(e));const f=n.width,m=n.height;return l&&(null===g||g===a.ImageOrientation.ROTATE_0)&&(0===r||f<=r)&&(0===i||m<=i)?{width:f,height:m,originalWidth:f,originalHeight:m,isMultiFrameGIF:u,bitmap:n,rgba:null}:s(n,r,i,g,u)})}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(126          );t.checkFor3rdPartyApps=function(){setTimeout(()=>{const e={};!function(e){"figmaPlus"in window&&(e.figmaPlusWindow=!0),document.getElementById("pluginManagerApp")&&(e.figmaPlusPluginManagerApp=!0)}(e),function(e){getComputedStyle(document.body).fontFamily.indexOf("apple-system")>=0&&(e.figgyFontFamilyAppleSystem=!0);for(const t of document.querySelectorAll("style"))if(t.textContent&&t.textContent.indexOf("canvas editing page")>=0){e.figgyCanvasEditingPage=!0;break}}(e),function(e){const t=window.webkit;t&&(e.figmacWebkit=!0);const n=t&&t.messageHandlers;n&&(e.figmacMessageHandlers=!0),n&&n.readBlob&&(e.figmacReadBlob=!0)}(e),i.segment.track("Third Party Apps",e)})}}),
(function(t,a,r){t.exports={outer:"hyperlink_status_bar--outer--3aOQ5",link:"hyperlink_status_bar--link--3TawM _overlayBase--_overlayBase--1sCqN",linkPart:"hyperlink_status_bar--linkPart--3Yhet",icon:"hyperlink_status_bar--icon--29g5R",protocol:"hyperlink_status_bar--protocol--11Zvq hyperlink_status_bar--linkPart--3Yhet",domain:"hyperlink_status_bar--domain--3pwL5 hyperlink_status_bar--linkPart--3Yhet",path:"hyperlink_status_bar--path--5I1IG hyperlink_status_bar--linkPart--3Yhet",text:"hyperlink_status_bar--text--3A72o hyperlink_status_bar--linkPart--3Yhet",secondaryText:"hyperlink_status_bar--secondaryText--5SmdB hyperlink_status_bar--linkPart--3Yhet",separator:"hyperlink_status_bar--separator--3r-bW"}}),
(function(h,l,t){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 2.5h4.707l.147.146 4 4 .146.147V13.5h-9v-11zm1 1v9h7v-5h-4v-4h-3zm4 .707L10.793 6.5H8.5V4.207z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,t){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 2.5V5h4V2.5h1V5h2.5v1H11v4h2.5v1H11v2.5h-1V11H6v2.5H5V11H2.5v-1H5V6H2.5V5H5V2.5h1zm4 7.5V6H6v4h4z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.415 3.758L8.27 4.902c-.195.195-.512.195-.707 0-.195-.195-.195-.512 0-.707l1.145-1.144c1.171-1.172 3.07-1.172 4.242 0 1.172 1.171 1.172 3.07 0 4.242l-1.144 1.145c-.196.195-.512.195-.707 0-.196-.196-.196-.512 0-.707l1.144-1.145c.781-.781.781-2.047 0-2.828-.78-.781-2.047-.781-2.828 0zm-3.536 6.364c-.195-.196-.195-.512 0-.707l3.535-3.536c.196-.195.512-.195.707 0 .196.195.196.512 0 .707l-3.535 3.536c-.195.195-.512.195-.707 0zm-1.01-2.526c.196.195.196.512 0 .707l-1.11 1.11c-.781.782-.781 2.048 0 2.83.78.78 2.047.78 2.828 0l1.109-1.11c.195-.194.512-.194.707 0 .195.196.195.513 0 .708L7.294 12.95c-1.171 1.171-3.07 1.171-4.242 0-1.172-1.172-1.172-3.072 0-4.243l1.11-1.11c.196-.196.512-.196.707 0z" fill-rule="evenodd" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="16" viewBox="0 0 8 16" xmlns="http://www.w3.org/2000/svg"><path d="M.917 14.955L6.25.733l.833.312-5.334 14.222-.832-.312z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),r=t(713                         ),l=t(174                        ),c=t(714                        ),n=t(715                    ),m=t(716                      ),i=t(717                                   );var E;!function(e){e[e.GENERIC=0]="GENERIC",e[e.FIGMA_FILE=1]="FIGMA_FILE",e[e.PAGE=2]="PAGE",e[e.FRAME=3]="FRAME",e[e.INVALID=4]="INVALID",e[e.MISSING=5]="MISSING"}(E=a.HyperlinkType||(a.HyperlinkType={}));a.HyperlinkStatusBar=class extends s.PureComponent{render(){const e=this.props.data;let a,t;switch(e.type){case E.GENERIC:case E.FIGMA_FILE:t=e.type==E.FIGMA_FILE?c:m,a=s.createElement(s.Fragment,null,s.createElement("div",{className:r.protocol},e.url.protocol,"//"),s.createElement("div",{className:r.domain},e.url.host),s.createElement("div",{className:r.path},e.url.pathname+e.url.search+e.url.hash));break;case E.PAGE:t=c,a=s.createElement("div",{className:r.text},e.text);break;case E.FRAME:t=n,a=s.createElement(s.Fragment,null,s.createElement("div",{className:r.text},e.text),e.secondaryText&&s.createElement("div",{className:r.secondaryText},s.createElement(l.Svg,{className:r.separator,svg:i}),e.secondaryText));break;case E.INVALID:t=m,a=s.createElement("div",{className:r.text},"Invalid link: ",e.urlString);break;case E.MISSING:t=m,a=s.createElement("div",{className:r.text},e.text)}return s.createElement("div",{className:r.outer},s.createElement("div",{className:r.link},s.createElement(l.Svg,{className:r.icon,svg:t}),a))}}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(572                                          );function i(e){const n=o.decodeDataWithBlobs("fillPaints",e);return n&&n.data&&1===n.data.length?{encodedPaint:e,paint:n.data[0]}:void console.error(`Failed to decode: ${e}`)}n.decodeSelectionPaintsEncodedAsFillPaints=function(e,n){var t=[];for(const o of e){const e=i(o);e?t.push(e):console.error(`Failed to decode: ${o}`)}return t=t.map((e,t)=>(e.count=n?n[t]:0,e))},n.decodeSelectionPaintEncodedAsFillPaint=i,n.encodePaintAsFillPaints=function(e){return o.encodeDataWithBlobs("fillPaints",{data:[e],blobs:[]})}}),
(function(o,a,d){o.exports={modal:"auth_modal--modal--Sg5hJ"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(3,1    ),s=a(227                                 ),r=a(519               ),h=a(405                      ),i=a(225                                  ),l=a(720               ),d=a(229                   );t.AUTH_MODAL="auth-modal",d.registerModal(t.AUTH_MODAL,e=>{let t=e.modalShown;const a=e.editingFileKey&&e.fileByKey&&e.fileByKey[e.editingFileKey],s=t.data&&t.data.headerText;return o.createElement(p,{file:a||null,headerText:s,auth:e.auth,dispatch:e.dispatch})});class p extends o.Component{headerText(e){const t=e?`"${e}"`:"this file";let a;return a=this.props.auth.formState===h.AuthFormState.SIGN_IN?`Log in to collaborate on ${t}`:`Create an account to collaborate on ${t}`,this.props.headerText?this.props.headerText:a}render(){const e=this.props.file&&this.props.file.name;return o.createElement(s.Modal,{className:l.modal,disableClickOutsideToHide:this.props.auth.formState===h.AuthFormState.SIGN_UP_EXTRA_INFO,dispatch:this.props.dispatch},o.createElement(i.TabLoop,null,o.createElement(r.AuthView,{id:"auth-view-modal",auth:this.props.auth,modal:!0,dispatch:this.props.dispatch,header:this.headerText(e)})))}}t.AuthModal=p,p.displayName="AuthModal"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(388                             ),r=i(110          );var u;!function(e){e[e.OLD=0]="OLD",e[e.FEB19=1]="FEB19"}(u||(u={}));class s{constructor(e,t,i,n){this.textUserLayoutVersion=e,this.intrinsicLineHeight=t,this.fontSize=i,this.lineHeight=n}withLineHeight(e){return new s(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}function o(e){const{intrinsicLineHeight:t,fontSize:i,lineHeight:r}=e;if(n.notMixed(r))switch(r.units){case"RAW":return r.value;case"PIXELS":if(!n.notMixed(i))return;return r.value/i;case"PERCENT":const e=n.getValueOrNull(t);if(null==e)return;return r.value/100*e}}function l(e,t){return t===n.MIXED||t===u.OLD?e:Math.round(e)}function a(e){return!(null==e||!n.notMixed(e))&&("PERCENT"===e.units&&Math.abs(e.value-100)<.1)}t.LineHeightInContext=s,t.getLineHeightInContext=r.memoizeLast(e=>{if(null==e.intrinsicLineHeight)return null;const t=null!=e.textUserLayoutVersion&&n.notMixed(e.textUserLayoutVersion)?function(e){switch(e){case 0:return u.OLD;case 1:case 2:default:return u.FEB19}}(e.textUserLayoutVersion):n.MIXED;return new s(t,e.intrinsicLineHeight,e.fontSize,e.lineHeight)}),t.fontSizeMultipleOfLineHeight=o,t.pixelsOfLineHeight=function(e){const{textUserLayoutVersion:t,intrinsicLineHeight:i,fontSize:r}=e,u=n.getValueOrNull(e.lineHeight);if(u)switch(u.units){case"RAW":if(!n.notMixed(r))return;return l(u.value*r,t);case"PIXELS":return u.value;case"PERCENT":const e=n.getValueOrNull(i);if(null==e||!n.notMixed(r))return;return l(u.value/100*e*r,t)}},t.percentOfLineHeight=function(e){const{textUserLayoutVersion:t,intrinsicLineHeight:i,fontSize:r,lineHeight:u}=e;if(n.notMixed(u))switch(u.units){case"RAW":if(!n.notMixed(r))return;return l(100*u.value,t);case"PIXELS":const e=n.getValueOrNull(i);if(null==e||!n.notMixed(r))return;return l(100*u.value/(r*e),t);case"PERCENT":return u.value}},t.stringOfLineHeight=function(e){const{lineHeight:t}=e;if(!n.notMixed(t))return"Mixed";if(a(t))return"Auto";switch(t.units){case"PERCENT":const i=o(e);return null==i?"Mixed":`${parseFloat((100*i).toFixed(1))}%`;case"PIXELS":return`${parseFloat(t.value.toFixed(1))}`;case"RAW":return`${parseFloat((100*t.value).toFixed(1))}%`}},t.isAutoLineHeight=a}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.DelayedTask=class{constructor(){this.unschedule=null}scheduleOnce(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setTimeout(()=>{this.reset(),e()},s);this.unschedule=(()=>clearTimeout(t))}scheduleRepeating(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setInterval(()=>{!1===e()&&this.reset()},s);this.unschedule=(()=>clearInterval(t))}isScheduled(){return null!==this.unschedule}reset(){this.unschedule&&(this.unschedule(),this.unschedule=null)}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.KeyRecycler=class{constructor(){this.freeKeyStack=[],this.usedKeysById={},this.nextKey=1}getKeyForId(e){if(e in this.usedKeysById)return this.usedKeysById[e];let s;return s=this.freeKeyStack.length?this.freeKeyStack.pop():this.nextKey++,this.usedKeysById[e]=s,s}freeKeyForId(e){if(e in this.usedKeysById){let s=this.usedKeysById[e];this.freeKeyStack.push(s),delete this.usedKeysById[e]}}}}),
(function(t,e,n){t.exports={container:"truncated_text--container--1pk3Q",first:"truncated_text--first--2W9Cw",last:"truncated_text--last--1ddrl"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),n=s(725                   );class r extends a.PureComponent{render(){const e=this.props.text||"";let t;const s=e.lastIndexOf("/"),r=e.lastIndexOf(" ");t=s>0?s:r>0?r:Math.round(.75*e.length);const c=e.substr(0,t),l=e.substr(t);return a.createElement("div",{className:`${n.container} ${this.props.className||""}`},a.createElement("div",{className:n.first},c),a.createElement("div",{className:n.last},l))}}t.TruncatedText=r,r.displayName="TruncatedText"}),
(function(e,t,o){e.exports={singleRowHeight:"select--singleRowHeight--2UMKM",doubleRowHeight:"select--doubleRowHeight--o-SCd",input:"select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",border:"select--border--3fvIc",borderFocusWithin:"select--borderFocusWithin--2dIfX",iconInsideBorderFocusWithin:"select--iconInsideBorderFocusWithin--2hL-k",rowSelectedSecondary:"select--rowSelectedSecondary--2KZfh select--rowSelected--3lP2e",selectHiddenInput:"select--selectHiddenInput--1zrBl",iconButton:"select--iconButton---Z5bD",borderFocus:"select--borderFocus--1PQIW",multiValueInput:"select--multiValueInput--3H8aH select--borderFocusWithin--2dIfX",base:"select--base--1SMnI",label:"select--label--3vJ80 select--base--1SMnI",labelInactive:"select--labelInactive--3Rqxg select--label--3vJ80 select--base--1SMnI",textInput:"select--textInput--1HEo8 select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",textAreaInput:"select--textAreaInput--3eA9E select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",noLeftBorder:"select--noLeftBorder--XChN_",squareRightBorder:"select--squareRightBorder--YlMI1",_iconButton:"select--_iconButton--qQtAt",iconButtonEnabled:"select--iconButtonEnabled--3gbuN select--_iconButton--qQtAt",iconButtonDisabled:"select--iconButtonDisabled--2U8BG select--_iconButton--qQtAt",iconButtonSelected:"select--iconButtonSelected--1Ndpj select--_iconButton--qQtAt",chitCenter:"select--chitCenter--rxk8b",outlineButton:"select--outlineButton--16Agi",modalPanel:"select--modalPanel--1IuiU",panel:"select--panel--sOj2Q",_row:"select--_row--IiIf3",singleRow:"select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",doubleRow:"select--doubleRow--3UvQK select--doubleRowHeight--o-SCd select--_row--IiIf3",labelRow:"select--labelRow--1g9D- select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",rowSelected:"select--rowSelected--3lP2e",panelTitle:"select--panelTitle--23-Pw",panelTitleExtended:"select--panelTitleExtended--3hSn9 select--panelTitle--23-Pw",panelTitleWithTip:"select--panelTitleWithTip--2JVTs select--panelTitle--23-Pw",panelTitleWithTipText:"select--panelTitleWithTipText--1zOOz",panelTitleWithTipIcon:"select--panelTitleWithTipIcon--2K0VG",panelTitleFaded:"select--panelTitleFaded--3BE5r select--panelTitle--23-Pw",flushLeft:"select--flushLeft--22YC8",container:"select--container--1nk7y raw_components--singleRowHeight--3PF2a",hiddenInput:"select--hiddenInput--3hA_8 raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"select--selectInputExpanded--RyOud",inputDisabled:"select--inputDisabled--3rTyl select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",inputTextWrapper:"select--inputTextWrapper--2jICb",chevron:"select--chevron--AAmeH",inputWithSvg:"select--inputWithSvg--23Swk",inputSvg:"select--inputSvg--w7GoW",inputText:"select--inputText--6fenW select--inputTextWrapper--2jICb ellipsis--ellipsis--1RWY6",dropdownContainer:"select--dropdownContainer--1zXjt _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"select--dropdownScrollClip--3r8xt",dropdown:"select--dropdown--3fRT9",dropdownContentWrapper:"select--dropdownContentWrapper--OEC2c",option:"select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",divider:"select--divider--2u63O",optionFocused:"select--optionFocused--3n-7f select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"select--optionDisabled--3la4M select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHeader:"select--optionHeader--1Iq-9 select--option--1FpEe dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionTruncatedText:"select--optionTruncatedText--QlY5l",optionFullWidth:"select--optionFullWidth--3OvFc",optionText:"select--optionText--2C5M1 select--optionTruncatedText--QlY5l ellipsis--ellipsis--1RWY6",check:"select--check--2_6C_",comboBoxShowChevronOnHover:"select--comboBoxShowChevronOnHover--1eA_s",_comboBoxSelect:"select--_comboBoxSelect--34Ccj",comboBoxSelectDisabled:"select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",comboBoxSelect:"select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj"}}),
(function(l,t,e){l.exports={src:'<svg width="8" height="7" viewBox="0 0 8 7" xmlns="http://www.w3.org/2000/svg"><path d="M3.646 5.354l-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.207 5.207L7 11.414 3.292 7.707l1.415-1.414L7 8.586l4.793-4.793 1.414 1.414z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(3,1    ),i=o(7,1        ),n=o(172              ),r=o(106                                     ),p=o(86      ),l=o(345                                  ),h=l.dropdown.Dropdown,d=l.dropdown.Separator,a=o(723               ),c=o(212      ),u=o(724               ),w=o(388                             ),m=o(597                                        ),f=o(174                        ),y=o(726                                              ),S=o(727           ),I=o(411                                        ),v=o(340              ),g=o(534                                                    ),_=o(728                                            ),C=o(729                                                ),E=v.pxToInt(I.toolbarHeight),T="Mixed",O=8,M=24,V=17,b=8,D=b+E;class x extends n.PureComponent{constructor(t){super(t),this.keyRecycler=new u.KeyRecycler,this.containerRect=null,this.containerRef=(t=>{this.container=t,this.container&&(this.containerRect=this.container.getBoundingClientRect())}),this.hiddenInputRef=(t=>{this.hiddenInput=t,t&&this.props.autoFocus&&t.focus()}),this.stopPropagation=(t=>t.stopPropagation()),this.dropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.id),this.formattedSelectedValue=(()=>w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):T),this.allowSelectionTask=new a.DelayedTask,this.cacheOptionPositions=(t=>{let e=O;this.childPositionByIndex=Object.create(null),this.optionIndexByFormattedValue=Object.create(null),this.optionValueByIndex=Object.create(null),t.property===w.MIXED&&(e+=M,0!==s.Children.count(this.props.children)&&(e+=V));let o=0;s.Children.forEach(t.children,s=>{if(null==s)return null;if("Option"===s.type.__CLASS_NAME__){const i=s.props.value||null,n=null==i?"":t.formatter.format(i);this.optionIndexByFormattedValue[n]=o,this.optionValueByIndex[o]=i,this.childPositionByIndex[o]=e,e+=M,o++}else this.childPositionByIndex[o]=e,e+=V,o++}),e+=O,this.dropdownContentHeight=e}),this.onMouseDown=n.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown||t.stopPropagation(),this.dropdownShown()?this.props.dispatch(r.fileBrowser.hideDropdown()):(n.isRunningInteractionTests()?this.setState({allowSelection:!0}):(this.setState({allowSelection:!1}),this.allowSelectionTask.reset(),this.allowSelectionTask.scheduleOnce(()=>{this.setState({allowSelection:!0})},250)),this.showDropdown())}),this.showDropdown=(()=>{this.props.willShowDropdown?this.props.willShowDropdown().then(this.showDropdownHelper):Promise.resolve().then(this.showDropdownHelper)}),this.showDropdownHelper=(()=>{if(this.hiddenInput&&this.hiddenInput.focus(),this.container&&(this.containerRect=this.container.getBoundingClientRect()),!this.containerRect)return;const t=this.positionForFormattedValue(this.formattedSelectedValue());let e=-t,o=this.dropdownContentHeight;const i=w.getValueOrNull(this.props.property),n=null!==i?this.props.formatter.format(i):T;let l,h=()=>this.containerRect.top+e,d=()=>this.containerRect.top+(()=>e+o)();const a=null!=this.props.minTop?this.props.minTop:D,c=window.innerHeight-b;if(this.props.neverConstrain||p.windows){if(d()>c){let t=d()-c;e-=t}if(h()<a){let t=a-h();e+=t}if(d()>c){let t=d()-c;o-=t}this.shouldConstrainTop=!1,this.shouldConstrainBottom=!1}else{if(this.shouldConstrainTop=h()<a,this.shouldConstrainTop){let i=this.containerRect.top-a;const r=t-i;e=-i,o=this.dropdownContentHeight-r,l=this.scrollTopForValueOverInput(e,n);const p=s.Children.toArray(this.props.children);for(let t=p.length-2;t>=0;t--){let s=this.childPositionByIndex[t]-l;if(Math.abs(s)<=M/3){if("SelectDivider"===p[t].type.__CLASS_NAME__||t===this.optionIndexByFormattedValue[n])break;let i=s;i+=(this.childPositionByIndex[t+1]-this.childPositionByIndex[t])/2,e+=i,o-=i;break}}}if(this.shouldConstrainBottom=d()>c,this.shouldConstrainBottom){o=window.innerHeight-h()-b,l=this.scrollTopForValueOverInput(e,n);const t=s.Children.toArray(this.props.children);for(let e=1;e<t.length;e++){let s=this.childPositionByIndex[e]-l;if(Math.abs(s-o)<=M/3){if("SelectDivider"===t[e-1].type.__CLASS_NAME__||e===this.optionIndexByFormattedValue[n])break;o+=s-o,o-=(this.childPositionByIndex[e]-this.childPositionByIndex[e-1])/2;break}}}}l=this.scrollTopForValueOverInput(e,n),this.setState({focusedOptionValue:w.getValueOrNull(this.props.property),dropdownScreenTop:h(),dropdownScreenLeft:this.containerRect.left,dropdownWidth:this.containerRect.width,dropdownHeight:o,dropdownScrollTop:l}),this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.id}))}),this.ignoreMouseMove=!1,this.onOptionMouseMove=((t,e)=>{t===this.state.focusedOptionValue||this.ignoreMouseMove||(this.setState({focusedOptionValue:t}),this.props.onOptionFocus&&this.props.onOptionFocus(t)),this.ignoreMouseMove=!1}),this.onOptionMouseUp=((t,e)=>{this.state.allowSelection&&(this.submitValue(t),this.hiddenInput&&this.hiddenInput.blur())}),this.looksEqual=((t,e)=>{const o=!w.notMixed(t),s=!w.notMixed(e);return!(!o||!s)||o===s&&w.getValueOrNull(t)===w.getValueOrNull(e)}),this.submitValue=(t=>{this.looksEqual(t,this.props.property)||this.props.onChange(t),this.props.dispatch(r.fileBrowser.hideDropdown())}),this.dropdownRef=(t=>{t&&(this.dropdownEl=i.findDOMNode(t),this.scrollValueOverInput(this.formattedSelectedValue()))}),this.onScroll=(t=>{const{dropdownScrollTop:e,dropdownHeight:o}=this.state;if(void 0===e||void 0===o)return;let s=this.dropdownEl.scrollTop;const i=s-e;if(this.setState({dropdownScrollTop:s}),this.dropdownContentHeight>o&&(this.shouldConstrainTop&&i<0||this.shouldConstrainBottom&&i>0)){const t=null!=this.props.minTop?this.props.minTop:D;let e=Math.min(o+Math.abs(i),this.dropdownContentHeight,window.innerHeight-t-b);if(e-o>0){let o=this.state.dropdownScreenTop;i>0&&void 0!==o&&(o=Math.max(o-i,t),s-=i,this.dropdownEl.scrollTop=s,this.setState({dropdownScrollTop:s})),this.setState({dropdownScreenTop:o,dropdownHeight:e})}}this.ignoreMouseMove=!0}),this.onKeyDown=n.keyboardEvent(this,"keydown",t=>{if(m.forwardInputKeyToFullscreenIfNecessary(t))return n.SKIP_RECORDING;if(this.dropdownShown()){const e=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),o=this.optionIndexByFormattedValue[e];switch(t.keyCode){case c.Key.UP_ARROW:case c.Key.DOWN_ARROW:if(void 0!==o){const e=s.Children.toArray(this.props.children),i=t.keyCode===c.Key.UP_ARROW?-1:1;let n,r=o;do{n=e[r+=i]}while(n&&"SelectDivider"===n.type.__CLASS_NAME__);const p=this.optionValueByIndex[r];p&&(this.setState({focusedOptionValue:p}),this.scrollValueIntoView(this.props.formatter.format(p)),this.ignoreMouseMove=!0)}break;case c.Key.ENTER:null!=this.state.focusedOptionValue&&this.submitValue(this.state.focusedOptionValue);break;case c.Key.ESCAPE:this.hiddenInput&&this.hiddenInput.blur();break;default:this.addInputChar(t.keyCode)}}else t.keyCode===c.Key.ESCAPE?this.hiddenInput&&this.hiddenInput.blur():t.keyCode===c.Key.UP_ARROW||t.keyCode===c.Key.DOWN_ARROW?this.showDropdown():this.addInputChar(t.keyCode)}),this.userInput="",this.lastInputAt=0,this.addInputChar=(t=>{const e=String.fromCharCode(t).toLowerCase(),o=(new Date).getTime();this.userInput=o-this.lastInputAt<1500?this.userInput+e:e,this.lastInputAt=o;let i=null;if(s.Children.forEach(this.props.children,t=>{if(null!=t&&null===i&&null!=t.props.value){this.props.formatter.format(t.props.value).toLowerCase().startsWith(this.userInput)&&(i=t.props.value)}}),null!==i)if(this.dropdownShown()){this.setState({focusedOptionValue:i});const t=this.props.formatter.format(i);this.scrollValueOverInput(t)}else this.submitValue(i)}),this.isDisabled=(()=>this.props.disabled||0===s.Children.count(this.props.children)),this.cloneChildForRender=((t,e)=>{const o=(t,e)=>null!=t&&null!=e&&this.props.formatter.isEqual?this.props.formatter.isEqual(t,e):t==e;if(null==t)return null;if(null==t.props.value){const o=this.childPositionByIndex[e];return s.cloneElement(t,{style:{top:o}})}if(void 0===this.state.dropdownHeight||void 0===this.state.dropdownScrollTop)return this.keyRecycler.freeKeyForId(t.key),null;const i=Math.max(this.state.dropdownHeight,3*M),r=this.state.dropdownScrollTop-i,p=this.state.dropdownScrollTop+this.state.dropdownHeight+i,l=this.childPositionByIndex[e],h=l+M;if(!n.isRunningInteractionTests()&&(h<r||l>p))return this.keyRecycler.freeKeyForId(t.key),null;const d=this.keyRecycler.getKeyForId(t.key);let a=o(w.getValueOrNull(this.props.property),t.props.value);return this.props.multipleSelections&&this.props.multipleSelections.forEach(e=>{!a&&o(w.getValueOrNull(e),t.props.value||null)&&(a=!0)}),s.cloneElement(t,{key:d,selected:a,focused:o(this.state.focusedOptionValue,t.props.value),formattedValue:this.props.formatter.format(t.props.value),onMouseUp:t.props.disabled||!this.state.allowSelection?null:this.onOptionMouseUp.bind(this,t.props.value),onMouseMove:this.onOptionMouseMove.bind(this,t.props.value),style:{top:l}})}),this.state={focusedOptionValue:w.getValueOrNull(this.props.property)},this.cacheOptionPositions(t)}componentWillUnmount(){super.componentWillUnmount(),this.allowSelectionTask.reset()}UNSAFE_componentWillUpdate(t){this.cacheOptionPositions(t)}componentDidUpdate(t){super.componentDidUpdate(this.props,this.state),this.hiddenInput&&(this.dropdownShown()?this.hiddenInput.focus():this.props.blurOnChange&&this.hiddenInput.blur()),this.dropdownShown()&&s.Children.count(this.props.children)!==s.Children.count(t.children)&&(this.props.dispatch(r.fileBrowser.hideDropdown()),this.showDropdown())}positionForFormattedValue(t){let e=0;return this.containerRect&&(e=(this.containerRect.height-M)/2),t!==T&&t in this.optionIndexByFormattedValue?this.childPositionByIndex[this.optionIndexByFormattedValue[t]]-e:O-e}scrollTopForValueOverInput(t,e){const o=this.positionForFormattedValue(e);return Math.max(o+t,0)}scrollValueOverInput(t){if(!this.dropdownEl||!this.containerRect||void 0===this.state.dropdownScreenTop)return;const e=this.scrollTopForValueOverInput(this.state.dropdownScreenTop-this.containerRect.top,t);this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})}scrollValueIntoView(t){if(!this.dropdownEl)return;const e=this.dropdownEl.scrollTop,o=this.dropdownEl.scrollTop+this.dropdownEl.offsetHeight,s=this.positionForFormattedValue(t),i=s+M;if(s<e){const t=s;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}else if(i>o){const t=s-this.dropdownEl.offsetHeight+M;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}}renderInput(){let t;t=this.props.dropdownOverride?this.props.dropdownOverride:w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):T;let e=S.input;return this.isDisabled()&&(e=S.inputDisabled),this.props.svg&&(e+=` ${S.inputWithSvg}`),s.createElement("div",{className:`${e} ${this.props.inputClassName||""}`,onMouseDown:this.isDisabled()?void 0:this.onMouseDown},this.props.svg&&s.createElement(g.SvgWithFallback,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,className:`${S.inputSvg} ${this.props.svgClassName||""}`}),this.props.truncateInMiddle?s.createElement("span",{className:S.inputTextWrapper},s.createElement(y.TruncatedText,{text:t})):s.createElement("span",{className:S.inputText},t),s.createElement(f.Svg,{svg:_,className:S.chevron}))}render(){const t=`${S.container} ${this.props.className||""}`;if(this.isDisabled())return s.createElement("div",{className:t,"data-test-id":this.props.dataTestId},this.renderInput());let e=[];if(this.dropdownShown()){let t=0;e=s.Children.map(this.props.children,e=>{const o=this.cloneChildForRender(e,t);return e&&t++,o}),this.props.property===w.MIXED&&(0!==s.Children.count(this.props.children)&&e.unshift(s.createElement(N,{key:"mixed-divider",style:{top:M+O}})),e.unshift(s.createElement(k,{key:"select-option-mixed",selected:!0,formattedValue:"Mixed",disabled:!0,style:{top:O}})))}return s.createElement("div",{className:t,ref:this.containerRef,onClick:this.stopPropagation,onMouseDown:this.props.onMouseDown,"data-test-id":this.props.dataTestId},s.createElement("div",{ref:this.hiddenInputRef,tabIndex:0,className:S.hiddenInput,onKeyDown:this.onKeyDown}),this.renderInput(),this.dropdownShown()&&s.createElement("div",{className:`${S.dropdownContainer} ${this.props.dropdownClassName||""}`,style:{top:this.state.dropdownScreenTop,height:this.state.dropdownHeight,left:this.state.dropdownScreenLeft,width:this.state.dropdownWidth},onScroll:this.onScroll},s.createElement("div",{className:S.dropdownScrollClip},s.createElement(h,{className:S.dropdown,ref:this.dropdownRef},s.createElement("div",{className:S.dropdownContentWrapper,style:{height:this.dropdownContentHeight,minHeight:this.dropdownContentHeight}},e)))))}}e.Select=x,x.displayName="Select",x.propTypes={children:(t,e,o)=>{const i=t[e];let n=null;return s.Children.forEach(i,t=>{null==t||t.type&&t.type.__IS_VALID_SELECT_CHILD__||(n=new Error(`${o} children should be of type 'Option' or 'SelectDivider'`))}),n}};class k extends n.PureComponent{constructor(){super(...arguments),this.onMouseUp=n.mouseEvent(this,"mouseup",t=>{if(!this.props.onMouseUp)return n.SKIP_RECORDING;this.props.onMouseUp(t)})}render(){let t;return t=this.props.disabled?S.optionDisabled:this.props.focused?S.optionFocused:this.props.isHeader?S.optionHeader:S.option,this.props.fullWidth&&(t+=" "+S.optionFullWidth),s.createElement("div",{className:t,onMouseUp:this.onMouseUp,onMouseMove:this.props.onMouseMove,style:this.props.style},!this.props.ignoreCheck&&(this.props.selected?s.createElement(f.Svg,{className:S.check,svg:C}):s.createElement("span",{className:S.check})),this.props.children||!this.props.truncateInMiddle?s.createElement("span",{className:S.optionText},this.props.children||this.props.formattedValue):s.createElement(y.TruncatedText,{className:S.optionTruncatedText,text:this.props.formattedValue||""}))}}e.Option=k,k.displayName="Option",k.__IS_VALID_SELECT_CHILD__=!0,k.__CLASS_NAME__="Option";e.NumberOption=class extends k{};class N extends s.PureComponent{render(){return s.createElement(d,Object.assign({},this.props,{className:S.divider}))}}e.SelectDivider=N,N.displayName="SelectDivider",N.__IS_VALID_SELECT_CHILD__=!0,N.__CLASS_NAME__="SelectDivider"}),
(function(o,e,t){o.exports={singleRowHeight:"combo_box--singleRowHeight--VIcbB",doubleRowHeight:"combo_box--doubleRowHeight--3giS_",input:"combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"combo_box--border--1_z5p",borderFocusWithin:"combo_box--borderFocusWithin--1lo_z",iconInsideBorderFocusWithin:"combo_box--iconInsideBorderFocusWithin--26Jgp",rowSelectedSecondary:"combo_box--rowSelectedSecondary--1LkJC combo_box--rowSelected--2y1zv",selectHiddenInput:"combo_box--selectHiddenInput--2Hxbc",iconButton:"combo_box--iconButton--mMrnc",borderFocus:"combo_box--borderFocus--1Belk",multiValueInput:"combo_box--multiValueInput--3PORd combo_box--borderFocusWithin--1lo_z",base:"combo_box--base--n8ZTg",label:"combo_box--label--3jZvz combo_box--base--n8ZTg",labelInactive:"combo_box--labelInactive--1JJgp combo_box--label--3jZvz combo_box--base--n8ZTg",textInput:"combo_box--textInput--3aQ7W combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",textAreaInput:"combo_box--textAreaInput--tezGr combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",noLeftBorder:"combo_box--noLeftBorder--tD-RV",squareRightBorder:"combo_box--squareRightBorder--y5pkA",_iconButton:"combo_box--_iconButton--z4WXh",iconButtonEnabled:"combo_box--iconButtonEnabled--3KUEX combo_box--_iconButton--z4WXh",iconButtonDisabled:"combo_box--iconButtonDisabled--2_eyx combo_box--_iconButton--z4WXh",iconButtonSelected:"combo_box--iconButtonSelected--4WiEl combo_box--_iconButton--z4WXh",chitCenter:"combo_box--chitCenter--XhHTM",outlineButton:"combo_box--outlineButton--1iJrS",modalPanel:"combo_box--modalPanel--a2ZiD",panel:"combo_box--panel--2Qa9w",_row:"combo_box--_row--2lHrL",singleRow:"combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",doubleRow:"combo_box--doubleRow--jvwGu combo_box--doubleRowHeight--3giS_ combo_box--_row--2lHrL",labelRow:"combo_box--labelRow--2c_nX combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",rowSelected:"combo_box--rowSelected--2y1zv",panelTitle:"combo_box--panelTitle--ggrbM",panelTitleExtended:"combo_box--panelTitleExtended--1LKXL combo_box--panelTitle--ggrbM",panelTitleWithTip:"combo_box--panelTitleWithTip--21NP9 combo_box--panelTitle--ggrbM",panelTitleWithTipText:"combo_box--panelTitleWithTipText--2rmBA",panelTitleWithTipIcon:"combo_box--panelTitleWithTipIcon--2i8HS",panelTitleFaded:"combo_box--panelTitleFaded--xOjUo combo_box--panelTitle--ggrbM",flushLeft:"combo_box--flushLeft--1KpKs",container:"combo_box--container--3eByq raw_components--singleRowHeight--3PF2a combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a select--comboBoxShowChevronOnHover--1eA_s",hiddenInput:"combo_box--hiddenInput--3CM2H raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"combo_box--selectInputExpanded--1cocj select--selectInputExpanded--RyOud",inputDisabled:"combo_box--inputDisabled--3UlJn combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",inputTextWrapper:"combo_box--inputTextWrapper--1CL91",chevron:"combo_box--chevron--2B2iL",inputWithSvg:"combo_box--inputWithSvg--2PLKK",inputSvg:"combo_box--inputSvg--U1Msu",inputText:"combo_box--inputText--yQW8H combo_box--inputTextWrapper--1CL91 ellipsis--ellipsis--1RWY6",dropdownContainer:"combo_box--dropdownContainer--Wu4sW _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"combo_box--dropdownScrollClip--1Tt15",dropdown:"combo_box--dropdown--2R69T",dropdownContentWrapper:"combo_box--dropdownContentWrapper--20-0t",option:"combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",divider:"combo_box--divider--2w-5b",optionFocused:"combo_box--optionFocused--yBzDx combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"combo_box--optionDisabled--1ffPA combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionHeader:"combo_box--optionHeader--LLuwf combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionTruncatedText:"combo_box--optionTruncatedText--1wU1V",optionFullWidth:"combo_box--optionFullWidth--3Li0w",optionText:"combo_box--optionText--1m3jZ combo_box--optionTruncatedText--1wU1V ellipsis--ellipsis--1RWY6",check:"combo_box--check--2BWbZ",comboBoxShowChevronOnHover:"combo_box--comboBoxShowChevronOnHover--3AaSL",_comboBoxSelect:"combo_box--_comboBoxSelect--31NEt",comboBoxSelectDisabled:"combo_box--comboBoxSelectDisabled--2l8KD combo_box--_comboBoxSelect--31NEt",comboBoxSelect:"combo_box--comboBoxSelect--3Y65U combo_box--_comboBoxSelect--31NEt",_container:"combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",containerDisabled:"combo_box--containerDisabled--2-NDb combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",_select:"combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectDisabled:"combo_box--selectDisabled--1fh37 combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",select:"combo_box--select--29RZ8 select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectInput:"combo_box--selectInput--ouHqX raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",scrubbableControl:"combo_box--scrubbableControl--1OKXg raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",withSvg:"combo_box--withSvg--1WW_R"}}),
(function(r,o,a){r.exports={foreground:"resizable_arrow--foreground--IcChG",background:"resizable_arrow--background--1a0gc"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3,1    ),o=r(200         ),i=r(732                    );var n;!function(e){e[e.Horizontal=0]="Horizontal"}(t.ResizableArrowDirection||(t.ResizableArrowDirection={})),function(e){e[e.LeftToRight=0]="LeftToRight",e[e.Center=1]="Center"}(n=t.ResizableArrowGrow||(t.ResizableArrowGrow={}));const a=new Set(["arrowWidth","direction"]),h=3,p=3.5,l=7,c=2,d=l+4;class m extends s.PureComponent{constructor(e){super(e),this.elementProps=this.makeElementProps(e)}UNSAFE_componentWillUpdate(e,t){this.elementProps=this.makeElementProps(e)}makeElementProps(e){return o.copyExcluding(e,a)}makePath(e,t){const r=this.props.arrowWidth,s=(r,s)=>r+e+" "+(s+t);return"M "+s(p,(l-c)/2)+"L "+s(p,0)+"L "+s(0,l/2)+"L "+s(p,l)+"L "+s(p,(l+c)/2)+"L "+s(r-p,(l+c)/2)+"L "+s(r-p,l)+"L "+s(r,l/2)+"L "+s(r-p,0)+"L "+s(r-p,(l-c)/2)+"Z"}render(){const e=this.props.width?"string"==typeof this.props.width?parseInt(this.props.width):this.props.width:12,t=this.props.height?"string"==typeof this.props.height?parseInt(this.props.height):this.props.height:l+2*h,r=this.props.grow==n.LeftToRight?0:(e-this.props.arrowWidth)/2,o=this.makePath(r,(t-d)/2);return s.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e,height:t,className:this.props.className},this.elementProps),s.createElement("g",{transform:`translate(2 ${h})`},s.createElement("path",{className:i.background,style:{strokeWidth:2},fillRule:"evenodd",d:o}),s.createElement("path",{className:i.foreground,fillRule:"evenodd",d:o})))}}t.ResizableArrow=m,m.displayName="ResizableArrow"}),
(function(r,u,o){r.exports={cursor:"PointerScrubManager--cursor--1KIUB",defaultCursor:"PointerScrubManager--defaultCursor--3Zvq7 PointerScrubManager--cursor--1KIUB"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ScrubEvent=class{constructor(t,e,s=!1,i={x:0,y:0},c={x:0,y:0},n=!1,r=!1){this.target=t,this.sourceEvent=e,this.canceled=s,this.distance=i,this.delta=c,this.isBigIncrement=n,this.isUnbounded=r}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=i(735           );e.WheelCaptureContext=class{constructor(t,e){switch(this.ended=!1,this.onBatchTimeout=(()=>{this.batchTimer=null,this.end(null)}),this.trackedEl=t,this.ctx=e,this.multiplier={x:1,y:1},e.wheelMultiplier&&("number"==typeof e.wheelMultiplier?this.multiplier.x=this.multiplier.y=e.wheelMultiplier:(void 0!==e.wheelMultiplier.x&&(this.multiplier.x=e.wheelMultiplier.x),void 0!==e.wheelMultiplier.y&&(this.multiplier.y=e.wheelMultiplier.y))),this.batchDuration=void 0!==e.wheelInputBatchDuration?e.wheelInputBatchDuration:200,this.batchTimer=null,this.distance={x:0,y:0},e.wheelSingleAxis||e.lockAxis||!1){case"x":this.deltaMutator=(t=>{Math.abs(t.y)>Math.abs(t.x)&&(t.x=t.y),t.x*=this.multiplier.x,t.y=0});break;case"y":this.deltaMutator=(t=>{Math.abs(t.x)>Math.abs(t.y)&&(t.y=t.x),t.x=0,t.y*=this.multiplier.y})}this.batchDuration<=0&&(this.onWheelDelta=this.onWheelDeltaUnbatched)}deltaMutator(t){t.x*=this.multiplier.x,t.y*=this.multiplier.y}onWheelDeltaUnbatched(t,e,i){this.deltaMutator(e);const n=this.ctx,l=this.trackedEl;if(n.onBegin){const e=new h.ScrubEvent(t.target||l,t);if(!1===n.onBegin(e))return!1}return n.onChange(new h.ScrubEvent(l,t,!1,e,e,i,!0)),n.onEnd&&n.onEnd(new h.ScrubEvent(l,t,!1,void 0,e,!1,!0)),!0}end(t){this.ended||(this.ended=!0,null!==this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.ctx.onEnd&&this.ctx.onEnd(new h.ScrubEvent(this.trackedEl,t,!1,this.distance,void 0,!1,!0)))}onWheelDelta(t,e,i){this.deltaMutator(e);const n=this.ctx,l=this.trackedEl;if(null===this.batchTimer){if(n.onBegin){const e=new h.ScrubEvent(t.target||l,t,!1,void 0,void 0,i,!0);if(!1===n.onBegin(e))return!1}this.distance.x=e.x,this.distance.y=e.y,this.ended=!1}else clearTimeout(this.batchTimer),this.distance.x+=e.x,this.distance.y+=e.y;return this.batchTimer=setTimeout(this.onBatchTimeout,this.batchDuration),n.onChange(new h.ScrubEvent(l,t,!1,this.distance,e,i,!0)),!0}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(736                    ),s=i(735           );var r;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Middle=4]="Middle",e[e.Other1=8]="Other1",e[e.Other2=16]="Other2"}(r||(r={}));t.BaseScrubManager=class{constructor(e){this.trackedElements=new Map,this.styleOverrideElements=new Set,this.startPosition={x:0,y:0},this.activeDistance={x:0,y:0},this.activeElement=null,this.activeContext=null,this.activeBigIncrementMultiplier=10,this.pointerInTrackedElement=null,this.isTracking=!1,this.isTrackingMovementWithEventName=!1,this.isAltKeyPressed=!1,this.isShiftKeyPressed=!1,this.wheelCaptureContext=null,this._onPointerDown=(e=>{var t;const i=e.target,n=this.trackedElements.get(i);if(n)this.onPointerDown(i,i,e,n),e.preventDefault(),e.stopPropagation();else if(e.buttons&&e.buttons&r.Middle){const[n,s]=this.findTrackedElement(e.target);n&&!(null===(t=s)||void 0===t?void 0:t.ignoreMiddleMouseButton)&&(this.onPointerDown(i,n,e,s),e.preventDefault(),e.stopPropagation())}}),this._onPointerUp=(e=>{this.activeContext&&this.onPointerUp(e,this.activeContext)}),this.onClick=(e=>{this.trackedElements.has(e.target)&&(e.stopPropagation(),e.preventDefault())}),this.onWheelForTracked=(e=>{const t={x:-e.deltaX,y:e.deltaY};switch(e.deltaMode){case WheelEvent.DOM_DELTA_LINE:t.x*=10,t.y*=10;break;case WheelEvent.DOM_DELTA_PAGE:t.x*=100,t.y*=100;break;case WheelEvent.DOM_DELTA_PIXEL:}e.shiftKey&&(t.x*=this.activeBigIncrementMultiplier,t.y*=this.activeBigIncrementMultiplier),this.wheelCaptureContext.onWheelDelta(e,t,e.shiftKey)&&(e.preventDefault(),e.stopPropagation())}),this.onPointerEnterTracked=(e=>{const t=this.findTrackedElement(e.target)[0];this.pointerInTrackedElement=t,this.updateCaptureWheelEvents(e),this.isAltKeyPressed&&t&&this.enableStyleOverridesForTracked(t)}),this.onPointerLeaveTracked=(e=>{this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(e)}),this.onKeyDown=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(e.preventDefault(),e.stopPropagation())}),this.onKeyUp=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(this.stopTracking(e,!0),e.preventDefault(),e.stopPropagation())}),this.onPointerMove=(e=>{}),this.onWindowBlur=(e=>{this.isAltKeyPressed=!1,this.onAltKeyChange(null),this.isShiftKeyPressed=!1,this.onShiftKeyChange(null),this.stopTracking(e,!1)}),this.eventNames=e}addTracking(e,t){this.trackedElements.set(e,t),this.isTracking||(this.isTracking=!0,this.enable(document)),e.addEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.addEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1)}removeTracking(e){this.trackedElements.delete(e)&&(e.removeEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.removeEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1),e===this.pointerInTrackedElement&&(this.disableStyleOverridesForTracked(this.pointerInTrackedElement),this.pointerInTrackedElement&&(this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(null))),e===this.activeElement&&(this.activeElement=null),this.isTracking&&0==this.trackedElements.size&&(this.disable(document),this.isTracking=!1))}enable(e){e.addEventListener("click",this.onClick,!1),e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),e.addEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.addEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.addEventListener("blur",this.onWindowBlur)}disable(e){e.removeEventListener("click",this.onClick,!1),e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),e.removeEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.removeEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.removeEventListener("blur",this.onWindowBlur)}findTrackedElement(e){let t=e;for(;t;){const e=this.trackedElements.get(t);if(e)return[t,e];t=t.parentElement}return[null,null]}cssCursorForContext(e){if(e){if(void 0!==e.cursorStyle)return e.cursorStyle;switch(e.lockAxis||!1){case"x":return"ew-resize";case"y":return"ns-resize"}}return"all-scroll"}updateCaptureWheelEvents(e){if(this.wheelCaptureContext){const t=this.wheelCaptureContext.trackedEl;this.isAltKeyPressed&&t===this.pointerInTrackedElement||(t.removeEventListener("wheel",this.onWheelForTracked,!0),0===this.activeDistance.x&&0===this.activeDistance.y||this.wheelCaptureContext.end(e),this.wheelCaptureContext=null)}if(this.isAltKeyPressed){const e=this.pointerInTrackedElement;if(e&&!this.wheelCaptureContext){const t=this.trackedElements.get(e);this.wheelCaptureContext=new n.WheelCaptureContext(e,t),e.addEventListener("wheel",this.onWheelForTracked,!0)}}}_setStyleOverridesForTracked(e,t){const i=this.trackedElements.get(e),n=t?"none":null,s=t&&i?this.cssCursorForContext(i):null;e.style.cursor=s||"";for(let r=0,o=e.children.length;r<o;++r){const t=e.children[r].style;t.pointerEvents=n,t.cursor=s||""}}enableStyleOverridesForTracked(e){this.styleOverrideElements.has(e)||(this._setStyleOverridesForTracked(e,!0),this.styleOverrideElements.add(e))}disableStyleOverridesForTracked(e){this.styleOverrideElements.delete(e)&&this._setStyleOverridesForTracked(e,!1)}disableAllStyleOverrides(){this.styleOverrideElements.forEach(e=>{this._setStyleOverridesForTracked(e,!1)}),this.styleOverrideElements.clear()}onAltKeyChange(e){const t=this.pointerInTrackedElement;t&&(this.isAltKeyPressed&&this.enableStyleOverridesForTracked(t),this.updateCaptureWheelEvents(e)),this.isAltKeyPressed||this.disableAllStyleOverrides()}onShiftKeyChange(e){if(this.activeContext&&!this.wheelCaptureContext){let t=this.activeDistance;if(this.isShiftKeyPressed){const e=this.activeBigIncrementMultiplier;t={x:t.x*e,y:t.y*e}}this.activeContext.onChange(new s.ScrubEvent(this.activeElement,e,!1,t,void 0,this.isShiftKeyPressed))}}startTracking(e){if(this.isTrackingMovementWithEventName)return;this.isTrackingMovementWithEventName=e||this.eventNames.pointerMove,document.addEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents="none",document.documentElement.style.userSelect="none";const t=this.cssCursorForContext(this.activeContext);t&&(document.documentElement.style.cursor=t)}stopTracking(e,t){this.isTrackingMovementWithEventName&&(document.removeEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents=null,document.documentElement.style.userSelect="",document.documentElement.style.cursor="",this.isTrackingMovementWithEventName=!1),this.activeContext&&(this.activeContext.onEnd&&this.activeContext.onEnd(new s.ScrubEvent(this.activeElement,e,t,this.activeDistance)),this.activeContext=null),this.activeElement=null}onPointerDown(e,t,i,n){return this.startPosition.x=i.clientX,this.startPosition.y=i.clientY,(!n.onBegin||!1!==n.onBegin(new s.ScrubEvent(e,i)))&&(this.activeDistance.x=0,this.activeDistance.y=0,this.activeContext=n,this.activeElement=t,this.activeBigIncrementMultiplier=n.bigIncrementMultiplier||10,!0)}onPointerUp(e,t){this.stopTracking(e,!1)}}}),
(function(e,o,i){"use strict";function n(e,o){return Math.floor(e*o+.5)/o}Object.defineProperty(o,"__esModule",{value:!0}),o.imod=function(e,o){return(e%o+o)%o},o.roundTo=n,o.roundPx="devicePixelRatio"in window?e=>n(e,window.devicePixelRatio):e=>Math.round(e)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(7,1        ),s=i(734                        ),o=i(735           ),n=i(737             ),a=i(738       ),c=i(115          ),u=i(157         ),h=i(86      );t.PointerScrubManager=class extends n.BaseScrubManager{constructor(){super({pointerDown:"pointerdown",pointerMove:"pointermove",pointerUp:"pointerup",pointerEnter:"pointerenter",pointerLeave:"pointerleave"}),this.activeCursorElement=null,this.activeCursorOffset={x:0,y:0},this.activeCursorSize={x:0,y:0},this.activeCapturedPointerId=null,this.activeCustomCursorRender=null,this.onPointerCancel=(e=>{this.stopTracking(e,!0)}),this.onPointerMove=(e=>{const t={x:e.movementX,y:e.movementY};if(Math.abs(t.x)>200||Math.abs(t.y)>200)return;this.activeDistance.x+=t.x,this.activeDistance.y+=t.y;let i=this.activeDistance;if(e.shiftKey){const e=this.activeBigIncrementMultiplier;i={x:i.x*e,y:i.y*e},t.x*=e,t.y*=e}this.activeContext&&(this.activeContext.onChange(new o.ScrubEvent(this.activeElement,e,!1,i,t,this.isShiftKeyPressed)),this.activeCursorElement&&this.updateCursorPosition())}),this.onPointerLockFailure=(e=>{this.activeCursorElement&&this.removeCustomCursor(),this.startTracking()}),this.onPointerLockChange=(e=>{this.activeContext&&((document.pointerLockElement||document.webkitPointerLockElement||document.mozPointerLockElement||document.msPointerLockElement)===this.activeElement?h.firefox&&+h.version>=59?this.startTracking():this.startTracking("mousemove"):this.stopTracking(e,!1))}),u.assertDev(c.capabilities.pointerEvents,"missing PointerEvent API")}enable(e){super.enable(e),e.addEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.addEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.addEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}disable(e){super.disable(e),e.removeEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.removeEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.removeEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}addTracking(e,t){super.addTracking(e,t),e.addEventListener("pointercancel",this.onPointerLeaveTracked,!1)}removeTracking(e){super.removeTracking(e),e.removeEventListener("pointercancel",this.onPointerLeaveTracked,!1)}onPointerDown(e,t,i,r){if(!super.onPointerDown(e,t,i,r))return!1;if(c.capabilities.pointerCapture){this.activeCapturedPointerId=i.pointerId;try{this.activeElement.setPointerCapture(i.pointerId)}catch(s){}}return this.createCustomCursor(),c.capabilities.pointerLock?c.capabilities.requestPointerLockFunc.call(this.activeElement):this.onPointerLockFailure(),!0}stopTracking(e,t){c.capabilities.pointerLock&&c.capabilities.exitPointerLockFunc.call(document),null!==this.activeCapturedPointerId&&this.activeElement&&this.activeElement.releasePointerCapture(this.activeCapturedPointerId),this.activeCursorElement&&this.removeCustomCursor(),super.stopTracking(e,t)}updateCursorPosition(){let e=this.startPosition.x+this.activeDistance.x-this.activeCursorOffset.x,t=this.startPosition.y+this.activeDistance.y-this.activeCursorOffset.y;switch(this.activeContext.lockAxis||!1){case"x":t=this.startPosition.y-this.activeCursorOffset.y;break;case"y":e=this.startPosition.x-this.activeCursorOffset.x}const i=a.roundPx(this.activeCursorSize.x/2),r=a.roundPx(this.activeCursorSize.y/2);e=a.imod(e+i,window.innerWidth)-i,t=a.imod(t+r,window.innerHeight)-r,this.activeCursorElement.style.transform=`translate3d(${e}px, ${t}px, 0)`,this.activeCustomCursorRender&&this.activeCustomCursorRender()}removeCustomCursor(){this.activeCursorElement.parentElement&&this.activeCursorElement.parentElement.removeChild(this.activeCursorElement),this.activeCursorElement.style.display="none",this.activeCustomCursorRender=null}createCustomCursor(){const e=this.activeContext;if(!e)return;if(!e.renderCursor&&null===e.cursorStyle)return;this.activeCursorElement||(this.activeCursorElement=document.createElement("div"),this.activeCursorElement.className=s.cursor,this.activeCursorElement.style.display="none"),this.activeCursorSize=e.cursorSize?{x:a.roundPx(e.cursorSize.x),y:a.roundPx(e.cursorSize.y)}:{x:24,y:24},this.activeCursorElement.style.width=this.activeCursorSize.x+"px",this.activeCursorElement.style.height=this.activeCursorSize.y+"px",e.cursorOffset?this.activeCursorOffset=e.cursorOffset:(this.activeCursorOffset.x=a.roundPx(this.activeCursorSize.x/2),this.activeCursorOffset.y=a.roundPx(this.activeCursorSize.y/2));const t=e.getCursorStartPosition?e.getCursorStartPosition():{};void 0!==t.x&&(this.startPosition.x=t.x),void 0!==t.y&&(this.startPosition.y=t.y),this.activeCursorElement.className=e.renderCursor?s.cursor:s.defaultCursor,this.updateCursorPosition(),document.body.appendChild(this.activeCursorElement),e.renderCursor&&(this.activeCustomCursorRender=(()=>{const t=e.renderCursor({distance:this.activeDistance});r.render(t,this.activeCursorElement)}),this.activeCustomCursorRender()),this.activeCursorElement.style.display=""}}}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=e(737             ),n=e(735           );i.MouseScrubManager=class extends s.BaseScrubManager{constructor(){super({pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerEnter:"mouseover",pointerLeave:"mouseout"}),this.lastPosition={x:0,y:0},this.onPointerMove=(t=>{const i={x:t.clientX-this.lastPosition.x,y:t.clientY-this.lastPosition.y};this.activeDistance.x=t.clientX-this.startPosition.x,this.activeDistance.y=t.clientY-this.startPosition.y;let e=this.activeDistance;if(t.shiftKey){const t=this.activeBigIncrementMultiplier;e={x:e.x*t,y:e.y*t},i.x*=t,i.y*=t}this.activeContext.onChange(new n.ScrubEvent(this.activeElement,t,!1,e,i,this.isShiftKeyPressed)),this.lastPosition.x=t.clientX,this.lastPosition.y=t.clientY})}onPointerDown(t,i,e,s){return!!super.onPointerDown(t,i,e,s)&&(this.lastPosition.x=e.clientX,this.lastPosition.y=e.clientY,this.startTracking(),!0)}}}),
(function(r,b,c){r.exports={scrubCursorSvg:"scrubbable_control--scrubCursorSvg--6K-5c",containerInLiveScrub:"scrubbable_control--containerInLiveScrub--3GKRp",scrubbingDisabled:"scrubbable_control--scrubbingDisabled--3X8g-",disabled:"scrubbable_control--disabled--fHD9R",container:"scrubbable_control--container--3kSfp",containerBordered:"scrubbable_control--containerBordered--3L-lt raw_components--borderFocusWithin--3IG2Z scrubbable_control--container--3kSfp"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3,1    ),s=r(3,1    ),n=r(166                      ),u=r(130                                              ),o=r(388                             ),l=r(733                               ),c=r(115          ),p=r(739                                       ),a=r(740                                     ),h=r(741                       ),b=r(146                                          ),d=r(86      );t.scrubManager=c.capabilities.pointerEvents&&!d.safari?new p.PointerScrubManager:new a.MouseScrubManager;const S=8,g=15,m=10,f=5*S,M=f+6;t.postInputScrubMultiplier=.5,t.postInputScrubWheelMultiplier=.2;const v={left:`-${(M-g)/2}px`};class x extends s.PureComponent{constructor(e){super(e),this.preScrubValue=0,this.currentScrubScale=0,this.currentArrowWidth=0,this.onScrubBegin=(e=>{if(this.props.scrubbingDisabled||!o.notMixed(this.props.value))return!1;this.currentScrubScale=0,this.preScrubValue=o.getValue(this.props.value,0),b.fullscreen.commit(),this.props.onScrubBegin&&this.props.onScrubBegin(e),this.setState({inLiveScrub:!0})}),this.onScrubChange=(e=>{let t=1;if(!e.isUnbounded){const r=w(C(e.distance.y));t=r>0?r:1/-r}let r=this.valueFilter(e,_(this.props,this.preScrubValue+e.distance.x*t*this.effectiveScrubMultiplier()));this.props.valueFilter&&(r=this.props.valueFilter(e,r,this.effectiveBigIncrementMultiplier())),r=_(this.props,r),this.props.onValueChange&&this.props.onValueChange(r,n.ShouldCommit.NO),this.props.onScrubChange&&this.props.onScrubChange(r,e)}),this.onScrubEnd=(e=>{b.fullscreen.commit(),this.props.onScrubEnd&&this.props.onScrubEnd(e),this.setState({inLiveScrub:!1})}),this.renderScrubCursor=(e=>{const t=w(C(e.distance.y));if(this.currentScrubScale!=t){const e=this.currentScrubScale;this.currentScrubScale=t;const r=(S+t)/(2*S);this.currentArrowWidth=Math.round(Math.max(m,f*r)),0!==e&&this.props.dispatch(u.visualBell.enqueue({message:`Scrubbing at ${function(e){return e<=-8?"1/8":e<=-4?"1/4":e<=-2?"1/2":e>=8?"8x":e>=4?"4x":e>=2?"2x":"1x"}(t)}`,type:"scrub-scale"}))}return i.createElement(l.ResizableArrow,{className:h.scrubCursorSvg,width:M,height:g,style:v,arrowWidth:this.currentArrowWidth})}),this.ref=(e=>{if(this.element!==e){this.element&&t.scrubManager.removeTracking(this.element);const r={x:9,y:9};this.element=e,this.element&&t.scrubManager.addTracking(e,Object.assign(Object.assign({},r),this.scrubContext))}}),this.scrubContext={cursorStyle:"ew-resize",wheelSingleAxis:"x",cursorSize:{x:g,y:g},onBegin:this.onScrubBegin,onChange:this.onScrubChange,onEnd:this.onScrubEnd,renderCursor:this.renderScrubCursor},this.state={inLiveScrub:!1},this.updateScrubContext()}effectiveScrubMultiplier(){return(null==this.props.scrubMultiplier?1:this.props.scrubMultiplier)*(null==this.props.postScrubMultiplier?t.postInputScrubMultiplier:this.props.postScrubMultiplier)}effectiveBigIncrementMultiplier(){return this.props.bigNudgeAmount*(null==this.props.postBigNudgeAmount?t.postInputScrubMultiplier:this.props.postBigNudgeAmount)}effectiveWheelMultiplier(){if(this.props.wheelMultiplier)return this.props.wheelMultiplier*(null==this.props.postWheelMultiplier?t.postInputScrubWheelMultiplier:this.props.postWheelMultiplier)}UNSAFE_componentWillUpdate(e,t){this.updateScrubContext()}updateScrubContext(){const e=this.scrubContext;e.wheelMultiplier=this.effectiveWheelMultiplier(),e.bigIncrementMultiplier=this.effectiveBigIncrementMultiplier()}valueFilter(e,t){const r=this.props.resolution;return r?1===r?Math.round(t):Math.round(t/r)*r:t}render(){let e=this.state.inLiveScrub?`${h.containerInLiveScrub} ${this.props.className||""}`:this.props.className;return this.props.scrubbingDisabled&&(e+=" "+h.scrubbingDisabled),this.props.disabled&&(e+=` ${h.disabled}`),e+=` ${this.props.noBorderOnFocus?h.container:h.containerBordered}`,i.createElement("label",{ref:this.ref,id:this.props.id,className:e,"data-tooltip-text":this.props["data-tooltip-text"]},this.props.children)}}function C(e){let t=e/(window.screen?window.screen.height:768);return t<-1?-1:t>1?1:t}function w(e){return e<-.5?8:e<-.25?4:e<-.125?2:e>.5?-8:e>.25?-4:e>.125?-2:1}function _(e,t){return void 0!==e.min&&(t=Math.max(e.min,t)),void 0!==e.max&&(t=Math.min(e.max,t)),t}t.ScrubbableControl=x,x.displayName="ScrubbableControl"}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(3,1    ),r=t(172              ),p=t(388                             ),i=t(699                                 ),a=t(730               ),n=t(731              ),l=t(742                                          );class h extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFocused:!1},this.onMouseOver=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1})}),this.onFocus=(()=>{this.setState({isFocused:!0})}),this.onBlur=(()=>{this.setState({isFocused:!1})})}areValuesEqual(s,e){return null==s||null==e?null==s==(null==e):this.props.formatter.isEqual?this.props.formatter.isEqual(s,e):s===e}render(){const s=a.Select,e=p.getValueOrNull(this.props.property),t=[];let h=!0;o.Children.forEach(this.props.children,s=>{this.areValuesEqual(s.props.value,e)&&(h=!1)}),h&&e&&(t.push(o.createElement(a.Option,{value:e,key:"custom-option"},this.props.formatter.format(e))),0!==o.Children.count(this.props.children)&&t.push(o.createElement(a.SelectDivider,{key:"custom-option-divider"})));let u=n.selectInput;this.props.disabled||!this.state.isMouseOver&&!this.state.isFocused||(u=n.selectInputExpanded);let c=n.container;return this.props.disabled&&(c=n.containerDisabled),o.createElement("div",{className:`${c} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},o.createElement(s,{id:this.props.id,formatter:this.props.formatter,property:this.props.property,className:this.props.disabled?n.selectDisabled:n.select,inputClassName:`${u} ${this.props.inputClassName||""}`,dropdownClassName:this.props.dropdownClassName,onChange:this.props.onChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select"),svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,svgClassName:this.props.svgClassName},t,this.props.children),this.props.scrubbableControlProps?o.createElement(l.ScrubbableControl,Object.assign({},this.props.scrubbableControlProps,{className:`${n.scrubbableControl} ${this.props.svg?n.withSvg:""}`}),o.createElement(i.FormattedInput,{className:this.props.inputClassName,formatter:this.props.formatter,property:this.props.property,onChange:this.props.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,noBorderOnFocus:!0})):o.createElement(i.FormattedInput,{className:`${n.input} ${this.props.svg?n.withSvg:""} ${this.props.inputClassName||""}`,formatter:this.props.formatter,property:this.props.property,onChange:this.props.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur}))}}e.ComboBox=h,h.displayName="ComboBox",h.propTypes={children:(s,e,t)=>{const r=s[e];let p=null;return o.Children.forEach(r,s=>{s.type&&s.type.__IS_VALID_SELECT_CHILD__||(p=new Error(`${t} children should be of type 'Option' or 'SelectDivider'`))}),p}};e.NumberComboBox=class extends h{}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(3,1    ),o=s(86      ),i=s(166                      ),n=s(699                                                                          ),p=s(743                                                              ),u=s(742                   ),a=s(388                             ),l=s(110          ),m=s(697                             ),h=s(698                                     );class c extends r.Component{constructor(){super(...arguments),this.onChange=(t=>{this.props.onValueChange&&this.props.onValueChange(t,i.ShouldCommit.YES)})}render(){return r.createElement(u.ScrubbableControl,Object.assign({},d,this.props,{scrubbingDisabled:this.props.disabled||this.props.value===a.MIXED||null==this.props.value}),this.props.children,r.createElement(n.NumberInput,{recordingKey:this.props.recordingKey,className:this.props.inputClassName,dataTestId:this.props.dataTestId,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,formatter:this.props.formatter,property:this.props.value,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,disabled:void 0===this.props.disabled?null===this.props.value:this.props.disabled,placeholder:this.props.placeholder,autoFocus:this.props.autoFocus,noBorderOnFocus:!0}))}}const d={scrubMultiplier:1,wheelMultiplier:1,smallNudgeAmount:m.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:m.DEFAULT_BIG_NUDGE_AMOUNT};class b extends r.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.onValueChange&&this.props.onValueChange(t,i.ShouldCommit.YES)})}render(){let t=void 0;return o.safari||(t=Object.assign(Object.assign(Object.assign({},d),this.props),{resolution:null==this.props.resolution?1:this.props.resolution})),r.createElement("div",{className:this.props.className},r.createElement(p.NumberComboBox,{id:this.props.id,inputClassName:this.props.inputClassName,dropdownClassName:this.props.dropdownClassName,formatter:this.props.formatter,property:this.props.value,onChange:this.onChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,autoFocus:this.props.autoFocus,recordingKey:this.props.recordingKey,scrubbableControlProps:t},this.props.children))}}e.ScrubbableNumberComboBox=b,b.displayName="ScrubbableNumberComboBox";class g extends r.PureComponent{constructor(){super(...arguments),this.formatter=l.memoizeLast((t,e,s,r)=>new h.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(b,Object.assign({},this.props,{formatter:t,valueFilter:g.valueFilter}))}}e.ScrubbablePixelComboBox=g,g.displayName="ScrubbablePixelComboBox",g.valueFilter=((t,e,s)=>{if(t.isBigIncrement){const t=s/u.postInputScrubMultiplier;return Math.round(e/t)*t}return e});class N extends r.Component{constructor(){super(...arguments),this.formatter=l.memoizeLast((t,e,s,r)=>new h.IntegerFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(c,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,formatter:t,valueFilter:N.valueFilter}))}}e.ScrubbableIntInput=N,N.valueFilter=((t,e,s)=>{if(t.isBigIncrement){const t=s/u.postInputScrubMultiplier;return Math.round(e/t)*t}return Math.round(e)});e.ScrubbablePixelInput=class extends r.Component{constructor(){super(...arguments),this.formatter=l.memoizeLast((t,e,s,r)=>new h.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=this.formatter(this.props.min,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(c,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,formatter:t,valueFilter:N.valueFilter}))}};e.ScrubbablePositivePixelInput=class extends r.Component{constructor(){super(...arguments),this.formatter=l.memoizeLast((t,e,s,r)=>new h.PixelFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=null==this.props.min?0:Math.max(this.props.min,0),e=this.formatter(t,this.props.max,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(c,Object.assign({},this.props,{resolution:null==this.props.resolution?1:this.props.resolution,min:t,formatter:e,valueFilter:N.valueFilter,onFocus:this.props.onFocus,onBlur:this.props.onBlur}))}};e.ScrubbableMillisecondsInput=class extends r.Component{constructor(t){super(t),this.formatter=new h.SecondsFormatter(h.OutputUnit.MILLISECONDS,this.getMax(t))}getMax(t){return null==t.max?10:t.max}componentDidUpdate(t){this.props.max!==t.max&&(this.formatter=new h.SecondsFormatter(h.OutputUnit.MILLISECONDS,this.getMax(t)))}render(){return r.createElement(c,Object.assign({},this.props,{resolution:null==this.props.resolution?.001:this.props.resolution,min:null==this.props.min?.001:this.props.min,max:this.getMax(this.props),formatter:this.formatter}))}};const C=Object.assign(Object.assign({},d),{scrubMultiplier:4,wheelMultiplier:2});class x extends r.Component{constructor(){super(...arguments),this.formatter=l.memoizeLast((t,e,s,r)=>new h.PercentageFormatter({min:t,max:e,smallNudgeAmount:s,bigNudgeAmount:r}))}render(){const t=null==this.props.min?0:this.props.min,e=null==this.props.max?1:this.props.max,s=this.formatter(t,e,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(c,Object.assign({},C,this.props,{min:t,max:e,formatter:s,valueFilter:x.valueFilter,postScrubMultiplier:.001,postBigNudgeAmount:.1}))}}e.ScrubbablePercentageInput=x,x.valueFilter=((t,e)=>t.isBigIncrement?.1*Math.round(e/.1):e);const f=new h.AngleFormatter;class F extends r.Component{render(){return r.createElement(c,Object.assign({},this.props,{formatter:f,valueFilter:F.valueFilter,postScrubMultiplier:-.5,postBigNudgeAmount:-.1,postWheelMultiplier:-.2}))}}e.ScrubbableAngleInput=F,F.valueFilter=((t,e)=>t.isBigIncrement?15*Math.round(e/15):e);class S extends r.Component{constructor(){super(...arguments),this.inLiveScrub=!1,this.onNumberScrubBegin=(t=>{this.inLiveScrub=!0}),this.onNumberScrubEnd=(t=>{this.inLiveScrub=!1})}render(){return r.createElement(u.ScrubbableControl,Object.assign({},d,this.props,{scrubbingDisabled:this.props.disabled&&!this.props.scrubbingDisabled,onScrubBegin:this.onNumberScrubBegin,onScrubEnd:this.onNumberScrubEnd}),this.props.children,r.createElement(n.FormattedInput,{disabled:this.props.disabled,className:this.props.inputClassName,formatter:this.props.numberFormatter,property:this.props.toNumber(this.props.value),source:this.inLiveScrub?"scrub":"document",onChange:this.props.onNumberChange,recordingKey:this.props.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:this.props.shouldClearOnFocus,placeholder:this.props.placeholder}))}}class A extends r.Component{constructor(){super(...arguments),this.onChange=((t,e=i.ShouldCommit.YES)=>{this.props.onValueChange&&this.props.onValueChange(t,e)}),this.getUnits=(()=>a.notMixed(this.props.value)&&this.props.value?this.props.value.units:null),this.toNumber=(t=>{if(a.notMixed(t)){if(null==t)return a.MIXED;let e=t.value,s=this.getUnits();if(this.props.multipliers&&null!=s){let t=this.props.multipliers[s];null!=t&&(e*=t)}return e}return a.MIXED}),this.toFigNumber=(t=>{const e=this.getUnits();if(a.notMixed(t)){if(null==t||null==e)return a.MIXED;const s=this.props.multipliers&&this.props.multipliers[e];return null!=s&&(t/=s),{value:t,units:e}}return a.MIXED}),this.onNumberChange=((t,e)=>{const s=this.toFigNumber(t);a.notMixed(s)&&this.onChange(s,e)}),this.onValueChange=(t=>this.onNumberChange(t,i.ShouldCommit.YES)),this.onScrubChange=(t=>this.onNumberChange(t,i.ShouldCommit.NO)),this.getFormatter=l.memoizeLast((t,e,s,r)=>void 0===t?new h.PixelPercentageFormatter({min:e,smallPixelNudgeAmount:s||m.DEFAULT_SMALL_NUDGE_AMOUNT,bigPixelNudgeAmount:r||m.DEFAULT_BIG_NUDGE_AMOUNT}):t)}render(){const t=this.getFormatter(this.props.formatter,this.props.min,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return r.createElement(S,{"data-tooltip-text":this.props["data-tooltip-text"],className:this.props.className,inputClassName:this.props.inputClassName,value:this.toNumber(this.props.value),onValueChange:this.onValueChange,onScrubChange:this.onScrubChange,toNumber:this.toFigNumber,onNumberChange:this.onChange,numberFormatter:t,disabled:this.props.disabled,min:this.props.min,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,scrubbingDisabled:this.props.disabled,shouldClearOnFocus:this.props.shouldClearOnFocus,placeholder:this.props.placeholder,recordingKey:this.props.recordingKey,dispatch:this.props.dispatch},this.props.children)}}e.ScrubbableFigNumberInput=A,A.displayName="ScrubbableFigNumberInput"}),
(function(o,e,n){o.exports={anchor:"font_picker--anchor--2FMpY raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",chevron:"font_picker--chevron--wWoD1",_panel:"font_picker--_panel--1Vek3",dropdown:"font_picker--dropdown--5_Gsc font_picker--_panel--1Vek3 _overlayBase--_overlayBase--1sCqN text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",picker:"font_picker--picker--iSPgq font_picker--_panel--1Vek3 modal--modalShadow--HbHkT text--fontPos11--RSei3 text--_fontBase--YWDo0",icon:"font_picker--icon--13kcE",iconLight:"font_picker--iconLight--3bhHq font_picker--icon--13kcE",iconMissingFont:"font_picker--iconMissingFont--35_pK font_picker--iconLight--3bhHq font_picker--icon--13kcE",iconClearInput:"font_picker--iconClearInput--3buxy font_picker--iconLight--3bhHq font_picker--icon--13kcE",name:"font_picker--name--1Xeod",nameMissingFont:"font_picker--nameMissingFont--oSMwa font_picker--name--1Xeod",_bar:"font_picker--_bar--1BI5L",topBar:"font_picker--topBar--3QizJ font_picker--_bar--1BI5L",topTitle:"font_picker--topTitle--2_aJF",topIconPlain:"font_picker--topIconPlain--3I-lX font_picker--icon--13kcE",topIconHover:"font_picker--topIconHover--1xmzQ font_picker--topIconPlain--3I-lX font_picker--icon--13kcE",topButton:"font_picker--topButton--2Pziz font_picker--icon--13kcE",searchBar:"font_picker--searchBar--2erdl font_picker--_bar--1BI5L",moreBar:"font_picker--moreBar--2jEKX font_picker--_bar--1BI5L",moreTitle:"font_picker--moreTitle--3WUWk",scrollFrame:"font_picker--scrollFrame--VbVZc",_scrollFramed:"font_picker--_scrollFramed--yh2Ps",scrollContainer:"font_picker--scrollContainer--1TUS1 font_picker--_scrollFramed--yh2Ps",scrollTitle:"font_picker--scrollTitle--bhFf4 font_picker--_scrollFramed--yh2Ps",scrollBar:"font_picker--scrollBar--1Z0VA",active:"font_picker--active--2fhRs",scrollThumb:"font_picker--scrollThumb--2-toA",hinted:"font_picker--hinted--kIBSb",_contentSection:"font_picker--_contentSection--1FHee",contentMatchedSection:"font_picker--contentMatchedSection--2gO-D font_picker--_contentSection--1FHee",contentIndexedSection:"font_picker--contentIndexedSection--dkLqd font_picker--_contentSection--1FHee",contentRow:"font_picker--contentRow--whsKd",contentTitle:"font_picker--contentTitle--1BhUO font_picker--contentRow--whsKd",contentMessage:"font_picker--contentMessage--1qNjp font_picker--contentRow--whsKd text--fontPos11--RSei3 text--_fontBase--YWDo0",contentItem:"font_picker--contentItem--LCK2_ font_picker--contentRow--whsKd",selected:"font_picker--selected--2vcLs"}}),
(function(l,o,t){l.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.71l3.646 3.647.707-.707-3.646-3.647 3.646-3.646L8.646.65 5 4.296 1.353.65l-.707.707 3.646 3.646L.646 8.65l.707.707L5 5.71z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path d="M6.453 7.16C5.776 7.687 4.924 8 4 8 1.79 8 0 6.21 0 4c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 .924-.314 1.776-.84 2.453l3.194 3.193-.708.707L6.453 7.16zM7 4c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,L){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 5.5L8.539 1.846 8 .5l-.539 1.346L6 5.5H1l1.182 1L5 8.885 3.936 12.56 3.5 14.068l1.297-.884L8 11l3.195 2.13L12.5 14l-.45-1.502L11 9l2.857-2.5L15 5.5h-5zm2.339 1H9.323l-.251-.629L8 3.193 6.928 5.87l-.251.629H3.73l1.916 1.622.495.419-.18.622-.728 2.513 2.204-1.502.557-.38.56.374 2.19 1.46-.702-2.34-.185-.617.485-.424L12.338 6.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .5l2 5h5L11 9l1.5 5L8 11l-4.5 3.068L5 8.885 1 5.5h5l2-5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.063 9.7H11c0-1.526.268-2.021 1.15-2.49.493-.263.905-.624.905-1.202 0-.692-.414-1.133-1.204-1.133-.789 0-1.216.305-1.262 1.133H9.497c.05-1.406.852-2.117 2.354-2.117 1.503 0 2.275.847 2.275 2.117 0 .855-.517 1.55-1.218 1.992-.73.46-.845.56-.845 1.7zm.224 1.558c0 .434-.355.781-.781.781-.43 0-.781-.348-.781-.781 0-.426.351-.777.78-.777.427 0 .782.351.782.777z" fill-rule="nonzero" fill-opacity="1" fill="#332f00" stroke="none"/><path d="M1.027 12l3.11-8H5.17l3.111 8H7.261l-.787-2.025h-3.64L2.046 12h-1.02zm3.627-6.705l1.45 3.73H3.203l1.45-3.73z" fill-rule="evenodd" fill-opacity="1" fill="#332f00" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(3,1    ),o=s(340              ),n=s(145         ),h=s(146                                          ),r=s(163                               ),a=s(388                             ),c=s(106                                     ),d=s(138                                   ),l=s(463                               ),m=s(174                        ),p=s(361                                           ),u=s(745                ),f=s(411                                        ),g=s(728                                            ),v=s(337                           ),w=s(746                           ),M=s(747                                 ),y=s(729                                                ),b=s(748                                 ),S=s(749                               ),x=s(750                                                  ),k=o.pxToInt(f.gridBasis),E=o.pxToInt(f.toolbarHeight),F=o.pxToInt(f.objectRowHeight),I="__FONT_DROPDOWN",P=28*k,D=44.5*k,O=20*k,N="__FONT_PICKER",_=o.pxToInt(f.rightNavWidth),T=k,q=55.5*k,B=25*k,L=1,K=k,C=3*k,U=3*k,A=k,W=K+U+A,V=2,j=k,R=["Anonymous Pro","Helvetica Neue","Lato","Roboto","Segoe","Source Sans Pro","Source Serif Pro","SF Pro Text"],$=(t,e)=>(t.sort((t,s)=>{const[i,o]=[t.startsWith("."),e&&-1===e.indexOf(t)],[n,h]=[s.startsWith("."),e&&-1===e.indexOf(s)];return o===h?i===n?t.localeCompare(s):i?1:-1:o?1:-1}),t=t.filter((t,e,s)=>e===s.indexOf(t)));class H{constructor(t){this.items=Object.keys(t),this.items.sort((e,s)=>t[e]>t[s]?-1:t[e]<t[s]?1:0),this.height=K+this.items.length*U+A,this.begin=new Y(this),this.end=new Y(this)}}class Y{constructor(t){this.content=t,this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=0}set offset(t){if(t<=0)this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=0;else if(t>=this.content.height)this.tail=this.content.height,this.header=1,this.item=this.content.items.length,this.footer=1,this.head=0;else if(this.tail=0,this.header=0,this.item=0,this.footer=0,this.head=t,this.header=this.head>=K?1:0,this.header&&(this.tail+=K,this.head-=K,this.item=Math.min(Math.floor(this.head/U),this.content.items.length),this.item)){const t=this.item*U;this.tail+=t,this.head-=t,this.item===this.content.items.length&&(this.footer=this.head>=A?1:0,this.footer&&(this.tail+=A,this.head-=A))}}get offset(){return this.tail+this.head}}class X{constructor(t){this.sections=t,this.height=t.reduce((t,e)=>t+e.height,0),this.begin=new G(this),this.end=new G(this)}}class Q{constructor(t,e,s){this.title=t,this.items=$(e,s),this.height=K+C+this.items.length*U+A}}class G{constructor(t){this.content=t,this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0}reset(t){this.content=t,this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0}set offset(t){if(t<=0)this.tail=0,this.section=0,this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=0;else if(t>=this.content.height)this.tail=this.content.height-this.content.sections[this.content.sections.length-1].height,this.section=this.content.sections.length-1,this.middle=this.content.sections[this.content.sections.length-1].height,this.header=1,this.title=1,this.item=this.content.sections[this.content.sections.length-1].items.length,this.footer=1,this.head=0;else{for(;this.section>0&&this.tail>t;)--this.section,this.tail-=this.content.sections[this.section].height;for(;this.section<this.content.sections.length-1&&this.tail+this.content.sections[this.section].height<=t;)this.tail+=this.content.sections[this.section].height,++this.section;if(this.middle=0,this.header=0,this.title=0,this.item=0,this.footer=0,this.head=t-this.tail,this.header=this.head>=K?1:0,this.header&&(this.middle+=K,this.head-=K,this.title=this.head>=C?1:0,this.title&&(this.middle+=C,this.head-=C,this.item=Math.min(Math.floor(this.head/U),this.content.sections[this.section].items.length),this.item))){const t=this.item*U;this.middle+=t,this.head-=t,this.item===this.content.sections[this.section].items.length&&(this.footer=this.head>=A?1:0,this.footer&&(this.middle+=A,this.head-=A))}}}get offset(){return this.tail+this.middle+this.head}}function z(t){return t.dropdownShown&&t.dropdownShown.type===I}function J(t){return t.pickerShown&&t.pickerShown.id===N}var Z,tt;e.dropdownShown=z,e.pickerShown=J,function(t){t[t.anchor=0]="anchor",t[t.dropdown=1]="dropdown",t[t.picker=2]="picker",t[t.favorite=3]="favorite"}(Z||(Z={})),function(t){t[t.hidden=0]="hidden",t[t.hinted=1]="hinted",t[t.active=2]="active"}(tt||(tt={}));e.FontBrowser=class extends i.PureComponent{constructor(t){super(t),this.mouse=null,this.clampDimensions=((t,e,s,i)=>{const o=window.innerHeight;return t+e>o-s&&(t=o-s-e),t<E+s&&(t=E+s),t+e>o-s&&(e=o-s-t),e<i&&(e=i),[t,e]}),this.updateMatched=(t=>{const e=r.FontHelpers.searchForFonts(t);this.matched=new H(e)}),this.updateEmployed=(()=>{const t=Object.keys(r.FontHelpers.collectDocumentFonts());this.employed=new Q("In this document",t,Object.keys(this.props.fonts))}),this.readFavorites=(()=>{this.favorites=this.props.userFavoriteFonts}),this.toggleFavorite=(t=>{const e=this.favorites.indexOf(t);-1===e?this.favorites.push(t):this.favorites.splice(e,1),this.updateIndexed(this.state.mode),this.indexed.begin.offset=this.state.scroll,this.indexed.end.offset=this.state.scroll+this.state.height,this.forceUpdate()}),this.writeFavorites=(()=>{this.props.dispatch(l.favoriteFonts.setFavoriteFonts(this.favorites))}),this.updateFavorited=(t=>{let e=this.favorites;t!==Z.favorite||e.length||(e=["Click stars to select favorites"]),this.favorited=new Q("Favorites",e,Object.keys(this.props.fonts))}),this.updateAvailable=(()=>{const t=[],e=[],s=[],i=[];for(let h of Object.keys(this.props.fonts))for(let o of Object.keys(this.props.versionsForStyles[h])){-1!==R.indexOf(h)&&t.push(h);const n=this.props.versionsForStyles[h][o];switch(this.props.fonts[h][n].source){case r.FontSource.SHARED:e.push(h);break;case r.FontSource.LOCAL:s.push(h);break;case r.FontSource.GOOGLE:i.push(h)}}const o=h.fullscreen.currentOrgId(),n=h.fullscreen.currentTeamId(),a=o&&this.props.orgById[o]?this.props.orgById[o].name:n&&this.props.teams[n]?this.props.teams[n].name:"Shared";this.popular=new Q("Popular fonts",t),this.shared=new Q(`${a} fonts`,e),this.local=new Q("On this computer",s),this.google=new Q("Google Fonts",i)}),this.updateIndexed=(t=>{let e=[];switch(this.updateEmployed(),this.updateFavorited(t),this.updateAvailable(),t){case Z.dropdown:e=[this.employed],e=this.favorited.items.length||this.shared.items.length?e.concat([this.favorited,this.shared]):e.concat([this.popular]);break;case Z.picker:e=[this.employed],e=(e=this.favorited.items.length||this.shared.items.length?e.concat([this.favorited,this.shared]):e.concat([this.popular])).concat([this.local,this.google]);break;case Z.favorite:e=[this.favorited,this.employed],e=(e=this.favorited.items.length||this.shared.items.length?e.concat([this.shared]):e.concat([this.popular])).concat([this.local,this.google])}const s=e.filter(t=>t&&t.items.length);this.indexed=new X(s)}),this.font=null,this.updateFont=(t=>{this.font=a.getValueOrNull(t),this.state.mode!==Z.anchor&&(this.updateIndexed(this.state.mode),this.indexed.begin.offset=this.state.scroll,this.indexed.end.offset=this.state.scroll+this.state.height)}),this.writeFont=(t=>{h.fullscreen.updateSelectionProperties({fontFamily:t})}),this.updateMode=(t=>{const e=this.anchor.getBoundingClientRect();let s=this.state.query,i=this.state.position,o=this.state.height;switch(t){case Z.anchor:s="",i=null,o=0;break;case Z.dropdown:{this.readFavorites(),this.updateIndexed(t);const s=this.font?this.employed.items.indexOf(this.font):0,h=e.top-2*W-s*U,r=Math.min(D,this.indexed.height+2*W),[a,c]=this.clampDimensions(h,r,k,O);i=new n.Vector(e.left,a),o=c-2*W;break}case Z.picker:if(this.state.mode===Z.favorite)this.writeFavorites(),s="";else{this.readFavorites();const t=e.top-(W-F)/2,s=q+2*W,[h,r]=this.clampDimensions(t,s,k,B);i=new n.Vector(e.left-_-T,h),o=r-2*W}this.updateIndexed(t);break;case Z.favorite:this.updateIndexed(t)}this.indexed.begin.offset=0,this.indexed.end.offset=o,this.setState({mode:t,query:s,position:i,section:-1,item:-1,scroll:0,height:o})}),this.updateQuery=(t=>{this.updateMatched(t);let e=this.state.position,s=this.state.height,i=0,o=0;if(!this.state.query&&t&&this.state.mode===Z.dropdown){const t=e.y,i=D,[o,h]=this.clampDimensions(t,i,k,O);e=new n.Vector(e.x,o),s=h-W}if(this.state.query&&!t){if(this.state.mode===Z.dropdown){const t=e.y,i=Math.min(D,this.indexed.height+2*W),[o,h]=this.clampDimensions(t,i,k,O);e=new n.Vector(e.x,o),s=h-2*W}i=-1,o=-1}this.matched.begin.offset=0,this.matched.end.offset=s,this.setState({query:t,position:e,section:i,item:o,scroll:0,height:s})}),this.incrementScroll=(t=>{const e=this.state.height;t>0&&(this.state.query?(this.matched.end.offset=this.matched.begin.offset+t+e,this.matched.begin.offset=this.matched.end.offset-e):(this.indexed.end.offset=this.indexed.begin.offset+t+e,this.indexed.begin.offset=this.indexed.end.offset-e)),t<0&&(this.state.query?(this.matched.begin.offset=this.matched.end.offset+t-e,this.matched.end.offset=this.matched.begin.offset+e):(this.indexed.begin.offset=this.indexed.end.offset+t-e,this.indexed.end.offset=this.indexed.begin.offset+e));const s=this.state.query?this.matched.begin.offset:this.indexed.begin.offset;this.setState({scroll:s})}),this.getIncrementMargin=(()=>this.state.mode===Z.dropdown?0:4.5*k),this.incrementOverflowed=!1,this.incrementItem=(()=>{let t=Math.max(0,this.state.section),e=Math.max(0,this.state.item+1),s=0,i=U;if(this.state.query){if(e===this.matched.items.length)return;s+=K+U*(e+1)}else{if(e===this.indexed.sections[t].items.length){if(++t===this.indexed.sections.length)return;e=0,i+=C+A}for(let e=0;e<t;e++)s+=this.indexed.sections[e].height;s+=C+U*(e+1)}if(this.incrementOverflowed)this.incrementScroll(i);else{const t=this.getIncrementMargin();s>this.state.scroll+this.state.height-t&&(i=s-this.state.scroll-this.state.height,i+=Math.min(Math.max(.1*this.state.height-U/2,t),16*k),this.incrementOverflowed=!0,this.incrementScroll(i))}this.decrementOverflowed=!1,this.setState({section:t,item:e})}),this.decrementOverflowed=!1,this.decrementItem=(()=>{let t=this.state.section,e=this.state.item-1,s=0,i=-U;if(this.state.query){if(-1===e)return;s+=K+U*e}else{if(-1===e){if(-1==--t)return;e=this.indexed.sections[t].items.length-1,i-=C+A}for(let e=0;e<t;e++)s+=this.indexed.sections[e].height;s+=C+U*e}if(this.decrementOverflowed)this.incrementScroll(i);else{const t=this.getIncrementMargin();s<this.state.scroll+C+t&&(i=s-this.state.scroll-C,i-=Math.min(Math.max(.1*this.state.height-U/2,t),16*k),this.decrementOverflowed=!0,this.incrementScroll(i))}this.incrementOverflowed=!1,this.setState({section:t,item:e})}),this.scrollInBar=!1,this.onScrollWheel=(t=>{t.stopPropagation();const e=t.deltaY;clearTimeout(this.scrollTimeout),this.scrollInBar||(this.setState({bar:tt.hinted}),this.scrollTimeout=setTimeout(()=>{this.scrollTimeout=void 0,this.setState({bar:tt.hidden})},500)),this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.incrementScroll(e)}),this.onScrollBarMouseEnter=(t=>{t.stopPropagation(),this.mouse||(clearTimeout(this.scrollTimeout),this.setState({bar:tt.active})),this.scrollInBar=!0}),this.onScrollBarMouseDown=(t=>{if(2!==t.button){t.stopPropagation(),this.mouse=new n.Vector(t.pageX,t.pageY);const e=this.state.height,s=this.state.query?this.matched.height:this.indexed.height,i=e-j-2*V,o=i*e/s;let h=this.mouse.y-this.state.position.y;if(h-=2*W+3*L,(h-=V+j/2+o/2)<0)this.incrementScroll(-s);else if(h>i-o)this.incrementScroll(s);else{const t=s/i*(h-this.state.scroll*(i/s));this.incrementScroll(t)}document.addEventListener("mousemove",this.onScrollThumbMouseMove),document.addEventListener("mouseup",this.onScrollMouseUp)}}),this.onScrollBarMouseLeave=(t=>{t.stopPropagation(),this.mouse||(clearTimeout(this.scrollTimeout),this.setState({bar:tt.hidden})),this.scrollInBar=!1}),this.onScrollThumbMouseDown=(t=>{2!==t.button&&(t.stopPropagation(),this.mouse=new n.Vector(t.pageX,t.pageY),document.addEventListener("mousemove",this.onScrollThumbMouseMove),document.addEventListener("mouseup",this.onScrollMouseUp))}),this.onScrollThumbMouseMove=(t=>{t.stopPropagation();const e=new n.Vector(t.pageX,t.pageY),s=this.state.height,i=this.state.query?this.matched.height:this.indexed.height,o=s-j-2*V,h=o*s/i;let r=this.mouse.y-this.state.position.y;if(r-=2*W+3*L,(r-=V+j/2+h/2)<0)this.incrementScroll(-i);else if(r>o-h)this.incrementScroll(i);else{const t=e.subtract(this.mouse).y*(i/o);this.incrementScroll(t)}this.mouse=e}),this.onScrollMouseUp=(t=>{2!==t.button&&(t.stopPropagation(),this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.mouse=null,this.setState({bar:this.scrollInBar?tt.active:tt.hidden}),document.removeEventListener("mousemove",this.onScrollThumbMouseMove),document.removeEventListener("mouseup",this.onScrollMouseUp))}),this.onItemMouseDown=((t,e,s)=>{if(s.stopPropagation(),this.state.mode===Z.favorite)this.toggleFavorite(t);else{if(e)return void s.preventDefault();this.writeFont(t)}}),this.onItemMouseEnter=((t,e,s,i)=>{i.stopPropagation(),this.mouse||this.incrementOverflowed||this.decrementOverflowed||(s?this.setState({section:-1,item:-1}):this.setState({section:t,item:e}))}),this.onItemMouseMove=((t,e,s)=>{s.stopPropagation(),this.mouse||this.state.section===t&&this.state.item===e||(this.incrementOverflowed=!1,this.decrementOverflowed=!1,this.setState({section:t,item:e}))}),this.onItemMouseLeave=(t=>{t.stopPropagation(),this.mouse||this.incrementOverflowed||this.decrementOverflowed||this.setState({section:-1,item:-1})}),this.input=null,this.setInput=(t=>{t&&(this.state.mode===Z.dropdown&&(t.focus(),t.value=this.state.query),this.state.mode===Z.picker&&(t.blur(),t.value=""),this.state.mode===Z.favorite&&(t.blur(),t.value=this.state.query),this.input=t)}),this.onInputKeyDown=(t=>{this.onKeyDown(t.keyCode)&&(t.stopPropagation(),t.preventDefault())}),this.onKeyboardKeyDown=(t=>{this.onKeyDown(t.event.keyCode)&&t.accept()}),this.onInputFocus=(t=>{t.stopPropagation(),this.input&&this.input.focus()}),this.onInputUpdate=(()=>{this.updateQuery(this.input.value)}),this.onInputBlur=(t=>{t.stopPropagation(),this.input&&this.input.blur()}),this.anchor=null,this.setAnchor=(t=>{t&&(this.anchor=t)}),this.onAnchorClick=(t=>{t.shiftKey?this.showPicker():this.showDropdown()}),this.showDropdown=(()=>{J(this.props)&&this.props.dispatch(d.fullscreen.hidePicker()),this.props.dispatch(c.fileBrowser.showDropdown({type:I}))}),this.hideDropdown=(()=>{this.props.dispatch(c.fileBrowser.hideDropdown())}),this.showPicker=(t=>{t&&t.stopPropagation(),z(this.props)&&this.props.dispatch(c.fileBrowser.hideDropdown()),this.props.dispatch(d.fullscreen.showPicker({id:N}))}),this.onPickerIgnore=(t=>{t.stopPropagation()}),this.onPickerMoveMouseDown=(t=>{2!==t.button&&(t.stopPropagation(),this.mouse=new n.Vector(t.pageX,t.pageY),document.addEventListener("mousemove",this.onPickerMoveMouseMove),document.addEventListener("mouseup",this.onPickerMoveMouseUp))}),this.onPickerMoveMouseMove=(t=>{t.stopPropagation();const e=new n.Vector(t.pageX,t.pageY),s=e.subtract(this.mouse),i=this.state.position.add(s);this.mouse=e,this.setState({position:i})}),this.onPickerMoveMouseUp=(t=>{t.stopPropagation(),this.mouse=null,document.removeEventListener("mousemove",this.onPickerMoveMouseMove),document.removeEventListener("mouseup",this.onPickerMoveMouseUp)}),this.hidePicker=(()=>{this.props.dispatch(d.fullscreen.hidePicker()),this.state.mode===Z.favorite&&this.writeFavorites()}),this.showFavorite=(t=>{t.stopPropagation(),this.state.mode===Z.picker&&this.updateMode(Z.favorite)}),this.hideFavorite=(t=>{t.stopPropagation(),this.state.mode===Z.favorite&&this.updateMode(Z.picker)}),this.renderItem=((t,e,s)=>{let o=-1===Object.keys(this.props.fonts).indexOf(s);const n=`${u.contentItem}  ${!o&&t===this.state.section&&e===this.state.item&&u.selected}`;let h,r;this.state.mode===Z.favorite?-1===this.favorites.indexOf(s)?(r=b,h=u.iconLight):(r=S,h=u.icon):this.font===s?(r=y,h=u.icon):(r=null,h=u.icon);let a=null,c=null;return o&&(c=x,a=u.iconMissingFont),i.createElement("div",{className:n,key:e,onMouseDown:this.onItemMouseDown.bind(this,s,o),onMouseEnter:this.onItemMouseEnter.bind(this,t,e,o),onMouseMove:this.onItemMouseMove.bind(this,t,e),onMouseLeave:this.onItemMouseLeave},i.createElement("div",{className:h},r&&i.createElement(m.Svg,{svg:r})),i.createElement("div",{className:o?u.nameMissingFont:u.name},s),a&&i.createElement("div",{className:a},c&&i.createElement(m.Svg,{svg:c,"data-tooltip-show-above":!0,"data-tooltip-max-width":300,"data-tooltip-text":"Font not available on this computer"})))}),this.renderMessage=((t,e)=>i.createElement("div",{className:u.contentMessage,key:t},e)),this.renderSection=((t,e,s,o)=>{const n=this.state.mode===Z.favorite&&0===t&&!this.favorites.length&&!this.state.query,h=this.state.query?u.contentMatchedSection:u.contentIndexedSection;return i.createElement("div",{className:h,key:t},o&&i.createElement("div",{className:u.contentTitle},o),n&&s.map((t,s)=>this.renderMessage(e+s,t)),!n&&s.map((s,i)=>this.renderItem(t,e+i,s)))}),this.renderTitle=(()=>{const t=this.indexed.sections[this.indexed.begin.section],e=t.title,s=t.height,o=this.indexed.begin.middle+this.indexed.begin.head+K+C+A,n=Math.min(0,s-o);return i.createElement("div",{className:u.scrollTitle,style:{top:n}},i.createElement("div",{className:u.contentTitle},e))}),this.renderScrollbar=(()=>{const t=this.state.query?this.matched.height:this.indexed.height;if(t<=this.state.height)return null;const e=this.state.scroll,s=this.state.height,o=s-j-2*V,n=Math.round(V+o*e/t),h=Math.round(j+o*s/t);let r="";this.state.bar===tt.hinted&&(r=u.hinted),this.state.bar===tt.active&&(r=u.active);const a=`${u.scrollBar} ${r}`,c=`${u.scrollThumb}  ${r}`;return i.createElement("div",{className:a,onMouseEnter:this.onScrollBarMouseEnter,onMouseDown:this.onScrollBarMouseDown,onMouseLeave:this.onScrollBarMouseLeave},i.createElement("div",{className:c,onMouseDown:this.onScrollThumbMouseDown,style:{top:n,height:h}}))}),this.renderMatched=(()=>{const t=this.matched.begin.item,e=this.matched.end.item,s=this.matched.items.slice(t,e+1),o=this.renderSection(0,t,s),n=this.state.height,h=-this.matched.begin.head-(this.matched.begin.header?K:0);return i.createElement("div",{className:u.scrollFrame,onWheel:this.onScrollWheel,style:{height:n}},i.createElement("div",{className:u.scrollContainer,style:{top:h}},o),this.state.mode===Z.picker&&this.renderScrollbar())}),this.renderIndexed=(()=>{const t=this.indexed.begin.section,e=this.indexed.end.section,s=this.indexed.sections.slice(t,e+1),o=s.map((e,i)=>{let o=e.title,n=0,h=e.items.length-1;0===i&&(n=this.indexed.begin.item,this.indexed.begin.title&&(o="")),i===s.length-1&&(h=this.indexed.end.item,this.indexed.end.title||(h=0));const r=e.items.slice(n,h+1);return this.renderSection(t+i,n,r,o)}),n=this.state.height,h=-this.indexed.begin.head-(this.indexed.begin.header?K:0);return i.createElement("div",{className:u.scrollFrame,onWheel:this.onScrollWheel,style:{height:n}},i.createElement("div",{className:u.scrollContainer,style:{top:h}},o),this.renderTitle(),this.state.mode===Z.picker&&this.renderScrollbar())}),this.renderPickerTop=(()=>i.createElement("div",{className:u.topBar,onMouseDown:this.onPickerMoveMouseDown},i.createElement("div",{className:u.topTitle},"Fonts"),i.createElement("div",{className:u.topIconHover,onMouseDown:this.showFavorite},i.createElement(m.Svg,{svg:b})),i.createElement("div",{className:u.topIconPlain,onMouseDown:this.hidePicker},i.createElement(m.Svg,{svg:v})))),this.renderFavoriteTop=(()=>i.createElement("div",{className:u.topBar,onMouseDown:this.onPickerMoveMouseDown},i.createElement("div",{className:u.topTitle},"Editing Favorites"),i.createElement("div",{className:u.topButton,onMouseDown:this.hideFavorite},"Done"))),this.renderSearch=(()=>i.createElement("div",{className:u.searchBar,onClick:this.onInputFocus,onMouseUp:this.onInputFocus},i.createElement("div",{className:u.icon},i.createElement(m.Svg,{svg:M})),i.createElement("input",{placeholder:"Search",ref:this.setInput,onChange:this.onInputUpdate,onKeyDown:this.onInputKeyDown}),this.state.query?i.createElement("div",{className:u.iconClearInput,onMouseDown:t=>this.clearInput(t)},i.createElement(m.Svg,{svg:this.state.mode===Z.dropdown?w:v})):i.createElement(i.Fragment,null))),this.renderMore=(()=>i.createElement("div",{className:u.moreBar},i.createElement("div",{className:u.moreTitle,onMouseDown:this.showPicker},i.createElement("div",null,"More fonts…")))),this.renderDropdown=(()=>i.createElement(p.KeyboardReceiver,{name:"font-dropdown",handleKeyDown:this.onKeyboardKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0},i.createElement("div",{className:u.dropdown,style:{left:this.state.position.x,top:this.state.position.y,width:P}},this.renderSearch(),this.state.query&&this.renderMatched(),!this.state.query&&this.renderIndexed(),!this.state.query&&this.renderMore()))),this.renderIndependent=(()=>i.createElement(p.KeyboardReceiver,{name:"font-picker",handleKeyDown:this.onKeyboardKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0},i.createElement("div",{className:u.picker,style:{left:this.state.position.x,top:this.state.position.y,width:_},onClick:this.onInputBlur,onMouseDown:this.onPickerIgnore,onMouseUp:this.onPickerIgnore},this.state.mode===Z.picker&&this.renderPickerTop(),this.state.mode===Z.favorite&&this.renderFavoriteTop(),this.renderSearch(),this.state.query&&this.renderMatched(),!this.state.query&&this.renderIndexed()))),this.state={position:null,mode:Z.anchor,query:"",scroll:0,height:0,section:0,item:0,bar:tt.hidden}}clearInput(t){t.preventDefault(),t.stopPropagation(),this.input.value="",this.state.query&&this.updateQuery("")}onKeyDown(t){switch(t){case 27:return this.input&&(this.input.value=""),this.state.query?this.updateQuery(""):(this.state.mode===Z.dropdown&&this.hideDropdown(),this.state.mode===Z.picker&&this.hidePicker()),!0;case 13:let e="";switch(e=this.state.query?this.matched.items[this.state.item]:this.indexed.sections[this.state.section].items[this.state.item],this.state.mode){case Z.dropdown:this.writeFont(e),this.hideDropdown();break;case Z.picker:this.writeFont(e);break;case Z.favorite:this.toggleFavorite(e)}return!0;case 40:return this.incrementItem(),!0;case 38:return this.decrementItem(),!0}return!1}UNSAFE_componentWillMount(){this.updateFont(this.props.fontFamily)}UNSAFE_componentWillReceiveProps(t,e){this.props.fontFamily!==t.fontFamily&&this.updateFont(t.fontFamily),!z(this.props)&&z(t)?this.updateMode(Z.dropdown):z(this.props)&&!z(t)&&this.updateMode(Z.anchor),!J(this.props)&&J(t)?this.updateMode(Z.picker):J(this.props)&&!J(t)&&this.updateMode(Z.anchor)}render(){return i.createElement(i.Fragment,null,i.createElement("div",{className:`${u.anchor} ${this.props.className||""}`,onClick:this.onAnchorClick,ref:this.setAnchor},i.createElement("div",null,this.font||"Mixed"),i.createElement("div",{className:u.chevron},i.createElement(m.Svg,{svg:g}))),this.state.mode===Z.dropdown&&this.renderDropdown(),this.state.mode===Z.picker&&this.renderIndependent(),this.state.mode===Z.favorite&&this.renderIndependent())}}}),
(function(e,t,n){e.exports={singleRowHeight:"segmented_control--singleRowHeight--3qRyf",doubleRowHeight:"segmented_control--doubleRowHeight--1XyJB",input:"segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",border:"segmented_control--border--11-g_",borderFocusWithin:"segmented_control--borderFocusWithin--gVEjA",iconInsideBorderFocusWithin:"segmented_control--iconInsideBorderFocusWithin--23GXT",rowSelectedSecondary:"segmented_control--rowSelectedSecondary--1lot4 segmented_control--rowSelected--3FF1r",selectHiddenInput:"segmented_control--selectHiddenInput--3-185",iconButton:"segmented_control--iconButton--3X99O",borderFocus:"segmented_control--borderFocus--30e4o",multiValueInput:"segmented_control--multiValueInput--2LP43 segmented_control--borderFocusWithin--gVEjA",base:"segmented_control--base--3nkUY",label:"segmented_control--label--kuoia segmented_control--base--3nkUY",labelInactive:"segmented_control--labelInactive--33n4h segmented_control--label--kuoia segmented_control--base--3nkUY",textInput:"segmented_control--textInput--3GJEh segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",textAreaInput:"segmented_control--textAreaInput--23Ub- segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",noLeftBorder:"segmented_control--noLeftBorder--3IOHc",squareRightBorder:"segmented_control--squareRightBorder--1EwBh",_iconButton:"segmented_control--_iconButton--1YZ_F",iconButtonEnabled:"segmented_control--iconButtonEnabled--29TkH segmented_control--_iconButton--1YZ_F",iconButtonDisabled:"segmented_control--iconButtonDisabled--kXQfG segmented_control--_iconButton--1YZ_F",iconButtonSelected:"segmented_control--iconButtonSelected--2T-df segmented_control--_iconButton--1YZ_F",chitCenter:"segmented_control--chitCenter--1-pij",outlineButton:"segmented_control--outlineButton--2BOlw",modalPanel:"segmented_control--modalPanel--3bPjy",panel:"segmented_control--panel--2ESne",_row:"segmented_control--_row--15Eua",singleRow:"segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",doubleRow:"segmented_control--doubleRow--2VdAS segmented_control--doubleRowHeight--1XyJB segmented_control--_row--15Eua",labelRow:"segmented_control--labelRow--1QPrJ segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",rowSelected:"segmented_control--rowSelected--3FF1r",panelTitle:"segmented_control--panelTitle--3Dqx2",panelTitleExtended:"segmented_control--panelTitleExtended--1EOsm segmented_control--panelTitle--3Dqx2",panelTitleWithTip:"segmented_control--panelTitleWithTip--NGdFx segmented_control--panelTitle--3Dqx2",panelTitleWithTipText:"segmented_control--panelTitleWithTipText--3Sd08",panelTitleWithTipIcon:"segmented_control--panelTitleWithTipIcon--3JpVc",panelTitleFaded:"segmented_control--panelTitleFaded--2CA5Y segmented_control--panelTitle--3Dqx2",flushLeft:"segmented_control--flushLeft--1sQYh",container:"segmented_control--container--3D2GJ",containerDisabled:"segmented_control--containerDisabled--362Ij segmented_control--container--3D2GJ",_segment:"segmented_control--_segment--2oaUJ",hiddenInput:"segmented_control--hiddenInput--3T_OF raw_components--selectHiddenInput--1Ss5k",segmentSelected:"segmented_control--segmentSelected--3vDJm segmented_control--_segment--2oaUJ",segmentInactive:"segmented_control--segmentInactive--3O1Gk segmented_control--_segment--2oaUJ",segmentUnselected:"segmented_control--segmentUnselected--3XJuJ segmented_control--_segment--2oaUJ"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),n=t(172              ),r=t(212      ),i=t(388                             ),p=t(179                         ),l=t(752                      ),a=t(534                                                    );class h extends n.PureComponent{constructor(){super(...arguments),this.hiddenInputRef=o.createRef(),this.onChange=(e=>{this.props.onChange(e)}),this.onSelect=((e,s)=>{s.stopPropagation(),this.onChange(e)}),this.onUnselect=(e=>{e.stopPropagation(),null!=this.props.unselectValue&&this.onChange(this.props.unselectValue)}),this.selectValueWithOffset=(e=>{const s=o.Children.map(this.props.children,e=>e.props.value);let t;const n=s.indexOf(i.getValueOrNull(this.props.property));t=-1!==n?((t=n+e)+s.length)%s.length:e>0?0:s.length-1,this.onChange(s[t])}),this.onFocus=n.focusEvent(this,"focus",e=>{}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{if(!this.props.disabled)switch(e.keyCode){case r.Key.ENTER:case r.Key.RIGHT_ARROW:case r.Key.DOWN_ARROW:case r.Key.SPACE:this.selectValueWithOffset(1),e.stopPropagation(),e.preventDefault();break;case r.Key.UP_ARROW:case r.Key.LEFT_ARROW:this.selectValueWithOffset(-1),e.stopPropagation(),e.preventDefault();break;case r.Key.ESCAPE:this.hiddenInputRef.current&&this.hiddenInputRef.current.blur()}})}render(){const e=o.Children.map(this.props.children,e=>{const s=!this.props.disabled&&this.props.property===e.props.value,t=this.props.disabled?null:null!=this.props.unselectValue&&s?this.onUnselect:this.onSelect.bind(this,e.props.value);return o.cloneElement(e,{selected:s,onMouseDown:t,recordingKey:e.props.recordingKey||n.joinKeys(this.props,`${e.props.value}`)})});let s=l.container;return this.props.disabled&&(s=l.containerDisabled),o.createElement(o.Fragment,null,o.createElement("input",{ref:this.hiddenInputRef,className:l.hiddenInput,onKeyDown:this.onKeyDown,onFocus:this.onFocus}),o.createElement("div",{className:`${s} ${this.props.className||""}`},e))}}s.SegmentedControl=h,h.displayName="SegmentedControl",h.propTypes={children:(e,s,t)=>{const n=e[s];let r=null;return o.Children.forEach(n,e=>{e.type&&e.type.__IS_VALID_SEGMENTED_CONTROL_CHILD__||(r=new Error(`${t} children should be of type 'Segment'`))}),r}};class c extends o.PureComponent{constructor(){super(...arguments),this.onMouseEnter=(()=>{this.props.mouseHoverHandler&&this.props.mouseHoverHandler(this.props.value,"ENTER")}),this.onMouseLeave=(()=>{this.props.mouseHoverHandler&&this.props.mouseHoverHandler(this.props.value,"LEAVE")})}render(){let e="";return e=this.props.inactive?l.segmentInactive:this.props.selected?l.segmentSelected:l.segmentUnselected,o.createElement(p.RecordableDiv,{className:`${e} ${this.props.className||""}`,onMouseDown:this.props.inactive?void 0:this.props.onMouseDown,onMouseEnter:this.props.inactive||!this.props.mouseHoverHandler?void 0:this.onMouseEnter,onMouseLeave:this.props.inactive||!this.props.mouseHoverHandler?void 0:this.onMouseLeave,"data-tooltip":this.props.tooltipAction,"data-tooltip-text":this.props.tooltip,"data-tooltip-show-above":this.props.tooltipShowAbove,recordingKey:this.props.recordingKey},this.props.svg&&o.createElement(a.SvgWithFallback,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg}),!this.props.svg&&this.props.children)}}s.Segment=c,c.displayName="Segment",c.__IS_VALID_SEGMENTED_CONTROL_CHILD__=!0}),
(function(t,e,n){t.exports={_centered:"type_settings--_centered--3Yqp7",_container:"type_settings--_container--3IxXn",_isolated:"type_settings--_isolated--2CRD2",labelLeftCol:"type_settings--labelLeftCol--25Ihj type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",contentContainer:"type_settings--contentContainer--FMSZv",previewContainer:"type_settings--previewContainer--Id9H7",previewBox:"type_settings--previewBox--1TeF3",previewBoxWithBounds:"type_settings--previewBoxWithBounds--3HhpV type_settings--previewBox--1TeF3",previewPlaceholder:"type_settings--previewPlaceholder--mjwRc",panelTitle:"type_settings--panelTitle--SGA9n",numbersFeatureLabel:"type_settings--numbersFeatureLabel--3H2OZ type_settings--_centered--3Yqp7",typeDetailsFeatureLabel:"type_settings--typeDetailsFeatureLabel--zhtDk type_settings--_centered--3Yqp7",typeDetailsFeatureLabelLong:"type_settings--typeDetailsFeatureLabelLong--3p2fX",openTypeFeatureLabel:"type_settings--openTypeFeatureLabel--205Ah type_settings--_centered--3Yqp7 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ",labelRightCol:"type_settings--labelRightCol--3Uj_4 type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",resizeControl:"type_settings--resizeControl--nfVY4 type_settings--_centered--3Yqp7",textAlignHorizontalControl:"type_settings--textAlignHorizontalControl--1L87F type_settings--_centered--3Yqp7",transformControl:"type_settings--transformControl--3HfQ_ type_settings--_centered--3Yqp7",decorationControl:"type_settings--decorationControl--guQAX type_settings--_centered--3Yqp7",typeDetailsControlTwoSegments:"type_settings--typeDetailsControlTwoSegments--2C1f7",typeDetailsControlThreeSegments:"type_settings--typeDetailsControlThreeSegments--2CoUw",typeDetailsControlFourSegments:"type_settings--typeDetailsControlFourSegments--1dGqH",typeDetailsControlFiveSegments:"type_settings--typeDetailsControlFiveSegments--3gvd7",typeDetailsControlSixSegments:"type_settings--typeDetailsControlSixSegments--3Lazb",fontLigatureControl:"type_settings--fontLigatureControl--3oDAF type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontFractionControl:"type_settings--fontFractionControl--1-0Wm type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantCapsControl:"type_settings--fontVariantCapsControl--1RxUC type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantPositionControl:"type_settings--fontVariantPositionControl--e7DrS type_settings--_centered--3Yqp7",fontSpacingAndFigureControl:"type_settings--fontSpacingAndFigureControl--SkYNN type_settings--_centered--3Yqp7",fontSpacingAndFigureControlDropdown:"type_settings--fontSpacingAndFigureControlDropdown--2izBB",spacingAndFigureIconContainer:"type_settings--spacingAndFigureIconContainer--1XDIY type_settings--_centered--3Yqp7 type_settings--_container--3IxXn",spacer:"type_settings--spacer--3YVlG",optionButton:"type_settings--optionButton--1Inxq",paragraphIndentContainer:"type_settings--paragraphIndentContainer--xdbdC raw_components--borderFocusWithin--3IG2Z",paragraphIndent:"type_settings--paragraphIndent--3haNL raw_components--flushLeft--2dWma",lineHeightUpdateLine:"type_settings--lineHeightUpdateLine--2Rjxz",lineHeightUpdateRow:"type_settings--lineHeightUpdateRow--1bm7j",lineHeightUpdateInfo:"type_settings--lineHeightUpdateInfo--2ayl6",lineHeightUpdateIcon:"type_settings--lineHeightUpdateIcon--1nGic",_lineHeightButton:"type_settings--_lineHeightButton--37MVt",lineHeightUpgradeButton:"type_settings--lineHeightUpgradeButton--1NBym type_settings--_lineHeightButton--37MVt",lineHeightDowngradeButton:"type_settings--lineHeightDowngradeButton--gfJCg type_settings--_lineHeightButton--37MVt"}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3,1    ),s=r(172              ),a=r(754                  ),l=r(163                               ),n=r(179                         ),p=r(7,1        ),o=r(126          ),c=new Map;class h extends s.PureComponent{constructor(e){super(e),this.previewBoxRef=i.createRef(),this.state={preview:null}}componentDidMount(){if(this.previewBoxRef.current){const e=p.findDOMNode(this.previewBoxRef.current);this.setState({preview:{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,viewportHeight:e.parentElement.getBoundingClientRect().height}})}}generatePreview(e){if(this.props.previewStyleOverride===l.FontPreviewStyleOverride.EMPTY)return{placeholder:"Preview"};const t=l.FontHelpers.getOpenTypeFeaturePreview(this.props.previewStyleOverride,this.props.previewFeature||"",e.width,e.viewportHeight);if("placeholder"in t&&"No preview available"===t.placeholder){const e=`${t.family}\0${t.style}\0${this.props.previewFeature}`,r=c.get(e)||0,i=Date.now();i-r>3e4&&(c.set(e,i),o.segment.track("Type Details Preview Unavailable",{family:t.family,style:t.style,feature:this.props.previewFeature}))}return t}render(){if(null===this.state.preview)return i.createElement(i.Fragment,null,i.createElement(n.RecordableDiv,{className:a.previewContainer},i.createElement(n.RecordableDiv,{ref:this.previewBoxRef,className:a.previewBox})));const e=this.generatePreview(this.state.preview);let t=null;if("svg"in e){let r=e.height,s=e.width,l=Math.max((this.state.preview.height-r)/2,0);"TextAutoResize.NONE"==this.props.previewContentPropType&&(l=0,r=this.state.preview.height),t=i.createElement(n.RecordableDiv,{style:{top:`${l}px`,width:`${s}px`,height:`${r}px`},className:this.props.shouldDrawBoundingBox?a.previewBoxWithBounds:a.previewBox,dangerouslySetInnerHTML:{__html:e.svg}})}else t=i.createElement(n.RecordableDiv,{className:a.previewPlaceholder},e.placeholder);return i.createElement(i.Fragment,null,i.createElement(n.RecordableDiv,{className:a.previewContainer},i.createElement(n.RecordableDiv,{ref:this.previewBoxRef,className:a.previewBox},t)))}}t.TypeDetailsPreview=h,h.displayName="Preview"}),
(function(t,v,e){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 5.5V0h-1v5.5C2.5 7.433 4.067 9 6 9c1.933 0 3.5-1.567 3.5-3.5V0h-1v5.5C8.5 6.88 7.38 8 6 8 4.62 8 3.5 6.88 3.5 5.5zM0 11v1h12v-1H0z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,v,e){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5V0H2v5.5C2 7.433 3.567 9 5.5 9 7.433 9 9 7.433 9 5.5V0H8v5.5C8 6.88 6.88 8 5.5 8 4.12 8 3 6.88 3 5.5zM0 12h12v-1H0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M3.904 1.297C4.556.77 5.428.5 6.349.5c.907 0 1.756.228 2.407.742.661.523 1.069 1.301 1.149 2.295l-.997.08c-.06-.75-.353-1.26-.772-1.59C7.707 1.69 7.097 1.5 6.349 1.5c-.735 0-1.373.215-1.816.574-.434.352-.703.855-.703 1.503 0 .615.285 1.013.639 1.292.06.048.122.091.184.131h-1.41c-.246-.373-.413-.842-.413-1.423 0-.96.412-1.745 1.074-2.28zM8.824 8h1.069c.069.24.107.507.107.801 0 .972-.373 1.793-1.065 2.361-.68.56-1.622.838-2.707.838-1.1 0-1.986-.31-2.628-.879-.64-.567-.99-1.347-1.096-2.2l.992-.124c.083.66.343 1.2.767 1.575.422.374 1.055.628 1.965.628.925 0 1.619-.237 2.072-.61.442-.363.7-.891.7-1.589 0-.324-.066-.586-.177-.801zM0 7h12V6H0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h8v1H0V4zm10 4H0v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm3 4h8v1H3V4zm9 4H2v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm6 4h8v1H6V4zm8 4H4v1h10V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm14 4H0v1h14V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M11 1H1v10h10V1zM1 0H0v12h12V0H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,t,e){v.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 .5h14v1H0v-1zm0 4h14v1H0v-1zm9 4H0v1h9v-1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="15" height="8" viewBox="0 0 15 8" xmlns="http://www.w3.org/2000/svg"><path d="M14.707 4l-.353.354-3 3-.708-.708L12.793 4.5H0v-1h12.793l-2.147-2.146.708-.708 3 3 .353.354z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 12l3.354-3.354.707.708L6.914 11.5h9.879l-2.147-2.146.708-.708L18.707 12l-3.353 3.354-.708-.707 2.147-2.147H6.914l2.147 2.146-.707.708L5 12z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,h){t.exports={src:'<svg width="14" height="10" viewBox="0 0 14 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm9 4H0v1h9V8z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="15" height="8" viewBox="0 0 15 8" xmlns="http://www.w3.org/2000/svg"><path d="M13.707 3.5l-.353.354-3 3-.708-.708L11.793 4H2V3h9.793L9.646.854l.708-.708 3 3 .353.354z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 11.5l3.354-3.354.707.708L6.914 11h9.879l-2.146-2.146.707-.708 3.353 3.354-3.353 3.354-.707-.707L16.793 12H6.914l2.147 2.146-.707.708L5 11.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.476 7.525H14.6c-.245-1.417-1.456-2.397-3.025-2.397-1.882 0-3.256 1.417-3.256 3.74 0 2.3 1.335 3.731 3.306 3.731 1.764 0 3.025-1.157 3.025-2.993v-.828h-2.858v.906h1.796c-.024 1.172-.799 1.914-1.963 1.914-1.282 0-2.216-.97-2.216-2.738 0-1.761.94-2.73 2.173-2.73.966 0 1.62.532 1.893 1.395zM2.412 12.5l.668-1.925h2.84l.665 1.925H7.75L5.133 5.227H3.865L1.248 12.5h1.164zM3.4 9.652l1.072-3.104h.057L5.6 9.652H3.4z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(c,l,h){c.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.81 12.653c1.142 0 1.738-.613 1.943-1.04h.05v.887H6.81V8.187c0-2.079-1.585-2.318-2.42-2.318-.989 0-2.114.341-2.625 1.534l.955.341c.221-.477.745-.988 1.704-.988.925 0 1.38.49 1.38 1.33v.033c0 .486-.494.444-1.687.597-1.214.158-2.54.426-2.54 1.926 0 1.279.99 2.011 2.233 2.011zm.153-.903c-.801 0-1.38-.358-1.38-1.057 0-.767.698-1.005 1.482-1.108.426-.05 1.568-.17 1.739-.375v.92c0 .819-.648 1.62-1.841 1.62zm7.324 3.34c1.568 0 2.83-.715 2.83-2.402V5.955h-.972v1.04h-.102c-.222-.342-.63-1.126-1.91-1.126-1.653 0-2.795 1.313-2.795 3.324 0 2.046 1.193 3.205 2.779 3.205 1.278 0 1.687-.75 1.909-1.108h.085v1.33c0 1.09-.767 1.585-1.824 1.585-1.189 0-1.606-.627-1.875-.99l-.801.563c.41.686 1.214 1.313 2.676 1.313zm-.034-3.596c-1.261 0-1.91-.954-1.91-2.318 0-1.33.632-2.403 1.91-2.403 1.227 0 1.875.988 1.875 2.403 0 1.449-.665 2.318-1.875 2.318z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.954 12.5l.878-2.472H6.36l.878 2.472h1.108L5.14 3.773h-1.09L.845 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.164zm9.047 6c1.568 0 2.83-.715 2.83-2.402V5.955h-.972v1.04h-.102c-.222-.342-.631-1.126-1.91-1.126-1.653 0-2.795 1.313-2.795 3.324 0 2.046 1.193 3.205 2.778 3.205 1.279 0 1.688-.75 1.91-1.108h.085v1.33c0 1.09-.767 1.585-1.824 1.585-1.189 0-1.607-.627-1.875-.99l-.801.563c.409.686 1.214 1.313 2.676 1.313zm-.034-3.596c-1.261 0-1.91-.954-1.91-2.318 0-1.33.631-2.403 1.91-2.403 1.227 0 1.875.988 1.875 2.403 0 1.449-.665 2.318-1.875 2.318z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.86 12.5l.878-2.472h3.528l.878 2.472h1.108L5.048 3.773H3.957L.752 12.5H1.86zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.07zm10.656-1.565h1.125c-.245-1.417-1.456-2.397-3.025-2.397-1.882 0-3.256 1.417-3.256 3.74 0 2.3 1.335 3.731 3.306 3.731 1.764 0 3.025-1.157 3.025-2.993v-.828h-2.858v.906h1.796c-.024 1.172-.799 1.914-1.963 1.914-1.282 0-2.216-.97-2.216-2.738 0-1.761.94-2.73 2.173-2.73.966 0 1.62.532 1.893 1.395z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.356 12.5l.878-2.472h3.528L6.64 12.5h1.108L4.544 3.773H3.453L.248 12.5h1.108zm1.21-3.41l1.398-3.937h.068L5.43 9.091H2.566zM14.663 6.5h1.091c-.324-1.688-1.738-2.847-3.58-2.847-2.236 0-3.817 1.722-3.817 4.483 0 2.762 1.568 4.483 3.886 4.483 2.08 0 3.562-1.385 3.562-3.545v-.938h-3.323v.938h2.3c-.03 1.568-1.06 2.557-2.54 2.557-1.618 0-2.863-1.228-2.863-3.495 0-2.267 1.245-3.494 2.796-3.494 1.261 0 2.118.712 2.488 1.858z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.063 6.2h-.936c-.056.09-.682 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068V12.74h1.055V6.2zm4.442 8.72h1.107l3.884-7.732V6.2H8.909v.937h4.497v.068l-3.9 7.715zm-4.442-3.117v.937h1.935v-.937H5.063zm-2.86.937h1.805v-.937H2.202v.937z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.163 6.2h-.936c-.056.09-.682 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068v5.007h1.055V6.2zm1.748 8.72h1.107L12.9 7.188V6.2H7.315v.937h4.496v.068l-3.9 7.715z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,v,l){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.17 4h-.937c-.056.09-.681 1.294-2.027 1.294v.886c1 0 1.716-.409 1.84-.647h.068v7.187h1.055V4zm4.441 8.72h1.107l3.884-7.732V4H9.015v.937h4.497v.068l-3.9 7.715zm-4.442-.937v.937h1.935v-.937H5.17zm-2.86.937h1.805v-.937H2.308v.937z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(h,l,o){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.843 4.273h-.938c-.055.09-.682 1.295-2.028 1.295v.887c1.001 0 1.717-.41 1.84-.648h.069V13h1.057V4.273zM7.897 13h1.108l3.886-7.739v-.988h-5.59v.937h4.5v.068L7.896 13z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.585 12.5l.878-2.472H6.99l.878 2.472h1.108L5.772 3.773h-1.09L1.476 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H3.795zM9.875 14h3.938v-.75h-2.608v-.034l1.108-.972c.938-.818 1.347-1.295 1.347-1.994 0-.886-.767-1.551-1.892-1.551-1.125 0-1.926.648-1.926 1.62h.886c0-.53.41-.887 1.023-.887.58 0 1.023.324 1.023.835 0 .443-.307.767-.904 1.296l-1.994 1.772V14z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.727 12.5l.878-2.472h3.529L7.01 12.5H8.12L4.915 3.773H3.824L.619 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H2.937zm6.388 3.41h5.506v-.938h-4.057v-.068l1.96-2.096c1.5-1.607 1.944-2.357 1.944-3.324 0-1.347-1.091-2.42-2.625-2.42-1.53 0-2.694 1.04-2.694 2.573h1.006c0-.993.643-1.653 1.653-1.653.946 0 1.67.58 1.67 1.5 0 .805-.472 1.402-1.482 2.506l-2.88 3.153v.767z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,h,o){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.935 12.5l.878-2.472H7.34l.878 2.472h1.108L6.122 3.773h-1.09L1.826 12.5h1.108zm1.21-3.41l1.398-3.937h.068l1.398 3.938H4.145zm5.48-.954h3.938v-.75h-2.608v-.034l1.108-.971c.938-.819 1.347-1.296 1.347-1.995 0-.886-.767-1.55-1.892-1.55-1.125 0-1.926.647-1.926 1.619h.886c0-.529.41-.887 1.023-.887.58 0 1.023.324 1.023.835 0 .444-.307.767-.904 1.296L9.626 7.472v.664z" fill-rule="nonzero" fill-opacity="1" fill="#333" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12.654 5.407L7 11.061 3.646 7.707 4.354 7 7 9.646 11.947 4.7l.707.707z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 9H6V8h4v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3,1    ),i=r(208        ),a=r(138                                   ),s=r(172              ),n=r(146                                          ),l=r(145         ),p=r(174                        ),u=r(85                   ),c=r(166                      ),d=r(366                                                    ),g=r(600                               ),m=r(753                                     ),h=r(832                       ),v=r(224                                            ),S=r(744                                  ),O=r(388                             ),E=r(754                  ),P=r(707                   ),F=r(755                      ),N=r(347                                                  ),y=r(163                                 ),T=r(126          ),R=r(756                                                   ),A=r(757                                                     ),f=r(758                                                       ),w=r(599                                              ),L=r(759                                                         ),_=r(760                                                            ),C=r(761                                                          ),I=r(762                                                              ),H=r(763                                                           ),b=r(764                                                            ),x=r(765                                                           ),U=r(766                                                               ),D=r(767                                                              ),M=r(768                                                             ),V=r(769                                                                 ),G=r(770                                                               ),k=r(771                                                        ),z=r(772                                                            ),B=r(773                                                         ),W=r(774                                                        ),Y=r(775                                                                    ),K=r(776                                                                       ),X=r(777                                                                    ),j=r(778                                                                       ),J=r(779                                                        ),Z=r(780                                                         ),q=r(781                                                        ),Q=r(782                                                    ),$=r(783                                                     ),ee=[],te=new Map;let re=null;function oe(){re=null;let e=0;for(const[t,r]of te)setTimeout(()=>T.segment.track("OpenType Feature Shown",{feature:t,shownCount:r}),5e3*++e/te.size);te.clear()}class ie extends m.SegmentedControl{}class ae extends m.Segment{}class se extends m.SegmentedControl{}class ne extends m.Segment{}class le extends m.SegmentedControl{}class pe extends m.Segment{}class ue extends m.SegmentedControl{}class ce extends m.Segment{}class de extends m.SegmentedControl{}class ge extends m.Segment{}class me extends m.SegmentedControl{}class he extends m.Segment{}const ve=300;class Se extends o.PureComponent{constructor(){super(...arguments),this.state={previewStyleOverride:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:null,shouldDrawBoundingBox:!1,availableOTFeaturesForSelection:null},this.onClose=(()=>{this.props.dispatch(a.fullscreen.hidePicker())}),this.ignoreCloseShortcut=(()=>this.props.editModeType===y.EditModeType.TEXT),this.supportsFeatureForFonts=(e=>e in this.props.openTypeFeatures.supported),this.supportsFeatureForSelection=(e=>e in this.props.openTypeFeatures.applicable),this.previewTimeOut=null,this.previewHoverHandler=((e,t)=>{switch(t){case"ENTER":null!=this.previewTimeOut&&(clearTimeout(this.previewTimeOut),this.previewTimeOut=null);break;case"LEAVE":this.previewTimeOut=setTimeout(()=>{this.setState({previewStyleOverride:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:null,shouldDrawBoundingBox:!1})},ve)}}),this.onAutoResizeChange=(e=>n.fullscreen.updateSelectionProperties({textAutoResize:e})),this.onParagraphIndentChange=(e=>{n.fullscreen.updateSelectionProperties({paragraphIndent:e})}),this.onTextDecorationChange=(e=>n.fullscreen.updateSelectionProperties({textDecoration:e})),this.onTextAlignHorizontalChange=(e=>{n.fullscreen.triggerAction(h.TextAlignHorizontalAction[e],{source:"settings"})}),this.onFontVariantPositionChange=(e=>n.fullscreen.updateSelectionProperties({fontVariantPosition:e})),this.setOpenTypeFeature=((e,t)=>{if(-1==P.TypeSettingsData.OpenTypeFeatureDefaultOn.indexOf(e)){let r=this.props.openTypeFeatures.on.filter(t=>t!==e);"ON"===t&&r.push(e);let o=this.props.openTypeFeatures.mixed.filter(t=>t!==e);this.props.shouldDirectlyWriteOTFeatures?n.fullscreen.updateSelectionProperties({toggledOnOTFeatures:r},c.ShouldCommit.YES):n.fullscreen.updateSelectionProperties({toggledOnOTFeaturesForSelection:r,mixedStateOTFeaturesForSelection:o},c.ShouldCommit.YES)}else{let r=this.props.openTypeFeatures.off.filter(t=>t!==e);"OFF"===t&&r.push(e);let o=this.props.openTypeFeatures.mixed.filter(t=>t!==e);this.props.shouldDirectlyWriteOTFeatures?n.fullscreen.updateSelectionProperties({toggledOffOTFeatures:r},c.ShouldCommit.YES):n.fullscreen.updateSelectionProperties({toggledOffOTFeaturesForSelection:r,mixedStateOTFeaturesForSelection:o},c.ShouldCommit.YES)}T.segment.track("OpenType Feature Change",{feature:e,state:t})}),this.fontVariantNumericStyle=(()=>{const e="NORMAL"===this.props.fontVariantNumericSpacing,t="NORMAL"===this.props.fontVariantNumericFigure;if(!O.notMixed(this.props.fontVariantNumericSpacing)||!O.notMixed(this.props.fontVariantNumericFigure))return"MIXED";if(e&&t)return"ORIGINAL";if(e||"PROPORTIONAL"===this.props.fontVariantNumericSpacing){if(t||"LINING"===this.props.fontVariantNumericFigure)return"UPPER_PROPORTIONAL";if("OLDSTYLE"===this.props.fontVariantNumericFigure)return"LOWER_PROPORTIONAL"}else if("TABULAR"===this.props.fontVariantNumericSpacing){if(t||"LINING"===this.props.fontVariantNumericFigure)return"UPPER_MONOSPACE";if("OLDSTYLE"===this.props.fontVariantNumericFigure)return"LOWER_MONOSPACE"}return"MIXED"}),this.getOpenTypeFeatureForFraction=(()=>{return"MIXED"===O.getValue(this.props.fontVariantNumericFraction,"MIXED")?"MIXED":"STACKED"===this.props.fontVariantNumericFraction?"ON":"OFF"}),this.getOpenTypeFeatureForTag=(e=>"DLIG"===e?this.props.fontVariantDiscretionaryLigatures===O.MIXED?"MIXED":O.getValue(this.props.fontVariantDiscretionaryLigatures,!1)?"ON":"OFF":"HLIG"===e?this.props.fontVariantHistoricalLigatures===O.MIXED?"MIXED":O.getValue(this.props.fontVariantHistoricalLigatures,!1)?"ON":"OFF":-1!=this.props.openTypeFeatures.mixed.indexOf(e)?"MIXED":-1==P.TypeSettingsData.OpenTypeFeatureDefaultOn.indexOf(e)?-1!=this.props.openTypeFeatures.on.indexOf(e)?"ON":"OFF":-1!=this.props.openTypeFeatures.off.indexOf(e)?"OFF":"ON"),this.upgradeTextUserLayoutVersion=(()=>{n.fullscreen.updateSelectionProperties({textUserLayoutVersion:1})}),this.downgradeTextUserLayoutVersion=(()=>{n.fullscreen.updateSelectionProperties({textUserLayoutVersion:0})}),this.lineHeightUpdateRowVisibility=(()=>0===this.props.textUserLayoutVersion||-1!==O.getMixedValues(this.props.textUserLayoutVersion).indexOf(0)?"upgrade":1===this.props.textUserLayoutVersion&&"downgrade"),this.renderLineHeightUpgradeSection=(()=>o.createElement(o.Fragment,null,this.lineHeightUpdateRowVisibility()&&o.createElement("div",{className:E.spacer}),"upgrade"===this.lineHeightUpdateRowVisibility()&&o.createElement(g.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},o.createElement("div",{className:E.lineHeightUpdateInfo},O.notMixed(this.props.textUserLayoutVersion)?"Older text rendering method used.":"Older text rendering method used for part of the selection.",o.createElement(p.Svg,{svg:w,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon,style:{verticalAlign:"top"}})),o.createElement(v.ButtonSecondary,{className:E.lineHeightUpgradeButton,onClick:this.upgradeTextUserLayoutVersion,recordingKey:s.joinKeys(this.props,"upgrade-text-user-layout-version")},"Update")),"downgrade"===this.lineHeightUpdateRowVisibility()&&o.createElement(g.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},o.createElement("div",{className:E.lineHeightUpdateInfo},"New text rendering method used.",o.createElement(p.Svg,{svg:w,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon,style:{verticalAlign:"top"}})),o.createElement("a",{className:E.lineHeightDowngradeButton,onClick:this.downgradeTextUserLayoutVersion},"Revert")),this.lineHeightUpdateRowVisibility()&&o.createElement("div",{className:E.spacer}))),this.editTarget=(()=>void 0!==this.props.selectedStyleProperties.guid?"Style":this.props.isStyleConsumer?"NodeStyleConsumer":"NodeNotStyleConsumer"),this.canEditTextStyle=(()=>{const e=this.editTarget();switch(e){case"NodeNotStyleConsumer":case"Style":return!0;case"NodeStyleConsumer":return!1;default:return i.assertNever(e)}}),this.canEditNodeFields=(()=>{const e=this.editTarget();switch(e){case"NodeNotStyleConsumer":case"NodeStyleConsumer":return!0;case"Style":return!1;default:return i.assertNever(e)}}),this.renderResizingAlignmentAndDecoration=(()=>{let e=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"WIDTH_AND_HEIGHT"==e?y.FontPreviewStyleOverride.RESIZING_WIDTH_AND_HEIGHT:"HEIGHT"==e?y.FontPreviewStyleOverride.RESIZING_HEIGHT:"NONE"==e?y.FontPreviewStyleOverride.RESIZING_NONE:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"NONE"==e?"TextAutoResize.NONE":null,shouldDrawBoundingBox:!0})},t=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"LEFT"==e?y.FontPreviewStyleOverride.ALIGNMENT_LEFT:"CENTER"==e?y.FontPreviewStyleOverride.ALIGNMENT_CENTER:"RIGHT"==e?y.FontPreviewStyleOverride.ALIGNMENT_RIGHT:"JUSTIFIED"==e?y.FontPreviewStyleOverride.ALIGNMENT_JUSTIFIED:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"TextAlignHorizontal",shouldDrawBoundingBox:!1})},r=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"NONE"==e?y.FontPreviewStyleOverride.DECORATION_NONE:"STRIKETHROUGH"==e?y.FontPreviewStyleOverride.DECORATION_STRIKETHROUGH:"UNDERLINE"==e?y.FontPreviewStyleOverride.DECORATION_UNDERLINE:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"TextDecoration",shouldDrawBoundingBox:!1})};const i=!u.getFeatureFlags().auto_layout_text||!this.canEditTextStyle();let a,n;u.getFeatureFlags().auto_layout_text?(a=!this.props.disabled&&this.canEditNodeFields(),n=!1):(a=!0,n=this.props.disabled||!this.canEditNodeFields());const l=u.getFeatureFlags().auto_layout_text&&this.canEditTextStyle();return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement("div",{className:E.spacer}),i&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Resizing"),o.createElement(ie,{className:E.typeDetailsControlThreeSegments,property:this.props.textAutoResize,onChange:this.onAutoResizeChange,disabled:this.props.disabled||!this.canEditNodeFields(),recordingKey:s.joinKeys(this.props,"autoResize")},o.createElement(ae,{svg:u.getFeatureFlags().auto_layout_text?U:x,fallbackSvg:u.getFeatureFlags().auto_layout_text?V:M,value:"WIDTH_AND_HEIGHT",tooltip:u.getFeatureFlags().auto_layout_text?"Auto Width":"Grow Horizontally",tooltipShowAbove:!0,mouseHoverHandler:e}),o.createElement(ae,{svg:b,fallbackSvg:D,value:"HEIGHT",tooltip:u.getFeatureFlags().auto_layout_text?"Auto Height":"Grow Vertically",tooltipShowAbove:!0,mouseHoverHandler:e}),o.createElement(ae,{svg:H,value:"NONE",tooltip:"Fixed Size",tooltipShowAbove:!0,mouseHoverHandler:e}))),a&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Alignment"),o.createElement(h.TextAlignHorizontalControl,{property:this.props.textAlignHorizontal,onChange:this.onTextAlignHorizontalChange,recordingKey:this.props.recordingKey,disabled:n,className:E.typeDetailsControlFourSegments},o.createElement(h.TextAlignHorizontalSegment,{svg:L,value:"LEFT",tooltipAction:h.TextAlignHorizontalAction.LEFT,key:"text-align-horizontal-segment-left",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:_,value:"CENTER",tooltipAction:h.TextAlignHorizontalAction.CENTER,key:"text-align-horizontal-segment-center",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:C,value:"RIGHT",tooltipAction:h.TextAlignHorizontalAction.RIGHT,key:"text-align-horizontal-segment-right",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(h.TextAlignHorizontalSegment,{svg:I,value:"JUSTIFIED",tooltipAction:h.TextAlignHorizontalAction.JUSTIFIED,key:"text-align-horizontal-segment-justify",tooltipShowAbove:!0,mouseHoverHandler:t}))),this.canEditTextStyle()&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Decoration"),o.createElement(se,{className:E.typeDetailsControlThreeSegments,property:this.props.textDecoration,onChange:this.onTextDecorationChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textDecoration")},o.createElement(ne,{svg:$,value:"NONE",tooltip:"None",tooltipShowAbove:!0,mouseHoverHandler:r}),o.createElement(ne,{svg:R,fallbackSvg:A,value:"UNDERLINE",tooltip:"Underline",tooltipShowAbove:!0,mouseHoverHandler:r}),o.createElement(ne,{svg:f,value:"STRIKETHROUGH",tooltip:"Strikethrough",tooltipShowAbove:!0,mouseHoverHandler:r}))),l&&o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabelLong},"Paragraph Indent"),o.createElement(S.ScrubbablePositivePixelInput,{onValueChange:this.onParagraphIndentChange,value:this.props.paragraphIndent,inputClassName:E.paragraphIndent,className:E.paragraphIndentContainer,dispatch:this.props.dispatch,disabled:this.props.disabled,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:s.joinKeys(this.props,"paragraphIndent")})),o.createElement("div",{className:E.spacer})))}),this.renderLetterCase=(e=>{let t=(e,t)=>{if(this.previewHoverHandler(e,t),"ENTER"==t){let t;switch(e){case"ORIGINAL":t=y.FontPreviewStyleOverride.TEXT_CASE_ORIGINAL;break;case"UPPER":t=y.FontPreviewStyleOverride.TEXT_CASE_UPPER;break;case"LOWER":t=y.FontPreviewStyleOverride.TEXT_CASE_LOWER;break;case"TITLE":t=y.FontPreviewStyleOverride.TEXT_CASE_TITLE;break;case"SMALL_CAPS":t=y.FontPreviewStyleOverride.TEXT_CASE_SMALL_CAPS;break;case"SMALL_CAPS_FORCED":t=y.FontPreviewStyleOverride.TEXT_CASE_SMALL_CAPS_FORCED;break;default:t=y.FontPreviewStyleOverride.EMPTY}this.setState({previewStyleOverride:t,previewFeature:null,previewContentPropType:"TextCase",shouldDrawBoundingBox:!1})}},r=[];return this.supportsFeatureForFonts("SMCP")?r.push(o.createElement(pe,{value:"SMALL_CAPS",svg:B,tooltip:"Small Caps",tooltipShowAbove:!0,key:"toggleOpenTypeFeatureSMCP",mouseHoverHandler:t})):r.push(o.createElement(pe,{value:"SMALL_CAPS",svg:B,inactive:!0,tooltip:"Font doesn’t support small caps",key:"toggleOpenTypeFeatureSMCP",tooltipShowAbove:!0,mouseHoverHandler:t})),this.supportsFeatureForFonts("C2SC")&&r.push(o.createElement(pe,{value:"SMALL_CAPS_FORCED",svg:G,tooltip:"Forced Small Caps",tooltipShowAbove:!0,key:"toggleOpenTypeFeatureC2SC",mouseHoverHandler:t})),o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},"Letter case")),o.createElement(g.Row,null,o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Case"),o.createElement(le,{className:this.supportsFeatureForFonts("C2SC")?E.typeDetailsControlSixSegments:E.typeDetailsControlFiveSegments,property:e,onChange:e=>{"SMALL_CAPS"===e?n.fullscreen.updateSelectionProperties({fontVariantCaps:"SMALL",textCase:"ORIGINAL"},c.ShouldCommit.YES):"SMALL_CAPS_FORCED"===e?n.fullscreen.updateSelectionProperties({fontVariantCaps:"ALL_SMALL",textCase:"ORIGINAL"},c.ShouldCommit.YES):n.fullscreen.updateSelectionProperties({textCase:e,fontVariantCaps:"NORMAL"},c.ShouldCommit.YES)},disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textCase")},o.createElement(pe,{value:"ORIGINAL",svg:$,tooltip:"As Typed",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(pe,{value:"UPPER",svg:W,tooltip:"Uppercase",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(pe,{value:"LOWER",svg:k,tooltip:"Lowercase",tooltipShowAbove:!0,mouseHoverHandler:t}),o.createElement(pe,{value:"TITLE",svg:z,tooltip:"Title Case",tooltipShowAbove:!0,mouseHoverHandler:t}),r)),this.renderRow("PCAP"),this.renderRow("CASE"),this.renderRow("CPSP"),this.renderRow("TITL"),this.renderRow("UNIC"),o.createElement("div",{className:E.spacer})))}),this.renderGroup=(e=>{let t=P.TypeSettingsData.OpenTypeFeatureGroups.filter(t=>t.group_name===e)[0].tags.map(e=>this.renderRow(e)).filter(e=>e);if(0!=t.length)return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},e)),t,o.createElement("div",{className:E.spacer})))}),this.renderRow=(e=>{if(!this.supportsFeatureForFonts(e))return;const t=this.supportsFeatureForSelection(e);let r=(t,r)=>{this.previewHoverHandler(t,r),"ENTER"==r&&("FRAC"===e?this.setState({previewStyleOverride:"ON"==t?y.FontPreviewStyleOverride.FRACTIONS_ON:y.FontPreviewStyleOverride.FRACTIONS_OFF,previewFeature:null,previewContentPropType:"OpenTypeFRAC",shouldDrawBoundingBox:!1}):this.setState({previewStyleOverride:"ON"==t?y.FontPreviewStyleOverride.OPENTYPE_FEATURE_ON:y.FontPreviewStyleOverride.OPENTYPE_FEATURE_OFF,previewFeature:e,previewContentPropType:"OpenType"+e,shouldDrawBoundingBox:!1}))};const i=this.props.openTypeFeatures.supported,a=this.props.openTypeFeatures.applicable,l=t?a:i;ee.push("FRAC"===e?"Fractions":e);const p="FRAC"===e?"Fractions":l[e]||P.TypeSettingsData.OpenTypeFeatureNames[e],u="toggleOpenTypeFeature"+("FRAC"===e?"Fractions":e);return o.createElement(g.Row,{key:u},t?o.createElement(g.Label,{className:E.openTypeFeatureLabel},p):o.createElement(g.LabelInactive,{"data-tooltip-text":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.openTypeFeatureLabel},p),o.createElement(me,{className:E.typeDetailsControlTwoSegments,property:"FRAC"===e?this.getOpenTypeFeatureForFraction():this.getOpenTypeFeatureForTag(e),onChange:t=>{if("FRAC"!==e)switch(e){case"DLIG":n.fullscreen.updateSelectionProperties({fontVariantDiscretionaryLigatures:"ON"===t});break;case"HLIG":n.fullscreen.updateSelectionProperties({fontVariantHistoricalLigatures:"ON"===t});break;default:"ON"===t&&this.setOpenTypeFeature(e,t),"OFF"===t&&this.setOpenTypeFeature(e,t)}else n.fullscreen.updateSelectionProperties({fontVariantNumericFraction:"ON"===t?"STACKED":"NORMAL"})},disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,u)},o.createElement(he,{value:"OFF",svg:$,key:"off",mouseHoverHandler:r}),o.createElement(he,{value:"ON",svg:Q,key:"on",mouseHoverHandler:r})))}),this.renderPreview=(()=>o.createElement(F.TypeDetailsPreview,{previewStyleOverride:this.state.previewStyleOverride,previewFeature:this.state.previewFeature,previewContentPropType:this.state.previewContentPropType,shouldDrawBoundingBox:this.state.shouldDrawBoundingBox,availableOTFeaturesForSelection:this.props.openTypeFeatures.applicable})),this.renderNumbers=(()=>{let e=[],t=this.supportsFeatureForFonts("LNUM"),r=this.supportsFeatureForFonts("ONUM"),i=this.supportsFeatureForFonts("PNUM"),a=this.supportsFeatureForFonts("TNUM"),l=this.supportsFeatureForSelection("LNUM")||this.supportsFeatureForSelection("ONUM")||this.supportsFeatureForSelection("PNUM")||this.supportsFeatureForSelection("TNUM"),p=(e,t)=>{let r;switch(this.previewHoverHandler(e,t),e){case"ORIGINAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_ORIGINAL;break;case"UPPER_PROPORTIONAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_UPPER_PROPORTIONAL;break;case"LOWER_PROPORTIONAL":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_LOWER_PROPORTIONAL;break;case"UPPER_MONOSPACE":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_UPPER_MONOSPACE;break;case"LOWER_MONOSPACE":r=y.FontPreviewStyleOverride.NUMERIC_STYLE_LOWER_MONOSPACE;break;default:r=y.FontPreviewStyleOverride.EMPTY}"ENTER"==t&&this.setState({previewStyleOverride:r,previewFeature:null,previewContentPropType:"FontVariantNumericStyle",shouldDrawBoundingBox:!1})},u=(e,t)=>{this.previewHoverHandler(e,t),"ENTER"==t&&this.setState({previewStyleOverride:"NORMAL"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_NORMAL:"SUB"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_SUB:"SUPER"==e?y.FontPreviewStyleOverride.NUMERIC_POSITION_SUPER:y.FontPreviewStyleOverride.EMPTY,previewFeature:null,previewContentPropType:"FontVariantPosition",shouldDrawBoundingBox:!1})};(t||r||i||a)&&(i||a?t||r?(e.push(o.createElement(ce,{value:"ORIGINAL",svg:$,tooltip:"Font Default",key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),(i||t)&&e.push(o.createElement(ce,{value:"UPPER_PROPORTIONAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),(a||t)&&e.push(o.createElement(ce,{value:"UPPER_MONOSPACE",svg:X,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p})),(i||r)&&e.push(o.createElement(ce,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p})),(a||r)&&e.push(o.createElement(ce,{value:"LOWER_MONOSPACE",svg:Y,tooltip:"Monospace Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_MONOSPACE",mouseHoverHandler:p}))):i&&a?(e.push(o.createElement(ce,{value:"ORIGINAL",svg:$,tooltip:"Font Default",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"UPPER_PROPORTIONAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"UPPER_MONOSPACE",svg:X,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):i?a||(e.push(o.createElement(ce,{value:"UPPER_PROPORTIONAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"ORIGINAL",svg:X,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):(e.push(o.createElement(ce,{value:"ORIGINAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"UPPER_MONOSPACE",svg:X,tooltip:"Monospace Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_MONOSPACE",mouseHoverHandler:p}))):t&&r?(e.push(o.createElement(ce,{value:"ORIGINAL",svg:$,tooltip:"Font Default",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingORIGINAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"UPPER_PROPORTIONAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))):t?r||(e.push(o.createElement(ce,{value:"UPPER_PROPORTIONAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"ORIGINAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))):(e.push(o.createElement(ce,{value:"ORIGINAL",svg:j,tooltip:"Proportional Uppercase/Lining",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingUPPER_PROPORTIONAL",mouseHoverHandler:p})),e.push(o.createElement(ce,{value:"LOWER_PROPORTIONAL",svg:K,tooltip:"Proportional Lowercase/Old-style",tooltipShowAbove:!0,key:"fontVariantNumericFigureAndSpacingLOWER_PROPORTIONAL",mouseHoverHandler:p}))));const c=this.supportsFeatureForSelection("SUBS"),d=this.supportsFeatureForSelection("SUPS"),m=c?"Subscript":this.supportsFeatureForFonts("SUBS")?"Not applicable for selected text":"Font doesn’t support subscript",h=d?"Superscript":this.supportsFeatureForFonts("SUPS")?"Not applicable for selected text":"Font doesn’t support superscript";return o.createElement(o.Fragment,null,o.createElement(g.Panel,null,o.createElement(g.Row,null,o.createElement(g.PanelTitle,{extended:!0},"Numbers")),t||r||i||a?o.createElement(g.Row,null,l?o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Style"):o.createElement(g.LabelInactive,{"data-tooltip-text":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.typeDetailsFeatureLabel},"Style"),o.createElement(ue,{className:2===e.length?E.typeDetailsControlTwoSegments:3===e.length?E.typeDetailsControlThreeSegments:4===e.length?E.typeDetailsControlFourSegments:E.typeDetailsControlFiveSegments,property:this.fontVariantNumericStyle(),onChange:e=>{n.fullscreen.updateSelectionProperties((e=>"ORIGINAL"==e?{fontVariantNumericFigure:"NORMAL",fontVariantNumericSpacing:"NORMAL"}:{fontVariantNumericFigure:"UPPER_PROPORTIONAL"===e||"UPPER_MONOSPACE"===e?"LINING":"OLDSTYLE",fontVariantNumericSpacing:"UPPER_PROPORTIONAL"===e||"LOWER_PROPORTIONAL"===e?"PROPORTIONAL":"TABULAR"})(e))},disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textCase")},e)):"",o.createElement(g.Row,null,c||d?o.createElement(g.Label,{className:E.typeDetailsFeatureLabel},"Position"):o.createElement(g.LabelInactive,{"data-tooltip-text":"Not applicable for selected text","data-tooltip-timeout-delay":1200,"data-tooltip-show-above":!0,className:E.typeDetailsFeatureLabel},"Position"),o.createElement(de,{className:E.typeDetailsControlThreeSegments,property:this.props.fontVariantPosition,onChange:this.onFontVariantPositionChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textCase")},o.createElement(ge,{value:"SUB",svg:J,tooltip:m,tooltipShowAbove:!0,inactive:!c,mouseHoverHandler:u}),o.createElement(ge,{value:"NORMAL",svg:Z,tooltip:"Normal",tooltipShowAbove:!0,mouseHoverHandler:u}),o.createElement(ge,{value:"SUPER",svg:q,tooltip:h,tooltipShowAbove:!0,inactive:!d,mouseHoverHandler:u}))),this.renderRow("FRAC"),this.renderRow("AFRC"),this.renderRow("ZERO"),o.createElement("div",{className:E.spacer})))}),this.renderTypeDetailsPanel=(()=>{let e=this.props.textCase;"SMALL"===this.props.fontVariantCaps&&(e="SMALL_CAPS"),"ALL_SMALL"===this.props.fontVariantCaps&&(e="SMALL_CAPS_FORCED");const t=new l.Vector(this.props.picker.initialX,this.props.picker.initialY);return o.createElement(d.DraggableModal,{title:"Type Details",headerSize:"small",initialPosition:t,onClose:this.onClose,ignoreCloseShortcut:this.ignoreCloseShortcut(),recordingKey:this.props.recordingKey},this.renderPreview(),o.createElement("div",{className:E.contentContainer},o.createElement(N.ScrollContainer,{showScrollbar:!0},o.createElement("div",null,this.renderResizingAlignmentAndDecoration(),this.canEditTextStyle()&&this.renderLetterCase(e),this.canEditTextStyle()&&this.renderNumbers(),this.canEditTextStyle()&&this.renderGroup("Letterforms"),this.canEditTextStyle()&&this.renderGroup("Stylistic sets"),this.canEditTextStyle()&&this.renderGroup("Character variants"),this.canEditTextStyle()&&this.renderGroup("Math"),this.canEditTextStyle()&&this.renderGroup("Horizontal spacing"),this.canEditTextStyle()&&this.renderGroup("Writing direction"),this.canEditTextStyle()&&this.renderGroup("More features"),this.canEditNodeFields()&&this.renderLineHeightUpgradeSection()))))})}render(){ee.length=0;const e=this.renderTypeDetailsPanel();for(const t of ee)te.set(t,(te.get(t)||0)+1);return null===re&&(re=setTimeout(oe,1e3*(15+30*Math.random()))),e}}t.TypeSettings=Se,Se.displayName="TypeSettings"}),
(function(e,t,i){e.exports={_stylePickerRow:"style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_grid--scrollContainer--3Tlb8",pickerTitleRow:"style_grid--pickerTitleRow--3CnZS style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_grid--pickerTitle--3BZhR header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_grid--emptyStateContainer--15sdK",emptyStateMessage:"style_grid--emptyStateMessage--2siY_ text--fontPos11--RSei3 text--_fontBase--YWDo0",pickerTitleButton:"style_grid--pickerTitleButton--yXgGN",browseLibrariesButton:"style_grid--browseLibrariesButton--JItqj",contextMenu:"style_grid--contextMenu--1DF2j",styleGrid:"style_grid--styleGrid--3TrGE",styleIcon:"style_grid--styleIcon--au-hL",styleList:"style_grid--styleList--39nhA",thumbnail:"style_grid--thumbnail--e5j8z",selectedOutline:"style_grid--selectedOutline--1PV-0",styleRow:"style_grid--styleRow--xWAeH",selectedStyleRow:"style_grid--selectedStyleRow--3IigJ style_grid--styleRow--xWAeH",name:"style_grid--name--281Gh ellipsis--ellipsis--1RWY6",sectionOrganized:"style_grid--sectionOrganized--3kfwf",sectionHeader:"style_grid--sectionHeader--1Kjmv",sectionHeaderFileName:"style_grid--sectionHeaderFileName--2h4RZ style_grid--sectionHeader--1Kjmv",sectionHeaderPrefix:"style_grid--sectionHeaderPrefix--1SW9w style_grid--sectionHeader--1Kjmv"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(7,1        ),n=s(172              ),l=s(192                            ),r=s(155                       ),a=s(532                              ),p=s(345                                  ),c=s(563           ),d=s(785               ),y=s(179                         ),m=p.dropdown.Dropdown,h=p.dropdown.Option;class u extends o.PureComponent{render(){return this.props.style.file_key===this.props.fileKey?o.createElement(m,{className:d.contextMenu,style:this.props.position},o.createElement(h,{onClick:this.props.onEditStyle.bind(this,this.props.style)},"Edit Style"),o.createElement(h,{onClick:this.props.onDeleteStyle.bind(this,this.props.style)},"Delete Style")):null}}t.StyleChitContextMenu=u,u.displayName="StyleChitContextMenu";class S extends o.PureComponent{render(){const{masterStyleKey:e,localStyles:t,sharedStylesByFile:s,teams:i}=this.props;let l=0;l+=t.length?1:0;const r=(l+=Object.keys(s).length)>1,a=Object.keys(s).sort((e,t)=>{if(!this.props.fileByKey)return 0;const s=this.props.fileByKey[e],o=this.props.fileByKey[t];if(!s||!o)return s?1:-1;if(s.team_id===o.team_id||!s.team_id&&!o.team_id)return s.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase());if(!s.team_id||!o.team_id)return s.team_id?1:-1;const n=i[s.team_id],l=i[o.team_id];return n&&l?n.name&&l.name?n.name.toLocaleLowerCase().localeCompare(l.name.toLocaleLowerCase()):n.name?1:-1:n?1:-1});return o.createElement("div",null,t.length>0&&o.createElement(f,Object.assign({stylelist:t,selectedId:e,showHeader:r,recordingKey:n.joinKeys(this.props,"localStyleSection")},this.props)),a.map(t=>{const i=this.props.fileByKey[t].name;return o.createElement(f,Object.assign({key:t,stylelist:s[t],selectedId:e,fileName:i,showHeader:r,recordingKey:n.joinKeys(this.props,`section.${i}`)},this.props))}))}}t.StyleGrid=S,S.displayName="StyleGrid";class f extends o.PureComponent{constructor(){super(...arguments),this.onMouseDownStyle=((e,t)=>{t.stopPropagation(),0===t.button&&this.props.onApplyStyle(e)}),this.groupSortedStylesByPrefix=(e=>{const t={};e.forEach(e=>{const s=r.getNamePrefix(e.name);t[s]=t[s]||[],t[s].push(e)});for(const s in t)l.sortStylesByPosition(t[s]);return t}),this.selectedStyleIconRef=(e=>{const t=i.findDOMNode(e);t&&t.scrollIntoView({block:"center",inline:"end"})}),this.renderStyleList=(e=>o.createElement("div",{className:this.props.showListLayout?d.styleList:d.styleGrid},e.map(e=>{const t=e.node_id,s=this.props.selectedId&&this.props.selectedId===e.key,i=this.props.showListLayout&&e.description;let l="";return this.props.showListLayout&&(l=s?d.selectedStyleRow:d.styleRow),o.createElement(y.RecordableDiv,{key:t,"data-tooltip-content-key":i?a.TooltipView.STYLE_INFO:"","data-tooltip-style-description":e.description,recordingKey:n.joinKeys(this.props,e.name),className:l,onMouseDown:this.onMouseDownStyle.bind(this,e),onDoubleClick:this.props.onNavigateToStyle?this.props.onNavigateToStyle.bind(this,e):null,onContextMenu:this.props.onContextMenu?this.props.onContextMenu.bind(this,e):null},o.createElement(c.StyleIcon,{selectedState:s&&(this.props.showListLayout?"background":"outline")||void 0,showTooltip:!this.props.showListLayout,style:e,className:d.styleIcon,thumbnailClassName:"TEXT"!==e.style_type?d.thumbnail:void 0,selectedOutlineClassName:d.selectedOutline,ref:s?this.selectedStyleIconRef:null}),this.props.showListLayout&&o.createElement("div",{className:d.name},r.getLastPartOfName(e.name)))})))}render(){const{stylelist:e,showHeader:t,fileName:s}=this.props,i=this.groupSortedStylesByPrefix([...e]),n=Object.keys(i).sort((e,t)=>(i[e][0].sort_position||"")<(i[t][0].sort_position||"")?-1:1);return o.createElement("div",{className:d.sectionOrganized},t&&s&&o.createElement("div",{className:d.sectionHeaderFileName},s),i[""]&&this.renderStyleList(i[""]),n.map(e=>e?o.createElement(o.Fragment,{key:e},o.createElement("div",{className:d.sectionHeaderPrefix},e),this.renderStyleList(i[e])):null))}}f.displayName="StyleSection"}),
(function(e,t,n){e.exports={_stylePickerRow:"style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_panel--scrollContainer--HIibi",pickerTitleRow:"style_panel--pickerTitleRow--1edNa style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_panel--pickerTitle--2lTTT header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_panel--emptyStateContainer---x3j8",emptyStateMessage:"style_panel--emptyStateMessage--3eGWk text--fontPos11--RSei3 text--_fontBase--YWDo0",pickerTitleButton:"style_panel--pickerTitleButton--3hI6S",browseLibrariesButton:"style_panel--browseLibrariesButton--3en3s"}}),
(function(o,t,h){o.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5 5V0h1v5h5v1H6v5H5V6H0V5h5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="12" height="14" viewBox="0 0 12 14" xmlns="http://www.w3.org/2000/svg"><path d="M2 7.05V0h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V14H2v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM4 9.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5C1 8.672 1.672 8 2.5 8 3.328 8 4 8.672 4 9.5zM9 14h1V6.95c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V0H9v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45V14zm2-9.5c0-.828-.672-1.5-1.5-1.5C8.672 3 8 3.672 8 4.5 8 5.328 8.672 6 9.5 6c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,h){l.exports={src:'<svg width="18" height="13" viewBox="0 0 18 13" xmlns="http://www.w3.org/2000/svg"><path d="M8.373 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17.5v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.822 1.442 6.795.84 4.92.84 1.297.84.5 3.09.5 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9.5 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759h.185V3.317l-.03-.05c-.086-.138-.236-.339-.474-.545-.461-.397-1.33-.882-2.916-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9.5zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),l=i(7,1        ),r=i(157         ),n=i(106                                     ),o=i(138                                   ),a=i(433                                ),p=i(161                                                  ),y=i(172              ),c=i(126          ),h=i(146                                          ),d=i(163                               ),S=i(388                             ),u=i(192                            ),m=i(114           ),f=i(147                       ),g=i(786                                                                 ),_=i(160       ),b=i(200         ),K=i(366                                                    ),w=i(145         ),k=i(340              ),E=i(411                                        ),T=i(347                                                  ),C=i(174                        ),B=i(598                                                                  ),P=i(224                                            ),v=i(136                            );t.STYLES_PICKER_WIDTH=k.pxToInt(E.stylesPickerWidth);const M=i(787                ),D=i(44,1         ),N=i(665                                              ),L=i(788                                                ),F=i(789                                                ),I=i(790                                      );function x(e){return`styles-picker-${e}`}function R(e){return e&&_.isValid(e.guid)}function z(e){const t=u.getLocalStylesOfType(e.library.local.styles,e.styleType),i=O(e)?S.getValueOrNull(e.inheritStyleKey):null;return{localStyles:t,sharedStylesByFile:e.fileKey?u.getSubscribedStylesByFileOfType(e.library,e.styleType,e.fileByKey[e.fileKey],i):{},masterStyleKey:i}}function O(e){const t=S.getValueOrNull(e.inheritStyleKey);return!!(t&&t.length>0)}t.stylesPickerId=x,t.stylesPicker=function(e){return e.pickerShown&&e.pickerShown.id===x(e.inheritStyleKeyField)?e.pickerShown:null},t.hasSelectedStyle=R,t.mixedOrEmpty=function(e){if(e.filter(e=>e===S.MIXED).length)return!0;for(let t of e)if(0!==S.getValue(t,[]).length)return!1;return!0},t.isStyleConsumer=O,t.getMasterStyle=function(e){if(!O(e))return null;const{masterStyleKey:t,localStyles:i,sharedStylesByFile:s}=z(e),l=e=>e.key===t,n=i.filter(l);if(n.length>0)return r.assertDev(1===n.length,"styles: multiple local style matches for masterStyleKey"),n[0];for(let o in s){const e=s[o].filter(l);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for masterStyleKey"),e[0]}return null},t.getSelectedStyle=function(e){if(O(e)||!R(e.selectedStyleProperties))return null;const{localStyles:t,sharedStylesByFile:i}=z(e),s=t=>t.key===e.selectedStyleProperties.styleKey,l=t.filter(s);if(l.length>0)return r.assertDev(1===l.length,"styles: multiple local style matches for selected styleKey"),l[0];for(let n in i){const e=i[n].filter(s);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for selected styleKey"),e[0]}return null},t.extractStylePickerBaseProps=function(e){return{sceneGraphSelection:e.sceneGraphSelection,library:e.library,dispatch:e.dispatch,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,fileKey:e.fileKey,fileByKey:e.fileByKey,inheritStyleKeyField:e.inheritStyleKeyField,inheritStyleKey:e.inheritStyleKey,selectedStyleProperties:e.selectedStyleProperties,styleType:e.styleType,showListLayout:e.showListLayout,scrollContainer:e.scrollContainer,teams:e.teams,hasMixedProperties:e.hasMixedProperties||!1,hasMissingFont:e.hasMissingFont}};class A extends s.PureComponent{constructor(){super(...arguments),this.generateStyleThumbnails=m.debounce(()=>{this.props.dispatch(p.libraryThumbnail.generateStyleThumbnails({styleType:this.props.styleType}))},200),this.initialPosition=(e=>e.initialPosition?e.initialPosition:e.picker?new w.Vector(e.picker.initialX,e.picker.initialY):new w.Vector(0,0)),this.uiSize={width:0,height:0},this.handleApplyStyle=(e=>{this.props.onApplyStyle(e),this.props.dispatch(a.tooltip.hide()),this.props.picker.modal&&this.props.dispatch(o.fullscreen.hidePicker())}),this.handleNavigateToStyle=(e=>{d.Fullscreen.selectStyle(e.key,e.content_hash||""),this.props.dispatch(a.tooltip.hide()),c.segment.track("Style Inspected",{styleType:e.style_type,from:"stylePickerContextMenu"})}),this.handleDeleteStyle=(e=>{e.file_key===this.props.fileKey&&(d.Fullscreen.deleteNode(e.node_id),h.fullscreen.triggerAction("commit"),c.segment.track("Style Deleted",{styleType:e.style_type,from:"stylePickerContextMenu"}))}),this.handleContextMenu=((e,t)=>{this.props.dispatch(n.fileBrowser.showDropdown({type:A.EDIT_STYLE_MENU,data:{style:e,position:{top:t.clientY,left:t.clientX}}}))}),this.onClose=(()=>{this.props.dispatch(o.fullscreen.hidePicker())}),this.onDragEnd=(()=>{this.props.picker.modal&&this.props.dispatch(o.fullscreen.showPicker(Object.assign(Object.assign({},this.props.picker),{modal:!1})))}),this.onBrowseLibrariesButtonClick=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:v.LIBRARY_PREFERENCES_MODAL,data:{tab:f.LibraryPreferencesModalTab.LIBRARIES}}))})}componentDidMount(){this.generateStyleThumbnails(),this.checkSizeChange()}UNSAFE_componentWillReceiveProps(e){this.generateStyleThumbnails()}componentDidUpdate(e){this.checkSizeChange()}checkSizeChange(){if(!this.props.onSizeChange)return;let e=l.findDOMNode(this),t=0,i=0;if(e){let s=e.getBoundingClientRect();t=s.width,i=s.height}t===this.uiSize.width&&i===this.uiSize.height||(this.uiSize.width=t,this.uiSize.height=i,this.props.onSizeChange(t,i,e))}dropdown(){return this.props.dropdownShown&&this.props.dropdownShown.type===A.EDIT_STYLE_MENU&&this.props.dropdownShown.data.style.style_type===this.props.styleType?this.props.dropdownShown:null}render(){const{localStyles:e,sharedStylesByFile:i}=z(this.props),l=O(this.props)?S.getValueOrNull(this.props.inheritStyleKey):null,r=e.length>0||!b.isEmpty(i);let n=!1;this.props.fileKey&&(n=u.getSubscribedLibraryItems(this.props.library,this.props.library.published.styles,this.props.fileByKey[this.props.fileKey]).length>0);const o=this.dropdown();return s.createElement(K.DraggableModal,{title:"",headerSize:"hidden",initialWidth:t.STYLES_PICKER_WIDTH,initialPosition:this.initialPosition(this.props),minBottomMargin:this.props.minBottomMargin,onDragEnd:this.onDragEnd,onClose:this.onClose},s.createElement("div",{className:M.pickerTitleRow},s.createElement("div",{className:M.pickerTitle},u.styleTypeToStylesHeader(this.props.styleType)),s.createElement(B.IconButton,{className:M.pickerTitleButton,"data-tooltip-text":"Edit style",recordingKey:y.joinKeys(this.props,"editStyleButton"),svg:F,disabled:!this.props.onEditStyle,onClick:this.props.onEditStyle}),s.createElement(B.IconButton,{className:M.pickerTitleButton,"data-tooltip-text":"Create style",recordingKey:y.joinKeys(this.props,"addStyleButton"),svg:N,fallbackSvg:L,disabled:!this.props.onCreateStyle,onClick:this.props.onCreateStyle})),r&&s.createElement(T.ScrollContainer,{className:M.scrollContainer,showScrollbar:!0,width:t.STYLES_PICKER_WIDTH},s.createElement(g.StyleGrid,{inheritStyleKeyField:this.props.inheritStyleKeyField,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,sharedStylesByFile:i,masterStyleKey:l,localStyles:e,onApplyStyle:this.handleApplyStyle,onNavigateToStyle:this.handleNavigateToStyle,onContextMenu:this.handleContextMenu,showListLayout:this.props.showListLayout,recordingKey:y.joinKeys(this.props,"styleGrid")})),!r&&s.createElement("div",{className:M.emptyStateContainer},s.createElement("div",{className:M.emptyStateMessage},"No ",u.styleTypeToStylesHeader(this.props.styleType),"."),!n&&s.createElement(P.ButtonSecondary,{className:M.browseLibrariesButton,onClick:this.onBrowseLibrariesButtonClick},s.createElement("div",null,s.createElement(C.Svg,{svg:I})),"Browse libraries...")),o&&s.createElement(g.StyleChitContextMenu,{style:o.data.style,position:o.data.position,onEditStyle:this.handleNavigateToStyle,onDeleteStyle:this.handleDeleteStyle,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams}))}}var Y;t.StylePicker=A,A.displayName="StylePicker",A.EDIT_STYLE_MENU="edit-local-styles-context-menu",function(e){e.ConnectedStylePicker=D.connect((e,t)=>({library:e.library,dropdownShown:e.dropdownShown,fileKey:e.editingFileKey,fileByKey:e.fileByKey,teams:e.teams,inheritStyleKeyField:"inheritFillStyleKey",sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties}),e=>({dispatch:e}))(A)}(Y||(Y={})),t.ConnectedStylePicker=Y.ConnectedStylePicker}),
(function(_,t,E){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),
(function(e,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";var o=t(792);function n(){}e.exports=function(){function e(e,r,t,n,p,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r};return t.checkPropTypes=n,t.PropTypes=t,t}}),
(function(i,o,t){i.exports=t(793)()}),
(function(s,a,e){"use strict";a.__esModule=!0,a.default=function(s,a){return s.classList?!!a&&s.classList.contains(a):-1!==(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+a+" ")},s.exports=a.default}),
(function(s,a,e){"use strict";var t=e(11,1);a.__esModule=!0,a.default=function(s,a){s.classList?s.classList.add(a):(0,l.default)(s,a)||("string"==typeof s.className?s.className=s.className+" "+a:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+a))};var l=t(e(795));s.exports=a.default}),
(function(s,e,a){"use strict";function c(s,e){return s.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}s.exports=function(s,e){s.classList?s.classList.remove(e):"string"==typeof s.className?s.className=c(s.className,e):s.setAttribute("class",c(s.className&&s.className.baseVal||"",e))}}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function o(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function p(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Object.defineProperty(e,"__esModule",{value:!0}),o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0,e.polyfill=function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,l=null,r=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?l="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?r="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==l||null!==r){var s=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==l?"\n  "+l:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=o,e.componentWillReceiveProps=i),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=p;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,o)}}return t}}),
(function(e,s,a){"use strict";s.__esModule=!0,s.classNamesShape=s.timeoutsShape=void 0;var l;(l=a(794))&&l.__esModule;s.timeoutsShape=null;s.classNamesShape=null}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(n(794)),r=s(n(3,1)),o=s(n(7,1)),a=n(798);n(799);function s(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var l="exited";e.EXITED=l;var p="entering";e.ENTERING=p;var c="entered";e.ENTERED=c;e.EXITING="exiting";var d=function(t){var e,n;function i(e,n){var i;i=t.call(this,e,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?a?(r=l,i.appearStatus=p):r=c:r=e.unmountOnExit||e.mountOnEnter?u:l,i.state={status:r},i.nextCallback=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:l}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==c&&(e=p):n!==p&&n!==c||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===p?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},a.performEnter=function(t,e){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=r?o.appear:o.enter;e||i?(this.props.onEnter(t,r),this.safeSetState({status:p},function(){n.props.onEntering(t,r),n.onTransitionEnd(t,a,function(){n.safeSetState({status:c},function(){n.props.onEntered(t,r)})})})):this.safeSetState({status:c},function(){n.props.onEntered(t)})},a.performExit=function(t){var e=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,i.exit,function(){e.safeSetState({status:l},function(){e.props.onExited(t)})})})):this.safeSetState({status:l},function(){e.props.onExited(t)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,i=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(e,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(t,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},i}(r.default.Component);function f(){}d.contextTypes={transitionGroup:i.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var E=(0,a.polyfill)(d);e.default=E}),
(function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(794));var r=i(n(796)),s=i(n(797)),o=i(n(3,1)),a=i(n(800));n(799);function i(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,s.default)(e,t)})},u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("enter").doneClassName;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"!=typeof n?n[e]:n+"-"+e;return{className:r,activeClassName:"string"!=typeof n?n[e+"Active"]:r+"-active",doneClassName:"string"!=typeof n?n[e+"Done"]:r+"-done"}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,s=n.activeClassName,o=n.doneClassName;r&&c(e,r),s&&c(e,s),o&&c(e,o)},s.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},s.render=function(){var e=p({},this.props);return delete e.classNames,o.default.createElement(a.default,p({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);u.propTypes={};var f=u;t.default=f,e.exports=t.default}),
(function(n,e,i){"use strict";e.__esModule=!0,e.getChildMapping=r,e.mergeChildMappings=l,e.getInitialChildMapping=function(n,e){return r(n.children,function(i){return(0,t.cloneElement)(i,{onExited:e.bind(null,i),in:!0,appear:u(i,"appear",n),enter:u(i,"enter",n),exit:u(i,"exit",n)})})},e.getNextChildMapping=function(n,e,i){var a=r(n.children),o=l(e,a);return Object.keys(o).forEach(function(r){var l=o[r];if((0,t.isValidElement)(l)){var c=r in e,f=r in a,p=e[r],d=(0,t.isValidElement)(p)&&!p.props.in;!f||c&&!d?f||!c||d?f&&c&&(0,t.isValidElement)(p)&&(o[r]=(0,t.cloneElement)(l,{onExited:i.bind(null,l),in:p.props.in,exit:u(l,"exit",n),enter:u(l,"enter",n)})):o[r]=(0,t.cloneElement)(l,{in:!1}):o[r]=(0,t.cloneElement)(l,{onExited:i.bind(null,l),in:!0,exit:u(l,"exit",n),enter:u(l,"enter",n)})}}),o};var t=i(3,1);function r(n,e){var i=Object.create(null);return n&&t.Children.map(n,function(n){return n}).forEach(function(n){i[n.key]=function(n){return e&&(0,t.isValidElement)(n)?e(n):n}(n)}),i}function l(n,e){function i(i){return i in e?e[i]:n[i]}n=n||{},e=e||{};var t,r=Object.create(null),l=[];for(var u in n)u in e?l.length&&(r[u]=l,l=[]):l.push(u);var a={};for(var o in e){if(r[o])for(t=0;t<r[o].length;t++){var c=r[o][t];a[r[o][t]]=i(c)}a[o]=i(o)}for(t=0;t<l.length;t++)a[l[t]]=i(l[t]);return a}function u(n,e,i){return null!=i[e]?i[e]:n.props[e]}}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=p(n(794)),i=p(n(3,1)),o=n(798),a=n(802);function p(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},c=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(d(d(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=u({},e.children);return delete n[t.key],{children:n}}))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);c.childContextTypes={transitionGroup:r.default.object.isRequired},c.propTypes={},c.defaultProps={component:"div",childFactory:function(t){return t}};var s=(0,o.polyfill)(c);e.default=s,t.exports=e.default}),
(function(e,n,t){"use strict";n.__esModule=!0,n.default=void 0;l(t(794));var r=l(t(3,1)),o=t(7,1),i=l(t(803));function l(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var n,t;function l(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEnter",0,t)},n.handleEntering=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntering",0,t)},n.handleEntered=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntered",0,t)},n.handleExit=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExit",1,t)},n.handleExiting=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExiting",1,t)},n.handleExited=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExited",1,t)},n}t=e,(n=l).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=l.prototype;return a.handleLifecycle=function(e,n,t){var i,l=this.props.children,a=r.default.Children.toArray(l)[n];a.props[e]&&(i=a.props)[e].apply(i,t),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},a.render=function(){var e=this.props,n=e.children,t=e.in,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,["children","in"]),l=r.default.Children.toArray(n),a=l[0],d=l[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,t?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(d,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},l}(r.default.Component);a.propTypes={};var d=a;n.default=d,e.exports=n.default}),
(function(n,i,t){"use strict";var a=s(t(801)),r=s(t(804)),e=s(t(803)),o=s(t(800));function s(n){return n&&n.__esModule?n:{default:n}}n.exports={Transition:o.default,TransitionGroup:e.default,ReplaceTransition:r.default,CSSTransition:a.default}}),
(function(a,e,t){a.exports={appear:"fade_out_transition--appear--3LOyV","appear-active":"fade_out_transition--appear-active--ewEzY",leave:"fade_out_transition--leave--nQRDq","leave-active":"fade_out_transition--leave-active--2HwHt"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),i=n(805                     ),r=n(806                        );t.FadeOutTransition=class extends s.PureComponent{constructor(){super(...arguments),this.selectionStayedTheSame=!1}UNSAFE_componentWillReceiveProps(e){this.selectionStayedTheSame=this.props.sceneGraphSelection===e.sceneGraphSelection}render(){return s.createElement(i.CSSTransition,{classNames:{enter:"",appear:r.appear,exit:r.leave},timeout:{exit:this.selectionStayedTheSame?90:void 0}},s.createElement("div",null,this.props.children))}}}),
(function(e,l,p){e.exports={panelTitleRow:"collapsible_property_panel--panelTitleRow--15lkQ",titleButton:"collapsible_property_panel--titleButton--3lkDn",showOnTitleHover:"collapsible_property_panel--showOnTitleHover--1NAi-",panelEmptyTitleRow:"collapsible_property_panel--panelEmptyTitleRow--3mfdy collapsible_property_panel--panelTitleRow--15lkQ",panelTitle:"collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",fadeOutOnTitleUnhover:"collapsible_property_panel--fadeOutOnTitleUnhover--5BIxM",panelStyleTitle:"collapsible_property_panel--panelStyleTitle--3gOJz collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",panelMixedMessage:"collapsible_property_panel--panelMixedMessage--1T_xL",panelTitleText:"collapsible_property_panel--panelTitleText--3GA0U",titleButtons:"collapsible_property_panel--titleButtons--31ND1",collapsedPanelPreviewTitle:"collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",selectedCollapsedPanelPreviewTitle:"collapsible_property_panel--selectedCollapsedPanelPreviewTitle--2eC4k collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",narrowCollapsedPanelPreviewTitle:"collapsible_property_panel--narrowCollapsedPanelPreviewTitle--ZH1MQ",collapsedPanelPreviewIcon:"collapsible_property_panel--collapsedPanelPreviewIcon--t8fhY",styleTitleName:"collapsible_property_panel--styleTitleName--nHmnE ellipsis--ellipsis--1RWY6"}}),
(function(e,t,o){e.exports={inputRow:"style_modal--inputRow--dYdct",chitContainer:"style_modal--chitContainer--2Kfc0",errorMessage:"style_modal--errorMessage--27aVK"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(3,1    ),i=s(7,1        ),r=s(106                                     ),a=s(163                               ),n=s(126          ),o=s(172              ),p=s(227                                 ),c=s(563                                                                 ),m=s(224                                            ),y=s(600                                                                        ),h=s(155                       ),d=s(809                ),u=s(228           ),f=s(229                                 );t.CREATE_STYLE="CREATE_STYLE",f.registerModal(t.CREATE_STYLE,e=>l.createElement(S,Object.assign({recordingKey:"createStyleModal",nodeId:e.modalShown.data.nodeId,type:e.modalShown.data.type,inheritStyleKeyField:e.modalShown.data.inheritStyleKeyField},e)));class S extends o.Component{constructor(e){switch(super(e),this.styleTitle="",this.previewUrl="",this.previewStyleThumbnail={type:"INVALID"},this.onCancel=(e=>{e.preventDefault(),this.props.dispatch(r.fileBrowser.hideModal())}),this.onSubmit=o.otherEvent(this,"submit",e=>{e.preventDefault(),this.state.error&&this.setState({error:!1});const t=!!this.props.mirror.selectionProperties[this.props.inheritStyleKeyField];let s=e.target.elements;a.Fullscreen.createStyleFromSelection(this.props.inheritStyleKeyField,s.styleName.value)?(this.props.dispatch(r.fileBrowser.hideModal()),n.segment.track("Style Created",{fromStyle:t,styleType:this.props.type})):this.setState({error:!0})},{record:e=>({styleName:e.target.elements.styleName.value}),playback:e=>({preventDefault(){},target:{elements:{styleName:{value:e.styleName}}}})}),this.inputRef=(e=>{if(e){i.findDOMNode(e).select()}}),this.state={error:!1},this.props.type){case"FILL":this.styleTitle="color";break;case"TEXT":this.styleTitle="text";break;case"EFFECT":this.styleTitle="effect";break;case"EXPORT":this.styleTitle="export";break;case"GRID":this.styleTitle="grid"}this.previewStyleThumbnail=h.getStyleThumbnailForCSSRendering(e.nodeId,e.type,this.props.inheritStyleKeyField),"INVALID"===this.previewStyleThumbnail.type&&(this.previewUrl=h.getThumbnailUrlForStyleConsumer(e.nodeId,e.inheritStyleKeyField))}render(){const e=this.styleTitle?`Create new ${this.styleTitle} style`:"Create new style",t={thumbnail_url:this.previewUrl,style_type:this.props.type,meta:{style_thumbnail:this.previewStyleThumbnail}};return l.createElement(p.Modal,Object.assign({title:e,size:"small",className:u.modal},this.props),l.createElement("form",{onSubmit:this.onSubmit},l.createElement("div",{className:d.inputRow},l.createElement("div",{className:d.chitContainer},l.createElement(c.StyleIcon,{style:t})),l.createElement(y.TextInput,{name:"styleName",ref:this.inputRef,placeholder:"Untitled"})),this.state.error&&l.createElement("div",{className:d.errorMessage},"An error occurred while creating the style."),l.createElement("div",{className:u.buttonRow},l.createElement(m.ButtonSecondary,{type:"button",className:u.cancelLink,onClick:this.onCancel},"Cancel"),l.createElement(m.ButtonPrimary,{type:"submit",className:u.confirmButton},"Create style"))))}}S.displayName="CreateStyleModal"}),
(function(o,t,i){o.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M11.5 3.5H.5v-1h11v1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M11 3H0V2h11v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,c){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v3h1V0H4zm9.103.896c-1.162-1.161-3.045-1.161-4.207 0l-2.75 2.75.707.708 2.75-2.75c.771-.772 2.022-.772 2.793 0 .771.77.771 2.021 0 2.792l-2.75 2.75.707.708 2.75-2.75c1.162-1.162 1.162-3.046 0-4.208zM.896 13.103c-1.162-1.161-1.162-3.045 0-4.207l2.75-2.75.707.708-2.75 2.75c-.771.77-.771 2.021 0 2.792.771.772 2.022.772 2.793 0l2.75-2.75.707.707-2.75 2.75c-1.162 1.162-3.045 1.162-4.207 0zM14 10h-3V9h3v1zM10 11v3H9v-3h1zM3 4H0v1h3V4z" fill-rule="nonzero" fill-opacity=".9" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,c){o.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.5 2c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C3.5 1.172 2.828.5 2 .5 1.172.5.5 1.172.5 2zm6 0c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C9.5 1.172 8.828.5 8 .5c-.828 0-1.5.672-1.5 1.5zM8 9.5c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zM.5 8c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C1.172 6.5.5 7.172.5 8z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.5C0 2.328.672 3 1.5 3 2.328 3 3 2.328 3 1.5 3 .672 2.328 0 1.5 0 .672 0 0 .672 0 1.5zm6 0C6 2.328 6.672 3 7.5 3 8.328 3 9 2.328 9 1.5 9 .672 8.328 0 7.5 0 6.672 0 6 .672 6 1.5zM7.5 9C6.672 9 6 8.328 6 7.5 6 6.672 6.672 6 7.5 6 8.328 6 9 6.672 9 7.5 9 8.328 8.328 9 7.5 9zM0 7.5C0 8.328.672 9 1.5 9 2.328 9 3 8.328 3 7.5 3 6.672 2.328 6 1.5 6 .672 6 0 6.672 0 7.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),o=i(7,1        ),p=i(172              ),l=i(161                                                  ),r=i(231                                              ),n=i(106                                     ),a=i(433                                ),c=i(138                                   ),h=i(126          ),y=i(114           ),S=i(145         ),d=i(388                             ),m=i(163                               ),g=i(532                              ),_=i(791                                                                  ),u=i(600                                                                        ),E=i(179                         ),k=i(598                                                                  ),P=i(563                                                                 ),T=i(807                                         ),f=i(808                               ),M=i(810                                             ),w=i(665                                              ),C=i(788                                                ),v=i(811                                               ),R=i(812                                                 ),N=i(813                                               ),O=i(814                                                ),b=i(815                                                  );var I;function K(e){return new S.Vector(e?e.initialX:0,e?e.initialY:0)}!function(e){e[e.STYLE_CONSUMER=0]="STYLE_CONSUMER",e[e.MIXED_STYLE_CONSUMER=1]="MIXED_STYLE_CONSUMER",e[e.CUSTOM_OR_MIXED_PROPERTIES=2]="CUSTOM_OR_MIXED_PROPERTIES"}(I||(I={})),t.pickerMinBottomMargin=4,t.pickerPosition=K;class D extends p.PureComponent{constructor(e){super(e),this.panelTitleRef=(e=>{e&&(this.panelTitle=o.findDOMNode(e))}),this.hasPushedScrollStateSnapshot=!1,this.pickerHeight=0,this.onPickerSizeChange=((e,t,i)=>{this.pickerHeight=t,this.onPickerChanged()}),this.stopPropagation=(e=>e.stopPropagation()),this.toggleShowingStyles=(e=>{if(_.stylesPicker(this.props))this.props.dispatch(c.fullscreen.hidePicker());else{const e=this.panelTitle.getBoundingClientRect(),t=e.left+(e.width-_.STYLES_PICKER_WIDTH)/2,i=e.top+e.height;this.props.dispatch(c.fullscreen.showPicker({id:_.stylesPickerId(this.props.inheritStyleKeyField),initialX:t,initialY:i,modal:!0})),h.segment.track("Style Picker Opened",{styleType:this.props.styleType})}}),this.detachStyle=(()=>{this.props.dispatch(a.tooltip.hide()),m.Fullscreen.applyStyleToSelection(this.props.inheritStyleKeyField,"","",!0),h.segment.track("Style Detached",{styleType:this.props.styleType})}),this.createStyle=(()=>{if(!this.props.isEmpty&&!this.props.hasMixedProperties){const e=Object.keys(this.props.sceneGraphSelection)[0]||null;e&&this.props.dispatch(n.fileBrowser.showModal({type:M.CREATE_STYLE,data:{type:this.props.styleType,nodeId:e,inheritStyleKeyField:this.props.inheritStyleKeyField}}))}}),this.onApplyStyle=(e=>{this.props.dispatch(r.applyStyle({style:e,inheritStyleKeyField:this.props.inheritStyleKeyField}))}),this.titleClicked=(e=>{e.currentTarget===e.target&&this.props.isEmpty&&(this.props.pickerShown||this.props.dropdownShown||!this.props.addProperty||this.props.addProperty())}),this.editMasterStyle=(()=>{const e=_.getMasterStyle(this.props);e&&(m.Fullscreen.selectStyle(e.key,e.content_hash||""),h.segment.track("Style Inspected",{styleType:e.style_type,from:"propertyPanelIcon"}))}),this.state={pickerInitialPosition:K(e.pickerShown)}}restoreScrollContainer(){this.hasPushedScrollStateSnapshot&&(this.props.scrollContainer&&this.props.scrollContainer.popStateSnapshot(),this.hasPushedScrollStateSnapshot=!1)}componentWillUnmount(){this.restoreScrollContainer()}UNSAFE_componentWillReceiveProps(e){if(_.stylesPicker(e)){let t;const i=this.panelTitle.getBoundingClientRect(),s=i.top+i.height;e.pickerShown&&e.pickerShown.modal&&s!==e.pickerShown.initialY&&(t=new S.Vector(e.pickerShown.initialX,s)),t||e.pickerShown===this.props.pickerShown||((t=K(e.pickerShown)).y=s),t&&!this.state.pickerInitialPosition.equals(t)&&this.setState({pickerInitialPosition:t})}}componentDidUpdate(e,t){e.pickerShown&&e.pickerShown.id===_.stylesPickerId(this.props.inheritStyleKeyField)&&(!this.props.pickerShown||this.props.pickerShown.id!==e.pickerShown.id||e.pickerShown.modal&&!this.props.pickerShown.modal)&&this.restoreScrollContainer()}onPickerChanged(){const e=this.props.scrollContainer;if(!(_.stylesPicker(this.props)&&this.props.pickerShown&&this.props.pickerShown.modal&&e))return;const i=e.getScrollHeight()-e.getBottomSpace(),s=e.getTrackHeight(),o=e.getScrollTop(),p=e.getScrollContent().getBoundingClientRect().top,l=this.panelTitle.getBoundingClientRect(),r=s+o-(l.top+l.height-p+this.pickerHeight+t.pickerMinBottomMargin);if(this.hasPushedScrollStateSnapshot||(e.pushStateSnapshot(),this.hasPushedScrollStateSnapshot=!0),r>=0)return;const n=o-r,a=Math.max(0,-(i-s-n));e.setBottomSpace(a),r<0&&e.scrollTo(n)}render(){const e=_.getMasterStyle(this.props);let i,o;this.props.inheritStyleKey===d.MIXED?(i=I.MIXED_STYLE_CONSUMER,o=this.props.addProperty):e?i=I.STYLE_CONSUMER:(i=I.CUSTOM_OR_MIXED_PROPERTIES,o=this.props.addProperty);const l=_.stylesPicker(this.props),r=i===I.STYLE_CONSUMER&&!this.props.hasMixedProperties,n=!(this.props.isEmpty||this.props.hasMixedProperties||this.props.hasMissingFont);return s.createElement("div",null,s.createElement(u.Row,{ref:this.panelTitleRef,className:this.props.isEmpty?f.panelEmptyTitleRow:f.panelTitleRow,onMouseDown:this.titleClicked},s.createElement(u.PanelTitle,{className:r?f.panelStyleTitle:f.panelTitle},r?s.createElement(B,{recordingKey:p.joinKeys(this.props,"titleButton"),style:e,inheritStyleKeyField:this.props.inheritStyleKeyField,collapse:!0,onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation,selected:!!l,isNarrow:!!this.props.removeAllProperties,fileKey:this.props.fileKey,dispatch:this.props.dispatch}):s.createElement(E.RecordableDiv,{recordingKey:p.joinKeys(this.props,"panelTitle"),className:f.panelTitleText,onMouseDown:this.titleClicked},this.props.title)),s.createElement("span",{className:f.titleButtons},(i===I.STYLE_CONSUMER||i===I.MIXED_STYLE_CONSUMER)&&s.createElement(k.IconButton,{className:`${f.showOnTitleHover} ${f.titleButton}`,recordingKey:p.joinKeys(this.props,"detachButton"),svg:N,"data-tooltip-text":"Detach style",onMouseDown:this.detachStyle,onClick:this.stopPropagation}),i===I.STYLE_CONSUMER&&this.props.removeAllProperties&&s.createElement(k.IconButton,{className:f.titleButton,recordingKey:p.joinKeys(this.props,"removeAllButton"),svg:v,fallbackSvg:R,onClick:this.props.removeAllProperties,onMouseDown:this.stopPropagation}),!(i===I.STYLE_CONSUMER||i===I.MIXED_STYLE_CONSUMER)&&s.createElement(k.IconButton,{className:`${this.props.isEmpty&&l?"":f.fadeOutOnTitleUnhover} ${f.titleButton}`,selected:!!l,svg:O,fallbackSvg:b,"data-onboarding-key":this.props.stylesButtonDataTag,recordingKey:p.joinKeys(this.props,"showStylesButton"),onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation}),!(i===I.STYLE_CONSUMER)&&!!o&&s.createElement(k.IconButton,{className:f.titleButton,recordingKey:p.joinKeys(this.props,"addButton"),svg:w,fallbackSvg:C,onClick:o,onMouseDown:this.stopPropagation}))),(i===I.MIXED_STYLE_CONSUMER||i===I.STYLE_CONSUMER&&this.props.hasMixedProperties)&&s.createElement(u.Row,{key:"label"},s.createElement(u.LabelInactive,{className:f.panelMixedMessage},"Unlink from styles to customize mixed contents.")),s.createElement(T.FadeOutTransition,{sceneGraphSelection:this.props.sceneGraphSelection},l&&s.createElement(_.StylePicker,Object.assign({picker:l,onSizeChange:this.onPickerSizeChange},_.extractStylePickerBaseProps(this.props),{initialPosition:this.state.pickerInitialPosition,minBottomMargin:t.pickerMinBottomMargin,onApplyStyle:this.onApplyStyle,onCreateStyle:n?this.createStyle:void 0,onEditStyle:i===I.STYLE_CONSUMER?this.editMasterStyle:void 0,styleType:this.props.styleType,teams:this.props.teams,recordingKey:"stylePicker"}))),i===I.CUSTOM_OR_MIXED_PROPERTIES&&this.props.children)}}t.CollapsibleStyleAndPropertyPanel=D,D.displayName="CollapsibleStyleAndPropertyPanel";class B extends p.PureComponent{constructor(){super(...arguments),this.generateThumbnail=y.debounce(()=>{if(this.props.style.file_key===this.props.fileKey){const e=this.props.style;this.props.dispatch(l.libraryThumbnail.generateLocalStyleThumbnail({styleNodeId:e.node_id}))}},200),this.onClick=p.mouseEvent(this,"click",this.props.onClick)}componentDidMount(){this.generateThumbnail()}UNSAFE_componentWillReceiveProps(){this.generateThumbnail()}render(){let e=this.props.selected?f.selectedCollapsedPanelPreviewTitle:f.collapsedPanelPreviewTitle;return this.props.isNarrow&&(e=`${e} ${f.narrowCollapsedPanelPreviewTitle}`),s.createElement("div",{className:e,onClick:this.onClick,onMouseDown:this.props.onMouseDown},s.createElement("div",{className:f.collapsedPanelPreviewIcon},s.createElement(P.StyleIcon,{style:this.props.style,maskIconForStroke:"inheritFillStyleKeyForStroke"===this.props.inheritStyleKeyField})),s.createElement("div",{className:f.styleTitleName,"data-tooltip-content-key":this.props.style.description?g.TooltipView.STYLE_INFO:"","data-tooltip-style-description":this.props.style.description},this.props.style.name))}}B.displayName="StyleTitle"}),
(function(e,t,n){e.exports={singleRowHeight:"type_panel--singleRowHeight--5Ki0S",doubleRowHeight:"type_panel--doubleRowHeight--3FGRs",input:"type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",border:"type_panel--border--gkRIW",borderFocusWithin:"type_panel--borderFocusWithin--7waG-",iconInsideBorderFocusWithin:"type_panel--iconInsideBorderFocusWithin--r7CJM",rowSelectedSecondary:"type_panel--rowSelectedSecondary--aU86X type_panel--rowSelected--3hRGL",selectHiddenInput:"type_panel--selectHiddenInput--3fbi6",iconButton:"type_panel--iconButton--Ho6QZ",borderFocus:"type_panel--borderFocus--1odIK",multiValueInput:"type_panel--multiValueInput--2ES1O type_panel--borderFocusWithin--7waG-",base:"type_panel--base--3ocTm",label:"type_panel--label--39JMi type_panel--base--3ocTm",labelInactive:"type_panel--labelInactive--22xs7 type_panel--label--39JMi type_panel--base--3ocTm",textInput:"type_panel--textInput--1dU-B type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",textAreaInput:"type_panel--textAreaInput--OMOtc type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",noLeftBorder:"type_panel--noLeftBorder--1GL-e",squareRightBorder:"type_panel--squareRightBorder--VlbL9",_iconButton:"type_panel--_iconButton--1atxX",iconButtonEnabled:"type_panel--iconButtonEnabled--37s8J type_panel--_iconButton--1atxX",iconButtonDisabled:"type_panel--iconButtonDisabled--1D6xO type_panel--_iconButton--1atxX",iconButtonSelected:"type_panel--iconButtonSelected--3vZnq type_panel--_iconButton--1atxX",chitCenter:"type_panel--chitCenter--2kEl9",outlineButton:"type_panel--outlineButton--2h4mB",modalPanel:"type_panel--modalPanel--2bSRQ",panel:"type_panel--panel--20rz-",_row:"type_panel--_row--1F4Ev",singleRow:"type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",doubleRow:"type_panel--doubleRow--3akHu type_panel--doubleRowHeight--3FGRs type_panel--_row--1F4Ev",labelRow:"type_panel--labelRow--2TBi1 type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",rowSelected:"type_panel--rowSelected--3hRGL",panelTitle:"type_panel--panelTitle--2cw53",panelTitleExtended:"type_panel--panelTitleExtended--1c8Nv type_panel--panelTitle--2cw53",panelTitleWithTip:"type_panel--panelTitleWithTip--3Z0p0 type_panel--panelTitle--2cw53",panelTitleWithTipText:"type_panel--panelTitleWithTipText--1ESrV",panelTitleWithTipIcon:"type_panel--panelTitleWithTipIcon--19rWi",panelTitleFaded:"type_panel--panelTitleFaded--fXnjG type_panel--panelTitle--2cw53",flushLeft:"type_panel--flushLeft--1p_Ew",name:"type_panel--name--TU-Gi",missingFontIcon:"type_panel--missingFontIcon--2KR7C",visible:"type_panel--visible--27ciK",styleDropdownClassName:"type_panel--styleDropdownClassName--1nu04",style:"type_panel--style--1gYfX",size:"type_panel--size--2fsRA",sizeDropdown:"type_panel--sizeDropdown--31lgB",smallInputContainer:"type_panel--smallInputContainer--1bY0z raw_components--borderFocusWithin--3IG2Z",smallInput:"type_panel--smallInput--3YlX3 raw_components--flushLeft--2dWma",icon:"type_panel--icon--2w5oZ raw_components--iconInsideBorderFocusWithin--Ry1th",twoCol:"type_panel--twoCol--Fj7rw",link:"type_panel--link--24c8D blue_link--blueLink--22X56",fontRow:"type_panel--fontRow--StsD3",textAlignHorizontalControl:"type_panel--textAlignHorizontalControl--1u_s4",textAlignVerticalControl:"type_panel--textAlignVerticalControl--2ExDp",textResizeControl:"type_panel--textResizeControl--WwnGk",spacer:"type_panel--spacer--20Iia",missingFontIconText:"type_panel--missingFontIconText--2SXja"}}),
(function(e,l,a){e.exports={insertDivider:"draggable_list--insertDivider--td483",disabledView:"draggable_list--disabledView--zrOXO",removeButton:"draggable_list--removeButton--3zc4c",stylesButton:"draggable_list--stylesButton--2nB0f",addButton:"draggable_list--addButton--30aI8",panelTitle:"draggable_list--panelTitle--gr5yM",panelHeaderRowFaded:"draggable_list--panelHeaderRowFaded--JlLHP",panelTitleText:"draggable_list--panelTitleText--1q89R",label:"draggable_list--label--izgTc",multiLineLabel:"draggable_list--multiLineLabel--NAE3k"}}),
(function(o,t,i){o.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 3c0 .828-.672 1.5-1.5 1.5C1.172 4.5.5 3.828.5 3c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm6 0c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM14 4.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.5C3 3.328 2.328 4 1.5 4 .672 4 0 3.328 0 2.5 0 1.672.672 1 1.5 1 2.328 1 3 1.672 3 2.5zm6 0C9 3.328 8.328 4 7.5 4 6.672 4 6 3.328 6 2.5 6 1.672 6.672 1 7.5 1 8.328 1 9 1.672 9 2.5zM13.5 4c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm0 13H0v-1h14v1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M3.548 11l2.8-8h1.304l2.8 8h-.954l-.7-2H5.202l-.7 2h-.954zM7 3.862L8.448 8H5.552L7 3.862z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,v,o){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm-7 .793l2.354 2.353-.708.708L7.5 3.707v4.586l1.146-1.147.708.708L7 10.207 4.646 7.854l.708-.708L6.5 8.293V3.707L5.354 4.854l-.708-.708L7 1.793zM14 11v1H0v-1h14zm0 4v1H0v-1h14z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,v,t){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 1H0V0h13v1zm-6.5.793l.354.353 2 2-.708.708L7 3.707v4.586l1.146-1.147.708.708-2 2-.354.353-.354-.353-2-2 .708-.708L6 8.293V3.707L4.854 4.854l-.708-.708 2-2 .354-.353zM13 11v1H0v-1h13zm0 4v1H0v-1h13z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,h,l){v.exports={src:'<svg width="22" height="18" viewBox="0 0 22 18" xmlns="http://www.w3.org/2000/svg"><path d="M4.354.646l-.708.708L5.293 3H0v1h5.293L3.646 5.646l.708.708L7.207 3.5 4.354.646zM18 3H9v1h9V3zm0 4H4v1h14V7zm0 4H4v1h14v-1zm0 4H4v1h14v-1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="12" viewBox="0 0 16 12" xmlns="http://www.w3.org/2000/svg"><path d="M0 12V0h1v12H0zm15 0V0h1v12h-1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M4.548 10l2.8-8h1.304l2.8 8h-.954l-.7-2H6.202l-.7 2h-.954zM8 2.862L9.448 7H6.552L8 2.862z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM8.354 3.646L8 3.293l-.354.353-3 3 .708.708L7.5 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM7.854 3.646L7.5 3.293l-.354.353-3 3 .708.708L7 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,v){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.207l.354-.353 2-2-.708-.708L8.5 4.293V0h-1v4.293L6.354 3.146l-.708.708 2 2L8 6.207zm0 3.586l.354.353 2 2-.708.708L8.5 11.707V16h-1v-4.293l-1.146 1.147-.708-.708 2-2L8 9.793zM1 8.5h14v-1H1v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 5.707l.354-.353 2-2-.708-.708L8 3.793V.5H7v3.293L5.854 2.646l-.708.708 2 2 .354.353zm0 3.586l.354.353 2 2-.708.708L8 11.207V14.5H7v-3.293l-1.146 1.147-.708-.708 2-2 .354-.353zM1 8h13V7H1v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8.354 12.354L8 12.707l-.354-.353-3-3 .708-.708L7.5 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.854 12.354l-.354.353-.354-.353-3-3 .708-.708L7 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),n=s(7,1        ),o=s(216              ),r=s(172              ),a=s(146                                          ),l=s(166                      ),p=s(388                             ),h=s(110          ),g=s(722                         ),c=s(106                                     ),u=s(138                                   ),d=s(408                       ),m=s(412                        ),f=s(174                        ),y=s(744                                  ),S=s(743                                                              ),x=s(751                                                                  ),v=s(600                                                                        ),_=s(598                                                                  ),F=s(753                                                                              ),w=s(730                                                        ),N=s(784                                                                      ),b=s(791                                                                  ),C=s(816                                                                                                ),A=s(136                            ),E=s(817               ),P=s(818                                   ),H=s(85                   ),I=s(534                                                    ),L=s(660                             ),R=s(698                                     ),z=s(118                             ),T=H.getFeatureFlags().font_picker_v1,K=s(819                                              ),V=s(820                                                ),k=s(821                                                     ),M=s(822                                                           ),O=s(823                                                             ),D=s(824                                                          ),j=s(825                                                  ),W=s(759                                                         ),G=s(760                                                            ),B=s(761                                                          ),U=s(826                                                        ),X=s(827                                                          ),Y=s(828                                                            ),$=s(829                                                              ),q=s(830                                                           ),J=s(831                                                             ),Q=s(750                                                  ),Z=s(763                                                           ),ee=s(764                                                            ),te=s(766                                                               ),se=s(767                                                              ),ie=s(769                                                                 );class ne extends F.SegmentedControl{}class oe extends F.Segment{}let re=!1;class ae extends i.PureComponent{constructor(){super(...arguments),this.versionsForStyles={},this.stopPropagation=(e=>e.stopPropagation()),this.onMouseDown=(e=>{a.fullscreen.deselectProperty(),(this.shownSettings()||x.pickerShown(this.props))&&e.stopPropagation()}),this.alignmentRowRef=i.createRef(),this.paragraphRowRef=i.createRef(),this.shownSettings=(()=>this.props.pickerShown&&this.props.pickerShown.id===z.TYPE_PANEL_ID?this.props.pickerShown:null),this.toggleSettings=(e=>{if(this.shownSettings())this.props.dispatch(u.fullscreen.hidePicker());else if(e){const t=m.pickerPositionLeftOf(n.findDOMNode(e));this.props.dispatch(u.fullscreen.showPicker({id:z.TYPE_PANEL_ID,initialX:t.x,initialY:t.y}))}}),this.toggleSettingsFromAlignmentRow=(()=>this.toggleSettings(this.alignmentRowRef.current)),this.toggleSettingsFromParagraphRow=(()=>this.toggleSettings(this.paragraphRowRef.current)),this.onFontFamilyChange=(e=>{this.filterFontChangeWithMigration({fontFamily:e})}),this.onFontStyleChange=(e=>{this.filterFontChangeWithMigration({fontStyle:e})}),this.onChangeParagraphSpacing=((e,t)=>{a.fullscreen.updateSelectionProperties({paragraphSpacing:e},t)}),this.onChangeParagraphIndent=((e,t)=>{a.fullscreen.updateSelectionProperties({paragraphIndent:e},t)}),this.onAutoResizeChange=(e=>a.fullscreen.updateSelectionProperties({textAutoResize:e})),this.renderCustomControls=(e=>{const t=p.getValue(this.props.missingFont,!1),s=H.getFeatureFlags().auto_layout_text&&!e;return i.createElement("div",null,i.createElement(v.Row,null,T&&i.createElement(x.FontBrowser,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,fonts:this.props.fonts,userFavoriteFonts:this.props.userFavoriteFonts,versionsForStyles:this.versionsForStyles,fontFamily:this.props.fontFamily,orgById:this.props.orgById,teams:this.props.teams,fontStyle:this.props.fontStyle,className:E.name}),!T&&i.createElement(he,{userFlags:this.props.userFlags,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,fontFamily:this.props.fontFamily,id:"font-family-combo-box",onChange:this.onFontFamilyChange,showGoogleFonts:this.props.showGoogleFonts,recordingKey:r.joinKeys(this.props,"fontFamily")})),i.createElement(v.Row,null,i.createElement(ue,{id:"font-style-select",fontFamily:this.props.fontFamily,fontStyle:this.props.fontStyle,onChange:this.onFontStyleChange,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,showGoogleFonts:this.props.showGoogleFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,userFlags:this.props.userFlags,recordingKey:r.joinKeys(this.props,"fontStyle")}),i.createElement(fe,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,fontSize:this.props.fontSize,lineHeightInContext:g.getLineHeightInContext(this.props),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:t,recordingKey:r.joinKeys(this.props,"fontSize")})),i.createElement(v.Row,{className:E.twoCol},i.createElement(xe,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,textUserLayoutVersion:this.props.textUserLayoutVersion,intrinsicLineHeight:this.props.intrinsicLineHeight,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,disabled:t,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"lineHeight"),userCreatedAt:this.props.userCreatedAt}),i.createElement(ve,{smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,letterSpacing:this.props.letterSpacing,disabled:t,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"letterSpacing")})),i.createElement(v.Row,{className:E.twoCol,ref:this.paragraphRowRef},this.renderParagraphSpacing(t),s&&this.renderTextResize(t),!H.getFeatureFlags().auto_layout_text&&this.renderParagraphIndent(t),e&&i.createElement(_.IconButton,{svg:K,fallbackSvg:V,onClick:this.toggleSettingsFromParagraphRow,onMouseDown:this.stopPropagation,recordingKey:r.joinKeys(this.props,"settings"),className:E.iconButton,selected:!!this.shownSettings()})))}),this.renderAlignmentControls=(e=>{const t=p.getValue(this.props.missingFont,!1);return i.createElement(v.Row,{className:E.twoCol,ref:this.alignmentRowRef,"data-onboarding-key":"type-panel-alignment-row"},i.createElement(Ne,{textAlignHorizontal:this.props.textAlignHorizontal,disabled:t,recordingKey:r.joinKeys(this.props,"textAlignHorizontal")}),i.createElement(Ae,{textAlignVertical:this.props.textAlignVertical,disabled:t,recordingKey:r.joinKeys(this.props,"textAlignVertical")}),e&&i.createElement(_.IconButton,{svg:K,fallbackSvg:V,onClick:this.toggleSettingsFromAlignmentRow,onMouseDown:this.stopPropagation,recordingKey:r.joinKeys(this.props,"settings"),className:E.iconButton,selected:!!this.shownSettings(),"data-onboarding-key":"type-panel-settings"}))}),this.renderAdvancedTypePicker=(e=>{const t=this.shownSettings();if(!t)return null;const s=!!p.getValue(this.props.missingFont,!1);return i.createElement(N.TypeSettings,{picker:t,fontVariantDiscretionaryLigatures:this.props.fontVariantDiscretionaryLigatures,fontVariantHistoricalLigatures:this.props.fontVariantHistoricalLigatures,fontVariantNumericFigure:this.props.fontVariantNumericFigure,fontVariantNumericSpacing:this.props.fontVariantNumericSpacing,fontVariantNumericFraction:this.props.fontVariantNumericFraction,fontVariantCaps:this.props.fontVariantCaps,fontVariantPosition:this.props.fontVariantPosition,openTypeFeatures:this.props.openTypeFeatures,shouldDirectlyWriteOTFeatures:this.props.shouldDirectlyWriteOTFeatures,textCase:this.props.textCase,textDecoration:this.props.textDecoration,textAutoResize:this.props.textAutoResize,textAlignHorizontal:this.props.textAlignHorizontal,paragraphIndent:this.props.paragraphIndent,showGoogleFonts:this.props.showGoogleFonts,editModeType:this.props.editModeType,textUserLayoutVersion:this.props.textUserLayoutVersion,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:s,isStyleConsumer:e,selectedStyleProperties:this.props.selectedStyleProperties,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:r.joinKeys(this.props,"typeSettings")})})}updateVersionsForStyles(e){this.versionsForStyles=d.getVersionsForStyles(e.fonts)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.showGoogleFonts===this.props.showGoogleFonts||this.updateVersionsForStyles(e)}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}filterFontChangeWithMigration(e){const t=g.getLineHeightInContext(this.props);if(t&&p.notMixed(t.lineHeight)){const s=Se(t,t.lineHeight);s!==t.lineHeight&&(e.lineHeight=s)}a.fullscreen.updateSelectionProperties(e)}renderParagraphSpacing(e){return i.createElement(y.ScrubbablePositivePixelInput,{"data-tooltip-text":"Paragraph Spacing",onValueChange:this.onChangeParagraphSpacing,value:this.props.paragraphSpacing,inputClassName:E.smallInput,className:E.smallInputContainer,dispatch:this.props.dispatch,disabled:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:r.joinKeys(this.props,"paragraphSpacing")},i.createElement(I.SvgWithFallback,{svg:M,fallbackSvg:O,className:E.icon}))}renderParagraphIndent(e){return i.createElement(y.ScrubbablePositivePixelInput,{"data-tooltip-text":"Paragraph Indentation",onValueChange:this.onChangeParagraphIndent,value:this.props.paragraphIndent,inputClassName:E.smallInput,className:E.smallInputContainer,dispatch:this.props.dispatch,disabled:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:r.joinKeys(this.props,"paragraphIndent")},i.createElement(f.Svg,{svg:D,className:E.icon}))}renderTextResize(e){return i.createElement(ne,{className:E.textResizeControl,property:this.props.textAutoResize,onChange:this.onAutoResizeChange,disabled:e,recordingKey:r.joinKeys(this.props,"autoResize")},i.createElement(oe,{svg:te,fallbackSvg:ie,value:"WIDTH_AND_HEIGHT",tooltip:"Auto Width"}),i.createElement(oe,{svg:ee,fallbackSvg:se,value:"HEIGHT",tooltip:"Auto Height"}),i.createElement(oe,{svg:Z,value:"NONE",tooltip:"Fixed Size"}))}render(){const e=!(p.notMixed(this.props.fontFamily)&&p.notMixed(this.props.fontStyle)&&p.notMixed(this.props.lineHeight)&&p.notMixed(this.props.letterSpacing)&&p.notMixed(this.props.paragraphIndent)&&p.notMixed(this.props.paragraphSpacing)),t=p.getValue(this.props.missingFont,!0),s=b.extractStylePickerBaseProps(Object.assign(Object.assign({},this.props),{styleType:"TEXT",inheritStyleKeyField:"inheritTextStyleKey",hasMixedProperties:e,hasMissingFont:t})),n=this.props.inheritStyleKey===p.MIXED||!!b.getMasterStyle(s);if(b.hasSelectedStyle(this.props.selectedStyleProperties)){const e=b.getSelectedStyle(s),t=e&&e.file_key===this.props.fileKey;return i.createElement(v.Panel,{className:t?"":P.disabledView},i.createElement(v.Row,null,i.createElement(v.PanelTitle,null,"Properties")),this.renderCustomControls(!0),this.renderAdvancedTypePicker(n))}return i.createElement(v.Panel,{onMouseDown:this.onMouseDown},i.createElement(C.CollapsibleStyleAndPropertyPanel,Object.assign({},s,{showListLayout:!0,addProperty:null,removeAllProperties:null,isEmpty:!1,recordingKey:this.props.recordingKey,stylesButtonDataTag:"text-styles",title:"Text"}),this.renderCustomControls(!1)),!H.getFeatureFlags().auto_layout_text&&i.createElement("div",{className:E.spacer}),this.renderAlignmentControls(!0),this.renderAdvancedTypePicker(n),i.createElement("div",{className:E.spacer}))}}t.TypePanel=ae,ae.displayName="TypePanel";class le extends S.ComboBox{}class pe extends w.Option{}class he extends i.PureComponent{constructor(){super(...arguments),this.sortedFamilies=[],this.formatter={format:e=>e,parse:(e,t)=>{if(e in this.props.fonts&&Object.keys(this.props.fonts[e]).length>0)return e;throw new Error("Invalid family")},increment:(e,t,s)=>{const i=this.sortedFamilies.indexOf(e);return t?this.sortedFamilies[Math.min(i+1,this.sortedFamilies.length-1)]:this.sortedFamilies[Math.max(i-1,0)]},autocomplete:e=>{e=e.toLowerCase();for(let t of this.sortedFamilies)if(t&&t.toLowerCase().startsWith(e))return t;return null},isEqual:(e,t)=>e===t},this.onMouseDown=(()=>{o.supportsFontDaemon()&&(this.props.userFlags.completed_font_installer_modal||re||(re=!0,o.checkForFontDaemon().catch(()=>{this.props.dispatch(c.fileBrowser.showModal({type:A.FONT_INSTALLER_MODAL}))})))})}updateSortedFamilies(e){this.sortedFamilies=[];for(const t in e.fonts){if(0===Object.keys(e.versionsForStyles[t]||{}).length)continue;const s=Object.keys(e.fonts[t]).some(s=>e.fonts[t][s].source===L.FontSource.GOOGLE);"Roboto"!==t&&s&&!e.showGoogleFonts||this.sortedFamilies.push(t)}this.sortedFamilies.sort((e,t)=>{const s=e.startsWith("."),i=t.startsWith(".");return s&&!i?1:!s&&i?-1:e.localeCompare(t)})}UNSAFE_componentWillMount(){this.updateSortedFamilies(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.versionsForStyles===this.props.versionsForStyles&&e.showGoogleFonts===this.props.showGoogleFonts&&p.getValueOrNull(e.fontFamily)===p.getValueOrNull(this.props.fontFamily)||this.updateSortedFamilies(e)}render(){const e=[],t=p.getValueOrNull(this.props.fontFamily);!t||t in this.props.versionsForStyles||(e.push(i.createElement(pe,{key:"current-font",value:t,disabled:!0,recordingKey:r.joinKeys(this.props,t)})),e.push(i.createElement(w.SelectDivider,{key:"current-font-divider"})));for(const n of this.sortedFamilies)e.push(i.createElement(pe,{key:`font-name-${n}`,value:n,recordingKey:r.joinKeys(this.props,n)},i.createElement("div",{className:E.fontRow},i.createElement("span",null,n))));const s=t&&(!this.props.fonts[t]||0===Object.keys(this.props.fonts[t]).length);return i.createElement(le,{id:this.props.id,formatter:this.formatter,className:E.name,property:this.props.fontFamily,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:this.onMouseDown,recordingKey:this.props.recordingKey,svg:s?Q:void 0,svgClassName:E.missingFontIconText},e)}}t.FontFamily=he,he.displayName="FontFamily";class ge extends w.Select{}class ce extends w.Option{}class ue extends i.PureComponent{constructor(){super(...arguments),this.getSortedStyles=h.memoizeLast((e,t,s)=>{const i=p.getValueOrNull(e);if(!(i&&i in s))return[];const n=s[i]||{};return Object.keys(n).map(e=>{const s=t[i][n[e]].styles[e];return{name:e,stretch:s.stretch,weight:s.weight,italic:s.italic}}).sort((e,t)=>!e.italic&&t.italic?-1:e.italic&&!t.italic?1:e.stretch<t.stretch?-1:e.stretch>t.stretch?1:e.weight<t.weight?-1:e.weight>t.weight?1:e.name<t.name?-1:e.name>t.name?1:0)}),this.showWidthDividers=h.memoizeLast(e=>{const t=new Map;for(const s of e){const e=(s.italic?1:-1)*s.stretch;t.has(e)||t.set(e,0),t.set(e,t.get(e)+1)}return Math.min(...Array.from(t.values()))>=2}),this.formatter={format:e=>e},this.renderOption=((e,t)=>i.createElement(ce,{key:`font-style-${e}`,value:e,recordingKey:r.joinKeys(t,e)})),this.isStyleMissing=(()=>{if(this.props.fontStyle===p.MIXED||this.props.fontFamily===p.MIXED)return!1;const e=p.getValueOrNull(this.props.fontFamily);if(null==e)return!0;const t=this.props.versionsForStyles[e];if(null==t)return!0;const s=p.getValueOrNull(this.props.fontStyle);return!(s&&s in t)})}render(){const e=this.getSortedStyles(this.props.fontFamily,this.props.fonts,this.props.versionsForStyles),t=this.showWidthDividers(e),s=(e,s)=>null!==e&&(e.italic!=s.italic||t&&e.stretch!=s.stretch);let n=[],o=null;for(const[r,l]of e.entries())s(o,l)&&n.push(i.createElement(w.SelectDivider,{key:r})),n.push(this.renderOption(l.name,this.props)),o=l;let a=0===n.length||1===n.length&&!this.isStyleMissing();return i.createElement(ge,{id:this.props.id,formatter:this.formatter,className:E.style,dropdownClassName:E.styleDropdownClassName,property:this.props.fontStyle,onChange:this.props.onChange,dispatch:this.props.dispatch,disabled:a,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select"),svg:this.isStyleMissing()?Q:void 0,svgClassName:E.missingFontIconText},n)}}t.FontStyle=ue,ue.displayName="FontStyle";class de extends w.Option{}const me=[9,10,11,12,13,14,18,24,36,48,64,72,96,144,288];class fe extends i.PureComponent{constructor(){super(...arguments),this.onChangeFontSize=((e,t)=>{const s={fontSize:e};if(this.props.lineHeightInContext&&p.notMixed(this.props.lineHeightInContext.lineHeight)){const e=Se(this.props.lineHeightInContext,this.props.lineHeightInContext.lineHeight);e!==this.props.lineHeightInContext.lineHeight&&(s.lineHeight=e)}a.fullscreen.updateSelectionProperties(s,t)}),this.renderFontSizeOptions=h.memoizeLast(()=>me.map(e=>i.createElement(de,{key:`font-size-${e}`,value:e,recordingKey:r.joinKeys(this.props,`${e}`)},e)))}render(){return i.createElement(y.ScrubbablePixelComboBox,{id:"font-size-combo-box",className:E.size,dropdownClassName:E.sizeDropdown,onValueChange:this.onChangeFontSize,value:this.props.fontSize,dropdownShown:this.props.dropdownShown,min:1,dispatch:this.props.dispatch,disabled:this.props.disabled,recordingKey:this.props.recordingKey,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount},this.renderFontSizeOptions())}}fe.displayName="FontSize";class ye{constructor(e,t,s){this.lineHeightInContext=e,this.smallPixelNudgeAmount=t,this.bigPixelNudgeAmount=s,this.defaultValue={value:100,units:"PERCENT"},this.initialLineHeightInContext=e}parse(e,t){if(""===(e=e.trim().toLowerCase())&&void 0!==this.defaultValue)return this.defaultValue;if("%"===e){if(null==t||"PIXELS"===t.units||100===t.value&&"PERCENT"===t.units){const e=g.fontSizeMultipleOfLineHeight(this.lineHeightInContext);if(null==e)throw new Error("insufficient information to parse input");return{value:e,units:"RAW"}}return this.defaultValue}if("auto"===e||"auto%"===e)return this.defaultValue;if("px"===e||"px%"===e){const e=g.pixelsOfLineHeight(this.lineHeightInContext);if(null==e)throw new Error("single equivalent PIXELS value is undefined");return{value:e,units:"PIXELS"}}const s=R.PixelPercentageFormatter.parse(e);if(void 0===s)throw new Error("could not parse input");const[i,n]=s;switch(n){case"PIXELS":return{value:i,units:n};case void 0:return{value:i,units:"PIXELS"};case"RAW":case"PERCENT":return{value:i/100,units:"RAW"}}}defaultSelection(e){const t=/[0-9\.]+/.exec(e);return null!=t?{start:t.index,end:t.index+t[0].length}:{start:0,end:e.length}}format(e){return null==e||e.value!=e.value||null==this.initialLineHeightInContext?"":g.stringOfLineHeight(this.initialLineHeightInContext.withLineHeight(e))}nudgeAmountForUnit(e,t){switch(e){case"PIXELS":return t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount;case"RAW":return t?.1:.01;case"PERCENT":const{intrinsicLineHeight:s,fontSize:i}=this.lineHeightInContext,n=p.getValueOrNull(s);return null!=n&&p.notMixed(i)?100*(t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount)/(n*i):t?this.bigPixelNudgeAmount:this.smallPixelNudgeAmount}}increment(e,t,s){const i=this.nudgeAmountForUnit(e.units,s);return{value:t?e.value-i:e.value+i,units:e.units}}clamp(e){let t=e.value;return{value:t=Math.max(t,0),units:e.units}}}function Se(e,t){if(null==t||"PERCENT"!==t.units||g.isAutoLineHeight(t))return t;const s=g.fontSizeMultipleOfLineHeight(e.withLineHeight(t));return null==s?t:{value:s,units:"RAW"}}class xe extends i.Component{constructor(){super(...arguments),this.getLineHeightFormatter=h.memoizeLast((e,t,s)=>new ye(e,t,s)),this.getOnValueChange=h.memoizeLast(e=>(t,s)=>{s===l.ShouldCommit.YES&&null!=e&&(t=Se(e,t)),a.fullscreen.updateSelectionProperties({lineHeight:t},s)}),this.getScrubMultipliers=h.memoizeLast(e=>{var t;const s=p.getValueOrNull(null===(t=e)||void 0===t?void 0:t.intrinsicLineHeight);return{PERCENT:null==s?1:s,RAW:100}})}render(){const e=g.getLineHeightInContext(this.props),t=e&&g.pixelsOfLineHeight(e),s=!(!e||!g.isAutoLineHeight(e.lineHeight)),n=e&&this.getLineHeightFormatter(e,this.props.smallNudgeAmount,this.props.bigNudgeAmount);return i.createElement(y.ScrubbableFigNumberInput,{"data-tooltip-text":"Line Height",value:this.props.lineHeight,onValueChange:this.getOnValueChange(e),disabled:this.props.disabled,inputClassName:E.smallInput,className:E.smallInputContainer,recordingKey:this.props.recordingKey,min:0,formatter:n||void 0,shouldClearOnFocus:s,placeholder:s?null==t?"Mixed":parseFloat(t.toFixed(1)).toString():void 0,multipliers:e&&this.getScrubMultipliers(e)||void 0,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,dispatch:this.props.dispatch},i.createElement(f.Svg,{svg:k,className:E.icon}))}}xe.displayName="LineHeight";class ve extends i.PureComponent{constructor(){super(...arguments),this.onChangeLetterSpacing=((e,t)=>{a.fullscreen.updateSelectionProperties({letterSpacing:e},t)})}render(){return i.createElement(y.ScrubbableFigNumberInput,{"data-tooltip-text":"Letter Spacing",value:this.props.letterSpacing,onValueChange:this.onChangeLetterSpacing,disabled:this.props.disabled,inputClassName:E.smallInput,className:E.smallInputContainer,recordingKey:this.props.recordingKey,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,dispatch:this.props.dispatch},i.createElement(f.Svg,{svg:j,className:E.icon}))}}var _e;ve.displayName="LetterSpacing",function(e){e.LEFT="text-align-left",e.CENTER="text-align-center",e.RIGHT="text-align-right",e.JUSTIFIED="text-align-justified"}(_e=t.TextAlignHorizontalAction||(t.TextAlignHorizontalAction={}));class Fe extends F.SegmentedControl{}t.TextAlignHorizontalControl=Fe;class we extends F.Segment{}t.TextAlignHorizontalSegment=we;class Ne extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{a.fullscreen.triggerAction(_e[e],{source:"panel"})})}render(){const e=[i.createElement(we,{svg:W,value:"LEFT",tooltipAction:_e.LEFT,key:"text-align-horizontal-segment-left"}),i.createElement(we,{svg:G,value:"CENTER",tooltipAction:_e.CENTER,key:"text-align-horizontal-segment-center"}),i.createElement(we,{svg:B,value:"RIGHT",tooltipAction:_e.RIGHT,key:"text-align-horizontal-segment-right"})];return i.createElement(Fe,{property:this.props.textAlignHorizontal,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:E.textAlignHorizontalControl},e)}}Ne.displayName="TextAlignHorizontal";class be extends F.SegmentedControl{}class Ce extends F.Segment{}class Ae extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>a.fullscreen.updateSelectionProperties({textAlignVertical:e}))}render(){return i.createElement(be,{property:this.props.textAlignVertical,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:E.textAlignVerticalControl},i.createElement(Ce,{svg:U,fallbackSvg:X,value:"TOP",tooltip:"Align Top"}),i.createElement(Ce,{svg:Y,fallbackSvg:$,value:"CENTER",tooltip:"Align Middle"}),i.createElement(Ce,{svg:q,fallbackSvg:J,value:"BOTTOM",tooltip:"Align Bottom"}))}}Ae.displayName="TextAlignVertical"}),
(function(o,n,t){o.exports={container:"missing_fonts_modal--container--2DaF1",message:"missing_fonts_modal--message--YgBr5",fontRow:"missing_fonts_modal--fontRow--1zEr2",replacementsContainer:"missing_fonts_modal--replacementsContainer--z9Kni",headerLabel:"missing_fonts_modal--headerLabel--3VYf3",left:"missing_fonts_modal--left--efElp",right:"missing_fonts_modal--right--1nZUj",buttonRow:"missing_fonts_modal--buttonRow--1UfFc",leftButton:"missing_fonts_modal--leftButton--2EvAf",linkRow:"missing_fonts_modal--linkRow--QHMhR missing_fonts_modal--buttonRow--1UfFc",link:"missing_fonts_modal--link--jOr3X blue_link--blueLink--22X56",title:"missing_fonts_modal--title--1wSnP",otherOptionsContainer:"missing_fonts_modal--otherOptionsContainer--mmfyR missing_fonts_modal--container--2DaF1",otherOptionsHeader:"missing_fonts_modal--otherOptionsHeader--1NHk2",otherOptionsRow:"missing_fonts_modal--otherOptionsRow--2cGa0",otherOptionsButton:"missing_fonts_modal--otherOptionsButton--3xDue",otherOptionsDescription:"missing_fonts_modal--otherOptionsDescription--14hNY"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),n=t(106                                     ),i=t(340              ),a=t(216              ),r=t(145         ),l=t(146                                          ),p=t(218                                   ),c=t(408                       ),m=t(600                                                                        ),h=t(832                                                                ),d=t(366                                                    ),g=t(224                                            ),f=t(411                                        ),F=t(111                        ),y=t(126          ),u=t(833                        ),S=t(147                       ),_=t(121              ),w=t(229                                 ),b=i.pxToInt(f.missingFontsModal),v=i.pxToInt(f.rightNavWidth),O=i.pxToInt(f.toolbarHeight),N=12;function E(e){return`${e.family}\t${e.style}\t${e.version}`}s.MISSING_FONTS_MODAL="MISSING_FONTS_MODAL",w.registerModal(s.MISSING_FONTS_MODAL,e=>o.createElement(C,Object.assign({fonts:e.fonts,missingFonts:e.modalShown.data.missingFonts,showGoogleFonts:e.mirror.appModel.showGoogleFonts,dispatch:e.dispatch,dropdownShown:e.dropdownShown,userFlags:e.userFlags,currentOrgId:e.currentOrgId},F.getPermissionsState(e),{editingFileKey:e.editingFileKey})));class C extends o.PureComponent{constructor(e){super(e),this.versionsForStyles={},this.onClose=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.onFontFamilyChange=((e,s)=>{const t=Object.assign({},this.state.replacements),o=this.props.missingFonts[e];let n=null;for(let i of Object.keys(this.props.fonts[s])){const e=this.props.fonts[s][i].styles,t=o.style;if(e.hasOwnProperty(t)&&this.versionsForStyles[s][t]===i){n={style:t,version:i};break}}if(!n){const e=Object.keys(this.versionsForStyles[s])[0];n={style:e,version:this.versionsForStyles[s][e]}}t[E(o)]={oldName:o,newName:Object.assign(Object.assign({},n),{family:s})},this.setState({replacements:t})}),this.onFontStyleChange=((e,s)=>{const t=Object.assign({},this.state.replacements),o=this.props.missingFonts[e],n=t[E(o)],i=n?n.newName.family:o.family,a=this.versionsForStyles[i][s];t[E(o)]={oldName:o,newName:{family:i,style:s,version:a}},this.setState({replacements:t})}),this.onApply=(()=>{const e=this.state.replacements;for(let s in e)l.fullscreen.DEPRECATED_sendMessage("replaceFontInSelection",{replacements:[{replace:e[s].oldName,with:e[s].newName}]}),l.fullscreen.commit();l.fullscreen.resetMissingFonts(),this.onClose()}),this.getOrgSharedFontsUrl=(()=>{let e=null;if(this.props.currentOrgId){if(!F.canAdminOrg(this.props.currentOrgId,this.props))return null;e=this.props.currentOrgId}else for(const s in this.props.orgById)F.canAdminOrg(s,this.props)&&(e=s);return e?`/files/${e}/recent?${_.encode({orgDashboardTab:"fonts"})}`:null}),this.getTeamSharedFontsUrl=(()=>{let e=null;if(this.props.editingFileKey){const s=this.props.fileByKey[this.props.editingFileKey];s.team_id&&this.props.teams[s.team_id]&&this.props.teams[s.team_id].org_id&&(e=s.team_id)}if(e){if(!F.canAdminTeam(e,this.props))return null}else for(const t in this.props.teams)F.canAdminTeam(t,this.props)&&this.props.teams[t].org_id&&(e=t);const s={teamPreferencesModalTab:S.LibraryPreferencesModalTab.FONTS};return e?`/files/team/${e}?${_.encode(s)}`:null}),this.onOpenFontSettings=(()=>{a.openFontSettings(),this.onClose()}),this.onSharedFontsClick=(()=>{y.segmentTrackEvent("shared_fonts_upload_from_missing_fonts")}),this.title=o.createElement("div",{className:u.title},"Missing Fonts"),this.initialPosition=new r.Vector(window.innerWidth-v-b-N,O+N),this.state={replacements:Object.create(null)}}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts!==this.props.fonts&&this.updateVersionsForStyles(e)}updateVersionsForStyles(e){this.versionsForStyles=c.getVersionsForStyles(e.fonts)}render(){const e=this.getOrgSharedFontsUrl()||this.getTeamSharedFontsUrl(),s=this.getOrgSharedFontsUrl()?"Allow your organization to share a font":"Allow your team to share a font",t=a.supportsFontDaemon()&&!p.hasLocalFonts(),n=e||t;return o.createElement(d.DraggableModal,{initialPosition:this.initialPosition,title:this.title,headerSize:"small",onClose:this.onClose},o.createElement("div",{className:u.container},o.createElement("div",{className:u.message},"The following fonts are not available, and need to be replaced in order to edit text."),o.createElement("div",{className:u.fontRow},o.createElement(m.LabelInactive,{className:u.headerLabel},"Family"),o.createElement(m.LabelInactive,{className:u.headerLabel},"Style")),o.createElement("div",{className:u.replacementsContainer},this.props.missingFonts.map((e,s)=>{const t=this.state.replacements[E(e)],n=t?t.newName:e;return o.createElement("div",{className:u.fontRow,key:s},o.createElement("div",{className:u.left},o.createElement(h.FontFamily,{id:`missing-font-name-${s}`,onChange:this.onFontFamilyChange.bind(this,s),fonts:this.props.fonts,fontFamily:n.family,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:this.props.showGoogleFonts,userFlags:this.props.userFlags})),o.createElement("div",{className:u.right},o.createElement(h.FontStyle,{id:`missing-font-style-${s}`,onChange:this.onFontStyleChange.bind(this,s),fonts:this.props.fonts,fontFamily:n.family,fontStyle:n.style,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:this.props.showGoogleFonts,userFlags:this.props.userFlags})))})),o.createElement("div",{className:u.buttonRow},o.createElement(g.ButtonSecondary,{onClick:this.onClose},"Cancel"),o.createElement(g.ButtonPrimary,{disabled:0==Object.keys(this.state.replacements).length,onClick:this.onApply},"Replace Fonts"))),n&&o.createElement("div",{className:u.otherOptionsContainer},o.createElement(m.LabelInactive,{className:u.otherOptionsHeader},"Other options"),t&&o.createElement("div",{className:u.otherOptionsRow},o.createElement(g.ButtonSecondary,{className:u.otherOptionsButton,onClick:this.onOpenFontSettings},"Install Font Helper"),o.createElement("div",{className:u.otherOptionsDescription},"Allow Figma to access your local fonts")),e&&o.createElement("div",{className:u.otherOptionsRow},o.createElement(g.ButtonSecondaryLink,{href:e,className:u.otherOptionsButton,target:"_blank",onClick:this.onSharedFontsClick},"Upload a Shared Font"),o.createElement("div",{className:u.otherOptionsDescription},s))))}}s.MissingFontsModal=C,C.displayName="MissingFontsModal"}),
(function(o,i,t){o.exports={modal:"savepoint_modal--modal--1Slt-",inputDescription:"savepoint_modal--inputDescription--18qIa",title:"savepoint_modal--title--3CKhA",inputLabel:"savepoint_modal--inputLabel--20-sL",buttonRow:"savepoint_modal--buttonRow--1uc6O",goHistoryLink:"savepoint_modal--goHistoryLink--3CoAt",goHistoryLinkDisabled:"savepoint_modal--goHistoryLinkDisabled--3bChd savepoint_modal--goHistoryLink--3CoAt",cancelLink:"savepoint_modal--cancelLink--1hwgc",confirmButton:"savepoint_modal--confirmButton--riNiU"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),o=i(7,1        ),n=i(138                                   ),a=i(106                                     ),r=i(188                             ),l=i(172              ),p=i(224                                            ),d=i(212      ),c=i(227                                 ),h=i(493                                                ),m=i(225                                  ),u=i(835                                                   ),b=i(126          ),f=i(229                                 ),v=i(660                             );t.parseSavepointDescription=function(e){var t;const i=e.trim(),s=null===(t=i.match(/[^\r?\n]\r?\n/))||void 0===t?void 0:t.index;if(null!=s){const e=s+1;return[i.slice(0,e).trim(),i.slice(e).trim()]}return[i.trim(),""]},t.formatLabelAndDescription=function(e,t){if(e.length<t+1)return e;let i=e.indexOf("\n",t);if(i<0&&(i=e.indexOf("\r",t)),i>-1&&i<t)return e;let s=e.indexOf(" ",t);return s>0&&i>0?i=Math.min(s,i):s>0&&(i=s),i<t?e:e.slice(0,i)+"\n"+e.slice(i+1)},t.SAVEPOINT_MODAL="savepoint-modal",f.registerModal(t.SAVEPOINT_MODAL,e=>{const t=e.modalShown,i=e.fileByKey&&e.fileByKey[e.editingFileKey],o=t.data&&t.data.description||"",n=t.data&&t.data.label||"",a=t.data&&t.data.savepointID;return s.createElement(g,{recordingKey:"savepointModal",file:i,isHistoryMode:e.mirror.appModel.topLevelMode===v.TopLevelMode.HISTORY,editingSavepointID:a,label:n,description:o,dispatch:e.dispatch})});class g extends l.Component{constructor(e){super(e),this.onConfirmSavepointModal=((e,t)=>{if(this.props.editingSavepointID&&this.props.file){const i=this.props.file;this.props.dispatch(r.file.updateSavepoint({file:i,savepointID:this.props.editingSavepointID,label:e,description:t})),this.hideModal(),b.segment&&b.segment.track("History Version Edited Information",{savepointId:this.props.editingSavepointID})}else if(this.props.dispatch&&e&&e.length>0&&this.props.file){const i=this.props.file;this.props.dispatch(r.file.createSavepoint({file:i,label:e,description:t||""})),this.hideModal(),b.segment&&(this.props.isHistoryMode?b.segment.track("History Version Created from History Mode",{savepointId:this.props.editingSavepointID}):b.segment.track("History Version Created from Keyboard Shortcut",{savepointId:this.props.editingSavepointID}))}this.clearSavedInputs()}),this.onKeyDownMulti=(e=>{switch(e.keyCode){case d.Key.ENTER:(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),this.hideModal(),this.onConfirmSavepointModal(this.state.label,this.state.description))}}),this.onSubmit=l.submitEvent(this,"submit",e=>{e.preventDefault(),this.onConfirmSavepointModal(this.state.label,this.state.description)}),this.onCancel=(()=>{this.clearSavedInputs(),this.hideModal()}),this.saveHistoryInputs=(()=>{g.keepSavepointModalInput=!0,g.savedLabelInput=this.state.label,g.savedDescriptionInput=this.state.description}),this.clearSavedInputs=(()=>{g.keepSavepointModalInput=!1,g.savedLabelInput="",g.savedDescriptionInput=""}),this.focusRef=(e=>{e&&o.findDOMNode(e).focus()}),this.onLabelChange=(e=>{const t=e.target.value;this.setState({label:t})}),this.onLabelBlur=(e=>{this.onLabelChange(e)}),this.onDescriptionChange=(e=>{const t=e.target.value;this.setState({description:t})}),this.onDescriptionBlur=(e=>{this.onDescriptionChange(e)}),this.goHistoryMode=(()=>{this.props.isHistoryMode||(this.props.dispatch(n.fullscreen.enterVersionHistoryMode()),this.saveHistoryInputs(),this.hideModal())}),this.state={label:"",description:"",disableConfirm:!0}}setLabelAndDescriptionFromProps(e){this.state.label.length<1&&this.state.description.length<1&&(g.keepSavepointModalInput?this.setState({label:g.savedLabelInput,description:g.savedDescriptionInput}):this.setState({label:this.props.label,description:this.props.description}))}componentDidMount(){this.setLabelAndDescriptionFromProps(this.props)}UNSAFE_componentWillReceiveProps(e){this.setLabelAndDescriptionFromProps(e)}hideModal(){this.props.dispatch(a.fileBrowser.hideModal())}render(){let e=this.state.disableConfirm;this.state.label&&this.state.label.length>0&&(e=!1);let t=(this.props.editingSavepointID,"Save"),i=this.props.editingSavepointID?"Edit Version Information":"Add to Version History";const o=this.props.isHistoryMode?u.goHistoryLinkDisabled:u.goHistoryLink;return s.createElement(c.Modal,Object.assign({size:"small"},this.props,{className:u.modal}),s.createElement("div",{className:u.title},i),s.createElement(m.TabLoop,{startTabIndex:1,endTabIndex:4},s.createElement("form",{onSubmit:this.onSubmit},s.createElement(h.TextInput,{className:u.inputLabel,type:"input",name:"label",value:this.state.label,placeholder:"Title",onChange:this.onLabelChange,onBlur:this.onLabelBlur,onKeyDown:this.onKeyDownMulti,tabIndex:1,autoFocus:!0,recordingKey:l.joinKeys(this.props,"title")}),s.createElement(h.TextInput,{className:u.inputDescription,type:"textarea",name:"description",value:this.state.description,placeholder:"Describe what changed",onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,onKeyDown:this.onKeyDownMulti,tabIndex:2,recordingKey:l.joinKeys(this.props,"description")}),s.createElement("div",{className:u.buttonRow},s.createElement("div",{className:o,onClick:this.goHistoryMode},"Show Full Version History"),s.createElement(p.ButtonSecondary,{type:"button",className:u.cancelLink,onClick:this.onCancel,tabIndex:4},"Cancel"),s.createElement(p.ButtonPrimary,{type:"submit",className:u.confirmButton,disabled:e,tabIndex:3},t)))))}}g.displayName="SavepointModal",g.keepSavepointModalInput=!1,g.savedLabelInput="",g.savedDescriptionInput=""}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(86      ),r=o(3,1    ),n=o(106                                     ),s=o(163                               ),i=o(227                                 ),l=o(224                                            ),m=o(228          ),c=o(229                    );t.MEMORY_WARNING_MODAL="memory-warning-modal",c.registerModal(t.MEMORY_WARNING_MODAL,e=>r.createElement(p,Object.assign({warning:e.modalShown.data},e)));class p extends r.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(n.fileBrowser.hideModal())})}render(){if(this.props.warning===s.MemoryWarningType.CRASH){const e=a.mac?"option":"alt";return r.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),r.createElement("div",{className:m.title},"You ran out of memory!"),r.createElement("div",{className:m.modalContent},"The editor has run out of memory. It's not safe to continue editing as data may not be saved. Please reload the page to continue working.",r.createElement("br",null)," ",r.createElement("br",null),"If you run into this multiple times, try reverting to an earlier version by ",e,'+shift+right-clicking on the file in the file browser and selecting "Restore from version".',r.createElement("br",null)," ",r.createElement("br",null),"For other troubleshooting tips, please visit the ",r.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360040528173"},"Help Center"),"."))}const e=r.createElement("p",null,"This file is getting pretty big and could run out of memory soon! Please save your work and contact Figma support for more details."),t=r.createElement("p",null,"This file is almost out of memory! You might encounter problems. Please save your work and contact Figma support for more details.");return r.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),r.createElement("div",{className:m.title},"You're about to run out of memory!"),r.createElement("div",{className:m.modalContent},this.props.warning===s.MemoryWarningType.CONCERNING&&e,this.props.warning===s.MemoryWarningType.DANGEROUS&&t),r.createElement("div",{className:m.buttonRow},r.createElement(l.ButtonPrimary,{className:m.confirmButton,onClick:this.hide},"Continue")))}}p.displayName="MemoryWarningModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),o=t(106                                     ),l=t(224                                            ),r=t(227                                 ),i=t(228          ),c=t(229                    );a.MULTIPLAYER_CONNECTION_ERROR_MODAL="multiplayer-connection-error-modal",c.registerModal(a.MULTIPLAYER_CONNECTION_ERROR_MODAL,e=>s.createElement(m,Object.assign({},e)));const m=e=>{const a=e.modalShown.data;return s.createElement(r.Modal,Object.assign({size:"small",className:i.modal},e),s.createElement("div",{className:i.title},a.title),s.createElement("div",{className:i.modalContent},a.message),s.createElement("div",{className:i.buttonRow},s.createElement(l.ButtonPrimary,{className:i.confirmButton,onClick:()=>{e.dispatch(o.fileBrowser.hideModal())}},"Dismiss")))}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),o=a(228          ),l=a(138                                   ),i=a(106                                     ),r=a(115          ),n=a(227                                 ),c=a(224                                            ),d=a(229                    ),m=a(111                        );class p extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){return s.createElement(n.Modal,{size:"medium",className:o.modal,dispatch:this.props.dispatch},s.createElement("div",{className:o.title},this.props.name," Integration Enabled"),s.createElement("div",{className:o.welcome},s.createElement("div",null,s.createElement("img",{src:this.props.logo,alt:`${this.props.name} logo`})),s.createElement("div",null,"The ",this.props.name," integration allows you to export selected frames to ",this.props.name,". To begin, select some frames, then select the Export option from the File menu, then navigate to the ",this.props.name," tab.","Zeplin"===this.props.name&&s.createElement("div",null,s.createElement("br",null),s.createElement("br",null),"Important: ",s.createElement("span",{className:o.important},"the integration will only work if you have the Zeplin app installed on this machine.")))),s.createElement("div",{className:o.buttonRow},s.createElement(c.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}p.displayName="IntegrationWelcomeModal",t.ZEPLIN_WELCOME_MODAL="ZEPIN_WELCOME_MODAL",t.AVOCODE_WELCOME_MODAL="AVOCODE_WELCOME_MODAL",t.DRIBBBLE_EXPORT_MODAL="DRIBBBLE_EXPORT_MODAL",d.registerModal(t.ZEPLIN_WELCOME_MODAL,e=>s.createElement(h,Object.assign({},e))),d.registerModal(t.AVOCODE_WELCOME_MODAL,e=>s.createElement(b,Object.assign({},e))),d.registerModal(t.DRIBBBLE_EXPORT_MODAL,e=>{const t=e.modalShown;return s.createElement(E,Object.assign({fileKey:t.data.fileKey,nodeId:t.data.nodeId,isCopyExportRestricted:m.isCopyExportRestricted(t.data.fileKey,e)},e))});const h=e=>s.createElement(p,{name:"Zeplin",logo:"https://static.figma.com/uploads/684356a5d74511a659f32717ddeeb19ce2fe8bbb",dispatch:e.dispatch}),b=e=>s.createElement(p,{name:"Avocode",logo:"https://static.figma.com/uploads/722f98cf7d9bf21a8f97691db6164d2f2adf3c96",dispatch:e.dispatch});class E extends s.PureComponent{constructor(){super(...arguments),this.exportToDribbble=(()=>{this.props.isCopyExportRestricted||(this.props.dispatch(l.fullscreen.trackEvent({name:"Exported to Dribbble"})),r.unsafeRedirect("https://www.dribbble.com/shots/new?figma_file_id="+this.props.fileKey+"&figma_node_id="+this.props.nodeId,"_blank"))}),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.nodeSelected=this.props.fileKey&&this.props.nodeId}render(){return s.createElement(n.Modal,{size:"medium",className:o.modal,dispatch:this.props.dispatch},s.createElement("div",{className:o.title},this.nodeSelected&&s.createElement("div",null,"Frame is selected"),!this.nodeSelected&&s.createElement("div",null,"No single frame selected")),s.createElement("div",{className:o.welcome},s.createElement("div",null,s.createElement("img",{src:"https://static.figma.com/uploads/8b27b0920253020e66ed03b0949b263fb37abd2e",alt:"Dribbble logo"})),s.createElement("div",null,!this.nodeSelected&&s.createElement("span",{className:o.important}," To post a shot to Dribbble, select a single frame in the file and navigate back to this menu."),this.nodeSelected&&s.createElement("span",{className:o.important}," To share the current selection as a new shot on Dribbble, click the button below."),s.createElement("br",null),s.createElement("br",null),"The Dribbble integration allows you to export selected frames to Dribbble as a new shot.")),s.createElement("div",{className:o.buttonRow},this.nodeSelected&&s.createElement(c.ButtonPrimary,{onClick:this.exportToDribbble},"Export Selection"),!this.nodeSelected&&s.createElement(c.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}E.displayName="DribbbleExportModal"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3,1    );class r extends i.PureComponent{constructor(){super(...arguments),this.textContainerRef=i.createRef(),this.getFittingText=(()=>{if(!this.textContainerRef.current)return null;const e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:n}=this.props,i=document.createElement("p");if(i.className=this.props.className||"",i.setAttribute("style","\n      display: inline;\n      white-space: nowrap;\n    "),e.appendChild(i),i.innerText=n,i.getBoundingClientRect().width<=t)return e.removeChild(i),n;let r="";for(let s=0;s<n.length;s+=2){const o=`${n.slice(0,s/2)}...${n.slice(n.length-s/2)}`;i.innerText=o;const{width:c}=i.getBoundingClientRect();if(c>t)return e.removeChild(i),r;r=o}return e.removeChild(i),r})}componentDidMount(){this.forceUpdate()}render(){return i.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"}},i.createElement("p",{className:this.props.className},this.getFittingText()))}}t.CenterTruncatedText=r,r.displayName="CenterTruncatedText"}),
(function(e,n,a){e.exports={container:"rename_modal--container--34gt8",previewAndLinkContainer:"rename_modal--previewAndLinkContainer--U2H_l",previewContainer:"rename_modal--previewContainer--2Axma",sectionHeaderContainer:"rename_modal--sectionHeaderContainer--2FDsU",sectionHeader:"rename_modal--sectionHeader--2P9ZL",previewNameContainer:"rename_modal--previewNameContainer--YpfHE",previewName:"rename_modal--previewName--1p5oI",linkContainer:"rename_modal--linkContainer--xsDHA",link:"rename_modal--link--1uO56 blue_link--blueLink--22X56",_inputContainer:"rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainer:"rename_modal--sequenceInputContainer--2jwe4 rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainerDisabled:"rename_modal--sequenceInputContainerDisabled--2WRrE rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceLabel:"rename_modal--sequenceLabel--282zG",sequenceInput:"rename_modal--sequenceInput--17oq4",patternInputContainer:"rename_modal--patternInputContainer--2PM3m rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",patternInput:"rename_modal--patternInput--15ctM",patternButtonsContainer:"rename_modal--patternButtonsContainer--1_CBQ rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",numberButton:"rename_modal--numberButton--2UmLP",numberArrow:"rename_modal--numberArrow--2A3pk",form:"rename_modal--form--MRT4N",formInputs:"rename_modal--formInputs--311WA",formButtonsContainer:"rename_modal--formButtonsContainer--39U2D rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a"}}),
(function(e,i,n){e.exports={previewContainerWidth:"120px"}}),
(function(l,t,e){l.exports={src:'<svg width="7" height="8" viewBox="0 0 7 8" xmlns="http://www.w3.org/2000/svg"><path d="M.14 3.133L3.163.138c.186-.184.486-.184.672 0l3.025 2.995c.185.183.185.481 0 .665-.186.184-.487.184-.672 0L3.975 1.607V8h-.95V1.607L.81 3.798c-.185.184-.486.184-.672 0-.185-.184-.185-.482 0-.665z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="7" height="8" viewBox="0 0 7 8" xmlns="http://www.w3.org/2000/svg"><path d="M6.86 4.867L3.837 7.862c-.186.184-.486.184-.672 0L.139 4.867c-.185-.183-.185-.481 0-.665.186-.184.487-.184.672 0l2.214 2.191V0h.95v6.393L6.19 4.202c.185-.184.486-.184.672 0 .185.184.185.482 0 .665z" fill-rule="evenodd" fill-opacity="1" fill="#444" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),a=n(7,1        ),r=n(106                                     ),i=n(146                                          ),c=n(401                              ),l=n(388                             ),o=n(212      ),h=n(340              ),p=n(174                        ),u=n(363                                              ),m=n(744                                  ),d=n(224                                            ),g=n(840                                                            ),I=n(841                 ),P=n(842                                       ),S=n(229                                 ),E=n(843                                  ),f=n(844                                    ),b=h.pxToInt(P.previewContainerWidth);var N;!function(e){e[e.Match=0]="Match",e[e.NumberAscending=1]="NumberAscending",e[e.NumberDescending=2]="NumberDescending"}(N||(N={}));const R={[N.Match]:"$&",[N.NumberAscending]:"$nn",[N.NumberDescending]:"$NN"},v=/\$n+/,C=/\$N+/,_=1;function w(e,t){const n=`${e}`;return n.length>=t?n:new Array(t-n.length+1).join("0")+n}t.RENAME_MODAL="rename-modal",S.registerModal(t.RENAME_MODAL,e=>s.createElement(D,{guids:e.modalShown.data.guids.filter(t=>e.mirror.sceneGraph.get(t)),mirror:e.mirror,dispatch:e.dispatch}));class D extends s.PureComponent{constructor(e){super(e),this.guidSet=null,this.sortedGUIDs=[],this.shouldRefocusReplaceInput=!1,this.lastReplacePatternInputSelectionStart=0,this.lastReplacePatternInputSelectionEnd=0,this.replacePatternInputEl=null,this.replacePatternInputRef=(e=>{this.replacePatternInputEl=a.findDOMNode(e)}),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onKeyDown=(e=>{e.stopPropagation(),e.keyCode===o.Key.ESCAPE&&this.hideModal()}),this.onSubmit=(e=>{e&&e.preventDefault();const t=this.generateLayerNames();let n=!1;for(const s in t){const e=this.props.mirror.sceneGraph.get(s);e&&t[s]!==e.name&&(c.setName(s,t[s]),n=!0)}n&&i.fullscreen.commit(),this.hideModal()}),this.onMatchPatternChange=(e=>{this.setState({matchPattern:e.currentTarget.value})}),this.onMatchPatternFocus=(()=>{this.shouldRefocusReplaceInput=!1}),this.onReplacePatternChange=(e=>{this.shouldRefocusReplaceInput=!1;const t=e.currentTarget.value;this.setState({replacePattern:t,sequenceLabel:this.getSequenceLabel(t)})}),this.isUsingNumberPattern=(()=>v.test(this.state.replacePattern)||C.test(this.state.replacePattern)),this.getSequenceLabel=(e=>{return new RegExp(`^.*(?=.*${v.source})(?=.*${C.source}).*$`).test(e)?"Start sequence from":C.test(e)?"Stop descending at":v.test(e)?"Start ascending from":this.state.sequenceLabel}),this.onSequenceStartChange=(e=>{this.updateShouldRefocusReplaceInput(),this.setState({sequenceStart:l.getValueOrNull(e)})}),this.onPatternButtonClick=(e=>{const{replacePattern:t}=this.state,n=this.lastReplacePatternInputSelectionStart,s=this.lastReplacePatternInputSelectionEnd;this.lastReplacePatternInputSelectionStart+=R[e].length,this.lastReplacePatternInputSelectionEnd=this.lastReplacePatternInputSelectionStart;const a=`${t.slice(0,n)}${R[e]}${t.slice(Math.max(n,s),t.length)}`;this.setState({replacePattern:a,sequenceLabel:this.getSequenceLabel(a)})}),this.updateShouldRefocusReplaceInput=(()=>{this.shouldRefocusReplaceInput=document.activeElement===this.replacePatternInputEl}),this.setReplacePatternInputSelection=(()=>{this.replacePatternInputEl&&null!=this.replacePatternInputEl.selectionStart&&null!=this.replacePatternInputEl.selectionEnd&&(this.lastReplacePatternInputSelectionStart=this.replacePatternInputEl.selectionStart,this.lastReplacePatternInputSelectionEnd=this.replacePatternInputEl.selectionEnd)}),this.generateLayerNames=(()=>{const e=Number.isInteger(this.state.sequenceStart)?this.state.sequenceStart:_,t=this.sortedGUIDs.map(e=>{const t=this.props.mirror.sceneGraph.get(e);return t&&t.name}).filter(e=>e&&e.length),n=this.sortedGUIDs.map((n,s)=>{const a=s+e,r=e+this.sortedGUIDs.length-(s+1);let i;try{i=new RegExp(this.state.matchPattern||".*")}catch(l){if(!(l instanceof SyntaxError))throw l;i=this.state.matchPattern}const c=this.state.replacePattern.replace(new RegExp(v.source,"g"),e=>w(a,e.length-1)).replace(new RegExp(C.source,"g"),e=>w(r,e.length-1));return t[s].replace(i,c)}).map((e,n)=>e||t[n]);return this.sortedGUIDs.reduce((e,t,s)=>Object.assign(Object.assign({},e),{[t]:n[s]}),{})}),this.getPreviewNames=(()=>{const e=this.generateLayerNames(),t=(this.sortedGUIDs.length<=5?this.sortedGUIDs:[...this.sortedGUIDs.slice(0,4),this.sortedGUIDs[this.sortedGUIDs.length-1]]).map(t=>s.createElement(g.CenterTruncatedText,{className:I.previewName,key:t,text:e[t],maxWidth:b}));return this.sortedGUIDs.length>5?[...t.slice(0,4),s.createElement("p",{className:I.previewName,key:"..."},"..."),t[t.length-1]]:t}),this.guidSet=new Set(e.guids),this.sortGUIDs(),this.state={matchPattern:"",replacePattern:"",sequenceStart:_,sequenceLabel:"Start ascending from"}}componentDidMount(){const{replacePattern:e}=this.state;this.replacePatternInputEl&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(e.length,e.length))}UNSAFE_componentWillReceiveProps(e){const t=new Set(e.guids);var n,s;this.guidSet&&(n=this.guidSet,s=t,n.size!==s.size||(n.forEach(e=>{if(!s.has(e))return!1}),0))&&(this.guidSet=t,this.sortGUIDs())}componentDidUpdate(){this.shouldRefocusReplaceInput&&this.replacePatternInputEl&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(this.lastReplacePatternInputSelectionStart,this.lastReplacePatternInputSelectionEnd),this.shouldRefocusReplaceInput=!1)}sortGUIDs(){const e=this.props.mirror.appModel.currentPage&&this.props.mirror.sceneGraph.get(this.props.mirror.appModel.currentPage);if(e){const t=e.reversedChildren;for(this.sortedGUIDs=[];t.length;){const e=this.props.mirror.sceneGraph.get(t[0]);t.shift(),e&&(e.reversedChildren&&t.unshift(...e.reversedChildren),this.guidSet&&this.guidSet.has(e.guid)&&this.sortedGUIDs.push(e.guid))}}else this.sortedGUIDs=this.props.guids}render(){return s.createElement(u.HeaderModal,{title:`Rename ${this.sortedGUIDs.length} layers`,isCloseHidden:!1,maxWidth:492,fixedTop:!0,onClose:this.hideModal},s.createElement("div",{className:I.container},s.createElement("div",{className:I.previewAndLinkContainer},s.createElement("div",{className:I.previewContainer,onKeyDown:this.onKeyDown},s.createElement("div",{className:I.sectionHeader},"Preview"),s.createElement("div",{className:I.previewNameContainer},this.getPreviewNames()))),s.createElement("form",{className:I.form,onSubmit:this.onSubmit,onMouseDown:this.updateShouldRefocusReplaceInput},s.createElement("div",{className:I.formInputs},s.createElement("div",{className:I.patternInputContainer},s.createElement(d.TextInput,{className:I.patternInput,value:this.state.matchPattern,onFocus:this.onMatchPatternFocus,onChange:this.onMatchPatternChange,placeholder:"Match (optional)"})),s.createElement("div",{className:I.patternInputContainer},s.createElement(d.TextInput,{className:I.patternInput,value:this.state.replacePattern,onChange:this.onReplacePatternChange,onBlur:this.setReplacePatternInputSelection,placeholder:this.state.matchPattern?"Replace with":"Rename to",ref:this.replacePatternInputRef})),s.createElement("div",{className:I.patternButtonsContainer},s.createElement(d.ButtonSecondary,{type:"button",onClick:()=>{this.onPatternButtonClick(N.Match)}},this.state.matchPattern?"Current match":"Current name"),s.createElement(d.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(N.NumberAscending)}},"Number ",s.createElement(p.Svg,{className:I.numberArrow,svg:E})),s.createElement(d.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(N.NumberDescending)}},"Number ",s.createElement(p.Svg,{className:I.numberArrow,svg:f}))),s.createElement("div",{className:this.isUsingNumberPattern()?I.sequenceInputContainer:I.sequenceInputContainerDisabled},s.createElement("span",{className:I.sequenceLabel},this.state.sequenceLabel),s.createElement(m.ScrubbableIntInput,{className:I.sequenceInput,value:this.state.sequenceStart,onValueChange:this.onSequenceStartChange,disabled:!this.isUsingNumberPattern(),min:0,dispatch:this.props.dispatch}))),s.createElement("div",{className:I.formButtonsContainer},s.createElement(d.ButtonPrimary,{type:"submit"},"Rename"),s.createElement(d.ButtonSecondary,{type:"button",onClick:this.hideModal},"Cancel")))))}}D.displayName="RenameModal"}),
(function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))(function(n,a){function o(e){try{l(s.next(e))}catch(t){a(t)}}function r(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}l((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=i(200         ),a=i(172              ),o=i(153       ),r=i(143                ),l=i(115          ),c=i(114           ),d=i(203                ),h=i(216              ),p=i(193           ),u=i(124     ),m=i(199           ),g=i(126          ),_=i(117              ),f=i(195                ),y=i(198            ),w=i(85                   ),b=i(196               ),S=i(130                                              ),v=i(94                                   ),F=i(519               ),E=i(136                            ),T=i(202                              ),I=i(688                                   ),C=i(401                              ),k=i(597                                        ),P=i(401                              ),R=i(215                           ),A=i(214                              ),D=i(163                               ),M=i(218                                   ),L=(i(218                                   ),i(580                                       )),O=i(584                                       ),N=i(112                      ),B=i(689                    ),x=i(691                                 ),U=i(111                        ),K=i(660                             ),H=i(155                       ),V=i(692                                           ),W=i(685                                                ),$=i(693                                          ),z=i(401                              ),G=i(687                                     ),Y=i(165                                     ),j=i(438                                 ),q=i(131                                        ),X=i(161                                                  ),Q=i(189                                        ),Z=i(420                                          ),J=i(694                                     ),ee=i(106                                     ),te=i(135                                         ),ie=i(252                                    ),se=i(138                                   ),ne=i(188                             ),ae=i(231                                              ),oe=i(141                ),re=i(417                               ),le=i(167                                  ),ce=i(154                                      ),de=i(96                     ),he=i(422                          ),pe=i(166                      ),ue=i(147                       ),me=i(162                            ),ge=i(332                         ),_e=i(136                            ),fe=i(361                                           ),ye=i(700                                                          ),we=i(702                                                                       ),be=i(704                                                                                               ),Se=i(706                                           ),ve=i(589                          ),Fe=i(163        ),Ee=i(163        ),Te=i(707                                                                           ),Ie=i(201              ),Ce=i(146                   ),ke=i(708             ),Pe=i(709       ),Re=i(711         ),Ae=i(712                       ),De=(i(127             ),i(119              )),Me=i(677                                        ),Le=i(160       ),Oe=i(718                                                                   ),Ne=i(719                               ),Be=i(387                                        ),xe=i(721                         ),Ue=i(834                                                                              ),Ke=i(836                                               ),He=i(837                                   ),Ve=i(838                                                 ),We=i(839                                      ),$e=i(845                                              ),ze=i(118                             ),Ge=i(192                            );t.interVersion="3.10";const Ye=x.createUrlCache();let je,qe=!1;t.setHyperlinkClickHandlerForTests=function(e){je=e},t.initializeFullscreenBindings=((e,t)=>(qe||(qe=!0,Ce.setFullscreenBindings(new Qe(e,t)),window.App={triggerAction(e){switch(e){case"dump-pending-registers":Ce.fullscreen.triggerAction(e);break;default:console.error(`The action ${e} is disabled in release builds.`)}}},window.addEventListener("focus",()=>{Ce.fullscreen.isReady()&&Ee.Fullscreen.onWindowFocus()}),window.prompt=((e,t)=>{let i="";return i="An error occurred. Please contact support. Sorry for the inconvenience.",alert(i),i})),Ce.fullscreen)),t.initializeFullscreenBindingsForTests=(e=>{Ce.setFullscreenBindings(new Qe(null,e))});let Xe=void 0;class Qe{constructor(e,t){this.events=new d.EventEmitter("fullscreen"),this.EXIF=Pe.EXIF,this.ImageIO=Re.ImageIO,this._fullscreenOpenTimingStart=0,this._isDesktopAppRunning=!1,this._readyStartTime=0,this._fullscreenIsReady=!1,this.fileArrayToString=null,this.isReady=(()=>this._fullscreenIsReady),this._readyPromiseResolve=null,this._readyPromise=new Promise((e,t)=>{this.isReady()?e():this._readyPromiseResolve=e}),this.resetLoadedFile=(()=>{this._fileLoadPromise=new Promise(e=>{this._fileLoadPromiseResolve=e})}),this._osxMessageListener=null,this.imagePasteManager=new V.ImagePasteManager,this.onFrame=(()=>{this.isReady()&&D.Fullscreen.onFrame()}),this.loadAndStartFullscreenIfNecessary=b.mergeAndRetry(()=>s(this,void 0,void 0,function*(){this._readyStartTime=window.performance&&performance.now(),Qe.startFetchingFontList(),Qe.startFetchingInterfaceFont(),f.canOpenUrlInDesktopApp(location.href).then(e=>{this._isDesktopAppRunning=e,e&&we.OpenDesktopAppModal.shouldShowOnce()&&this._store.dispatch(se.fullscreen.showOpenDesktopAppModal(he.OpenDesktopAppModalMode.FOR_OPEN))}),R.isMacDebugApp?(yield this._webContextReadyPromise,this.DEPRECATED_sendMessage("debugMacAppIsStartingFullscreen"),document.body.parentElement.style.backgroundColor="transparent"):yield A.initializeFullscreen(),yield this.onReady()})),this._hasSelection=(()=>this._store&&this._store.getState().mirror&&this._store.getState().mirror.appModel&&!this._store.getState().mirror.appModel.selectionEmpty),this._currentThumbnail=(()=>this._store&&this._store.getState().fileByKey&&this._store.getState().fileByKey[this.editingFileKey()]&&this._store.getState().fileByKey[this.editingFileKey()].thumbnail_guid),this._isSelectedFrameCurrentThumbnail=(()=>this._currentThumbnail()===this._selectedFrameIds()[0]),this.handleSketchImportEvent=(e=>{if(this.hasUnsavedChanges())return!1;if(1!==e.dataTransfer.files.length)return!1;return!!e.dataTransfer.files.item(0).name.toLowerCase().endsWith(".sketch")&&(this.backToFiles(),this._store.dispatch(ie.fileImport.drop(e)),!0)}),this.updateSelectionProperties=((e,t=pe.ShouldCommit.YES,i=Fe.Overwrite.ALWAYS)=>{P.updateSelectionProperties(e,t,i)}),this.nullCurrentSelectedProperty={currentSelectedProperty:{type:Fe.SelectedPropertyType.NONE,indices:[]}},this.updateAppModel=(e=>{C.updateAppModel(e)}),this.onReady=(()=>this._readyPromise),this.openTimingStart=(()=>this._fullscreenOpenTimingStart),this.setOpenTimingStart=(e=>{this._fullscreenOpenTimingStart=e}),this.editingFileKey=(()=>this._state.editingFileKey),this.currentOrgId=(()=>this._state.currentOrgId||null),this.currentTeamId=(()=>{const{selectedView:e,folders:t}=this._state;return"team"===e.view?e.teamId:"folder"===e.view&&t[e.folderId]?t[e.folderId].team_id:null}),this.hasOpenFile=(()=>null!=this._state.editingFileKey),this.DEPRECATED_sendMessage=((e,t={},i=null)=>{if(this._webContext)return this._webContext.handleMessageFromWeb(e,t,i);console.error(`Trying to send a message to WebContext before it is initialized: ${e}`)}),this._dispatch=(e=>{if(!this._store)throw new Error("Trying to dispatch before we've been initialized");this._store.dispatch(e)}),this.triggerAction=((e,t)=>{if("enter-layout-mode"===e){const e=this._store.getState().selectedView;this._store.dispatch(ee.fileBrowser.selectView(Object.assign(Object.assign({},e),{versionId:null})))}if(null!=t&&"object"!=typeof t)throw new Error(`Invalid payload for action ${e}`);Ee.Fullscreen.triggerAction(e,t)}),this.commit=(()=>{this.triggerAction("commit")}),this.getViewportInfo=(()=>Ce.fullscreen.DEPRECATED_sendMessage("getViewportInfo").args.value),this._webContextReadyPromiseResolve=null,this._webContextReadyPromise=new Promise((e,t)=>{this._webContextReadyPromiseResolve=e}),this.registerWebContext=(e=>{this._webContext=e,this._webContextReadyPromiseResolve()}),this.session={user:null},this.jsWantsKeyboardEvent=(e=>fe.keyboardDispatcher.shouldInterceptKeyboardEvent(e)),this.jsWantsClipboardEvent=((e,t)=>fe.keyboardDispatcher.shouldInterceptClipboardEvent(e,t)),this.setCustomFocusElement=(e=>{fe.keyboardDispatcher.setCustomFocusElement(e)}),this.fromFullscreen=new d.EventEmitter("fromFullscreen"),this.getCurrentFileName=(()=>{let e=this._state,t=e.editingFileKey,i=e.fileByKey,s=t&&i&&i[t];return s&&s.name||"Untitled"}),this.isCopyExportRestricted=(()=>!this.testsDiv&&U.isCopyExportRestricted(this._state.editingFileKey,this._state)),this.hasReportedTouchStart=!1,this.dispatch=(e=>{this._dispatch(e)}),this.onShowImageScaledDownWarningInfoClick=(()=>{l.unsafeRedirect("https://help.figma.com/hc/en-us/articles/360040028034","_blank"),this._dispatch(S.visualBell.dequeue({}))}),this.onShowGIFConvertedAndScaledDownWarningInfoClick=(()=>{l.unsafeRedirect("https://help.figma.com/hc/en-us/articles/360040028034","_blank"),this._dispatch(S.visualBell.dequeue({}))}),this._viewportState="",this._debouncedPersistViewportState=c.debounce(()=>{const{selectedView:e}=this._store.getState();_.desktopApp&&"fullscreen"===e.view&&this._store.dispatch(ee.fileBrowser.selectView(Object.assign(Object.assign({},e),{viewport:this._viewportState})))},500),this.lastAutosaveReactionIndex=-1,this._exportingToZeplin=!1,this.hasUnsavedChanges=(()=>!(!this._state.saveStatus||!this._state.saveStatus.hasUnsavedChanges)),this.dispatchIfSaved=(e=>{if(!this.hasUnsavedChanges())return void this._dispatch(e);let t="The current document has unsaved changes. Figma will continue trying to save in the background. Please try again later.";!1===navigator.onLine&&(t="The current document has unsaved changes. Please connect to the internet so these changes can be saved, then try this again."),this._dispatch(ee.fileBrowser.showModal({type:E.LEAVE_UNSAVED_DOCUMENT_MODAL,data:{message:t}}))}),this.recordImages=((e,t,i)=>{this.imagePasteManager.allowDownloadForPastedImages(e,t,i)}),this.recordImagesWithoutRetry=((e,t,i)=>s(this,void 0,void 0,function*(){try{yield u.default.put(`/api/files/${t}`,{image_sha1s:i,image_origin_file_key:e})}catch(s){if(s.status>=400&&s.status<500&&B.reportImagePasteError(),this.isUnrecoverableImageError(s))return console.warn(`Deliberately ignoring failed attempt to record pasted images from ${t} with status ${s.status}`),!0;throw s}return!0})),this.uploadImageWithoutRetry=((e,t,i,n)=>s(this,void 0,void 0,function*(){let s;e||(e=yield this._fileLoadPromise);try{(s=yield u.default.post(`/api/upnode/image?purpose=canvas&sha1=${encodeURIComponent(i)}&fileKey=${encodeURIComponent(e)}`,n,{headers:{Accept:"application/json","X-Csrf-Bypass":"true","Content-Type":t},raw:!0})).data=JSON.parse(s.data)}catch(s){if(s.data=JSON.parse(s.data),this.isUnrecoverableImageError(s))return console.warn(`Deliberately ignoring failed attempt to upload image ${i} with response ${s.status}`),"";throw s}const a=s.data;if(!a||"object"!=typeof a||!a.meta||"string"!=typeof a.meta.url)throw new Error("Image upload response is missing a URL");return a.meta.url})),this.downloadImage=(e=>this.imagePasteManager.downloadImage(e)),this.panToNode=(e=>{this.DEPRECATED_sendMessage("panToNode",{nodeId:e})}),this.restoreComponent=(e=>{this.DEPRECATED_sendMessage("restoreComponent",{nodeId:e})}),this.forwardKeyboardEvent=(e=>{k.forwardKeyboardEvent(e)}),this.handleUpgradeRefresh=(()=>{l.locationReload("Multiplayer got handleUpgradeRefresh")}),this._writeFilesQueue=null,this.updateSaveStatus=(e=>{let t=e.labelHTML,i=e.tabCloseText,s=e.hasUnsavedChanges,n=new he.SaveStatus(t,i,s);this.hasUnsavedChanges()&&(this._store.getState().versionHistory.docHasChanged||this._dispatch(Q.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0}))),this._state.saveStatus&&n.equals(this._state.saveStatus)||this._dispatch(se.fullscreen.setSaveStatus(n))}),this.toggleMenu=(e=>{if(w.getFeatureFlags().quick_commands_floating_search)le.isFloatingSearchVisible(this._state.dropdownShown)?this._dispatch(ee.fileBrowser.hideDropdown()):this._dispatch(ee.fileBrowser.showDropdown({type:le.floatingSearchDropdownKey,hasOwnEscKeyHandler:!0}));else if(le.isFullscreenMenuVisible(this._state.dropdownShown))this._dispatch(ee.fileBrowser.hideDropdown());else{const t=this._state.mirror.appModel.showUi?42:0,i={top:0,right:t,bottom:t,left:0,width:t,height:t};this._dispatch(ee.fileBrowser.showDropdown({type:le.fullscreenMenuDropdownKey,data:{targetRect:i,togglePreferences:e===Ee.ToggleMenu.PREFERENCES},hasOwnEscKeyHandler:!0}))}}),this.getLatestPublishedVersionHashForComponent=((e,t)=>{const i=this._state.fileByKey[e],s=this._state.library.published.components;if(!i)return"";const n=s[i.team_id];return n&&n[i.key]&&n[i.key][t]&&!n[i.key][t].unpublished_at?n[i.key][t].content_hash:""}),this.hasCrashed=!1,this.setCommentsViewportInfo=(e=>{this._dispatch(j.comments.setViewportInfo({viewportInfo:e.value}))}),this.watchedNodeBoundsChange=(()=>{}),this.handleWatchedNodeBoundsChange=(()=>{this.watchedNodeBoundsChange()}),this.testsDiv=null,this._store=t,this.session.user=e,this.resetLoadedFile(),this.bindListeners(),this._osxMessageListener=new R.OSXWebContextListener(this.fromFullscreen),this.errorHandler=new r.ErrorHandler({sourceLanguage:r.SourceLanguage.CPP,executionContext:r.ExecutionContext.WEB_CLIENT}),this.fromFullscreen.on("console:initialize",()=>{Ce.fullscreenBindingsReady.then(()=>{this._osxMessageListener.initialize()})}),m.registerFrameCallback(this.onFrame)}reportOOM(e){B.reportOOM(e)}static startFetchingInterfaceFont(){const e=document.fonts;if(null==Qe.interfaceFontPromise&&e&&window.FontFace){const i=new window.FontFace("Inter",`url(https://static.figma.com/webfont/1/Inter-Regular.woff2?v=${t.interVersion}) format('woff2'), `+`url(https://static.figma.com/webfont/1/Inter-Regular.woff?v=${t.interVersion}) format('woff')`);e.add(i),i.load();const s=i.loaded;Qe.interfaceFontPromise=s}}static startFetchingFontList(){null==Qe.fontListPromise&&(Qe.fontListPromise=M.fetchFontList())}getFileThumbnailMenuItemName(){return this._isSelectedFrameCurrentThumbnail()||!this._hasSelection()?"reset-file-thumbnail":"set-file-thumbnail"}disableFileThumbnailMenu(){return this._hasSelection()&&1!==this._selectedFrameIds().length||!this._hasSelection()&&!this._currentThumbnail()}handleFileThumbnailMenuItem(){this._store.dispatch(ne.file.putThumbnailGuid({file_key:this.editingFileKey(),thumbnail_guid:this._currentThumbnail()?null:this._selectedFrameIds()[0]}))}getDesktopAppMenuItemName(){return this._isDesktopAppRunning?"open-in-desktop-app":"get-desktop-app"}handleDesktopAppMenuItem(e){if("open-in-desktop-app"===e){const e=new Promise(e=>{window.addEventListener("blur",function t(){window.removeEventListener("blur",t),e()})}),t=new Promise(e=>{setTimeout(e,3e3)});f.openUrlInDesktopApp(location.href).then(i=>{i?(be.OpenDesktopAppFromNowOnModal.shouldShowOnce()&&Promise.race([e,t]).then(()=>{we.OpenDesktopAppModal.disableAutoOpenIfUnset(),this._store.dispatch(se.fullscreen.showOpenDesktopAppModal(he.OpenDesktopAppModalMode.FOR_MENU))}),g.segment.track("desktop_links",{action:"opened_in_app",source:"menu"})):g.segment.track("desktop_links",{action:"open_in_app_rejected",source:"menu"})}).catch(()=>{g.segment.track("desktop_links",{action:"open_in_app_failed",source:"menu"})})}else"get-desktop-app"===e&&(p.mac?this.navigateToURL("/download/desktop/mac",Ee.NavigateTarget.NEW_TAB):p.windows&&this.navigateToURL("/download/desktop/win",Ee.NavigateTarget.NEW_TAB))}reparentRootElement(e){this.containerElement=e;const t=document.getElementById("fullscreen-root");if(!t)return;if(!this.containerElement)return t.style.visibility="hidden",void document.body.appendChild(t);let i=null;document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.style.visibility="visible",this.containerElement.appendChild(t),i&&i.focus()}isRootElementVisible(){const e=document.getElementById("fullscreen-root");return this.containerElement&&e&&e.parentElement===this.containerElement}showEyedropper(e,t,i,s,n){this._dispatch(se.fullscreen.setEyedropper({color:e,width:t,height:i,rgba:s,grid:n}))}hideEyedropper(){this._dispatch(se.fullscreen.setEyedropper(null))}deselectProperty(){this.updateAppModel(this.nullCurrentSelectedProperty)}get _state(){if(!this._store)throw new Error("Calling _state without a valid store");return this._store.getState()}isInDrafts(){const e=oe.getEditingFile(this._state);return e&&e.folder_id&&de.isADraftsFolder(this._state.folders,e.folder_id)}reportTouchStart(){this.hasReportedTouchStart||(this.hasReportedTouchStart=!0,g.segment.track("Editor Canvas Touch"))}openExportPicker(){g.segment.track("Export Picker Opened",{from:"toolbar-or-keyboard"}),this._dispatch(se.fullscreen.showPicker({id:ze.EXPORT_PICKER_ID}))}openShortcuts(){Ce.fullscreen.isReady()&&Ce.fullscreen.triggerAction("toggle-keyboard-shortcuts")}openPreferencesModal(){this._dispatch(ee.fileBrowser.showModal({type:E.LIBRARY_PREFERENCES_MODAL}))}showNudgeAmountPicker(){this._dispatch(se.fullscreen.showPicker({id:ye.NUDGE_AMOUNT_PICKER_ID}))}recordFullscreenAction(){Ie.updateRecentAction(null)}toggleInteractionRecorderVisibility(){a.isRunningInteractionTests()?this._dispatch(v.flash.error("The interaction recorder is not supported on /test/interactions")):a.recordingOrPlaybackIsEnabled()&&(this._store.getState().interactionTests.dialogShown?this._dispatch(te.interactionTest.hideRecorder()):this._dispatch(te.interactionTest.showRecorder()))}togglePerfHUDVisibility(){w.getFeatureFlags().perf_hud&&Se.togglePerfHUD()}showImageScaledDownWarning(){this._dispatch(S.visualBell.enqueue({type:"image_resized",message:"Image Resized",button:{text:"Learn more",action:this.onShowImageScaledDownWarningInfoClick}}))}showGIFConvertedAndScaledDownWarning(){this._dispatch(S.visualBell.enqueue({type:"gif_converted_resized",message:"GIF is too large. Image has been resized and converted to static image.",button:{text:"Learn more",action:this.onShowGIFConvertedAndScaledDownWarningInfoClick}}))}showDetachedStyleWarning(){this._dispatch(S.visualBell.enqueue({type:"style_detached",message:"Style detached from some text layers"}))}usedKeyboardShortcut(e){this._dispatch(Z.keyboardShortcut.usedKeyboardShortcut({key:e}))}tryReportError(e){this.errorHandler.raiseError(e)}getClipboardData(e){return _.desktopApp.getClipboardData([e]).then(({data:t,format:i})=>{if(i!==e)throw new Error(`Asked for clipboard data with MIME type ${e}, got data with MIME type ${i} instead.`);return new Uint8Array(t)})}sendToClipboard(e,t){this.isCopyExportRestricted()||_.desktopApp.setClipboardData(e,t)}trackFromFullscreen(e,t){t=t||{};let i=this._state,s=i.editingFileKey,n=i.fileByKey,a=s&&n&&n[s];t.file_key=s||"new",t.file_team_id=a&&a.team_id||null,t.file_owner_user_id=a&&a.creator_id||null,g.trackFullscreenEvent(e,t)}triggerFromFullscreen(e,t){this.fromFullscreen.trigger(e,t)}persistViewport(e,t,i){const s=`${e},${t},${i}`;this._viewportState!==s&&(this._viewportState=s,this._debouncedPersistViewportState())}trackComponentInstanceInsertion(e){const t=this._state.editingFileKey;if(null===t)return;let i=[];for(const n in e){let s={component_key:n,count:e[n]};i.push(s),g.trackFullscreenEvent("ds_analytics_component_insertions",Object.assign(Object.assign({},s),{file_key:t}))}try{u.default.post(`/api/component/${t}/insertions`,{insertions:i})}catch(s){}}trackComponentInstanceDetachment(e){const t=this._state.editingFileKey;if(null!==t)try{u.default.post(`/api/component/${t}/detachment/${e}`)}catch(i){}}enqueueBellNotification(e,t){this._dispatch(S.visualBell.enqueue({type:e,message:t}))}showAutosaveVisualBell(){if(null!=this._state.user&&U.canEditFile(this._state.editingFileKey,this._state)){const e=["✓","✔","💾","👍","✌️","👋","😎","😘","⚡️"];let t=Math.round(Math.random()*(e.length-1));t===this.lastAutosaveReactionIndex&&(t=(t+1)%e.length),this.lastAutosaveReactionIndex=t;let i=e[t]+"   Figma auto-saves your work";navigator.onLine?this.hasUnsavedChanges()&&(i="The document has unsaved changes. Figma will continue to try auto-saving your work."):i="You are offline. Figma will resume auto-saving when you reconnect to the internet.",this._dispatch(S.visualBell.enqueue({type:"save",message:i,timeout:4e3}))}}showReturnToInstanceVisualBell(){const e=Object.keys(this._store.getState().mirror.sceneGraphSelection);this.dispatch(J.symbolToast.returnToInstance({masterGUID:this._store.getState().mirror.selectionProperties.masterSymbolGUID,instanceGUIDs:e}))}showPushOverridesVisualBell(){this.dispatch(J.symbolToast.pushOverrides())}showVisualBell(e,t,i,s){this._dispatch(S.visualBell.enqueue({type:e,message:t,timeout:i,error:s}))}showZeplinDialog(){this._dispatch(ee.fileBrowser.showModal({type:We.ZEPLIN_WELCOME_MODAL}))}showAvocodeDialog(){this._dispatch(ee.fileBrowser.showModal({type:We.AVOCODE_WELCOME_MODAL}))}showDribbbleDialog(e,t){U.isCopyExportRestricted(this._state.editingFileKey,this._state)||this._dispatch(ee.fileBrowser.showModal({type:We.DRIBBBLE_EXPORT_MODAL,data:{fileKey:e,nodeId:t}}))}checkpointResponse(e,t){O.checkpointCallback(e,t)}_selectedFrameIds(){const e=this._store.getState();if(null==e.mirror||null==e.mirror.sceneGraphSelection||null==e.editingFileKey)return[];const t=[];for(const i in e.mirror.sceneGraphSelection){const s=e.mirror.sceneGraph.get(i);s&&re.isNodeFrameOrSymbol(s)&&t.push(i)}return t}exportSelectionToZeplin(){if(this._exportingToZeplin)return;const e=this._store.getState(),t=this._selectedFrameIds();0!==t.length?(this._exportingToZeplin=!0,O.externalExport(this._store.dispatch,O.ExportTab.zeplin,e.editingFileKey,()=>{this._exportingToZeplin=!1},t,this.isCopyExportRestricted())):this._dispatch(S.visualBell.enqueue({type:"zeplin export error",message:"No frames selected"}))}startRenamingNodes(e){this._dispatch(se.fullscreen.setLeftPanelTab({tab:D.LeftPanelTab.LAYERS})),this._dispatch(ee.fileBrowser.showModal({type:$e.RENAME_MODAL,data:{guids:e}}))}insertComponentOrShowError(e,t,i,s){this._dispatch(ae.insertComponentOrShowError({fileKey:e,nodeId:t,canvasX:i,canvasY:s}))}fetchComponentBuffersForDetachInstance(e,t){return H.fetchComponentSceneGraphsForDetachInstance(e,t)}bindListeners(){this.fromFullscreen.on("handleUpgradeRefresh",this.handleUpgradeRefresh),this.fromFullscreen.on("watchedNodeBoundsChange",this.handleWatchedNodeBoundsChange)}validateAndParseURL(e){try{const{hash:i,host:s,hostname:n,href:a,origin:o,pathname:r,port:l,protocol:c,search:d}=new URL(e);return{hash:i,host:s,hostname:n,href:a,origin:o,pathname:r,port:l,protocol:c,search:d}}catch(t){return null}}startPerfTimer(e){y.appTimer.start(e)}stopPerfTimer(e){y.appTimer.stop(e)}startPerfProfile(e){console.profile(e)}stopPerfProfile(){console.profileEnd()}logNumericMetric(e,t){B.logNumericMetric(e,t)}setBackgroundFlushInterval(e){I.setBackgroundFlushInterval(e)}startMonitorInterval(){I.startMonitorInterval()}reportContextLost(){B.reportContextLost()}reportContextRestored(){B.reportContextRestored()}reportDirtyAfterLoad(){B.reportDirtyAfterLoad()}isUnrecoverableImageError(e){return!(403!==e.status&&404!==e.status||!e.data||!0!==e.data.error||e.data.status!==e.status)}backToFiles(){this._dispatch(se.fullscreen.attemptClose())}reconnectingStarted(){this._dispatch(se.fullscreen.reconnectingStarted())}reconnectingSucceeded(){this._dispatch(se.fullscreen.reconnectingSucceeded())}showAsyncDetachModal(){this._dispatch(se.fullscreen.showAsyncDetachModal())}hideAsyncDetachModal(){this._dispatch(se.fullscreen.hideAsyncDetachModal())}copyLinkToPage(e){const t=`${location.protocol}//${location.host}${location.pathname}?node-id=${encodeURIComponent(e)}`;De.copyText(t).then(()=>this.dispatch(S.visualBell.enqueue({message:Y.defaultStringsRaw["link-copied"]})))}isUserPresent(){return!!this.session.user}documentIsLoaded(){this._dispatch(se.fullscreen.documentLoaded()),window.figmaPerfTesting&&window.postMessage({name:"DOCUMENT_IS_LOADED",value:performance.now()/1e3},"*"),this._fileLoadPromise.then(e=>{ve.exposeGlobalDebugAPI({userID:this._store.getState().user.id,editingFileKey:e})})}fileLoaded(e){this._fileLoadPromiseResolve(e)}fetchFontFile(e,t,i){return M.fetchFontFile(e,t,i)}openFontSettings(){return h.openFontSettings()}resetMissingFonts(){this.DEPRECATED_sendMessage("resetMissingFonts")}fullscreenIsReady(){if(!this._fullscreenIsReady){var e=(window.performance&&performance.now())-this._readyStartTime;console.log(`[fullscreenIsReady] ${e.toFixed(1)}ms`),window.postMessage({name:"FULLSCREEN_IS_READY",value:performance.now()/1e3},"*"),B.logNumericMetric("performance.fullscreen.load_time",e/1e3),window.DebuggingHelpers=D.DebuggingHelpers,window.figmaPerfTesting&&(window.FigmaAppTimer=y.appTimer,window.FigmaPerfInfo=D.PerfInfo,window.triggerActionForPerfTests=(e=>{switch(e){case"insert-lots-of-text":case"zoom-in":case"zoom-out":case"zoom-reset":case"zoom-to-fit":case"zoom-to-selection":Ce.fullscreen.triggerAction(e)}})),Ie.init(),Ae.checkFor3rdPartyApps()}W.initialize(),$.initialize(),z.initialize(),G.initialize(),this.reparentRootElement(this.containerElement);const t=e=>{this.DEPRECATED_sendMessage("updateFontList",e),e&&this._store.dispatch(se.fullscreen.updateFontList(e))};Qe.fontListPromise.then(t,e=>t(null)).then(()=>{this._fullscreenIsReady=!0,this._readyPromiseResolve&&this._readyPromiseResolve()}),null!=Qe.interfaceFontPromise&&Qe.interfaceFontPromise.then(()=>{D.Fullscreen.interfaceFontLoaded()},e=>{console.error("Error loading interface font",e)}),this.DEPRECATED_sendMessage("showingProgressBar",{value:this._state.showingProgressBar})}handleMultiplayerSignal(e){if("force-refresh"===e)l.locationReload("Multiplayer got force-refresh signal");else if("too-many-connections"===e){let e,t;this.hasUnsavedChanges()?(t="Changes can not be saved",e='Too many people have this file open right now so your changes cannot be saved at the moment (a maximum of 50 people can open a file at a time). To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.'):(this._dispatch(se.fullscreen.attemptClose()),t="Participant limit reached",e="Too many people have that file open right now. A maximum of 50 people can open a file at a time. We're working on improving this - sorry for the inconvenience."),this._dispatch(ee.fileBrowser.showModal({type:Ve.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:t}}))}else if("invalid-permissions"===e){let e,t;this.hasUnsavedChanges()?(t="Changes can not be saved",e='Someone revoked your access to this file so your changes cannot be saved at the moment. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.'):(this._dispatch(se.fullscreen.attemptClose()),t="Access revoked",e="Someone revoked access to the file you had open. Ask the owner for access to open it again."),this._dispatch(ee.fileBrowser.showModal({type:Ve.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:t}}))}else if("client-too-old"===e)if(this.hasUnsavedChanges()){let e="Changes can not be saved",t='The app is too far out of date with the server. You can reload Figma to continue editing, although that means you will lose unsaved work. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.';this._dispatch(ee.fileBrowser.showModal({type:Ve.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:t,title:e}}))}else this._dispatch(v.flash.flash("Updating the app...")),setTimeout(()=>{let e=location.href;e+=/\?/.test(e)?"&":"?",e+="flash="+encodeURIComponent("Figma was automatically updated to the latest version"),location.assign(e)},50);else"schema-validation-failure"===e&&this.showFatalFlash("This file can't be opened because of a schema validation failure")}showFatalFlash(e){let t;_.desktopApp?t=864e5:this._dispatch(ee.fileBrowser.selectView({view:"recentFiles"})),this._dispatch(v.flash.error(e,t))}handleSignedOutEditAttempt(){this._dispatch(F.authActions.init({origin:"signed_out_edit"})),this._dispatch(ee.fileBrowser.showModal({type:xe.AUTH_MODAL}))}openSettings(){const e=this._store.getState();e.user&&this._dispatch(ee.fileBrowser.selectView({view:"user",userId:e.user.id,userViewTab:ge.UserViewTab.SETTINGS}))}openNewSketchFile(){this.hasUnsavedChanges()||this._store.dispatch(ie.fileImport.openSketchFileInput())}openNewFile(){const e=this._store.getState(),t=!R.isMacDebugApp,i=se.fullscreen.new_({folder_id:null,org_id:e.orgDashboard&&e.currentOrgId,openInNewTab:t,trackingInfo:null});t?this._dispatch(i):this.dispatchIfSaved(i)}reportPerfTestingInfo(e){B.reportPerfTestingInfo(e)}reportFileLoadTime(e){const t={randomID:A.getRandomID(),load_time_in_seconds:e};n.flattenInto(Ee.FullscreenPerfMetrics.getDeviceInfo(),t,"device_info"),g.segment.track("Fullscreen File Load Time",t),console.log(`total load time: ${e.toFixed(2)}s`)}reportQuantizedColorEqualsUse(e,t,i,s,n,a,o,l){let c=Object.assign(Object.assign({},r.splitStackIntoSegmentSizes((new Error).stack)),{color1:JSON.stringify({r:e,g:t,b:i,a:s}),color2:JSON.stringify({r:n,g:a,b:o,a:l})});g.segment.track("quantized_color_equal_use",c)}getDeviceInfoForSize(e,t){return T.getDeviceInfoForSize(e,t)}runLastPlugin(){return ve.runLastPlugin()}urlCacheGet(e){return Ye.get(e)}urlCacheSet(e,t){Ye.set(e,t)}desktopAppGetAPIVersion(){return _.desktopApp?_.desktopApp.getVersion():0}desktopAppQueueFileForWriting(e,t){_.desktopApp&&(this._writeFilesQueue=this._writeFilesQueue||[],this._writeFilesQueue.push({name:e,buffer:t}))}desktopAppWriteFiles(){_.desktopApp.writeFiles(this._writeFilesQueue),this._writeFilesQueue=null}retrieveMetadataAndSelectBrokenFixedScrollingNodes(){const e=this._state.editingFileKey;e&&function(e){return s(this,void 0,void 0,function*(){if(Xe&&e===Xe.fileKey)return Xe;const t=`https://s3-us-west-2.amazonaws.com/figma-fixed-scrolling/${w.initialOptions().cluster_name}/${e}`,i=yield fetch(t);if(200===i.status){const t=yield i.json();if(!t.fileKey||!t.fixedScrolling)throw new Error(`Broken-fixed-scrolling metadata for file ${e} is missing 'fileKey' or 'fixedScrolling'.`);return Xe=t,t}if(404===i.status||403===i.status){const t={fileKey:e,fixedScrolling:[]};return Xe=t,t}throw new Error(`Broken-fixed-scrolling metadata request error: ${i.status}, ${i.statusText}`)})}(e).then(t=>{if(!t||!t.fixedScrolling||0===t.fixedScrolling.length)return this._dispatch(S.visualBell.enqueue({type:"no_broken_fixed_scrolling_metadata",message:"We finished scanning your document, and everything looks fine.",timeout:5e3})),void N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,missingMetadata:!0,error:!1});const i=D.Fullscreen.selectBrokenFixedScrollingNodesOnCurrentPage(t);if(0===i)return this._dispatch(S.visualBell.enqueue({type:"no_broken_fixed_scrolling_nodes_found",message:"We finished scanning this page, and everything looks fine.",timeout:5e3})),void N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:i,missingMetadata:!1,error:!1});this._dispatch(S.visualBell.enqueue({type:"selected_broken_fixed_scrolling_nodes",message:`We found ${i} layers on this page that look like their scroll setting is incorrect. Select the "fix position when scrolling" checkbox to repair them.`,timeout:1e4})),N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:i,missingMetadata:!1,error:!1})}).catch(t=>{this._dispatch(S.visualBell.enqueue({type:"error_finding_broken_fixed_scrolling_nodes",message:"We ran into an error. Please contact support@figma.com",timeout:5e3})),N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,errorMessage:t,error:!0}),console.error(t)})}updateMultiplayerState(e){this._dispatch(se.fullscreen.updateMultiplayerState(e))}mobileAppPush(e,t){e&&u.default.post(`/api/mobile_app_push/${encodeURIComponent(e)}?frame_id=${encodeURIComponent(t)}`)}toggleQuickCommand(){le.isQuickCommandBarVisible(this._state.dropdownShown)?this._dispatch(ee.fileBrowser.hideDropdown()):this._dispatch(ee.fileBrowser.showDropdown({type:le.quickCommandBarDropdownKey,data:{},hasOwnEscKeyHandler:!0}))}attemptedSketchFileDrop(){this._dispatch(ee.fileBrowser.showModal({type:_e.ATTEMPTED_SKETCH_FILE_DROP_MODAL}))}fontResourceStatusChanged(e,t,i){M.triggerFontListeners(e,t,i)}imageResourceStatusChanged(e,t){L.triggerImageListeners(e,t)}showDeletedComponentNotification(){this._dispatch(q.library.showNotification({notification:{type:me.NotificationType.PUBLISHED_COMPONENT_DELETED,message:"A deleted component is still published in the Team Library"}}))}showCanvasContextMenu(e,t){this._dispatch(ee.fileBrowser.showDropdown({type:ze.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectionContextMenu(e,t){this._dispatch(ee.fileBrowser.showDropdown({type:ze.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectLayerContextMenu(e,t){this._dispatch(ee.fileBrowser.showDropdown({type:ze.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}chooseSymbol(){this.showLeftPanelTab(D.LeftPanelTab.TEAM_LIBRARY)}showLeftPanelTab(e){e===D.LeftPanelTab.TEAM_LIBRARY?this._dispatch(ee.fileBrowser.showModal({type:E.LIBRARY_PREFERENCES_MODAL})):this._dispatch(se.fullscreen.setLeftPanelTab({tab:e}))}showMemoryWarningModal(e){this.hasCrashed?e=Ee.MemoryWarningType.CRASH:e===Ee.MemoryWarningType.CRASH&&(this.hasCrashed=!0),this._dispatch(ee.fileBrowser.showModal({type:He.MEMORY_WARNING_MODAL,data:e}))}showMissingFontPopover(e){this._dispatch(ee.fileBrowser.showModal({type:Ue.MISSING_FONTS_MODAL,data:{missingFonts:e}}))}onWatchedNodeBoundsChange(e){this.watchedNodeBoundsChange=e}showRestoreComponentDialog(e){U.canEditFile(this._state.editingFileKey,this._state)&&this._dispatch(ee.fileBrowser.showModal({type:_e.RESTORE_COMPONENT_MODAL,data:{nodeId:e}}))}updateSelectedStyleProperties(e,t,i){const s=o.schema.decodeMessage(e),n=Object.assign({},s.nodeChanges[0]),a=n;n.fontName&&(a.fontFamily=n.fontName.family,a.fontStyle=n.fontName.style),n.sharedStyleMasterData&&n.sharedStyleMasterData.styleKey?a.styleKey=n.sharedStyleMasterData.styleKey:n.sharedStyleReference&&n.sharedStyleReference.styleKey&&(a.styleKey=n.sharedStyleReference.styleKey),a.intrinsicLineHeight=t,null!=i&&(a.availableOTFeaturesForFonts=i),this._dispatch(se.fullscreen.updateSelectedStyleProperties({selectedStyleProperties:a}))}updateSelectedStyleThumbnail(e){const t=URL.createObjectURL(new Blob([e]));this._dispatch(se.fullscreen.updateSelectedStyleThumbnailURL({selectedStyleThumbnailURL:t}))}updateStyleThumbnail(e,t){const i=this._state.library.local.styles[e],s=!ce.cssThumbnailDefinitelySupported(i.style_type);if(i&&s){const s=H.cacheThumbDataAndGetUrl(t),n=i.meta&&i.meta.style_thumbnail;this._dispatch(X.libraryThumbnail.updateThumbnails([{nodeId:e,url:s,styleThumbnail:n,type:ue.LibraryItemType.STYLE}]))}}showSavepointModal(){this._dispatch(ee.fileBrowser.showModal({type:Ke.SAVEPOINT_MODAL}))}showBrowserAlert(e){alert(e)}toggleHistoryMode(){this._state.mirror.appModel.topLevelMode===K.TopLevelMode.HISTORY?Ce.fullscreen.triggerAction("enter-layout-mode"):this._dispatch(se.fullscreen.enterVersionHistoryMode())}navigateToURL(e,t){const i=new URL(e,location.href);location.origin===i.origin&&(t===Ee.NavigateTarget.CURRENT_TAB?location.href=e:l.redirect(e,"_blank"))}parseHyperlinkToNodeIdInThisFile(e){let t="";if(e){let s;try{s=new URL(e,location.href)}catch(i){}if(s&&s.origin===location.origin){const e=this._store.getState(),i=e.selectedView;if("fullscreen"===i.view&&i.fileKey){const n=Me.pathToSelectedView(e,s.pathname,s.search,s.hash);"fullscreen"===n.view&&i.fileKey===n.fileKey&&Le.isValid(Le.fromString(n.nodeId))&&(t=n.nodeId)}}}return{url:e,nodeIdInThisFile:t}}trimName(e,t){return 0==(e=e.trim()).length&&(e=t),e}getFeatureFlags(){return w.getFeatureFlags()}setHyperlinkStatusBar(e){let{url:t,nodeIdInThisFile:i}=this.parseHyperlinkToNodeIdInThisFile(e),s=null;if(i){const e=this._store.getState().mirror,t=e.sceneGraph,n=t.get(i);if(n){let i=n;for(;i&&"CANVAS"!==i.type;)i=t.get(i.parent);s=i&&i.guid!==e.appModel.currentPage&&"CANVAS"!==n.type?{type:Oe.HyperlinkType.FRAME,text:this.trimName(i.name,"Page"),secondaryText:this.trimName(n.name,"Frame")}:{type:"CANVAS"==n.type?Oe.HyperlinkType.PAGE:Oe.HyperlinkType.FRAME,text:this.trimName(n.name,"CANVAS"==n.type?"Page":"Frame")}}else s={type:Oe.HyperlinkType.MISSING,text:"Link to a deleted object"}}else if(t){let e;try{s=(e=new URL(t)).hostname.endsWith(".figma.com")?{type:Oe.HyperlinkType.FIGMA_FILE,url:e}:{type:Oe.HyperlinkType.GENERIC,url:e}}catch(n){s={type:Oe.HyperlinkType.INVALID,urlString:t}}}this.dispatch(se.fullscreen.setHyperlinkStatusBar(s))}handleUserClickOnHyperlink(e){const{url:t,nodeIdInThisFile:i}=this.parseHyperlinkToNodeIdInThisFile(e);i?Ce.fullscreen.triggerAction("goto-layer",{args:{nodeId:i}}):je?je(t):l.redirect("/exit?url="+encodeURIComponent(t),"_blank")}openHelp(){l.unsafeRedirect("https://help.figma.com","_blank")}openCommunity(){l.unsafeRedirect("https://spectrum.chat/figma","_blank")}openTutorials(){l.unsafeRedirect("https://www.youtube.com/figmadesign","_blank")}snapshotHashChanged(e){e.length<1&&(this._store.getState().versionHistory.docHasChanged||this._dispatch(Q.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0})))}reportDoubleFlush(){B.reportDoubleFlush()}reportConsecutiveFlushes(){B.reportConsecutiveFlushes()}reportConsecutiveImageChangeSkips(){B.reportConsecutiveImageChangeSkips()}reportContextRestore(){this.events.trigger("context-restore",void 0)}startingCppUnitTests(){this.testsDiv=document.createElement("div"),this.testsDiv.className=ke.cppTestsMessage,this.testsDiv.innerHTML="Running C++ unit tests...",document.body.appendChild(this.testsDiv)}finishedCppUnitTests(){this.testsDiv.parentNode.removeChild(this.testsDiv)}reportCompressionFailure(e,t,i,s){g.segment.track("Compression Failure",{originalSize:e,compressedSize:t,finalSize:i,isWasm:s})}getDefaultOnOTFeatures(){return Te.TypeSettingsData.OpenTypeFeatureDefaultOn}updateSelectionPaintsWithFillEncodedPaints(e,t){const i=Ne.decodeSelectionPaintsEncodedAsFillPaints(e,t);this._store.dispatch(Be.selectionPaintActions.updateSelectionPaintsFromFullscreen(i))}updateSelectionPaintsWithStyles(e){const t=this._store.getState().library,i=this._store.getState().mirror.sceneGraph;this._store.dispatch(Be.selectionPaintActions.updateSelectionStylesFromFullscreen(e.map(e=>{const s=Ge.getDiscriminatedStyle(e.key,e.guids,t);return s?{styleKey:e.key,styleGUIDs:e.guids,count:e.count,styleName:Ge.nameOfDiscriminatedStyle(s,i)}:{styleKey:e.key,styleGUIDs:e.guids,count:e.count,styleName:""}})))}clearSelectionPaintsDueToLimitExceeded(){this._store.dispatch(Be.selectionPaintActions.clearSelectionPaintsDueToLimitExceeded())}pickerHasSelectionPaintOpen(){return null!=this._store.getState().currentSelectionPaintInPicker.originalPaint}originalPaintForCurrentSelectionPaintsPicker(){const e=this._store.getState().currentSelectionPaintInPicker.originalPaint;return null==e?"":Ne.encodePaintAsFillPaints(e)}updateSelectionPaintFromDropper(e){const t=this._store.getState().currentSelectionPaintInPicker;if(null==t.originalPaint)return!1;const i=Ne.decodeSelectionPaintEncodedAsFillPaint(e);return null==i?(console.error(`Failed to apply paint: ${e}`),!1):(Ee.SelectionPaintHelpers.updatePaint(Ne.encodePaintAsFillPaints(t.originalPaint),e),this._store.dispatch(Be.selectionPaintActions.updateCurrentSelectionPaintInPicker(Object.assign(Object.assign({},t),{updatedPaintFromDropper:i.paint}))),!0)}}t.FullscreenBindingsImpl=Qe,Qe.fontListPromise=null,Qe.interfaceFontPromise=null,location.pathname.startsWith("/file/")&&(Qe.startFetchingFontList(),W.preconnectIfFileURL())}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=!1;function a(e){n&&console.log("[StencilTest] "+e)}function E(e){n&&console.log("[StencilTest]E "+e)}function l(e){console.log("[StencilTest] "+e)}function i(e,r,t,n){var l=e.createShader(r);if(l&&(a("compiling "+t),e.shaderSource(l,t),e.compileShader(l),!e.getShaderParameter(l,e.COMPILE_STATUS))){if(n)E("compiler errors "+e.getShaderInfoLog(l));e.deleteShader(l),l=null}return l}function u(e,r){switch(r){case 0:e.disable(e.STENCIL_TEST);break;case 1:e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,0,255),e.stencilOpSeparate(e.FRONT,e.INCR_WRAP,e.INCR_WRAP,e.INCR_WRAP),e.stencilOpSeparate(e.BACK,e.DECR_WRAP,e.DECR_WRAP,e.DECR_WRAP);break;case 2:e.enable(e.STENCIL_TEST),e.stencilFunc(e.NOTEQUAL,0,255),e.stencilOp(e.KEEP,e.KEEP,e.ZERO)}}function o(e){var r=0;e.getError();var t=function(e,r,t){var n=i(e,e.VERTEX_SHADER,r,!0),l=i(e,e.FRAGMENT_SHADER,t,!0),u=e.createProgram();return u&&n&&l&&(a("linking program"),e.attachShader(u,n),e.attachShader(u,l),e.linkProgram(u),e.getProgramParameter(u,e.LINK_STATUS)||(E("linker errors "+e.getProgramInfoLog(u)),e.deleteProgram(u),u=null)),e.getError()==e.NONE&&u&&n&&l||(E("program creation failed"),e.deleteShader(n),e.deleteShader(l),e.deleteProgram(u),u=null),u}(e,"attribute vec2 pos; void main() { gl_Position = vec4(pos.xy * vec2(2.0, -2.0) + vec2(-1.0, 1.0), 0.0, 1.0); }","precision lowp float; void main() { gl_FragColor = vec4(1.0); }"),n=e.createBuffer();if(n){var o=new Float32Array([0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,1,0,0,0,0,1,1,1]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)}e.activeTexture(e.TEXTURE0+0);var R=e.getParameter(e.TEXTURE_BINDING_2D),T=e.getParameter(e.VIEWPORT),f=function(e,r,t){var n=e.createTexture();n&&(e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,t,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null));var a=e.createRenderbuffer();n&&a&&(e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r,t),e.bindRenderbuffer(e.RENDERBUFFER,null));var l=e.createFramebuffer();if(l&&n&&a){e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,a);var i=e.checkFramebufferStatus(e.FRAMEBUFFER);e.bindFramebuffer(e.FRAMEBUFFER,null),i!=e.FRAMEBUFFER_COMPLETE&&(e.deleteFramebuffer(l),l=null)}return e.getError()==e.NONE&&l&&n&&a||(E("framebuffer creation failed"),e.deleteTexture(n),e.deleteRenderbuffer(a),e.deleteFramebuffer(l),l=null),l}(e,4,4);if(n&&t&&f){e.bindBuffer(e.ARRAY_BUFFER,n),e.bindFramebuffer(e.FRAMEBUFFER,f),e.useProgram(t),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,8,0),u(e,0),e.viewport(0,0,4,4),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.colorMask(!1,!1,!1,!1),u(e,1),e.drawArrays(e.TRIANGLES,0,12),e.colorMask(!0,!0,!0,!0),u(e,2),e.drawArrays(e.TRIANGLES,0,6);var c=new Uint8Array(4);e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,c),e.getError()==e.NONE&&(0!=c[0]?(l("Failed. Test value is "+c[0]+" should be 0"),r=1):a("Success. Test value is "+c[0]+" should be 0")),u(e,0),e.disableVertexAttribArray(0)}return e.bindBuffer(e.ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),T&&e.viewport(T[0],T[1],T[2],T[3]),e.useProgram(null),e.deleteBuffer(n),e.deleteProgram(t),e.deleteFramebuffer(f),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,R),r}function R(){return/\bEdge\b/.test(window.navigator.userAgent)}function T(){return/Win/.test(window.navigator.platform)&&!(!R()&&/\bTrident\b/.test(window.navigator.userAgent)||R())}var f;function c(){var e=f.SUCCESS;try{let t=function(){let e=document.createElement("canvas"),r=null;try{null==(r=e.getContext("experimental-webgl"))&&(r=e.getContext("webgl"))}catch(t){}return r}();t?t.isContextLost()?(l("WebGL context lost. Can't test the device for stencil bugs."),e=f.SUCCESS):T()&&1==o(t)&&(l("WebGL context has stencil bugs that prevent Figma from running properly."),l(`User agent ${window.navigator.userAgent}`),e=f.STENCIL_TEST_FAILURE):e=f.NO_WEBGL}catch(r){E("Exception thrown: "+r)}return e}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.NO_WEBGL=1]="NO_WEBGL",e[e.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE"}(f=r.WebGLTestResult||(r.WebGLTestResult={})),r.webGLSupport=function(){return null==window.webGLTestResult&&(window.webGLTestResult=c()),window.webGLTestResult}}),
(function(o,e,n){o.exports={container:"footer_banner--container--dbQys",banner:"footer_banner--banner--H-B_t",iconButton:"footer_banner--iconButton--2gdBL",bannerTop:"footer_banner--bannerTop--2_8M9",googleBanner:"footer_banner--googleBanner--3dAQe footer_banner--banner--H-B_t footer_banner--bannerTop--2_8M9",bannerBottom:"footer_banner--bannerBottom--1he6t",fileBrowserContainer:"footer_banner--fileBrowserContainer--2R7uC footer_banner--container--dbQys",wordWrapper:"footer_banner--wordWrapper--3Cv4P",wordMark:"footer_banner--wordMark--26-R_",clickable:"footer_banner--clickable--2cCnD",icon:"footer_banner--icon--7ESPC footer_banner--clickable--2cCnD",smallLink:"footer_banner--smallLink--f6Vu1",oversizedButton:"footer_banner--oversizedButton--2neSQ footer_banner--clickable--2cCnD",pageLabel:"footer_banner--pageLabel--2H5NP",overlayModal:"footer_banner--overlayModal--1DXzj",overlayRow:"footer_banner--overlayRow--32MKE",overlayTitle:"footer_banner--overlayTitle--3frCu footer_banner--overlayRow--32MKE",overlayBody:"footer_banner--overlayBody--39vLW footer_banner--overlayRow--32MKE",overlayIconRow:"footer_banner--overlayIconRow--audrb",slideInFooter:"footer_banner--slideInFooter--1Foq-","slide-in":"footer_banner--slide-in--2G6S2",boldText:"footer_banner--boldText--3-LID"}}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=n(3,1    ),o=n(848                                              );class s extends t.PureComponent{render(){return t.createElement("div",{className:`${o.container} ${this.props.className||""}`},this.props.children)}}r.FileFooterContainer=s,s.displayName="FileFooterContainer"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),r=s(848                                              ),n=s(224                                            );class a extends o.PureComponent{render(){const e=`${this.props.className||""} ${r.oversizedButton}`;return o.createElement(n.ButtonGreenTracked,Object.assign({},this.props,{className:e}))}}t.FooterButton=a,a.displayName="FooterButton"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(122        ),i=r(109                        ),s=r(233        );function c(e){return e.account_type===i.OrgUserAccountType.FULL&&!s.isFigmaEmail(e.user.email)}t.getBillableSeatCount=function(e){return Object.keys(e).filter(t=>c(e[t])).length},t.isPaidOrgUser=c,t.getOrgUsersForUser=function(e,t){return Object.keys(e).reduce((r,n)=>(e[n][t]&&r.push(e[n][t]),r),[])},t.getNewEditorIds=function(e,t){if(!t||!t.invoices||t.invoices.length<=1)return[];const r=Object.keys(e).filter(t=>c(e[t]));n.sortAlphabeticallyByFn(r,t=>e[t].account_type_changed_at,!0);const i=t.invoices[0],s=Math.max(0,r.length-i.quantity_paid);return r.slice(0,s)},t.getContactableAdmins=function(e){const t=Object.keys(e).reduce((t,r)=>(e[r].permission===i.OrgPermissionType.ADMIN&&t.push(e[r]),t),[]);return n.sortAlphabeticallyByProperty(t,"created_at"),t.slice(0,3)},t.getOrgUserForId=function(e={},t){for(let r in e){const n=e[r];if(n.id===t)return n}}}),
(function(n,e,a){n.exports={warn:"banners--warn--32Jpq",ctaButton:"banners--ctaButton--2bNdD",content:"banners--content--34uVF",title:"banners--title--12FjK",bold:"banners--bold--1bY5F",message:"banners--message--30Zf9",ctaMessage:"banners--ctaMessage--3c5kQ",teamBannerWithBackground:"banners--teamBannerWithBackground--1bkOG"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(3,1    ),r=a(115          ),n=a(85                   ),s=a(111                        ),o=a(95                      ),l=a(92           ),c=a(851                      ),d=a(96                     ),u=a(129                                ),m=a(106                                     ),p=a(91                      ),g=a(627                                              ),f=a(136                            ),y=a(852            );var h;!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN"}(h=t.BannerSeverity||(t.BannerSeverity={})),t.getBannerContent=((e,t,a,b,_)=>{const v=a?b.teams[a]:null;if(a&&!v)return null;const k=v&&v.subscription===p.Subscription.GRACE_PERIOD,w=v&&v.subscription===p.Subscription.PAST_DUE,O=v&&v.subscription===p.Subscription.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,C=s.canMemberOrg(b.currentOrgId,b),E=s.canAdminOrg(b.currentOrgId,b),T=a&&s.canAdminTeam(a,b),S=a&&s.canEditTeam(a,b),I=o.isOrgDelinquent(b.currentOrgId,b),A=n.getFeatureFlags().msft_custom_banner&&"588096576863690753"===b.currentOrgId&&(C||E),N=v&&!o.isTeamPro(v)&&!v.student_team&&o.isTeamLockedForUser(v.id,b),P=v&&v.student_team&&b.user&&!l.isStudent(b.user),U="file"===e?t:null,F="folder"===e?t:null,R=v&&!o.isTeamPro(v)&&!v.student_team&&F&&F.is_invite_only,D=v&&!o.isTeamPro(v)&&!v.student_team&&F&&F.is_view_only,j=U&&U.parent_org_id&&U.folder_id&&d.isOrphanedOrgFolder(b.folders,U.folder_id)||F&&F.org_id&&d.isOrphanedOrgFolder(b.folders,F.id),W=!j&&!v&&(U&&o.isFileEditingLockedForUser(U,b)||F&&o.isFolderEditingLockedForUser(F,b)),L=()=>_(m.fileBrowser.selectView({view:"recentFiles"})),M=()=>_(u.payment.startProUpgradeFlow({teamId:v.id,selectedView:b.selectedView})),B=()=>_(m.fileBrowser.showModal({type:f.TEAM_USAGE_MODAL,data:{teamId:a}})),$=()=>{_(m.fileBrowser.selectView({view:"teamAdmin",teamId:a}))},V=()=>r.redirect("/student/apply","_blank");if(A)return{severity:h.WARN,title:"Figma has a billing issue",message:i.createElement("span",null,"Please ask your Microsoft Design Organization Administrator to contact ",i.createElement("b",{className:y.bold},"sales@figma.com"),", or you'll lose access to premium features."),cta:null,onClickCta:null,showTitleInSidebar:!1};if(I){const e=c.getContactableAdmins(b.orgUsersByOrgId.orgUsers[b.currentOrgId]).map(e=>i.createElement("span",{key:e.id,className:y.bold},e.user.handle," (",e.user.email,")"));return{severity:h.WARN,title:"Payment not received",message:E?i.createElement("span",null,"We haven’t received a payment from your organization for this billing period. Please reach out to ",i.createElement("b",{className:y.bold},"invoices@figma.com")," soon, or you may lose access to your organization. Thank you!"):i.createElement("span",null,"Please reach out to your Organization admin(s)",C&&i.createElement("span",null," ",i.createElement(g.JoinNaturally,{finalDelimiter:i.createElement("span",null," [or] "),includeOxfordDelimiter:!0},e))," ","to resolve this billing issue. Thank you!"),cta:null,onClickCta:null,showTitleInSidebar:!1}}if(k)return{severity:h.WARN,title:"Payment failed",message:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 failed attempts.",cta:T?"Update payment":"Contact admin to update payment",onClickCta:T?$:null,showTitleInSidebar:!0};if(w)return{severity:h.WARN,title:"Locked",message:`Our last 3 attempted charges were unsuccessful. Please update your payment source to continue editing files in ${v.name}`,cta:T?"Update payment":"Contact admin to update payment",onClickCta:T?$:null,showTitleInSidebar:!0};if(O||N){let e;return e=T||S?i.createElement("span",null,i.createElement("strong",null,"Your team is locked as it is over the limits of the Starter plan.")," Upgrade now to continue editing files or ",i.createElement("a",{href:"javascript:void(0)",onClick:B},"lower your usage"),"."):i.createElement("span",null,i.createElement("strong",null,"Your team is locked as it is over the limits of the Starter plan.")," Ask your team admin for details."),{severity:h.WARN,title:o.isTrialExpired(v)?"Trial Ended":"Locked",message:e,cta:S?`Upgrade ${v.name}`:null,onClickCta:S?M:null,showTitleInSidebar:!0}}if(P)return{severity:h.INFO,title:"Students Only",message:`${v.name} is a Student Team. Please verify your student status to edit files in this team.`,learnMoreUrl:"/pricing-faq#is-figma-free-for-students",cta:"Verify Student Status",onClickCta:V,showTitleInSidebar:!0};if(R||D){const e=R?"Invite":"View";return{severity:h.WARN,title:"Folder Locked",message:`${e} only projects are not available to Starter Teams. Upgrade ${v.name} to continue editing files in this project.`,learnMoreUrl:"/pricing",cta:S?`Upgrade ${v.name}`:`Contact ${v.name} to upgrade`,onClickCta:S?M:null,showTitleInSidebar:!0}}return W&&"file"===e?{severity:h.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this file to a team or your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:"Back to Files",onClickCta:L,showTitleInSidebar:!0}:W&&"folder"===e?{severity:h.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this project to a team, or move these files to your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null,showTitleInSidebar:!0}:j&&"folder"===e?{severity:h.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this project to a team, or move these files to your Drafts to continue editing.",cta:null,onClickCta:null,showTitleInSidebar:!0}:j&&"file"===e?{severity:h.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this file to a team or your Drafts to continue editing.",cta:"Back to Files",onClickCta:L,showTitleInSidebar:!0}:null}),t.attachTitleAndMessage=((e,t)=>{const a=Object.assign({},e);return"string"==typeof t.title&&(e.title=t.title),"string"==typeof t.message&&(e.message=t.message),a})}),
(function(l,o,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11 6c0-.552.448-1 1-1 .552 0 1 .448 1 1v7c0 .552-.448 1-1 1-.552 0-1-.448-1-1V6zm1 9.5c-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M12 24c6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12C5.373 0 0 5.373 0 12c0 6.627 5.373 12 12 12zm0-1c6.075 0 11-4.925 11-11 0-6.075-4.925-11-11-11C5.925 1 1 5.925 1 12c0 6.075 4.925 11 11 11z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3,1    ),s=n(221                                    ),r=n(174                        ),c=n(850                                          ),i=n(853                                       ),o=n(852                                           ),m=n(854                               );class l extends a.PureComponent{render(){const{title:e,message:t,cta:n,onClickCta:l,severity:p,learnMoreUrl:g}=this.props;return a.createElement(s.TrackingContext,{name:"Banner",properties:Object.assign({severity:p},this.props.tracking)},a.createElement("div",{className:o.content},a.createElement("span",{className:o.title},p===i.BannerSeverity.WARN&&a.createElement(r.Svg,{svg:m}),e),a.createElement("div",{className:o.message},t,g&&a.createElement("span",null," ",a.createElement("a",{target:"_blank",rel:"noopener",href:g},"Learn more"))),l&&a.createElement(c.FooterButton,{className:o.ctaButton,onClick:l},n),!l&&a.createElement("div",{className:o.ctaMessage},n)))}}t.BannerContentView=l,l.displayName="BannerContentView"}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(3,1    ),a=t(141                ),s=t(111                        ),r=t(95                      ),p=t(849                                                  ),o=t(855                                                   ),l=t(853                                       ),c=t(852                                           );class m extends i.PureComponent{render(){const e=a.getEditingFile(this.props);if(!e||!s.canEditFile(e.key,this.props,!0)||!r.isFileEditingLockedForUser(e,this.props))return i.createElement("div",null);const n=l.getBannerContent("file",e,e.team_id,this.props,this.props.dispatch);if(!n)return i.createElement("div",null);const t=l.attachTitleAndMessage({resourceType:"file",teamId:e.team_id,fileKey:e.key},n);return i.createElement(p.FileFooterContainer,{className:n.severity===l.BannerSeverity.WARN?c.warn:""},i.createElement(o.BannerContentView,Object.assign({},n,{tracking:t})))}}n.LockedFileFooter=m,m.displayName="LockedFileFooter"}),
(function(l,o,e){l.exports={src:'<svg width="20" height="30" viewBox="0 0 20 30" xmlns="http://www.w3.org/2000/svg"><path d="M10 15c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.238-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 25c0-2.761 2.239-5 5-5h5v5c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M10 0v10h5c2.761 0 5-2.239 5-5 0-2.761-2.239-5-5-5h-5z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 5c0 2.761 2.239 5 5 5h5V0H5C2.239 0 0 2.239 0 5z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 15c0 2.761 2.239 5 5 5h5V10H5c-2.761 0-5 2.239-5 5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(l,e,i){l.exports={src:'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M13.72 7.159c0-.496-.045-.974-.127-1.432H7v2.708h3.767c-.162.875-.655 1.616-1.397 2.113v1.756h2.263c1.323-1.219 2.087-3.013 2.087-5.145z" fill-rule="evenodd" fill-opacity="1" fill="#4285f4" stroke="none"/><path d="M7 14c1.89 0 3.475-.627 4.633-1.696L9.37 10.548c-.627.42-1.43.668-2.37.668-1.824 0-3.367-1.231-3.918-2.886H.745v1.814C1.896 12.43 4.264 14 7 14z" fill-rule="evenodd" fill-opacity="1" fill="#34a853" stroke="none"/><path d="M3.083 8.33c-.14-.42-.22-.869-.22-1.33 0-.461.08-.91.22-1.33V3.856H.745C.27 4.801 0 5.87 0 7c0 1.13.27 2.199.745 3.144L3.083 8.33z" fill-rule="evenodd" fill-opacity="1" fill="#fbbc05" stroke="none"/><path d="M7 2.784c1.028 0 1.95.353 2.676 1.047l2.008-2.008C10.47.693 8.887 0 7 0 4.264 0 1.896 1.569.745 3.856L3.083 5.67C3.633 4.015 5.177 2.784 7 2.784z" fill-rule="evenodd" fill-opacity="1" fill="#ea4335" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(3,1    ),n=o(106                                     ),s=o(141                ),r=o(856                                                  ),i=o(519               ),l=o(224                                            ),c=o(174                        ),m=o(848                  ),p=o(228                 ),g=o(405                      ),d=o(221                                    ),h=o(499             ),u=o(721            ),_=o(857                                  ),f=o(858                                     );class E extends a.PureComponent{render(){return this.props.user?a.createElement(r.LockedFileFooter,Object.assign({},this.props)):a.createElement(w,Object.assign({},this.props))}}t.FileFooter=E,E.displayName="FileFooter";t.LOGGED_OUT_FILE_BANNER_PADDING=120;const w=((e,t=(e=>"DUPLICATE"===e?"Log in or create an account to get your own copy of this file.":"Log in or create an account to collaborate on this file."))=>{return class extends a.PureComponent{constructor(){super(...arguments),this.showAuthModal=(e=>{const t=s.getEditingFile(this.props).name,o="DUPLICATE"===this.props.selectedView.landingState?`Log in or create an account to get a copy of "${t}"`:"";this.props.dispatch(i.authActions.init({origin:"logged_out_footer",formState:e})),this.props.dispatch(n.fileBrowser.showModal({type:u.AUTH_MODAL,data:{headerText:o}}))})}render(){return a.createElement(e,Object.assign({primaryText:t(this.props.selectedView.landingState),showAuthModal:this.showAuthModal},this.props))}}})(e=>{const t=t=>{e.showAuthModal(g.AuthFormState.SIGN_UP_EXTRA_INFO),e.dispatch(i.authActions.setGoogleIdToken({googleIdToken:t.token})),e.dispatch(i.authActions.changeName({value:t.name}))};return a.createElement(d.TrackingContext,{name:"Google Logged-out File Banner"},a.createElement("div",{className:`${m.googleBanner} ${p.modal}`},a.createElement("div",{className:m.wordWrapper},a.createElement("a",{className:m.icon,href:"/",target:"_blank",rel:"noopener"},a.createElement(c.Svg,{svg:_,useOriginalSrcFills:!0})),a.createElement("div",null,a.createElement("span",{className:m.boldText},"Welcome to Figma!")," ",e.primaryText)),a.createElement("div",{className:m.wordWrapper},a.createElement(l.ButtonSecondaryTracked,{onClick:()=>h.getGoogleUser(e.dispatch).then(t,()=>{}),innerText:"Sign up with Google",key:"google-btn"},a.createElement("div",{className:m.iconButton},a.createElement(c.Svg,{svg:f,useOriginalSrcFills:!0}),"Sign up with Google")),a.createElement("div",{style:{width:12},key:"spacer-div"}),a.createElement(l.ButtonGreenTracked,{key:"email-btn",onClick:()=>e.showAuthModal(g.AuthFormState.SIGN_UP),className:m.clickable},"Sign up with email"))))},e=>"DUPLICATE"===e?"Create an account to get your own copy of this file.":"Create an account to edit and collaborate on this file.")}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3,1    ),a=r(106                                     ),o=r(117              ),l=r(847             ),n=r(224                                            ),i=r(227                                 ),c=r(228          ),p=r(229                    );t.WEBGL_ERROR_MODAL="webgl-error-modal",p.registerModal(t.WEBGL_ERROR_MODAL,e=>s.createElement(d,Object.assign({},e)));class d extends s.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){let e=this.props.modalShown&&this.props.modalShown.data;return s.createElement(i.Modal,Object.assign({size:"small",className:c.modal},this.props),s.createElement("div",{className:c.title},"Uh oh... we can't open that file"),s.createElement("div",{className:c.modalContent},(t=e,o.desktopApp&&t!==l.WebGLTestResult.SUCCESS?s.createElement("p",null,"We can't open this file because we're having trouble with WebGL. Please try restarting the desktop app.",s.createElement("br",null),s.createElement("br",null),"If this problem persists, your graphics card or driver may not be supported."):t===l.WebGLTestResult.NO_WEBGL?s.createElement("p",null,"We can't open this file because WebGL isn't supported, or is disabled, in your browser. If your browser supports WebGL, check out ",s.createElement("a",{target:"_blank",rel:"noopener",className:c.blueLink,href:"https://help.figma.com/hc/en-us/articles/360039828614"},"this help article")," to find out how to enable it."):t===l.WebGLTestResult.STENCIL_TEST_FAILURE?s.createElement("span",null,"We can't open this file because of a bug present in your browser. Older Windows video cards encounter rendering errors on Chrome, Opera, and Firefox. Using another browser like Edge or IE, or updating to the lastest or pre-release browser may fix this bug.",s.createElement("br",null),s.createElement("br",null),"Figma is working with the browser developers and a fix is pending."):void 0)),s.createElement("div",{className:c.buttonRow},s.createElement(n.ButtonPrimary,{className:c.confirmButton,onClick:this.hide},"Got it")));var t}}d.displayName="WebGLErrorModal"}),
(function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))(function(l,a){function n(e){try{o(s.next(e))}catch(t){a(t)}}function r(e){try{o(s.throw(e))}catch(t){a(t)}}function o(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(n,r)}o((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=i(124     ),a=i(115          ),n=i(121              ),r=i(416                                      ),o=i(472                                 ),c=i(433                                ),d=i(296                                 ),p=i(438                                 ),u=i(107                             ),f=i(133                               ),g=i(137                             ),m=i(272                                  ),h=i(188                             ),_=i(106                                     ),w=i(130                                              ),y=i(138                                   ),P=i(189                                        ),F=i(94                                   ),E=i(479                                  ),b=i(112                      ),v=i(117              ),S=i(417                               ),I=i(141                ),k=i(97                     ),O=i(96                     ),R=i(684                                                  ),A=i(401                              ),T=i(163                               ),C=i(685                                                ),M=i(687                                     ),D=i(146                                          ),L=i(846                                ),B=i(163                               ),N=i(401                              ),K=i(85                   ),V=i(111                        ),G=i(201                                     ),x=i(847             ),U=i(136                            ),$=i(136                            ),W=i(214                       ),H=i(168                                    ),j=i(218                                   ),Y=i(217       ),z=i(422                          ),q=i(589                          ),J=i(859                                          ),Q=i(437                        ),X=i(126          ),Z=i(231                                              ),ee=i(860                                ),te=i(118                             ),ie=i(387                                        );function se(e){return e&&e.startsWith(te.SELECTION_PAINT_PICKER_ID)}function le(e){return l.default.get(`/api/file_metadata/${e}`)}const ae=/^\/file\/([0-9a-zA-Z]{22,128})(?:\/|$)/.exec(location.pathname);let ne=null,re=null;var oe;ae&&(ne=ae[1],re=le(ne)),function(e){function t(e,t){const i=JSON.stringify(history.state&&history.state.previousSelectedView||{});b.trackEventForFile("File Opened",e.key,t,{randomID:W.getRandomID(),prevView:i})}function i(){return new Promise(()=>{})}function n(e,t){t.list=j.normalizeFontInfoList(t.list),e.dispatch(y.fullscreen.updateFontList(t)),D.fullscreen.DEPRECATED_sendMessage("updateFontList",t)}e.trackFileView=t,e.createNewFile=function(e,t,i){return s(this,void 0,void 0,function*(){const s=yield l.default.post("/api/files",t,{retryCount:2});e.dispatch(h.file.put({file:s.data.meta}));const a=s.data.meta,n=i?{uiTriggeredFrom:i.from,uiSelectedView:JSON.stringify(i.selectedView)}:{};return b.trackEventForFile("File Created",a.key,e.getState(),n),a})},e.loadFile=function(e,i){return s(this,void 0,void 0,function*(){let s=e.getState(),a=s.selectedView,r=a&&"fullscreen"===a.view;if(!r)return;C.preconnect(C.multiplayerURLForFileKey(i.key)),L.FullscreenBindingsImpl.startFetchingFontList(),yield D.fullscreen.loadAndStartFullscreenIfNecessary();const o=l.default.get(`/api/file_metadata/${i.key}`);let c;Z.getSubscribedComponentsForFile(e,i.key);try{c=yield o}catch(f){throw new Error(`Calling "/api/file_metadata/:file_key" failed with status ${f&&f.status}`)}if(!(r=(a=(s=e.getState()).selectedView)&&"fullscreen"===a.view))return;t(i,s);const d=JSON.parse(c.response);if(d.error)throw new Error(d.message);const p=d.meta,u={list:p.shared_fonts.map(Y.sharedFontMetadataToFontInfo),localizedToUnlocalized:[],sources:[T.FontSource.SHARED]};n(e,u),D.fullscreen.fileLoaded(i.key),D.fullscreen.DEPRECATED_sendMessage("openFileWithServerMetadata",{metadata:p,canEditFile:!0,startInCommentsMode:!1,newFile:!0,tracking_session_id:K.default().tracking_session_id}),e.dispatch(y.fullscreen.newFileLoaded({file:i}))})},e.loadBlankFile=function(e){return s(this,void 0,void 0,function*(){D.fullscreen.resetLoadedFile(),e.dispatch(y.fullscreen.setProgressBarMode({mode:z.ProgressBarMode.OFF})),yield D.fullscreen.loadAndStartFullscreenIfNecessary(),A.setPropertiesPanelTab(T.PropertiesPanelTab.DESIGN),D.fullscreen.DEPRECATED_sendMessage("openEmptyFile")})},e.handleFullscreenMetadataResponse=function(e,t){return s(this,void 0,void 0,function*(){let s=t.getState(),l=JSON.parse(e.response);if(l.error)throw new Error(l.message);let r=l.meta;const o=K.getFeatureFlags(),c=r.feature_flags;if(r.script!==Fig.fullscreenScriptHash&&(console.log(`reloading because ${r.script} != ${Fig.fullscreenScriptHash}`),a.locationReload(`Fullscreen version mismatch: ${r.script} != ${Fig.fullscreenScriptHash}`),yield i()),c&&(o.reload_when_feature_flags_change||c.reload_when_feature_flags_change)){const e=function(e,t){for(const i of[t,e])for(const s in i)if(!!e[s]!=!!t[s])return`${s} changed to ${!!t[s]}`;return null}(o,c);null!==e&&(console.log(`reloading because of a feature flag change: ${e}`),a.locationReload(`Feature flag change: ${e}`),yield i())}yield D.fullscreen.loadAndStartFullscreenIfNecessary();let d=I.getEditingFile(s);d&&Z.getSubscribedComponentsForFile(t,d.key);let p,u=!d||V.canEditFile(d.key,s),f=!1,g=null,m=null,h=void 0;const{selectedView:_}=s;if("fullscreen"!==_.view)throw new Error("Handling fullscreen metadata response not in a valid fullscreen state");(null!=_.commentThreadId||_.showCommentPreferencesPicker)&&(f=!0),s.fileByKey[s.editingFileKey].thumbnail_guid&&D.fullscreen.updateAppModel({thumbnailNodeId:s.fileByKey[s.editingFileKey].thumbnail_guid}),_.showInspectPanel?A.setPropertiesPanelTab(T.PropertiesPanelTab.CODE):u&&A.setPropertiesPanelTab(T.PropertiesPanelTab.DESIGN),g=_.integrationId,m=_.integrationParams,_.nodeId&&(h=_.nodeId),_.viewport&&(p=_.viewport);const w={list:r.shared_fonts.map(Y.sharedFontMetadataToFontInfo),localizedToUnlocalized:[],sources:[T.FontSource.SHARED]};n(t,w),_.versionId&&t.dispatch(y.fullscreen.setProgressBarMode({mode:z.ProgressBarMode.ON_AND_LOCKED})),D.fullscreen.DEPRECATED_sendMessage("openFileWithServerMetadata",{metadata:r,canEditFile:u,startInCommentsMode:f,integrationId:g,integrationParams:m,selectedNodeId:h,urlViewport:p,additionalTopPadding:s.user?void 0:J.LOGGED_OUT_FILE_BANNER_PADDING,tracking_session_id:K.default().tracking_session_id})})}}(oe||(oe={}));const ce=new Map([["snapToPixelGrid",e=>({message:"Snap to pixel grid "+(e?"enabled":"disabled")})],["snapToGeometry",e=>({message:"Snap to geometry "+(e?"enabled":"disabled")})],["snapToObjects",e=>({message:"Snap to objects "+(e?"enabled":"disabled")})],["renderGrid",e=>({message:"Pixel grid "+(e?"visible":"hidden")})],["hideMultiplayerCursors",e=>({message:"Multiplayer cursors "+(e?"hidden":"visible")})],["activeCanvasPixelPreview",(e,t)=>({message:"Pixel preview "+(e?"enabled ("+(t.activeCanvasRetinaMode?"2x":"1x")+")":"disabled")})],["showMasks",e=>({message:"Mask outlines "+(e?"visible":"hidden")})],["showOutlines",e=>({message:"Outlines "+(e?"visible":"hidden")})],["zeplinIntegration",e=>e?null:{message:"Zeplin Integration disabled"}],["avocodeIntegration",e=>e?null:{message:"Avocode Integration disabled"}],["showFrameGrids",(e,t,i)=>t.showFrameGridsForced?(D.fullscreen.updateAppModel({showFrameGridsForced:!1}),{message:"Layout grids visible",button:{text:"Hide",action:e=>{e.stopPropagation(),i.dispatch(w.visualBell.dequeue({})),D.fullscreen.updateAppModel({showFrameGrids:!1})}}}):{message:"Layout grids "+(e?"visible":"hidden")}],["showFrameGridsViewOnly",e=>({message:"Layout grids "+(e?"visible":"hidden")})]]);let de=0;t.default=(e=>t=>(function(i){if(G.updateRecentAction(i.type),_.fileBrowser.init.matches(i))return L.initializeFullscreenBindings(K.default().user_data,e),t(i);if(y.fullscreen.trackEvent.matches(i)){const t=e.getState(),s=i.payload.params||{},{fileKey:l}=t.selectedView;b.trackEventForFile(i.payload.name,l,t,s)}else{if(_.fileBrowser.selectView.matches(i)){const s=e.getState(),l=s.selectedView,a=i.payload,n=t(i);if("fullscreen"===l.view&&"fullscreen"!==a.view)e.dispatch(y.fullscreen.close());else if("fullscreen"!==l.view&&"fullscreen"===a.view){if(x.webGLSupport()!==x.WebGLTestResult.SUCCESS)return s.user&&!v.desktopApp&&e.dispatch(_.fileBrowser.selectView({view:"recentFiles"})),void e.dispatch(_.fileBrowser.showModal({type:ee.WEBGL_ERROR_MODAL,data:x.webGLSupport()}));a.fileKey&&(a.preloaded?oe.loadFile(e,s.fileByKey[a.fileKey]):(e.dispatch(y.fullscreen.open({file:s.fileByKey[a.fileKey],selectedNodeId:a.nodeId})),D.fullscreen.fileLoaded(a.fileKey)))}else if("fullscreen"===l.view&&"fullscreen"===a.view){if(l.fileKey&&!a.fileKey)throw new Error("selectView(...) was called with { view: 'fullscreen', fileKey: undefined } while a file was already open. We don't handle this case.");l.fileKey===a.fileKey||(e.dispatch(y.fullscreen.close()),e.dispatch(y.fullscreen.open({file:s.fileByKey[a.fileKey]})))}return n}if(y.fullscreen.new_.matches(i)){if(Date.now()-de<600)return;de=Date.now();let s=i.payload,l={};if(s.folder_id&&(l.folder_id=s.folder_id),s.org_id&&(l.org_id=s.org_id),s.openInNewTab&&!v.desktopApp){const e=n.encode(l);a.redirect(`/file/new${e?"?"+e:""}`,"_blank")}else v.desktopApp?oe.createNewFile(e,l,s.trackingInfo).then(t=>{e.dispatch(_.fileBrowser.selectView({view:"fullscreen",fileKey:t.key,newFile:!0}))}).catch(t=>{const i=t.message?t.message:"An error occurred while creating a new document.";e.dispatch(F.flash.error(i))}):(oe.loadBlankFile(e).then(()=>oe.createNewFile(e,l,s.trackingInfo)).then(t=>oe.loadFile(e,t)).catch(t=>{const i=t.message?t.message:"An error occurred while creating a new document.";e.dispatch(F.flash.error(i)),e.dispatch(_.fileBrowser.selectView({view:"recentFiles"}))}),e.dispatch(_.fileBrowser.selectView({view:"fullscreen",fileKey:null})));return t(i)}if(y.fullscreen.open.matches(i)){if(x.webGLSupport()!==x.WebGLTestResult.SUCCESS)throw new Error("webGLSupport() call failed but we're opening fullscreen. Don't dispatch fullscreen.open() directly - use selectView instead.");let l=e.getState(),r=l.user,o=i.payload.file;if(!W.isAllowedToLoadFullscreen){if(!o)return;a.redirect(o.url)}return(()=>s(this,void 0,void 0,function*(){try{let s,c;D.fullscreen.setOpenTimingStart(Date.now()),C.preconnect(C.multiplayerURLForFileKey(o.key)),L.FullscreenBindingsImpl.startFetchingFontList(),s=re&&ne===o.key?re:le(o.key),re=null,ne=null;try{c=yield s}catch(t){throw new Error(`Calling "/api/file_metadata/:file_key" failed with status ${t&&t.status}`)}yield oe.handleFullscreenMetadataResponse(c,e),oe.trackFileView(o,l),o&&r&&void 0===n.parse(window.location.search).embed_host&&a.promiseTabVisibility().then(()=>{setTimeout(()=>{o.key===e.getState().editingFileKey&&e.dispatch(h.file.markViewed({file:o}))},4e3)})}catch(i){let e="An error occurred while opening the editor.";i&&i.message===W.WASM_REQUIRED_ERROR&&(e=W.WASM_REQUIRED_ERROR),D.fullscreen.showFatalFlash(e),e!==W.WASM_REQUIRED_ERROR&&setTimeout(()=>{throw i})}}))(),t(i),
// The license agreement modal takes precedence over the unsupported browser modal
o&&R.needsLicenseAgreement(o)&&e.dispatch(_.fileBrowser.showModal({type:U.LICENSE_AGREEMENT_MODAL})),null}if(_.fileBrowser.handleUrlParamsForCurrentView.matches(i)){const s=e.getState();if(s.editingFileKey){const t=n.parse(i.payload.params||"")["node-id"];if(null!=t){const i=s.mirror.sceneGraph.get(t);if(null!=i){const l="NONE"!==i.styleType,a="SYMBOL"===i.type,n=s.mirror.sceneGraph.get(i.parent);if(l){const e=s.library.local.styles[t];B.Fullscreen.selectStyle(e.key,e.content_hash)}else a&&n&&"CANVAS"===n.type&&!n.visible?V.canEditFile(s.editingFileKey,s)&&e.dispatch(_.fileBrowser.showModal({type:$.RESTORE_COMPONENT_MODAL,data:{nodeId:t}})):(N.clearSelection(),N.addToSelection([t]),D.fullscreen.panToNode(t))}}const l=i.payload.hash;if(l){const t=l.substr(1),{selectedView:i}=e.getState();"fullscreen"!==i.view&&"prototype"!==i.view||(e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i),{commentThreadId:t}))),"fullscreen"===i.view?D.fullscreen.triggerAction("set-tool-comments"):e.dispatch(m.prototype.showComments()))}}return t(i)}if(y.fullscreen.close.matches(i))return e.dispatch(y.fullscreen.hidePicker()),D.fullscreen.isReady()&&(D.fullscreen.DEPRECATED_sendMessage("fullscreenWasClosed"),q.terminateCurrentPlugin("The editor was closed")),t(i);if(y.fullscreen.attemptClose.matches(i)){e.dispatch(y.fullscreen.requestThumbnailRender()),e.dispatch(p.comments.reset());let s=e.getState(),l=I.getEditingFile(s),a={view:"recentFiles"};return l&&O.canAccessFolder(s.folders,l.folder_id)&&(a={view:"folder",folderId:l.folder_id}),D.fullscreen.dispatchIfSaved(_.fileBrowser.selectView(a)),G.onDocumentSwitch(),t(i)}if(y.fullscreen.handlePopState.matches(i)){let s=e.getState();return s.saveStatus&&s.saveStatus.hasUnsavedChanges?(D.fullscreen.DEPRECATED_sendMessage("tabCloseWasAttempted"),confirm(s.saveStatus.tabCloseText)?e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i.payload.newSelectedView),{fromPopstate:!0}))):e.dispatch(_.fileBrowser.selectView(i.payload.oldSelectedView))):e.dispatch(_.fileBrowser.selectView(Object.assign(Object.assign({},i.payload.newSelectedView),{fromPopstate:!0}))),t(i)}if(g.team.put.matches(i)||h.file.put.matches(i)||f.folder.put.matches(i)||u.role.batchPut.matches(i)||u.role.put.matches(i)||u.role.post.matches(i)||u.role.del.matches(i)||d.orgUser.put.matches(i)){let s=e.getState();if(s.editingFileKey&&s.selectedView&&"fullscreen"===s.selectedView.view&&s.userStateLoaded){if(s.user){let l=V.canEditFile(s.editingFileKey,s),n=V.canViewFile(s.editingFileKey,s);t(i),s=e.getState();let r=V.canEditFile(s.editingFileKey,s),o=V.canViewFile(s.editingFileKey,s);return void(l===r&&n===o||a.locationReload("Access changed",{key:s.editingFileKey}))}if(h.file.put.matches(i)&&i.payload.file.link_access!==k.LinkAccess.VIEW&&i.payload.file.link_access!==k.LinkAccess.EDIT)return void a.locationReload("Link access removed",{key:s.editingFileKey})}return t(i)}if(h.file.deleteFiles.matches(i)){let s=e.getState();return s.user?s.editingFileKey&&i.payload.fileKeys[s.editingFileKey]&&!v.desktopApp&&e.dispatch(_.fileBrowser.selectView({view:"recentFiles"})):a.locationReload("File deleted",{key:s.editingFileKey}),t(i)}if(_.fileBrowser.showDropdown.matches(i)){e.dispatch(c.tooltip.hide());let s=!1;if(i.payload.type===te.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU){const t=i.payload.data.clientX,l=i.payload.data.clientY;null!=t&&null!=l&&(e.dispatch(y.fullscreen.setMostRecentContextMenuClickPosition({x:t,y:l})),s=!0)}return s||e.dispatch(y.fullscreen.setMostRecentContextMenuClickPosition(null)),t(i)}if(y.fullscreen.enterVersionHistoryMode.matches(i))return D.fullscreen.triggerAction("enter-history-mode"),t(i);if(y.fullscreen.requestThumbnailRender.matches(i))return T.Multiplayer.requestThumbnailRenderNowIfDirty(),t(i);if(y.fullscreen.updateMirror.matches(i)){const s=i.payload.appModelChanges,l=e.getState(),a=l.mirror&&l.mirror.appModel||null;if(i.payload.selection){let t=l.pickerShown;if(t){let i=s&&s.shownPropertiesPanels||a.shownPropertiesPanels;i&&i[T.PropertiesPanelType.TYPE_ITEM]&&"type-settings"===t.id||e.dispatch(y.fullscreen.hidePicker())}M.paintCache.clearCache()}return s&&a.isInitialized&&(function(e,t,i){if(null==e.saveAsState.startTime)return;const s=e.mirror&&e.mirror.appModel||null;if(null==s)return;function l(e){return null!=t[e]?t[e]:s[e]}const a=l("imageTotalCount"),n=l("imageDecodedOrFailedCount");i(o.progress.set({key:"save-as",progress:n/a})),n==a&&i(y.fullscreen.beginSaveAs({skipped:!1}))}(l,s,e.dispatch),function(e,t,i){if(e&&!e.isInitialized)for(const s in t){const l=ce.get(s);if(!l)continue;const a=t[s],n=e[s];if(void 0===n||a===n)continue;const r=l(a,Object.assign(Object.assign({},e),t),i);if(r){i.dispatch(w.visualBell.enqueue(Object.assign({type:"settings_changed"},r)));break}}}(a,s,e)),t(i)}if(y.fullscreen.computeExport.matches(i)){const s=e.getState(),l=S.computeExportItems(s);return e.dispatch(r.exportableItems.setItems({items:l.items,frames:l.frames})),t(i)}if(y.fullscreen.showPicker.matches(i)||y.fullscreen.hidePicker.matches(i)){y.fullscreen.showPicker.matches(i)&&i.payload.id===te.EXPORT_PICKER_ID&&e.dispatch(y.fullscreen.computeExport());const s=e.getState().pickerShown,l=t(i),a=e.getState().pickerShown,n=s&&s.id,r=a&&a.id,o=n!==te.BG_PANEL_COLOR_PICKER_ID&&r===te.BG_PANEL_COLOR_PICKER_ID,c=n===te.BG_PANEL_COLOR_PICKER_ID&&r!==te.BG_PANEL_COLOR_PICKER_ID,d=n!==te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID&&r===te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID,p=n===te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID&&r!==te.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID,u=n!==te.TYPE_PANEL_ID&&r===te.TYPE_PANEL_ID,f=n===te.TYPE_PANEL_ID&&r!==te.TYPE_PANEL_ID,g=!se(n)&&se(r),m=se(n)&&!se(r),h=se(n)&&se(r)&&n!==r;return o?D.fullscreen.updateAppModel({backgroundPickerOpen:!0}):c?D.fullscreen.updateAppModel({backgroundPickerOpen:!1}):d?D.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!0}):p?D.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!1}):u?(D.fullscreen.updateAppModel({typeDetailsPanelOpen:!0}),X.segment.track("Type Details Panel Opened")):f?D.fullscreen.updateAppModel({typeDetailsPanelOpen:!1}):g||h?T.SelectionPaintHelpers.setIsPaintPickerOpen(!0):m&&T.SelectionPaintHelpers.setIsPaintPickerOpen(!1),m&&e.dispatch(ie.selectionPaintActions.updateCurrentSelectionPaintInPicker({paintId:void 0,originalPaint:void 0,updatedPaintFromDropper:void 0})),l}if(_.fileBrowser.showModal.matches(i)&&i.payload.type===$.FONT_INSTALLER_MODAL)e.dispatch(E.userFlags.post({flags:{completed_font_installer_modal:!0}}));else if(y.fullscreen.updateMultiplayerState.matches(i))void 0!==i.payload.allUsers&&G.setMultiplayerUserCount(i.payload.allUsers.length);else if(y.fullscreen.open.matches(i))G.onDocumentSwitch();else if(y.fullscreen.documentLoaded.matches(i)){const t=e.getState();G.onDocumentLoad(t.editingFileKey);const i=t.selectedView;i.fileKey&&i.versionId&&l.default.get(`/api/versions/${i.fileKey}/${i.versionId}`).then(t=>{e.dispatch(y.fullscreen.enterVersionHistoryMode()),e.dispatch(P.versionHistory.setLinkedVersion({version:t.data.meta}))}).catch(t=>{e.dispatch(y.fullscreen.enterVersionHistoryMode()),e.dispatch(F.flash.error(t.data.message)),e.dispatch(y.fullscreen.setProgressBarMode({mode:z.ProgressBarMode.OFF}))}),i&&i.fileKey&&i.showCommentPreferencesPicker&&e.dispatch(y.fullscreen.showPicker({id:Q.COMMENT_PREFERENCE_ID}))}else y.fullscreen.beginSaveAs.matches(i)&&(q.terminateCurrentPlugin("Saving the document"),e.dispatch(w.visualBell.clearAll()),e.dispatch(w.visualBell.enqueue({type:"save-as-actual",message:"Saving...",icon:H.VisualBellIcon.SPINNER,timeout:1/0})),setTimeout(()=>{D.fullscreen.triggerAction("save-as",{source:"menu"}),e.dispatch(w.visualBell.dequeue({type:"save-as-actual"}))},50))}return t(i)})),t.handleFullscreenMetadataResponse=oe.handleFullscreenMetadataResponse,t.loadBlankFile=oe.loadBlankFile}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(420                                          ),s=o(113          ),a=o(421                                  );e.keyboardShortcutMiddleware=(t=>e=>(function(o){if(!r.keyboardShortcut.usedKeyboardShortcut.matches(o))return e(o);{const r=t.getState().usedKeyboardShortcuts;e(o);const c=t.getState().usedKeyboardShortcuts;r!==c&&c&&s.localStorageOrNull&&s.localStorageOrNull.setItem(a.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY,JSON.stringify(c))}}))}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.COOKIE="figma.pc",o.deletePromoCodeCookie=function(){const e=`${o.COOKIE}=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(137                             ),s=a(285                                   ),n=a(129                                ),d=a(106                                     ),m=a(94                                   ),p=a(124     ),o=a(95                      ),r=a(111                        ),c=a(276                       ),l=a(863                    ),u=a(112                      );e.paymentsMiddleware=(t=>e=>(function(a){if(d.fileBrowser.selectView.matches(a)&&("teamUpgrade"===a.payload.view||"addAnnualPlan"===a.payload.view)){const i=a.payload.teamId,m=t.getState(),p=m.teams[i];return r.canAdminTeam(i,m)||r.canEditTeam(i,m)&&!o.isTeamPro(p)?(null!=m.selectedView&&"teamUpgrade"===m.selectedView.view&&m.selectedView.teamId===i||(t.dispatch(n.payment.init({numAnnualEditors:p.editors})),p.editors>1&&t.dispatch(s.teamAdmin.fetchEditors({teamId:p.id}))),void e(a)):void t.dispatch(d.fileBrowser.selectView({view:"team",teamId:i}))}if(n.payment.startProUpgradeFlow.matches(a)){const{teamId:i,selectedView:s,newTeam:n}=a.payload;return t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CHOOSE_PLAN,cartStep:n?c.CartStep.FORM:c.CartStep.PLANS,previousView:s})),e(a)}if(n.payment.confirmStudentTeamFlow.matches(a)){const{teamId:i,selectedView:s}=a.payload;return t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CONFIRM_STUDENT_TEAM,previousView:s})),e(a)}if(n.payment.submitPaymentAndAddress.matches(a)){e(a);const{teamId:i,address:s,token:m}=a.payload,o=t.getState(),r=o.selectedView,l={source_token:m.used?null:m.id,address:s,annual_quantity:o.payment.numAnnualEditors,monthly_quantity:o.payment.numMonthlyEditors};t.dispatch(n.payment.showError({error:null})),p.default.post(`/api/subscriptions-2018-11-08/team/${i}/token`,l).then(({data:e})=>{const{address:a,estimate:s}=e.meta;t.dispatch(n.payment.setSubmitPending({submitPending:!1})),t.dispatch(n.payment.setAddress({address:a})),t.dispatch(n.payment.setTaxes({taxes:s})),t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.CONFIRM_PAY,previousView:r.previousView})),u.trackEventForTeam("Payment Information Submitted",i,o,{subscription_amount:s.sub_total,taxes_amount:s.tax_total,total_amount:s.total})}).catch(e=>{t.dispatch(n.payment.setSubmitPending({submitPending:!1})),t.dispatch(n.payment.showError({error:e.data.message})),t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:i,paymentStep:c.PaymentStep.PAYMENT_AND_ADDRESS,previousView:r.previousView}))})}else if(n.payment.submitConfirmAndPay.matches(a)){const{teamId:e,numAnnualEditors:s,numMonthlyEditors:r,promo:l}=a.payload,u={annual_quantity:s||0,monthly_quantity:r||0,promo_code:l?l.code:null},h=t.getState(),y=h.selectedView,w=h.payment.upgradingNewTeam;p.default.post(`/api/subscriptions-2018-11-08/team/${e}`,u).then(({data:a})=>{const s=a.meta&&a.meta.team;t.dispatch(n.payment.setSubmitPending({submitPending:!1})),s&&t.dispatch(i.team.put({team:s,userInitiated:!1})),w?t.dispatch(d.fileBrowser.selectView({view:"team",teamId:e})):t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:e})),t.dispatch(m.flash.flash("Successfully upgraded to a Professional Team!")),l&&t.dispatch(n.payment.setPromo({promo:null}))}).catch(a=>{if(t.dispatch(n.payment.setSubmitPending({submitPending:!1})),a.data&&a.data.message){const i=()=>{t.dispatch(d.fileBrowser.selectView({view:"teamUpgrade",teamId:e,paymentStep:c.PaymentStep.PAYMENT_AND_ADDRESS,previousView:y.previousView}))};return"PROMO_CODE"===a.data.reason?(t.dispatch(n.payment.setPromo({promo:null})),i(),void t.dispatch(n.payment.showError({error:a.data.message}))):"CARD_ERROR"===a.data.reason?(t.dispatch(n.payment.setToken({token:null})),i(),void t.dispatch(n.payment.showError({error:a.data.message}))):void t.dispatch(m.flash.error(a.data.message))}o.contactSupportFlash(a,t.dispatch)})}else if(n.payment.submitConfirmAddAnnual.matches(a)){const{teamId:e,numAnnualEditors:s}=a.payload,r={annual_quantity:s||0};p.default.put(`/api/subscriptions-2018-11-08/team/${e}`,r).then(({data:a})=>{const s=a.meta&&a.meta.team;s&&t.dispatch(i.team.put({team:s,userInitiated:!1})),t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:e})),t.dispatch(m.flash.flash("Successfully added an annual plan.")),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}).catch(e=>{t.dispatch(n.payment.setSubmitPending({submitPending:!1})),e.data&&e.data.message?t.dispatch(m.flash.error(e.data.message)):o.contactSupportFlash(e,t.dispatch)})}else{if(n.payment.putAnnualQuantity.matches(a)){const i=a.payload.teamId,m={annual_quantity:a.payload.annualQuantity};return p.default.put(`/api/subscriptions-2018-11-08/team/${i}`,m).then(({data:e})=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:i})),t.dispatch(d.fileBrowser.hideModal()),t.dispatch(n.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}).catch(e=>{o.contactSupportFlash(e,t.dispatch),t.dispatch(n.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}),e(a)}if(n.payment.makeStudentTeam.matches(a))return p.default.put(`/api/teams/${a.payload.teamId}/student_team`,{student_team:!0}).then(()=>{t.getState().payment.upgradingNewTeam?t.dispatch(d.fileBrowser.selectView({view:"team",teamId:a.payload.teamId})):t.dispatch(d.fileBrowser.selectView({view:"teamAdmin",teamId:a.payload.teamId})),t.dispatch(m.flash.flash("Successfully upgraded to a Student Team!")),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}).catch(e=>{o.contactSupportFlash(e,t.dispatch),t.dispatch(n.payment.setSubmitPending({submitPending:!1}))}),e(a);if(n.payment.downgrade.matches(a)){const n=a.payload.teamId,d=t.getState().teams[n];return d.student_team?p.default.put(`/api/teams/${n}/student_team`,{student_team:!1}).then(()=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(m.flash.flash("Successfully downgraded to a Starter Team."))}).catch(e=>o.contactSupportFlash(e,t.dispatch)):p.default.del(`/api/subscriptions-2018-11-08/team/${n}`).then(({data:e})=>{const a=e.meta&&e.meta.team;a&&t.dispatch(i.team.put({team:a,userInitiated:!1})),t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(m.flash.flash(`Team "${d.name}" will be downgraded at the end of the current subscription period.`,8e3))}).catch(e=>o.contactSupportFlash(e,t.dispatch)),e(a)}n.payment.setPromo.matches(a)&&(a.payload.promo||l.deletePromoCodeCookie())}return e(a)}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const c=a(278                             ),i=a(106                                     ),s=a(137                             );e.cartMiddleware=(t=>e=>(function(a){const{selectedView:r}=t.getState();if(c.cart.cartStep.matches(a)){const{cartStep:e}=a.payload;t.dispatch(i.fileBrowser.selectView({view:"teamUpgrade",teamId:r.teamId,cartStep:e}))}if(c.cart.teamSubscribed.matches(a)){const{team:e}=a.payload;t.dispatch(s.team.put({team:e,userInitiated:!1}))}return e(a)}))}),
(function(r,p,e){r.exports={background:"prototype--background--DpPNr",wrapper:"prototype--wrapper--KZ5DX",wrapperFullScale:"prototype--wrapperFullScale--2bU4j prototype--wrapper--KZ5DX",viewer:"prototype--viewer--W7Z-5",commentsCursor:"prototype--commentsCursor--1-h6N"}}),
(function(r,e,s){r.exports={progressBarBackground:"progress_bar--progressBarBackground--18Dzc",progressBar:"progress_bar--progressBar--1uSHu",prideBackground:"progress_bar--prideBackground--1iV2y",keepUI:"progress_bar--keepUI--3e-S0",progressBarPageCover:"progress_bar--progressBarPageCover--5OQvS",progressBarPageFade:"progress_bar--progressBarPageFade--3NV2m progress_bar--progressBarPageCover--5OQvS",fadein:"progress_bar--fadein--xk7sz"}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(3,1    ),t=s(867                 ),n=s(422                          ),o=s(85                   );let i=!1;class l extends a.PureComponent{constructor(){super(...arguments),this.renderKeepUI=(()=>a.createElement("div",null,a.createElement("div",{className:t.progressBarBackground}),a.createElement("div",{className:t.progressBarPageFade}),a.createElement(r.ProgressBarRelative,{className:t.keepUI,style:{left:`${this.props.left||0}`}}))),this.renderHideUI=(()=>{let e=o.getFeatureFlags(),s=e&&e.pride_loading_bar?t.prideBackground:void 0;return a.createElement("div",null,a.createElement("div",{className:t.progressBarBackground}),a.createElement("div",{className:t.progressBarPageCover}),a.createElement(r.ProgressBarRelative,{className:s}))})}render(){return this.props.progressBarMode===n.ProgressBarMode.KEEP_UI?this.renderKeepUI():this.renderHideUI()}}r.ProgressBar=l,l.displayName="ProgressBar";r.ProgressBarRelative=(e=>((()=>{if(i)return;i=!0;let e="";const r=e=>Math.atan(e);for(let t=0;t<200;t++){let s=t/200,a=r(20*s)/r(20);e+=(100*s).toFixed(3)+"%{transform:scaleX("+a.toFixed(3)+");}"}const s="@-moz-keyframes progress-bar-animation {"+e+"}@-webkit-keyframes progress-bar-animation {"+e+"}",a=document.createElement("style");a.textContent=s,document.head.appendChild(a)})(),a.createElement("div",{className:`${t.progressBar} ${e.className||""}`,style:Object.assign({MozAnimation:"progress-bar-animation 120s linear",WebkitAnimation:"progress-bar-animation 120s linear"},e.style)})))}),
(function(n,e,o){n.exports={reconnectingModal:"reconnecting_modal--reconnectingModal--1Txu_","multiplayer-reconnecting-animation":"reconnecting_modal--multiplayer-reconnecting-animation--1gNZI",reconnectingModalFlash:"reconnecting_modal--reconnectingModalFlash--31Bvx"}}),
(function(e,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=c(3,1    ),a=c(869                       );n.ReconnectingModal=function(){return t.createElement("div",{className:a.reconnectingModal},t.createElement("div",{className:a.reconnectingModalFlash},"Loading..."))}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(340              ),o=n(145         ),r=n(126          ),a=n(156                                ),i=n(437                        ),d=n(411                                        ),c=n(442                                  );function l(e,t){if(!e||!t)return null;return e.width-t.x<s.pxToInt(d.commentThreadWidth)+48?{x:-s.pxToInt(d.commentThreadWidth)-48,y:-100}:{x:48,y:-100}}t.MAX_DRAG_DISTANCE=15,t.canPlaceCommentAtViewportPosition=function(e,t){return!t||o.contains(t,e)},t.getInitialThreadOffset=l,t.newCommentThread=function(e,t){const{state:n,messageMeta:s}=e.newComment,r=e.viewportInfo,d=e.newComment.anchorPosition,c=d&&r?a.canvasPositionToViewport(r,d):null,m=e.newComment.threadOffset||l(e.viewportInfo,c),u=c&&m?o.Vector.add(c,m):null;return{id:i.NEW_COMMENT_ID,key:i.NEW_COMMENT_ID,state:n,anchored:!0,anchorPosition:c,threadPosition:u,page:t,isActive:e.activeId===i.NEW_COMMENT_ID,comments:[],messageMeta:s,replyMessageMeta:[]}},t.livegraphCommentThreads=function(e,t,n,s){if("loaded"!==e.status)return"errors"===e.status&&r.segmentTrackEvent("Livegraph Comments Errors",{errors:JSON.stringify(e.errors)}),[];const i=e.data.file;if(!i)return[];const d=Object.create(null),m=new Set,u=i.comments.filter(e=>null===e.parentId),f=i.currentUserFileFollower&&i.currentUserFileFollower.unreadComments;for(const o of u)if(o.clientMeta){const{x:e,y:t,nodeId:n,nodeOffset:s}=o.clientMeta;d[o.id]={canvasPosition:{x:e,y:t},nodeId:n,nodeOffset:s},null!=n&&m.add(n)}const g=n(d,Array.from(m));return u.map(e=>{const{state:n,offsetOrNull:r,replyMessageMeta:d}=t.threads[e.id]||c.getDefaultThread(),m=e.clientMeta&&e.clientMeta.nodeId||"0:1",u=t.viewportInfo,_=g[e.id],h=_&&u?a.canvasPositionToViewport(u,_):null,p=r||l(u,h),M=h&&p?o.Vector.add(h,p):null,I=[e,...i.comments.filter(t=>t.parentId===e.id).sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())];return{id:e.id,key:e.key,state:n,anchored:!!_,anchorPosition:h,threadPosition:M,page:s(m),isActive:t.activeId===e.id,comments:I.map(t=>({id:t.id,key:e.key,parent_id:t.parentId,user_id:t.user.id,created_at:t.createdAt.toISOString(),resolved_at:e.resolvedAt?e.resolvedAt.toISOString():null,deleted_at:null,message_meta:t.messageMeta.map(e=>e.user?{t:e.t,user_id:e.user.id,user_annotated:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl}}:{t:e.t}),client_meta:t.clientMeta?Object.assign(Object.assign(Object.assign({x:t.clientMeta.x,y:t.clientMeta.y},t.clientMeta.nodeId?{node_id:t.clientMeta.nodeId}:{}),t.clientMeta.inFrame?{in_frame:t.clientMeta.inFrame}:{}),t.clientMeta.nodeOffset?{node_offset:t.clientMeta.nodeOffset}:{}):null,order_id:null!==t.orderId?t.orderId.toString():null,isUnread:!(!f||!f[t.id]),user:{id:t.user.id,handle:t.user.handle,img_url:t.user.imgUrl}})),messageMeta:[],replyMessageMeta:d}})},t.commentThreads=function(e,t,n){const s=[],r=Object.create(null),i=new Set;for(const o in e.commentIdsByThread){const t=e.commentsById[o];if(t&&t.client_meta){const{x:e,y:n,node_id:s,node_offset:a}=t.client_meta;r[o]={canvasPosition:{x:e,y:n},nodeId:s||null,nodeOffset:a||null},null!=s&&i.add(s)}}const d=t(r,Array.from(i));for(const m in e.commentIdsByThread){const t=e.threads[m]||c.getDefaultThread(),r=e.commentsById[m];if(r){const i=e.commentIdsByThread[m];let c="0:1";r.client_meta&&r.client_meta.node_id&&(c=r.client_meta.node_id);const u=e.viewportInfo,f=d[m],g=f&&u?a.canvasPositionToViewport(u,f):null,_=t.offsetOrNull||l(u,g),h=g&&_?o.Vector.add(g,_):null;s.push({id:m,key:r.key,state:t.state,anchored:!!f,anchorPosition:g,threadPosition:h,page:n(c),isActive:e.activeId===m,comments:i.map(t=>Object.assign(Object.assign({},e.commentsById[t]),{isUnread:t in e.unreadIds})).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),messageMeta:[],replyMessageMeta:t.replyMessageMeta})}}return s},t.getNumUnreadComments=function(e){let t=0;for(const n of e)if(n.anchored&&!n.comments[0].resolved_at)for(const e of n.comments)e.isUnread&&t++;return t}}),
(function(e,t,i){var n,r;n=this,r=function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frequently=t.store=t.emojiIndex=t.Category=t.Emoji=t.Picker=void 0;var n=i(1);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return n.Picker}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return n.Emoji}}),Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return n.Category}});var r=o(i(165)),s=o(i(133)),a=o(i(121));function o(e){return e&&e.__esModule?e:{default:e}}t.emojiIndex=r.default,t.store=s.default,t.frequently=a.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);Object.defineProperty(t,"Anchors",{enumerable:!0,get:function(){return d(n).default}});var r=i(120);Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return d(r).default}});var s=i(136);Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return d(s).default}});var a=i(159);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return d(a).default}});var o=i(163);Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return d(o).default}});var u=i(164);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return d(u).default}});var f=i(169);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Skins",{enumerable:!0,get:function(){return d(f).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=F(i(3)),r=F(i(56)),s=F(i(60)),a=F(i(61)),o=F(i(65)),u=F(i(86)),f=F(i(94)),d=F(i(95)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(104));function F(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),a=null,u=!0,f=!1,d=void 0;try{for(var l,F=(0,n.default)(e.categories);!(u=(l=F.next()).done);u=!0){var m=l.value;if(m.first){a=m;break}}}catch(h){f=!0,d=h}finally{try{!u&&F.return&&F.return()}finally{if(f)throw d}}return i.state={selected:a.name},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,i=e.onAnchorClick,n=e.color,r=e.i18n,s=this.state.selected;return f.default.createElement("div",{className:"emoji-mart-anchors"},t.map(function(e,t){var a=e.name,o=e.anchor,u=a==s,d=l[a];return!1===o?null:f.default.createElement("span",{key:a,title:r.categories[a.toLowerCase()],onClick:function(){return i(e,t)},className:"emoji-mart-anchor "+(u?"emoji-mart-anchor-selected":""),style:{color:u?n:null}},f.default.createElement(d,null),f.default.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:n}}))}))}}]),t}(f.default.Component);t.default=m,m.propTypes={categories:d.default.array,onAnchorClick:d.default.func},m.defaultProps={categories:[],onAnchorClick:function(){}}},function(e,t,i){e.exports={default:i(4),__esModule:!0}},function(e,t,i){i(5),i(51),e.exports=i(53)},function(e,t,i){i(6);for(var n=i(17),r=i(21),s=i(9),a=i(48)("toStringTag"),o=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var f=o[u],d=n[f],l=d&&d.prototype;l&&!l[a]&&r(l,a,f),s[f]=s.Array}},function(e,t,i){"use strict";var n=i(7),r=i(8),s=i(9),a=i(10);e.exports=i(14)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,i){var n=i(11),r=i(13);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(12);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var n=i(15),r=i(16),s=i(31),a=i(21),o=i(32),u=i(9),f=i(33),d=i(47),l=i(49),F=i(48)("iterator"),m=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,i,c,N,p,_){f(i,t,c);var g,E,y,v=function(e){if(!m&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},b=t+" Iterator",w="values"==N,C=!1,k=e.prototype,L=k[F]||k["@@iterator"]||N&&k[N],D=L||v(N),j=N?w?v("entries"):D:void 0,A="Array"==t&&k.entries||L;if(A&&(y=l(A.call(new e)))!==Object.prototype&&(d(y,b,!0),n||o(y,F)||a(y,F,h)),w&&L&&"values"!==L.name&&(C=!0,D=function(){return L.call(this)}),n&&!_||!m&&!C&&k[F]||a(k,F,D),u[t]=D,u[b]=h,N)if(g={values:w?D:v("values"),keys:p?D:v("keys"),entries:j},_)for(E in g)E in k||s(k,E,g[E]);else r(r.P+r.F*(m||C),t,g);return g}},function(e,t){e.exports=!0},function(e,t,i){var n=i(17),r=i(18),s=i(19),a=i(21),o=function(e,t,i){var u,f,d,l=e&o.F,F=e&o.G,m=e&o.S,h=e&o.P,c=e&o.B,N=e&o.W,p=F?r:r[t]||(r[t]={}),_=p.prototype,g=F?n:m?n[t]:(n[t]||{}).prototype;for(u in F&&(i=t),i)(f=!l&&g&&void 0!==g[u])&&u in p||(d=f?g[u]:i[u],p[u]=F&&"function"!=typeof g[u]?i[u]:c&&f?s(d,n):N&&g[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?s(Function.call,d):d,h&&((p.virtual||(p.virtual={}))[u]=d,e&o.R&&_&&!_[u]&&a(_,u,d)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(20);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(22),r=i(30);e.exports=i(26)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(23),r=i(25),s=i(29),a=Object.defineProperty;t.f=i(26)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return a(e,t,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(24);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(26)&&!i(27)(function(){return 7!=Object.defineProperty(i(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=!i(27)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,i){var n=i(24),r=i(17).document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,i){var n=i(24);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){e.exports=i(21)},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";var n=i(34),r=i(30),s=i(47),a={};i(21)(a,i(48)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(a,{next:r(1,i)}),s(e,t+" Iterator")}},function(e,t,i){var n=i(23),r=i(35),s=i(45),a=i(42)("IE_PROTO"),o=function(){},u=function(){var e,t=i(28)("iframe"),n=s.length;for(t.style.display="none",i(46).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[s[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[a]=e):i=u(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(22),r=i(23),s=i(36);e.exports=i(26)?Object.defineProperties:function(e,t){r(e);for(var i,a=s(t),o=a.length,u=0;o>u;)n.f(e,i=a[u++],t[i]);return e}},function(e,t,i){var n=i(37),r=i(45);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(32),r=i(10),s=i(38)(!1),a=i(42)("IE_PROTO");e.exports=function(e,t){var i,o=r(e),u=0,f=[];for(i in o)i!=a&&n(o,i)&&f.push(i);for(;t.length>u;)n(o,i=t[u++])&&(~s(f,i)||f.push(i));return f}},function(e,t,i){var n=i(10),r=i(39),s=i(41);e.exports=function(e){return function(t,i,a){var o,u=n(t),f=r(u.length),d=s(a,f);if(e&&i!=i){for(;f>d;)if((o=u[d++])!=o)return!0}else for(;f>d;d++)if((e||d in u)&&u[d]===i)return e||d||0;return!e&&-1}}},function(e,t,i){var n=i(40),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(40),r=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):s(e,t)}},function(e,t,i){var n=i(43)("keys"),r=i(44);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(17),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){e.exports=i(17).document&&document.documentElement},function(e,t,i){var n=i(22).f,r=i(32),s=i(48)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,i){var n=i(43)("wks"),r=i(44),s=i(17).Symbol,a="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=a&&s[e]||(a?s:r)("Symbol."+e))}).store=n},function(e,t,i){var n=i(32),r=i(50),s=i(42)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){var n=i(13);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n=i(52)(!0);i(14)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var n=i(40),r=i(13);e.exports=function(e){return function(t,i){var s,a,o=String(r(t)),u=n(i),f=o.length;return u<0||u>=f?e?"":void 0:(s=o.charCodeAt(u))<55296||s>56319||u+1===f||(a=o.charCodeAt(u+1))<56320||a>57343?e?o.charAt(u):s:e?o.slice(u,u+2):a-56320+(s-55296<<10)+65536}}},function(e,t,i){var n=i(23),r=i(54);e.exports=i(18).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(55),r=i(48)("iterator"),s=i(9);e.exports=i(18).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||s[n(e)]}},function(e,t,i){var n=i(12),r=i(48)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=Object(e),r))?i:s?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){e.exports={default:i(57),__esModule:!0}},function(e,t,i){i(58),e.exports=i(18).Object.getPrototypeOf},function(e,t,i){var n=i(50),r=i(49);i(59)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(16),r=i(18),s=i(27);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],a={};a[e]=t(i),n(n.S+n.F*s(function(){i(1)}),"Object",a)}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){e.exports={default:i(63),__esModule:!0}},function(e,t,i){i(64);var n=i(18).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(16);n(n.S+n.F*!i(26),"Object",{defineProperty:i(22).f})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(66),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(67)),r=a(i(70)),s="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,i){e.exports={default:i(68),__esModule:!0}},function(e,t,i){i(51),i(5),e.exports=i(69).f("iterator")},function(e,t,i){t.f=i(48)},function(e,t,i){e.exports={default:i(71),__esModule:!0}},function(e,t,i){i(72),i(83),i(84),i(85),e.exports=i(18).Symbol},function(e,t,i){"use strict";var n=i(17),r=i(32),s=i(26),a=i(16),o=i(31),u=i(73).KEY,f=i(27),d=i(43),l=i(47),F=i(44),m=i(48),h=i(69),c=i(74),N=i(75),p=i(76),_=i(79),g=i(23),E=i(10),y=i(29),v=i(30),b=i(34),w=i(80),C=i(82),k=i(22),L=i(36),D=C.f,j=k.f,A=w.f,x=n.Symbol,B=n.JSON,O=B&&B.stringify,S=m("_hidden"),M=m("toPrimitive"),P={}.propertyIsEnumerable,T=d("symbol-registry"),R=d("symbols"),z=d("op-symbols"),Z=Object.prototype,q="function"==typeof x,I=n.QObject,U=!I||!I.prototype||!I.prototype.findChild,J=s&&f(function(){return 7!=b(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=D(Z,t);n&&delete Z[t],j(e,t,i),n&&e!==Z&&j(Z,t,n)}:j,H=function(e){var t=R[e]=b(x.prototype);return t._k=e,t},W=q&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},G=function(e,t,i){return e===Z&&G(z,t,i),g(e),t=y(t,!0),g(i),r(R,t)?(i.enumerable?(r(e,S)&&e[S][t]&&(e[S][t]=!1),i=b(i,{enumerable:v(0,!1)})):(r(e,S)||j(e,S,v(1,{})),e[S][t]=!0),J(e,t,i)):j(e,t,i)},$=function(e,t){g(e);for(var i,n=p(t=E(t)),r=0,s=n.length;s>r;)G(e,i=n[r++],t[i]);return e},K=function(e){var t=P.call(this,e=y(e,!0));return!(this===Z&&r(R,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(R,e)||r(this,S)&&this[S][e])||t)},Y=function(e,t){if(e=E(e),t=y(t,!0),e!==Z||!r(R,t)||r(z,t)){var i=D(e,t);return!i||!r(R,t)||r(e,S)&&e[S][t]||(i.enumerable=!0),i}},V=function(e){for(var t,i=A(E(e)),n=[],s=0;i.length>s;)r(R,t=i[s++])||t==S||t==u||n.push(t);return n},Q=function(e){for(var t,i=e===Z,n=A(i?z:E(e)),s=[],a=0;n.length>a;)!r(R,t=n[a++])||i&&!r(Z,t)||s.push(R[t]);return s};q||(o((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=F(arguments.length>0?arguments[0]:void 0),t=function(i){this===Z&&t.call(z,i),r(this,S)&&r(this[S],e)&&(this[S][e]=!1),J(this,e,v(1,i))};return s&&U&&J(Z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=Y,k.f=G,i(81).f=w.f=V,i(78).f=K,i(77).f=Q,s&&!i(15)&&o(Z,"propertyIsEnumerable",K,!0),h.f=function(e){return H(m(e))}),a(a.G+a.W+a.F*!q,{Symbol:x});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)m(X[ee++]);for(X=L(m.store),ee=0;X.length>ee;)c(X[ee++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return r(T,e+="")?T[e]:T[e]=x(e)},keyFor:function(e){if(W(e))return N(T,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?b(e):$(b(e),t)},defineProperty:G,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:V,getOwnPropertySymbols:Q}),B&&a(a.S+a.F*(!q||f(function(){var e=x();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(t=n[1])&&(i=t),!i&&_(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!W(t))return t}),n[1]=t,O.apply(B,n)}}}),x.prototype[M]||i(21)(x.prototype,M,x.prototype.valueOf),l(x,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,i){var n=i(44)("meta"),r=i(24),s=i(32),a=i(22).f,o=0,u=Object.isExtensible||function(){return!0},f=!i(27)(function(){return u(Object.preventExtensions({}))}),d=function(e){a(e,n,{value:{i:"O"+ ++o,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return f&&l.NEED&&u(e)&&!s(e,n)&&d(e),e}}},function(e,t,i){var n=i(17),r=i(18),s=i(15),a=i(69),o=i(22).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:a.f(e)})}},function(e,t,i){var n=i(36),r=i(10);e.exports=function(e,t){for(var i,s=r(e),a=n(s),o=a.length,u=0;o>u;)if(s[i=a[u++]]===t)return i}},function(e,t,i){var n=i(36),r=i(77),s=i(78);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,o=i(e),u=s.f,f=0;o.length>f;)u.call(e,a=o[f++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(12);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(10),r=i(81).f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==s.call(e)?function(e){try{return r(e)}catch(t){return a.slice()}}(e):r(n(e))}},function(e,t,i){var n=i(37),r=i(45).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(78),r=i(30),s=i(10),a=i(29),o=i(32),u=i(25),f=Object.getOwnPropertyDescriptor;t.f=i(26)?f:function(e,t){if(e=s(e),t=a(t,!0),u)try{return f(e,t)}catch(i){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(74)("asyncIterator")},function(e,t,i){i(74)("observable")},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(87)),r=a(i(91)),s=a(i(66));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,i){e.exports={default:i(88),__esModule:!0}},function(e,t,i){i(89),e.exports=i(18).Object.setPrototypeOf},function(e,t,i){var n=i(16);n(n.S,"Object",{setPrototypeOf:i(90).set})},function(e,t,i){var n=i(24),r=i(23),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(19)(Function.call,i(82).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:s}},function(e,t,i){e.exports={default:i(92),__esModule:!0}},function(e,t,i){i(93);var n=i(18).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(16);n(n.S,"Object",{create:i(34)})},function(t,i){t.exports=e},function(e,t,i){(function(t){e.exports=i(103)()}).call(t,i(96))},function(e,t){var i,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,f=[],d=!1,l=-1;function F(){d&&u&&(d=!1,u.length?f=u.concat(f):l=-1,f.length&&m())}function m(){if(!d){var e=o(F);d=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function c(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new h(e,t)),1!==f.length||d||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=c,r.addListener=c,r.once=c,r.off=c,r.removeListener=c,r.removeAllListeners=c,r.emit=c,r.prependListener=c,r.prependOnceListener=c,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(100),a=i(101),o=i(102);e.exports=function(e,t){var i="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var f="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[i];if(!Array.isArray(o)){var u=N(o);return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an array.")}for(var f=0;f<o.length;f++){var d=e(o,f,n,r,s+"["+f+"]",a);if(d instanceof Error)return d}return null})},element:function(){return m(function(t,i,n,r,s){var a=t[i];if(!e(a)){var o=N(a);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return m(function(t,i,n,r,s){if(!(t[i]instanceof e)){var a=e.name||f,o=function(e){if(!e.constructor||!e.constructor.name)return f;return e.constructor.name}(t[i]);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return m(function(e,t,i,n,r){if(!c(e[t]))return new F("Invalid "+n+" `"+r+"` supplied to `"+i+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var f in o)if(o.hasOwnProperty(f)){var d=e(o,f,n,r,s+"."+f,a);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return n.thatReturnsNull;return m(function(t,i,n,r,s){for(var a=t[i],o=0;o<e.length;o++)if(l(a,e[o]))return null;var u=JSON.stringify(e);return new F("Invalid "+r+" `"+s+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return n.thatReturnsNull;for(var t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)return s(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",_(i),t),n.thatReturnsNull}return m(function(t,i,n,r,s){for(var o=0;o<e.length;o++){var u=e[o];if(null==u(t,i,n,r,s,a))return null}return new F("Invalid "+r+" `"+s+"` supplied to `"+n+"`.")})},shape:function(e){return m(function(t,i,n,r,s){var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var f in e){var d=e[f];if(d){var l=d(o,f,n,r,s+"."+f,a);if(l)return l}}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){this.message=e,this.stack=""}function m(e){function i(i,n,s,o,u,d,l){(o=o||f,d=d||s,l!==a)&&(t&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==n[s]?i?null===n[s]?new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `null`."):new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(n,s,o,u,d)}var n=i.bind(null,!1);return n.isRequired=i.bind(null,!0),n}function h(e){return m(function(t,i,n,r,s,a){var o=t[i];return N(o)!==e?new F("Invalid "+r+" `"+s+"` of type `"+p(o)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var n=function(e){var t=e&&(i&&e[i]||e[u]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,s=n.call(t);if(n!==t.entries){for(;!(r=s.next()).done;)if(!c(r.value))return!1}else for(;!(r=s.next()).done;){var a=r.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function N(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function p(e){if(null==e)return""+e;var t=N(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=p(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return F.prototype=Error.prototype,d.checkPropTypes=o,d.PropTypes=d,d}}).call(t,i(96))},function(e,t){"use strict";
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 * 
	 */function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,i){(function(t){
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var i=function(e){};e.exports=function(e,t,n,r,s,a,o,u){if(i(t),!e){var f;if(void 0===t)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,a,o,u],l=0;(f=new Error(t.replace(/%s/g,function(){return d[l++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}}}).call(t,i(96))},function(e,t,i){(function(t){
/**
	 * Copyright 2014-2015, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var n=i(98);e.exports=n}).call(t,i(96))},function(e,t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports=function(e,t,i,n,r){}}).call(t,i(96))},function(e,t,i){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(101);e.exports=function(){function e(e,t,i,n,a,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(105);Object.defineProperty(t,"Activity",{enumerable:!0,get:function(){return m(n).default}});var r=i(111);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return m(r).default}});var s=i(112);Object.defineProperty(t,"Foods",{enumerable:!0,get:function(){return m(s).default}});var a=i(113);Object.defineProperty(t,"Nature",{enumerable:!0,get:function(){return m(a).default}});var o=i(114);Object.defineProperty(t,"Objects",{enumerable:!0,get:function(){return m(o).default}});var u=i(115);Object.defineProperty(t,"People",{enumerable:!0,get:function(){return m(u).default}});var f=i(116);Object.defineProperty(t,"Places",{enumerable:!0,get:function(){return m(f).default}});var d=i(117);Object.defineProperty(t,"Recent",{enumerable:!0,get:function(){return m(d).default}});var l=i(118);Object.defineProperty(t,"Symbols",{enumerable:!0,get:function(){return m(l).default}});var F=i(119);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Custom",{enumerable:!0,get:function(){return m(F).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1243 1293)"},f.default.createElement("g",{id:"activity"},f.default.createElement("path",{d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z",transform:"translate(-1243 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z"}),f.default.createElement("path",{id:"path6_fill",d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="activity"},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(107),s=(n=r)&&n.__esModule?n:{default:n};t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){e.exports={default:i(108),__esModule:!0}},function(e,t,i){i(109),e.exports=i(18).Object.assign},function(e,t,i){var n=i(16);n(n.S+n.F,"Object",{assign:i(110)})},function(e,t,i){"use strict";var n=i(36),r=i(77),s=i(78),a=i(50),o=i(11),u=Object.assign;e.exports=!u||i(27)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var i=a(e),u=arguments.length,f=1,d=r.f,l=s.f;u>f;)for(var F,m=o(arguments[f++]),h=d?n(m).concat(d(m)):n(m),c=h.length,N=0;c>N;)l.call(m,F=h[N++])&&(i[F]=m[F]);return i}:u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"12",version:"1.1",viewBox:"0 0 12 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1092 1292)"},f.default.createElement("g",{id:"flags"},f.default.createElement("path",{d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z",transform:"translate(-1092 -1292)"}),f.default.createElement("path",{d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z",transform:"translate(-1092 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="flags"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"17",version:"1.1",viewBox:"0 0 17 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1279 1293)"},f.default.createElement("g",{id:"foods"},f.default.createElement("path",{d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z",transform:"translate(-1279 -1292.61)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="foods"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1317 1293)"},f.default.createElement("g",{id:"nature"},f.default.createElement("path",{d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z",transform:"translate(-1316.35 -1292.36)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="nature"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"18",version:"1.1",viewBox:"0 0 18 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1168 1292)"},f.default.createElement("g",{id:"objects"},f.default.createElement("path",{d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z",transform:"translate(-1167.34 -1291.22)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="objects"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1355 1293)"},f.default.createElement("g",{id:"people"},f.default.createElement("path",{d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z",transform:"translate(-1355 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="people"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"18",width:"18",version:"1.1",viewBox:"0 0 18 18"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1205 1292)"},f.default.createElement("g",{id:"transportation"},f.default.createElement("path",{d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z",transform:"translate(-1204.86 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="places"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"20",width:"20",version:"1.1",viewBox:"0 0 20 20"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1395 1293)"},f.default.createElement("g",{id:"Vector"},f.default.createElement("path",{d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z",transform:"translate(-1395 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="recent"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"19",version:"1.1",viewBox:"0 0 19 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1131 1292)"},f.default.createElement("g",{id:"symbols"},f.default.createElement("path",{d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z",transform:"translate(-1130.5 -1291.5)"}),f.default.createElement("path",{d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z",transform:"translate(-1130.5 -1291.5)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="symbols"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"24",width:"24",viewBox:"0 0 24 24"},this.props),f.default.createElement("g",{transform:"translate(2.000000, 1.000000)"},f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",x:"8",y:"0"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"})))}}]),t}(f.default.Component);t.default=l,l.displayName="custom"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=m(i(121)),F=i(1);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props,n=i.name,r=i.perLine,s=i.hasStickyPosition,a=i.emojis,o=i.emojiProps,u=o.skin,f=o.size,d=e.perLine,l=e.hasStickyPosition,F=e.emojis,m=e.emojiProps,h=m.skin,c=m.size,N=!1;return"Recent"==n&&r!=d&&(N=!0),"Search"==n&&(N=!(a==F)),u==h&&f==c&&s==l||(N=!0),N}},{key:"memoizeSize",value:function(){if(this.container&&this.label){var e=this.container.getBoundingClientRect(),t=e.top,i=e.height,n=this.parent.getBoundingClientRect().top,r=this.label.getBoundingClientRect().height;this.top=t-n+this.parent.scrollTop,this.maxMargin=0==i?0:i-r}}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin){this.props.name;return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}}},{key:"getEmojis",value:function(){var e=this.props,t=e.name,i=e.emojis,n=e.perLine;if("Recent"==t){var r=l.default.get(n);r.length&&(i=r)}return i&&(i=i.slice(0)),i}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.name,r=t.hasStickyPosition,s=t.emojiProps,a=t.i18n,o=this.getEmojis(),u={},d={},l={};return o||(l={display:"none"}),r||(u={height:28},d={position:"absolute"}),f.default.createElement("div",{ref:function(t){return e.container=t},className:"emoji-mart-category "+(o&&!o.length?"emoji-mart-no-results":""),style:l},f.default.createElement("div",{style:u,"data-name":i,className:"emoji-mart-category-label"},f.default.createElement("span",{style:d,ref:function(t){return e.label=t}},a.categories[i.toLowerCase()])),o&&o.map(function(e){return(0,F.Emoji)((0,n.default)({emoji:e},s))}),o&&!o.length&&f.default.createElement("div",null,f.default.createElement("div",null,(0,F.Emoji)((0,n.default)({},s,{size:38,emoji:"sleuth_or_spy",onOver:null,onLeave:null,onClick:null}))),f.default.createElement("div",{className:"emoji-mart-no-results-label"},a.notfound)))}}]),t}(f.default.Component);t.default=h,h.propTypes={emojis:d.default.array,hasStickyPosition:d.default.bool,name:d.default.string.isRequired,perLine:d.default.number.isRequired,emojiProps:d.default.object.isRequired},h.defaultProps={emojis:[],hasStickyPosition:!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(122)),r=a(i(125)),s=a(i(133));function a(e){return e&&e.__esModule?e:{default:e}}var o=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],u=s.default.get("frequently"),f={};t.default={add:function(e){var t=e.id;u||(u=f),u[t]||(u[t]=0),u[t]+=1,s.default.set("last",t),s.default.set("frequently",u)},get:function(e){if(!u)return f={},[].concat((0,r.default)(Array(e))).map(function(t,i){return f[o[i]]=e-i,o[i]});var t=4*e,i=(0,n.default)(u).sort(function(e,t){return u[e]-u[t]}).reverse().slice(0,t),a=s.default.get("last");return a&&-1==i.indexOf(a)&&(i.pop(),i.push(a)),i}}},function(e,t,i){e.exports={default:i(123),__esModule:!0}},function(e,t,i){i(124),e.exports=i(18).Object.keys},function(e,t,i){var n=i(50),r=i(36);i(59)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(126),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,s.default)(e)}},function(e,t,i){e.exports={default:i(127),__esModule:!0}},function(e,t,i){i(51),i(128),e.exports=i(18).Array.from},function(e,t,i){"use strict";var n=i(19),r=i(16),s=i(50),a=i(129),o=i(130),u=i(39),f=i(131),d=i(54);r(r.S+r.F*!i(132)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,l,F=s(e),m="function"==typeof this?this:Array,h=arguments.length,c=h>1?arguments[1]:void 0,N=void 0!==c,p=0,_=d(F);if(N&&(c=n(c,h>2?arguments[2]:void 0,2)),null==_||m==Array&&o(_))for(i=new m(t=u(F.length));t>p;p++)f(i,p,N?c(F[p],p):F[p]);else for(l=_.call(F),i=new m;!(r=l.next()).done;p++)f(i,p,N?a(l,c,[r.value,p],!0):r.value);return i.length=p,i}})},function(e,t,i){var n=i(23);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(a){var s=e.return;throw void 0!==s&&n(s.call(e)),a}}},function(e,t,i){var n=i(9),r=i(48)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},function(e,t,i){"use strict";var n=i(22),r=i(30);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(48)("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},e(s)}catch(a){}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(134),s=(n=r)&&n.__esModule?n:{default:n};var a="emoji-mart",o="undefined"!=typeof window&&"localStorage"in window;function u(e,t){if(o)try{window.localStorage[a+"."+e]=(0,s.default)(t)}catch(i){}}t.default={update:function(e){for(var t in e)u(t,e[t])},set:u,get:function(e){if(o){try{var t=window.localStorage[a+"."+e]}catch(i){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){a=e}}},function(e,t,i){e.exports={default:i(135),__esModule:!0}},function(e,t,i){var n=i(18),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(94)),r=a(i(95)),s=i(137);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.emoji,i=e.skin;return(0,s.getSanitizedData)(t,i)},u=function e(t){for(var i in e.defaultProps)null==t[i]&&null!=e.defaultProps[i]&&(t[i]=e.defaultProps[i]);var r,a=function(e){var t=e.emoji,i=e.skin;return(0,s.getData)(t,i)}(t),u=a.unified,f=(a.imageUrl,t.children,"url(https://static.figma.com/emoji/2/64/"+u.toLowerCase()+".png)");return r={width:t.size,height:t.size,display:"inline-block",backgroundImage:f,backgroundSize:"100%",backgroundPosition:"100% 100%"},n.default.createElement("span",{key:t.emoji.id||t.emoji,onClick:function(e){return function(e,t){t.onClick&&(0,t.onClick)(o(t),e)}(e,t)},onMouseEnter:function(e){return function(e,t){t.onOver&&(0,t.onOver)(o(t),e)}(e,t)},onMouseLeave:function(e){return function(e,t){t.onLeave&&(0,t.onLeave)(o(t),e)}(e,t)},className:"emoji-mart-emoji"},n.default.createElement("span",{style:r}))};u.propTypes={onOver:r.default.func,onLeave:r.default.func,onClick:r.default.func,skin:r.default.oneOf([1,2,3,4,5,6]),size:r.default.number.isRequired,emoji:r.default.oneOfType([r.default.string,r.default.object]).isRequired},u.defaultProps={skin:1,onOver:function(){},onLeave:function(){},onClick:function(){}},t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unifiedToNative=t.deepMerge=t.intersect=t.getSanitizedData=t.getData=void 0;var n=d(i(66)),r=d(i(126)),s=d(i(138)),a=d(i(134)),o=d(i(153)),u=d(i(125)),f=(d(i(156)),d(i(157)));function d(e){return e&&e.__esModule?e:{default:e}}var l=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,F=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function m(e,t){var i={};if("string"==typeof e){var n=e.match(l);n&&(e=n[1],n[2]&&(t=parseInt(n[2]))),f.default.emojis.hasOwnProperty(e)&&(i=f.default.emojis[e])}else e.name&&f.default.emojis.hasOwnProperty(e.name)&&(i=f.default.emojis[e.name],t||(t=e.skin));if(i.skin_variations&&t>1){i=JSON.parse((0,a.default)(i));var r=F[t-1],s=i.skin_variations[r];for(var o in!s.variations&&i.variations&&delete i.variations,i.skin_tone=t,s){var u=s[o];i[o]=u}}return i.id=i.name,i}t.getData=m,t.getSanitizedData=function(){return e=m.apply(void 0,arguments),t=e.name,i=e.short_names,n=e.skin_tone,r=e.skin_variations,s=e.unified,e.imageUrl,a=e.id||i[0],o=":"+a+":",n&&(o+=":skin-tone-"+n+":"),{id:a,name:t,colons:o,unified:s.toLowerCase(),skin:n||(r?1:null)};var e,t,i,n,r,s,a,o},t.intersect=function(e,t){var i,n=new s.default(e),a=new s.default(t);return i=new s.default([].concat((0,u.default)(n)).filter(function(e){return a.has(e)})),(0,r.default)(i)},t.deepMerge=function e(t,i){var r={};for(var s in t){var a=t[s],o=a;i.hasOwnProperty(s)&&(o=i[s]),"object"===(void 0===o?"undefined":(0,n.default)(o))&&(o=e(a,o)),r[s]=o}return r},t.unifiedToNative=function(e){var t=e.split("-").map(function(e){return"0x"+e});return o.default.apply(String,(0,u.default)(t))}},function(e,t,i){e.exports={default:i(139),__esModule:!0}},function(e,t,i){i(83),i(51),i(5),i(140),i(150),e.exports=i(18).Set},function(e,t,i){"use strict";var n=i(141);e.exports=i(146)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n=i(22).f,r=i(34),s=i(142),a=i(19),o=i(143),u=i(13),f=i(144),d=i(14),l=i(8),F=i(145),m=i(26),h=i(73).fastKey,c=m?"_s":"size",N=function(e,t){var i,n=h(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,d){var l=e(function(e,n){o(e,l,t,"_i"),e._i=r(null),e._f=void 0,e._l=void 0,e[c]=0,null!=n&&f(n,i,e[d],e)});return s(l.prototype,{clear:function(){for(var e=this._i,t=this._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete e[t.i];this._f=this._l=void 0,this[c]=0},delete:function(e){var t=N(this,e);if(t){var i=t.n,n=t.p;delete this._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==t&&(this._f=i),this._l==t&&(this._l=n),this[c]--}return!!t},forEach:function(e){o(this,l,"forEach");for(var t,i=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!N(this,e)}}),m&&n(l.prototype,"size",{get:function(){return u(this[c])}}),l},def:function(e,t,i){var n,r,s=N(e,t);return s?s.v=i:(e._l=s={i:r=h(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[c]++,"F"!==r&&(e._i[r]=s)),e},getEntry:N,setStrong:function(e,t,i){d(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},i?"entries":"values",!i,!0),F(t)}}},function(e,t,i){var n=i(21);e.exports=function(e,t,i){for(var r in t)i&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(19),r=i(129),s=i(130),a=i(23),o=i(39),u=i(54),f={},d={};(t=e.exports=function(e,t,i,l,F){var m,h,c,N,p=F?function(){return e}:u(e),_=n(i,l,t?2:1),g=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(s(p)){for(m=o(e.length);m>g;g++)if((N=t?_(a(h=e[g])[0],h[1]):_(e[g]))===f||N===d)return N}else for(c=p.call(e);!(h=c.next()).done;)if((N=r(c,_,h.value,t))===f||N===d)return N}).BREAK=f,t.RETURN=d},function(e,t,i){"use strict";var n=i(17),r=i(18),s=i(22),a=i(26),o=i(48)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];a&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var n=i(17),r=i(16),s=i(73),a=i(27),o=i(21),u=i(142),f=i(144),d=i(143),l=i(24),F=i(47),m=i(22).f,h=i(147)(0),c=i(26);e.exports=function(e,t,i,N,p,_){var g=n[e],E=g,y=p?"set":"add",v=E&&E.prototype,b={};return c&&"function"==typeof E&&(_||v.forEach&&!a(function(){(new E).entries().next()}))?(E=t(function(t,i){d(t,E,e,"_c"),t._c=new g,null!=i&&f(i,p,t[y],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in v&&(!_||"clear"!=e)&&o(E.prototype,e,function(i,n){if(d(this,E,e),!t&&_&&!l(i))return"get"==e&&void 0;var r=this._c[e](0===i?0:i,n);return t?this:r})}),"size"in v&&m(E.prototype,"size",{get:function(){return this._c.size}})):(E=N.getConstructor(t,e,p,y),u(E.prototype,i),s.NEED=!0),F(E,e),b[e]=E,r(r.G+r.W+r.F,b),_||N.setStrong(E,e,p),E}},function(e,t,i){var n=i(19),r=i(11),s=i(50),a=i(39),o=i(148);e.exports=function(e,t){var i=1==e,u=2==e,f=3==e,d=4==e,l=6==e,F=5==e||l,m=t||o;return function(t,o,h){for(var c,N,p=s(t),_=r(p),g=n(o,h,3),E=a(_.length),y=0,v=i?m(t,E):u?m(t,0):void 0;E>y;y++)if((F||y in _)&&(N=g(c=_[y],y,p),e))if(i)v[y]=N;else if(N)switch(e){case 3:return!0;case 5:return c;case 6:return y;case 2:v.push(c)}else if(d)return!1;return l?-1:f||d?d:v}}},function(e,t,i){var n=i(149);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(24),r=i(79),s=i(48)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(16);n(n.P+n.R,"Set",{toJSON:i(151)("Set")})},function(e,t,i){var n=i(55),r=i(152);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,i){var n=i(144);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){e.exports={default:i(154),__esModule:!0}},function(e,t,i){i(155),e.exports=i(18).String.fromCodePoint},function(e,t,i){var n=i(16),r=i(41),s=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t){"use strict";e.exports=function(e){var t,i,n=[];return t=e.short_names,i=!0,t&&(Array.isArray(t)?t:[t]).forEach(function(e){(i?e.split(/[-|_|\s]+/):[e]).forEach(function(e){e=e.toLowerCase(),-1==n.indexOf(e)&&n.push(e)})}),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(158),s=(n=r)&&n.__esModule?n:{default:n};var a=[],o={},u={},f=["People","Nature","Foods","Activity","Places","Objects","Symbols","Flags"],d={"261D":!0,"26F9":!0,"270A":!0,"270B":!0,"270C":!0,"270D":!0,"1F385":!0,"1F3C2":!0,"1F3C3":!0,"1F3C4":!0,"1F3C7":!0,"1F3CA":!0,"1F3CB":!0,"1F3CC":!0,"1F442":!0,"1F443":!0,"1F446":!0,"1F447":!0,"1F448":!0,"1F449":!0,"1F44A":!0,"1F44B":!0,"1F44C":!0,"1F44D":!0,"1F44E":!0,"1F44F":!0,"1F450":!0,"1F466":!0,"1F467":!0,"1F468":!0,"1F469":!0,"1F46E":!0,"1F470":!0,"1F471":!0,"1F472":!0,"1F473":!0,"1F474":!0,"1F475":!0,"1F476":!0,"1F477":!0,"1F478":!0,"1F47C":!0,"1F481":!0,"1F482":!0,"1F483":!0,"1F485":!0,"1F486":!0,"1F487":!0,"1F4AA":!0,"1F574":!0,"1F575":!0,"1F57A":!0,"1F590":!0,"1F595":!0,"1F596":!0,"1F645":!0,"1F646":!0,"1F647":!0,"1F64B":!0,"1F64C":!0,"1F64D":!0,"1F64E":!0,"1F64F":!0,"1F6A3":!0,"1F6B4":!0,"1F6B5":!0,"1F6B6":!0,"1F6C0":!0,"1F6CC":!0,"1F918":!0,"1F919":!0,"1F91A":!0,"1F91B":!0,"1F91C":!0,"1F91E":!0,"1F91F":!0,"1F926":!0,"1F930":!0,"1F931":!0,"1F932":!0,"1F933":!0,"1F934":!0,"1F935":!0,"1F936":!0,"1F937":!0,"1F938":!0,"1F939":!0,"1F93D":!0,"1F93E":!0,"1F9D1":!0,"1F9D2":!0,"1F9D3":!0,"1F9D4":!0,"1F9D5":!0,"1F9D6":!0,"1F9D7":!0,"1F9D8":!0,"1F9D9":!0,"1F9DA":!0,"1F9DB":!0,"1F9DC":!0,"1F9DD":!0};for(var l in f){var F=f[l],m={name:F,emojis:[]};for(var h in s.default.emoji_data[F]){var c=s.default.emoji_data[F][h];c.short_names=c.shortNames,delete c.shortNames,c.name=c.short_names[0],o[c.name]=c,c.unified=c.unified[0],c.search=c.name,m.emojis.push(c),!0===d[c.unified]&&(c.skin_variations={"1F3FB":{unified:c.unified+"-1F3FB"},"1F3FC":{unified:c.unified+"-1F3FC"},"1F3FD":{unified:c.unified+"-1F3FD"},"1F3FE":{unified:c.unified+"-1F3FE"},"1F3FF":{unified:c.unified+"-1F3FF"}})}a.push(m)}for(var N in s.default.emoji_data["Skin Tones"]){var p=s.default.emoji_data["Skin Tones"][N];p.short_names=p.shortNames,delete p.shortNames,p.name=p.short_names[0],u[p.name]=p}t.default={categories:a,emojis:o,short_names:{},skins:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={emoji_data:{Symbols:[{shortNames:["heart"],unified:["2764","2764-FE0F"]},{shortNames:["yellow_heart"],unified:["1F49B"]},{shortNames:["green_heart"],unified:["1F49A"]},{shortNames:["blue_heart"],unified:["1F499"]},{shortNames:["purple_heart"],unified:["1F49C"]},{shortNames:["black_heart"],unified:["1F5A4"]},{shortNames:["broken_heart"],unified:["1F494"]},{shortNames:["heavy_heart_exclamation_mark_ornament"],unified:["2763","2763-FE0F"]},{shortNames:["two_hearts"],unified:["1F495"]},{shortNames:["revolving_hearts"],unified:["1F49E"]},{shortNames:["heartbeat"],unified:["1F493"]},{shortNames:["heartpulse"],unified:["1F497"]},{shortNames:["sparkling_heart"],unified:["1F496"]},{shortNames:["cupid"],unified:["1F498"]},{shortNames:["gift_heart"],unified:["1F49D"]},{shortNames:["heart_decoration"],unified:["1F49F"]},{shortNames:["peace_symbol"],unified:["262E","262E-FE0F"]},{shortNames:["latin_cross"],unified:["271D","271D-FE0F"]},{shortNames:["star_and_crescent"],unified:["262A","262A-FE0F"]},{shortNames:["om_symbol"],unified:["1F549"]},{shortNames:["wheel_of_dharma"],unified:["2638","2638-FE0F"]},{shortNames:["star_of_david"],unified:["2721","2721-FE0F"]},{shortNames:["six_pointed_star"],unified:["1F52F"]},{shortNames:["menorah_with_nine_branches"],unified:["1F54E"]},{shortNames:["yin_yang"],unified:["262F","262F-FE0F"]},{shortNames:["orthodox_cross"],unified:["2626","2626-FE0F"]},{shortNames:["place_of_worship"],unified:["1F6D0"]},{shortNames:["ophiuchus"],unified:["26CE"]},{shortNames:["aries"],unified:["2648","2648-FE0F"]},{shortNames:["taurus"],unified:["2649","2649-FE0F"]},{shortNames:["gemini"],unified:["264A","264A-FE0F"]},{shortNames:["cancer"],unified:["264B","264B-FE0F"]},{shortNames:["leo"],unified:["264C","264C-FE0F"]},{shortNames:["virgo"],unified:["264D","264D-FE0F"]},{shortNames:["libra"],unified:["264E","264E-FE0F"]},{shortNames:["scorpius"],unified:["264F","264F-FE0F"]},{shortNames:["sagittarius"],unified:["2650","2650-FE0F"]},{shortNames:["capricorn"],unified:["2651","2651-FE0F"]},{shortNames:["aquarius"],unified:["2652","2652-FE0F"]},{shortNames:["pisces"],unified:["2653","2653-FE0F"]},{shortNames:["id"],unified:["1F194"]},{shortNames:["atom_symbol"],unified:["269B","269B-FE0F"]},{shortNames:["accept"],unified:["1F251"]},{shortNames:["radioactive_sign"],unified:["2622","2622-FE0F"]},{shortNames:["biohazard_sign"],unified:["2623","2623-FE0F"]},{shortNames:["mobile_phone_off"],unified:["1F4F4"]},{shortNames:["vibration_mode"],unified:["1F4F3"]},{shortNames:["u6709"],unified:["1F236"]},{shortNames:["u7121"],unified:["1F21A","1F21A-FE0F"]},{shortNames:["u7533"],unified:["1F238"]},{shortNames:["u55b6"],unified:["1F23A"]},{shortNames:["u6708"],unified:["1F237","1F237-FE0F"]},{shortNames:["eight_pointed_black_star"],unified:["2734","2734-FE0F"]},{shortNames:["vs"],unified:["1F19A"]},{shortNames:["white_flower"],unified:["1F4AE"]},{shortNames:["ideograph_advantage"],unified:["1F250"]},{shortNames:["secret"],unified:["3299","3299-FE0F"]},{shortNames:["congratulations"],unified:["3297","3297-FE0F"]},{shortNames:["u5408"],unified:["1F234"]},{shortNames:["u6e80"],unified:["1F235"]},{shortNames:["u5272"],unified:["1F239"]},{shortNames:["u7981"],unified:["1F232"]},{shortNames:["a"],unified:["1F170","1F170-FE0F"]},{shortNames:["b"],unified:["1F171","1F171-FE0F"]},{shortNames:["ab"],unified:["1F18E"]},{shortNames:["cl"],unified:["1F191"]},{shortNames:["o2"],unified:["1F17E","1F17E-FE0F"]},{shortNames:["sos"],unified:["1F198"]},{shortNames:["x"],unified:["274C"]},{shortNames:["o"],unified:["2B55","2B55-FE0F"]},{shortNames:["octagonal_sign"],unified:["1F6D1"]},{shortNames:["no_entry"],unified:["26D4","26D4-FE0F"]},{shortNames:["name_badge"],unified:["1F4DB"]},{shortNames:["no_entry_sign"],unified:["1F6AB"]},{shortNames:["100"],unified:["1F4AF"]},{shortNames:["anger"],unified:["1F4A2"]},{shortNames:["hotsprings"],unified:["2668","2668-FE0F"]},{shortNames:["no_pedestrians"],unified:["1F6B7"]},{shortNames:["do_not_litter"],unified:["1F6AF"]},{shortNames:["no_bicycles"],unified:["1F6B3"]},{shortNames:["non-potable_water"],unified:["1F6B1"]},{shortNames:["underage"],unified:["1F51E"]},{shortNames:["no_mobile_phones"],unified:["1F4F5"]},{shortNames:["no_smoking"],unified:["1F6AD"]},{shortNames:["exclamation","heavy_exclamation_mark"],unified:["2757","2757-FE0F"]},{shortNames:["grey_exclamation"],unified:["2755"]},{shortNames:["question"],unified:["2753"]},{shortNames:["grey_question"],unified:["2754"]},{shortNames:["bangbang"],unified:["203C","203C-FE0F"]},{shortNames:["interrobang"],unified:["2049","2049-FE0F"]},{shortNames:["low_brightness"],unified:["1F505"]},{shortNames:["high_brightness"],unified:["1F506"]},{shortNames:["part_alternation_mark"],unified:["303D","303D-FE0F"]},{shortNames:["warning"],unified:["26A0","26A0-FE0F"]},{shortNames:["children_crossing"],unified:["1F6B8"]},{shortNames:["trident"],unified:["1F531"]},{shortNames:["fleur_de_lis"],unified:["269C","269C-FE0F"]},{shortNames:["beginner"],unified:["1F530"]},{shortNames:["recycle"],unified:["267B","267B-FE0F"]},{shortNames:["white_check_mark"],unified:["2705"]},{shortNames:["u6307"],unified:["1F22F","1F22F-FE0F"]},{shortNames:["chart"],unified:["1F4B9"]},{shortNames:["sparkle"],unified:["2747","2747-FE0F"]},{shortNames:["eight_spoked_asterisk"],unified:["2733","2733-FE0F"]},{shortNames:["negative_squared_cross_mark"],unified:["274E"]},{shortNames:["globe_with_meridians"],unified:["1F310"]},{shortNames:["diamond_shape_with_a_dot_inside"],unified:["1F4A0"]},{shortNames:["m"],unified:["24C2","24C2-FE0F"]},{shortNames:["cyclone"],unified:["1F300"]},{shortNames:["zzz"],unified:["1F4A4"]},{shortNames:["atm"],unified:["1F3E7"]},{shortNames:["wc"],unified:["1F6BE"]},{shortNames:["wheelchair"],unified:["267F","267F-FE0F"]},{shortNames:["parking"],unified:["1F17F","1F17F-FE0F"]},{shortNames:["u7a7a"],unified:["1F233"]},{shortNames:["sa"],unified:["1F202","1F202-FE0F"]},{shortNames:["passport_control"],unified:["1F6C2"]},{shortNames:["customs"],unified:["1F6C3"]},{shortNames:["baggage_claim"],unified:["1F6C4"]},{shortNames:["left_luggage"],unified:["1F6C5"]},{shortNames:["mens"],unified:["1F6B9"]},{shortNames:["womens"],unified:["1F6BA"]},{shortNames:["baby_symbol"],unified:["1F6BC"]},{shortNames:["restroom"],unified:["1F6BB"]},{shortNames:["put_litter_in_its_place"],unified:["1F6AE"]},{shortNames:["cinema"],unified:["1F3A6"]},{shortNames:["signal_strength"],unified:["1F4F6"]},{shortNames:["koko"],unified:["1F201"]},{shortNames:["symbols"],unified:["1F523"]},{shortNames:["information_source"],unified:["2139","2139-FE0F"]},{shortNames:["abc"],unified:["1F524"]},{shortNames:["abcd"],unified:["1F521"]},{shortNames:["capital_abcd"],unified:["1F520"]},{shortNames:["ng"],unified:["1F196"]},{shortNames:["ok"],unified:["1F197"]},{shortNames:["up"],unified:["1F199"]},{shortNames:["cool"],unified:["1F192"]},{shortNames:["new"],unified:["1F195"]},{shortNames:["free"],unified:["1F193"]},{shortNames:["zero"],unified:["0030-20E3","0030-FE0F-20E3"]},{shortNames:["one"],unified:["0031-20E3","0031-FE0F-20E3"]},{shortNames:["two"],unified:["0032-20E3","0032-FE0F-20E3"]},{shortNames:["three"],unified:["0033-20E3","0033-FE0F-20E3"]},{shortNames:["four"],unified:["0034-20E3","0034-FE0F-20E3"]},{shortNames:["five"],unified:["0035-20E3","0035-FE0F-20E3"]},{shortNames:["six"],unified:["0036-20E3","0036-FE0F-20E3"]},{shortNames:["seven"],unified:["0037-20E3","0037-FE0F-20E3"]},{shortNames:["eight"],unified:["0038-20E3","0038-FE0F-20E3"]},{shortNames:["nine"],unified:["0039-20E3","0039-FE0F-20E3"]},{shortNames:["keycap_ten"],unified:["1F51F"]},{shortNames:["1234"],unified:["1F522"]},{shortNames:["hash"],unified:["0023-20E3","0023-FE0F-20E3"]},{shortNames:["keycap_star"],unified:["002A-20E3","002A-FE0F-20E3"]},{shortNames:["arrow_forward"],unified:["25B6","25B6-FE0F"]},{shortNames:["double_vertical_bar"],unified:["23F8"]},{shortNames:["black_right_pointing_triangle_with_double_vertical_bar"],unified:["23EF"]},{shortNames:["black_square_for_stop"],unified:["23F9"]},{shortNames:["eject"],unified:["23CF"]},{shortNames:["black_circle_for_record"],unified:["23FA"]},{shortNames:["black_right_pointing_double_triangle_with_vertical_bar"],unified:["23ED"]},{shortNames:["black_left_pointing_double_triangle_with_vertical_bar"],unified:["23EE"]},{shortNames:["fast_forward"],unified:["23E9"]},{shortNames:["rewind"],unified:["23EA"]},{shortNames:["arrow_double_up"],unified:["23EB"]},{shortNames:["arrow_double_down"],unified:["23EC"]},{shortNames:["arrow_backward"],unified:["25C0","25C0-FE0F"]},{shortNames:["arrow_up_small"],unified:["1F53C"]},{shortNames:["arrow_down_small"],unified:["1F53D"]},{shortNames:["arrow_right"],unified:["27A1","27A1-FE0F"]},{shortNames:["arrow_left"],unified:["2B05","2B05-FE0F"]},{shortNames:["arrow_up"],unified:["2B06","2B06-FE0F"]},{shortNames:["arrow_down"],unified:["2B07","2B07-FE0F"]},{shortNames:["arrow_upper_right"],unified:["2197","2197-FE0F"]},{shortNames:["arrow_lower_right"],unified:["2198","2198-FE0F"]},{shortNames:["arrow_lower_left"],unified:["2199","2199-FE0F"]},{shortNames:["arrow_upper_left"],unified:["2196","2196-FE0F"]},{shortNames:["arrow_up_down"],unified:["2195","2195-FE0F"]},{shortNames:["left_right_arrow"],unified:["2194","2194-FE0F"]},{shortNames:["arrow_right_hook"],unified:["21AA","21AA-FE0F"]},{shortNames:["leftwards_arrow_with_hook"],unified:["21A9","21A9-FE0F"]},{shortNames:["arrow_heading_up"],unified:["2934","2934-FE0F"]},{shortNames:["arrow_heading_down"],unified:["2935","2935-FE0F"]},{shortNames:["twisted_rightwards_arrows"],unified:["1F500"]},{shortNames:["repeat"],unified:["1F501"]},{shortNames:["repeat_one"],unified:["1F502"]},{shortNames:["arrows_counterclockwise"],unified:["1F504"]},{shortNames:["arrows_clockwise"],unified:["1F503"]},{shortNames:["musical_note"],unified:["1F3B5"]},{shortNames:["notes"],unified:["1F3B6"]},{shortNames:["heavy_plus_sign"],unified:["2795"]},{shortNames:["heavy_minus_sign"],unified:["2796"]},{shortNames:["heavy_division_sign"],unified:["2797"]},{shortNames:["heavy_multiplication_x"],unified:["2716","2716-FE0F"]},{shortNames:["heavy_dollar_sign"],unified:["1F4B2"]},{shortNames:["currency_exchange"],unified:["1F4B1"]},{shortNames:["tm"],unified:["2122","2122-FE0F"]},{shortNames:["copyright"],unified:["00A9","00A9-FE0F"]},{shortNames:["registered"],unified:["00AE","00AE-FE0F"]},{shortNames:["wavy_dash"],unified:["3030","3030-FE0F"]},{shortNames:["curly_loop"],unified:["27B0"]},{shortNames:["loop"],unified:["27BF"]},{shortNames:["end"],unified:["1F51A"]},{shortNames:["back"],unified:["1F519"]},{shortNames:["on"],unified:["1F51B"]},{shortNames:["top"],unified:["1F51D"]},{shortNames:["soon"],unified:["1F51C"]},{shortNames:["heavy_check_mark"],unified:["2714","2714-FE0F"]},{shortNames:["ballot_box_with_check"],unified:["2611","2611-FE0F"]},{shortNames:["radio_button"],unified:["1F518"]},{shortNames:["white_circle"],unified:["26AA","26AA-FE0F"]},{shortNames:["black_circle"],unified:["26AB","26AB-FE0F"]},{shortNames:["red_circle"],unified:["1F534"]},{shortNames:["large_blue_circle"],unified:["1F535"]},{shortNames:["small_red_triangle"],unified:["1F53A"]},{shortNames:["small_red_triangle_down"],unified:["1F53B"]},{shortNames:["small_orange_diamond"],unified:["1F538"]},{shortNames:["small_blue_diamond"],unified:["1F539"]},{shortNames:["large_orange_diamond"],unified:["1F536"]},{shortNames:["large_blue_diamond"],unified:["1F537"]},{shortNames:["white_square_button"],unified:["1F533"]},{shortNames:["black_square_button"],unified:["1F532"]},{shortNames:["black_small_square"],unified:["25AA","25AA-FE0F"]},{shortNames:["white_small_square"],unified:["25AB","25AB-FE0F"]},{shortNames:["black_medium_small_square"],unified:["25FE","25FE-FE0F"]},{shortNames:["white_medium_small_square"],unified:["25FD","25FD-FE0F"]},{shortNames:["black_medium_square"],unified:["25FC","25FC-FE0F"]},{shortNames:["white_medium_square"],unified:["25FB","25FB-FE0F"]},{shortNames:["black_large_square"],unified:["2B1B","2B1B-FE0F"]},{shortNames:["white_large_square"],unified:["2B1C","2B1C-FE0F"]},{shortNames:["speaker"],unified:["1F508"]},{shortNames:["mute"],unified:["1F507"]},{shortNames:["sound"],unified:["1F509"]},{shortNames:["loud_sound"],unified:["1F50A"]},{shortNames:["bell"],unified:["1F514"]},{shortNames:["no_bell"],unified:["1F515"]},{shortNames:["mega"],unified:["1F4E3"]},{shortNames:["loudspeaker"],unified:["1F4E2"]},{shortNames:["eye-in-speech-bubble"],unified:["1F441-FE0F-200D-1F5E8-FE0F"]},{shortNames:["speech_balloon"],unified:["1F4AC"]},{shortNames:["left_speech_bubble"],unified:["1F5E8"]},{shortNames:["thought_balloon"],unified:["1F4AD"]},{shortNames:["right_anger_bubble"],unified:["1F5EF"]},{shortNames:["spades"],unified:["2660","2660-FE0F"]},{shortNames:["clubs"],unified:["2663","2663-FE0F"]},{shortNames:["hearts"],unified:["2665","2665-FE0F"]},{shortNames:["diamonds"],unified:["2666","2666-FE0F"]},{shortNames:["black_joker"],unified:["1F0CF"]},{shortNames:["flower_playing_cards"],unified:["1F3B4"]},{shortNames:["mahjong"],unified:["1F004","1F004-FE0F"]},{shortNames:["clock1"],unified:["1F550"]},{shortNames:["clock2"],unified:["1F551"]},{shortNames:["clock3"],unified:["1F552"]},{shortNames:["clock4"],unified:["1F553"]},{shortNames:["clock5"],unified:["1F554"]},{shortNames:["clock6"],unified:["1F555"]},{shortNames:["clock7"],unified:["1F556"]},{shortNames:["clock8"],unified:["1F557"]},{shortNames:["clock9"],unified:["1F558"]},{shortNames:["clock10"],unified:["1F559"]},{shortNames:["clock11"],unified:["1F55A"]},{shortNames:["clock12"],unified:["1F55B"]},{shortNames:["clock130"],unified:["1F55C"]},{shortNames:["clock230"],unified:["1F55D"]},{shortNames:["clock330"],unified:["1F55E"]},{shortNames:["clock430"],unified:["1F55F"]},{shortNames:["clock530"],unified:["1F560"]},{shortNames:["clock630"],unified:["1F561"]},{shortNames:["clock730"],unified:["1F562"]},{shortNames:["clock830"],unified:["1F563"]},{shortNames:["clock930"],unified:["1F564"]},{shortNames:["clock1030"],unified:["1F565"]},{shortNames:["clock1130"],unified:["1F566"]},{shortNames:["clock1230"],unified:["1F567"]},{shortNames:["female_sign"],unified:["2640"]},{shortNames:["male_sign"],unified:["2642"]},{shortNames:["staff_of_aesculapius"],unified:["2695"]}],Objects:[{shortNames:["watch"],unified:["231A","231A-FE0F"]},{shortNames:["iphone"],unified:["1F4F1"]},{shortNames:["calling"],unified:["1F4F2"]},{shortNames:["computer"],unified:["1F4BB"]},{shortNames:["keyboard"],unified:["2328","2328-FE0F"]},{shortNames:["desktop_computer"],unified:["1F5A5"]},{shortNames:["printer"],unified:["1F5A8"]},{shortNames:["three_button_mouse"],unified:["1F5B1"]},{shortNames:["trackball"],unified:["1F5B2"]},{shortNames:["joystick"],unified:["1F579"]},{shortNames:["compression"],unified:["1F5DC"]},{shortNames:["minidisc"],unified:["1F4BD"]},{shortNames:["floppy_disk"],unified:["1F4BE"]},{shortNames:["cd"],unified:["1F4BF"]},{shortNames:["dvd"],unified:["1F4C0"]},{shortNames:["vhs"],unified:["1F4FC"]},{shortNames:["camera"],unified:["1F4F7"]},{shortNames:["camera_with_flash"],unified:["1F4F8"]},{shortNames:["video_camera"],unified:["1F4F9"]},{shortNames:["movie_camera"],unified:["1F3A5"]},{shortNames:["film_projector"],unified:["1F4FD"]},{shortNames:["film_frames"],unified:["1F39E"]},{shortNames:["telephone_receiver"],unified:["1F4DE"]},{shortNames:["phone","telephone"],unified:["260E","260E-FE0F"]},{shortNames:["pager"],unified:["1F4DF"]},{shortNames:["fax"],unified:["1F4E0"]},{shortNames:["tv"],unified:["1F4FA"]},{shortNames:["radio"],unified:["1F4FB"]},{shortNames:["studio_microphone"],unified:["1F399"]},{shortNames:["level_slider"],unified:["1F39A"]},{shortNames:["control_knobs"],unified:["1F39B"]},{shortNames:["stopwatch"],unified:["23F1"]},{shortNames:["timer_clock"],unified:["23F2"]},{shortNames:["alarm_clock"],unified:["23F0"]},{shortNames:["mantelpiece_clock"],unified:["1F570"]},{shortNames:["hourglass"],unified:["231B","231B-FE0F"]},{shortNames:["hourglass_flowing_sand"],unified:["23F3"]},{shortNames:["satellite_antenna"],unified:["1F4E1"]},{shortNames:["battery"],unified:["1F50B"]},{shortNames:["electric_plug"],unified:["1F50C"]},{shortNames:["bulb"],unified:["1F4A1"]},{shortNames:["flashlight"],unified:["1F526"]},{shortNames:["candle"],unified:["1F56F"]},{shortNames:["wastebasket"],unified:["1F5D1"]},{shortNames:["oil_drum"],unified:["1F6E2"]},{shortNames:["money_with_wings"],unified:["1F4B8"]},{shortNames:["dollar"],unified:["1F4B5"]},{shortNames:["yen"],unified:["1F4B4"]},{shortNames:["euro"],unified:["1F4B6"]},{shortNames:["pound"],unified:["1F4B7"]},{shortNames:["moneybag"],unified:["1F4B0"]},{shortNames:["credit_card"],unified:["1F4B3"]},{shortNames:["gem"],unified:["1F48E"]},{shortNames:["scales"],unified:["2696","2696-FE0F"]},{shortNames:["wrench"],unified:["1F527"]},{shortNames:["hammer"],unified:["1F528"]},{shortNames:["hammer_and_pick"],unified:["2692"]},{shortNames:["hammer_and_wrench"],unified:["1F6E0"]},{shortNames:["pick"],unified:["26CF"]},{shortNames:["nut_and_bolt"],unified:["1F529"]},{shortNames:["gear"],unified:["2699","2699-FE0F"]},{shortNames:["chains"],unified:["26D3"]},{shortNames:["gun"],unified:["1F52B"]},{shortNames:["bomb"],unified:["1F4A3"]},{shortNames:["hocho","knife"],unified:["1F52A"]},{shortNames:["dagger_knife"],unified:["1F5E1"]},{shortNames:["crossed_swords"],unified:["2694","2694-FE0F"]},{shortNames:["shield"],unified:["1F6E1"]},{shortNames:["smoking"],unified:["1F6AC"]},{shortNames:["coffin"],unified:["26B0","26B0-FE0F"]},{shortNames:["funeral_urn"],unified:["26B1","26B1-FE0F"]},{shortNames:["amphora"],unified:["1F3FA"]},{shortNames:["crystal_ball"],unified:["1F52E"]},{shortNames:["prayer_beads"],unified:["1F4FF"]},{shortNames:["barber"],unified:["1F488"]},{shortNames:["alembic"],unified:["2697","2697-FE0F"]},{shortNames:["telescope"],unified:["1F52D"]},{shortNames:["microscope"],unified:["1F52C"]},{shortNames:["hole"],unified:["1F573"]},{shortNames:["pill"],unified:["1F48A"]},{shortNames:["syringe"],unified:["1F489"]},{shortNames:["thermometer"],unified:["1F321"]},{shortNames:["toilet"],unified:["1F6BD"]},{shortNames:["potable_water"],unified:["1F6B0"]},{shortNames:["shower"],unified:["1F6BF"]},{shortNames:["bathtub"],unified:["1F6C1"]},{shortNames:["bath"],unified:["1F6C0"],tones:!1},{shortNames:["bellhop_bell"],unified:["1F6CE"]},{shortNames:["key"],unified:["1F511"]},{shortNames:["old_key"],unified:["1F5DD"]},{shortNames:["door"],unified:["1F6AA"]},{shortNames:["couch_and_lamp"],unified:["1F6CB"]},{shortNames:["bed"],unified:["1F6CF"]},{shortNames:["sleeping_accommodation"],unified:["1F6CC"],tones:!1},{shortNames:["frame_with_picture"],unified:["1F5BC"]},{shortNames:["shopping_bags"],unified:["1F6CD"]},{shortNames:["shopping_trolley"],unified:["1F6D2"]},{shortNames:["gift"],unified:["1F381"]},{shortNames:["balloon"],unified:["1F388"]},{shortNames:["flags"],unified:["1F38F"]},{shortNames:["ribbon"],unified:["1F380"]},{shortNames:["confetti_ball"],unified:["1F38A"]},{shortNames:["tada"],unified:["1F389"]},{shortNames:["dolls"],unified:["1F38E"]},{shortNames:["izakaya_lantern","lantern"],unified:["1F3EE"]},{shortNames:["wind_chime"],unified:["1F390"]},{shortNames:["email","envelope"],unified:["2709","2709-FE0F"]},{shortNames:["envelope_with_arrow"],unified:["1F4E9"]},{shortNames:["incoming_envelope"],unified:["1F4E8"]},{shortNames:["e-mail"],unified:["1F4E7"]},{shortNames:["love_letter"],unified:["1F48C"]},{shortNames:["inbox_tray"],unified:["1F4E5"]},{shortNames:["outbox_tray"],unified:["1F4E4"]},{shortNames:["package"],unified:["1F4E6"]},{shortNames:["label"],unified:["1F3F7"]},{shortNames:["mailbox_closed"],unified:["1F4EA"]},{shortNames:["mailbox"],unified:["1F4EB"]},{shortNames:["mailbox_with_mail"],unified:["1F4EC"]},{shortNames:["mailbox_with_no_mail"],unified:["1F4ED"]},{shortNames:["postbox"],unified:["1F4EE"]},{shortNames:["postal_horn"],unified:["1F4EF"]},{shortNames:["scroll"],unified:["1F4DC"]},{shortNames:["page_with_curl"],unified:["1F4C3"]},{shortNames:["page_facing_up"],unified:["1F4C4"]},{shortNames:["bookmark_tabs"],unified:["1F4D1"]},{shortNames:["bar_chart"],unified:["1F4CA"]},{shortNames:["chart_with_upwards_trend"],unified:["1F4C8"]},{shortNames:["chart_with_downwards_trend"],unified:["1F4C9"]},{shortNames:["spiral_note_pad"],unified:["1F5D2"]},{shortNames:["spiral_calendar_pad"],unified:["1F5D3"]},{shortNames:["calendar"],unified:["1F4C6"]},{shortNames:["date"],unified:["1F4C5"]},{shortNames:["card_index"],unified:["1F4C7"]},{shortNames:["card_file_box"],unified:["1F5C3"]},{shortNames:["ballot_box_with_ballot"],unified:["1F5F3"]},{shortNames:["file_cabinet"],unified:["1F5C4"]},{shortNames:["clipboard"],unified:["1F4CB"]},{shortNames:["file_folder"],unified:["1F4C1"]},{shortNames:["open_file_folder"],unified:["1F4C2"]},{shortNames:["card_index_dividers"],unified:["1F5C2"]},{shortNames:["rolled_up_newspaper"],unified:["1F5DE"]},{shortNames:["newspaper"],unified:["1F4F0"]},{shortNames:["notebook"],unified:["1F4D3"]},{shortNames:["notebook_with_decorative_cover"],unified:["1F4D4"]},{shortNames:["ledger"],unified:["1F4D2"]},{shortNames:["closed_book"],unified:["1F4D5"]},{shortNames:["green_book"],unified:["1F4D7"]},{shortNames:["blue_book"],unified:["1F4D8"]},{shortNames:["orange_book"],unified:["1F4D9"]},{shortNames:["books"],unified:["1F4DA"]},{shortNames:["book","open_book"],unified:["1F4D6"]},{shortNames:["bookmark"],unified:["1F516"]},{shortNames:["link"],unified:["1F517"]},{shortNames:["paperclip"],unified:["1F4CE"]},{shortNames:["linked_paperclips"],unified:["1F587"]},{shortNames:["triangular_ruler"],unified:["1F4D0"]},{shortNames:["straight_ruler"],unified:["1F4CF"]},{shortNames:["pushpin"],unified:["1F4CC"]},{shortNames:["round_pushpin"],unified:["1F4CD"]},{shortNames:["scissors"],unified:["2702","2702-FE0F"]},{shortNames:["lower_left_ballpoint_pen"],unified:["1F58A"]},{shortNames:["lower_left_fountain_pen"],unified:["1F58B"]},{shortNames:["black_nib"],unified:["2712","2712-FE0F"]},{shortNames:["lower_left_paintbrush"],unified:["1F58C"]},{shortNames:["lower_left_crayon"],unified:["1F58D"]},{shortNames:["memo","pencil"],unified:["1F4DD"]},{shortNames:["pencil2"],unified:["270F","270F-FE0F"]},{shortNames:["mag"],unified:["1F50D"]},{shortNames:["mag_right"],unified:["1F50E"]},{shortNames:["lock_with_ink_pen"],unified:["1F50F"]},{shortNames:["closed_lock_with_key"],unified:["1F510"]},{shortNames:["lock"],unified:["1F512"]},{shortNames:["unlock"],unified:["1F513"]}],Nature:[{shortNames:["dog"],unified:["1F436"]},{shortNames:["cat"],unified:["1F431"]},{shortNames:["mouse"],unified:["1F42D"]},{shortNames:["hamster"],unified:["1F439"]},{shortNames:["rabbit"],unified:["1F430"]},{shortNames:["fox_face"],unified:["1F98A"]},{shortNames:["bear"],unified:["1F43B"]},{shortNames:["panda_face"],unified:["1F43C"]},{shortNames:["koala"],unified:["1F428"]},{shortNames:["tiger"],unified:["1F42F"]},{shortNames:["lion_face"],unified:["1F981"]},{shortNames:["cow"],unified:["1F42E"]},{shortNames:["pig"],unified:["1F437"]},{shortNames:["pig_nose"],unified:["1F43D"]},{shortNames:["frog"],unified:["1F438"]},{shortNames:["monkey_face"],unified:["1F435"]},{shortNames:["see_no_evil"],unified:["1F648"]},{shortNames:["hear_no_evil"],unified:["1F649"]},{shortNames:["speak_no_evil"],unified:["1F64A"]},{shortNames:["monkey"],unified:["1F412"]},{shortNames:["chicken"],unified:["1F414"]},{shortNames:["penguin"],unified:["1F427"]},{shortNames:["bird"],unified:["1F426"]},{shortNames:["baby_chick"],unified:["1F424"]},{shortNames:["hatching_chick"],unified:["1F423"]},{shortNames:["hatched_chick"],unified:["1F425"]},{shortNames:["duck"],unified:["1F986"]},{shortNames:["eagle"],unified:["1F985"]},{shortNames:["owl"],unified:["1F989"]},{shortNames:["bat"],unified:["1F987"]},{shortNames:["wolf"],unified:["1F43A"]},{shortNames:["boar"],unified:["1F417"]},{shortNames:["horse"],unified:["1F434"]},{shortNames:["unicorn_face"],unified:["1F984"]},{shortNames:["bee","honeybee"],unified:["1F41D"]},{shortNames:["bug"],unified:["1F41B"]},{shortNames:["butterfly"],unified:["1F98B"]},{shortNames:["snail"],unified:["1F40C"]},{shortNames:["shell"],unified:["1F41A"]},{shortNames:["beetle"],unified:["1F41E"]},{shortNames:["ant"],unified:["1F41C"]},{shortNames:["spider"],unified:["1F577"]},{shortNames:["spider_web"],unified:["1F578"]},{shortNames:["turtle"],unified:["1F422"]},{shortNames:["snake"],unified:["1F40D"]},{shortNames:["lizard"],unified:["1F98E"]},{shortNames:["scorpion"],unified:["1F982"]},{shortNames:["crab"],unified:["1F980"]},{shortNames:["squid"],unified:["1F991"]},{shortNames:["octopus"],unified:["1F419"]},{shortNames:["shrimp"],unified:["1F990"]},{shortNames:["tropical_fish"],unified:["1F420"]},{shortNames:["fish"],unified:["1F41F"]},{shortNames:["blowfish"],unified:["1F421"]},{shortNames:["dolphin","flipper"],unified:["1F42C"]},{shortNames:["shark"],unified:["1F988"]},{shortNames:["whale"],unified:["1F433"]},{shortNames:["whale2"],unified:["1F40B"]},{shortNames:["crocodile"],unified:["1F40A"]},{shortNames:["leopard"],unified:["1F406"]},{shortNames:["tiger2"],unified:["1F405"]},{shortNames:["water_buffalo"],unified:["1F403"]},{shortNames:["ox"],unified:["1F402"]},{shortNames:["cow2"],unified:["1F404"]},{shortNames:["deer"],unified:["1F98C"]},{shortNames:["dromedary_camel"],unified:["1F42A"]},{shortNames:["camel"],unified:["1F42B"]},{shortNames:["elephant"],unified:["1F418"]},{shortNames:["rhinoceros"],unified:["1F98F"]},{shortNames:["gorilla"],unified:["1F98D"]},{shortNames:["racehorse"],unified:["1F40E"]},{shortNames:["pig2"],unified:["1F416"]},{shortNames:["goat"],unified:["1F410"]},{shortNames:["ram"],unified:["1F40F"]},{shortNames:["sheep"],unified:["1F411"]},{shortNames:["dog2"],unified:["1F415"]},{shortNames:["poodle"],unified:["1F429"]},{shortNames:["cat2"],unified:["1F408"]},{shortNames:["rooster"],unified:["1F413"]},{shortNames:["turkey"],unified:["1F983"]},{shortNames:["dove_of_peace"],unified:["1F54A"]},{shortNames:["rabbit2"],unified:["1F407"]},{shortNames:["mouse2"],unified:["1F401"]},{shortNames:["rat"],unified:["1F400"]},{shortNames:["chipmunk"],unified:["1F43F"]},{shortNames:["feet","paw_prints"],unified:["1F43E"]},{shortNames:["dragon"],unified:["1F409"]},{shortNames:["dragon_face"],unified:["1F432"]},{shortNames:["cactus"],unified:["1F335"]},{shortNames:["christmas_tree"],unified:["1F384"]},{shortNames:["evergreen_tree"],unified:["1F332"]},{shortNames:["deciduous_tree"],unified:["1F333"]},{shortNames:["palm_tree"],unified:["1F334"]},{shortNames:["seedling"],unified:["1F331"]},{shortNames:["herb"],unified:["1F33F"]},{shortNames:["shamrock"],unified:["2618","2618-FE0F"]},{shortNames:["four_leaf_clover"],unified:["1F340"]},{shortNames:["bamboo"],unified:["1F38D"]},{shortNames:["tanabata_tree"],unified:["1F38B"]},{shortNames:["leaves"],unified:["1F343"]},{shortNames:["fallen_leaf"],unified:["1F342"]},{shortNames:["maple_leaf"],unified:["1F341"]},{shortNames:["mushroom"],unified:["1F344"]},{shortNames:["ear_of_rice"],unified:["1F33E"]},{shortNames:["bouquet"],unified:["1F490"]},{shortNames:["tulip"],unified:["1F337"]},{shortNames:["rose"],unified:["1F339"]},{shortNames:["wilted_flower"],unified:["1F940"]},{shortNames:["sunflower"],unified:["1F33B"]},{shortNames:["blossom"],unified:["1F33C"]},{shortNames:["cherry_blossom"],unified:["1F338"]},{shortNames:["hibiscus"],unified:["1F33A"]},{shortNames:["earth_americas"],unified:["1F30E"]},{shortNames:["earth_africa"],unified:["1F30D"]},{shortNames:["earth_asia"],unified:["1F30F"]},{shortNames:["full_moon"],unified:["1F315"]},{shortNames:["waning_gibbous_moon"],unified:["1F316"]},{shortNames:["last_quarter_moon"],unified:["1F317"]},{shortNames:["waning_crescent_moon"],unified:["1F318"]},{shortNames:["new_moon"],unified:["1F311"]},{shortNames:["waxing_crescent_moon"],unified:["1F312"]},{shortNames:["first_quarter_moon"],unified:["1F313"]},{shortNames:["moon","waxing_gibbous_moon"],unified:["1F314"]},{shortNames:["new_moon_with_face"],unified:["1F31A"]},{shortNames:["full_moon_with_face"],unified:["1F31D"]},{shortNames:["sun_with_face"],unified:["1F31E"]},{shortNames:["first_quarter_moon_with_face"],unified:["1F31B"]},{shortNames:["last_quarter_moon_with_face"],unified:["1F31C"]},{shortNames:["crescent_moon"],unified:["1F319"]},{shortNames:["dizzy"],unified:["1F4AB"]},{shortNames:["star"],unified:["2B50","2B50-FE0F"]},{shortNames:["star2"],unified:["1F31F"]},{shortNames:["sparkles"],unified:["2728"]},{shortNames:["zap"],unified:["26A1","26A1-FE0F"]},{shortNames:["fire"],unified:["1F525"]},{shortNames:["boom","collision"],unified:["1F4A5"]},{shortNames:["comet"],unified:["2604","2604-FE0F"]},{shortNames:["sunny"],unified:["2600","2600-FE0F"]},{shortNames:["mostly_sunny","sun_small_cloud"],unified:["1F324"]},{shortNames:["partly_sunny"],unified:["26C5","26C5-FE0F"]},{shortNames:["barely_sunny","sun_behind_cloud"],unified:["1F325"]},{shortNames:["partly_sunny_rain","sun_behind_rain_cloud"],unified:["1F326"]},{shortNames:["rainbow"],unified:["1F308"]},{shortNames:["cloud"],unified:["2601","2601-FE0F"]},{shortNames:["rain_cloud"],unified:["1F327"]},{shortNames:["thunder_cloud_and_rain"],unified:["26C8"]},{shortNames:["lightning","lightning_cloud"],unified:["1F329"]},{shortNames:["snow_cloud"],unified:["1F328"]},{shortNames:["snowman"],unified:["2603","2603-FE0F"]},{shortNames:["snowman_without_snow"],unified:["26C4","26C4-FE0F"]},{shortNames:["snowflake"],unified:["2744","2744-FE0F"]},{shortNames:["wind_blowing_face"],unified:["1F32C"]},{shortNames:["dash"],unified:["1F4A8"]},{shortNames:["tornado","tornado_cloud"],unified:["1F32A"]},{shortNames:["fog"],unified:["1F32B"]},{shortNames:["ocean"],unified:["1F30A"]},{shortNames:["droplet"],unified:["1F4A7"]},{shortNames:["sweat_drops"],unified:["1F4A6"]},{shortNames:["umbrella_with_rain_drops"],unified:["2614","2614-FE0F"]}],People:[{shortNames:["grinning"],unified:["1F600"]},{shortNames:["smiley"],unified:["1F603"]},{shortNames:["smile"],unified:["1F604"]},{shortNames:["grin"],unified:["1F601"]},{shortNames:["laughing","satisfied"],unified:["1F606"]},{shortNames:["sweat_smile"],unified:["1F605"]},{shortNames:["joy"],unified:["1F602"]},{shortNames:["rolling_on_the_floor_laughing"],unified:["1F923"]},{shortNames:["relaxed"],unified:["263A","263A-FE0F"]},{shortNames:["blush"],unified:["1F60A"]},{shortNames:["innocent"],unified:["1F607"]},{shortNames:["slightly_smiling_face"],unified:["1F642"]},{shortNames:["upside_down_face"],unified:["1F643"]},{shortNames:["wink"],unified:["1F609"]},{shortNames:["relieved"],unified:["1F60C"]},{shortNames:["heart_eyes"],unified:["1F60D"]},{shortNames:["kissing_heart"],unified:["1F618"]},{shortNames:["kissing"],unified:["1F617"]},{shortNames:["kissing_smiling_eyes"],unified:["1F619"]},{shortNames:["kissing_closed_eyes"],unified:["1F61A"]},{shortNames:["yum"],unified:["1F60B"]},{shortNames:["stuck_out_tongue_winking_eye"],unified:["1F61C"]},{shortNames:["stuck_out_tongue_closed_eyes"],unified:["1F61D"]},{shortNames:["stuck_out_tongue"],unified:["1F61B"]},{shortNames:["money_mouth_face"],unified:["1F911"]},{shortNames:["hugging_face"],unified:["1F917"]},{shortNames:["nerd_face"],unified:["1F913"]},{shortNames:["sunglasses"],unified:["1F60E"]},{shortNames:["clown_face"],unified:["1F921"]},{shortNames:["face_with_cowboy_hat"],unified:["1F920"]},{shortNames:["smirk"],unified:["1F60F"]},{shortNames:["unamused"],unified:["1F612"]},{shortNames:["disappointed"],unified:["1F61E"]},{shortNames:["pensive"],unified:["1F614"]},{shortNames:["worried"],unified:["1F61F"]},{shortNames:["confused"],unified:["1F615"]},{shortNames:["slightly_frowning_face"],unified:["1F641"]},{shortNames:["white_frowning_face"],unified:["2639","2639-FE0F"]},{shortNames:["persevere"],unified:["1F623"]},{shortNames:["confounded"],unified:["1F616"]},{shortNames:["tired_face"],unified:["1F62B"]},{shortNames:["weary"],unified:["1F629"]},{shortNames:["triumph"],unified:["1F624"]},{shortNames:["angry"],unified:["1F620"]},{shortNames:["rage"],unified:["1F621"]},{shortNames:["no_mouth"],unified:["1F636"]},{shortNames:["neutral_face"],unified:["1F610"]},{shortNames:["expressionless"],unified:["1F611"]},{shortNames:["hushed"],unified:["1F62F"]},{shortNames:["frowning"],unified:["1F626"]},{shortNames:["anguished"],unified:["1F627"]},{shortNames:["open_mouth"],unified:["1F62E"]},{shortNames:["astonished"],unified:["1F632"]},{shortNames:["dizzy_face"],unified:["1F635"]},{shortNames:["flushed"],unified:["1F633"]},{shortNames:["scream"],unified:["1F631"]},{shortNames:["fearful"],unified:["1F628"]},{shortNames:["cold_sweat"],unified:["1F630"]},{shortNames:["cry"],unified:["1F622"]},{shortNames:["disappointed_relieved"],unified:["1F625"]},{shortNames:["drooling_face"],unified:["1F924"]},{shortNames:["sob"],unified:["1F62D"]},{shortNames:["sweat"],unified:["1F613"]},{shortNames:["sleepy"],unified:["1F62A"]},{shortNames:["sleeping"],unified:["1F634"]},{shortNames:["face_with_rolling_eyes"],unified:["1F644"]},{shortNames:["thinking_face"],unified:["1F914"]},{shortNames:["lying_face"],unified:["1F925"]},{shortNames:["grimacing"],unified:["1F62C"]},{shortNames:["zipper_mouth_face"],unified:["1F910"]},{shortNames:["nauseated_face"],unified:["1F922"]},{shortNames:["sneezing_face"],unified:["1F927"]},{shortNames:["mask"],unified:["1F637"]},{shortNames:["face_with_thermometer"],unified:["1F912"]},{shortNames:["face_with_head_bandage"],unified:["1F915"]},{shortNames:["smiling_imp"],unified:["1F608"]},{shortNames:["imp"],unified:["1F47F"]},{shortNames:["japanese_ogre"],unified:["1F479"]},{shortNames:["japanese_goblin"],unified:["1F47A"]},{shortNames:["hankey","poop","shit"],unified:["1F4A9"]},{shortNames:["ghost"],unified:["1F47B"]},{shortNames:["skull"],unified:["1F480"]},{shortNames:["skull_and_crossbones"],unified:["2620","2620-FE0F"]},{shortNames:["alien"],unified:["1F47D"]},{shortNames:["space_invader"],unified:["1F47E"]},{shortNames:["robot_face"],unified:["1F916"]},{shortNames:["jack_o_lantern"],unified:["1F383"]},{shortNames:["smiley_cat"],unified:["1F63A"]},{shortNames:["smile_cat"],unified:["1F638"]},{shortNames:["joy_cat"],unified:["1F639"]},{shortNames:["heart_eyes_cat"],unified:["1F63B"]},{shortNames:["smirk_cat"],unified:["1F63C"]},{shortNames:["kissing_cat"],unified:["1F63D"]},{shortNames:["scream_cat"],unified:["1F640"]},{shortNames:["crying_cat_face"],unified:["1F63F"]},{shortNames:["pouting_cat"],unified:["1F63E"]},{shortNames:["open_hands"],unified:["1F450"],tones:!1},{shortNames:["raised_hands"],unified:["1F64C"],tones:!1},{shortNames:["clap"],unified:["1F44F"],tones:!1},{shortNames:["pray"],unified:["1F64F"],tones:!1},{shortNames:["handshake"],unified:["1F91D"]},{shortNames:["+1","thumbsup"],unified:["1F44D"],tones:!1},{shortNames:["-1","thumbsdown"],unified:["1F44E"],tones:!1},{shortNames:["facepunch","punch"],unified:["1F44A"],tones:!1},{shortNames:["fist"],unified:["270A"],tones:!1},{shortNames:["left-facing_fist"],unified:["1F91B"],tones:!1},{shortNames:["right-facing_fist"],unified:["1F91C"],tones:!1},{shortNames:["hand_with_index_and_middle_fingers_crossed"],unified:["1F91E"],tones:!1},{shortNames:["v"],unified:["270C","270C-FE0F"],tones:!1},{shortNames:["the_horns","sign_of_the_horns"],unified:["1F918"],tones:!1},{shortNames:["ok_hand"],unified:["1F44C"],tones:!1},{shortNames:["point_left"],unified:["1F448"],tones:!1},{shortNames:["point_right"],unified:["1F449"],tones:!1},{shortNames:["point_up_2"],unified:["1F446"],tones:!1},{shortNames:["point_down"],unified:["1F447"],tones:!1},{shortNames:["point_up"],unified:["261D","261D-FE0F"],tones:!1},{shortNames:["hand","raised_hand"],unified:["270B"],tones:!1},{shortNames:["raised_back_of_hand"],unified:["1F91A"],tones:!1},{shortNames:["raised_hand_with_fingers_splayed"],unified:["1F590"],tones:!1},{shortNames:["spock-hand"],unified:["1F596"],tones:!1},{shortNames:["wave"],unified:["1F44B"],tones:!1},{shortNames:["call_me_hand"],unified:["1F919"],tones:!1},{shortNames:["muscle"],unified:["1F4AA"],tones:!1},{shortNames:["middle_finger","reversed_hand_with_middle_finger_extended"],unified:["1F595"],tones:!1},{shortNames:["writing_hand"],unified:["270D","270D-FE0F"],tones:!1},{shortNames:["selfie"],unified:["1F933"],tones:!1},{shortNames:["nail_care"],unified:["1F485"],tones:!1},{shortNames:["ring"],unified:["1F48D"]},{shortNames:["lipstick"],unified:["1F484"]},{shortNames:["kiss"],unified:["1F48B"]},{shortNames:["lips"],unified:["1F444"]},{shortNames:["tongue"],unified:["1F445"]},{shortNames:["ear"],unified:["1F442"],tones:!1},{shortNames:["nose"],unified:["1F443"],tones:!1},{shortNames:["footprints"],unified:["1F463"]},{shortNames:["eye"],unified:["1F441"]},{shortNames:["eyes"],unified:["1F440"]},{shortNames:["speaking_head_in_silhouette"],unified:["1F5E3"]},{shortNames:["bust_in_silhouette"],unified:["1F464"]},{shortNames:["busts_in_silhouette"],unified:["1F465"]},{shortNames:["baby"],unified:["1F476"],tones:!1},{shortNames:["boy"],unified:["1F466"],tones:!1},{shortNames:["girl"],unified:["1F467"],tones:!1},{shortNames:["man"],unified:["1F468"],tones:!1},{shortNames:["woman"],unified:["1F469"],tones:!1},{shortNames:["blond-haired-woman"],unified:["1F471-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_blond_hair"],unified:["1F471"],tones:!1},{shortNames:["older_man"],unified:["1F474"],tones:!1},{shortNames:["older_woman"],unified:["1F475"],tones:!1},{shortNames:["man_with_gua_pi_mao"],unified:["1F472"],tones:!1},{shortNames:["woman-wearing-turban"],unified:["1F473-200D-2640-FE0F"],tones:!1},{shortNames:["man_with_turban"],unified:["1F473"],tones:!1},{shortNames:["female-police-officer"],unified:["1F46E-200D-2640-FE0F"],tones:!1},{shortNames:["cop"],unified:["1F46E"],tones:!1},{shortNames:["female-construction-worker"],unified:["1F477-200D-2640-FE0F"],tones:!1},{shortNames:["construction_worker"],unified:["1F477"],tones:!1},{shortNames:["female-guard"],unified:["1F482-200D-2640-FE0F"],tones:!1},{shortNames:["guardsman"],unified:["1F482"],tones:!1},{shortNames:["female-detective"],unified:["1F575-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["sleuth_or_spy"],unified:["1F575","1F575-FE0F"],tones:!1},{shortNames:["female-doctor"],unified:["1F469-200D-2695-FE0F"],tones:!1},{shortNames:["male-doctor"],unified:["1F468-200D-2695-FE0F"],tones:!1},{shortNames:["female-farmer"],unified:["1F469-200D-1F33E"],tones:!1},{shortNames:["male-farmer"],unified:["1F468-200D-1F33E"],tones:!1},{shortNames:["female-cook"],unified:["1F469-200D-1F373"],tones:!1},{shortNames:["male-cook"],unified:["1F468-200D-1F373"],tones:!1},{shortNames:["female-student"],unified:["1F469-200D-1F393"],tones:!1},{shortNames:["male-student"],unified:["1F468-200D-1F393"],tones:!1},{shortNames:["female-singer"],unified:["1F469-200D-1F3A4"],tones:!1},{shortNames:["male-singer"],unified:["1F468-200D-1F3A4"],tones:!1},{shortNames:["female-teacher"],unified:["1F469-200D-1F3EB"],tones:!1},{shortNames:["male-teacher"],unified:["1F468-200D-1F3EB"],tones:!1},{shortNames:["female-factory-worker"],unified:["1F469-200D-1F3ED"],tones:!1},{shortNames:["male-factory-worker"],unified:["1F468-200D-1F3ED"],tones:!1},{shortNames:["female-technologist"],unified:["1F469-200D-1F4BB"],tones:!1},{shortNames:["male-technologist"],unified:["1F468-200D-1F4BB"],tones:!1},{shortNames:["female-office-worker"],unified:["1F469-200D-1F4BC"],tones:!1},{shortNames:["male-office-worker"],unified:["1F468-200D-1F4BC"],tones:!1},{shortNames:["female-mechanic"],unified:["1F469-200D-1F527"],tones:!1},{shortNames:["male-mechanic"],unified:["1F468-200D-1F527"],tones:!1},{shortNames:["female-scientist"],unified:["1F469-200D-1F52C"],tones:!1},{shortNames:["male-scientist"],unified:["1F468-200D-1F52C"],tones:!1},{shortNames:["female-artist"],unified:["1F469-200D-1F3A8"],tones:!1},{shortNames:["male-artist"],unified:["1F468-200D-1F3A8"],tones:!1},{shortNames:["female-firefighter"],unified:["1F469-200D-1F692"],tones:!1},{shortNames:["male-firefighter"],unified:["1F468-200D-1F692"],tones:!1},{shortNames:["female-pilot"],unified:["1F469-200D-2708-FE0F"],tones:!1},{shortNames:["male-pilot"],unified:["1F468-200D-2708-FE0F"],tones:!1},{shortNames:["female-astronaut"],unified:["1F469-200D-1F680"],tones:!1},{shortNames:["male-astronaut"],unified:["1F468-200D-1F680"],tones:!1},{shortNames:["female-judge"],unified:["1F469-200D-2696-FE0F"],tones:!1},{shortNames:["male-judge"],unified:["1F468-200D-2696-FE0F"],tones:!1},{shortNames:["mother_christmas"],unified:["1F936"],tones:!1},{shortNames:["santa"],unified:["1F385"],tones:!1},{shortNames:["princess"],unified:["1F478"],tones:!1},{shortNames:["prince"],unified:["1F934"],tones:!1},{shortNames:["bride_with_veil"],unified:["1F470"],tones:!1},{shortNames:["man_in_tuxedo"],unified:["1F935"],tones:!1},{shortNames:["angel"],unified:["1F47C"],tones:!1},{shortNames:["pregnant_woman"],unified:["1F930"],tones:!1},{shortNames:["woman-bowing"],unified:["1F647-200D-2640-FE0F"],tones:!1},{shortNames:["bow"],unified:["1F647"],tones:!1},{shortNames:["information_desk_person"],unified:["1F481"],tones:!1},{shortNames:["man-tipping-hand"],unified:["1F481-200D-2642-FE0F"],tones:!1},{shortNames:["no_good"],unified:["1F645"],tones:!1},{shortNames:["man-gesturing-no"],unified:["1F645-200D-2642-FE0F"],tones:!1},{shortNames:["ok_woman"],unified:["1F646"],tones:!1},{shortNames:["man-gesturing-ok"],unified:["1F646-200D-2642-FE0F"],tones:!1},{shortNames:["raising_hand"],unified:["1F64B"],tones:!1},{shortNames:["man-raising-hand"],unified:["1F64B-200D-2642-FE0F"],tones:!1},{shortNames:["face_palm"],unified:["1F926"],tones:!1},{shortNames:["woman-facepalming"],unified:["1F926-200D-2640-FE0F"],tones:!1},{shortNames:["man-facepalming"],unified:["1F926-200D-2642-FE0F"],tones:!1},{shortNames:["shrug"],unified:["1F937"],tones:!1},{shortNames:["woman-shrugging"],unified:["1F937-200D-2640-FE0F"],tones:!1},{shortNames:["man-shrugging"],unified:["1F937-200D-2642-FE0F"],tones:!1},{shortNames:["person_with_pouting_face"],unified:["1F64E"],tones:!1},{shortNames:["man-pouting"],unified:["1F64E-200D-2642-FE0F"],tones:!1},{shortNames:["person_frowning"],unified:["1F64D"],tones:!1},{shortNames:["man-frowning"],unified:["1F64D-200D-2642-FE0F"],tones:!1},{shortNames:["haircut"],unified:["1F487"],tones:!1},{shortNames:["man-getting-haircut"],unified:["1F487-200D-2642-FE0F"],tones:!1},{shortNames:["massage"],unified:["1F486"],tones:!1},{shortNames:["man-getting-massage"],unified:["1F486-200D-2642-FE0F"],tones:!1},{shortNames:["man_in_business_suit_levitating"],unified:["1F574"],tones:!1},{shortNames:["dancer"],unified:["1F483"],tones:!1},{shortNames:["man_dancing"],unified:["1F57A"],tones:!1},{shortNames:["dancers"],unified:["1F46F"]},{shortNames:["man-with-bunny-ears-partying"],unified:["1F46F-200D-2642-FE0F"]},{shortNames:["woman-walking"],unified:["1F6B6-200D-2640-FE0F"],tones:!1},{shortNames:["walking"],unified:["1F6B6"],tones:!1},{shortNames:["woman-running"],unified:["1F3C3-200D-2640-FE0F"],tones:!1},{shortNames:["runner","running"],unified:["1F3C3"],tones:!1},{shortNames:["couple","man_and_woman_holding_hands"],unified:["1F46B"]},{shortNames:["two_women_holding_hands"],unified:["1F46D"]},{shortNames:["two_men_holding_hands"],unified:["1F46C"]},{shortNames:["couple_with_heart"],unified:["1F491"]},{shortNames:["woman-heart-woman"],unified:["1F469-200D-2764-FE0F-200D-1F469"]},{shortNames:["man-heart-man"],unified:["1F468-200D-2764-FE0F-200D-1F468"]},{shortNames:["couplekiss"],unified:["1F48F"]},{shortNames:["woman-kiss-woman"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F469"]},{shortNames:["man-kiss-man"],unified:["1F468-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["family","man-woman-boy"],unified:["1F46A"]},{shortNames:["man-woman-girl"],unified:["1F468-200D-1F469-200D-1F467"]},{shortNames:["man-woman-girl-boy"],unified:["1F468-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["man-woman-boy-boy"],unified:["1F468-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["man-woman-girl-girl"],unified:["1F468-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["woman-woman-boy"],unified:["1F469-200D-1F469-200D-1F466"]},{shortNames:["woman-woman-girl"],unified:["1F469-200D-1F469-200D-1F467"]},{shortNames:["woman-woman-girl-boy"],unified:["1F469-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-woman-boy-boy"],unified:["1F469-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-woman-girl-girl"],unified:["1F469-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["man-man-boy"],unified:["1F468-200D-1F468-200D-1F466"]},{shortNames:["man-man-girl"],unified:["1F468-200D-1F468-200D-1F467"]},{shortNames:["man-man-girl-boy"],unified:["1F468-200D-1F468-200D-1F467-200D-1F466"]},{shortNames:["man-man-boy-boy"],unified:["1F468-200D-1F468-200D-1F466-200D-1F466"]},{shortNames:["man-man-girl-girl"],unified:["1F468-200D-1F468-200D-1F467-200D-1F467"]},{shortNames:["woman-boy"],unified:["1F469-200D-1F466"]},{shortNames:["woman-girl"],unified:["1F469-200D-1F467"]},{shortNames:["woman-girl-boy"],unified:["1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-boy-boy"],unified:["1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-girl-girl"],unified:["1F469-200D-1F467-200D-1F467"]},{shortNames:["man-boy"],unified:["1F468-200D-1F466"]},{shortNames:["man-girl"],unified:["1F468-200D-1F467"]},{shortNames:["man-girl-boy"],unified:["1F468-200D-1F467-200D-1F466"]},{shortNames:["man-boy-boy"],unified:["1F468-200D-1F466-200D-1F466"]},{shortNames:["man-girl-girl"],unified:["1F468-200D-1F467-200D-1F467"]},{shortNames:["womans_clothes"],unified:["1F45A"]},{shortNames:["shirt","tshirt"],unified:["1F455"]},{shortNames:["jeans"],unified:["1F456"]},{shortNames:["necktie"],unified:["1F454"]},{shortNames:["dress"],unified:["1F457"]},{shortNames:["bikini"],unified:["1F459"]},{shortNames:["kimono"],unified:["1F458"]},{shortNames:["high_heel"],unified:["1F460"]},{shortNames:["sandal"],unified:["1F461"]},{shortNames:["boot"],unified:["1F462"]},{shortNames:["mans_shoe","shoe"],unified:["1F45E"]},{shortNames:["athletic_shoe"],unified:["1F45F"]},{shortNames:["womans_hat"],unified:["1F452"]},{shortNames:["tophat"],unified:["1F3A9"]},{shortNames:["mortar_board"],unified:["1F393"]},{shortNames:["crown"],unified:["1F451"]},{shortNames:["helmet_with_white_cross"],unified:["26D1"]},{shortNames:["school_satchel"],unified:["1F392"]},{shortNames:["pouch"],unified:["1F45D"]},{shortNames:["purse"],unified:["1F45B"]},{shortNames:["handbag"],unified:["1F45C"]},{shortNames:["briefcase"],unified:["1F4BC"]},{shortNames:["eyeglasses"],unified:["1F453"]},{shortNames:["dark_sunglasses"],unified:["1F576"]},{shortNames:["closed_umbrella"],unified:["1F302"]},{shortNames:["umbrella"],unified:["2602","2602-FE0F"]},{shortNames:["man-woman-boy","family"],unified:["1F468-200D-1F469-200D-1F466"]},{shortNames:["woman-heart-man"],unified:["1F469-200D-2764-FE0F-200D-1F468"]},{shortNames:["woman-kiss-man"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["male-police-officer"],unified:["1F46E-200D-2642-FE0F"],tones:!1},{shortNames:["blond-haired-man"],unified:["1F471-200D-2642-FE0F"],tones:!1},{shortNames:["man-wearing-turban"],unified:["1F473-200D-2642-FE0F"],tones:!1},{shortNames:["male-construction-worker"],unified:["1F477-200D-2642-FE0F"],tones:!1},{shortNames:["male-guard"],unified:["1F482-200D-2642-FE0F"],tones:!1},{shortNames:["male-detective"],unified:["1F575-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["woman-with-bunny-ears-partying"],unified:["1F46F-200D-2640-FE0F"]},{shortNames:["man-running"],unified:["1F3C3-200D-2642-FE0F"],tones:!1},{shortNames:["woman-getting-massage"],unified:["1F486-200D-2640-FE0F"],tones:!1},{shortNames:["woman-getting-haircut"],unified:["1F487-200D-2640-FE0F"],tones:!1},{shortNames:["man-walking"],unified:["1F6B6-200D-2642-FE0F"],tones:!1},{shortNames:["woman-tipping-hand"],unified:["1F481-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-no"],unified:["1F645-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-ok"],unified:["1F646-200D-2640-FE0F"],tones:!1},{shortNames:["man-bowing"],unified:["1F647-200D-2642-FE0F"],tones:!1},{shortNames:["woman-raising-hand"],unified:["1F64B-200D-2640-FE0F"],tones:!1},{shortNames:["woman-frowning"],unified:["1F64D-200D-2640-FE0F"],tones:!1},{shortNames:["woman-pouting"],unified:["1F64E-200D-2640-FE0F"],tones:!1}],Foods:[{shortNames:["green_apple"],unified:["1F34F"]},{shortNames:["apple"],unified:["1F34E"]},{shortNames:["pear"],unified:["1F350"]},{shortNames:["tangerine"],unified:["1F34A"]},{shortNames:["lemon"],unified:["1F34B"]},{shortNames:["banana"],unified:["1F34C"]},{shortNames:["watermelon"],unified:["1F349"]},{shortNames:["grapes"],unified:["1F347"]},{shortNames:["strawberry"],unified:["1F353"]},{shortNames:["melon"],unified:["1F348"]},{shortNames:["cherries"],unified:["1F352"]},{shortNames:["peach"],unified:["1F351"]},{shortNames:["pineapple"],unified:["1F34D"]},{shortNames:["kiwifruit"],unified:["1F95D"]},{shortNames:["avocado"],unified:["1F951"]},{shortNames:["tomato"],unified:["1F345"]},{shortNames:["eggplant"],unified:["1F346"]},{shortNames:["cucumber"],unified:["1F952"]},{shortNames:["carrot"],unified:["1F955"]},{shortNames:["corn"],unified:["1F33D"]},{shortNames:["hot_pepper"],unified:["1F336"]},{shortNames:["potato"],unified:["1F954"]},{shortNames:["sweet_potato"],unified:["1F360"]},{shortNames:["chestnut"],unified:["1F330"]},{shortNames:["peanuts"],unified:["1F95C"]},{shortNames:["honey_pot"],unified:["1F36F"]},{shortNames:["croissant"],unified:["1F950"]},{shortNames:["bread"],unified:["1F35E"]},{shortNames:["baguette_bread"],unified:["1F956"]},{shortNames:["cheese_wedge"],unified:["1F9C0"]},{shortNames:["egg"],unified:["1F95A"]},{shortNames:["fried_egg","cooking"],unified:["1F373"]},{shortNames:["bacon"],unified:["1F953"]},{shortNames:["pancakes"],unified:["1F95E"]},{shortNames:["fried_shrimp"],unified:["1F364"]},{shortNames:["poultry_leg"],unified:["1F357"]},{shortNames:["meat_on_bone"],unified:["1F356"]},{shortNames:["pizza"],unified:["1F355"]},{shortNames:["hotdog"],unified:["1F32D"]},{shortNames:["hamburger"],unified:["1F354"]},{shortNames:["fries"],unified:["1F35F"]},{shortNames:["stuffed_flatbread"],unified:["1F959"]},{shortNames:["taco"],unified:["1F32E"]},{shortNames:["burrito"],unified:["1F32F"]},{shortNames:["green_salad"],unified:["1F957"]},{shortNames:["shallow_pan_of_food"],unified:["1F958"]},{shortNames:["spaghetti"],unified:["1F35D"]},{shortNames:["ramen"],unified:["1F35C"]},{shortNames:["stew"],unified:["1F372"]},{shortNames:["fish_cake"],unified:["1F365"]},{shortNames:["sushi"],unified:["1F363"]},{shortNames:["bento"],unified:["1F371"]},{shortNames:["curry"],unified:["1F35B"]},{shortNames:["rice"],unified:["1F35A"]},{shortNames:["rice_ball"],unified:["1F359"]},{shortNames:["rice_cracker"],unified:["1F358"]},{shortNames:["oden"],unified:["1F362"]},{shortNames:["dango"],unified:["1F361"]},{shortNames:["shaved_ice"],unified:["1F367"]},{shortNames:["ice_cream"],unified:["1F368"]},{shortNames:["icecream"],unified:["1F366"]},{shortNames:["cake"],unified:["1F370"]},{shortNames:["birthday"],unified:["1F382"]},{shortNames:["custard"],unified:["1F36E"]},{shortNames:["lollipop"],unified:["1F36D"]},{shortNames:["candy"],unified:["1F36C"]},{shortNames:["chocolate_bar"],unified:["1F36B"]},{shortNames:["popcorn"],unified:["1F37F"]},{shortNames:["doughnut"],unified:["1F369"]},{shortNames:["cookie"],unified:["1F36A"]},{shortNames:["glass_of_milk"],unified:["1F95B"]},{shortNames:["baby_bottle"],unified:["1F37C"]},{shortNames:["coffee"],unified:["2615","2615-FE0F"]},{shortNames:["tea"],unified:["1F375"]},{shortNames:["sake"],unified:["1F376"]},{shortNames:["beer"],unified:["1F37A"]},{shortNames:["beers"],unified:["1F37B"]},{shortNames:["clinking_glasses"],unified:["1F942"]},{shortNames:["wine_glass"],unified:["1F377"]},{shortNames:["tumbler_glass"],unified:["1F943"]},{shortNames:["cocktail"],unified:["1F378"]},{shortNames:["tropical_drink"],unified:["1F379"]},{shortNames:["champagne"],unified:["1F37E"]},{shortNames:["spoon"],unified:["1F944"]},{shortNames:["fork_and_knife"],unified:["1F374"]},{shortNames:["knife_fork_plate"],unified:["1F37D"]}],Places:[{shortNames:["car","red_car"],unified:["1F697"]},{shortNames:["taxi"],unified:["1F695"]},{shortNames:["blue_car"],unified:["1F699"]},{shortNames:["bus"],unified:["1F68C"]},{shortNames:["trolleybus"],unified:["1F68E"]},{shortNames:["racing_car"],unified:["1F3CE"]},{shortNames:["police_car"],unified:["1F693"]},{shortNames:["ambulance"],unified:["1F691"]},{shortNames:["fire_engine"],unified:["1F692"]},{shortNames:["minibus"],unified:["1F690"]},{shortNames:["truck"],unified:["1F69A"]},{shortNames:["articulated_lorry"],unified:["1F69B"]},{shortNames:["tractor"],unified:["1F69C"]},{shortNames:["scooter"],unified:["1F6F4"]},{shortNames:["bike"],unified:["1F6B2"]},{shortNames:["motor_scooter"],unified:["1F6F5"]},{shortNames:["racing_motorcycle"],unified:["1F3CD"]},{shortNames:["rotating_light"],unified:["1F6A8"]},{shortNames:["oncoming_police_car"],unified:["1F694"]},{shortNames:["oncoming_bus"],unified:["1F68D"]},{shortNames:["oncoming_automobile"],unified:["1F698"]},{shortNames:["oncoming_taxi"],unified:["1F696"]},{shortNames:["aerial_tramway"],unified:["1F6A1"]},{shortNames:["mountain_cableway"],unified:["1F6A0"]},{shortNames:["suspension_railway"],unified:["1F69F"]},{shortNames:["railway_car"],unified:["1F683"]},{shortNames:["train"],unified:["1F68B"]},{shortNames:["mountain_railway"],unified:["1F69E"]},{shortNames:["monorail"],unified:["1F69D"]},{shortNames:["bullettrain_side"],unified:["1F684"]},{shortNames:["bullettrain_front"],unified:["1F685"]},{shortNames:["light_rail"],unified:["1F688"]},{shortNames:["steam_locomotive"],unified:["1F682"]},{shortNames:["train2"],unified:["1F686"]},{shortNames:["metro"],unified:["1F687"]},{shortNames:["tram"],unified:["1F68A"]},{shortNames:["station"],unified:["1F689"]},{shortNames:["helicopter"],unified:["1F681"]},{shortNames:["small_airplane"],unified:["1F6E9"]},{shortNames:["airplane"],unified:["2708","2708-FE0F"]},{shortNames:["airplane_departure"],unified:["1F6EB"]},{shortNames:["airplane_arriving"],unified:["1F6EC"]},{shortNames:["rocket"],unified:["1F680"]},{shortNames:["satellite"],unified:["1F6F0"]},{shortNames:["seat"],unified:["1F4BA"]},{shortNames:["canoe"],unified:["1F6F6"]},{shortNames:["boat","sailboat"],unified:["26F5","26F5-FE0F"]},{shortNames:["motor_boat"],unified:["1F6E5"]},{shortNames:["speedboat"],unified:["1F6A4"]},{shortNames:["passenger_ship"],unified:["1F6F3"]},{shortNames:["ferry"],unified:["26F4"]},{shortNames:["ship"],unified:["1F6A2"]},{shortNames:["anchor"],unified:["2693","2693-FE0F"]},{shortNames:["construction"],unified:["1F6A7"]},{shortNames:["fuelpump"],unified:["26FD","26FD-FE0F"]},{shortNames:["busstop"],unified:["1F68F"]},{shortNames:["vertical_traffic_light"],unified:["1F6A6"]},{shortNames:["traffic_light"],unified:["1F6A5"]},{shortNames:["world_map"],unified:["1F5FA"]},{shortNames:["moyai"],unified:["1F5FF"]},{shortNames:["statue_of_liberty"],unified:["1F5FD"]},{shortNames:["fountain"],unified:["26F2","26F2-FE0F"]},{shortNames:["tokyo_tower"],unified:["1F5FC"]},{shortNames:["european_castle"],unified:["1F3F0"]},{shortNames:["japanese_castle"],unified:["1F3EF"]},{shortNames:["stadium"],unified:["1F3DF"]},{shortNames:["ferris_wheel"],unified:["1F3A1"]},{shortNames:["roller_coaster"],unified:["1F3A2"]},{shortNames:["carousel_horse"],unified:["1F3A0"]},{shortNames:["umbrella_on_ground"],unified:["26F1"]},{shortNames:["beach_with_umbrella"],unified:["1F3D6"]},{shortNames:["desert_island"],unified:["1F3DD"]},{shortNames:["mountain"],unified:["26F0"]},{shortNames:["snow_capped_mountain"],unified:["1F3D4"]},{shortNames:["mount_fuji"],unified:["1F5FB"]},{shortNames:["volcano"],unified:["1F30B"]},{shortNames:["desert"],unified:["1F3DC"]},{shortNames:["camping"],unified:["1F3D5"]},{shortNames:["tent"],unified:["26FA","26FA-FE0F"]},{shortNames:["railway_track"],unified:["1F6E4"]},{shortNames:["motorway"],unified:["1F6E3"]},{shortNames:["building_construction"],unified:["1F3D7"]},{shortNames:["factory"],unified:["1F3ED"]},{shortNames:["house"],unified:["1F3E0"]},{shortNames:["house_with_garden"],unified:["1F3E1"]},{shortNames:["house_buildings"],unified:["1F3D8"]},{shortNames:["derelict_house_building"],unified:["1F3DA"]},{shortNames:["office"],unified:["1F3E2"]},{shortNames:["department_store"],unified:["1F3EC"]},{shortNames:["post_office"],unified:["1F3E3"]},{shortNames:["european_post_office"],unified:["1F3E4"]},{shortNames:["hospital"],unified:["1F3E5"]},{shortNames:["bank"],unified:["1F3E6"]},{shortNames:["hotel"],unified:["1F3E8"]},{shortNames:["convenience_store"],unified:["1F3EA"]},{shortNames:["school"],unified:["1F3EB"]},{shortNames:["love_hotel"],unified:["1F3E9"]},{shortNames:["wedding"],unified:["1F492"]},{shortNames:["classical_building"],unified:["1F3DB"]},{shortNames:["church"],unified:["26EA","26EA-FE0F"]},{shortNames:["mosque"],unified:["1F54C"]},{shortNames:["synagogue"],unified:["1F54D"]},{shortNames:["kaaba"],unified:["1F54B"]},{shortNames:["shinto_shrine"],unified:["26E9"]},{shortNames:["japan"],unified:["1F5FE"]},{shortNames:["rice_scene"],unified:["1F391"]},{shortNames:["national_park"],unified:["1F3DE"]},{shortNames:["sunrise"],unified:["1F305"]},{shortNames:["sunrise_over_mountains"],unified:["1F304"]},{shortNames:["stars"],unified:["1F320"]},{shortNames:["sparkler"],unified:["1F387"]},{shortNames:["fireworks"],unified:["1F386"]},{shortNames:["city_sunrise"],unified:["1F307"]},{shortNames:["city_sunset"],unified:["1F306"]},{shortNames:["cityscape"],unified:["1F3D9"]},{shortNames:["night_with_stars"],unified:["1F303"]},{shortNames:["milky_way"],unified:["1F30C"]},{shortNames:["bridge_at_night"],unified:["1F309"]},{shortNames:["foggy"],unified:["1F301"]}],Activity:[{shortNames:["soccer"],unified:["26BD","26BD-FE0F"]},{shortNames:["basketball"],unified:["1F3C0"]},{shortNames:["football"],unified:["1F3C8"]},{shortNames:["baseball"],unified:["26BE","26BE-FE0F"]},{shortNames:["tennis"],unified:["1F3BE"]},{shortNames:["volleyball"],unified:["1F3D0"]},{shortNames:["rugby_football"],unified:["1F3C9"]},{shortNames:["8ball"],unified:["1F3B1"]},{shortNames:["table_tennis_paddle_and_ball"],unified:["1F3D3"]},{shortNames:["badminton_racquet_and_shuttlecock"],unified:["1F3F8"]},{shortNames:["goal_net"],unified:["1F945"]},{shortNames:["ice_hockey_stick_and_puck"],unified:["1F3D2"]},{shortNames:["field_hockey_stick_and_ball"],unified:["1F3D1"]},{shortNames:["cricket_bat_and_ball"],unified:["1F3CF"]},{shortNames:["golf"],unified:["26F3","26F3-FE0F"]},{shortNames:["bow_and_arrow"],unified:["1F3F9"]},{shortNames:["fishing_pole_and_fish"],unified:["1F3A3"]},{shortNames:["boxing_glove"],unified:["1F94A"]},{shortNames:["martial_arts_uniform"],unified:["1F94B"]},{shortNames:["ice_skate"],unified:["26F8"]},{shortNames:["ski"],unified:["1F3BF"]},{shortNames:["skier"],unified:["26F7"]},{shortNames:["snowboarder"],unified:["1F3C2"],tones:!1},{shortNames:["woman-lifting-weights"],unified:["1F3CB-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["weight_lifter"],unified:["1F3CB","1F3CB-FE0F"],tones:!1},{shortNames:["fencer"],unified:["1F93A"]},{shortNames:["wrestlers"],unified:["1F93C"]},{shortNames:["woman-wrestling"],unified:["1F93C-200D-2640-FE0F"]},{shortNames:["man-wrestling"],unified:["1F93C-200D-2642-FE0F"]},{shortNames:["person_doing_cartwheel"],unified:["1F938"],tones:!1},{shortNames:["woman-cartwheeling"],unified:["1F938-200D-2640-FE0F"],tones:!1},{shortNames:["man-cartwheeling"],unified:["1F938-200D-2642-FE0F"],tones:!1},{shortNames:["woman-bouncing-ball"],unified:["26F9-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_ball"],unified:["26F9","26F9-FE0F"],tones:!1},{shortNames:["handball"],unified:["1F93E"],tones:!1},{shortNames:["woman-playing-handball"],unified:["1F93E-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-handball"],unified:["1F93E-200D-2642-FE0F"],tones:!1},{shortNames:["woman-golfing"],unified:["1F3CC-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["golfer"],unified:["1F3CC","1F3CC-FE0F"],tones:!1},{shortNames:["woman-surfing"],unified:["1F3C4-200D-2640-FE0F"],tones:!1},{shortNames:["surfer"],unified:["1F3C4"],tones:!1},{shortNames:["woman-swimming"],unified:["1F3CA-200D-2640-FE0F"],tones:!1},{shortNames:["swimmer"],unified:["1F3CA"],tones:!1},{shortNames:["water_polo"],unified:["1F93D"],tones:!1},{shortNames:["woman-playing-water-polo"],unified:["1F93D-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-water-polo"],unified:["1F93D-200D-2642-FE0F"],tones:!1},{shortNames:["woman-rowing-boat"],unified:["1F6A3-200D-2640-FE0F"],tones:!1},{shortNames:["rowboat"],unified:["1F6A3"],tones:!1},{shortNames:["horse_racing"],unified:["1F3C7"],tones:!1},{shortNames:["woman-biking"],unified:["1F6B4-200D-2640-FE0F"],tones:!1},{shortNames:["bicyclist"],unified:["1F6B4"],tones:!1},{shortNames:["woman-mountain-biking"],unified:["1F6B5-200D-2640-FE0F"],tones:!1},{shortNames:["mountain_bicyclist"],unified:["1F6B5"],tones:!1},{shortNames:["running_shirt_with_sash"],unified:["1F3BD"]},{shortNames:["sports_medal"],unified:["1F3C5"]},{shortNames:["medal"],unified:["1F396"]},{shortNames:["first_place_medal"],unified:["1F947"]},{shortNames:["second_place_medal"],unified:["1F948"]},{shortNames:["third_place_medal"],unified:["1F949"]},{shortNames:["trophy"],unified:["1F3C6"]},{shortNames:["rosette"],unified:["1F3F5"]},{shortNames:["reminder_ribbon"],unified:["1F397"]},{shortNames:["ticket"],unified:["1F3AB"]},{shortNames:["admission_tickets"],unified:["1F39F"]},{shortNames:["circus_tent"],unified:["1F3AA"]},{shortNames:["juggling"],unified:["1F939"],tones:!1},{shortNames:["woman-juggling"],unified:["1F939-200D-2640-FE0F"],tones:!1},{shortNames:["man-juggling"],unified:["1F939-200D-2642-FE0F"],tones:!1},{shortNames:["performing_arts"],unified:["1F3AD"]},{shortNames:["art"],unified:["1F3A8"]},{shortNames:["clapper"],unified:["1F3AC"]},{shortNames:["microphone"],unified:["1F3A4"]},{shortNames:["headphones"],unified:["1F3A7"]},{shortNames:["musical_score"],unified:["1F3BC"]},{shortNames:["musical_keyboard"],unified:["1F3B9"]},{shortNames:["drum_with_drumsticks"],unified:["1F941"]},{shortNames:["saxophone"],unified:["1F3B7"]},{shortNames:["trumpet"],unified:["1F3BA"]},{shortNames:["guitar"],unified:["1F3B8"]},{shortNames:["violin"],unified:["1F3BB"]},{shortNames:["game_die"],unified:["1F3B2"]},{shortNames:["dart"],unified:["1F3AF"]},{shortNames:["bowling"],unified:["1F3B3"]},{shortNames:["video_game"],unified:["1F3AE"]},{shortNames:["slot_machine"],unified:["1F3B0"]},{shortNames:["man-bouncing-ball"],unified:["26F9-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-lifting-weights"],unified:["1F3CB-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-golfing"],unified:["1F3CC-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-surfing"],unified:["1F3C4-200D-2642-FE0F"],tones:!1},{shortNames:["man-swimming"],unified:["1F3CA-200D-2642-FE0F"],tones:!1},{shortNames:["man-rowing-boat"],unified:["1F6A3-200D-2642-FE0F"],tones:!1},{shortNames:["man-biking"],unified:["1F6B4-200D-2642-FE0F"],tones:!1},{shortNames:["man-mountain-biking"],unified:["1F6B5-200D-2642-FE0F"],tones:!1}],Flags:[{shortNames:["waving_white_flag"],unified:["1F3F3","1F3F3-FE0F"]},{shortNames:["waving_black_flag"],unified:["1F3F4"]},{shortNames:["checkered_flag"],unified:["1F3C1"]},{shortNames:["triangular_flag_on_post"],unified:["1F6A9"]},{shortNames:["rainbow-flag"],unified:["1F3F3-FE0F-200D-1F308"]},{shortNames:["flag-af"],unified:["1F1E6-1F1EB"]},{shortNames:["flag-ax"],unified:["1F1E6-1F1FD"]},{shortNames:["flag-al"],unified:["1F1E6-1F1F1"]},{shortNames:["flag-dz"],unified:["1F1E9-1F1FF"]},{shortNames:["flag-as"],unified:["1F1E6-1F1F8"]},{shortNames:["flag-ad"],unified:["1F1E6-1F1E9"]},{shortNames:["flag-ao"],unified:["1F1E6-1F1F4"]},{shortNames:["flag-ai"],unified:["1F1E6-1F1EE"]},{shortNames:["flag-aq"],unified:["1F1E6-1F1F6"]},{shortNames:["flag-ag"],unified:["1F1E6-1F1EC"]},{shortNames:["flag-ar"],unified:["1F1E6-1F1F7"]},{shortNames:["flag-am"],unified:["1F1E6-1F1F2"]},{shortNames:["flag-aw"],unified:["1F1E6-1F1FC"]},{shortNames:["flag-au"],unified:["1F1E6-1F1FA"]},{shortNames:["flag-at"],unified:["1F1E6-1F1F9"]},{shortNames:["flag-az"],unified:["1F1E6-1F1FF"]},{shortNames:["flag-bs"],unified:["1F1E7-1F1F8"]},{shortNames:["flag-bh"],unified:["1F1E7-1F1ED"]},{shortNames:["flag-bd"],unified:["1F1E7-1F1E9"]},{shortNames:["flag-bb"],unified:["1F1E7-1F1E7"]},{shortNames:["flag-by"],unified:["1F1E7-1F1FE"]},{shortNames:["flag-be"],unified:["1F1E7-1F1EA"]},{shortNames:["flag-bz"],unified:["1F1E7-1F1FF"]},{shortNames:["flag-bj"],unified:["1F1E7-1F1EF"]},{shortNames:["flag-bm"],unified:["1F1E7-1F1F2"]},{shortNames:["flag-bt"],unified:["1F1E7-1F1F9"]},{shortNames:["flag-bo"],unified:["1F1E7-1F1F4"]},{shortNames:["flag-bq"],unified:["1F1E7-1F1F6"]},{shortNames:["flag-ba"],unified:["1F1E7-1F1E6"]},{shortNames:["flag-bw"],unified:["1F1E7-1F1FC"]},{shortNames:["flag-br"],unified:["1F1E7-1F1F7"]},{shortNames:["flag-io"],unified:["1F1EE-1F1F4"]},{shortNames:["flag-vg"],unified:["1F1FB-1F1EC"]},{shortNames:["flag-bn"],unified:["1F1E7-1F1F3"]},{shortNames:["flag-bg"],unified:["1F1E7-1F1EC"]},{shortNames:["flag-bf"],unified:["1F1E7-1F1EB"]},{shortNames:["flag-bi"],unified:["1F1E7-1F1EE"]},{shortNames:["flag-cv"],unified:["1F1E8-1F1FB"]},{shortNames:["flag-kh"],unified:["1F1F0-1F1ED"]},{shortNames:["flag-cm"],unified:["1F1E8-1F1F2"]},{shortNames:["flag-ca"],unified:["1F1E8-1F1E6"]},{shortNames:["flag-ic"],unified:["1F1EE-1F1E8"]},{shortNames:["flag-ky"],unified:["1F1F0-1F1FE"]},{shortNames:["flag-cf"],unified:["1F1E8-1F1EB"]},{shortNames:["flag-td"],unified:["1F1F9-1F1E9"]},{shortNames:["flag-cl"],unified:["1F1E8-1F1F1"]},{shortNames:["flag-cn","cn"],unified:["1F1E8-1F1F3"]},{shortNames:["flag-cx"],unified:["1F1E8-1F1FD"]},{shortNames:["flag-cc"],unified:["1F1E8-1F1E8"]},{shortNames:["flag-co"],unified:["1F1E8-1F1F4"]},{shortNames:["flag-km"],unified:["1F1F0-1F1F2"]},{shortNames:["flag-cg"],unified:["1F1E8-1F1EC"]},{shortNames:["flag-cd"],unified:["1F1E8-1F1E9"]},{shortNames:["flag-ck"],unified:["1F1E8-1F1F0"]},{shortNames:["flag-cr"],unified:["1F1E8-1F1F7"]},{shortNames:["flag-ci"],unified:["1F1E8-1F1EE"]},{shortNames:["flag-hr"],unified:["1F1ED-1F1F7"]},{shortNames:["flag-cu"],unified:["1F1E8-1F1FA"]},{shortNames:["flag-cw"],unified:["1F1E8-1F1FC"]},{shortNames:["flag-cy"],unified:["1F1E8-1F1FE"]},{shortNames:["flag-cz"],unified:["1F1E8-1F1FF"]},{shortNames:["flag-dk"],unified:["1F1E9-1F1F0"]},{shortNames:["flag-dj"],unified:["1F1E9-1F1EF"]},{shortNames:["flag-dm"],unified:["1F1E9-1F1F2"]},{shortNames:["flag-do"],unified:["1F1E9-1F1F4"]},{shortNames:["flag-ec"],unified:["1F1EA-1F1E8"]},{shortNames:["flag-eg"],unified:["1F1EA-1F1EC"]},{shortNames:["flag-sv"],unified:["1F1F8-1F1FB"]},{shortNames:["flag-gq"],unified:["1F1EC-1F1F6"]},{shortNames:["flag-er"],unified:["1F1EA-1F1F7"]},{shortNames:["flag-ee"],unified:["1F1EA-1F1EA"]},{shortNames:["flag-et"],unified:["1F1EA-1F1F9"]},{shortNames:["flag-eu"],unified:["1F1EA-1F1FA"]},{shortNames:["flag-fk"],unified:["1F1EB-1F1F0"]},{shortNames:["flag-fo"],unified:["1F1EB-1F1F4"]},{shortNames:["flag-fj"],unified:["1F1EB-1F1EF"]},{shortNames:["flag-fi"],unified:["1F1EB-1F1EE"]},{shortNames:["flag-fr","fr"],unified:["1F1EB-1F1F7"]},{shortNames:["flag-gf"],unified:["1F1EC-1F1EB"]},{shortNames:["flag-pf"],unified:["1F1F5-1F1EB"]},{shortNames:["flag-tf"],unified:["1F1F9-1F1EB"]},{shortNames:["flag-ga"],unified:["1F1EC-1F1E6"]},{shortNames:["flag-gm"],unified:["1F1EC-1F1F2"]},{shortNames:["flag-ge"],unified:["1F1EC-1F1EA"]},{shortNames:["flag-de","de"],unified:["1F1E9-1F1EA"]},{shortNames:["flag-gh"],unified:["1F1EC-1F1ED"]},{shortNames:["flag-gi"],unified:["1F1EC-1F1EE"]},{shortNames:["flag-gr"],unified:["1F1EC-1F1F7"]},{shortNames:["flag-gl"],unified:["1F1EC-1F1F1"]},{shortNames:["flag-gd"],unified:["1F1EC-1F1E9"]},{shortNames:["flag-gp"],unified:["1F1EC-1F1F5"]},{shortNames:["flag-gu"],unified:["1F1EC-1F1FA"]},{shortNames:["flag-gt"],unified:["1F1EC-1F1F9"]},{shortNames:["flag-gg"],unified:["1F1EC-1F1EC"]},{shortNames:["flag-gn"],unified:["1F1EC-1F1F3"]},{shortNames:["flag-gw"],unified:["1F1EC-1F1FC"]},{shortNames:["flag-gy"],unified:["1F1EC-1F1FE"]},{shortNames:["flag-ht"],unified:["1F1ED-1F1F9"]},{shortNames:["flag-hn"],unified:["1F1ED-1F1F3"]},{shortNames:["flag-hk"],unified:["1F1ED-1F1F0"]},{shortNames:["flag-hu"],unified:["1F1ED-1F1FA"]},{shortNames:["flag-is"],unified:["1F1EE-1F1F8"]},{shortNames:["flag-in"],unified:["1F1EE-1F1F3"]},{shortNames:["flag-id"],unified:["1F1EE-1F1E9"]},{shortNames:["flag-ir"],unified:["1F1EE-1F1F7"]},{shortNames:["flag-iq"],unified:["1F1EE-1F1F6"]},{shortNames:["flag-ie"],unified:["1F1EE-1F1EA"]},{shortNames:["flag-im"],unified:["1F1EE-1F1F2"]},{shortNames:["flag-il"],unified:["1F1EE-1F1F1"]},{shortNames:["flag-it","it"],unified:["1F1EE-1F1F9"]},{shortNames:["flag-jm"],unified:["1F1EF-1F1F2"]},{shortNames:["flag-jp","jp"],unified:["1F1EF-1F1F5"]},{shortNames:["crossed_flags"],unified:["1F38C"]},{shortNames:["flag-je"],unified:["1F1EF-1F1EA"]},{shortNames:["flag-jo"],unified:["1F1EF-1F1F4"]},{shortNames:["flag-kz"],unified:["1F1F0-1F1FF"]},{shortNames:["flag-ke"],unified:["1F1F0-1F1EA"]},{shortNames:["flag-ki"],unified:["1F1F0-1F1EE"]},{shortNames:["flag-xk"],unified:["1F1FD-1F1F0"]},{shortNames:["flag-kw"],unified:["1F1F0-1F1FC"]},{shortNames:["flag-kg"],unified:["1F1F0-1F1EC"]},{shortNames:["flag-la"],unified:["1F1F1-1F1E6"]},{shortNames:["flag-lv"],unified:["1F1F1-1F1FB"]},{shortNames:["flag-lb"],unified:["1F1F1-1F1E7"]},{shortNames:["flag-ls"],unified:["1F1F1-1F1F8"]},{shortNames:["flag-lr"],unified:["1F1F1-1F1F7"]},{shortNames:["flag-ly"],unified:["1F1F1-1F1FE"]},{shortNames:["flag-li"],unified:["1F1F1-1F1EE"]},{shortNames:["flag-lt"],unified:["1F1F1-1F1F9"]},{shortNames:["flag-lu"],unified:["1F1F1-1F1FA"]},{shortNames:["flag-mo"],unified:["1F1F2-1F1F4"]},{shortNames:["flag-mk"],unified:["1F1F2-1F1F0"]},{shortNames:["flag-mg"],unified:["1F1F2-1F1EC"]},{shortNames:["flag-mw"],unified:["1F1F2-1F1FC"]},{shortNames:["flag-my"],unified:["1F1F2-1F1FE"]},{shortNames:["flag-mv"],unified:["1F1F2-1F1FB"]},{shortNames:["flag-ml"],unified:["1F1F2-1F1F1"]},{shortNames:["flag-mt"],unified:["1F1F2-1F1F9"]},{shortNames:["flag-mh"],unified:["1F1F2-1F1ED"]},{shortNames:["flag-mq"],unified:["1F1F2-1F1F6"]},{shortNames:["flag-mr"],unified:["1F1F2-1F1F7"]},{shortNames:["flag-mu"],unified:["1F1F2-1F1FA"]},{shortNames:["flag-yt"],unified:["1F1FE-1F1F9"]},{shortNames:["flag-mx"],unified:["1F1F2-1F1FD"]},{shortNames:["flag-fm"],unified:["1F1EB-1F1F2"]},{shortNames:["flag-md"],unified:["1F1F2-1F1E9"]},{shortNames:["flag-mc"],unified:["1F1F2-1F1E8"]},{shortNames:["flag-mn"],unified:["1F1F2-1F1F3"]},{shortNames:["flag-me"],unified:["1F1F2-1F1EA"]},{shortNames:["flag-ms"],unified:["1F1F2-1F1F8"]},{shortNames:["flag-ma"],unified:["1F1F2-1F1E6"]},{shortNames:["flag-mz"],unified:["1F1F2-1F1FF"]},{shortNames:["flag-mm"],unified:["1F1F2-1F1F2"]},{shortNames:["flag-na"],unified:["1F1F3-1F1E6"]},{shortNames:["flag-nr"],unified:["1F1F3-1F1F7"]},{shortNames:["flag-np"],unified:["1F1F3-1F1F5"]},{shortNames:["flag-nl"],unified:["1F1F3-1F1F1"]},{shortNames:["flag-nc"],unified:["1F1F3-1F1E8"]},{shortNames:["flag-nz"],unified:["1F1F3-1F1FF"]},{shortNames:["flag-ni"],unified:["1F1F3-1F1EE"]},{shortNames:["flag-ne"],unified:["1F1F3-1F1EA"]},{shortNames:["flag-ng"],unified:["1F1F3-1F1EC"]},{shortNames:["flag-nu"],unified:["1F1F3-1F1FA"]},{shortNames:["flag-nf"],unified:["1F1F3-1F1EB"]},{shortNames:["flag-mp"],unified:["1F1F2-1F1F5"]},{shortNames:["flag-kp"],unified:["1F1F0-1F1F5"]},{shortNames:["flag-no"],unified:["1F1F3-1F1F4"]},{shortNames:["flag-om"],unified:["1F1F4-1F1F2"]},{shortNames:["flag-pk"],unified:["1F1F5-1F1F0"]},{shortNames:["flag-pw"],unified:["1F1F5-1F1FC"]},{shortNames:["flag-ps"],unified:["1F1F5-1F1F8"]},{shortNames:["flag-pa"],unified:["1F1F5-1F1E6"]},{shortNames:["flag-pg"],unified:["1F1F5-1F1EC"]},{shortNames:["flag-py"],unified:["1F1F5-1F1FE"]},{shortNames:["flag-pe"],unified:["1F1F5-1F1EA"]},{shortNames:["flag-ph"],unified:["1F1F5-1F1ED"]},{shortNames:["flag-pn"],unified:["1F1F5-1F1F3"]},{shortNames:["flag-pl"],unified:["1F1F5-1F1F1"]},{shortNames:["flag-pt"],unified:["1F1F5-1F1F9"]},{shortNames:["flag-pr"],unified:["1F1F5-1F1F7"]},{shortNames:["flag-qa"],unified:["1F1F6-1F1E6"]},{shortNames:["flag-re"],unified:["1F1F7-1F1EA"]},{shortNames:["flag-ro"],unified:["1F1F7-1F1F4"]},{shortNames:["flag-ru","ru"],unified:["1F1F7-1F1FA"]},{shortNames:["flag-rw"],unified:["1F1F7-1F1FC"]},{shortNames:["flag-bl"],unified:["1F1E7-1F1F1"]},{shortNames:["flag-sh"],unified:["1F1F8-1F1ED"]},{shortNames:["flag-kn"],unified:["1F1F0-1F1F3"]},{shortNames:["flag-lc"],unified:["1F1F1-1F1E8"]},{shortNames:["flag-pm"],unified:["1F1F5-1F1F2"]},{shortNames:["flag-vc"],unified:["1F1FB-1F1E8"]},{shortNames:["flag-ws"],unified:["1F1FC-1F1F8"]},{shortNames:["flag-sm"],unified:["1F1F8-1F1F2"]},{shortNames:["flag-st"],unified:["1F1F8-1F1F9"]},{shortNames:["flag-sa"],unified:["1F1F8-1F1E6"]},{shortNames:["flag-sn"],unified:["1F1F8-1F1F3"]},{shortNames:["flag-rs"],unified:["1F1F7-1F1F8"]},{shortNames:["flag-sc"],unified:["1F1F8-1F1E8"]},{shortNames:["flag-sl"],unified:["1F1F8-1F1F1"]},{shortNames:["flag-sg"],unified:["1F1F8-1F1EC"]},{shortNames:["flag-sx"],unified:["1F1F8-1F1FD"]},{shortNames:["flag-sk"],unified:["1F1F8-1F1F0"]},{shortNames:["flag-si"],unified:["1F1F8-1F1EE"]},{shortNames:["flag-sb"],unified:["1F1F8-1F1E7"]},{shortNames:["flag-so"],unified:["1F1F8-1F1F4"]},{shortNames:["flag-za"],unified:["1F1FF-1F1E6"]},{shortNames:["flag-gs"],unified:["1F1EC-1F1F8"]},{shortNames:["flag-kr","kr"],unified:["1F1F0-1F1F7"]},{shortNames:["flag-ss"],unified:["1F1F8-1F1F8"]},{shortNames:["flag-es","es"],unified:["1F1EA-1F1F8"]},{shortNames:["flag-lk"],unified:["1F1F1-1F1F0"]},{shortNames:["flag-sd"],unified:["1F1F8-1F1E9"]},{shortNames:["flag-sr"],unified:["1F1F8-1F1F7"]},{shortNames:["flag-sz"],unified:["1F1F8-1F1FF"]},{shortNames:["flag-se"],unified:["1F1F8-1F1EA"]},{shortNames:["flag-ch"],unified:["1F1E8-1F1ED"]},{shortNames:["flag-sy"],unified:["1F1F8-1F1FE"]},{shortNames:["flag-tw"],unified:["1F1F9-1F1FC"]},{shortNames:["flag-tj"],unified:["1F1F9-1F1EF"]},{shortNames:["flag-tz"],unified:["1F1F9-1F1FF"]},{shortNames:["flag-th"],unified:["1F1F9-1F1ED"]},{shortNames:["flag-tl"],unified:["1F1F9-1F1F1"]},{shortNames:["flag-tg"],unified:["1F1F9-1F1EC"]},{shortNames:["flag-tk"],unified:["1F1F9-1F1F0"]},{shortNames:["flag-to"],unified:["1F1F9-1F1F4"]},{shortNames:["flag-tt"],unified:["1F1F9-1F1F9"]},{shortNames:["flag-tn"],unified:["1F1F9-1F1F3"]},{shortNames:["flag-tr"],unified:["1F1F9-1F1F7"]},{shortNames:["flag-tm"],unified:["1F1F9-1F1F2"]},{shortNames:["flag-tc"],unified:["1F1F9-1F1E8"]},{shortNames:["flag-tv"],unified:["1F1F9-1F1FB"]},{shortNames:["flag-ug"],unified:["1F1FA-1F1EC"]},{shortNames:["flag-ua"],unified:["1F1FA-1F1E6"]},{shortNames:["flag-ae"],unified:["1F1E6-1F1EA"]},{shortNames:["flag-gb","gb","uk"],unified:["1F1EC-1F1E7"]},{shortNames:["flag-us","us"],unified:["1F1FA-1F1F8"]},{shortNames:["flag-vi"],unified:["1F1FB-1F1EE"]},{shortNames:["flag-uy"],unified:["1F1FA-1F1FE"]},{shortNames:["flag-uz"],unified:["1F1FA-1F1FF"]},{shortNames:["flag-vu"],unified:["1F1FB-1F1FA"]},{shortNames:["flag-va"],unified:["1F1FB-1F1E6"]},{shortNames:["flag-ve"],unified:["1F1FB-1F1EA"]},{shortNames:["flag-vn"],unified:["1F1FB-1F1F3"]},{shortNames:["flag-wf"],unified:["1F1FC-1F1EB"]},{shortNames:["flag-eh"],unified:["1F1EA-1F1ED"]},{shortNames:["flag-ye"],unified:["1F1FE-1F1EA"]},{shortNames:["flag-zm"],unified:["1F1FF-1F1F2"]},{shortNames:["flag-zw"],unified:["1F1FF-1F1FC"]},{shortNames:["flag-ac"],unified:["1F1E6-1F1E8"]},{shortNames:["flag-bv"],unified:["1F1E7-1F1FB"]},{shortNames:["flag-cp"],unified:["1F1E8-1F1F5"]},{shortNames:["flag-dg"],unified:["1F1E9-1F1EC"]},{shortNames:["flag-ea"],unified:["1F1EA-1F1E6"]},{shortNames:["flag-hm"],unified:["1F1ED-1F1F2"]},{shortNames:["flag-mf"],unified:["1F1F2-1F1EB"]},{shortNames:["flag-sj"],unified:["1F1F8-1F1EF"]},{shortNames:["flag-ta"],unified:["1F1F9-1F1E6"]},{shortNames:["flag-um"],unified:["1F1FA-1F1F2"]},{shortNames:["flag-un"],unified:["1F1FA-1F1F3"]}],"Skin Tones":[{shortNames:["skin-tone-2"],unified:["1F3FB"]},{shortNames:["skin-tone-3"],unified:["1F3FC"]},{shortNames:["skin-tone-4"],unified:["1F3FD"]},{shortNames:["skin-tone-5"],unified:["1F3FE"]},{shortNames:["skin-tone-6"],unified:["1F3FF"]}]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(160)),r=g(i(106)),s=g(i(3)),a=g(i(56)),o=g(i(60)),u=g(i(61)),f=g(i(65)),d=g(i(86));i(161);var l=g(i(94)),F=g(i(95)),m=g(i(162)),h=g(i(157)),c=g(i(133)),N=g(i(121)),p=i(137),_=i(1);function g(e){return e&&e.__esModule?e:{default:e}}var E={name:"Recent",emojis:null},y={name:"Search",emojis:null,anchor:!1},v={search:"Search",notfound:"No Emoji Found",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags"}},b=function(e){function t(e){(0,o.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));i.i18n=(0,p.deepMerge)(v,e.i18n),i.state={skin:c.default.get("skin")||e.skin,firstRender:!0},i.categories=[];var n=[].concat(h.default.categories);i.hideRecent=!0;var r=!0,u=!1,d=void 0;try{for(var l,F=(0,s.default)(n);!(r=(l=F.next()).done);r=!0){var m=l.value,N=!e.include||!e.include.length||e.include.indexOf(m.name.toLowerCase())>-1,_=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(m.name.toLowerCase())>-1;if(N&&!_)if(e.emojisToShowFilter){var g=[],b=!0,w=!1,C=void 0;try{for(var k,L=(0,s.default)(m.emojis);!(b=(k=L.next()).done);b=!0){var D=k.value;e.emojisToShowFilter(h.default.emojis[D]||D)&&g.push(D)}}catch(B){w=!0,C=B}finally{try{!b&&L.return&&L.return()}finally{if(w)throw C}}if(g.length){var j={emojis:g,name:m.name};i.categories.push(j)}}else i.categories.push(m)}}catch(B){u=!0,d=B}finally{try{!r&&F.return&&F.return()}finally{if(u)throw d}}var A=!e.include||!e.include.length||e.include.indexOf("recent")>-1,x=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf("recent")>-1;return A&&!x&&(i.hideRecent=!1,i.categories.unshift(E)),i.categories[0]&&(i.categories[0].first=!0),i.categories.unshift(y),i}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin&&!c.default.get("skin")&&this.setState({skin:e.skin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout(function(){e.setState({firstRender:!1})},60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){y.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){for(var e=document.createElement("div"),t=["","-webkit-","-ms-","-moz-","-o-"],i=0;i<t.length;i++){var n=t[i];e.style.position=n+"sticky"}this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){this.preview.setState({emoji:e}),clearTimeout(this.leaveTimeout)}},{key:"handleEmojiLeave",value:function(e){var t=this;this.leaveTimeout=setTimeout(function(){t.preview.setState({emoji:null})},16)}},{key:"handleEmojiClick",value:function(e,t){var i=this;this.props.onClick(e,t),this.hideRecent||N.default.add(e);var n=this.categoriesRef[1];if(n){var r=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame(function(){n.memoizeSize(),r!=n.maxMargin&&(i.updateCategoriesSize(),i.handleScrollPaint(),y.emojis&&n.updateDisplay("none"))})}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint.bind(this)))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(y.emojis)e=y;else{for(var t=this.scroll.scrollTop,i=t>(this.scrollTop||0),n=0,r=0,a=this.categories.length;r<a;r++){var o=i?this.categories.length-1-r:r,u=this.categories[o],f=this.categoriesRef[o];if(f){var d=f.handleScroll(t);(!n||f.top<n)&&f.top>0&&(n=f.top),d&&!e&&(e=u)}}if(t<n){var l=!0,F=!1,m=void 0;try{for(var h,c=(0,s.default)(this.categories);!(l=(h=c.next()).done);l=!0){var N=h.value;if(!1!==N.anchor){e=N;break}}}catch(_){F=!0,m=_}finally{try{!l&&c.return&&c.return()}finally{if(F)throw m}}}else t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var p=e.name;this.anchors.state.selected!=p&&this.anchors.setState({selected:p})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){y.emojis=e;for(var t=0,i=this.categories.length;t<i;t++){var n=this.categoriesRef[t];if(n&&"Search"!=n.props.name){var r=e?"none":"inherit";n.updateDisplay(r)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var i,n=this,r=this.categoriesRef[t];i=function(){if(r){var t=r.top;e.first?t=0:t+=1,n.scroll.scrollTop=t}},y.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(i)):i()}},{key:"handleSkinChange",value:function(e){var t={skin:e};this.setState(t),c.default.update(t)}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var i=this.categoriesRef[e];i&&i.memoizeSize()}if(this.scroll){var n=this.scroll;this.scrollHeight=n.scrollHeight,this.clientHeight=n.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"render",value:function(){var e=this,t=this.props,i=t.perLine,s=t.emojiSize,a=t.style,o=t.title,u=t.emoji,f=t.color,d=t.emojisToShowFilter,F=t.include,h=t.exclude,c=t.autoFocus,N=this.state.skin,p=i*(s+12)+12+2+(0,m.default)();return l.default.createElement("div",{style:(0,r.default)({width:p},a),className:"emoji-mart"},l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Anchors,{ref:function(t){return e.anchors=t},i18n:this.i18n,color:f,categories:this.categories,onAnchorClick:this.handleAnchorClick.bind(this)})),l.default.createElement(_.Search,{ref:function(t){return e.search=t},onSearch:this.handleSearch.bind(this),i18n:this.i18n,emojisToShowFilter:d,include:F,exclude:h,autoFocus:c}),l.default.createElement("div",{ref:function(t){return e.scroll=t},className:"emoji-mart-scroll",onScroll:this.handleScroll.bind(this)},this.getCategories().map(function(t,r){return l.default.createElement(_.Category,{ref:function(t){e.categoriesRef?e.categoriesRef[r]=t:e.categoriesRef=(0,n.default)({},r,[t])},key:t.name,name:t.name,emojis:t.emojis,perLine:i,hasStickyPosition:e.hasStickyPosition,i18n:e.i18n,emojiProps:{skin:N,size:s,onOver:e.handleEmojiOver.bind(e),onLeave:e.handleEmojiLeave.bind(e),onClick:e.handleEmojiClick.bind(e)}})})),l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Preview,{ref:function(t){return e.preview=t},title:o,emoji:u,emojiProps:{size:38,skin:N},skinsProps:{skin:N,onChange:this.handleSkinChange.bind(this)}})))}}]),t}(l.default.Component);t.default=b,b.propTypes={onClick:F.default.func,perLine:F.default.number,emojiSize:F.default.number,i18n:F.default.object,style:F.default.object,title:F.default.string,emoji:F.default.string,color:F.default.string,skin:_.Emoji.propTypes.skin,emojisToShowFilter:F.default.func,include:F.default.arrayOf(F.default.string),exclude:F.default.arrayOf(F.default.string),autoFocus:F.default.bool},b.defaultProps={onClick:function(){},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart™",emoji:"department_store",color:"#ae65c5",skin:_.Emoji.defaultProps.skin,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,i){return t in e?(0,s.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){"use strict";
// MIT license
"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+r)},r);return e=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=i(1),F=i(137);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={emoji:null},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,i=t.emojiProps,r=t.skinsProps,s=t.title,a=t.emoji;if(e){var o=(0,F.getData)(e);return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},(0,l.Emoji)((0,n.default)({key:e.id,emoji:e},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("div",{className:"emoji-mart-preview-name"},e.name),f.default.createElement("div",{className:"emoji-mart-preview-shortnames"},o.short_names.map(function(e){return f.default.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))))}return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},a&&a.length&&(0,l.Emoji)((0,n.default)({emoji:a},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("span",{className:"emoji-mart-title-label"},s)),f.default.createElement("div",{className:"emoji-mart-preview-skins"},f.default.createElement(l.Skins,r)))}}]),t}(f.default.Component);t.default=h,h.propTypes={title:d.default.string.isRequired,emoji:d.default.string.isRequired,emojiProps:d.default.object.isRequired,skinsProps:d.default.object.isRequired}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(56)),r=l(i(60)),s=l(i(61)),a=l(i(65)),o=l(i(86)),u=l(i(94)),f=l(i(95)),d=l(i(165));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,s.default)(t,[{key:"handleChange",value:function(){this.props.onSearch(d.default.search(this.input.value,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude}))}},{key:"clear",value:function(){this.input.value=""}},{key:"render",value:function(){var e=this,t=this.props,i=t.i18n,n=t.autoFocus;return u.default.createElement("div",{className:"emoji-mart-search"},u.default.createElement("input",{ref:function(t){return e.input=t},type:"text",onChange:this.handleChange.bind(this),placeholder:i.search,autoFocus:n}))}}]),t}(u.default.Component);t.default=F,F.propTypes={onSearch:f.default.func,maxResults:f.default.number,emojisToShowFilter:f.default.func,autoFocus:f.default.bool},F.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i(125)),r=u(i(3)),s=u(i(157)),a=i(137),o=u(i(133));function u(e){return e&&e.__esModule?e:{default:e}}i(166)._extend;var f={},d={},l=[],F=[];for(var m in s.default.emojis){var h=s.default.emojis[m].short_names[0];d[h]=(0,a.getSanitizedData)(h)}t.default={search:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.emojisToShowFilter,o=t.maxResults,u=t.include,m=t.exclude;o||(o=75),u||(u=[]),m||(m=[]);var h=null,c=s.default.emojis;if(e.length){if("-"==e||"-1"==e)return[d[-1]];var N,p=e.toLowerCase().split(/[\s|,|\-|_]+/);if(p.length>2&&(p=[p[0],p[1]]),u.length||m.length){c={},l==u.sort().join(",")&&F==m.sort().join(",")||(l=u.sort().join(","),F=m.sort().join(","),f={});var _=!0,g=!1,E=void 0;try{for(var y,v=(0,r.default)(s.default.categories);!(_=(y=v.next()).done);_=!0){var b=y.value,w=!u||!u.length||u.indexOf(b.name.toLowerCase())>-1,C=!(!m||!m.length)&&m.indexOf(b.name.toLowerCase())>-1;if(w&&!C){var k=!0,L=!1,D=void 0;try{for(var j,A=(0,r.default)(b.emojis);!(k=(j=A.next()).done);k=!0){var x=j.value;c[x]=s.default.emojis[x]}}catch(B){L=!0,D=B}finally{try{!k&&A.return&&A.return()}finally{if(L)throw D}}}}}catch(B){g=!0,E=B}finally{try{!_&&v.return&&v.return()}finally{if(g)throw E}}}else(l.length||F.length)&&(f={});h=(N=p.map(function(e){var t=c,i=f,n=0,s=!0,a=!1,o=void 0;try{for(var u,l=(0,r.default)(e.split(""));!(s=(u=l.next()).done);s=!0){var F=u.value;n++,i[F]||(i[F]={}),(i=i[F]).results||function(){var r={};for(var s in i.results=[],i.pool={},t){var a=t[s],o=a.search,u=e.substr(0,n),f=o.indexOf(u);if(-1!=f){var l=f+1;u==s&&(l=0),i.results.push(d[s]),i.pool[s]=a,r[s]=l}}i.results.sort(function(e,t){return r[e.id]-r[t.id]})}(),t=i.pool}}catch(B){a=!0,o=B}finally{try{!s&&l.return&&l.return()}finally{if(a)throw o}}return i.results}).filter(function(e){return e})).length>1?a.intersect.apply(void 0,(0,n.default)(N)):N.length?N[0]:[]}return h&&(i&&(h=h.filter(function(e){return i(s.default.emojis[e.id].unified)})),h&&h.length>o&&(h=h.slice(0,o))),h},getDefaultSkin:function(){var e=o.default.get("skin");return 1===e?null:e},emojis:d,getData:a.getData}},function(e,t,i){(function(e,n){// Copyright Joyent, Inc. and other Node contributors.
// distribute, sublicense, and/or sell copies of the Software, and to permit
// The above copyright notice and this permission notice shall be included
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
var r=/%[sdj%]/g;t.format=function(e){if(!p(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,s=n.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),u=n[i];i<s;u=n[++i])c(u)||!E(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(i,r){if(_(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}};var s,a={};function o(e,i){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(i)?n.showHidden=i:i&&t._extend(n,i),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function f(e,t){return e}function d(e,i,n){if(e.customInspect&&i&&b(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return p(r)||(r=d(e,r,n)),r}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(p(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(N(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(c(t))return e.stylize("null","null")}(e,i);if(s)return s;var a=Object.keys(i),o=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),v(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(i);if(0===a.length){if(b(i)){var u=i.name?": "+i.name:"";return e.stylize("[Function"+u+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(y(i))return e.stylize(Date.prototype.toString.call(i),"date");if(v(i))return l(i)}var f,E="",w=!1,C=["{","}"];(m(i)&&(w=!0,C=["[","]"]),b(i))&&(E=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(E=" "+RegExp.prototype.toString.call(i)),y(i)&&(E=" "+Date.prototype.toUTCString.call(i)),v(i)&&(E=" "+l(i)),0!==a.length||w&&0!=i.length?n<0?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),f=w?function(e,t,i,n,r){for(var s=[],a=0,o=t.length;a<o;++a)L(t,String(a))?s.push(F(e,t,i,n,String(a),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(F(e,t,i,n,r,!0))}),s}(e,i,n,o,a):a.map(function(t){return F(e,i,n,o,t,w)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(f,E,C)):C[0]+E+C[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function F(e,t,i,n,r,s){var a,o,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),L(n,r)||(a="["+r+"]"),o||(e.seen.indexOf(u.value)<0?(o=c(i)?d(e,u.value,null):d(e,u.value,i-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),_(a)){if(s&&r.match(/^\d+$/))return o;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function c(e){return null===e}function N(e){return"number"==typeof e}function p(e){return"string"==typeof e}function _(e){return void 0===e}function g(e){return E(e)&&"[object RegExp]"===w(e)}function E(e){return"object"==typeof e&&null!==e}function y(e){return E(e)&&"[object Date]"===w(e)}function v(e){return E(e)&&("[object Error]"===w(e)||e instanceof Error)}function b(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(s)&&(s=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=c,t.isNullOrUndefined=function(e){return null==e},t.isNumber=N,t.isString=p,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=g,t.isObject=E,t.isDate=y,t.isError=v,t.isFunction=b,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(167);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(168),t._extend=function(e,t){if(!t||!E(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(t,function(){return this}(),i(96))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(125)),r=l(i(56)),s=l(i(60)),a=l(i(61)),o=l(i(65)),u=l(i(86)),f=l(i(94)),d=l(i(95));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={opened:!1},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"handleClick",value:function(e){var t=this.props.onChange;this.state.opened?(this.setState({opened:!1}),e!=this.props.skin&&t(e)):this.setState({opened:!0})}},{key:"render",value:function(){var e=this,t=this.props.skin,i=this.state.opened;return f.default.createElement("div",null,f.default.createElement("div",{className:"emoji-mart-skin-swatches "+(i?"emoji-mart-skin-swatches-opened":"")},[].concat((0,n.default)(Array(6))).map(function(i,n){var r=n+1,s=r==t;return f.default.createElement("span",{key:"skin-tone-"+r,className:"emoji-mart-skin-swatch "+(s?"emoji-mart-skin-swatch-selected":"")},f.default.createElement("span",{onClick:function(){return e.handleClick(r)},className:"emoji-mart-skin emoji-mart-skin-tone-"+r}))})))}}]),t}(f.default.Component);t.default=F,F.propTypes={onChange:d.default.func,skin:d.default.number.isRequired},F.defaultProps={onChange:function(){}}}])},"object"==typeof t&&"object"==typeof e?e.exports=r(i(3,1)):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof t?t.EmojiMart=r(i(3,1)):n.EmojiMart=r(n.React)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(872         ),r=t(606                           );n.mentionables=function(e,n,t,i,s){return new r.SearchLibrary(function(){if(!e)return[];if(n&&t){let e=[];return Object.keys(i).forEach(n=>{e.push(i[n])}),e.push(t),e}const r=Object.create(null);i=Object.assign({},i);const o=e.team_id,a=e.folder_id,c=o&&s.byTeamId[o],l=a&&s.byFolderId[a],d=s.byFileKey[e.key];return Object.keys(i).forEach(e=>{const n=i[e];(!o||c&&c[i[e].id]||l&&l[i[e].id]||d[n.id])&&(r[n.id]=n)}),Object.keys(d||{}).forEach(e=>{const n=d[e];!1!==n.pending||r[n.user.id]||(r[n.user.id]=n.user)}),t&&(r[t.id]=t),Object.keys(r).map(e=>r[e])}(),{keys:[{name:"handle",weight:.9},{name:"email",weight:.1}],threshold:.2,tokenize:!0,shouldSort:!0})};const s=5,o=10;n.mentionsTypeahead=function(e,n){let t=""===e?n.list().sort((e,n)=>e.handle<n.handle?-1:1):n.search(e);return(t=t.slice(0,s)).length?{type:"mentions",mentions:t,index:0}:null},n.emojiTypeahead=function(e){let n=i.emojiIndex.search(e)||[];return(n=n.slice(0,o)).length?{type:"emojis",emojis:n,index:0}:null}}),
(function(o,n,c){o.exports={anchor:"anchor--anchor--21fV1",resolvedAnchor:"anchor--resolvedAnchor--1SQgn anchor--anchor--21fV1",anchorIcon:"anchor--anchorIcon--1heCz",anchorLabel:"anchor--anchorLabel--2psAQ"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(3,1    ),i=o(145         ),n=o(871                     ),a=o(206                              ),r=o(156                                ),c=o(438                                 ),p=o(437                        ),m=o(874           ),h=o(348                                  ),l=o(206                              );class d extends s.Component{constructor(){super(...arguments),this.state={dragLocation:null},this.drag=null,this.onMouseDown=(t=>{t.stopPropagation();const e=this.props.viewportPositionFromClientPosition(new i.Vector(t.clientX,t.clientY));this.drag={startPosition:e,mouseOffset:i.Vector.subtract(this.props.thread.anchorPosition,e),maxDist:0},a.on("mousemove",this.onMouseMove),a.on("mouseup",this.onMouseUp)}),this.onMouseMove=(t=>{if(!this.drag)return;if(this.drag.maxDist=Math.max(this.drag.maxDist,i.Vector.distance(t,this.drag.startPosition)),this.drag.maxDist<n.MAX_DRAG_DISTANCE)return;const e=i.Vector.add(t,this.drag.mouseOffset),o=a.getValidCommentsRect();n.canPlaceCommentAtViewportPosition(e,o)&&(this.props.thread.id===p.NEW_COMMENT_ID?this.props.dispatch(c.comments.setNewAnchorPosition({position:r.viewportPositionToCanvas(this.props.viewportInfo,e)})):(this.props.dispatch(c.comments.deactivateActiveComment()),this.setState({dragLocation:e})))}),this.onMouseUp=(t=>{var e,o;if(!this.drag)return;this.setState({dragLocation:null});const s=()=>{this.drag=null,a.off("mousemove",this.onMouseMove),a.off("mouseup",this.onMouseUp)},m=i.Vector.add(t,this.drag.mouseOffset),h=a.getValidCommentsRect();if(!n.canPlaceCommentAtViewportPosition(m,h))return s();const d=r.viewportPositionToCanvas(this.props.viewportInfo,m),u=l.getCommentDestinationForCanvasPosition(d,this.props.pageId);return this.props.thread.id===p.NEW_COMMENT_ID?s():this.drag.maxDist<n.MAX_DRAG_DISTANCE?(this.props.dispatch(c.comments.showThread({thread:this.props.thread})),s()):(this.props.dispatch(c.comments.setClientMeta({thread:this.props.thread,clientMeta:{x:d.x,y:d.y,node_id:null===(e=u)||void 0===e?void 0:e.nodeId,node_offset:(null===(o=u)||void 0===o?void 0:o.nodeOffset)||void 0}})),s())})}componentWillUnmount(){a.off("mousemove",this.onMouseMove),a.off("mouseup",this.onMouseUp)}render(){if(!this.props.thread.anchorPosition)return;const{x:t,y:e}=this.state.dragLocation||this.props.thread.anchorPosition,o=`translate(${t}px, ${e}px)`;let n={transform:o,WebkitTransform:o},r=m.anchor;this.props.resolved&&(r=m.resolvedAnchor);const c=h.figmaBGBlack;let p=h.figmaBGWhite;this.props.active&&(p=h.figmaBlue);let l=h.figmaFGBlack8Opaque;return this.props.active&&(l=h.figmaFGWhite),s.createElement("div",{style:n,className:r,onMouseDown:this.onMouseDown,onMouseUp:t=>{const{x:e,y:o}=this.props.viewportPositionFromClientPosition(new i.Vector(t.clientX,t.clientY));a.handleMouseUp(e,o)}},s.createElement("svg",{className:m.anchorIcon,viewBox:"0 0 34 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:p,d:"M17 1C25.8366 1 33 8.16344 33 17C33 23.6257 27.6611 28.9662 17 39.6274C6.33887 28.9663 1.00001 23.6257 1 17C1 8.16344 8.16344 1 17 1Z"}),s.createElement("path",{fill:c,opacity:"0.4",d:"M17 40.3345L16.6261 39.9606C11.3156 34.6501 7.29362 30.6281 4.60457 27.1037C1.90336 23.5633 0.500006 20.4662 0.5 17C0.5 7.8873 7.8873 0.5 17 0.5C26.1127 0.5 33.5 7.8873 33.5 17C33.5 20.4662 32.0967 23.5633 29.3954 27.1037C26.7064 30.6281 22.6845 34.65 17.374 39.9605L17 40.3345ZM33 17C33 8.16344 25.8366 1 17 1C8.16344 1 1 8.16344 1 17C1.00001 23.552 6.22083 28.8474 16.6464 39.2738C16.7174 39.3447 16.7885 39.4159 16.8599 39.4873C16.9065 39.5339 16.9532 39.5806 17 39.6274C17.1185 39.5089 17.2364 39.391 17.3536 39.2738C27.7792 28.8474 33 23.552 33 17Z"}),this.props.isNew&&s.createElement("circle",{cx:"16.5",cy:"16.5",r:"2.25",fill:l})),s.createElement("span",{className:m.anchorLabel,style:{color:l}},this.props.label))}}e.Anchor=d,d.displayName="Anchor";class u extends s.Component{render(){const{thread:t}=this.props;return s.createElement(d,Object.assign({},this.props,{active:t.comments.some(t=>t.isUnread),resolved:!!t.comments[0].resolved_at,label:t.comments[0].order_id||""}))}}e.ThreadAnchor=u,u.displayName="ThreadAnchor";class f extends s.Component{render(){return s.createElement(d,Object.assign({},this.props,{active:!0,isNew:!0}))}}e.NewCommentAnchor=f,f.displayName="NewCommentAnchor"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),n=s(47,1    ),o=s(164         ),a="figma:tick",r=new CustomEvent(a);setInterval(()=>{window.dispatchEvent(r)},3e4);class d extends i.Component{constructor(e){super(e),this.tick=(()=>{this.forceUpdate()}),this.props.customizeRelativeTimes?n.updateLocale("en",{relativeTime:this.props.customizeRelativeTimes}):n.updateLocale("en",{relativeTime:d.defaultRelativeTimes})}componentDidMount(){window.addEventListener(a,this.tick)}componentWillUnmount(){window.removeEventListener(a,this.tick),this.props.customizeRelativeTimes&&(n.updateLocale("en",void 0),window.dispatchEvent(r))}render(){const e=this.props.isSuffixRemoved||!1,t=n.utc(this.props.date).fromNow(e);return i.createElement("span",{className:this.props.className||""},this.props.capitalize?o.capitalizeFirstLetter(t):t)}}t.FromNow=d,d.displayName="FromNow",d.defaultRelativeTimes={future:"in %s",past:function(e){return"just now"===e||"yesterday"===e||"last month"===e||"last year"===e?e:e+" ago"},s:function(e,t,s,i){return i?"a few seconds":"just now"},ss:"%d seconds",m:"1 minute",mm:"%d minutes",h:"1 hour",hh:"%d hours",d:function(e,t,s,i){return i?"1 day":"yesterday"},dd:"%d days",M:function(e,t,s,i){return i?"1 month":"last month"},MM:"%d months",y:function(e,t,s,i){return i?"1 year":"last year"},yy:"%d years"}}),
(function(F,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(3,1    ),i=t(872         ),s=/(?:\:([a-zA-Z0-9_\-\+]+)\:)(?:\:skin-tone-(\d)\:)?/,a=RegExp(s.source,"g");e.EMOJI_PATH="https://static.figma.com/emoji/2/64/",e.SKIN_TONES={2:"1f3fb",3:"1f3fc",4:"1f3fd",5:"1f3fe",6:"1f3ff"};e.MODIFIABLE_EMOJI_BASES_SET=Object.create(null),["261D","26F9","270A","270B","270C","270D","1F385","1F3C2","1F3C3","1F3C4","1F3C7","1F3CA","1F3CB","1F3CC","1F442","1F443","1F446","1F447","1F448","1F449","1F44A","1F44B","1F44C","1F44D","1F44E","1F44F","1F450","1F466","1F467","1F468","1F469","1F46E","1F470","1F471","1F472","1F473","1F474","1F475","1F476","1F477","1F478","1F47C","1F481","1F482","1F483","1F485","1F486","1F487","1F4AA","1F574","1F575","1F57A","1F590","1F595","1F596","1F645","1F646","1F647","1F64B","1F64C","1F64D","1F64E","1F64F","1F6A3","1F6B4","1F6B5","1F6B6","1F6C0","1F6CC","1F918","1F919","1F91A","1F91B","1F91C","1F91E","1F91F","1F926","1F930","1F931","1F932","1F933","1F934","1F935","1F936","1F937","1F938","1F939","1F93D","1F93E","1F9D1","1F9D2","1F9D3","1F9D4","1F9D5","1F9D6","1F9D7","1F9D8","1F9D9","1F9DA","1F9DB","1F9DC","1F9DD"].forEach(F=>{e.MODIFIABLE_EMOJI_BASES_SET[F]=!0}),e.hasValidEmoji=(F=>{let e=null;for(;null!=(e=a.exec(F));){const F=e[0].match(s);if(F&&i.emojiIndex.emojis.hasOwnProperty(F[1]))return a.lastIndex=0,!0}return!1}),e.aliasesToUnified=(F=>{let t=null;const n=F.match(s);if(n){const F=n[1];if(i.emojiIndex.emojis.hasOwnProperty(F)){const s=i.emojiIndex.emojis[F];if(s){if(n[2]&&(t=parseInt(n[2])),t&&e.SKIN_TONES[t]){const F=e.SKIN_TONES[t];let n=s.unified.split("-");return!0===e.MODIFIABLE_EMOJI_BASES_SET[n[0].toUpperCase()]?(n.splice(1,0,F),[{text:n.join("-"),meta:s.name}]):[{text:s.unified,meta:s.name},{text:F,meta:`skin-tone-${t}`}]}return[{text:s.unified,meta:s.name}]}}}return[{text:F,meta:null}]}),e.unifiedToPNG=(F=>e.EMOJI_PATH+F+".png"),e.replaceAliasesWithImg=(F=>{if(!F)return[""];let t=0,i=[],s=null;for(;null!=(s=a.exec(F));){s.index>t&&i.push(F.substr(t,s.index-t)),e.aliasesToUnified(s[0]).forEach(F=>{const{text:t,meta:s}=F;if(":"!==t[0]){const F=e.unifiedToPNG(t),a=Math.random().toString(36).substring(2);i.push(n.createElement("img",{key:a,className:"inline-emoji","data-tooltip-text":s,src:F}))}else i.push(t)}),t=s.index+s[0].length}return t!==F.length&&i.push(F.substr(t,F.length)),a.lastIndex=0,i})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),r=a(877                  ),o=a(532                              );t.messageMetasEqual=((e,t)=>{if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){const n=e[a],r=t[a];if(n.t!==r.t)return!1;if(n.user_id!==r.user_id)return!1;if(n.user_annotated&&r.user_annotated){if(n.user_annotated.id!==r.user_annotated.id)return!1;if(n.user_annotated.handle!==r.user_annotated.handle)return!1;if(n.user_annotated.img_url!==r.user_annotated.img_url)return!1;if(n.user_annotated.email!==r.user_annotated.email)return!1}else if(n.user_annotated!==r.user_annotated)return!1}return!0}),t.messageMetaToTextString=((e=[])=>e.reduce((e,t)=>{let a=t.t;return t.user_annotated&&(a=t.user_annotated.handle),e+a},"")),t.messageMetaToElement=((e=[],t)=>n.createElement("div",null,e.map((e,a)=>{if(e.user_id){let r=e.t;return e.user_annotated&&(r=e.user_annotated.handle),n.createElement("span",{key:a,spellCheck:!1,contentEditable:!1,className:t,"data-tooltip-content-key":o.TooltipView.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":e.user_annotated&&e.user_annotated.img_url,"data-tooltip-user-handle":e.user_annotated&&e.user_annotated.handle,"data-tooltip-unconstrain-width":!0,"data-mention-user-id":e.user_id},r)}return r.replaceAliasesWithImg(e.t)})))}),
(function(t,e,r){
/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */var n,i;n=this,i=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return u(t)?t:V(t)}function n(t){return s(t)?t:Y(t)}function i(t){return a(t)?t:Q(t)}function o(t){return u(t)&&!h(t)?t:X(t)}function u(t){return!(!t||!t[c])}function s(t){return!(!t||!t[_])}function a(t){return!(!t||!t[p])}function h(t){return s(t)||a(t)}function f(t){return!(!t||!t[l])}e(n,r),e(i,r),e(o,r),r.isIterable=u,r.isKeyed=s,r.isIndexed=a,r.isAssociative=h,r.isOrdered=f,r.Keyed=n,r.Indexed=i,r.Set=o;var c="@@__IMMUTABLE_ITERABLE__@@",_="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",l="@@__IMMUTABLE_ORDERED__@@",v=5,y=1<<v,d=y-1,m={},g={value:!1},w={value:!1};function S(t){return t.value=!1,t}function z(t){t&&(t.value=!0)}function I(){}function b(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function q(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function D(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?q(t)+e:e}function M(){return!0}function E(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function O(t,e){return k(t,e,0)}function x(t,e){return k(t,e,e)}function k(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var A=0,j=1,K=2,R="function"==typeof Symbol&&Symbol.iterator,U="@@iterator",L=R||U;function T(t){this.next=t}function W(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function B(){return{value:void 0,done:!0}}function C(t){return!!P(t)}function J(t){return t&&"function"==typeof t.next}function N(t){var e=P(t);return e&&e.call(t)}function P(t){var e=t&&(R&&t[R]||t[U]);if("function"==typeof e)return e}function H(t){return t&&"number"==typeof t.length}function V(t){return null==t?ot():u(t)?t.toSeq():function(t){var e=at(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null==t?ot().toKeyedSeq():u(t)?s(t)?t.toSeq():t.fromEntrySeq():ut(t)}function Q(t){return null==t?ot():u(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function X(t){return(null==t?ot():u(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}T.prototype.toString=function(){return"[Iterator]"},T.KEYS=A,T.VALUES=j,T.ENTRIES=K,T.prototype.inspect=T.prototype.toSource=function(){return this.toString()},T.prototype[L]=function(){return this},e(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(t,e){return ht(this,t,e,!0)},V.prototype.__iterator=function(t,e){return ft(this,t,e,!0)},e(Y,V),Y.prototype.toKeyedSeq=function(){return this},e(Q,V),Q.of=function(){return Q(arguments)},Q.prototype.toIndexedSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq [","]")},Q.prototype.__iterate=function(t,e){return ht(this,t,e,!1)},Q.prototype.__iterator=function(t,e){return ft(this,t,e,!1)},e(X,V),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},V.isSeq=it,V.Keyed=Y,V.Set=X,V.Indexed=Q;var F,G,Z,$="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function nt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[$])}function ot(){return F||(F=new tt([]))}function ut(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():J(t)?new nt(t).fromEntrySeq():C(t)?new rt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=at(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function at(t){return H(t)?new tt(t):J(t)?new nt(t):C(t)?new rt(t):void 0}function ht(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var s=i[r?o-u:u];if(!1===e(s[1],n?s[0]:u,t))return u+1}return u}return t.__iterateUncached(e,r)}function ft(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new T(function(){var t=i[r?o-u:u];return u++>o?{value:void 0,done:!0}:W(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function ct(t,e){return e?function t(e,r,n,i){if(Array.isArray(r))return e.call(i,n,Q(r).map(function(n,i){return t(e,n,i,r)}));if(pt(r))return e.call(i,n,Y(r).map(function(n,i){return t(e,n,i,r)}));return r}(e,t,"",{"":t}):_t(t)}function _t(t){return Array.isArray(t)?Q(t).map(_t).toList():pt(t)?Y(t).map(_t).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function lt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function vt(t,e){if(t===e)return!0;if(!u(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||a(t)!==a(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!h(t);if(f(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&lt(i[1],t)&&(r||lt(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var c=!0,_=e.__iterate(function(e,n){if(r?!t.has(e):i?!lt(e,t.get(n,m)):!lt(t.get(n,m),e))return c=!1,!1});return c&&t.size===_}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(G)return G;G=this}}function dt(t,e){if(!t)throw new Error(e)}function mt(t,e,r){if(!(this instanceof mt))return new mt(t,e,r);if(dt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function gt(){throw TypeError("Abstract")}function wt(){}function St(){}function zt(){}V.prototype[$]=!0,e(tt,Q),tt.prototype.get=function(t,e){return this.has(t)?this._array[D(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new T(function(){return i>n?{value:void 0,done:!0}:W(t,i,r[e?n-i++:i++])})},e(et,Y),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var u=n[e?i-o:o];if(!1===t(r[u],u,this))return o+1}return o},et.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new T(function(){var u=n[e?i-o:o];return o++>i?{value:void 0,done:!0}:W(t,u,r[u])})},et.prototype[l]=!0,e(rt,Q),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=N(this._iterable),n=0;if(J(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=N(this._iterable);if(!J(r))return new T(B);var n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value)})},e(nt,Q),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var u=r.value;if(i[o]=u,!1===t(u,o++,this))break}return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new T(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return W(t,i,n[i++])})},e(yt,Q),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return lt(this._value,t)},yt.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:new yt(this._value,x(e,r)-O(t,r))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return lt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return lt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},yt.prototype.__iterator=function(t,e){var r=this,n=0;return new T(function(){return n<r.size?W(t,n++,r._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?lt(this._value,t._value):vt(t)},e(mt,Q),mt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},mt.prototype.get=function(t,e){return this.has(t)?this._start+D(this,t)*this._step:e},mt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},mt.prototype.slice=function(t,e){return E(t,e,this.size)?this:(t=O(t,this.size),(e=x(e,this.size))<=t?new mt(0,0):new mt(this.get(t,this._end),this.get(e,this._end),this._step))},mt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},mt.prototype.lastIndexOf=function(t){return this.indexOf(t)},mt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},mt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new T(function(){var u=i;return i+=e?-n:n,o>r?{value:void 0,done:!0}:W(t,o++,u)})},mt.prototype.equals=function(t){return t instanceof mt?this._start===t._start&&this._end===t._end&&this._step===t._step:vt(this,t)},e(gt,r),e(wt,gt),e(St,gt),e(zt,gt),gt.Keyed=wt,gt.Indexed=St,gt.Set=zt;var It="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function bt(t){return t>>>1&1073741824|3221225471&t}function qt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return bt(r)}if("string"===e)return t.length>jt?function(t){var e=Ut[t];void 0===e&&(e=Dt(t),Rt===Kt&&(Rt=0,Ut={}),Rt++,Ut[t]=e);return e}(t):Dt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(xt&&void 0!==(e=Mt.get(t)))return e;if(void 0!==(e=t[At]))return e;if(!Ot){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[At]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++kt,1073741824&kt&&(kt=0);if(xt)Mt.set(t,e);else{if(void 0!==Et&&!1===Et(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ot)Object.defineProperty(t,At,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[At]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[At]=e}}return e}(t);if("function"==typeof t.toString)return Dt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Dt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return bt(e)}var Mt,Et=Object.isExtensible,Ot=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xt="function"==typeof WeakMap;xt&&(Mt=new WeakMap);var kt=0,At="__immutablehash__";"function"==typeof Symbol&&(At=Symbol(At));var jt=16,Kt=255,Rt=0,Ut={};function Lt(t){dt(t!==1/0,"Cannot perform this action with an infinite size.")}function Tt(t){return null==t?Zt():Wt(t)&&!f(t)?t:Zt().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function Wt(t){return!(!t||!t[Ct])}e(Tt,wt),Tt.prototype.toString=function(){return this.__toString("Map {","}")},Tt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Tt.prototype.set=function(t,e){return $t(this,t,e)},Tt.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Tt.prototype.remove=function(t){return $t(this,t,m)},Tt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Tt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Tt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i){var o=e===m;var u=r.next();if(u.done){var s=o?n:e,a=i(s);return a===s?e:a}dt(o||e&&e.set,"invalid keyPath");var h=u.value;var f=o?m:e.get(h,m);var c=t(f,r,n,i);return c===f?e:c===m?e.remove(h):(o?Zt():e).set(h,c)}(this,rr(t),e,r);return n===m?void 0:n},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},Tt.prototype.merge=function(){return ne(this,void 0,arguments)},Tt.prototype.mergeWith=function(e){return ne(this,e,t.call(arguments,1))},Tt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]})},Tt.prototype.mergeDeep=function(){return ne(this,ie,arguments)},Tt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return ne(this,oe(e),r)},Tt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]})},Tt.prototype.sort=function(t){return Oe(He(this,t))},Tt.prototype.sortBy=function(t,e){return Oe(He(this,e,t))},Tt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Tt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Tt.prototype.asImmutable=function(){return this.__ensureOwner()},Tt.prototype.wasAltered=function(){return this.__altered},Tt.prototype.__iterator=function(t,e){return new Qt(this,t,e)},Tt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},Tt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Tt.isMap=Wt;var Bt,Ct="@@__IMMUTABLE_MAP__@@",Jt=Tt.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Pt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Ht(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Vt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function Qt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Ft(t._root)}function Xt(t,e){return W(t,e[0],e[1])}function Ft(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,r,n){var i=Object.create(Jt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Zt(){return Bt||(Bt=Gt(0))}function $t(t,e,r){var n,i;if(t._root){var o=S(g),u=S(w);if(n=te(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===m?-1:1:0)}else{if(r===m)return t;i=1,n=new Nt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Gt(i,n):Zt()}function te(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===m?t:(z(s),z(u),new Yt(e,n,[i,o]))}function ee(t){return t.constructor===Yt||t.constructor===Vt}function re(t,e,r,n,i){if(t.keyHash===n)return new Vt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&d,s=(0===r?n:n>>>r)&d;return new Pt(e,1<<u|1<<s,u===s?[re(t,e,r+v,n,i)]:(o=new Yt(e,n,i),u<s?[t,o]:[o,t]))}function ne(t,e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],a=n(s);u(s)||(a=a.map(function(t){return ct(t)})),i.push(a)}return ue(t,e,i)}function ie(t,e,r){return t&&t.mergeDeep&&u(e)?t.mergeDeep(e):lt(t,e)?t:e}function oe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&u(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return lt(e,i)?e:i}}function ue(t,e,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,m,function(t){return t===m?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)}):t.constructor(r[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ae(t,e,r,n){var i=n?t:b(t);return i[e]=r,i}Jt[Ct]=!0,Jt.delete=Jt.remove,Jt.removeIn=Jt.deleteIn,Nt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Nt.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===m,a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),!s||1!==a.length){if(!c&&!s&&a.length>=he)return function(t,e,r,n){t||(t=new I);for(var i=new Yt(t,qt(r),[r,n]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}(t,a,n,i);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Nt(t,p)}},Pt.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=1<<((0===t?e:e>>>t)&d),o=this.bitmap;return 0==(o&i)?n:this.nodes[se(o&i-1)].get(t+v,e,r,n)},Pt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=1<<s,h=this.bitmap,f=0!=(h&a);if(!f&&i===m)return this;var c=se(h&a-1),_=this.nodes,p=f?_[c]:void 0,l=te(p,t,e+v,r,n,i,o,u);if(l===p)return this;if(!f&&l&&_.length>=fe)return function(t,e,r,n,i){for(var o=0,u=new Array(y),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new Ht(t,o+1,u)}(t,_,h,s,l);if(f&&!l&&2===_.length&&ee(_[1^c]))return _[1^c];if(f&&l&&1===_.length&&ee(l))return l;var g=t&&t===this.ownerID,w=f?l?h:h^a:h|a,S=f?l?ae(_,c,l,g):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,u=0;u<n;u++)u===e&&(o=1),i[u]=t[u+o];return i}(_,c,g):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),u=0,s=0;s<i;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}(_,c,l,g);return g?(this.bitmap=w,this.nodes=S,this):new Pt(t,w,S)},Ht.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=(0===t?e:e>>>t)&d,o=this.nodes[i];return o?o.get(t+v,e,r,n):n},Ht.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=i===m,h=this.nodes,f=h[s];if(a&&!f)return this;var c=te(f,t,e+v,r,n,i,o,u);if(c===f)return this;var _=this.count;if(f){if(!c&&--_<ce)return function(t,e,r,n){for(var i=0,o=0,u=new Array(r),s=0,a=1,h=e.length;s<h;s++,a<<=1){var f=e[s];void 0!==f&&s!==n&&(i|=a,u[o++]=f)}return new Pt(t,i,u)}(t,h,_,s)}else _++;var p=t&&t===this.ownerID,l=ae(h,s,c,p);return p?(this.count=_,this.nodes=l,this):new Ht(t,_,l)},Vt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=i===m;if(r!==this.keyHash)return s?this:(z(u),z(o),re(this,t,e,r,[n,i]));for(var a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),s&&2===f)return new Yt(t,this.keyHash,a[1^h]);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Vt(t,this.keyHash,p)},Yt.prototype.get=function(t,e,r,n){return lt(r,this.entry[0])?this.entry[1]:n},Yt.prototype.update=function(t,e,r,n,i,o,u){var s=i===m,a=lt(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(z(u),s?void z(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new Yt(t,this.keyHash,[n,i]):(z(o),re(this,t,e,qt(n),[n,i])))},Nt.prototype.iterate=Vt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Pt.prototype.iterate=Ht.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},Yt.prototype.iterate=function(t,e){return t(this.entry)},e(Qt,T),Qt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return Xt(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Xt(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Xt(t,o.entry);e=this._stack=Ft(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var he=y/4,fe=y/2,ce=y/4;function _e(t){var e=ze();if(null==t)return e;if(pe(t))return t;var r=i(t),n=r.size;return 0===n?e:(Lt(n),n>0&&n<y?Se(0,n,v,null,new ye(r.toArray())):e.withMutations(function(t){t.setSize(n),r.forEach(function(e,r){return t.set(r,e)})}))}function pe(t){return!(!t||!t[le])}e(_e,St),_e.of=function(){return this(arguments)},_e.prototype.toString=function(){return this.__toString("List [","]")},_e.prototype.get=function(t,e){if((t=D(this,t))>=0&&t<this.size){var r=qe(this,t+=this._origin);return r&&r.array[t&d]}return e},_e.prototype.set=function(t,e){return function(t,e,r){if((e=D(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?De(t,e).set(0,r):De(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=S(w);e>=Ee(t._capacity)?n=Ie(n,t.__ownerID,0,e,r,o):i=Ie(i,t.__ownerID,t._level,e,r,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return Se(t._origin,t._capacity,t._level,i,n)}(this,t,e)},_e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},_e.prototype.insert=function(t,e){return this.splice(t,0,e)},_e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ze()},_e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){De(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},_e.prototype.pop=function(){return De(this,0,-1)},_e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){De(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},_e.prototype.shift=function(){return De(this,1)},_e.prototype.merge=function(){return Me(this,void 0,arguments)},_e.prototype.mergeWith=function(e){return Me(this,e,t.call(arguments,1))},_e.prototype.mergeDeep=function(){return Me(this,ie,arguments)},_e.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Me(this,oe(e),r)},_e.prototype.setSize=function(t){return De(this,0,t)},_e.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:De(this,O(t,r),x(e,r))},_e.prototype.__iterator=function(t,e){var r=0,n=we(this,e);return new T(function(){var e=n();return e===ge?{value:void 0,done:!0}:W(t,r++,e)})},_e.prototype.__iterate=function(t,e){for(var r,n=0,i=we(this,e);(r=i())!==ge&&!1!==t(r,n++,this););return n},_e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Se(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},_e.isList=pe;var le="@@__IMMUTABLE_LIST__@@",ve=_e.prototype;function ye(t,e){this.array=t,this.ownerID=e}ve[le]=!0,ve.delete=ve.remove,ve.setIn=Jt.setIn,ve.deleteIn=ve.removeIn=Jt.removeIn,ve.update=Jt.update,ve.updateIn=Jt.updateIn,ve.mergeIn=Jt.mergeIn,ve.mergeDeepIn=Jt.mergeDeepIn,ve.withMutations=Jt.withMutations,ve.asMutable=Jt.asMutable,ve.asImmutable=Jt.asImmutable,ve.wasAltered=Jt.wasAltered,ye.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&d;if(n>=this.array.length)return new ye([],t);var i,o=0===n;if(e>0){var u=this.array[n];if((i=u&&u.removeBefore(t,e-v,r))===u&&o)return this}if(o&&!i)return this;var s=be(this,t);if(!o)for(var a=0;a<n;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},ye.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&d;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-v,r))===o&&i===this.array.length-1)return this}var u=be(this,t);return u.array.splice(i+1),n&&(u.array[i]=n),u};var de,me,ge={};function we(t,e){var r=t._origin,n=t._capacity,i=Ee(n),o=t._tail;return u(t._root,t._level,0);function u(t,s,a){return 0===s?function(t,u){var s=u===i?o&&o.array:t&&t.array,a=u>r?0:r-u,h=n-u;h>y&&(h=y);return function(){if(a===h)return ge;var t=e?--h:a++;return s&&s[t]}}(t,a):function(t,i,o){var s,a=t&&t.array,h=o>r?0:r-o>>i,f=1+(n-o>>i);f>y&&(f=y);return function(){for(;;){if(s){var t=s();if(t!==ge)return t;s=null}if(h===f)return ge;var r=e?--f:h++;s=u(a&&a[r],i-v,o+(r<<i))}}}(t,s,a)}}function Se(t,e,r,n,i,o,u){var s=Object.create(ve);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function ze(){return de||(de=Se(0,0,v))}function Ie(t,e,r,n,i,o){var u,s=n>>>r&d,a=t&&s<t.array.length;if(!a&&void 0===i)return t;if(r>0){var h=t&&t.array[s],f=Ie(h,e,r-v,n,i,o);return f===h?t:((u=be(t,e)).array[s]=f,u)}return a&&t.array[s]===i?t:(z(o),u=be(t,e),void 0===i&&s===u.array.length-1?u.array.pop():u.array[s]=i,u)}function be(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function qe(t,e){if(e>=Ee(t._capacity))return t._tail;if(e<1<<t._level+v){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&d],n-=v;return r}}function De(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new I,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:r<0?o+r:i+r;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,h=t._root,f=0;u+f<0;)h=new ye(h&&h.array.length?[void 0,h]:[],n),f+=1<<(a+=v);f&&(u+=f,i+=f,s+=f,o+=f);for(var c=Ee(o),_=Ee(s);_>=1<<a+v;)h=new ye(h&&h.array.length?[h]:[],n),a+=v;var p=t._tail,l=_<c?qe(t,s-1):_>c?new ye([],n):p;if(p&&_>c&&u<o&&p.array.length){for(var y=h=be(h,n),m=a;m>v;m-=v){var g=c>>>m&d;y=y.array[g]=be(y.array[g],n)}y.array[c>>>v&d]=p}if(s<o&&(l=l&&l.removeAfter(n,0,s)),u>=_)u-=_,s-=_,a=v,h=null,l=l&&l.removeBefore(n,0,u);else if(u>i||_<c){for(f=0;h;){var w=u>>>a&d;if(w!==_>>>a&d)break;w&&(f+=(1<<a)*w),a-=v,h=h.array[w]}h&&u>i&&(h=h.removeBefore(n,a,u-f)),h&&_<c&&(h=h.removeAfter(n,a,_-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=h,t._tail=l,t.__hash=void 0,t.__altered=!0,t):Se(u,s,a,h,l)}function Me(t,e,r){for(var n=[],o=0,s=0;s<r.length;s++){var a=r[s],h=i(a);h.size>o&&(o=h.size),u(a)||(h=h.map(function(t){return ct(t)})),n.push(h)}return o>t.size&&(t=t.setSize(o)),ue(t,e,n)}function Ee(t){return t<y?0:t-1>>>v<<v}function Oe(t){return null==t?Ae():xe(t)?t:Ae().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function xe(t){return Wt(t)&&f(t)}function ke(t,e,r,n){var i=Object.create(Oe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Ae(){return me||(me=ke(Zt(),ze()))}function je(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===m){if(!a)return t;u.size>=y&&u.size>=2*o.size?(n=(i=u.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):ke(n,i)}function Ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Le(t){this._iter=t,this.size=t.size}function Te(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return!1!==e(r,t,n)},r)},e.__iteratorUncached=function(e,r){if(e===K){var n=t.__iterator(e,r);return new T(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===j?A:j,r)},e}function We(t,e,r){var n=$e(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,m);return o===m?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return!1!==n(e.call(r,t,i,u),i,o)},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(K,i);return new T(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return W(n,s,e.call(r,u[1],s,t),i)})},n}function Be(t,e){var r=$e(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Te(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=tr,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function Ce(t,e,r,n){var i=$e(t);return n&&(i.has=function(n){var i=t.get(n,m);return i!==m&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,m);return o!==m&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){if(e.call(r,t,o,a))return s++,i(t,n?o:s-1,u)},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(K,o),s=0;return new T(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(e.call(r,f,h,t))return W(i,n?h:s++,f,o)}})},i}function Je(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r|=0),E(e,r,i))return t;var o=O(e,i),u=x(r,i);if(o!=o||u!=u)return Je(t.toSeq().cacheResult(),e,r,n);var s,a=u-o;a==a&&(s=a<0?0:a);var h=$e(t);return h.size=0===s?s:t.size&&s||void 0,!n&&it(t)&&s>=0&&(h.get=function(e,r){return(e=D(this,e))>=0&&e<s?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,a=!0,h=0;return t.__iterate(function(t,r){if(!a||!(a=u++<o))return h++,!1!==e(t,n?r:h-1,i)&&h!==s}),h},h.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),u=0,a=0;return new T(function(){for(;u++<o;)i.next();if(++a>s)return{value:void 0,done:!0};var t=i.next();return n||e===j?t:W(e,a-1,e===A?void 0:t.value[1],t)})},h}function Ne(t,e,r,n){var i=$e(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,h){if(!s||!(s=e.call(r,t,o,h)))return a++,i(t,n?o:a-1,u)}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(K,o),a=!0,h=0;return new T(function(){var t,o,f;do{if((t=s.next()).done)return n||i===j?t:W(i,h++,i===A?void 0:t.value[1],t);var c=t.value;o=c[0],f=c[1],a&&(a=e.call(r,f,o,u))}while(a);return i===K?t:W(i,o,f,t)})},i}function Pe(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=0,s=!1;return function t(a,h){var f=this;a.__iterate(function(i,a){return(!e||h<e)&&u(i)?t(i,h+1):!1===n(i,r?a:o++,f)&&(s=!0),!s},i)}(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),s=[],a=0;return new T(function(){for(;o;){var t=o.next();if(!1===t.done){var h=t.value;if(n===K&&(h=h[1]),e&&!(s.length<e)||!u(h))return r?t:W(n,a++,h,t);s.push(o),o=h.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}})},n}function He(t,e,r){e||(e=er);var n=s(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?Y(o):a(t)?Q(o):X(o)}function Ve(t,e,r){if(e||(e=er),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return Ye(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return Ye(e,t,r)?r:t})}function Ye(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function Qe(t,e,n){var i=$e(t);return i.size=new tt(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(j,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=r(t),N(i?t.reverse():t)}),u=0,s=!1;return new T(function(){var r;return s||(r=o.map(function(t){return t.next()}),s=r.some(function(t){return t.done})),s?{value:void 0,done:!0}:W(t,u++,e.apply(null,r.map(function(t){return t.value})))})},i}function Xe(t,e){return it(t)?e:t.constructor(e)}function Fe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ge(t){return Lt(t.size),q(t)}function Ze(t){return s(t)?n:a(t)?i:o}function $e(t){return Object.create((s(t)?Y:a(t)?Q:X).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function er(t,e){return t>e?1:t<e?-1:0}function rr(t){var e=N(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=N(r(t))}return e}function nr(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){dt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(r){}}(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=Tt(o)},i=n.prototype=Object.create(ir);return i.constructor=n,n}e(Oe,Tt),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Oe.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ae()},Oe.prototype.set=function(t,e){return je(this,t,e)},Oe.prototype.remove=function(t){return je(this,t,m)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Oe.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Oe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?ke(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Oe.isOrderedMap=xe,Oe.prototype[l]=!0,Oe.prototype.delete=Oe.prototype.remove,e(Ke,Y),Ke.prototype.get=function(t,e){return this._iter.get(t,e)},Ke.prototype.has=function(t){return this._iter.has(t)},Ke.prototype.valueSeq=function(){return this._iter.valueSeq()},Ke.prototype.reverse=function(){var t=this,e=Be(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ke.prototype.map=function(t,e){var r=this,n=We(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ke.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?Ge(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(j,e),n=e?Ge(this):0;return new T(function(){var i=r.next();return i.done?i:W(t,e?--n:n++,i.value,i)})},Ke.prototype[l]=!0,e(Re,Q),Re.prototype.includes=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},Re.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e),n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value,e)})},e(Ue,X),Ue.prototype.has=function(t){return this._iter.includes(t)},Ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},Ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){var e=r.next();return e.done?e:W(t,e.value,e.value,e)})},e(Le,Y),Le.prototype.entrySeq=function(){return this._iter.toSeq()},Le.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){Fe(e);var n=u(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},Le.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Fe(n);var i=u(n);return W(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},Re.prototype.cacheResult=Ke.prototype.cacheResult=Ue.prototype.cacheResult=Le.prototype.cacheResult=tr,e(nr,wt),nr.prototype.toString=function(){return this.__toString(ur(this)+" {","}")},nr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},nr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=or(this,Zt()))},nr.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ur(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:or(this,r)},nr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:or(this,e)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},nr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},nr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?or(this,e,t):(this.__ownerID=t,this._map=e,this)};var ir=nr.prototype;function or(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function ur(t){return t._name||t.constructor.name||"Record"}function sr(t){return null==t?lr():ar(t)&&!f(t)?t:lr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function ar(t){return!(!t||!t[fr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Jt.removeIn,ir.merge=Jt.merge,ir.mergeWith=Jt.mergeWith,ir.mergeIn=Jt.mergeIn,ir.mergeDeep=Jt.mergeDeep,ir.mergeDeepWith=Jt.mergeDeepWith,ir.mergeDeepIn=Jt.mergeDeepIn,ir.setIn=Jt.setIn,ir.update=Jt.update,ir.updateIn=Jt.updateIn,ir.withMutations=Jt.withMutations,ir.asMutable=Jt.asMutable,ir.asImmutable=Jt.asImmutable,e(sr,zt),sr.of=function(){return this(arguments)},sr.fromKeys=function(t){return this(n(t).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(t){return this._map.has(t)},sr.prototype.add=function(t){return _r(this,this._map.set(t,!0))},sr.prototype.remove=function(t){return _r(this,this._map.remove(t))},sr.prototype.clear=function(){return _r(this,this._map.clear())},sr.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},sr.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.every(function(t){return t.includes(r)})||t.remove(r)})})},sr.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.some(function(t){return t.includes(r)})&&t.remove(r)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},sr.prototype.sort=function(t){return vr(He(this,t))},sr.prototype.sortBy=function(t,e){return vr(He(this,e,t))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},sr.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},sr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},sr.isSet=ar;var hr,fr="@@__IMMUTABLE_SET__@@",cr=sr.prototype;function _r(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pr(t,e){var r=Object.create(cr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function lr(){return hr||(hr=pr(Zt()))}function vr(t){return null==t?wr():yr(t)?t:wr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function yr(t){return ar(t)&&f(t)}cr[fr]=!0,cr.delete=cr.remove,cr.mergeDeep=cr.merge,cr.mergeDeepWith=cr.mergeWith,cr.withMutations=Jt.withMutations,cr.asMutable=Jt.asMutable,cr.asImmutable=Jt.asImmutable,cr.__empty=lr,cr.__make=pr,e(vr,sr),vr.of=function(){return this(arguments)},vr.fromKeys=function(t){return this(n(t).keySeq())},vr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vr.isOrderedSet=yr;var dr,mr=vr.prototype;function gr(t,e){var r=Object.create(mr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function wr(){return dr||(dr=gr(Ae()))}function Sr(t){return null==t?Mr():zr(t)?t:Mr().unshiftAll(t)}function zr(t){return!(!t||!t[br])}mr[l]=!0,mr.__empty=wr,mr.__make=gr,e(Sr,St),Sr.of=function(){return this(arguments)},Sr.prototype.toString=function(){return this.__toString("Stack [","]")},Sr.prototype.get=function(t,e){var r=this._head;for(t=D(this,t);r&&t--;)r=r.next;return r?r.value:e},Sr.prototype.peek=function(){return this._head&&this._head.value},Sr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Dr(t,e)},Sr.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Lt(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Dr(e,r)},Sr.prototype.pop=function(){return this.slice(1)},Sr.prototype.unshift=function(){return this.push.apply(this,arguments)},Sr.prototype.unshiftAll=function(t){return this.pushAll(t)},Sr.prototype.shift=function(){return this.pop.apply(this,arguments)},Sr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},Sr.prototype.slice=function(t,e){if(E(t,e,this.size))return this;var r=O(t,this.size);if(x(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Dr(n,i)},Sr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Dr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},Sr.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new T(function(){if(n){var e=n.value;return n=n.next,W(t,r++,e)}return{value:void 0,done:!0}})},Sr.isStack=zr;var Ir,br="@@__IMMUTABLE_STACK__@@",qr=Sr.prototype;function Dr(t,e,r,n){var i=Object.create(qr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Ir||(Ir=Dr(0))}function Er(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}qr[br]=!0,qr.withMutations=Jt.withMutations,qr.asMutable=Jt.asMutable,qr.asImmutable=Jt.asImmutable,qr.wasAltered=Jt.wasAltered,r.Iterator=T,Er(r,{toArray:function(){Lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new Re(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Tt(this.toKeyedSeq())},toObject:function(){Lt(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Oe(this.toKeyedSeq())},toOrderedSet:function(){return vr(s(this)?this.valueSeq():this)},toSet:function(){return sr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ue(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sr(s(this)?this.valueSeq():this)},toList:function(){return _e(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Xe(this,function(t,e){var r=s(t),i=[t].concat(e).map(function(t){return u(t)?r&&(t=n(t)):t=r?ut(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&s(o)||a(t)&&a(o))return o}var h=new tt(i);return r?h=h.toKeyedSeq():a(t)||(h=h.toSetSeq()),(h=h.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}(this,t.call(arguments,0)))},includes:function(t){return this.some(function(e){return lt(e,t)})},entries:function(){return this.__iterator(K)},every:function(t,e){Lt(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function(t,e){return Xe(this,Ce(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},findEntry:function(t,e){var r;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Lt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""}),e},keys:function(){return this.__iterator(A)},map:function(t,e){return Xe(this,We(this,t,e))},reduce:function(t,e,r){var n,i;return Lt(this.size),arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Xe(this,Be(this,!0))},slice:function(t,e){return Xe(this,Je(this,t,e,!0))},some:function(t,e){return!this.every(jr(t),e)},sort:function(t){return Xe(this,He(this,t))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return q(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=Tt().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}(this,t,e)},equals:function(t){return vt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(jr(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(M)},flatMap:function(t,e){return Xe(this,function(t,e,r){var n=Ze(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Xe(this,Pe(this,t,!0))},fromEntrySeq:function(){return new Le(this)},get:function(t,e){return this.find(function(e,r){return lt(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=rr(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return e}return n},groupBy:function(t,e){return function(t,e,r){var n=s(t),i=(f(t)?Oe():Tt()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return(t=t||[]).push(n?[u,o]:o),t})});var o=Ze(t);return i.map(function(e){return Xe(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Ve(this,t)},maxBy:function(t,e){return Ve(this,e,t)},min:function(t){return Ve(this,t?Kr(t):Lr)},minBy:function(t,e){return Ve(this,e?Kr(e):Lr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Xe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Xe(this,Ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(jr(t),e)},sortBy:function(t,e){return Xe(this,He(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Xe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Xe(this,function(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(K,i),s=!0;return new T(function(){if(!s)return{value:void 0,done:!0};var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===K?t:W(n,a,h,t):(s=!1,{value:void 0,done:!0})})},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(jr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),r=s(t),n=e?1:0;return function(t,e){return e=It(e,3432918353),e=It(e<<15|e>>>-15,461845907),e=It(e<<13|e>>>-13,5),e=It((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=bt((e=It(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Tr(qt(t),qt(e))|0}:function(t,e){n=n+Tr(qt(t),qt(e))|0}:e?function(t){n=31*n+qt(t)|0}:function(t){n=n+qt(t)|0}),n)}(this))}});var Or=r.prototype;Or[c]=!0,Or[L]=Or.values,Or.__toJS=Or.toArray,Or.__toStringMapper=Rr,Or.inspect=Or.toSource=function(){return this.toString()},Or.chain=Or.flatMap,Or.contains=Or.includes,function(){try{Object.defineProperty(Or,"length",{get:function(){if(!r.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Er(n,{flip:function(){return Xe(this,Te(this))},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return lt(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return lt(e,t)})},mapEntries:function(t,e){var r=this,n=0;return Xe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Xe(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var xr=n.prototype;function kr(t,e){return e}function Ar(t,e){return[e,t]}function jr(t){return function(){return!t.apply(this,arguments)}}function Kr(t){return function(){return-t.apply(this,arguments)}}function Rr(t){return"string"==typeof t?JSON.stringify(t):t}function Ur(){return b(arguments)}function Lr(t,e){return t<e?1:t>e?-1:0}function Tr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return xr[_]=!0,xr[L]=Or.entries,xr.__toJS=Or.toObject,xr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Rr(t)},Er(i,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(t,e){return Xe(this,Ce(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Xe(this,Be(this,!1))},slice:function(t,e){return Xe(this,Je(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=O(t,t<0?this.count():this.size);var n=this.slice(0,t);return Xe(this,1===r?n:n.concat(b(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return Xe(this,Pe(this,t,!1))},get:function(t,e){return(t=D(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return(t=D(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Xe(this,function(t,e){var r=$e(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(j,n),u=0;return new T(function(){return(!i||u%2)&&(i=o.next()).done?i:u%2?W(r,u++,e):W(r,u++,i.value,i)})},r}(this,t))},interleave:function(){var t=[this].concat(b(arguments)),e=Qe(this.toSeq(),Q.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Xe(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Xe(this,Ne(this,t,e,!1))},zip:function(){return Xe(this,Qe(this,Ur,[this].concat(b(arguments))))},zipWith:function(t){var e=b(arguments);return e[0]=this,Xe(this,Qe(this,t,e))}}),i.prototype[p]=!0,i.prototype[l]=!0,Er(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Or.includes,Er(Y,n.prototype),Er(Q,i.prototype),Er(X,o.prototype),Er(wt,n.prototype),Er(St,i.prototype),Er(zt,o.prototype),{Iterable:r,Seq:V,Collection:gt,Map:Tt,OrderedMap:Oe,List:_e,Stack:Sr,Set:sr,OrderedSet:vr,Record:nr,Range:mt,Repeat:yt,is:lt,fromJS:ct}},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Immutable=i()}),
(function(r,e,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockMapBuilder
 * @format
 * 
 */
"use strict";var n=t(879).OrderedMap,u={createFromArray:function(r){return n(r.map(function(r){return[r.getKey(),r]}))}};r.exports=u}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CharacterMetadata
 * @format
 * 
 */
"use strict";var r=n(879),o=r.Map,i=r.OrderedSet,u=r.Record,c=i(),l={style:c,entity:null},s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getStyle=function(){return this.get("style")},e.prototype.getEntity=function(){return this.get("entity")},e.prototype.hasStyle=function(t){return this.getStyle().includes(t)},e.applyStyle=function(t,n){var r=t.set("style",t.getStyle().add(n));return e.create(r)},e.removeStyle=function(t,n){var r=t.set("style",t.getStyle().remove(n));return e.create(r)},e.applyEntity=function(t,n){var r=t.getEntity()===n?t:t.set("entity",n);return e.create(r)},e.create=function(t){if(!t)return y;var n=o({style:c,entity:null}).merge(t),r=a.get(n);if(r)return r;var i=new e(n);return a=a.set(n,i),i},e}(u(l)),y=new s,a=o([[o(l),y]]);s.EMPTY=y,t.exports=s}),
(function(t,n,u){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findRangesImmutable
 * @format
 * 
 */
"use strict";t.exports=function(t,n,u,c){if(t.size){var e=0;t.reduce(function(t,i,r){return n(t,i)||(u(t)&&c(e,r),e=r),i}),u(t.last())&&c(e,t.count())}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlock
 * @format
 * 
 */
"use strict";var r=n(881),o=n(879),i=n(882),a=o.List,c=o.Map,u=o.OrderedSet,p=o.Record,s=o.Repeat,f=u(),y=p({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:c()}),h=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(s(r.EMPTY,n.length))),t},g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.findStyleRanges=function(t,e){i(this.getCharacterList(),l,t,e)},e.prototype.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},e}(y);function l(t,e){return t.getStyle()===e.getStyle()}function d(t,e){return t.getEntity()===e.getEntity()}t.exports=g}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlockNode
 * @format
 * 
 *
 * This file is a fork of ContentBlock adding support for nesting references by
 * providing links to children, parent, prevSibling, and nextSibling.
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */
"use strict";var r=n(881),i=n(879),o=n(882),u=i.List,a=i.Map,c=i.OrderedSet,p=i.Record,s=i.Repeat,g=c(),y={parent:null,characterList:u(),data:a(),depth:0,key:"",text:"",type:"unstyled",children:u(),prevSibling:null,nextSibling:null},h=function(t,e){return t.getStyle()===e.getStyle()},l=function(t,e){return t.getEntity()===e.getEntity()},f=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=u(s(r.EMPTY,n.length))),t},b=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,f(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():g},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.getChildKeys=function(){return this.get("children")},e.prototype.getParentKey=function(){return this.get("parent")},e.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},e.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},e.prototype.findStyleRanges=function(t,e){o(this.getCharacterList(),h,t,e)},e.prototype.findEntityRanges=function(t,e){o(this.getCharacterList(),l,t,e)},e}(p(y));t.exports=b}),
(function(t,e,_){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags-core
 * @format
 * 
 */
"use strict";t.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1}}),
(function(r,t,e){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags
 * @format
 * 
 */
"use strict";var a=e(885);r.exports=a}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentStateInlineStyle
 * @format
 * 
 */
"use strict";var n=r(881),a=r(879).Map,c={add:function(t,e,r){return o(t,e,r,!0)},remove:function(t,e,r){return o(t,e,r,!1)}};function o(t,e,r,c){var o=t.getBlockMap(),i=e.getStartKey(),u=e.getStartOffset(),f=e.getEndKey(),g=e.getEndOffset(),s=o.skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===f}).concat(a([[f,o.get(f)]])).map(function(t,e){var a,o;i===f?(a=u,o=g):(a=e===i?u:0,o=e===f?g:t.getLength());for(var s,l=t.getCharacterList();a<o;)s=l.get(a),l=l.set(a,c?n.applyStyle(s,r):n.removeStyle(s,r)),a++;return t.set("characterList",l)});return t.merge({blockMap:o.merge(s),selectionBefore:e,selectionAfter:e})}t.exports=c}),
(function(t,r,a){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentBlock
 * @format
 * 
 */
"use strict";var e=a(881);t.exports=function(t,r,a,c){for(var s=t.getCharacterList();r<a;)s=s.set(r,e.applyEntity(s.get(r),c)),r++;return t.set("characterList",s)}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentState
 * @format
 * 
 */
"use strict";var r=n(879),o=n(888);e.exports=function(e,t,n){var a=e.getBlockMap(),i=t.getStartKey(),c=t.getStartOffset(),f=t.getEndKey(),g=t.getEndOffset(),u=a.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===f}).toOrderedMap().merge(r.OrderedMap([[f,a.get(f)]])).map(function(e,t){var r=t===i?c:0,a=t===f?g:e.getLength();return o(e,r,a,n)});return e.merge({blockMap:a.merge(u),selectionBefore:t,selectionAfter:t})}}),
(function(n,r,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntitySegments
 * @format
 * 
 */
"use strict";n.exports={getRemovalRange:function(n,r,e,t,l){var u=e.split(" ");u=u.map(function(n,r){if("forward"===l){if(r>0)return" "+n}else if(r<u.length-1)return n+" ";return n});for(var f,a=t,i=null,o=null,s=0;s<u.length;s++){if(n<(f=a+u[s].length)&&a<r)null!==i?o=f:(i=a,o=f);else if(null!==i)break;a=f}var g=t+e.length,c=i===t,h=o===g;return(!c&&h||c&&!h)&&("forward"===l?o!==g&&o++:i!==t&&i--),{start:i,end:o}}}}),
(function(n,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var i=function(n){};n.exports=function(n,e,r,o,t,a,f,s){if(i(e),!n){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,t,a,f,s],d=0;(u=new Error(e.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangesForDraftEntity
 * @format
 * 
 */
"use strict";var r=i(891);n.exports=function(n,t){var i=[];return n.findEntityRanges(function(n){return n.getEntity()===t},function(n,t){i.push({start:n,end:t})}),i.length||r(!1),i}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getCharacterRemovalRange
 * @format
 * 
 */
"use strict";var f=r(890),s=r(892),a=r(891);function n(t,e,r,n,i,g,c){var o=r.getStartOffset(),u=r.getEndOffset(),O=t.__get(i).getMutability(),d=c?o:u;if("MUTABLE"===O)return r;var v=s(e,i).filter(function(t){return d<=t.end&&d>=t.start});1!=v.length&&a(!1);var l=v[0];if("IMMUTABLE"===O)return r.merge({anchorOffset:l.start,focusOffset:l.end,isBackward:!1});g||(c?u=l.end:o=l.start);var E=f.getRemovalRange(o,u,e.getText().slice(l.start,l.end),l.start,n);return r.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1})}t.exports=function(t,e,r,f,s){var a=f.getStartOffset(),i=f.getEndOffset(),g=e.getEntityAt(a),c=r.getEntityAt(i-1);if(!g&&!c)return f;var o=f;if(g&&g===c)o=n(t,e,o,s,g,!0,!0);else if(g&&c){var u=n(t,e,o,s,g,!1,!0),O=n(t,r,o,s,c,!1,!1);o=o.merge({anchorOffset:u.getAnchorOffset(),focusOffset:O.getFocusOffset(),isBackward:!1})}else if(g){var d=n(t,e,o,s,g,!1,!0);o=o.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(c){var v=n(t,r,o,s,c,!1,!1);o=o.merge({focusOffset:v.getEndOffset(),isBackward:!1})}return o}}),
(function(o,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule generateRandomKey
 * @format
 * 
 */
"use strict";var a={},n=Math.pow(2,24);o.exports=function(){for(var o=void 0;void 0===o||a.hasOwnProperty(o)||!isNaN(+o);)o=Math.floor(Math.random()*n).toString(32);return a[o]=!0,o}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule randomizeBlockMapKeys
 * @format
 * 
 */
"use strict";var i=n(884),r=n(879),g=n(894),l=r.OrderedMap;e.exports=function(e){return e.first()instanceof i?function(e){var t={},n=void 0;return l(e.withMutations(function(e){e.forEach(function(i,r){var l=i.getKey(),s=i.getNextSiblingKey(),o=i.getPrevSiblingKey(),u=i.getChildKeys(),a=i.getParentKey(),c=g();if(t[l]=c,s&&(e.get(s)?e.setIn([s,"prevSibling"],c):e.setIn([l,"nextSibling"],null)),o&&(e.get(o)?e.setIn([o,"nextSibling"],c):e.setIn([l,"prevSibling"],null)),a&&e.get(a)){var f=e.get(a).getChildKeys();e.setIn([a,"children"],f.set(f.indexOf(i.getKey()),c))}else e.setIn([l,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],c),e.setIn([l,"prevSibling"],t[n.getKey()])),n=e.get(l);u.forEach(function(t){e.get(t)?e.setIn([t,"parent"],c):e.setIn([l,"children"],i.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))}(e):function(e){return l(e.toArray().map(function(e){var t=g();return[t,e.set("key",t)]}))}(e)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeEntitiesAtEdges
 * @format
 * 
 */
"use strict";var r=n(881),i=n(882),a=n(891);function g(t,e,n){var g=e.getCharacterList(),o=n>0?g.get(n-1):void 0,c=n<g.count()?g.get(n):void 0,f=o?o.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===f&&"MUTABLE"!==t.__get(u).getMutability()){for(var s,y=function(t,e,n){var r;return i(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),"object"!=typeof r&&a(!1),r}(g,u,n),v=y.start,l=y.end;v<l;)s=g.get(v),g=g.set(v,r.applyEntity(s,null)),v++;return e.set("characterList",g)}return e}t.exports=function(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},a=e.getStartKey(),o=e.getStartOffset(),c=n.get(a),f=g(r,c,o);f!==c&&(i[a]=f);var u=e.getEndKey(),s=e.getEndOffset(),y=n.get(u);a===u&&(y=f);var v=g(r,y,s);return v!==y&&(i[u]=v),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getContentStateFragment
 * @format
 * 
 */
"use strict";var c=r(895),i=r(896);e.exports=function(e,t){var r=t.getStartKey(),s=t.getStartOffset(),a=t.getEndKey(),n=t.getEndOffset(),g=i(e,t).getBlockMap(),f=g.keySeq(),l=f.indexOf(r),o=f.indexOf(a)+1;return c(g.slice(l,o).map(function(e,t){var c=e.getText(),i=e.getCharacterList();return r===a?e.merge({text:c.slice(s,n),characterList:i.slice(s,n)}):t===r?e.merge({text:c.slice(s),characterList:i.slice(s)}):t===a?e.merge({text:c.slice(0,n),characterList:i.slice(0,n)}):e}))}}),
(function(t,c,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertIntoList
 * @format
 * 
 */
"use strict";t.exports=function(t,c,e){if(e===t.count())c.forEach(function(c){t=t.push(c)});else if(0===e)c.reverse().forEach(function(c){t=t.unshift(c)});else{var n=t.slice(0,e),i=t.slice(e);t=n.concat(c,i).toList()}return t}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertFragmentIntoContentState
 * @format
 * 
 */
"use strict";var i=r(880),n=r(884),a=r(879),s=r(898),c=r(891),g=r(895),o=a.List,l=function(e,t,r,a,s,c){var g=r.first()instanceof n,l=[],f=a.size,u=r.get(s),h=a.first(),y=a.last(),p=y.getLength(),x=y.getKey(),K=g&&(!u.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());r.forEach(function(e,t){t===s?(K?l.push(e):l.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.slice(0,t),s=n.slice(0,t),c=r.first();return e.merge({text:a+c.getText(),characterList:s.concat(c.getCharacterList()),type:a?e.getType():c.getType(),data:c.getData()})}(e,c,a)),a.slice(K?0:1,f-1).forEach(function(e){return l.push(e)}),l.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.length,s=i.slice(t,a),c=n.slice(t,a),g=r.last();return g.merge({text:g.getText()+s,characterList:g.getCharacterList().concat(c),data:g.getData()})}(e,c,a))):l.push(e)});var b=i.createFromArray(l);return g&&(b=function(e,t,r,i){return e.withMutations(function(t){var n=r.getKey(),a=i.getKey(),s=r.getNextSiblingKey(),c=r.getParentKey(),g=function(e,t){var r=e.getKey(),i=e,n=[];for(t.get(r)&&n.push(r);i&&i.getNextSiblingKey();){var a=i.getNextSiblingKey();if(!a)break;n.push(a),i=t.get(a)}return n}(i,e),l=g[g.length-1];if(t.get(a)?(t.setIn([n,"nextSibling"],a),t.setIn([a,"prevSibling"],n)):(t.setIn([n,"nextSibling"],i.getNextSiblingKey()),t.setIn([i.getNextSiblingKey(),"prevSibling"],n)),t.setIn([l,"nextSibling"],s),s&&t.setIn([s,"prevSibling"],l),g.forEach(function(e){return t.setIn([e,"parent"],c)}),c){var f=e.get(c).getChildKeys(),u=f.indexOf(n)+1,h=f.toArray();h.splice.apply(h,[u,0].concat(g)),t.setIn([c,"children"],o(h))}})}(b,0,u,h)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:x,anchorOffset:p,focusKey:x,focusOffset:p,isBackward:!1})})};e.exports=function(e,t,r){t.isCollapsed()||c(!1);var i=e.getBlockMap(),a=g(r),o=t.getStartKey(),f=t.getStartOffset(),u=i.get(o);return u instanceof n&&(u.getChildKeys().isEmpty()||c(!1)),1===a.size?function(e,t,r,i,n,a){var c=r.get(n),g=c.getText(),o=c.getCharacterList(),l=n,f=a+i.getText().length,u=c.merge({text:g.slice(0,a)+i.getText()+g.slice(a),characterList:s(o,i.getCharacterList(),a),data:i.getData()});return e.merge({blockMap:r.set(n,u),selectionBefore:t,selectionAfter:t.merge({anchorKey:l,anchorOffset:f,focusKey:l,focusOffset:f,isBackward:!1})})}(e,t,i,a.first(),o,f):l(e,t,i,a,o,f)}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertTextIntoContentState
 * @format
 * 
 */
"use strict";var s=r(879),a=r(898),i=r(891),n=s.Repeat;t.exports=function(t,e,r,s){e.isCollapsed()||i(!1);var c=r.length;if(!c)return t;var f=t.getBlockMap(),g=e.getStartKey(),o=e.getStartOffset(),l=f.get(g),u=l.getText(),h=l.merge({text:u.slice(0,o)+r+u.slice(o,l.getLength()),characterList:a(l.getCharacterList(),n(s,c).toList(),o)}),m=o+c;return t.merge({blockMap:f.set(g,h),selectionAfter:e.merge({anchorOffset:m,focusOffset:m})})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule modifyBlockForContentState
 * @format
 * 
 */
"use strict";var r=n(879).Map;e.exports=function(e,t,n){var o=t.getStartKey(),c=t.getEndKey(),i=e.getBlockMap(),a=i.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===c}).concat(r([[c,i.get(c)]])).map(n);return e.merge({blockMap:i.merge(a),selectionBefore:t,selectionAfter:t})}}),
(function(e,t,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getNextDelimiterBlockKey
 * @format
 * 
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */var r=n(884);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var l=t.get(i);l&&!l.getNextSiblingKey();){var u=l.getParentKey();l=u?t.get(u):null}return l?l.getNextSiblingKey():null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeRangeFromContentState
 * @format
 * 
 */
"use strict";var r=n(884),i=n(879),g=n(902),u=(i.List,i.Map),c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},o=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},a=function(e,t,n,r){return e.withMutations(function(e){c(t.getKey(),e,function(n){return n.merge({nextSibling:o(t,e,r),prevSibling:f(t,e,r)})}),c(n.getKey(),e,function(t){return t.merge({nextSibling:o(n,e,r),prevSibling:f(n,e,r)})}),l(t.getKey(),r).forEach(function(t){return c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),c(t.getPrevSiblingKey(),e,function(n){return n.merge({nextSibling:o(t,e,r)})}),c(n.getNextSiblingKey(),e,function(t){return t.merge({prevSibling:f(n,e,r)})}),c(n.getPrevSiblingKey(),e,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),l(n.getKey(),r).forEach(function(t){c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})}),function(e,t){var n=[];if(!e)return n;for(var r=g(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?g(i,t):null}return n}(n,r).forEach(function(t){return c(t,e,function(t){return t.merge({nextSibling:o(t,e,r),prevSibling:f(t,e,r)})})})})},s=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),i=t.getStartKey(),c=t.getStartOffset(),o=t.getEndKey(),f=t.getEndOffset(),y=n.get(i),v=n.get(o),K=y instanceof r,S=[];if(K){var b=v.getChildKeys(),p=l(o,n);v.getNextSiblingKey()&&(S=S.concat(p)),b.isEmpty()||(S=S.concat(p.concat([o]))),S=S.concat(l(g(v,n),n))}var x=void 0;x=y===v?s(y.getCharacterList(),c,f):y.getCharacterList().slice(0,c).concat(v.getCharacterList().slice(f));var h=y.merge({text:y.getText().slice(0,c)+v.getText().slice(f),characterList:x}),m=n.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===o}).filter(function(e,t){return-1===S.indexOf(t)}).concat(u([[o,null]])).map(function(e,t){return t===i?h:null}),d=n.merge(m).filter(function(e){return!!e});return K&&(d=a(d,y,v,n)),e.merge({blockMap:d,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:c,focusKey:i,focusOffset:c,isBackward:!1})})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(884),i=n(879),c=n(894),o=n(891),a=i.List,s=i.Map,g=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||o(!1);var n=t.getAnchorKey(),i=t.getAnchorOffset(),f=e.getBlockMap(),u=f.get(n),l=u.getText(),y=u.getCharacterList(),m=c(),d=u instanceof r,h=u.merge({text:l.slice(0,i),characterList:y.slice(0,i)}),p=h.merge({key:m,text:l.slice(i),characterList:y.slice(i),data:s()}),K=f.toSeq().takeUntil(function(e){return e===u}),b=f.toSeq().skipUntil(function(e){return e===u}).rest(),v=K.concat([[n,h],[m,p]],b).toOrderedMap();return d&&(u.getChildKeys().isEmpty()||o(!1),v=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),i=n.getKey();g(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,c=t.toArray();return c.splice(n,0,i),e.merge({children:a(c)})}),g(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:i})}),g(r,e,function(e){return e.merge({nextSibling:i})}),g(i,e,function(e){return e.merge({prevSibling:r})})})}(v,h,p)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftModifier
 * @format
 * 
 */
"use strict";var r=n(881),a=n(887),o=n(886),i=n(879),c=n(889),u=n(893),f=n(897),g=n(899),l=n(900),s=n(891),y=n(901),m=n(896),v=n(903),d=n(904),p=i.OrderedSet,S={replaceText:function(t,e,n,a,o){var i=m(t,e),c=v(i,e),u=r.create({style:a||p(),entity:o||null});return l(c,c.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,a){return e.isCollapsed()||s(!1),S.replaceText(t,e,n,r,a)},moveText:function(t,e,n){var r=f(t,e),a=S.removeRange(t,e,"backward");return S.replaceWithFragment(a,n,r)},replaceWithFragment:function(t,e,n){var r=m(t,e),a=v(r,e);return g(a,a.getSelectionAfter(),n)},removeRange:function(t,e,n){var r,a,i=void 0,c=void 0;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),a=e.getFocusKey(),i=t.getBlockForKey(r),c=t.getBlockForKey(a);var f=e.getStartOffset(),g=e.getEndOffset(),l=i.getEntityAt(f),s=c.getEntityAt(g-1);if(r===a&&l&&l===s){var y=u(t.getEntityMap(),i,c,e,n);return v(t,y)}var d=e;o.draft_segmented_entities_behavior&&(d=u(t.getEntityMap(),i,c,e,n));var p=m(t,d);return v(p,d)},splitBlock:function(t,e){var n=m(t,e),r=v(n,e);return d(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return a.add(t,e,n)},removeInlineStyle:function(t,e,n){return a.remove(t,e,n)},setBlockType:function(t,e,n){return y(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){var r=m(t,e);return c(r,e,n)}};t.exports=S}),
(function(t,n,u){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */function r(t){return function(){return t}}var e=function(){};e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},t.exports=e}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockTree
 * @format
 * 
 */
"use strict";var r=n(879),a=n(906),u=n(882),l=r.List,o=r.Repeat,s=r.Record,i=a.thatReturnsTrue,c=s({start:null,end:null}),g=s({start:null,end:null,decoratorKey:null,leaves:null}),d={generate:function(t,e,n){var r=e.getLength();if(!r)return l.of(new g({start:0,end:0,decoratorKey:null,leaves:l.of(new c({start:0,end:0}))}));var a=[],s=n?n.getDecorations(e,t):l(o(null,r)),d=e.getCharacterList();return u(s,f,i,function(t,e){var n,r,o,v;a.push(new g({start:t,end:e,decoratorKey:s.get(t),leaves:(n=d.slice(t,e).toList(),r=t,o=[],v=n.map(function(t){return t.getStyle()}).toList(),u(v,f,i,function(t,e){o.push(new c({start:t+r,end:e+r}))}),l(o))}))}),l(a)},getFingerprint:function(t){return t.map(function(t){var e=t.get("decoratorKey");return(null!==e?e+"."+(t.get("end")-t.get("start")):"")+"."+t.get("leaves").size}).join("-")}};function f(t,e){return t===e}t.exports=d}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntityInstance
 * @legacyServerCallableInstance
 * @format
 * 
 */
"use strict";var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getType=function(){return this.get("type")},e.prototype.getMutability=function(){return this.get("mutability")},e.prototype.getData=function(){return this.get("data")},e}((0,n(879).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));t.exports=o}),
(function(t,e,a){"use strict";var n=a(1,1)||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},r=a(908),i=a(879),c=a(891),o=(0,i.Map)(),u=0;function _(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var y={getLastCreatedEntityKey:function(){return _("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),y.__getLastCreatedEntityKey()},create:function(t,e,a){return _("DraftEntity.create","contentState.createEntity"),y.__create(t,e,a)},add:function(t){return _("DraftEntity.add","contentState.addEntity"),y.__add(t)},get:function(t){return _("DraftEntity.get","contentState.getEntity"),y.__get(t)},mergeData:function(t,e){return _("DraftEntity.mergeData","contentState.mergeEntityData"),y.__mergeData(t,e)},replaceData:function(t,e){return _("DraftEntity.replaceData","contentState.replaceEntityData"),y.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return""+u},__create:function(t,e,a){return y.__add(new r({type:t,mutability:e,data:a||{}}))},__add:function(t){var e=""+ ++u;return o=o.set(e,t),e},__get:function(t){var e=o.get(t);return e||c(!1),e},__mergeData:function(t,e){var a=y.__get(t),r=n({},a.getData(),e),i=a.set("data",r);return o=o.set(t,i),i},__replaceData:function(t,e){var a=y.__get(t).set("data",e);return o=o.set(t,a),a}};t.exports=y}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SelectionState
 * @format
 * 
 */
"use strict";var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},e.prototype.getAnchorKey=function(){return this.get("anchorKey")},e.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},e.prototype.getFocusKey=function(){return this.get("focusKey")},e.prototype.getFocusOffset=function(){return this.get("focusOffset")},e.prototype.getIsBackward=function(){return this.get("isBackward")},e.prototype.getHasFocus=function(){return this.get("hasFocus")},e.prototype.hasEdgeWithin=function(t,e,o){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===t){var n=this.getStartOffset();return e<=this.getEndOffset()&&n<=o}if(t!==r&&t!==s)return!1;var c=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=c&&o>=c},e.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},e.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},e.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},e.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},e.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(t){return new e({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},e}((0,o(879).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=r}),
(function(e,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule sanitizeDraftText
 * @format
 * 
 */
"use strict";var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentState
 * @format
 * 
 */
"use strict";var n=r(880),o=r(881),i=r(883),c=r(884),a=r(909),p=r(886),u=r(879),s=r(910),f=r(894),l=r(911),y=u.List,g=u.Record,k=u.Repeat,h=p.draft_tree_data_support?c:i,B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getEntityMap=function(){return a},e.prototype.getBlockMap=function(){return this.get("blockMap")},e.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},e.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},e.prototype.getBlockForKey=function(t){return this.getBlockMap().get(t)},e.prototype.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},e.prototype.getFirstBlock=function(){return this.getBlockMap().first()},e.prototype.getLastBlock=function(){return this.getBlockMap().last()},e.prototype.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():""}).join(t||"\n")},e.prototype.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},e.prototype.hasText=function(){var t=this.getBlockMap();return t.size>1||t.first().getLength()>0},e.prototype.createEntity=function(t,e,r){return a.__create(t,e,r),this},e.prototype.mergeEntityData=function(t,e){return a.__mergeData(t,e),this},e.prototype.replaceEntityData=function(t,e){return a.__replaceData(t,e),this},e.prototype.addEntity=function(t){return a.__add(t),this},e.prototype.getEntity=function(t){return a.__get(t)},e.createFromBlockArray=function(t,r){var o=Array.isArray(t)?t:t.contentBlocks,i=n.createFromArray(o),c=i.isEmpty()?new s:s.createEmpty(i.first().getKey());return new e({blockMap:i,entityMap:r||a,selectionBefore:c,selectionAfter:c})},e.createFromText=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=t.split(r).map(function(t){return t=l(t),new h({key:f(),text:t,type:"unstyled",characterList:y(k(o.EMPTY,t.length))})});return e.createFromBlockArray(n)},e}(g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));t.exports=B}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var r=i(891),l="LTR",u="RTL",o=null;function e(n){return n===l||n===u}function f(n){return e(n)||r(!1),n===l?"ltr":"rtl"}function a(n){o=n}var c={NEUTRAL:"NEUTRAL",LTR:l,RTL:u,isStrong:e,getHTMLDir:f,getHTMLDirIfDifferent:function(n,t){return e(n)||r(!1),e(t)||r(!1),n===t?null:f(n)},setGlobalDir:a,initGlobalDir:function(){a(l)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};n.exports=c}),
(function(n,r,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var t=i(913),e=i(891),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",u="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",c=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+u+"]"),a=new RegExp("["+o+u+"]");function l(n){var r=c.exec(n);return null==r?null:r[0]}function R(n){var r=l(n);return null==r?t.NEUTRAL:a.exec(r)?t.RTL:t.LTR}function f(n,r){if(r=r||t.NEUTRAL,!n.length)return r;var i=R(n);return i===t.NEUTRAL?r:i}function s(n,r){return r||(r=t.getGlobalDir()),t.isStrong(r)||e(!1),f(n,r)}var L={firstStrongChar:l,firstStrongCharDir:R,resolveBlockDir:f,getDirection:s,isDirectionLTR:function(n,r){return s(n,r)===t.LTR},isDirectionRTL:function(n,r){return s(n,r)===t.RTL}};n.exports=L}),
(function(t,i,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var r=n(914),e=n(913),o=n(891),s=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),i?e.isStrong(i)||o(!1):i=e.getGlobalDir(),this._defaultDir=i,this.reset()}return t.prototype.reset=function(){this._lastDir=this._defaultDir},t.prototype.getDirection=function(t){return this._lastDir=r.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s}),
(function(n,e,r){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */n.exports=function(n){if(null!=n)return n;throw new Error("Got unexpected null or undefined")}}),
(function(e,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorBidiService
 * @format
 * 
 */
"use strict";var r,n=i(879),u=i(915),c=i(916),l=n.OrderedMap,o={getDirectionMap:function(e,t){r?r.reset():r=new u;var i=e.getBlockMap(),o=i.valueSeq().map(function(e){return c(r).getDirection(e.getText())}),a=l(i.keySeq().zip(o));return null!=t&&n.is(t,a)?t:a}};e.exports=o}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorState
 * @format
 * 
 */
"use strict";var r=n(1,1)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(907),i=n(912),c=n(917),a=n(879),u=n(910),l=a.OrderedSet,g=a.Record,s=a.Stack,p=g({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:s(),selection:null,treeMap:null,undoStack:s()}),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(i.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:s(),redoStack:s(),decorator:n||null,selection:u.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:S(n,o),directionMap:c.getDirectionMap(n)});return new e(new p(i))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var c=n.currentContent||t.getCurrentContent();if(i!==r){var a,u=e.get("treeMap");return a=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)}).map(function(t){return o.generate(e,t,r)}))}(c,c.getBlockMap(),u,i,r):S(c,i),void e.merge({decorator:i,treeMap:a,nativelyRenderedContent:null})}c!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),c=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==c.get(t)}).map(function(e){return o.generate(i,e,r)}))}(t,c.getBlockMap(),c.getEntityMap(),i)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return y(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return y(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return d(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),d(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new u({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=c.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),u=t.getCurrentContent(),l=t.getUndoStack(),g=n;a!==u.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(l=l.push(u),g=g.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(g=g.set("selectionBefore",u.getSelectionBefore()));var p=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(p=null);var f={currentContent:g,directionMap:i,undoStack:l,redoStack:s(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,f)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function d(e,t,n){return f.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function S(e,t){return e.getBlockMap().map(function(n){return o.generate(e,n,t)}).toOrderedMap()}function y(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=f}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(884),i=n(879),o=n(902),g=n(891),c=i.OrderedMap,a=i.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t,n,i){"replace"===i&&g(!1);var f=n.getKey(),l=t.getKey();l===f&&g(!1);var y=e.getBlockMap(),K=t instanceof r,s=[t],v=y.delete(l);K&&(s=[],v=y.withMutations(function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===l}).takeWhile(function(e){var t=e.getKey(),i=t===l,o=n&&t!==n,g=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||g)}).forEach(function(t){s.push(t),e.delete(t.getKey())})}));var p=v.toSeq().takeUntil(function(e){return e===n}),b=v.toSeq().skipUntil(function(e){return e===n}).skip(1),d=s.map(function(e){return[e.getKey(),e]}),S=c();if("before"===i){var m=e.getBlockBefore(f);m&&m.getKey()===t.getKey()&&g(!1),S=p.concat([].concat(d,[[f,n]]),b).toOrderedMap()}else if("after"===i){var k=e.getBlockAfter(f);k&&k.getKey()===l&&g(!1),S=p.concat([[f,n]].concat(d),b).toOrderedMap()}return e.merge({blockMap:function(e,t,n,r,i){if(!i)return e;var o="after"===r,g=t.getKey(),c=n.getKey(),f=t.getParentKey(),l=t.getNextSiblingKey(),y=t.getPrevSiblingKey(),K=n.getParentKey(),s=o?n.getNextSiblingKey():c,v=o?c:n.getPrevSiblingKey();return e.withMutations(function(e){u(f,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(g))})}),u(y,e,function(e){return e.merge({nextSibling:l})}),u(l,e,function(e){return e.merge({prevSibling:y})}),u(s,e,function(e){return e.merge({prevSibling:g})}),u(v,e,function(e){return e.merge({nextSibling:g})}),u(K,e,function(e){var t=e.getChildKeys(),n=t.indexOf(c),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,g),e.merge({children:a(i)})}),u(g,e,function(e){return e.merge({nextSibling:s,prevSibling:v,parent:K})})})}(S,t,n,i,K),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule AtomicBlockUtils
 * @format
 * 
 */
"use strict";var o=r(1,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(880),a=r(881),c=r(883),i=r(884),l=r(886),s=r(905),f=r(918),g=r(879),u=(r(910),r(894)),y=r(919),k=l.draft_tree_data_support,v=k?i:c,m=g.List,p=g.Repeat,S={insertAtomicBlock:function(e,t,r){var c=e.getCurrentContent(),i=e.getSelection(),l=s.removeRange(c,i,"backward"),g=l.getSelectionAfter(),y=s.splitBlock(l,g),S=y.getSelectionAfter(),B=s.setBlockType(y,S,"atomic"),d=a.create({entity:t}),b={key:u(),type:"atomic",text:r,characterList:m(p(d,r.length))},h={key:u(),type:"unstyled"};k&&(b=o({},b,{nextSibling:h.key}),h=o({},h,{prevSibling:b.key}));var A=[new v(b),new v(h)],F=n.createFromArray(A),C=s.replaceWithFragment(B,S,F),K=C.merge({selectionBefore:i,selectionAfter:C.getSelectionAfter().set("hasFocus",!0)});return f.push(e,K,"insert-fragment")},moveAtomicBlock:function(e,t,r,o){var n=e.getCurrentContent(),a=e.getSelection(),c=void 0;if("before"===o||"after"===o){var i=n.getBlockForKey("before"===o?r.getStartKey():r.getEndKey());c=y(n,t,i,o)}else{var l=s.removeRange(n,r,"backward"),g=l.getSelectionAfter(),u=l.getBlockForKey(g.getFocusKey());if(0===g.getStartOffset())c=y(l,t,u,"before");else if(g.getEndOffset()===u.getLength())c=y(l,t,u,"after");else{var k=s.splitBlock(l,g),v=k.getSelectionAfter(),m=k.getBlockForKey(v.getFocusKey());c=y(k,t,m,"before")}}var p=c.merge({selectionBefore:a,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return f.push(e,p,"move-block")}};e.exports=S}),
(function(t,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CompositeDraftDecorator
 * @format
 * 
 */
"use strict";var o=n(879).List,e=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this._decorators=r.slice()}return t.prototype.getDecorations=function(t,r){var n=Array(t.getText().length).fill(null);return this._decorators.forEach(function(o,e){var i=0;(0,o.strategy)(t,function(t,r){(function(t,r,n){for(var o=r;o<n;o++)if(null!=t[o])return!1;return!0})(n,t,r)&&(function(t,r,n,o){for(var e=r;e<n;e++)t[e]=o}(n,t,r,e+"."+i),i++)},r)}),o(n)},t.prototype.getComponentForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].component},t.prototype.getPropsForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].props},t}();t.exports=e}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function r(t){return t.replace(/\//g,"-")}t.exports=function(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}}),
(function(e,t,l){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftBlockRenderMap
 * @format
 * 
 */
"use strict";var r=l(879).Map,a=l(3,1),m=l(922),n=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:a.createElement("ul",{className:m("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:a.createElement("ol",{className:m("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:a.createElement("pre",{className:m("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=n}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftInlineStyle
 * @format
 * 
 */
"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),
(function(E,A,P){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */E.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEntityKeyForSelection
 * @format
 * 
 */
"use strict";function r(t,e){return e&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var n;if(e.isCollapsed()){var g=e.getAnchorKey(),l=e.getAnchorOffset();return l>0?(n=t.getBlockForKey(g).getEntityAt(l-1))!==t.getBlockForKey(g).getEntityAt(l)?null:r(t.getEntityMap(),n):null}var i=e.getStartKey(),o=e.getStartOffset(),u=t.getBlockForKey(i);return n=o===u.getLength()?null:u.getEntityAt(o),r(t.getEntityMap(),n)}}),
(function(n,t,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isEventHandled
 * @format
 * 
 */
"use strict";n.exports=function(n){return"handled"===n||!0===n}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isSelectionAtLeafStart
 * @format
 * 
 */
"use strict";t.exports=function(t){var e=t.getSelection(),r=e.getAnchorKey(),n=t.getBlockTree(r),o=e.getStartOffset(),s=!1;return n.some(function(t){return o===t.get("start")?(s=!0,!0):o<t.get("end")&&t.get("leaves").some(function(t){var e=t.get("start");return o===e&&(s=!0,!0)})}),s}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorCompositionHandler
 * @format
 * 
 */
"use strict";var o=n(886),i=n(905),r=n(918),s=n(925),a=n(926),u=n(927),l=n(928),f=!1,c=!1,p="",d={onBeforeInput:function(e,t){p=(p||"")+t.data},onCompositionStart:function(e){c=!0},onCompositionEnd:function(e){f=!1,c=!1,setTimeout(function(){f||d.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!c)return d.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!c){f=!0;var t=p;p="";var n=r.set(e._latestEditorState,{inCompositionMode:!1}),s=n.getCurrentInlineStyle(),d=a(n.getCurrentContent(),n.getSelection()),C=!t||l(n)||s.size>0||null!==d;if(C&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(o.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&u(e.props.handleBeforeInput(t,n)))return;var v=i.replaceText(n.getCurrentContent(),n.getSelection(),t,s,d);e.update(r.push(n,v,"insert-characters"))}else C&&e.update(r.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=d}),
(function(i,s,e){
/*!
 * UAParser.js v0.7.19
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
!function(e,o){"use strict";var r="model",n="name",a="type",d="vendor",t="version",l="mobile",w="tablet",u={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(i,s){for(var e,o,r,n,a,d,t=0;t<s.length&&!a;){var l=s[t],w=s[t+1];for(e=o=0;e<l.length&&!a;)if(a=l[e++].exec(i))for(r=0;r<w.length;r++)d=a[++o],"object"==typeof(n=w[r])&&n.length>0?2==n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,d):this[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=d?d.replace(n[1],n[2]):void 0:this[n[0]]=d?n[1].call(this,d,n[2]):void 0:4==n.length&&(this[n[0]]=d?n[3].call(this,d.replace(n[1],n[2])):void 0):this[n]=d||void 0;t+=2}},str:function(i,s){for(var e in s)if("object"==typeof s[e]&&s[e].length>0){for(var o=0;o<s[e].length;o++)if(u.has(s[e][o],i))return"?"===e?void 0:e}else if(u.has(s[e],i))return"?"===e?void 0:e;return i}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,t],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],t],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],t],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[n,t],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],t],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],t],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],t],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],t],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],t],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],t],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],t],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],t],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],t],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],t],[/(qqbrowserlite)\/([\w\.]+)/i],[n,t],[/(QQ)\/([\d\.]+)/i],[n,t],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,t],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[t,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[t,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,t],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[t,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],t],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],t],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[t,[n,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,t],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],t],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],t],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],t],[/fxios\/([\w\.-]+)/i],[t,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[t,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[t,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[t,c.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,t],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],t],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,t]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,d,[a,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[d,"Apple"],[a,w]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,r,[a,w]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[d,"Amazon"],[a,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,c.str,m.device.amazon.model],[d,"Amazon"],[a,l]],[/android.+aft([bms])\sbuild/i],[r,[d,"Amazon"],[a,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,d,[a,l]],[/\((ip[honed|\s\w*]+);/i],[r,[d,"Apple"],[a,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,r,[a,l]],[/\(bb10;\s(\w+)/i],[r,[d,"BlackBerry"],[a,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[d,"Asus"],[a,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[r,"Xperia Tablet"],[a,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[d,"Sony"],[a,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,r,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[d,"Nvidia"],[a,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[d,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[d,c.str,m.device.sprint.vendor],[r,c.str,m.device.sprint.model],[a,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,r,[a,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[r,/_/g," "],[a,l]],[/(nexus\s9)/i],[r,[d,"HTC"],[a,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[d,"Huawei"],[a,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,r,[a,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[d,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[d,"Microsoft"],[a,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[d,"Motorola"],[a,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[d,"Motorola"],[a,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,u.trim],[r,u.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[d,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[d,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],r,[a,w]],[/smart-tv.+(samsung)/i],[d,[a,"smarttv"],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],r,[a,l]],[/sie-(\w*)/i],[r,[d,"Siemens"],[a,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],r,[a,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[d,"Acer"],[a,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[d,"LG"],[a,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],r,[a,w]],[/(lg) netcast\.tv/i],[d,r,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[d,"LG"],[a,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[d,"Lenovo"],[a,w]],[/linux;.+((jolla));/i],[d,r,[a,l]],[/((pebble))app\/[\d\.]+\s/i],[d,r,[a,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,r,[a,l]],[/crkey/i],[[r,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[d,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[r,[d,"Google"],[a,w]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[r,[d,"Google"],[a,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,l]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[d,"Meizu"],[a,w]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],r,[a,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[d,"OnePlus"],[a,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[d,"RCA"],[a,w]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[d,"Dell"],[a,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[d,"Verizon"],[a,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],r,[a,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[d,"NuVision"],[a,w]],[/android.+;\s(k88)\sbuild/i],[r,[d,"ZTE"],[a,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[d,"Swiss"],[a,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[d,"Swiss"],[a,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[d,"Zeki"],[a,w]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],r,[a,w]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[d,"Insignia"],[a,w]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[d,"NextBook"],[a,w]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],r,[a,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],r,[a,l]],[/android.+;\s(PH-1)\s/i],[r,[d,"Essential"],[a,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[d,"Envizen"],[a,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,r,[a,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[d,"MachSpeed"],[a,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,r,[a,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[d,"Rotor"],[a,w]],[/android.+(KS(.+))\s+build/i],[r,[d,"Amazon"],[a,w]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,r,[a,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,u.lowerize],d,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[t,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,t],[/rv\:([\w\.]{1,9}).+(gecko)/i],[t,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,t],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[t,c.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[t,c.str,m.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],t],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[n,t],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],t],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],t],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,t],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],t],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],t],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,t],[/(haiku)\s(\w+)/i],[n,t],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[t,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[t,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,t]]},p=function(i,s){if("object"==typeof i&&(s=i,i=void 0),!(this instanceof p))return new p(i,s).getResult();var o=i||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=s?u.extend(b,s):b;return this.getBrowser=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.browser),i.major=u.major(i.version),i},this.getCPU=function(){var i={architecture:void 0};return c.rgx.call(i,o,r.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(i,o,r.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(i){return o=i,this},this};p.VERSION="0.7.19",p.BROWSER={NAME:n,MAJOR:"major",VERSION:t},p.CPU={ARCHITECTURE:"architecture"},p.DEVICE={MODEL:r,VENDOR:d,TYPE:a,CONSOLE:"console",MOBILE:l,SMARTTV:"smarttv",TABLET:w,WEARABLE:"wearable",EMBEDDED:"embedded"},p.ENGINE={NAME:n,VERSION:t},p.OS={NAME:n,VERSION:t},void 0!==s?(void 0!==i&&i.exports&&(s=i.exports=p),s.UAParser=p):"function"==typeof define&&define.amd?define(function(){return p}):e&&(e.UAParser=p);var v=e&&(e.jQuery||e.Zepto);if(void 0!==v&&!v.ua){var g=new p;v.ua=g.getResult(),v.ua.get=function(){return g.getUA()},v.ua.set=function(i){g.setUA(i);var s=g.getResult();for(var e in s)v.ua[e]=s[e]}}}("object"==typeof window?window:this)}),
(function(r,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var n=o(930),i="Unknown",s={"Mac OS":"Mac OS X"};var a,t=(new n).getResult(),m=function(r){if(!r)return{major:"",minor:""};var e=r.split(".");return{major:e[0],minor:e[1]}}(t.browser.version),c={browserArchitecture:t.cpu.architecture||i,browserFullVersion:t.browser.version||i,browserMinorVersion:m.minor||i,browserName:t.browser.name||i,browserVersion:t.browser.major||i,deviceName:t.device.model||i,engineName:t.engine.name||i,engineVersion:t.engine.version||i,platformArchitecture:t.cpu.architecture||i,platformName:(a=t.os.name,s[a]||a||i),platformVersion:t.os.version||i,platformFullVersion:t.os.version||i};r.exports=c}),
(function(n,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=t(891),i=/\./,u=/\|\|/,c=/\s+\-\s+/,a=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,o=/^(\d*)(.*)/;function f(n,r){var t=n.split(u);return t.length>1?t.some(function(n){return y.contains(n,r)}):function(n,r){var t=n.split(c);if(t.length>0&&t.length<=2||e(!1),1===t.length)return s(t[0],r);var i=t[0],u=t[1];return m(i)&&m(u)||e(!1),s(">="+i,r)&&s("<="+u,r)}(n=t[0].trim(),r)}function s(n,r){if(""===(n=n.trim()))return!0;var t,e=r.split(i),u=v(n),c=u.modifier,a=u.rangeComponents;switch(c){case"<":return l(e,a);case"<=":return-1===(t=x(e,a))||0===t;case">=":return h(e,a);case">":return function(n,r){return 1===x(n,r)}(e,a);case"~":case"~>":return function(n,r){var t=r.slice(),e=r.slice();e.length>1&&e.pop();var i=e.length-1,u=parseInt(e[i],10);g(u)&&(e[i]=u+1+"");return h(n,t)&&l(n,e)}(e,a);default:return function(n,r){return 0===x(n,r)}(e,a)}}function l(n,r){return-1===x(n,r)}function h(n,r){var t=x(n,r);return 1===t||0===t}function v(n){var r=n.split(i),t=r[0].match(a);return t||e(!1),{modifier:t[1],rangeComponents:[t[2]].concat(r.slice(1))}}function g(n){return!isNaN(n)&&isFinite(n)}function m(n){return!v(n).modifier}function p(n,r){for(var t=n.length;t<r;t++)n[t]="0"}function d(n,r){var t=n.match(o)[1],e=r.match(o)[1],i=parseInt(t,10),u=parseInt(e,10);return g(i)&&g(u)&&i!==u?I(i,u):I(n,r)}function I(n,r){return typeof n!=typeof r&&e(!1),n>r?1:n<r?-1:0}function x(n,r){for(var t=function(n,r){p(n=n.slice(),(r=r.slice()).length);for(var t=0;t<r.length;t++){var e=r[t].match(/^[x*]$/i);if(e&&(r[t]=n[t]="0","*"===e[0]&&t===r.length-1))for(var i=t;i<n.length;i++)n[i]="0"}return p(r,n.length),[n,r]}(n,r),e=t[0],i=t[1],u=0;u<i.length;u++){var c=d(e[u],i[u]);if(c)return c}return 0}var y={contains:function(n,r){return f(n.trim(),r.trim())}};n.exports=y}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=Object.prototype.hasOwnProperty;r.exports=function(r,t,n){if(!r)return null;var o={};for(var a in r)e.call(r,a)&&(o[a]=t.call(n,r[a],a,r));return o}}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @typechecks static-only
 */
"use strict";t.exports=function(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}}),
(function(r,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var t=n(931),i=n(932),u=n(933),o=n(934);function s(r,e,n,t){if(r===n)return!0;if(!n.startsWith(r))return!1;var u=n.slice(r.length);return!!e&&(u=t?t(u):u,i.contains(u,e))}function c(r){return"Windows"===t.platformName?r.replace(/^\s*NT/,""):r}var a={isBrowser:function(r){return s(t.browserName,t.browserFullVersion,r)},isBrowserArchitecture:function(r){return s(t.browserArchitecture,null,r)},isDevice:function(r){return s(t.deviceName,null,r)},isEngine:function(r){return s(t.engineName,t.engineVersion,r)},isPlatform:function(r){return s(t.platformName,t.platformFullVersion,r,c)},isPlatformArchitecture:function(r){return s(t.platformArchitecture,null,r)}};r.exports=u(a,o)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorTextNode.react
 * @format
 * 
 */
"use strict";var r=n(3,1),o=n(7,1),a=n(935),i=n(891),c=a.isBrowser("IE <= 11");var s=c?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),f=c?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),p=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._forceFlag=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){var e=o.findDOMNode(this),n=""===t.children;return e instanceof Element||i(!1),n?!function(t){return c?"\n"===t.textContent:"BR"===t.tagName}(e):e.textContent!==t.children},e.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},e.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},e.prototype.render=function(){return""===this.props.children?this._forceFlag?s:f:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},e}(r.Component);t.exports=p}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftJsDebugLogging
 */
"use strict";t.exports={logSelectionStateFailure:function(){return null}}}),
(function(e,o,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */e.exports=function(e){var o=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof o.Node?e instanceof o.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}}),
(function(e,n,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=t(938);e.exports=function(e){return o(e)&&3==e.nodeType}}),
(function(n,o,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */var e=t(939);n.exports=function n(o,t){return!(!o||!t)&&(o===t||!e(o)&&(e(t)?n(o,t.parentNode):"contains"in o?o.contains(t):!!o.compareDocumentPosition&&!!(16&o.compareDocumentPosition(t))))}}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setDraftEditorSelection
 * @format
 * 
 */
"use strict";var o=n(937),a=n(940),r=n(941),i=n(891);function s(e,t){if(!e)return"[empty]";var n=function e(t,n){var o=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var a=t.textContent.length;return document.createTextNode("[text "+a+(o.length?" | "+o.join(", "):"")+"]")}var r=t.cloneNode();1===r.nodeType&&o.length&&r.setAttribute("data-labels",o.join(", "));var i=t.childNodes;for(var s=0;s<i.length;s++)r.appendChild(e(i[s],n));return r}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||i(!1),n.outerHTML)}function l(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return s(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function c(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function f(e,t,n,i){var s=r();if(e.extend&&a(s,t)){n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(i.toJS())});var f=t===e.focusNode;try{e.extend(t,n)}catch(d){throw o.logSelectionStateFailure({anonymizedDom:l(t,function(t){var n=[];return t===s&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:s?s.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:f,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:d?""+d:null,offset:n},null,2),selectionState:JSON.stringify(i.toJS(),null,2)}),d}}else{var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function u(e,t,n,a){var r=document.createRange();n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())}),r.setStart(t,n),e.addRange(r)}e.exports=function(e,t,n,o,r){if(a(document.documentElement,t)){var i=global.getSelection(),s=e.getAnchorKey(),l=e.getAnchorOffset(),c=e.getFocusKey(),d=e.getFocusOffset(),g=e.getIsBackward();if(!i.extend&&g){var N=s,m=l;s=c,l=d,c=N,d=m,g=!1}var v=s===n&&o<=l&&r>=l,h=c===n&&o<=d&&r>=d;if(v&&h)return i.removeAllRanges(),u(i,t,l-o,e),void f(i,t,d-o,e);if(g){if(h&&(i.removeAllRanges(),u(i,t,d-o,e)),v){var S=i.focusNode,y=i.focusOffset;i.removeAllRanges(),u(i,t,l-o,e),f(i,S,y,e)}}else v&&(i.removeAllRanges(),u(i,t,l-o,e)),h&&f(i,t,d-o,e)}}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorLeaf.react
 * @format
 * 
 */
"use strict";var n=o(1,1);var r=o(936),i=o(3,1),s=o(7,1),a=o(891),c=o(942),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,o=e.block,n=e.start,r=e.text,i=o.getKey(),p=n+r.length;if(t.hasEdgeWithin(i,n,p)){var f=s.findDOMNode(this);f||a(!1);var l=f.firstChild;l||a(!1);var u=void 0;l.nodeType===Node.TEXT_NODE?u=l:"BR"===l.tagName?u=f:(u=l.firstChild)||a(!1),c(t,u,i,n,p)}}},e.prototype.shouldComponentUpdate=function(t){var e=s.findDOMNode(this.leaf);return e||a(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},e.prototype.componentDidUpdate=function(){this._setSelection()},e.prototype.componentDidMount=function(){this._setSelection()},e.prototype.render=function(){var t=this,e=this.props.block,o=this.props.text;o.endsWith("\n")&&this.props.isLast&&(o+="\n");var s=this.props,a=s.customStyleMap,c=s.customStyleFn,p=s.offsetKey,f=s.styleSet,l=f.reduce(function(t,e){var o={},r=a[e];return void 0!==r&&t.textDecoration!==r.textDecoration&&(o.textDecoration=[t.textDecoration,r.textDecoration].join(" ").trim()),n(t,r,o)},{});if(c){var u=c(f,e);l=n(l,u)}return i.createElement("span",{"data-offset-key":p,ref:function(e){return t.leaf=e},style:l},i.createElement(r,null,o))},e}(i.Component);t.exports=p}),
(function(e,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftOffsetKey
 * @format
 * 
 */
"use strict";var n={encode:function(e,r,t){return e+"-"+r+"-"+t},decode:function(e){var r=e.split("-"),t=r[0],n=r[1],o=r[2];return{blockKey:t,decoratorKey:parseInt(n,10),leafKey:parseInt(o,10)}}};e.exports=n}),
(function(o,e,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function n(o,e){return!!e&&(o===e.documentElement||o===e.body)}var l={getTop:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollTop||e.documentElement.scrollTop:o.scrollTop},setTop:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollTop=t.documentElement.scrollTop=e:o.scrollTop=e},getLeft:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollLeft||e.documentElement.scrollLeft:o.scrollLeft},setLeft:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollLeft=t.documentElement.scrollLeft=e:o.scrollLeft=e}};o.exports=l}),
(function(r,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/-(.)/g;r.exports=function(r){return r.replace(n,function(r,t){return t.toUpperCase()})}}),
(function(e,r,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}}),
(function(e,t,u){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var l=u(946),n=u(947);function r(e){return null==e?e:String(e)}e.exports=function(e,t){var u=void 0;if(window.getComputedStyle&&(u=window.getComputedStyle(e,null)))return r(u.getPropertyValue(n(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(u=document.defaultView.getComputedStyle(e,null))return r(u.getPropertyValue(n(t)));if("display"===t)return"none"}return e.currentStyle?r("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[l(t)]):r(e.style&&e.style[l(t)])}}),
(function(r,e,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */function o(r,e){var t=n.get(r,e);return"auto"===t||"scroll"===t}var n={get:t(948),getScrollParent:function(r){if(!r)return null;for(var e=r.ownerDocument;r&&r!==e.body;){if(o(r,"overflow")||o(r,"overflowY")||o(r,"overflowX"))return r;r=r.parentNode}return e.defaultView||e.parentWindow}};r.exports=n}),
(function(t,n,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=e(940);t.exports=function(t){var n=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t&&o(n,t)))return{left:0,right:0,top:0,bottom:0};var e=t.getBoundingClientRect();return{left:Math.round(e.left)-n.clientLeft,right:Math.round(e.right)-n.clientLeft,top:Math.round(e.top)-n.clientTop,bottom:Math.round(e.bottom)-n.clientTop}}}),
(function(t,e,o){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var r=o(950);t.exports=function(t){var e=r(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:o||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o=e(952),i=e(953);t.exports=function(t){var n=o(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=n);var e=i(t),c=t===n?t.ownerDocument.documentElement:t,r=t.scrollWidth-c.clientWidth,l=t.scrollHeight-c.clientHeight;return e.x=Math.max(0,Math.min(e.x,r)),e.y=Math.max(0,Math.min(e.y,l)),e}}),
(function(t,n,e){"use strict";function o(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}
/**
   * Copyright (c) 2013-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *
   * 
   * @typechecks
   */function i(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function d(){return{width:window.innerWidth||o(),height:window.innerHeight||i()}}d.withoutScrollbars=function(){return{width:o(),height:i()}},t.exports=d}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorBlock.react
 * @format
 * 
 */
"use strict";var r=o(1,1)||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};var n=o(943),i=o(944),s=o(3,1),c=o(7,1),l=o(945),p=o(949),f=o(914),a=o(913),u=o(922),y=o(951),b=o(954),d=o(955),h=o(891),g=o(916),m=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||m(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var o=c.findDOMNode(this),r=p.getScrollParent(o),n=b(r),i=void 0;if(r===window){var s=y(o);(i=s.y+s.height-d().height)>0&&window.scrollTo(n.x,n.y+i+10)}else{o instanceof HTMLElement||h(!1),(i=o.offsetHeight+o.offsetTop-(r.offsetHeight+n.y))>0&&l.setTop(r,l.getTop(r)+i+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,o=t.getKey(),c=t.getText(),l=this.props.tree.size-1,p=m(this.props.selection,o);return this.props.tree.map(function(u,y){var b=u.get("leaves"),d=b.size-1,h=b.map(function(r,f){var a=i.encode(o,y,f),u=r.get("start"),b=r.get("end");return s.createElement(n,{key:a,offsetKey:a,block:t,start:u,selection:p?e.props.selection:null,forceSelection:e.props.forceSelection,text:c.slice(u,b),styleSet:t.getInlineStyleAt(u),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:y===l&&f===d})}).toArray(),m=u.get("decoratorKey");if(null==m)return h;if(!e.props.decorator)return h;var v=g(e.props.decorator),S=v.getComponentForKey(m);if(!S)return h;var j=v.getPropsForKey(m),D=i.encode(o,y,0),w=c.slice(b.first().get("start"),b.last().get("end")),K=a.getHTMLDirIfDifferent(f.getDirection(w),e.props.direction);return s.createElement(S,r({},j,{contentState:e.props.contentState,decoratedText:w,dir:K,key:D,entityKey:t.getEntityAt(u.get("start")),offsetKey:D}),h)}).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,o=e.offsetKey,r=u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return s.createElement("div",{"data-offset-key":o,className:r},this._renderChildren())},t}(s.Component);e.exports=v}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks static-only
 */
"use strict";r.exports=function(r){r||(r="");var t=void 0,n=arguments.length;if(n>1)for(var i=1;i<n;i++)(t=arguments[i])&&(r=(r?r+" ":"")+t);return r}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents-core.react
 * @format
 * 
 */
"use strict";var o=r(1,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var n=r(956),l=r(944),a=(r(918),r(3,1)),i=r(922),c=r(957),p=r(916),u=function(e,t,r,o){return i({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===o,"public/DraftStyleDefault/listRTL":"RTL"===o})},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var o=r.getNativelyRenderedContent(),n=t.isInCompositionMode(),l=r.isInCompositionMode();if(t===r||null!==o&&r.getCurrentContent()===o||n&&l)return!1;var a=t.getCurrentContent(),i=r.getCurrentContent(),c=t.getDecorator(),p=r.getDecorator();return n!==l||a!==i||c!==p||r.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,i=e.blockStyleFn,s=e.customStyleMap,f=e.customStyleFn,d=e.editorState,y=e.editorKey,b=e.textDirectionality,g=d.getCurrentContent(),h=d.getSelection(),D=d.mustForceSelection(),m=d.getDecorator(),S=p(d.getDirectionMap()),v=g.getBlocksAsArray(),k=[],w=null,C=null,T=0;T<v.length;T++){var E=v[T],j=E.getKey(),F=E.getType(),M=r(E),O=void 0,R=void 0,K=void 0;M&&(O=M.component,R=M.props,K=M.editable);var L=b||S.get(j),x=l.encode(j,0,0),I={contentState:g,block:E,blockProps:R,blockStyleFn:i,customStyleMap:s,customStyleFn:f,decorator:m,direction:L,forceSelection:D,key:j,offsetKey:x,selection:h,tree:d.getBlockTree(j)},P=t.get(F)||t.get("unstyled"),_=P.wrapper,B=P.element||t.get("unstyled").element,A=E.getDepth(),H="";if(i&&(H=i(E)),"li"===B)H=c(H,u(F,A,C!==_||null===w||A>w,L));var N=O||n,U={className:H,"data-block":!0,"data-editor":y,"data-offset-key":x,key:j};void 0!==K&&(U=o({},U,{contentEditable:K,suppressContentEditableWarning:!0}));var W=a.createElement(B,U,a.createElement(N,I));k.push({block:W,wrapperTemplate:_,key:j,offsetKey:x}),w=_?E.getDepth():null,C=_}for(var q=[],z=0;z<k.length;){var G=k[z];if(G.wrapperTemplate){var J=[];do{J.push(k[z].block),z++}while(z<k.length&&k[z].wrapperTemplate===G.wrapperTemplate);var Q=a.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},J);q.push(Q)}else q.push(G.block),z++}return a.createElement("div",{"data-contents":"true"},q)},t}(a.Component);e.exports=s}),
(function(t,r,e){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents.react
 * @format
 * 
 */
"use strict";var o=e(958);t.exports=o}),
(function(e,n,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */var i={isImage:function(e){return"image"===r(e)[0]},isJpeg:function(e){var n=r(e);return i.isImage(e)&&("jpeg"===n[1]||"pjpeg"===n[1])}};function r(e){return e.split("/")}e.exports=i}),
(function(r,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e(891);r.exports=function(r){return function(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}(r)?Array.isArray(r)?r.slice():function(r){var t=r.length;if((Array.isArray(r)||"object"!=typeof r&&"function"!=typeof r)&&n(!1),"number"!=typeof t&&n(!1),0===t||t-1 in r||n(!1),"function"==typeof r.callee&&n(!1),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(o){}for(var e=Array(t),i=0;i<t;i++)e[i]=r[i];return e}(r):[r]}}),
(function(t,e,i){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
var a=i(960),n=i(961),s=i(906),r=new RegExp("\r\n","g"),o={"text/rtf":1,"text/html":1};function h(t){if("file"==t.kind)return t.getAsFile()}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.types=e.types?n(e.types):[]}return t.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return o[t]})},t.prototype.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(r,"\n"):null},t.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.prototype.isLink=function(){return this.types.some(function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")})},t.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.prototype.isImage=function(){var t=this.types.some(function(t){return-1!=t.indexOf("application/x-moz-file")});if(t)return!0;for(var e=this.getFiles(),i=0;i<e.length;i++){var n=e[i].type;if(!a.isImage(n))return!1}return!0},t.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(h).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.prototype.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=u}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSelectionOffsetKeyForNode
 * @format
 * 
 */
"use strict";t.exports=function t(e){if(e instanceof Element){var r=e.getAttribute("data-offset-key");if(r)return r;for(var n=0;n<e.childNodes.length;n++){var i=t(e.childNodes[n]);if(i)return i}}return null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findAncestorOffsetKey
 * @format
 * 
 */
"use strict";var r=n(963);e.exports=function(e){for(var t=e;t&&t!==document.documentElement;){var n=r(t);if(null!=n)return n;t=t.parentNode}return null}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getTextContentFromFiles
 * @format
 * 
 */
"use strict";var i=n(891),r=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0},o=5e3;e.exports=function(e,t){var n=0,l=[];e.forEach(function(f){!function(e,t){if(global.FileReader&&(!e.type||e.type in a)){if(""===e.type){var n="";return r.test(e.name)&&(n=e.name.replace(r,"")),void t(n)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!=typeof e&&i(!1),t(e)},o.onerror=function(){t("")},o.readAsText(e)}else t("")}(f,function(i){n++,i&&l.push(i.slice(0,o)),n==e.length&&t(l.join("\r"))})})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getUpdatedSelectionState
 * @format
 * 
 */
"use strict";var o=r(944),n=r(916);e.exports=function(e,t,r,c,f){var s=n(e.getSelection()),l=o.decode(t),a=l.blockKey,g=e.getBlockTree(a).getIn([l.decoratorKey,"leaves",l.leafKey]),u=o.decode(c),i=u.blockKey,y=e.getBlockTree(i).getIn([u.decoratorKey,"leaves",u.leafKey]),K=g.get("start"),d=y.get("start"),k=g?K+r:null,v=y?d+f:null;if(s.getAnchorKey()===a&&s.getAnchorOffset()===k&&s.getFocusKey()===i&&s.getFocusOffset()===v)return s;var h=!1;if(a===i){var O=g.get("end"),b=y.get("end");h=d===K&&b===O?f<r:d<K}else h=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===a||e===i}).first()===i;return s.merge({anchorKey:a,anchorOffset:k,focusKey:i,focusOffset:v,isBackward:h})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorDragHandler
 * @format
 * 
 */
"use strict";var r=n(962),a=n(905),i=n(918),o=n(964),l=n(965),u=n(966),s=n(927),f=n(916);var p={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),p=e._latestEditorState,g=function(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var a=document.caretRangeFromPoint(e.x,e.y);n=a.startContainer,r=a.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=f(n),r=f(r);var i=f(o(n));return u(t,i,r,i,r)}(t.nativeEvent,p);if(t.preventDefault(),e.exitCurrentMode(),null!=g){var v=n.getFiles();if(v.length>0){if(e.props.handleDroppedFiles&&s(e.props.handleDroppedFiles(g,v)))return;l(v,function(t){t&&e.update(d(p,g,t))})}else{var c=e._internalDrag?"internal":"external";e.props.handleDrop&&s(e.props.handleDrop(g,n,c))||(e._internalDrag?e.update(function(e,t){var n=a.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,n,"insert-fragment")}(p,g)):e.update(d(p,g,n.getText())))}}}};function d(e,t,n){var r=a.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return i.push(e,r,"insert-fragment")}e.exports=p}),
(function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,a,s,o,c,i=1,r={},f=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){g(e.data)},n=function(e){s.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(a=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(g,0,e)}:(o="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&g(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),n=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return r[i]=s,n(i),i++},u.clearImmediate=d}function d(e){delete r[e]}function g(e){if(f)setTimeout(g,0,e);else{var n=r[e];if(n){f=!0;try{!function(e){var n=e.callback,a=e.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(t,a)}}(n)}finally{d(e),f=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)}),
(function(e,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";i(968),e.exports=global.setImmediate}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBeforeInput
 * @format
 * 
 */
"use strict";var r=n(907),o=n(905),i=n(918),a=n(935),d=n(926),f=n(927),l=n(928),p=n(916),g=n(969),u="'",s="/",c=a.isBrowser("Firefox");function S(e,t,n,r){var a=o.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return i.push(e,a,"insert-characters")}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,o=t.data;if(o)if(e.props.handleBeforeInput&&f(e.props.handleBeforeInput(o,n)))t.preventDefault();else{var a=n.getSelection(),v=a.getStartOffset(),C=a.getEndOffset(),m=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void(o===n.getCurrentContent().getPlainText().slice(v,C)?e.update(i.forceSelection(n,a.merge({focusOffset:C}))):e.update(S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection()))));var B,I=S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection())),h=!1;if(h||(h=l(e._latestCommittedEditorState)),!h){var F=global.getSelection();if(F.anchorNode&&F.anchorNode.nodeType===Node.TEXT_NODE){var T=F.anchorNode.parentNode;h="SPAN"===T.nodeName&&T.firstChild.nodeType===Node.TEXT_NODE&&-1!==T.firstChild.nodeValue.indexOf("\t")}}if(h||(h=r.getFingerprint(n.getBlockTree(m))!==r.getFingerprint(I.getBlockTree(m))),h||(B=o,h=c&&(B==u||B==s)),h||(h=p(I.getDirectionMap()).get(m)!==p(n.getDirectionMap()).get(m)),h)return t.preventDefault(),void e.update(I);I=i.set(I,{nativelyRenderedContent:I.getCurrentContent()}),e._pendingStateFromBeforeInput=I,g(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBlur
 * @format
 * 
 */
"use strict";var n=o(918),a=o(940),r=o(941);e.exports=function(e,t){if(r()===document.body){var o=global.getSelection(),s=e.editor;1===o.rangeCount&&a(s,o.anchorNode)&&a(s,o.focusNode)&&o.removeAllRanges()}var c=e._latestEditorState,i=c.getSelection();if(i.getHasFocus()){var l=i.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(c,l))}}}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCompositionStart
 * @format
 * 
 */
"use strict";var i=e(918);t.exports=function(t,o){t.setMode("composite"),t.update(i.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(o)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getFragmentFromSelection
 * @format
 * 
 */
"use strict";var r=n(897);t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:r(t.getCurrentContent(),e)}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCopy
 * @format
 * 
 */
"use strict";var a=o(973);t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(a(t._latestEditorState))}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCut
 * @format
 * 
 */
"use strict";var o=r(905),i=r(918),n=r(949),a=r(973),l=r(954);e.exports=function(e,t){var r=e._latestEditorState,s=r.getSelection(),u=t.target,c=void 0;if(s.isCollapsed())t.preventDefault();else{u instanceof Node&&(c=l(n.getScrollParent(u)));var d=a(r);e.setClipboard(d),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(c),e.exitCurrentMode(),e.update(function(e){var t=o.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(r))},0)}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragOver
 * @format
 * 
 */
"use strict";t.exports=function(t,e){t._internalDrag=!1,t.setMode("drag"),e.preventDefault()}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragStart
 * @format
 * 
 */
"use strict";t.exports=function(t){t._internalDrag=!0,t.setMode("drag")}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnFocus
 * @format
 * 
 */
"use strict";var s=o(918),r=o(935);t.exports=function(t,e){var o=t._latestEditorState,c=o.getSelection();if(!c.getHasFocus()){var a=c.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),r.isBrowser("Chrome < 60.0.3081.0")?t.update(s.forceSelection(o,a)):t.update(s.acceptSelection(o,a))}}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnInput
 * @format
 * 
 */
"use strict";var o=n(886),r=n(905),i=n(944),l=n(918),f=n(935),a=n(964),s=n(916),d=f.isEngine("Gecko"),g="\n\n";e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=global.getSelection(),n=t.anchorNode,f=t.isCollapsed,c=n.nodeType!==Node.TEXT_NODE,u=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.ELEMENT_NODE;if(o.draft_killswitch_allow_nontextnodes){if(c)return}else if(u)return;if(n.nodeType===Node.TEXT_NODE&&(null!==n.previousSibling||null!==n.nextSibling)){var p=n.parentNode;n.nodeValue=p.textContent;for(var E=p.firstChild;null!==E;E=E.nextSibling)E!==n&&p.removeChild(E)}var y=n.textContent,h=e._latestEditorState,T=s(a(n)),O=i.decode(T),v=O.blockKey,S=O.decoratorKey,b=O.leafKey,N=h.getBlockTree(v).getIn([S,"leaves",b]),_=N.start,m=N.end,x=h.getCurrentContent(),A=x.getBlockForKey(v),B=A.getText().slice(_,m);if(y.endsWith(g)&&(y=y.slice(0,-1)),y!==B){var k,C,D,F,K=h.getSelection(),M=K.merge({anchorOffset:_,focusOffset:m,isBackward:!1}),I=A.getEntityAt(_),w=I&&x.getEntity(I),X="MUTABLE"===(w&&w.getMutability()),j=X?"spellcheck-change":"apply-entity",L=r.replaceText(x,M,y,A.getInlineStyleAt(_),X?A.getEntityAt(_):null);if(d)k=t.anchorOffset,C=t.focusOffset,F=(D=_+Math.min(k,C))+Math.abs(k-C),k=D,C=F;else{var U=y.length-B.length;D=K.getStartOffset(),F=K.getEndOffset(),k=f?F+U:D,C=F+U}var G=L.merge({selectionBefore:x.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:k,focusOffset:C})});e.update(l.push(h,G,j))}}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule KeyBindingUtil
 * @format
 * 
 */
"use strict";var r=n(935).isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return r&&t.altKey},hasCommandModifier:function(t){return r?!!t.metaKey&&!t.altKey:i.isCtrlKeyCommand(t)}};t.exports=i}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SecondaryClipboard
 * @format
 * 
 */
"use strict";var n=r(905),o=r(918),a=r(897),u=r(916),f=null,i={cut:function(e){var t=e.getCurrentContent(),r=e.getSelection(),i=null;if(r.isCollapsed()){var s=r.getAnchorKey(),g=t.getBlockForKey(s).getLength();if(g===r.getAnchorOffset())return e;i=r.set("focusOffset",g)}else i=r;i=u(i),f=a(t,i);var l=n.removeRange(t,i,"forward");return l===t?e:o.push(e,l,"remove-range")},paste:function(e){if(!f)return e;var t=n.replaceWithFragment(e.getCurrentContent(),e.getSelection(),f);return o.push(e,t,"insert-fragment")}};e.exports=i}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var e=n(891),u=55296,i=56319,o=56320,a=57343,f=/[\uD800-\uDFFF]/;function s(r){return u<=r&&r<=a}function g(r){return f.test(r)}function c(r,t){return 1+s(r.charCodeAt(t))}function h(r,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!g(r))return r.substr(t,n);var e=r.length;if(e<=0||t>e||n<=0)return"";var u=0;if(t>0){for(;t>0&&u<e;t--)u+=c(r,u);if(u>=e)return""}else if(t<0){for(u=e;t<0&&0<u;t++)u-=c(r,u-1);u<0&&(u=0)}var i=e;if(n<e)for(i=u;n>0&&i<e;n--)i+=c(r,i);return r.substring(u,i)}var v={getCodePoints:function(r){for(var t=[],n=0;n<r.length;n+=c(r,n))t.push(r.codePointAt(n));return t},getUTF16Length:c,hasSurrogateUnit:g,isCodeUnitInSurrogateRange:s,isSurrogatePair:function(r,t){if(0<=t&&t<r.length||e(!1),t+1===r.length)return!1;var n=r.charCodeAt(t),f=r.charCodeAt(t+1);return u<=n&&n<=i&&o<=f&&f<=a},strlen:function(r){if(!g(r))return r.length;for(var t=0,n=0;n<r.length;n+=c(r,n))t++;return t},substring:function(r,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var e=Math.abs(n-t);return h(r,t=t<n?t:n,e)},substr:h};r.exports=v}),
(function(r,t,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeClientRects
 * @format
 * 
 */
"use strict";var n=e(935),a=e(891);var o=n.isBrowser("Chrome")?function(r){for(var t=r.cloneRange(),e=[],n=r.endContainer;null!=n;n=n.parentNode){var o=n===r.commonAncestorContainer;o?t.setStart(r.startContainer,r.startOffset):t.setStart(t.endContainer,0);var s,i=Array.from(t.getClientRects());if(e.push(i),o)return e.reverse(),(s=[]).concat.apply(s,e);t.setEndBefore(n)}a(!1)}:function(r){return Array.from(r.getClientRects())};r.exports=o}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule expandRangeToStartOfLine
 * @format
 * 
 */var o=n(982),a=n(983),i=n(891);function r(t,e){for(var n=1/0,o=1/0,a=-1/0,i=-1/0,r=0;r<t.length;r++){var l=t[r];0!==l.width&&1!==l.width&&(n=Math.min(n,l.top),o=Math.min(o,l.bottom),a=Math.max(a,l.top),i=Math.max(i,l.bottom))}return a<=o&&a-n<e&&i-o<e}function l(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||i(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var n=function(t){var e=getComputedStyle(t),n=document.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M";var o=document.body;o||i(!1),o.appendChild(n);var a=n.getBoundingClientRect();return o.removeChild(n),a.height}(e),s=t.endContainer,d=t.endOffset;for(t.setStart(t.startContainer,0);r(a(t),n)&&(s=t.startContainer,d=t.startOffset,s.parentNode||i(!1),t.setStartBefore(s),1!==s.nodeType||"inline"===getComputedStyle(s).display););for(var f=s,c=d-1;;){for(var h=f.nodeValue,u=c;u>=0;u--)if(!(null!=h&&u>0&&o.isSurrogatePair(h,u-1))){if(t.setStart(f,u),!r(a(t),n))break;s=f,d=u}if(-1===u||0===f.childNodes.length)break;c=l(f=f.childNodes[u])}return t.setStart(s,d),t}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelectionWithNodes
 * @format
 * 
 */
"use strict";var l=n(964),i=n(963),r=n(966),f=n(891),s=n(916);function o(e,t,n){var r=t,o=l(r);if(null!=o||e&&(e===r||e.firstChild===r)||f(!1),e===r&&((r=r.firstChild)instanceof Element&&"true"===r.getAttribute("data-contents")||f(!1),n>0&&(n=r.childNodes.length)),0===n){var a=null;if(null!=o)a=o;else{var u=function(e){for(;e.firstChild&&(e.firstChild instanceof Element&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(r);a=s(i(u))}return{key:a,offset:0}}var c=r.childNodes[n-1],h=null,C=null;if(i(c)){var v=function(e){for(;e.lastChild&&(e.lastChild instanceof Element&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(c);h=s(i(v)),C=d(v)}else h=s(o),C=d(c);return{key:h,offset:C}}function d(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,f,d){var a=n.nodeType===Node.TEXT_NODE,u=f.nodeType===Node.TEXT_NODE;if(a&&u)return{selectionState:r(e,s(l(n)),i,s(l(f)),d),needsRecovery:!1};var c=null,h=null,C=!0;return a?(c={key:s(l(n)),offset:i},h=o(t,f,d)):u?(h={key:s(l(f)),offset:d},c=o(t,n,i)):(c=o(t,n,i),h=o(t,f,d),n===f&&i===d&&(C=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:r(e,c.key,c.offset,h.key,h.offset),needsRecovery:C}}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionBackward
 * @format
 * 
 */
"use strict";e.exports=function(e,t){var r=e.getSelection(),n=e.getCurrentContent(),f=r.getStartKey(),o=r.getStartOffset(),g=f,s=0;if(t>o){var c=n.getKeyBefore(f);null==c?g=f:(g=c,s=n.getBlockForKey(c).getText().length)}else s=o-t;return r.merge({focusKey:g,focusOffset:s,isBackward:!0})}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeTextWithStrategy
 * @format
 * 
 */
"use strict";var r=n(905);t.exports=function(t,e,n){var i=t.getSelection(),o=t.getCurrentContent(),f=i;if(i.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return o}else if(t.isSelectionAtStartOfContent())return o;if((f=e(t))===i)return o}return r.removeRange(o,f,n)}}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceToStartOfLine
 * @format
 * 
 */
"use strict";var r=n(918),a=n(984),o=n(985),i=n(986),s=n(987);t.exports=function(t){var e=s(t,function(t){var e=t.getSelection();if(e.isCollapsed()&&0===e.getAnchorOffset())return i(t,1);var n=global.getSelection().getRangeAt(0);return n=a(n),o(t,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState},"backward");return e===t.getCurrentContent()?t:r.push(t,e,"remove-range")}}),
(function(t,n,u){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * @stub
 * 
 */
"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftRemovableWord
 * @format
 * 
 */
"use strict";var r="\\s|(?![_])"+t(989).getPunctuation(),u=new RegExp("^(?:"+r+")*(?:['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),c=new RegExp("(?:(?!"+r+").)(?:['‘’]|(?!"+r+").)*(?:"+r+")*$");function i(e,n){var t=n?c.exec(e):u.exec(e);return t?t[0]:e}var o={getBackward:function(e){return i(e,!0)},getForward:function(e){return i(e,!1)}};e.exports=o}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceWord
 * @format
 * 
 */
"use strict";var n=r(990),a=r(918),o=r(986),c=r(987);t.exports=function(t){var e=c(t,function(t){var e=t.getSelection(),r=e.getStartOffset();if(0===r)return o(t,1);var a=e.getStartKey(),c=t.getCurrentContent().getBlockForKey(a).getText().slice(0,r),g=n.getBackward(c);return o(t,g.length||1)},"backward");return e===t.getCurrentContent()?t:a.push(t,e,"remove-range")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionForward
 * @format
 * 
 */
"use strict";t.exports=function(t,e){var r,n=t.getSelection(),f=n.getStartKey(),g=n.getStartOffset(),o=t.getCurrentContent(),c=f;return e>o.getBlockForKey(f).getText().length-g?(c=o.getKeyAfter(f),r=0):r=g+e,n.merge({focusKey:c,focusOffset:r})}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandDeleteWord
 * @format
 * 
 */
"use strict";var o=r(990),n=r(918),a=r(992),g=r(987);t.exports=function(t){var e=g(t,function(t){var e=t.getSelection(),r=e.getStartOffset(),n=e.getStartKey(),g=t.getCurrentContent().getBlockForKey(n).getText().slice(r),i=o.getForward(g);return a(t,i.length||1)},"forward");return e===t.getCurrentContent()?t:n.push(t,e,"remove-range")}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandInsertNewline
 * @format
 * 
 */
"use strict";var i=r(905),n=r(918);t.exports=function(t){var e=i.splitBlock(t.getCurrentContent(),t.getSelection());return n.push(t,e,"split-block")}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToEndOfBlock
 * @format
 * 
 */
"use strict";var o=n(918);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent().getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r,isBackward:!1}),forceSelection:!0})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToStartOfBlock
 * @format
 * 
 */
"use strict";var c=r(918);e.exports=function(e){var t=e.getSelection(),r=t.getStartKey();return c.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainBackspace
 * @format
 * 
 */
"use strict";var n=r(918),o=r(982),c=r(986),a=r(987);e.exports=function(e){var t=a(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),a=t.getAnchorOffset(),i=r.getBlockForKey(n).getText()[a-1];return c(e,i?o.getUTF16Length(i,0):1)},"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainDelete
 * @format
 * 
 */
"use strict";var n=r(918),o=r(982),i=r(992),c=r(987);e.exports=function(e){var t=c(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),c=t.getAnchorOffset(),a=r.getBlockForKey(n).getText()[c];return i(e,a?o.getUTF16Length(a,0):1)},"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandTransposeCharacters
 * @format
 * 
 */
"use strict";var n=r(905),f=r(918),o=r(897);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(0===r)return e;var a,c,s=t.getAnchorKey(),g=e.getCurrentContent(),i=g.getBlockForKey(s).getLength();if(i<=1)return e;r===i?(a=t.set("anchorOffset",r-1),c=t):c=(a=t.set("focusOffset",r+1)).set("anchorOffset",r+1);var u=o(g,a),h=n.removeRange(g,a,"backward"),l=h.getSelectionAfter(),O=l.getAnchorOffset()-1,v=l.merge({anchorOffset:O,focusOffset:O}),m=n.replaceWithFragment(h,v,u),p=f.push(e,m,"insert-fragment");return f.acceptSelection(p,c)}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandUndo
 * @format
 * 
 */
"use strict";var r=n(918);e.exports=function(e,t,n){var a=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(a)},0)):n(a);else{var o=a.getCurrentContent();n(r.set(a,{nativelyRenderedContent:o}))}}}),
(function(e,r,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnKeyDown
 * @format
 * 
 */
"use strict";var n=o(905),t=o(918),a=o(980),s=o(925),c=o(981),p=o(935),d=o(927),i=o(988),u=o(991),l=o(993),m=o(994),f=o(995),k=o(996),v=o(997),C=o(998),y=o(999),w=o(1000),h=a.isOptionKeyCommand,b=p.isBrowser("Chrome");e.exports=function(e,r){var o=r.which,a=e._latestEditorState;switch(o){case s.RETURN:if(r.preventDefault(),e.props.handleReturn&&d(e.props.handleReturn(r,a)))return;break;case s.ESC:return r.preventDefault(),void(e.props.onEscape&&e.props.onEscape(r));case s.TAB:return void(e.props.onTab&&e.props.onTab(r));case s.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(r));case s.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(r));case s.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(r));case s.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(r));case s.SPACE:if(b&&h(r)){r.preventDefault();var p=n.replaceText(a.getCurrentContent(),a.getSelection()," ");return void e.update(t.push(a,p,"insert-characters"))}}var A=e.props.keyBindingFn(r);if(A)if("undo"!==A){if(r.preventDefault(),!e.props.handleKeyCommand||!d(e.props.handleKeyCommand(A,a))){var T=function(e,r){switch(e){case"redo":return t.redo(r);case"delete":return C(r);case"delete-word":return l(r);case"backspace":return v(r);case"backspace-word":return u(r);case"backspace-to-start-of-line":return i(r);case"split-block":return m(r);case"transpose-characters":return y(r);case"move-selection-to-start-of-block":return k(r);case"move-selection-to-end-of-block":return f(r);case"secondary-cut":return c.cut(r);case"secondary-paste":return c.paste(r);default:return r}}(A,a);T!==a&&e.update(T)}}else w(r,a,e.update)}}),
(function(t,n,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */
"use strict";var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._uri=n}return t.prototype.toString=function(){return this._uri},t}();t.exports=r}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSafeBodyFromHTML
 * @format
 * 
 */
"use strict";var m=t(935),o=t(891),i=m.isBrowser("IE <= 9");e.exports=function(e){var n,t=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((n=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),n.documentElement.innerHTML=e,t=n.getElementsByTagName("body")[0]),t}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromHTMLToContentBlocks
 * @format
 * 
 */
"use strict";var r,i=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1,1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(881),s=n(883),c=n(884),u=n(923),f=n(909),d=n(886),p=n(879),h=n(879).Set,y=n(1002),v=n(922),g=n(894),m=n(1003),x=n(891),b=n(911),k=d.draft_tree_data_support,E=p.List,L=p.OrderedSet,M=new RegExp("\r","g"),T=new RegExp("\n","g"),D=new RegExp("&nbsp;","g"),R=new RegExp("&#13;?","g"),O=new RegExp("&#8203;?","g"),S=["bold","bolder","500","600","700","800","900"],w=["light","lighter","100","200","300","400"],I={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},A=(a(r={},v("public/DraftStyleDefault/depth0"),0),a(r,v("public/DraftStyleDefault/depth1"),1),a(r,v("public/DraftStyleDefault/depth2"),2),a(r,v("public/DraftStyleDefault/depth3"),3),a(r,v("public/DraftStyleDefault/depth4"),4),r),B=["className","href","rel","target","title"],C=["alt","className","height","src","width"],H=void 0,N={text:"",inlines:[],entities:[],blocks:[]},U={children:E(),depth:0,key:"",type:""},K=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},j=function(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}return null}(e,t,[K])||"unstyled"}},_=function(e,t,n){var r=e.text.slice(-1),i=t.text.slice(0,1);if("\r"!==r||"\r"!==i||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(" "===t.text||"\n"===t.text)return e;" "!==i&&"\n"!==i||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},G=function(e){e instanceof HTMLAnchorElement||x(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},F=function(){return i({},N,{text:"\n",inlines:[L()],entities:new Array(1)})},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[L()],entities:new Array(1),blocks:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i({},U,e)}({parent:n,key:g(),type:e,depth:Math.max(0,Math.min(4,t))})]}},q=function e(t,n,r,l,a,o,s,c,u,d){var p=H,h=n.nodeName.toLowerCase(),v=t,g="unstyled",m=!1,x=a&&j(a,l,c),b=i({},N),E=void 0;if("#text"===h){var M=n.textContent,D=M.trim();if(l&&""===D&&n.parentElement){var R=n.parentElement.nodeName.toLowerCase();if("ol"===R||"ul"===R)return{chunk:i({},N),entityMap:t}}return""===D&&"pre"!==a?{chunk:function(e){var t=new Array(1);return e&&(t[0]=e),i({},N,{text:" ",inlines:[L()],entities:t})}(u),entityMap:t}:("pre"!==a&&(M=M.replace(T," ")),H=h,{chunk:{text:M,inlines:Array(M.length).fill(r),entities:Array(M.length).fill(u),blocks:[]},entityMap:t})}if(H=h,"br"===h)return"br"!==p||a&&"unstyled"!==x?{chunk:F(),entityMap:t}:{chunk:P("unstyled",s,d),entityMap:t};if("img"===h&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var O=n,U={};C.forEach(function(e){var t=O.getAttribute(e);t&&(U[e]=t)}),n.textContent="📷",u=f.__create("IMAGE","MUTABLE",U||{})}r=function(e,t,n){var r=I[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var i=t;n=n.withMutations(function(e){var t=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;S.indexOf(t)>=0?e.add("BOLD"):w.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n}(h,n,r),"ul"!==h&&"ol"!==h||(l&&(s+=1),l=h),!k&&"li"===h&&n instanceof HTMLElement&&(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(A).some(function(n){e.classList.contains(n)&&(t=A[n])}),t}(n,s));var K=j(h,l,c),q=l&&"li"===a&&"li"===h,z=(!a||k)&&-1!==o.indexOf(h);(q||z)&&(E=(b=P(K,s,d)).blocks[0].key,a=h,m=!k),q&&(g="ul"===l?"unordered-list-item":"ordered-list-item");var W=n.firstChild;null!=W&&(h=W.nodeName.toLowerCase());for(var J=null;W;){W instanceof HTMLAnchorElement&&W.href&&G(W)?function(){var e=W,t={};B.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new y(e.href).toString(),J=f.__create("LINK","MUTABLE",t||{})}():J=void 0;var Q=e(v,W,r,l,a,o,s,c,J||u,k?E:null),V=Q.chunk;v=Q.entityMap,b=_(b,V,k);var X=W.nextSibling;!d&&X&&o.indexOf(h)>=0&&a&&(b=_(b,F())),X&&(h=X.nodeName.toLowerCase()),W=X}return m&&(b=_(b,P(g,s,d))),{chunk:b,entityMap:v}},z=function(e,t,n,r){e=e.trim().replace(M,"").replace(D," ").replace(R,"").replace(O,"");var l=function(e){var t=e.get("unstyled").element,n=h([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),a=t(e);if(!a)return null;H=null;var o=function(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,l)?l:["div"],s=q(r,a,L(),"ul",null,o,-1,n),c=s.chunk,u=s.entityMap;return 0===c.text.indexOf("\r")&&(c={text:c.text.slice(1),inlines:c.inlines.slice(1),entities:c.entities.slice(1),blocks:c.blocks}),"\r"===c.text.slice(-1)&&(c.text=c.text.slice(0,-1),c.inlines=c.inlines.slice(0,-1),c.entities=c.entities.slice(0,-1),c.blocks.pop()),0===c.blocks.length&&c.blocks.push(i({},N,{type:"unstyled",depth:0})),c.text.split("\r").length===c.blocks.length+1&&c.blocks.unshift({type:"unstyled",depth:0}),{chunk:c,entityMap:u}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=z(e,t,n,f);if(null==r)return null;var i=r.chunk,l=r.entityMap;return{contentBlocks:function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t=0,n=e.blocks,r=e.inlines,i=e.entities,l=k?c:s;return e.text.split("\r").reduce(function(e,a,s){a=b(a);var u=n[s],f=t+a.length,d=r.slice(t,f),p=i.slice(t,f),h=E(d.map(function(e,t){var n={style:e,entity:null};return p[t]&&(n.entity=p[t]),o.create(n)}));t=f+1;var y=u.depth,v=u.type,m=u.parent,x=u.key||g(),k=null;if(m){var L=e.cacheRef[m],M=e.contentBlocks[L];if(M.getChildKeys().isEmpty()&&M.getText()){var T=M.getCharacterList(),D=M.getText();k=g();var R=new c({key:k,text:D,characterList:T,parent:m,nextSibling:x});e.contentBlocks.push(R),M=M.withMutations(function(e){e.set("characterList",E()).set("text","").set("children",M.children.push(R.getKey()))})}e.contentBlocks[L]=M.set("children",M.children.push(x))}var O=new l({key:x,parent:m,type:v,depth:y,text:a,characterList:h,prevSibling:k||(0===s||n[s-1].parent!==m?null:n[s-1].key),nextSibling:s===n.length-1||n[s+1].parent!==m?null:n[s+1].key});return e.contentBlocks.push(O),e.cacheRef[O.key]=s,e},{cacheRef:{},contentBlocks:[]}).contentBlocks}(i),entityMap:l}}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftPasteProcessor
 * @format
 * 
 */
"use strict";var n=r(1,1)||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=(r(881),r(883)),o=r(884),c=r(886),i=r(879),s=r(1004),u=r(894),f=r(1003),p=r(911),l=i.List,g=i.Repeat,v=c.draft_tree_data_support,d=v?o:a,y={processHTML:function(t,e){return s(t,f,e)},processText:function(t,e,r){return t.reduce(function(t,a,o){a=p(a);var c=u(),i={key:c,type:r,text:a,characterList:l(g(e,a.length))};if(v&&0!==o){var s=o-1,f=t[s]=t[s].merge({nextSibling:c});i=n({},i,{prevSibling:f.getKey()})}return t.push(new d(i)),t},[])}};t.exports=y}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule adjustBlockDepthForContentState
 * @format
 * 
 */
"use strict";t.exports=function(t,e,n,r){var o=e.getStartKey(),c=e.getEndKey(),i=t.getBlockMap(),a=i.toSeq().skipUntil(function(t,e){return e===o}).takeUntil(function(t,e){return e===c}).concat([[c,i.get(c)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)});return i=i.merge(a),t.merge({blockMap:i,selectionBefore:e,selectionAfter:e})}}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule RichTextEditorUtil
 * @format
 * 
 */
"use strict";var r=n(905),o=n(918),l=(n(910),n(1006)),c=n(916),g={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return g.toggleInlineStyle(e,"BOLD");case"italic":return g.toggleInlineStyle(e,"ITALIC");case"underline":return g.toggleInlineStyle(e,"UNDERLINE");case"code":return g.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),l=n.getBlockBefore(r);if(l&&"atomic"===l.getType()){var c=n.getBlockMap().delete(l.getKey()),i=n.merge({blockMap:c,selectionAfter:t});if(i!==n)return o.push(e,i,"remove-range")}var u=g.tryToRemoveBlockStyle(e);return u?o.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),l=t.getStartKey(),c=n.getBlockForKey(l).getLength();if(t.getStartOffset()<c)return null;var g=n.getBlockAfter(l);if(!g||"atomic"!==g.getType())return null;var i=t.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),u=r.removeRange(n,i,"forward");return u!==n?o.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),c=r.getAnchorKey();if(c!==r.getFocusKey())return t;var g=t.getCurrentContent(),i=g.getBlockForKey(c),u=i.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var a=g.getBlockBefore(c);if(!a)return t;var s=a.getType();if("unordered-list-item"!==s&&"ordered-list-item"!==s)return t;var f=i.getDepth();if(!e.shiftKey&&f===n)return t;n=Math.min(a.getDepth()+1,n);var y=l(g,r,e.shiftKey?-1:1,n);return o.push(t,y,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),l=n.getStartKey(),g=n.getEndKey(),i=e.getCurrentContent(),u=n;if(l!==g&&0===n.getEndOffset()){var a=c(i.getBlockBefore(g));g=a.getKey(),u=u.merge({anchorKey:l,anchorOffset:n.getStartOffset(),focusKey:g,focusOffset:a.getLength(),isBackward:!1})}if(i.getBlockMap().skipWhile(function(e,t){return t!==l}).reverse().skipWhile(function(e,t){return t!==g}).some(function(e){return"atomic"===e.getType()}))return e;var s=i.getBlockForKey(l).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(i,u,s),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?g.toggleBlockType(e,"code-block"):g.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),l=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,l.has(t)?l.remove(t):l.add(t));var c,g=e.getCurrentContent();return c=l.has(t)?r.removeInlineStyle(g,n,t):r.applyInlineStyle(g,n,t),o.push(e,c,"change-inline-style")},toggleLink:function(e,t,n){var l=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,l,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),l=e.getCurrentContent(),c=l.getBlockForKey(o),g=l.getFirstBlock();if(c.getLength()>0&&c!==g)return null;var i=c.getType(),u=l.getBlockBefore(o);if("code-block"===i&&u&&"code-block"===u.getType()&&0!==u.getLength())return null;if("unstyled"!==i)return r.setBlockType(l,t,"unstyled")}return null}};e.exports=g}),
(function(n,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitTextIntoTextBlocks
 * @format
 * 
 */
"use strict";var i=/\r\n?|\n/g;n.exports=function(n){return n.split(i)}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnPaste
 * @format
 * 
 */
"use strict";var n=r(880),a=r(881),i=r(962),o=r(905),s=r(1005),l=r(918),p=r(1007),c=r(926),d=r(965),u=r(927),g=r(1008);function f(t,e,r){var n=o.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return l.push(t,n.set("entityMap",r),"insert-fragment")}t.exports=function(t,e){e.preventDefault();var r=new i(e.clipboardData);if(!r.isRichText()){var v=r.getFiles(),y=r.getText();if(v.length>0){if(t.props.handlePastedFiles&&u(t.props.handlePastedFiles(v)))return;return void d(v,function(e){if(e=e||y){var r=t._latestEditorState,i=g(e),d=a.create({style:r.getCurrentInlineStyle(),entity:c(r.getCurrentContent(),r.getSelection())}),u=p.getCurrentBlockType(r),f=s.processText(i,d,u),v=n.createFromArray(f),T=o.replaceWithFragment(r.getCurrentContent(),r.getSelection(),v);t.update(l.push(r,T,"insert-fragment"))}})}}var T=[],h=r.getText(),x=r.getHTML(),C=t._latestEditorState;if(!t.props.handlePastedText||!u(t.props.handlePastedText(h,x,C))){if(h&&(T=g(h)),!t.props.stripPastedStyles){var S=t.getClipboard();if(r.isRichText()&&S){if(-1!==x.indexOf(t.getEditorKey())||1===T.length&&1===S.size&&S.first().getText()===h)return void t.update(f(t._latestEditorState,S))}else if(S&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(t,e){return t.length===e.size&&e.valueSeq().every(function(e,r){return e.getText()===t[r]})}(T,S))return void t.update(f(t._latestEditorState,S));if(x){var E=s.processHTML(x,t.props.blockRenderMap);if(E){var F=E.contentBlocks,m=E.entityMap;if(F){var M=n.createFromArray(F);return void t.update(f(t._latestEditorState,M,m))}}}t.setClipboard(null)}if(T.length){var b=a.create({style:C.getCurrentInlineStyle(),entity:c(C.getCurrentContent(),C.getSelection())}),P=p.getCurrentBlockType(C),k=s.processText(T,b,P),B=n.createFromArray(k);t.update(f(t._latestEditorState,B))}}}}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelection
 * @format
 * 
 */
"use strict";var n=o(985);e.exports=function(e,t){var o=global.getSelection();return 0===o.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(e,t,o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}}),
(function(t,e,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnSelect
 * @format
 * 
 */
"use strict";var o=i(918),r=i(7,1),n=i(1010),a=i(891);t.exports=function(t){if(!t._blockSelectEvents&&t._latestEditorState===t.props.editorState){var e=t.props.editorState,i=r.findDOMNode(t.editorContainer);i||a(!1),i.firstChild instanceof HTMLElement||a(!1);var c=n(e,i.firstChild),d=c.selectionState;d!==e.getSelection()&&(e=c.needsRecovery?o.forceSelection(e,d):o.acceptSelection(e,d),t.update(e))}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorEditHandler
 * @format
 * 
 */
"use strict";var o={onBeforeInput:e(970),onBlur:e(971),onCompositionStart:e(972),onCopy:e(974),onCut:e(975),onDragOver:e(976),onDragStart:e(977),onFocus:e(978),onInput:e(979),onKeyDown:e(1001),onPaste:e(1009),onSelect:e(1011)};t.exports=o}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorPlaceholder.react
 * @format
 * 
 */
"use strict";var r=o(3,1),n=o(922),i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},e.prototype.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return r.createElement("div",{className:e},r.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},e}(r.Component);t.exports=i}),
(function(e,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDefaultKeyBinding
 * @format
 * 
 */
"use strict";var t=n(980),l=n(925),s=n(935),c=s.isPlatform("Mac OS X"),u=s.isPlatform("Windows"),a=c&&s.isBrowser("Firefox < 29"),o=t.hasCommandModifier,i=t.isCtrlKeyCommand;function d(e){return c&&e.altKey||i(e)}e.exports=function(e){switch(e.keyCode){case 66:return o(e)?"bold":null;case 68:return i(e)?"delete":null;case 72:return i(e)?"backspace":null;case 73:return o(e)?"italic":null;case 74:return o(e)?"code":null;case 75:return!u&&i(e)?"secondary-cut":null;case 77:case 79:return i(e)?"split-block":null;case 84:return c&&i(e)?"transpose-characters":null;case 85:return o(e)?"underline":null;case 87:return c&&i(e)?"backspace-word":null;case 89:return i(e)?u?"redo":"secondary-paste":null;case 90:return function(e){return o(e)?e.shiftKey?"redo":"undo":null}(e)||null;case l.RETURN:return"split-block";case l.DELETE:return function(e){return u&&e.shiftKey?null:d(e)?"delete-word":"delete"}(e);case l.BACKSPACE:return function(e){return o(e)&&c?"backspace-to-start-of-line":d(e)?"backspace-word":"backspace"}(e);case l.LEFT:return a&&o(e)?"move-selection-to-start-of-block":null;case l.RIGHT:return a&&o(e)?"move-selection-to-end-of-block":null;default:return null}}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditor.react
 * @format
 * 
 * @preventMunge
 */
"use strict";var n=o(1,1)||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var r=o(923),i=o(924),a=o(929),l=o(959),s=o(967),d=o(1012),p=o(1013),c=o(918),u=o(3,1),h=o(7,1),_=o(945),b=o(949),f=o(935),y=o(922),D=o(906),S=o(894),C=o(1014),g=o(954),m=o(891),E=o(916),v=f.isBrowser("IE"),w=!v,H={edit:d,composite:a,drag:s,cut:null,render:null},K=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.focus=function(t){var e=n.props.editorState,o=e.getSelection().getHasFocus(),r=h.findDOMNode(n.editor);if(r){var i=b.getScrollParent(r),a=t||g(i),l=a.x,s=a.y;r instanceof HTMLElement||m(!1),r.focus(),i===window?window.scrollTo(l,s):_.setTop(i,s),o||n.update(c.forceSelection(e,e.getSelection()))}},n.blur=function(){var t=h.findDOMNode(n.editor);t instanceof HTMLElement||m(!1),t.blur()},n.setMode=function(t){n._handler=H[t]},n.exitCurrentMode=function(){n.setMode("edit")},n.restoreEditorDOM=function(t){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(t)})},n.setClipboard=function(t){n._clipboard=t},n.getClipboard=function(){return n._clipboard},n.update=function(t){n._latestEditorState=t,n.props.onChange(t)},n.onDragEnter=function(){n._dragCount++},n.onDragLeave=function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()},n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=o.editorKey||S(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=o.editorState,n._latestCommittedEditorState=o.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._buildHandler=function(t){var e=this;return function(o){if(!e.props.readOnly){var n=e._handler&&e._handler[t];n&&n(e,o)}}},e.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},e.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:E(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return u.createElement(p,t)}return null},e.prototype.render=function(){var t=this,e=this.props,o=e.blockRenderMap,r=e.blockRendererFn,a=e.blockStyleFn,s=e.customStyleFn,d=e.customStyleMap,p=e.editorState,c=e.readOnly,h=e.textAlignment,_=e.textDirectionality,b=y({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),f=this.props.role||"textbox",D="combobox"===f?!!this.props.ariaExpanded:null,S={blockRenderMap:o,blockRendererFn:r,blockStyleFn:a,customStyleMap:n({},i,d),customStyleFn:s,editorKey:this._editorKey,editorState:p,key:"contents"+this.state.contentsKey,textDirectionality:_};return u.createElement("div",{className:b},this._renderPlaceholder(),u.createElement("div",{className:y("DraftEditor/editorContainer"),ref:function(e){return t.editorContainer=e}},u.createElement("div",{"aria-activedescendant":c?null:this.props.ariaActiveDescendantID,"aria-autocomplete":c?null:this.props.ariaAutoComplete,"aria-controls":c?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":c?null:D,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:y({notranslate:!c,"public/DraftEditor/content":!0}),contentEditable:!c,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(e){return t.editor=e},role:c?null:f,spellCheck:w&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},u.createElement(l,S))))},e.prototype.componentDidMount=function(){this.setMode("edit"),v&&document.execCommand("AutoUrlDetect",!1,!1)},e.prototype.componentWillUpdate=function(t){this._blockSelectEvents=!0,this._latestEditorState=t.editorState},e.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},e}(u.Component);K.defaultProps={blockRenderMap:r,blockRendererFn:D.thatReturnsNull,blockStyleFn:D.thatReturns(""),keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},t.exports=K}),
(function(n,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftStringKey
 * @format
 * 
 */
"use strict";var r={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};n.exports=r}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeEntityRanges
 * @format
 * 
 */
"use strict";var i=e(1016),r=e(982).strlen;t.exports=function(t,n){var e=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(s,f){var u=t.getText(),c=t.getEntityAt(s);e.push({offset:r(u.slice(0,s)),length:r(u.slice(s,f)),key:Number(n[i.stringify(c)])})}),e}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var r=e(982),i=e(882),o=function(t,n){return t===n},u=function(t){return!!t},s=[];t.exports=function(t){var n=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),e=n.flatten().toSet().map(function(e){return function(t,n,e){var s=[],a=n.map(function(t){return t.has(e)}).toList();return i(a,o,u,function(n,i){var o=t.getText();s.push({offset:r.strlen(o.slice(0,n)),length:r.strlen(o.slice(n,i)),style:e})}),s}(t,n,e)});return Array.prototype.concat.apply(s,e.toJS())}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromDraftStateToRaw
 * @format
 * 
 */
"use strict";var i=e(1,1)||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},a=e(883),r=e(884),o=e(1016),c=e(1017),y=e(1018),s=e(891),u=function(t,n){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:y(t),entityRanges:c(t,n),data:t.getData().toObject()}},g=function(t,n){var e=n.entityMap,c=[],y={},g={},f=0;return t.getBlockMap().forEach(function(t){t.findEntityRanges(function(t){return null!==t.getEntity()},function(n){var i=t.getEntityAt(n),a=o.stringify(i);g[a]||(g[a]=i,e[a]=""+f,f++)}),function(t,n,e,o){if(t instanceof a)e.push(u(t,n));else{t instanceof r||s(!1);var c=t.getParentKey(),y=o[t.getKey()]=i({},u(t,n),{children:[]});c?o[c].children.push(y):e.push(y)}}(t,e,c,y)}),{blocks:c,entityMap:e}};t.exports=function(t){var n={entityMap:{},blocks:[]};return n=function(t,n){var e=n.blocks,i=n.entityMap,a={};return Object.keys(i).forEach(function(n,e){var i=t.getEntity(o.unstringify(n));a[e]={type:i.getType(),mutability:i.getMutability(),data:i.getData()}}),{blocks:e,entityMap:a}}(t,n=g(t,n))}}),
(function(r,e,t){"use strict";var n=t(1,1)||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a=t(891),i=function(r){if(!r||!r.type)return!1;var e=r.type;return"unordered-list-item"===e||"ordered-list-item"===e},o={fromRawTreeStateToRawState:function(r){var e=r.blocks,t=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(r,e){for(var t=[].concat(r).reverse();t.length;){var n=t.pop();e(n);var i=n.children;Array.isArray(i)||a(!1),t=t.concat([].concat(i.reverse()))}}(e,function(r){var e=n({},r);i(r)&&(e.depth=e.depth||0,function(r){Array.isArray(r.children)&&(r.children=r.children.map(function(e){return e.type===r.type?n({},e,{depth:(r.depth||0)+1}):e}))}(r)),delete e.children,t.push(e)}),r.blocks=t,n({},r,{blocks:t})):r},fromRawStateToRawTreeState:function(r){var e={},t=[];return r.blocks.forEach(function(r){var o=i(r),c=r.depth||0,s=n({},r,{children:[]});if(!o)return e={},void t.push(s);if(e[c]=s,c>0){var u=e[c-1];return u||a(!1),void u.children.push(s)}t.push(s)}),n({},r,{blocks:t})}};r.exports=o}),
(function(t,r,a){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createCharacterList
 * @format
 * 
 */
"use strict";var e=a(881),n=a(879).List;t.exports=function(t,r){var a=t.map(function(t,a){var n=r[a];return e.create({style:t,entity:n})});return n(a)}}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeEntityRanges
 * @format
 * 
 */
"use strict";var e=r(982).substr;t.exports=function(t,n){var r=Array(t.length).fill(null);return n&&n.forEach(function(n){for(var f=e(t,0,n.offset).length,l=f+e(t,n.offset,n.length).length,o=f;o<l;o++)r[o]=n.key}),r}}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var n=r(879).OrderedSet,f=r(982).substr,l=n();t.exports=function(t,e){var r=Array(t.length).fill(l);return e&&e.forEach(function(e){for(var n=f(t,0,e.offset).length,l=n+f(t,e.offset,e.length).length;n<l;)r[n]=r[n].add(e.style),n++}),r}}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromRawToDraftState
 * @format
 * 
 */
"use strict";var n=r(1,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(883),i=r(884),o=r(912),c=r(909),u=r(886),l=r(1020),y=r(879),f=r(910),s=r(1021),p=r(1022),d=r(1023),g=r(894),k=r(891),v=u.draft_tree_data_support,b=y.List,h=y.Map,m=y.OrderedMap,S=function(e,t){var r=e.key,n=e.type,a=e.data;return{text:e.text,depth:e.depth||0,type:n||"unstyled",key:r||g(),data:h(a),characterList:w(e,t)}},w=function(e,t){var r=e.text,a=e.entityRanges,i=e.inlineStyleRanges,o=a||[];return s(d(r,i||[]),p(r,o.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return n({},e,{key:t[e.key]})})))},R=function(e){return n({},e,{key:e.key||g()})},A=function(e,t,r){var a=t.map(function(e){return n({},e,{parentRef:r})});return e.concat(a.reverse())},x=function(e,t){var r=Array.isArray(e.blocks[0].children),o=v&&!r?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return v?function(e,t){return e.map(R).reduce(function(r,a,o){Array.isArray(a.children)||k(!1);var c=a.children.map(R),u=new i(n({},S(a,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:b(c.map(function(e){return e.key}))}));r=r.set(u.getKey(),u);for(var l=A([],c,u);l.length>0;){var y=l.pop(),f=y.parentRef,s=f.getChildKeys(),p=s.indexOf(y.key),d=Array.isArray(y.children);if(!d){d||k(!1);break}var g=y.children.map(R),v=new i(n({},S(y,t),{parent:f.getKey(),children:b(g.map(function(e){return e.key})),prevSibling:0===p?null:s.get(p-1),nextSibling:p===s.size-1?null:s.get(p+1)}));r=r.set(v.getKey(),v),l=A(l,g,v)}return r},m())}(o,t):function(e,t){return m(e.map(function(e){var r=new a(S(e,t));return[r.getKey(),r]}))}(r?l.fromRawTreeStateToRawState(e).blocks:o,t)};e.exports=function(e){Array.isArray(e.blocks)||k(!1);var t=function(e){var t=e.entityMap,r={};return Object.keys(t).forEach(function(e){var n=t[e],a=n.type,i=n.mutability,o=n.data;r[e]=c.__create(a,i,o||{})}),r}(e),r=x(e,t),n=r.isEmpty()?new f:f.createEmpty(r.first().getKey());return new o({blockMap:r,entityMap:t,selectionBefore:n,selectionAfter:n})}}),
(function(t,e,h){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeBoundingClientRect
 * @format
 * 
 */
"use strict";var i=h(983);t.exports=function(t){var e=i(t),h=0,o=0,r=0,a=0;if(e.length){if(e.length>1&&0===e[0].width){var n=e[1];h=n.top,o=n.right,r=n.bottom,a=n.left}else{var g=e[0];h=g.top,o=g.right,r=g.bottom,a=g.left}for(var f=1;f<e.length;f++){var l=e[f];0!==l.height&&0!==l.width&&(h=Math.min(h,l.top),o=Math.max(o,l.right),r=Math.max(r,l.bottom),a=Math.min(a,l.left))}}return{top:h,right:o,bottom:r,left:a,width:o-a,height:r-h}}}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getVisibleSelectionRect
 * @format
 * 
 */
"use strict";var r=e(1025);t.exports=function(t){var n=t.getSelection();if(!n.rangeCount)return null;var e=n.getRangeAt(0),o=r(e),u=o.top,g=o.right,i=o.bottom,l=o.left;return 0===u&&0===g&&0===i&&0===l?null:o}}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Draft
 * @format
 * 
 */
"use strict";var a=o(920),r=o(880),i=o(881),n=o(921),c=o(883),l=o(912),f=o(923),d=o(924),D=o(1015),B=o(956),S=o(909),s=o(905),y=o(908),k=o(918),E=o(980),R=o(1007),g=o(910),m=o(1019),u={Editor:D,EditorBlock:B,EditorState:k,CompositeDecorator:n,Entity:S,EntityInstance:y,BlockMapBuilder:r,CharacterMetadata:i,ContentBlock:c,ContentState:l,SelectionState:g,AtomicBlockUtils:a,KeyBindingUtil:E,Modifier:s,RichUtils:R,DefaultDraftBlockRenderMap:f,DefaultDraftInlineStyle:d,convertFromHTML:o(1004),convertFromRaw:o(1024),convertToRaw:m,genKey:o(894),getDefaultKeyBinding:o(1014),getVisibleSelectionRect:o(1026)};t.exports=u}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1027      ),s=n(164         ),i=/:([0-9A-Za-z-_+]+)$/;e.filterEmojiEntities=((t,e,n)=>a(t,e,n,"EMOJI")),e.filterMentionEntities=((t,e,n)=>a(t,e,n,"MENTION"));const a=(t,e,n,r)=>{t.findEntityRanges(t=>{const e=t.getEntity();return null!==e&&n.getEntity(e).getType()===r},e)};e.findMatch=(t=>{const n=t.getSelection(),r=t.getCurrentContent(),s=n.getAnchorKey(),a=r.getBlockForKey(s),o=n.getAnchorOffset(),l=a.getText().substring(0,o),u=l.match(i),d=e.getMentionSearchFromString(l);let g=void 0,f=void 0,c=void 0,h=void 0;return d?(g="MENTION",f=d.search,c=d.index,h=o):u&&(g="EMOJI",f=u[1],c=u.index,h=o),{type:g,search:f,start:c,end:h}}),e.getMentionSearchFromString=(t=>{let e=void 0,n=0,r=0;-1!==t.lastIndexOf("\n")&&(r=t.lastIndexOf("\n")+1,t=t.substring(r));let s=t.lastIndexOf("@");if(-1!==s){if(n=s," "===(e=t.substring(s+1)).substring(0,1))return null;if(e.split(" ").length>2)return null;const r=t.substring(0,s),i=r.lastIndexOf("@");if(-1!==i){const s=t.substring(i+1);if(-1===s.indexOf(" ")){if(0!==i&&" "!==r[i-1])return null;e=s,n=i}}else if(0!==s&&" "!==t[s-1])return null}return null!=e?{search:e,index:n+=r}:null}),e.editorStateToMessageMeta=(t=>{let e=[];const n=r.convertToRaw(t.getCurrentContent());let i="";return n.blocks.forEach(t=>{const r=s.stringToArrayOfRealChars(t.text),a=t.entityRanges,o={};a.forEach(t=>{o[t.offset]=t});for(let s=0;s<r.length;s++)if(s in o){""!==i&&(e.push({t:i}),i="");let t=o[s],a=n.entityMap[t.key],l="";for(let e=0;e<t.length;e++)l+=r[s+e];let u={};"MENTION"===a.type?(u.user_id=a.data.mention.id,u.user_annotated=a.data.mention):u.t=l,e.push(u),s+=t.length-1}else i+=r[s];i+="\n"}),""!==(i=i.slice(0,-1))&&e.push({t:i}),e}),e.messageMetaToEditorState=((t,e)=>{let n=[],i={},a="",o=0;t.forEach(t=>{t.user_annotated?(n.push({key:o,length:s.stringToArrayOfRealChars(t.user_annotated.handle).length,offset:s.stringToArrayOfRealChars(a).length}),i[o]={type:"MENTION",mutability:"IMMUTABLE",data:{mention:t.user_annotated}},o+=1,a+=t.user_annotated.handle):a+=t.t});const l={text:a,entityRanges:n,type:"unstyled",depth:0,inlineStyleRanges:[],key:"abcd"},u=r.convertFromRaw({blocks:[l],entityMap:i});return r.EditorState.createWithContent(u,e)})}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(1027      ),r=n(1028            );e.addMention=((t,e)=>{const n=t.getCurrentContent().createEntity("MENTION","IMMUTABLE",{mention:e}).getLastCreatedEntityKey(),o=r.findMatch(t);return c(t,o,n,e.handle)}),e.addEmoji=((t,e)=>{const n=t.getCurrentContent().createEntity("EMOJI","IMMUTABLE",{emoji:e}).getLastCreatedEntityKey(),o=r.findMatch(t);return c(t,o,n,e.colons)}),e.selectAll=(t=>{const e=t.getSelection(),n=t.getCurrentContent(),r=n.getFirstBlock(),c=n.getLastBlock(),i=e.merge({anchorKey:r.getKey(),anchorOffset:0,focusKey:c.getKey(),focusOffset:c.getLength()});return o.EditorState.forceSelection(t,i)});const c=(t,e,n,r)=>{const c=t.getSelection(),i=t.getCurrentContent();let{start:s,end:g}=e,a=c;null!=s&&null!=g&&(a=c.merge({anchorOffset:s,focusOffset:g}));let f=o.Modifier.replaceText(i,a,r,void 0,n);const l=f.getSelectionAfter(),d=f.getLastBlock();d.getKey()===l.getStartKey()&&d.getKey()===l.getEndKey()&&d.getLength()===l.getStartOffset()&&d.getLength()===l.getEndOffset()&&(f=o.Modifier.replaceText(f,l," ",void 0,void 0));const u=o.EditorState.push(t,f,"insert-fragment");return o.EditorState.forceSelection(u,f.getSelectionAfter())}}),
(function(e,t,a){e.exports={"DraftEditor-editorContainer":"editable_typeahead--DraftEditor-editorContainer--1aL1H","DraftEditor-root":"editable_typeahead--DraftEditor-root--296DT","public-DraftEditor-content":"editable_typeahead--public-DraftEditor-content--31uqN","public-DraftEditor-block":"editable_typeahead--public-DraftEditor-block--3WEb5","DraftEditor-alignLeft":"editable_typeahead--DraftEditor-alignLeft--1opeq","public-DraftStyleDefault-block":"editable_typeahead--public-DraftStyleDefault-block--1uAfh","public-DraftEditorPlaceholder-root":"editable_typeahead--public-DraftEditorPlaceholder-root--wmjEA","DraftEditor-alignCenter":"editable_typeahead--DraftEditor-alignCenter--1-n8t","DraftEditor-alignRight":"editable_typeahead--DraftEditor-alignRight--iS7Oe","public-DraftEditorPlaceholder-hasFocus":"editable_typeahead--public-DraftEditorPlaceholder-hasFocus--qvFRm","DraftEditorPlaceholder-hidden":"editable_typeahead--DraftEditorPlaceholder-hidden--2Q89d","public-DraftStyleDefault-ltr":"editable_typeahead--public-DraftStyleDefault-ltr--1RL5T","public-DraftStyleDefault-rtl":"editable_typeahead--public-DraftStyleDefault-rtl--37w1P","public-DraftStyleDefault-listLTR":"editable_typeahead--public-DraftStyleDefault-listLTR--9YU1o","public-DraftStyleDefault-listRTL":"editable_typeahead--public-DraftStyleDefault-listRTL--2aRXX","public-DraftStyleDefault-ol":"editable_typeahead--public-DraftStyleDefault-ol--1q5sL","public-DraftStyleDefault-ul":"editable_typeahead--public-DraftStyleDefault-ul--32O7C","public-DraftStyleDefault-depth0":"editable_typeahead--public-DraftStyleDefault-depth0--2eGoY","public-DraftStyleDefault-depth1":"editable_typeahead--public-DraftStyleDefault-depth1--3PxBR","public-DraftStyleDefault-depth2":"editable_typeahead--public-DraftStyleDefault-depth2--3wiQc","public-DraftStyleDefault-depth3":"editable_typeahead--public-DraftStyleDefault-depth3--3AGGZ","public-DraftStyleDefault-depth4":"editable_typeahead--public-DraftStyleDefault-depth4--2XLem","public-DraftStyleDefault-unorderedListItem":"editable_typeahead--public-DraftStyleDefault-unorderedListItem--fAzTJ","public-DraftStyleDefault-orderedListItem":"editable_typeahead--public-DraftStyleDefault-orderedListItem--2m2Ym","public-DraftStyleDefault-reset":"editable_typeahead--public-DraftStyleDefault-reset--8u_yp",wrapperBase:"editable_typeahead--wrapperBase--IpgDP",wrapperDefault:"editable_typeahead--wrapperDefault--3w757",mention:"editable_typeahead--mention--3NYwP",emoji:"editable_typeahead--emoji--3A0nO"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(1027      ),i=s(3,1    ),a=s(7,1        ),n=s(878                  ),r=s(1029                ),h=s(1028            ),p=s(438                                 ),d=s(873                               ),c=s(1030                      );e.decorator=new o.CompositeDecorator([{strategy:h.filterMentionEntities,component:t=>i.createElement("span",{className:c.mention,spellCheck:!1},t.children)},{strategy:h.filterEmojiEntities,component:t=>i.createElement("span",{className:c.emoji,spellCheck:!1},t.children)}]);class l extends i.Component{constructor(t){super(t),this.ref=(t=>{t&&!this.editorEl&&(this.editorEl=a.findDOMNode(t),this.props.onUpdateTextArea(this.editorEl))}),this.onChange=(t=>{const e=this.state.editorState;this.setState({editorState:t});const s=t.getSelection(),o=e.getCurrentContent(),i=t.getCurrentContent();s.isCollapsed()&&o!==i?(this.onEditorContentChange(t),this.editorEl&&this.props.onUpdateTextArea(this.editorEl)):this.clearTypeahead()}),this.onEditorContentChange=(t=>{const e=h.editorStateToMessageMeta(t);this.lastMessageMeta=e,this.props.updateMessage(e);const{search:s,type:o}=h.findMatch(t);null!=s?"MENTION"===o?this.onMentionSearchChange(s):"EMOJI"===o&&this.onEmojiSearchChange(s):this.clearTypeahead()}),this.hasSuggestions=(()=>!!this.props.typeahead),this.insertMention=(t=>{const e=r.addMention(this.state.editorState,t);this.onChange(e)}),this.insertEmoji=(t=>{const e=r.addEmoji(this.state.editorState,t);this.onChange(e)}),this.onInsert=(()=>{const t=this.props.typeahead;t&&"mentions"===t.type&&t.mentions[t.index]?this.insertMention(t.mentions[t.index]):t&&"emojis"===t.type&&t.emojis[t.index]&&this.insertEmoji(t.emojis[t.index])}),this.assignHandlers=(()=>{this.props.assignHandlers(this.onInsert,this.clearTypeahead)}),this.onMentionSearchChange=(t=>{this.props.dispatch(p.comments.setTypeahead(d.mentionsTypeahead(t,this.props.mentionables)))}),this.onEmojiSearchChange=(t=>{this.props.dispatch(p.comments.setTypeahead(d.emojiTypeahead(t)))}),this.clearTypeahead=(()=>{this.hasSuggestions()&&this.props.dispatch(p.comments.setTypeahead(null))}),this.focus=(()=>{this.state.editorState.getSelection().getHasFocus()?this.props.onFocus():setTimeout(()=>{this.setState({editorState:o.EditorState.moveFocusToEnd(this.state.editorState)}),this.onFocus()},0)}),this.onNavigationKeyDown=(t=>{if(t.stopPropagation(),!this.hasSuggestions())return o.getDefaultKeyBinding(t);t.preventDefault()}),this.handleEscape=(t=>{this.hasSuggestions()||(t.currentTarget.blur(),this.props.onCancel()),t.preventDefault(),t.stopPropagation()}),this.handleReturn=((t,e)=>{t.stopPropagation();const s=this.hasSuggestions(),o=this.state.editorState.getCurrentContent().getPlainText(),i=!!o&&!/^\s+$/.test(o);return(t.metaKey||t.altKey)&&i&&!s?(t.preventDefault(),this.props.onSubmit(),"handled"):s||t.metaKey?(t.preventDefault(),"handled"):"not-handled"}),this.onFocus=(()=>{this.assignHandlers(),this.props.setIsEditorFocused(!0),this.focus()}),this.onBlur=(()=>{this.props.setIsEditorFocused(!1)}),this.onKeyDown=(t=>(t.stopPropagation(),o.getDefaultKeyBinding(t))),this.onMouseDown=(t=>{t.stopPropagation()}),this.onContextMenu=(t=>{t.stopPropagation()}),this.props.messageMeta?this.state={editorState:h.messageMetaToEditorState(this.props.messageMeta,e.decorator)}:this.state={editorState:o.EditorState.createEmpty(e.decorator)},this.lastMessageMeta=this.props.messageMeta}componentDidMount(){if(this.assignHandlers(),this.props.mountFocused){const t=o.EditorState.moveFocusToEnd(this.state.editorState);this.props.setIsEditorFocused(!0),this.onChange(t)}}UNSAFE_componentWillReceiveProps(t){if(!n.messageMetasEqual(t.messageMeta,this.lastMessageMeta)){let s=h.messageMetaToEditorState(t.messageMeta,e.decorator);s=this.state.editorState.getSelection().getHasFocus()?o.EditorState.moveFocusToEnd(s):o.EditorState.moveSelectionToEnd(s),this.onChange(s),this.lastMessageMeta=t.messageMeta}}componentWillUnmount(){this.props.setIsEditorFocused(!1)}render(){let t=c.wrapperBase;return t=this.props.className?t+" "+this.props.className:t+" "+c.wrapperDefault,i.createElement("div",{className:t,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu,onClick:this.focus},i.createElement(o.Editor,{editorState:this.state.editorState,placeholder:this.props.placeholderText,onChange:this.onChange,onUpArrow:this.onNavigationKeyDown,onDownArrow:this.onNavigationKeyDown,onLeftArrow:this.onNavigationKeyDown,onRightArrow:this.onNavigationKeyDown,onTab:this.onNavigationKeyDown,onEscape:this.handleEscape,handleReturn:this.handleReturn,keyBindingFn:this.onKeyDown,spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.ref,tabIndex:this.props.tabIndex||0}))}}e.EditableTypeahead=l,l.displayName="EditableTypeahead"}),
(function(e,t,a){e.exports={_threadElement:"thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadElementNewAuthor:"thread_comment--threadElementNewAuthor--2vPDJ thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadElementSameAuthor:"thread_comment--threadElementSameAuthor--2A40p thread_comment--_threadElement--1My4B text--fontPos11--RSei3 text--_fontBase--YWDo0",threadSubelement:"thread_comment--threadSubelement--3JV89",leftJustified:"thread_comment--leftJustified--2YXih",rightJustified:"thread_comment--rightJustified--3e5GP",authorAvatar:"thread_comment--authorAvatar--2TpfU",headerLabel:"thread_comment--headerLabel--246GT text--fontPos14--3UJ36 text--_fontBase--YWDo0",boldLabel:"thread_comment--boldLabel--PQOwI thread_comment--headerLabel--246GT text--fontPos14--3UJ36 text--_fontBase--YWDo0",grayLabel:"thread_comment--grayLabel--1mPAg thread_comment--headerLabel--246GT text--fontPos14--3UJ36 text--_fontBase--YWDo0",link:"thread_comment--link--37Zby blue_link--blueLink--22X56",iconButtonSpace:"thread_comment--iconButtonSpace--onBGa",textButton:"thread_comment--textButton--ZKidi",editingFrame:"thread_comment--editingFrame--1r07A",readingFrame:"thread_comment--readingFrame--3TKNQ",text:"thread_comment--text--3gPNU text--fontPos14--3UJ36 text--_fontBase--YWDo0"}}),
(function(e,l,o){e.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M9 13.5c-2.142 0-3.934-1.496-4.388-3.5h1.033c.43 1.446 1.77 2.5 3.355 2.5 1.586 0 2.925-1.054 3.355-2.5h1.033c-.454 2.004-2.246 3.5-4.388 3.5zM7 7c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1zm5 1c.552 0 1-.448 1-1 0-.552-.448-1-1-1-.552 0-1 .448-1 1 0 .552.448 1 1 1z" fill-rule="nonzero" fill-opacity="1" fill="#5e5e5e" stroke="none"/><path d="M18 9c0 4.97-4.03 9-9 9-4.97 0-9-4.03-9-9 0-4.97 4.03-9 9-9 4.97 0 9 4.03 9 9zm-1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill-opacity="1" fill="#5e5e5e" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),o=s(172              ),a=s(878                  ),n=s(212      ),r=s(126          ),p=s(145         ),h=s(438                                 ),c=s(224                                            ),d=s(225                                  ),l=s(1031                                          ),m=s(1032                  ),u=s(598                                                                  ),b=s(1033                               );class g extends o.Component{constructor(){super(...arguments),this.state={editing:this.props.mountFocused||!1},this.editorRef=i.createRef(),this.focusEditor=(()=>{this.editorRef.current&&this.editorRef.current.focus()}),this.onFocus=(()=>{this.setState({editing:!0})}),this.onSubmitButton=(e=>{e.preventDefault(),this.props.assignHandlers(null,this.focusEditor),this.onSubmit()}),this.onSubmit=(()=>{this.props.isDisabled||this.props.onSubmit()}),this.onCancel=(()=>{this.setState({editing:!1}),this.props.onCancel()}),this.onKeyDown=(e=>{e.keyCode!==n.Key.ESCAPE||this.props.typeahead||this.props.dispatch(h.comments.deactivateActiveComment())}),this.handleUpdateTextAreaPosition=(e=>{const{threadPosition:t}=this.props;if(null==t)return;const{left:s,top:i,height:o}=e.getBoundingClientRect(),a=this.props.viewportPositionFromClientPosition(new p.Vector(s,i+o)),n=p.Vector.subtract(a,t);this.props.dispatch(h.comments.setTypeaheadPositionOffset(n))}),this.onUpdate=o.otherEvent(this,"update",e=>{this.props.updateMessage(e)}),this.onMouseDownEmojiButton=(e=>{e.stopPropagation()}),this.onClickEmojiButton=(e=>{const{threadPosition:t}=this.props;if(null==t)return;const s=this.props.viewportPositionFromClientPosition(new p.Vector(e.clientX,e.clientY)),i=p.Vector.subtract(s,t);s.y<420&&(i.y+=424),r.segment&&r.segment.track("Emoji Picker Opened"),this.props.assignHandlers(this.focusEditor,null),this.props.dispatch(h.comments.setEmojiPicker({visible:!0,positionOffset:i}))}),this.isSubmitDisabled=(e=>!!this.props.isDisabled||(!(e=e||a.messageMetaToTextString(this.props.messageMeta))||/^\s+$/.test(e)))}render(){const e=a.messageMetaToTextString(this.props.messageMeta),t=this.isSubmitDisabled(e);return i.createElement("div",{className:this.props.headerText?m.threadElementSameAuthor:m.threadElementNewAuthor},i.createElement(d.TabLoop,{startTabIndex:1,endTabIndex:5},this.state.editing&&i.createElement("div",{className:m.threadSubelement},i.createElement("div",{className:m.leftJustified},!this.props.headerText&&i.createElement("span",{className:m.authorAvatar,style:{backgroundImage:`url("${this.props.user.img_url}")`}}),!this.props.headerText&&i.createElement("span",{className:m.boldLabel},this.props.user.handle),this.props.headerText&&i.createElement("span",{className:m.grayLabel},this.props.headerText)),i.createElement("div",{className:m.rightJustified},i.createElement(c.ButtonSecondary,{className:m.textButton,onClick:this.onCancel,tabIndex:t?3:4,recordingKey:o.joinKeys(this.props,"cancel")},"Cancel"),i.createElement(c.ButtonPrimary,{className:m.textButton,onClick:t?void 0:this.onSubmitButton,disabled:t,tabIndex:t?-1:3,recordingKey:o.joinKeys(this.props,"submit")},this.props.submitText))),i.createElement("div",{className:m.threadSubelement},i.createElement(l.EditableTypeahead,{ref:this.editorRef,dispatch:this.props.dispatch,typeahead:this.props.typeahead,mentionables:this.props.mentionables,onUpdateTextArea:this.handleUpdateTextAreaPosition,onKeyDown:this.onKeyDown,onSubmit:this.onSubmit,onFocus:this.onFocus,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,updateMessage:this.onUpdate,messageMeta:this.props.messageMeta,className:m.text,placeholderText:this.props.placeholderText,mountFocused:this.props.mountFocused,setIsEditorFocused:this.props.setIsEditorFocused,tabIndex:2}),i.createElement(u.IconButton,{onClick:this.onClickEmojiButton,onMouseDown:this.onMouseDownEmojiButton,svg:b,disabled:this.props.isEmojiPickerDisabled}))))}}t.ThreadCommentComposer=g,g.displayName="ThreadCommentComposer"}),
(function(e,m,s){e.exports={commentMessage:"comment_message--commentMessage--3YBcJ",emoji:"comment_message--emoji--1-b73",emojiSmall:"comment_message--emojiSmall--YDntT comment_message--commentMessage--3YBcJ comment_message--emoji--1-b73",defaultMessage:"comment_message--defaultMessage--3oqNg text--fontPos11--RSei3 text--_fontBase--YWDo0",linkified:"comment_message--linkified--hnHu6",mention:"comment_message--mention--3XZxJ"}}),
(function(t,r,e){"use strict";r.__esModule=!0,r.inherits=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o.constructor=r,r.prototype=o,r}}),
(function(t,e,r){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(t,e){return"url"===e?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function n(t){t=t||{},this.defaultProtocol=t.defaultProtocol||o.defaultProtocol,this.events=t.events||o.events,this.format=t.format||o.format,this.formatHref=t.formatHref||o.formatHref,this.nl2br=t.nl2br||o.nl2br,this.tagName=t.tagName||o.tagName,this.target=t.target||o.target,this.validate=t.validate||o.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||o.attributes,this.className=t.className||t.linkClass||o.className;for(var e=t.ignoreTags||o.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}function i(t){return t}e.defaults=o,e.Options=n,e.contains=function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1},n.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,r){var n=this[t];if(!n)return n;switch(void 0===n?"undefined":a(n)){case"function":return n(e,r.type);case"object":var i=n[r.type]||o[t];return"function"==typeof i?i(e,r.type):i}return n},getObject:function(t,e,r){var a=this[t];return"function"==typeof a?a(e,r.type):a}}}),
(function(t,n,i){"use strict";n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var e=i(1036);var r=function(t){this.j=[],this.T=t||null};r.prototype={defaultTransition:!1,on:function(t,n){if(t instanceof Array){for(var i=0;i<t.length;i++)this.j.push([t[i],n]);return this}return this.j.push([t,n]),this},next:function(t){for(var n=0;n<this.j.length;n++){var i=this.j[n],e=i[0],r=i[1];if(this.test(t,e))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,n){return t===n},emit:function(){return this.T}};var s=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{test:function(t,n){return t===n||n instanceof RegExp&&n.test(t)}}),u=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{jump:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.next(new t(""));return i===this.defaultTransition?(i=new this.constructor(n),this.on(t,i)):n&&(i.T=n),i},test:function(t,n){return t instanceof n}});n.CharacterState=s,n.TokenState=u,n.stateify=function(t,n,i,e){for(var r=0,u=t.length,o=n,h=[],a=void 0;r<u&&(a=o.next(t[r]));)o=a,r++;if(r>=u)return[];for(;r<u-1;)a=new s(e),h.push(a),o.on(t[r],a),o=a,r++;return a=new s(i),h.push(a),o.on(t[u-1],a),h}}),
(function(n,t,e){"use strict";t.__esModule=!0,t.createTokenClass=function(){return function(n){n&&(this.v=n)}}}),
(function(E,O,A){"use strict";O.__esModule=!0,O.AMPERSAND=O.CLOSEPAREN=O.CLOSEANGLEBRACKET=O.CLOSEBRACKET=O.CLOSEBRACE=O.OPENPAREN=O.OPENANGLEBRACKET=O.OPENBRACKET=O.OPENBRACE=O.WS=O.TLD=O.SYM=O.UNDERSCORE=O.SLASH=O.MAILTO=O.PROTOCOL=O.QUERY=O.POUND=O.PLUS=O.NUM=O.NL=O.LOCALHOST=O.PUNCTUATION=O.DOT=O.COLON=O.AT=O.DOMAIN=O.Base=void 0;var N=A(1039),C=A(1036),L=(0,N.createTokenClass)();function R(E){var O=E?{v:E}:{};return(0,C.inherits)(L,(0,N.createTokenClass)(),O)}L.prototype={toString:function(){return this.v+""}};var T=R(),S=R("@"),P=R(":"),t=R("."),e=R(),s=R(),n=R("\n"),r=R(),B=R("+"),U=R("#"),a=R(),o=R("mailto:"),D=R("?"),i=R("/"),M=R("_"),c=R(),u=R(),K=R(),l=R("{"),v=R("["),I=R("<"),G=R("("),H=R("}"),Y=R("]"),f=R(">"),k=R(")"),_=R("&");O.Base=L,O.DOMAIN=T,O.AT=S,O.COLON=P,O.DOT=t,O.PUNCTUATION=e,O.LOCALHOST=s,O.NL=n,O.NUM=r,O.PLUS=B,O.POUND=U,O.QUERY=D,O.PROTOCOL=a,O.MAILTO=o,O.SLASH=i,O.UNDERSCORE=M,O.SYM=c,O.TLD=u,O.WS=K,O.OPENBRACE=l,O.OPENBRACKET=v,O.OPENANGLEBRACKET=I,O.OPENPAREN=G,O.CLOSEBRACE=H,O.CLOSEBRACKET=Y,O.CLOSEANGLEBRACKET=f,O.CLOSEPAREN=k,O.AMPERSAND=_}),
(function(e,a,o){"use strict";a.__esModule=!0,a.start=a.run=a.TOKENS=a.State=void 0;var t=o(1038),i=o(1040),n=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a.default=e,a}(i);var r="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),l=[" ","\f","\r","\t","\v"," "," ","᠎"],u=[],m=function(e){return new t.CharacterState(e)},p=m(),g=m(i.NUM),d=m(i.DOMAIN),b=m(),h=m(i.WS);p.on("@",m(i.AT)).on(".",m(i.DOT)).on("+",m(i.PLUS)).on("#",m(i.POUND)).on("?",m(i.QUERY)).on("/",m(i.SLASH)).on("_",m(i.UNDERSCORE)).on(":",m(i.COLON)).on("{",m(i.OPENBRACE)).on("[",m(i.OPENBRACKET)).on("<",m(i.OPENANGLEBRACKET)).on("(",m(i.OPENPAREN)).on("}",m(i.CLOSEBRACE)).on("]",m(i.CLOSEBRACKET)).on(">",m(i.CLOSEANGLEBRACKET)).on(")",m(i.CLOSEPAREN)).on("&",m(i.AMPERSAND)).on([",",";","!",'"',"'"],m(i.PUNCTUATION)),p.on("\n",m(i.NL)).on(l,h),h.on(l,h);for(var f=0;f<r.length;f++){var y=(0,t.stateify)(r[f],p,i.TLD,i.DOMAIN);u.push.apply(u,y)}var k=(0,t.stateify)("file",p,i.DOMAIN,i.DOMAIN),v=(0,t.stateify)("ftp",p,i.DOMAIN,i.DOMAIN),w=(0,t.stateify)("http",p,i.DOMAIN,i.DOMAIN),x=(0,t.stateify)("mailto",p,i.DOMAIN,i.DOMAIN);u.push.apply(u,k),u.push.apply(u,v),u.push.apply(u,w);var O=k.pop(),z=v.pop(),A=w.pop(),N=x.pop(),j=m(i.DOMAIN),E=m(i.PROTOCOL),C=m(i.MAILTO);z.on("s",j).on(":",E),A.on("s",j).on(":",E),u.push(j),O.on(":",E),j.on(":",E),N.on(":",C);var M=(0,t.stateify)("localhost",p,i.LOCALHOST,i.DOMAIN);u.push.apply(u,M),p.on(s,g),g.on("-",b).on(s,g).on(c,d),d.on("-",b).on(c,d);for(var S=0;S<u.length;S++)u[S].on("-",b).on(c,d);b.on("-",b).on(s,d).on(c,d),p.defaultTransition=m(i.SYM);var D=p;a.State=t.CharacterState,a.TOKENS=n,a.run=function(e){for(var a=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),o=e.length,t=[],i=0;i<o;){for(var n=p,r=null,s=0,c=null,l=-1;i<o&&(r=n.next(a[i]));)(n=r).accepts()?(l=0,c=n):l>=0&&l++,s++,i++;if(!(l<0)){i-=l,s-=l;var u=c.emit();t.push(new u(e.substr(i-s,s)))}}return t},a.start=D}),
(function(t,e,n){"use strict";e.__esModule=!0,e.URL=e.TEXT=e.NL=e.EMAIL=e.MAILTOEMAIL=e.Base=void 0;var i=n(1039),o=n(1036),r=n(1040);var s=(0,i.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var a=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0}),h=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),c=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"text"}),u=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"nl"}),f=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",n=!1,i=!1,o=this.v,s=[],a=0;o[a]instanceof r.PROTOCOL;)n=!0,s.push(o[a].toString().toLowerCase()),a++;for(;o[a]instanceof r.SLASH;)i=!0,s.push(o[a].toString()),a++;for(;(t=o[a])instanceof r.DOMAIN||t instanceof r.TLD;)s.push(o[a].toString().toLowerCase()),a++;for(;a<o.length;a++)s.push(o[a].toString());return s=s.join(""),n||i||(s=e+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof r.PROTOCOL}});e.Base=s,e.MAILTOEMAIL=a,e.EMAIL=h,e.NL=u,e.TEXT=c,e.URL=f}),
(function(n,o,O){"use strict";o.__esModule=!0,o.start=o.run=o.TOKENS=o.State=void 0;var E=O(1038),L=O(1040),A=(T(L),O(1042)),N=T(A);function T(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var O in n)Object.prototype.hasOwnProperty.call(n,O)&&(o[O]=n[O]);return o.default=n,o}var C=function(n){return new E.TokenState(n)},S=C(),R=C(),t=C(),e=C(),r=C(),P=C(),D=C(),M=C(A.URL),U=C(),u=C(A.URL),a=C(A.URL),l=C(),B=C(),s=C(),K=C(),I=C(),f=C(A.URL),i=C(A.URL),H=C(A.URL),v=C(A.URL),c=C(),h=C(),p=C(),G=C(),w=C(),d=C(),k=C(A.EMAIL),Y=C(),_=C(A.EMAIL),g=C(A.MAILTOEMAIL),x=C(),m=C(),y=C(),Q=C(),X=C(A.NL);S.on(L.NL,X).on(L.PROTOCOL,R).on(L.MAILTO,t).on(L.SLASH,e),R.on(L.SLASH,e),e.on(L.SLASH,r),S.on(L.TLD,P).on(L.DOMAIN,P).on(L.LOCALHOST,M).on(L.NUM,P),r.on(L.TLD,a).on(L.DOMAIN,a).on(L.NUM,a).on(L.LOCALHOST,a),P.on(L.DOT,D),w.on(L.DOT,d),D.on(L.TLD,M).on(L.DOMAIN,P).on(L.NUM,P).on(L.LOCALHOST,P),d.on(L.TLD,k).on(L.DOMAIN,w).on(L.NUM,w).on(L.LOCALHOST,w),M.on(L.DOT,D),k.on(L.DOT,d),M.on(L.COLON,U).on(L.SLASH,a),U.on(L.NUM,u),u.on(L.SLASH,a),k.on(L.COLON,Y),Y.on(L.NUM,_);var b=[L.DOMAIN,L.AT,L.LOCALHOST,L.NUM,L.PLUS,L.POUND,L.PROTOCOL,L.SLASH,L.TLD,L.UNDERSCORE,L.SYM,L.AMPERSAND],j=[L.COLON,L.DOT,L.QUERY,L.PUNCTUATION,L.CLOSEBRACE,L.CLOSEBRACKET,L.CLOSEANGLEBRACKET,L.CLOSEPAREN,L.OPENBRACE,L.OPENBRACKET,L.OPENANGLEBRACKET,L.OPENPAREN];a.on(L.OPENBRACE,B).on(L.OPENBRACKET,s).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,I),l.on(L.OPENBRACE,B).on(L.OPENBRACKET,s).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,I),B.on(L.CLOSEBRACE,a),s.on(L.CLOSEBRACKET,a),K.on(L.CLOSEANGLEBRACKET,a),I.on(L.CLOSEPAREN,a),f.on(L.CLOSEBRACE,a),i.on(L.CLOSEBRACKET,a),H.on(L.CLOSEANGLEBRACKET,a),v.on(L.CLOSEPAREN,a),c.on(L.CLOSEBRACE,a),h.on(L.CLOSEBRACKET,a),p.on(L.CLOSEANGLEBRACKET,a),G.on(L.CLOSEPAREN,a),B.on(b,f),s.on(b,i),K.on(b,H),I.on(b,v),B.on(j,c),s.on(j,h),K.on(j,p),I.on(j,G),f.on(b,f),i.on(b,i),H.on(b,H),v.on(b,v),f.on(j,f),i.on(j,i),H.on(j,H),v.on(j,v),c.on(b,f),h.on(b,i),p.on(b,H),G.on(b,v),c.on(j,c),h.on(j,h),p.on(j,p),G.on(j,G),a.on(b,a),l.on(b,a),a.on(j,l),l.on(j,l),t.on(L.TLD,g).on(L.DOMAIN,g).on(L.NUM,g).on(L.LOCALHOST,g),g.on(b,g).on(j,x),x.on(b,g).on(j,x);var q=[L.DOMAIN,L.NUM,L.PLUS,L.POUND,L.QUERY,L.UNDERSCORE,L.SYM,L.AMPERSAND,L.TLD];P.on(q,m).on(L.AT,y),M.on(q,m).on(L.AT,y),D.on(q,m),m.on(q,m).on(L.AT,y).on(L.DOT,Q),Q.on(q,m),y.on(L.TLD,w).on(L.DOMAIN,w).on(L.LOCALHOST,k);o.State=E.TokenState,o.TOKENS=N,o.run=function(n){for(var o=n.length,O=0,E=[],L=[];O<o;){for(var N=S,T=null,C=null,R=0,t=null,e=-1;O<o&&!(T=N.next(n[O]));)L.push(n[O++]);for(;O<o&&(C=T||N.next(n[O]));)T=null,(N=C).accepts()?(e=0,t=N):e>=0&&e++,O++,R++;if(e<0)for(var r=O-R;r<O;r++)L.push(n[r]);else{L.length>0&&(E.push(new A.TEXT(L)),L=[]),O-=e,R-=e;var P=t.emit();E.push(new P(n.slice(O-R,O)))}}return L.length>0&&E.push(new A.TEXT(L)),E},o.start=S}),
(function(r,n,t){"use strict";n.__esModule=!0,n.tokenize=n.test=n.scanner=n.parser=n.options=n.inherits=n.find=void 0;var i=t(1036),e=l(t(1037)),o=l(t(1041)),s=l(t(1043));function l(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t]);return n.default=r,n}Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});var u=function(r){return s.run(o.run(r))};n.find=function(r){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=u(r),i=[],e=0;e<t.length;e++){var o=t[e];!o.isLink||n&&o.type!==n||i.push(o.toObject())}return i},n.inherits=i.inherits,n.options=e,n.parser=s,n.scanner=o,n.test=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=u(r);return 1===t.length&&t[0].isLink&&(!n||t[0].type===n)},n.tokenize=u}),
(function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(3,1),i=(n=o)&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1044));var s=a.options,f=s.Options;function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===i.default.Children.count(e.props.children))return e;var n=[];i.default.Children.forEach(e.props.children,function(e){"string"==typeof e?n.push.apply(n,function(e,t){for(var r=a.tokenize(e),n=[],o=0,s=0;s<r.length;s++){var f=r[s];if("nl"===f.type&&t.nl2br)n.push(i.default.createElement("br",{key:"linkified-"+ ++o}));else if(f.isLink&&t.check(f)){var l=t.resolve(f),p=(l.href,l.formatted),u=l.formattedHref,c=l.tagName,h=l.className,d=l.target,y=l.attributes,v=(l.events,{key:"linkified-"+ ++o,href:u});if(h&&(v.className=h),d&&(v.target=d),y)for(var m in y)v[m]=y[m];n.push(i.default.createElement(c,v,p))}else n.push(f.toString())}return n}(e,t)):i.default.isValidElement(e)?"string"==typeof e.type&&s.contains(t.ignoreTags,e.type.toUpperCase())?n.push(e):n.push(l(e,t,++r)):n.push(e)});var o={key:"linkified-element-"+r};for(var f in e.props)o[f]=e.props[f];return i.default.cloneElement(e,o,n)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e={key:"linkified-element-0"};for(var t in this.props)"options"!==t&&"tagName"!==t&&(e[t]=this.props[t]);var r=new f(this.props.options),n=this.props.tagName||"span";return l(i.default.createElement(n,e),r,0)},t}(i.default.Component);t.default=p}),
(function(i,t,e){i.exports=e(1045).default}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),n=t(878                  ),m=t(1035                   ),l=t(1046             );class o extends a.Component{render(){const e=n.messageMetaToElement(this.props.messageMeta,m.mention),s=this.props.className||m.defaultMessage;return a.createElement("div",{className:m.emojiSmall+" "+s},a.createElement(l.default,{options:{target:"_blank",attributes:{rel:"noopener"},className:m.linkified}},e))}}s.CommentMessage=o,o.displayName="CommentMessage"}),
(function(o,n,t){o.exports={root:"pointing_dropdown--root--28JAG",arrow:"pointing_dropdown--arrow--Lu8iU",content:"pointing_dropdown--content--2os_K"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(3,1    ),s=o(7,1        ),i=o(145         ),r=o(345                                  ),p=o(1048                     ),c=8,h=16;e.ARROW_HEIGHT=7;class a extends n.PureComponent{constructor(){super(...arguments),this.state={contentTop:0,contentLeft:0},this.getContentLocation=(()=>{const t=this.props.lean||"center",o=this.props.targetRect,n=this.contentEl.getBoundingClientRect(),s=this.props.displayAboveTarget?o.top-e.ARROW_HEIGHT+2:o.bottom+e.ARROW_HEIGHT-2;switch(t){case"center":return new i.Vector(o.left+o.width/2-n.width/2,s);case"left":return new i.Vector(o.right+h-n.width,s);case"right":return new i.Vector(o.left-h,s)}}),this.ensureContentOnScreen=(()=>{const t=this.getContentLocation();t.x=Math.max(c,t.x);const o=this.contentEl.getBoundingClientRect(),n=t.x+o.width,s=t.y+(this.props.displayAboveTarget?-1:1)*o.height,i=window.innerWidth-6,r=window.innerHeight-6,p=e.ARROW_HEIGHT+2;n>i&&(t.x-=n-i),s>r&&(t.y-=s-r),t.y<p&&(t.y=p),this.setState({contentTop:Math.round(t.y),contentLeft:Math.round(t.x)})}),this.contentRef=(t=>{this.contentEl=s.findDOMNode(t),this.contentEl&&this.ensureContentOnScreen()})}render(){const t=this.props.minWidth||200,o=this.props.maxHeight||"none",s={top:this.props.displayAboveTarget?void 0:this.state.contentTop,bottom:this.props.displayAboveTarget?window.innerHeight-this.state.contentTop:void 0,left:this.state.contentLeft,maxHeight:o,minWidth:t,maxWidth:this.props.maxWidth},i=this.props.targetRect,c=i.left+i.width/2-e.ARROW_HEIGHT,h=this.props.displayAboveTarget?i.top-e.ARROW_HEIGHT:i.bottom;return n.createElement("div",{className:`${p.root} ${this.props.className||""}`},!!this.props.showPoint&&n.createElement("div",{className:p.arrow,style:{left:c,top:h,transform:this.props.displayAboveTarget?"scale(-1)":void 0}}),n.createElement(r.dropdown.Dropdown,{className:p.content,style:s,ref:this.contentRef},this.props.children))}}e.PointingDropdown=a,a.displayName="PointingDropdown",a.defaultProps={showPoint:!0}}),
(function(o,t,e){o.exports={pointingDropdown:"multilevel_dropdown--pointingDropdown--2WXDP",submenu:"multilevel_dropdown--submenu--2IXt7",name:"multilevel_dropdown--name--1abLT ellipsis--ellipsis--1RWY6",rightColumn:"multilevel_dropdown--rightColumn--229nN",rightColumnShortcut:"multilevel_dropdown--rightColumnShortcut--1_lu1 multilevel_dropdown--rightColumn--229nN text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionDisabled:"multilevel_dropdown--optionDisabled--2ulbE multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",iconContainer:"multilevel_dropdown--iconContainer--dtBCs",highlight:"multilevel_dropdown--highlight--1lis7",option:"multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",optionActive:"multilevel_dropdown--optionActive--3iZDH multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--fontNeg12--oxUtr text--_fontBase--YWDo0 text--_whiteText--2PkdM",childCheckedIndicator:"multilevel_dropdown--childCheckedIndicator--tZM0p",noLeftPadding:"multilevel_dropdown--noLeftPadding--3TWPw"}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11 8L5 4v8l6-4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="7" height="10" viewBox="0 0 7 10" xmlns="http://www.w3.org/2000/svg"><path d="M1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1zm4-1.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,i){t.exports={src:'<svg width="8" height="10" viewBox="0 0 8 10" xmlns="http://www.w3.org/2000/svg"><path d="M5 2.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5zM1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(145         ),n=s(1050                                                                    ),l=s(174                        ),a=s(172              ),c=s(534                                                    ),r=s(525                                                    ),p=s(723               ),h=s(729                                                ),u=s(1051                                                  ),m=s(1052                                          ),d=s(1053                                            );t.highlightText=((e,t,s)=>{const i=t.split(/(0+)/).filter(e=>e);let n=[],l=0;for(let a of i){const t="1"===a[0],i=e.substr(l,a.length),c=t?s:"";n.push(o.createElement("span",{key:l,className:c},i)),l+=a.length}return o.createElement("span",null,n)});class v extends a.PureComponent{constructor(){super(...arguments),this.justClickedToOpen=!1,this.delayedMount=new p.DelayedTask,this.onMouseUp=a.mouseEvent(this,"mouseup",e=>{this.justClickedToOpen?this.justClickedToOpen=!1:this.props.onSelect&&this.props.onSelect(e)}),this.onMouseEnter=a.mouseEvent(this,"mouseenter",e=>{this.justClickedToOpen&&(this.mouseEnterPos=new i.Vector(e.clientX,e.clientY)),this.props.onMouseEnter&&this.props.onMouseEnter(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.onMouseLeave=a.mouseEvent(this,"mouseleave",e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e)}),this.onMouseMove=a.mouseEvent(this,"mousemove",e=>{if(this.justClickedToOpen&&this.mouseEnterPos){new i.Vector(e.clientX,e.clientY).distanceTo(this.mouseEnterPos)>5&&(this.justClickedToOpen=!1)}this.props.onMouseMove&&this.props.onMouseMove(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.stopPropagation=(e=>e.stopPropagation())}componentDidMount(){this.justClickedToOpen=!0,this.delayedMount.scheduleOnce(()=>{this.justClickedToOpen=!1},1e3)}componentWillUnmount(){super.componentWillUnmount(),this.delayedMount.reset()}render(){const e=this.props.item.displayText,s=this.props.item.highlightBitString?t.highlightText(e,this.props.item.highlightBitString,n.highlight):e;let i=n.option;this.props.item.disabled?i=n.optionDisabled:this.props.isActive&&(i=n.optionActive),this.props.showCheckmarkOffset&&(i+=` ${n.noLeftPadding}`);const a=this.props.item.isLocked&&!this.props.item.isChecked;return o.createElement("div",{className:i,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.stopPropagation},!a&&this.props.showCheckmarkOffset&&o.createElement("div",{className:n.iconContainer},this.props.item.isChecked&&o.createElement(l.Svg,{svg:h}),this.props.item.isChildChecked&&o.createElement("div",{className:n.childCheckedIndicator})),a&&o.createElement("div",{className:n.iconContainer},o.createElement(c.SvgWithFallback,{svg:m,fallbackSvg:d})),this.props.item.icon,o.createElement("div",{className:n.name},s),!!this.props.item.children&&o.createElement(l.Svg,{svg:u,className:n.rightColumn}),this.props.item.shortcut&&o.createElement(r.KeyboardShortcut,{shortcut:this.props.item.shortcut,className:n.rightColumnShortcut}))}}t.MultilevelDropdownOption=v,v.displayName="MultilevelDropdownOption"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPointInPolygon=((e,t)=>{const{x:n,y:o}=e;let l=!1;for(let r=0,s=t.length-1;r<t.length;s=r++){const{x:e,y:c}=t[r],{x:i,y:u}=t[s];c>o!=u>o&&n<(i-e)*(o-c)/(u-c)+e&&(l=!l)}return l})}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3,1    ),n=i(7,1        ),o=i(106                                     ),h=i(345                                  ),r=i(1049                                                            ),p=i(1050                                                                    ),l=i(1054                                                                       ),a=i(1055          ),c=i(145         ),u=i(170                        ),m=i(172              ),d=i(361                                           ),v=i(212      ),I=h.dropdown.Dropdown,f=h.dropdown.Separator,w=8,b=2*w,g=8,M=24,S=17;let y=!1;const C=[],O=t=>{C.push(t),C.length>3&&C.shift()};class R extends s.PureComponent{constructor(t){super(t),this.rootMenuTop=0,this.options=Object.create(null),this.getActiveItemAtDepth=(t=>0===t?null==this.state.activeItem?null:this.visibleItems[this.state.activeItem.index]:null!=this.state.activeItem&&this.state.activeItemSubmenuShown&&this.childMenu?this.childMenu.getActiveItemAtDepth(t-1):null),this.pathToActivate=null,this.setActiveItemPath=(t=>{const e=t[this.props.depth],i=this.findVisibleItemIndexByName(e);if(-1!==i){const e=this.visibleItems[i];this.props.depth<t.length-1&&e.children&&(this.pathToActivate=t),this.setActiveOption(e,i,!0)}}),this.findVisibleItemIndexByName=(t=>{for(let e=0;e<this.visibleItems.length;e++){const i=this.visibleItems[e];if(i&&i.displayText===t)return e}return-1}),this.selectNextActiveItem=((t,e)=>{for(let i=void 0===e?0:e+1;i<t.length;i++){const e=t[i];if(this.isItemSelectable(e)){this.setActiveOption(e,i);break}}}),this.showSubmenu=(()=>{const t=null!==this.state.activeItem&&this.visibleItems[this.state.activeItem.index];t&&t.children&&t.children.length&&this.setState({activeItemSubmenuShown:!0})}),this.dismissMenu=(()=>{this.setState({activeItemSubmenuShown:!1})}),this.userInput="",this.lastInputAt=0,this.addInputChar=(t=>{const e=String.fromCharCode(t).toLowerCase(),i=(new Date).getTime();this.userInput=i-this.lastInputAt<1500?this.userInput+e:e,this.lastInputAt=i;let s=null;this.visibleItems.forEach(t=>{if(null!=t&&null===s&&t.displayText){t.displayText.toLowerCase().startsWith(this.userInput)&&(s=t)}}),null!==s&&this.setActiveOption(s,this.visibleItems.indexOf(s))}),this.onKeyDownFromFullscreen=(t=>{t.accept(),this.onKeyDown(t.event)}),this.onKeyDown=(t=>{if(!this.state.activeItemSubmenuShown){this.props.onKeyDown&&this.props.onKeyDown(t);const e=this.props.depth>0;let i=null;switch(t.keyCode){case v.Key.ENTER:t.preventDefault(),(i=null!=this.state.activeItem?this.visibleItems[this.state.activeItem.index]:null)&&(i.children?this.setState({activeItemSubmenuShown:!0}):(this.props.dispatch(o.fileBrowser.hideDropdown()),this.props.onSelectItem(i,t)));break;case v.Key.ESCAPE:t.preventDefault(),this.props.showSearchItems&&this.props.onClearSearch?this.props.onClearSearch():e?this.props.onDismissMenu&&this.props.onDismissMenu():this.props.dispatch(o.fileBrowser.hideDropdown());break;case v.Key.LEFT_ARROW:this.props.openSubmenuToTheLeft?this.showSubmenu():e&&this.props.onDismissMenu&&this.props.onDismissMenu();break;case v.Key.RIGHT_ARROW:this.props.openSubmenuToTheLeft?e&&this.props.onDismissMenu&&this.props.onDismissMenu():this.showSubmenu();break;case v.Key.DOWN_ARROW:if(t.preventDefault(),null===this.state.activeItem){const t=0,e=this.visibleItems[t];this.setActiveOption(e,t)}else this.state.activeItem.index<this.visibleItems.length-1&&this.selectNextActiveItem(this.visibleItems,this.state.activeItem.index);break;case v.Key.UP_ARROW:if(t.preventDefault(),null===this.state.activeItem){const t=this.visibleItems.length-1,e=this.visibleItems[t];this.setActiveOption(e,t)}else if(this.state.activeItem.index>0)for(let t=this.state.activeItem.index-1;t>-1;t--){const e=this.visibleItems[t];if(this.isItemSelectable(e)){this.setActiveOption(e,t);break}}break;default:document.activeElement&&"INPUT"==document.activeElement.tagName&&!document.activeElement.classList.contains("focus-target")||this.addInputChar(t.keyCode)}}}),this.setActiveOption=((t,e,i)=>{const s=this.options[e],o=n.findDOMNode(s);o&&this.setState({activeItem:{index:e,clientRect:o.getBoundingClientRect()},activeItemSubmenuShown:!(!t.children||!i)})}),this.isRecordingOrPlayingBack=(()=>u.isRecording()||m.isRunningInteractionTests()),this.onMouseEnterItem=((t,e)=>i=>{!this.isRecordingOrPlayingBack()&&y?setTimeout(()=>{const i=this.options[e],s=n.findDOMNode(i);if(s&&C.length>0){const i=s.getBoundingClientRect(),n=C.slice(-1)[0];n.x>=i.left&&n.x<=i.right&&n.y>=i.top&&n.y<=i.bottom&&this.setActiveOption(t,e,!0)}},200):this.setActiveOption(t,e,!0)}),this.onMouseMoveItem=(t=>{const e=new c.Vector(t.clientX,t.clientY);O(e)}),this.onMouseLeaveItem=(t=>{if(this.state.activeItemSubmenuShown){const e=this.childMenu.getSubmenuDropdownEl();if(e){const i=e.getBoundingClientRect();if(i&&C.length>0){const e=this.props.openSubmenuToTheLeft?i.right:i.left,s=new c.Vector(e,i.top),n=new c.Vector(e,i.bottom),o=[C[0],s,n],h=new c.Vector(t.clientX,t.clientY);if(!this.isRecordingOrPlayingBack()&&a.isPointInPolygon(h,o))return void(y=!0)}}}y=!1}),this.onSelectItem=(t=>e=>{e.stopPropagation(),t.disabled||t.children||(this.props.dispatch(o.fileBrowser.hideDropdown()),this.props.onSelectItem(t,e))}),this.onClickMenu=(t=>{t.stopPropagation()}),this.onMouseOverMenu=(t=>{this.setState({activeItem:null,activeItemSubmenuShown:!1})}),this.isItemSelectable=(t=>t&&!t.disabled&&!t.separator),this.optionRef=((t,e)=>{this.options[t]=e}),this.childMenuRef=(t=>{this.childMenu=t,this.pathToActivate=null}),this.submenuDropdownRef=(t=>{this.submenuDropdownEl=t?n.findDOMNode(t):null}),this.getSubmenuDropdownEl=(()=>this.submenuDropdownEl),this.renderItem=((t,e,i)=>{if(!t)return;if(t.separator)return s.createElement(f,{key:e});const n=this.props.parentKey?`${this.props.parentKey}.`:"",o=`${this.props.recordingKey}.${n}${t.recordingKey}`;return s.createElement(l.MultilevelDropdownOption,{key:e,item:t,isActive:!(!this.state.activeItem||e!==this.state.activeItem.index),onSelect:this.onSelectItem(t),onMouseEnter:this.onMouseEnterItem(t,e),onMouseMove:this.onMouseMoveItem,onMouseLeave:this.onMouseLeaveItem,showCheckmarkOffset:i,recordingKey:o,ref:this.optionRef.bind(this,e)})}),this.filterVisibleItems=(t=>{this.props.isItemVisible&&(t=t.filter(this.props.isItemVisible));for(let e=0;e<t.length;)null==t[e]?t.splice(e,1):++e;for(let e=1;e<t.length;)t[e].separator&&t[e-1].separator?t.splice(e,1):++e;return t.length>0&&t[0].separator&&(t=t.slice(1)),t.length>0&&t.slice(-1)[0].separator&&(t=t.slice(0,-1)),t}),this.optionHeight=(t=>t.separator?S:M),this.optionsHeight=(t=>t.map(this.optionHeight).reduce((t,e)=>t+e,0)),this.optionsMaxHeight=(()=>{let t;return t=0===this.props.depth?this.rootMenuChildContentBottom:g+w,window.innerHeight-t-w}),this.getOverflowCutoffIndex=((t,e)=>{let i=M;for(let s=0;s<t.length;s++)if((i+=this.optionHeight(t[s]))>e)return s;return t.length}),this.nestOverflowItems=((t,e)=>{const i=this.getOverflowCutoffIndex(t,e);if(i<t.length){const e=t.slice(i),s={displayText:"More",children:e,disabled:!1,isChecked:!1,isChildChecked:e.some(t=>t.isChecked||t.isChildChecked)};return t.slice(0,i).concat(s)}return t}),this.renderOptions=(t=>{const e=t.some(t=>t&&(t.isChecked||t.isChildChecked||t.alwaysShowCheckMarkOffset||this.props.alwaysShowCheckMarkOffset));return t.map((t,i)=>this.renderItem(t,i,e))}),this.renderAsSubmenu=(t=>{t=this.filterVisibleItems(t);const e={};this.props.openSubmenuToTheLeft?e.right=window.innerWidth-this.props.parentRect.left:e.left=this.props.parentRect.right;const i=this.optionsMaxHeight();let n=this.optionsHeight(t)>i;n&&(t=this.nestOverflowItems(t,i));const o=this.optionsHeight(t)+b,h=this.props.parentRect.top-w;return h+o<window.innerHeight?e.top=h:e.top=Math.max(g,this.props.parentRect.bottom-o+w),this.visibleItems=t,s.createElement("div",null,s.createElement(I,{ref:this.submenuDropdownRef,className:p.submenu,key:"menu",onClick:this.onClickMenu,style:e},this.renderOptions(t)),this.renderChildMenu(t,n,!!this.props.openSubmenuToTheLeft))}),this.renderAsRootMenu=(t=>{t=this.filterVisibleItems(t);const e=this.optionsMaxHeight(),i=this.optionsHeight(t)>e;i&&(t=this.nestOverflowItems(t,e)),this.visibleItems=t;const n=this.props.openSubmenuToTheLeft||window.innerWidth-this.props.parentRect.right<this.props.parentRect.width;return s.createElement("div",null,s.createElement(r.PointingDropdown,{key:"pointing",targetRect:this.props.parentRect,className:p.pointingDropdown,showPoint:this.props.showPoint,minWidth:this.props.minWidth},s.createElement("div",{key:"child-container",onClick:this.onClickMenu,onMouseOver:this.onMouseOverMenu,ref:this.rootMenuChildContainerRef},this.props.children),this.renderOptions(t)),this.renderChildMenu(t,i,n))}),this.rootMenuChildContentBottom=0,this.rootMenuChildContainerRef=(t=>{t&&requestAnimationFrame(()=>{this.rootMenuChildContentBottom=t.getBoundingClientRect().bottom,this.forceUpdate()})}),this.renderChildMenu=((t,e,i)=>{if(this.state.activeItemSubmenuShown&&this.state.activeItem&&t[this.state.activeItem.index]){const n=t[this.state.activeItem.index],o=n.recordingKey,h=n.children||[];return s.createElement(R,Object.assign({},this.props,{key:`${this.props.depth}-${this.state.activeItem.index}`,depth:this.props.depth+1,isOverflowMenu:e,items:h,onDismissMenu:this.dismissMenu,ref:this.childMenuRef,rootMenuTop:this.rootMenuTop,parentRect:this.state.activeItem.clientRect,parentKey:o,activatePathOnMount:this.props.activatePathOnMount||this.pathToActivate||void 0,openSubmenuToTheLeft:i}))}}),this.state={activeItem:null,activeItemSubmenuShown:!1},0===this.props.depth?this.rootMenuTop=this.props.parentRect?this.props.parentRect.top+this.props.parentRect.height:0:null!=this.props.rootMenuTop&&(this.rootMenuTop=this.props.rootMenuTop)}componentDidMount(){if(document.addEventListener("keydown",this.onKeyDown),0===this.props.depth||this.selectNextActiveItem(this.visibleItems),this.props.activatePathOnMount){const t=this.props.activatePathOnMount[this.props.depth],e=this.findVisibleItemIndexByName(t);-1!==e&&this.setActiveOption(this.visibleItems[e],e,!0)}}UNSAFE_componentWillReceiveProps(t){this.props.items&&t.items&&this.props.items.length===t.items.length||this.setState({activeItemSubmenuShown:!1})}componentDidUpdate(t){t.items!==this.props.items&&(this.props.showSearchItems?this.selectNextActiveItem(this.visibleItems,-1):t.showSearchItems&&this.setState({activeItem:null}))}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),0===this.props.depth&&(C.length=0,y=!1)}render(){if(!this.props.items||0===this.props.items.length)return null;const t=this.props.depth>0;return s.createElement(d.KeyboardReceiver,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},t?this.renderAsSubmenu(this.props.items):this.renderAsRootMenu(this.props.items))}}e.MultilevelDropdown=R,R.displayName="MultilevelDropdown",R.defaultProps={depth:0}}),
(function(o,t,i){o.exports={src:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.122 2.996c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.505 1.126-1.127 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM5.307 7.693L4.6 8.4l2.475 2.475 4.596-4.596-.707-.707-3.89 3.889-1.767-1.768z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(7,1        ),n=s(47,1    ),a=s(106                                     ),r=s(438                                 ),m=s(876                                  ),p=s(136                            ),c=s(1034                                                                        ),d=s(1047                                                                 ),l=s(1056                                                                ),h=s(1032                  ),_=s(598                                                                  ),u=s(1057                             ),g=s(1058                          ),E=s(1059                                 );class f extends o.Component{constructor(){super(...arguments),this.dropdownTargetRef=o.createRef(),this.updateMessage=(e=>{this.props.dispatch(r.comments.setEditing({id:this.props.comment.id,key:this.props.comment.key,messageMeta:e}))}),this.onCancel=(()=>{this.props.dispatch(r.comments.stopEditing())}),this.onClickOverflow=(e=>{if(!this.props.dropdownShown||this.props.dropdownShown.type!==t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){e.stopPropagation();const s=i.findDOMNode(this.dropdownTargetRef.current);this.props.dispatch(a.fileBrowser.showDropdown({type:t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU,data:{comment:this.props.comment,confirmDelete:this.props.confirmDelete,parentRect:s?s.getBoundingClientRect():null}}))}}),this.onClickResolve=(()=>{this.props.dispatch(r.comments.setResolved({thread:this.props.thread,resolved:!this.props.comment.resolved_at}))}),this.stopPropagation=(e=>e.stopPropagation())}render(){const e=this.props.comment,t=this.props.prevAuthor!==e.user_id;if(this.props.editingComment&&this.props.editingComment.id===e.id){const{messageMeta:s}=this.props.editingComment,i=()=>{this.props.dispatch(r.comments.setMessageMeta({comment:e,messageMeta:s}))};return o.createElement(c.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.typeahead,mentionables:this.props.mentionables,messageMeta:s,submitText:"Done",placeholderText:"Comment",headerText:t?"":`${n.utc(e.created_at).fromNow(!1)}`,onCancel:this.onCancel,onSubmit:()=>this.props.submitComment(i,s),assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:!1,mountFocused:!0,updateMessage:this.updateMessage,threadPosition:this.props.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"editCommentComposer"})}return o.createElement("div",{className:t?h.threadElementNewAuthor:h.threadElementSameAuthor},o.createElement("div",{className:h.threadSubelement},o.createElement("div",{className:h.leftJustified},t&&o.createElement("span",{className:h.authorAvatar,style:{backgroundImage:`url("${e.user.img_url}")`}}),t&&o.createElement("span",{className:h.boldLabel},e.user.handle),o.createElement(m.FromNow,{className:h.grayLabel,date:e.created_at})),o.createElement("div",{className:h.rightJustified},e.user_id===this.props.user.id&&o.createElement(_.IconButton,{svg:u,onClick:this.onClickOverflow,ref:this.dropdownTargetRef}),0===this.props.index&&o.createElement(_.IconButton,{svg:e.resolved_at?E:g,"data-tooltip-text":e.resolved_at?"Unresolve":"Resolve",onClick:this.onClickResolve}))),o.createElement("div",{onMouseDown:this.stopPropagation,className:h.threadSubelement,tabIndex:1},o.createElement(d.CommentMessage,{messageMeta:e.message_meta,className:h.text}),o.createElement("div",{className:h.iconButtonSpace})))}}t.ThreadComment=f,f.displayName="ThreadComment",t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU="DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU";class v extends o.PureComponent{constructor(){super(...arguments),this.onSelectItem=((e,t)=>{e.displayText.includes("Edit")?this.editComment():e.displayText.includes("Delete")&&this.deleteComment()}),this.editComment=(()=>{const{id:e,key:t,message_meta:s}=this.props.comment;this.props.dispatch(r.comments.setEditing({id:e,key:t,messageMeta:s}))}),this.deleteComment=(()=>{this.props.confirmDelete?this.props.dispatch(a.fileBrowser.showModal({type:p.CONFIRM_COMMENT_DELETION_MODAL,data:{comment:this.props.comment}})):this.props.dispatch(r.comments.setDeleted({comment:this.props.comment}))})}render(){const e=[{displayText:"Edit..."},{displayText:this.props.confirmDelete?"Delete Thread...":"Delete Comment"}];return o.createElement(l.MultilevelDropdown,{dispatch:this.props.dispatch,items:e,showPoint:!0,parentRect:this.props.parentRect,onSelectItem:this.onSelectItem,minWidth:96,recordingKey:"commentOverflowMenu"})}}t.ThreadCommentOverflowMenu=v,v.displayName="CommentOverflowMenu"}),
(function(e,t,n){e.exports={translatedThreadContainer:"thread_container--translatedThreadContainer--idGBg",threadContainer:"thread_container--threadContainer--2AW4o text--fontPos11--RSei3 text--_fontBase--YWDo0 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54","comments-fade-in":"thread_container--comments-fade-in--rJe8S"}}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(3,1    ),i=s(340              ),r=s(145         ),n=s(206                              ),h=s(106                                     ),a=s(438                                 ),p=s(437                        ),d=s(1061                    ),c=s(411                                        ),l=s(118                             ),m=15,u=i.pxToInt(c.commentThreadOuterMargin),f=i.pxToInt(c.toolbarHeight);class P extends e.Component{constructor(){super(...arguments),this.containerRef=(t=>{t&&(this.container=t)}),this.adjustPositionAndScrollToBottom=((t=!1)=>{if(!this.container||!this.props.thread.threadPosition||!this.props.thread.anchorPosition)return;const o=2*f,s=this.props.thread.threadPosition.y+o;let e=null;if(s+this.container.offsetHeight>window.innerHeight-m){let t=window.innerHeight-o-this.container.offsetHeight-m;e={x:this.props.thread.threadPosition.x,y:t}}else!t&&s<o+m&&(e={x:this.props.thread.threadPosition.x,y:m});e&&this.props.dispatch(a.comments.setThreadOffset({threadId:this.props.thread.id,offset:r.Vector.subtract(e,this.props.thread.anchorPosition)})),this.scrollToBottom()}),this.scrollToBottom=(()=>{this.container&&(this.container.scrollTop=this.container.scrollHeight)}),this.drag=null,this.onMouseDown=(t=>{if(t.stopPropagation(),!this.props.thread.threadPosition)return;const o=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));let s=!1;o.x>this.props.thread.threadPosition.x&&o.x<this.props.thread.threadPosition.x+u?s=!0:o.y>this.props.thread.threadPosition.y&&o.y<this.props.thread.threadPosition.y+u&&(s=!0),s&&(this.drag={startPosition:o,mouseOffset:r.Vector.subtract(this.props.thread.threadPosition,o)},n.on("mousemove",this.onMouseMove),n.on("mouseup",this.onMouseUp))}),this.onMouseMove=(t=>{if(!this.drag||!this.props.thread.anchorPosition)return;const o=r.Vector.add(t,this.drag.mouseOffset),s=r.Vector.subtract(o,this.props.thread.anchorPosition);this.props.dispatch(a.comments.setThreadOffset({threadId:this.props.thread.id,offset:s}))}),this.onMouseUp=(()=>{this.drag&&(this.drag=null,n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp))}),this.hideDropdown=(()=>{this.props.dispatch(h.fileBrowser.hideDropdown())})}componentDidMount(){this.adjustPositionAndScrollToBottom()}componentDidUpdate(t){const o=this.props.thread.id;if(o!==t.thread.id)this.adjustPositionAndScrollToBottom();else if(o!==p.NEW_COMMENT_ID){const o=this.props.thread,s=t.thread;this.props.thread.comments.length===t.thread.comments.length&&o.replyMessageMeta===s.replyMessageMeta||this.adjustPositionAndScrollToBottom(!0)}}componentWillUnmount(){n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp)}render(){if(!this.props.thread.threadPosition)return;const t=`translate(${this.props.thread.threadPosition.x}px, ${this.props.thread.threadPosition.y}px)`;let o={transform:t,WebkitTransform:t};return e.createElement("div",{style:o,className:`${d.translatedThreadContainer} ${l.PREVENT_EVENT_CAPTURE}`,onMouseDown:this.onMouseDown,onMouseMove:t=>{const{x:o,y:s}=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));n.handleMouseMove(o,s)},onMouseUp:t=>{const{x:o,y:s}=this.props.viewportPositionFromClientPosition(new r.Vector(t.clientX,t.clientY));n.handleMouseUp(o,s)}},e.createElement("div",{ref:this.containerRef,className:d.threadContainer,onClick:this.hideDropdown},this.props.children))}}o.ThreadContainer=P,P.displayName="ThreadContainer"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),o=s(438                                 ),p=s(437                        ),r=s(1060                                                               ),n=s(1034                                                                        ),a=s(1062                                                                   );class m extends i.Component{constructor(){super(...arguments),this.dispatchSubmitReply=(()=>{this.props.dispatch(o.comments.submitReply({threadId:this.props.thread.id}))}),this.onSubmitReply=(()=>{this.props.submitComment(this.dispatchSubmitReply,this.props.thread.replyMessageMeta)}),this.cancelReply=(()=>{this.updateMessage([]),this.props.dispatch(o.comments.stopEditing())}),this.updateMessage=(e=>{this.props.dispatch(o.comments.setReplyMessage({threadId:this.props.thread.id,messageMeta:e}))})}render(){const{threadPosition:e,comments:t,state:s,replyMessageMeta:o}=this.props.thread;return null==e?null:i.createElement(a.ThreadContainer,{thread:this.props.thread,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,dispatch:this.props.dispatch},t.map((e,s)=>i.createElement(r.ThreadComment,{key:`thread-comment-${e.id}`,dispatch:this.props.dispatch,user:this.props.user,thread:this.props.thread,comment:e,typeahead:this.props.comments.typeahead,mentionables:this.props.mentionables,prevAuthor:0===s?null:t[s-1].user_id,index:s,confirmDelete:!e.parent_id&&t.length>1,editingComment:this.props.comments.editingComment,dropdownShown:this.props.dropdownShown,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,submitComment:this.props.submitComment,assignHandlers:this.props.assignHandlers,threadPosition:this.props.thread.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused})),i.createElement(n.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.comments.typeahead,mentionables:this.props.mentionables,threadPosition:e,messageMeta:o,submitText:"Reply",placeholderText:"Reply",onCancel:this.cancelReply,onSubmit:this.onSubmitReply,assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:s===p.CommentState.BUSY||!!this.props.comments.editingComment,mountFocused:!1,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,isEmojiPickerDisabled:!!this.props.comments.editingComment,recordingKey:"replyCommentComposer"}))}}t.ActiveThread=m,m.displayName="ActiveThread"}),
(function(n,o,e){n.exports={container:"nav_container--container--3X-Fv overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",header:"nav_container--header--3ARtM",plusbutton:"nav_container--plusbutton--20kBA"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(3,1    ),n=t(118                             ),r=t(1064                 ),a=t(598                                                                  ),o=t(340              ),l=t(172              ),p=t(411                                        ),c=t(665                                              ),u=t(788                                                );class h extends i.Component{constructor(){super(...arguments),this.onClick=(e=>{this.props.onPlusClick&&this.props.onPlusClick(e)})}render(){return i.createElement("div",{className:`${r.container} ${n.PREVENT_EVENT_CAPTURE}`,style:{top:o.pxToInt(p.toolbarHeight),width:o.pxToInt(p.rightNavWidth)}},i.createElement("div",{className:this.props.headerClass||r.header},this.props.header,this.props.onPlusClick&&i.createElement(a.IconButton,{svg:c,fallbackSvg:u,onClick:this.onClick,className:r.plusbutton,recordingKey:l.joinKeys(this.props,"plusVersion")}),this.props.additionalHeaders),this.props.children)}}s.RightNavContainer=h,h.displayName="RightNavContainer"}),
(function(n,o,r){n.exports={chevronContainer:"chevron--chevronContainer--3xT09",svgChevron:"chevron--svgChevron--ttrRg",chevronDown:"chevron--chevronDown--1chcB"}}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e(3,1    ),n=e(106                                     ),i=e(1066           ),r=e(172              ),p=e(174                        ),a=e(728                                            );class h extends r.Component{constructor(){super(...arguments),this.chevronRef=s.createRef(),this._onChevronToggleDropdown=r.mouseEvent(this,this.props.toggleOnClick?"click":"mousedown",o=>{if(this.props.showingDropdown)return void this.props.dispatch(n.fileBrowser.hideDropdown());let t=this.chevronRef.current;const e=t.parentElement.getBoundingClientRect();this.props.dispatch(n.fileBrowser.showDropdown({type:this.props.dropdownKey,data:Object.assign({position:this.props.positionDynamically?{top:e.top,bottom:"auto",left:e.left,right:"auto"}:null,targetRect:this.props.positionDynamically?null:t.getBoundingClientRect()},this.props.additionalDispatchData)})),this.props.toggleOnClick&&o.stopPropagation()}),this._onChevronStopPropagation=(o=>{o.stopPropagation()})}render(){const o=[i.chevronContainer,this.props.showingDropdown?i.chevronDown:"",this.props.className||""].join(" ");return s.createElement("div",{className:o,ref:this.chevronRef,"data-tooltip-text":this.props.tooltipText,onMouseDown:this.props.toggleOnClick?void 0:this._onChevronToggleDropdown,onClick:this.props.toggleOnClick?this._onChevronToggleDropdown:this._onChevronStopPropagation},s.createElement(p.Svg,{svg:this.props.iconOverride||a,className:i.svgChevron}))}}t.Chevron=h,h.displayName="Chevron"}),
(function(t,e,m){t.exports={actionItemsContainer:"comments_list--actionItemsContainer--1qpOT",actionItemRow:"comments_list--actionItemRow--1D1ok raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",actionItemCheckbox:"comments_list--actionItemCheckbox--OtFtb",actionItemLabel:"comments_list--actionItemLabel--QXQpN",emptyState:"comments_list--emptyState--2vpW7",comment:"comments_list--comment--15bRn text--fontPos11--RSei3 text--_fontBase--YWDo0",hovered:"comments_list--hovered--2h1eE",commentOtherPage:"comments_list--commentOtherPage--3iaJ1 comments_list--comment--15bRn text--fontPos11--RSei3 text--_fontBase--YWDo0",commentDateGroupHeader:"comments_list--commentDateGroupHeader--1TjR-",commentDateGroup:"comments_list--commentDateGroup--3HAwu",pageName:"comments_list--pageName--191JW",pageNameSubheader:"comments_list--pageNameSubheader--1wE3D comments_list--pageName--191JW",pageNameDivider:"comments_list--pageNameDivider--AG14H comments_list--pageName--191JW",activeComment:"comments_list--activeComment--3sFIL comments_list--comment--15bRn text--fontPos11--RSei3 text--_fontBase--YWDo0",iconDiv:"comments_list--iconDiv--xq9M0",commentHeader:"comments_list--commentHeader--1oPe8",commentIcon:"comments_list--commentIcon--3QTvZ",orderNumber:"comments_list--orderNumber--1BCqB",authorLines:"comments_list--authorLines--AHAkz",subjectAuthor:"comments_list--subjectAuthor--baUxt ellipsis--ellipsis--1RWY6",writtenWhen:"comments_list--writtenWhen--rSEVc",commentMessage:"comments_list--commentMessage--gY7rv ellipsis--ellipsis--1RWY6 text--fontPos12--3tEpz text--_fontBase--YWDo0",commentMessageRead:"comments_list--commentMessageRead--1pcG- comments_list--commentMessage--gY7rv ellipsis--ellipsis--1RWY6 text--fontPos12--3tEpz text--_fontBase--YWDo0",numReplies:"comments_list--numReplies--3nEsQ",dropdownContainer:"comments_list--dropdownContainer--1bCyz",upArrow:"comments_list--upArrow--HiBga",dropdown:"comments_list--dropdown--2pZfo",filterButton:"comments_list--filterButton--3jgPW",chevron:"comments_list--chevron--32RxI",settingsButton:"comments_list--settingsButton--3gSsC",commentOptions:"comments_list--commentOptions--2W67P"}}),
(function(l,o,t){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill-rule="nonzero" fill-opacity="1" fill="#18a0fb" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill-rule="nonzero" fill-opacity="1" fill="#d4d4d4" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill-rule="nonzero" fill-opacity="1" fill="#f24822" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3,1    ),o=s(47,1    ),a=s(85                   ),r=s(438                                 ),i=s(106                                     ),m=s(224                                            ),c=s(876                                  ),l=s(174                        ),p=s(437                        ),d=s(1065                                                    ),h=s(1047                                                                 ),g=s(345                                  ),u=s(598                                                                  ),E=s(1067                                        ),v=s(1068                 ),w=s(1069                                               ),f=s(1070                                               ),_=s(1071                                              ),C=s(641                                                          );var N;function y(e,t){const s=new Map,n=[],o=new Set(t.map(e=>e.nodeId));for(const r of e)if(r.page&&o.has(r.page)){let e=s.get(r.page);e?e.push(r):s.set(r.page,[r])}else n.push(r);const a=[];return t.forEach(e=>{const t=s.get(e.nodeId);t&&(t.sort((e,t)=>new Date(t.comments[t.comments.length-1].created_at).getTime()-new Date(e.comments[e.comments.length-1].created_at).getTime()),a.push({page:{id:e.nodeId,name:e.name},threads:t}))}),0!==n.length&&a.push({page:{id:"detached",name:"Unattached Comments"},threads:n}),a}!function(e){e.TODAY="Today",e.YESTERDAY="Yesterday",e.LAST_SEVEN="Last 7 days",e.EARLIER="Earlier"}(N||(N={}));class O extends n.Component{constructor(){super(...arguments),this.FILTER_COMMENTS_DROPDOWN="FILTER_COMMENTS_DROPDOWN",this.isDropdownShown=(()=>{var e;return(null===(e=this.props.dropdownShown)||void 0===e?void 0:e.type)===this.FILTER_COMMENTS_DROPDOWN}),this.toggleDropdown=(()=>{this.isDropdownShown()?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:this.FILTER_COMMENTS_DROPDOWN}))}),this.renderCurrentFilterText=(()=>this.props.showOnlyParticipatingComments?"Only yours":"All")}renderThreadListByPage(e,t,s=""){const o=a.getFeatureFlags().comments_sort_filter,r=o?v.pageNameSubheader:v.pageNameDivider,i=o?`comments-list-by-date-${s}-page-${t.id}`:`comments-list-page-${t.id}`;return n.createElement("div",{key:i},n.createElement("div",{className:r},t.name),e.map(e=>n.createElement(D,{key:`comments-list-item-${e.id}`,dispatch:this.props.dispatch,thread:e,isCurrentPage:o?null:t.id===this.props.pageId})))}render(){var e;const t=a.getFeatureFlags().comments_sort_filter;let s;if(t){s=function(e,t){const s=o().startOf("day"),n=[],a=[],r=[],i=[];for(const c of e){let e=o(new Date(c.comments[c.comments.length-1].created_at)).startOf("day");0===s.diff(e,"days")?n.push(c):1===s.diff(e,"days")?a.push(c):s.diff(e,"days")<7?r.push(c):i.push(c)}const m=[];return n.length>0&&m.push({threadsByPage:y(n,t),date:N.TODAY}),a.length>0&&m.push({threadsByPage:y(a,t),date:N.YESTERDAY}),r.length>0&&m.push({threadsByPage:y(r,t),date:N.LAST_SEVEN}),i.length>0&&m.push({threadsByPage:y(i,t),date:N.EARLIER}),m}(this.props.threads,this.props.pagesList).map(({threadsByPage:e,date:t})=>{const s=e.map(({threads:e,page:s})=>this.renderThreadListByPage(e,s,t));return n.createElement("div",{key:`comments-list-by-date-${t}`,className:v.commentDateGroup},n.createElement("div",{className:v.commentDateGroupHeader},t),s)})}else{s=y(this.props.threads,this.props.pagesList).map(({threads:e,page:t})=>this.renderThreadListByPage(e,t))}const r=(null===(e=this.props.pickerShown)||void 0===e?void 0:e.id)===p.COMMENT_PREFERENCE_ID,i=n.createElement(n.Fragment,null,n.createElement("div",{className:v.commentOptions},t&&n.createElement("div",{onClick:this.toggleDropdown,className:v.filterButton},this.renderCurrentFilterText(),n.createElement(E.Chevron,{className:v.chevron,dispatch:this.props.dispatch,dropdownKey:this.FILTER_COMMENTS_DROPDOWN,showingDropdown:this.isDropdownShown()})),n.createElement(u.IconButton,{svg:C,onClick:this.props.togglePreferenceModal,className:v.settingsButton,selected:r})),this.props.dropdownShown&&this.props.dropdownShown.type===this.FILTER_COMMENTS_DROPDOWN&&n.createElement("div",{className:v.dropdownContainer},n.createElement("div",{className:v.upArrow}),n.createElement(g.dropdown.Dropdown,{className:v.dropdown},n.createElement(g.dropdown.CheckableOption,{checked:!this.props.showOnlyParticipatingComments,onClick:()=>this.props.showOnlyParticipatingComments?this.props.setOnlyParticipatingComments(!1):null},"All"),n.createElement(g.dropdown.CheckableOption,{checked:this.props.showOnlyParticipatingComments,onClick:()=>this.props.showOnlyParticipatingComments?null:this.props.setOnlyParticipatingComments(!0)},"Only yours"),n.createElement(g.dropdown.Separator,null),n.createElement(g.dropdown.CheckableOption,{checked:this.props.showResolvedComments,onClick:this.props.toggleShowResolvedComments},"Show resolved comments"))));return n.createElement(d.RightNavContainer,{header:"Comments",additionalHeaders:i},!t&&n.createElement("div",{className:v.actionItemsContainer},!t&&n.createElement("div",{className:v.actionItemRow},n.createElement(m.Checkbox,{id:"show-resolved-comments",checked:this.props.showResolvedComments,onChange:this.props.toggleShowResolvedComments,className:v.actionItemCheckbox}),n.createElement(m.Label,{htmlFor:"show-resolved-comments",className:v.actionItemLabel},"Show resolved comments"))),0===s.length&&n.createElement("div",{className:v.emptyState},this.props.showOnlyParticipatingComments?"When you leave a comment or get mentioned in one, it'll show up here.":"Click the canvas to leave a comment."),n.createElement("div",null,s))}}t.CommentsList=O,O.displayName="CommentsList";class D extends n.Component{constructor(){super(...arguments),this.ref=(e=>{e&&(this.commentEl=e)}),this.onClick=(e=>{const{thread:t}=this.props;t.isActive||this.props.dispatch(r.comments.showThread({thread:t}))})}componentDidMount(){this.props.thread.isActive&&this.commentEl.scrollIntoViewIfNeeded()}componentDidUpdate(e){const t=e.thread.isActive;this.props.thread.isActive&&!t&&this.commentEl.scrollIntoViewIfNeeded()}getThreadAuthors(){const e=this.props.thread.comments;if(1===e.length)return e[0].user.handle;const t=e=>e.handle.split(" ")[0];let s=e[0].user,n={[s.id]:!0},o=t(s);for(let a of e)n[(s=a.user).id]||(n[s.id]=!0,o+=`, ${t(s)}`);return o}render(){const{comments:e,isActive:t}=this.props.thread,s=e.some(e=>e.isUnread),o=this.props.isCurrentPage||a.getFeatureFlags().comments_sort_filter,r=e[0],i=e[e.length-1],m=e.length-1;let p;m>0&&(p=1===m?"1 reply":`${m} replies`);const d=t?v.activeComment:o?v.comment:v.commentOtherPage,g=t?w:s?_:f;return n.createElement("div",{ref:this.ref,className:d,onClick:this.onClick},n.createElement("div",{className:v.commentHeader},n.createElement("div",{className:v.iconDiv},n.createElement(l.Svg,{key:"commentGrey",className:v.commentIcon,svg:g,useOriginalSrcFills:!0}),n.createElement("div",{className:v.orderNumber},r.order_id)),n.createElement("div",{className:v.authorLines},n.createElement("div",{className:v.subjectAuthor},this.getThreadAuthors(),", "),n.createElement("div",{className:v.writtenWhen},n.createElement(c.FromNow,{date:i.created_at})))),n.createElement("div",{className:v.commentMessage},n.createElement(h.CommentMessage,{messageMeta:r.message_meta})),p&&n.createElement("div",{className:v.numReplies},p))}}t.CommentsListItem=D,D.displayName="CommentsListItem"}),
(function(n,o,t){n.exports={}}),
(function(i,e,o){i.exports={emojiPickerContainer:"emoji_picker--emojiPickerContainer--3B85V",emojiPicker:"emoji_picker--emojiPicker--3nfiX"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(3,1    ),s=o(872         ),n=o(126          ),r=o(145         ),c=o(438                                 ),a=o(118                             );o(1073              );const m=o(1074                ),p=338,l=351;class d extends i.Component{constructor(){super(...arguments),this.addEmoji=(e=>{this.hideEmojiPicker(),this.props.onInsert({t:e.colons+" "}),n.segment&&n.segment.track("emojiIndex.EmojiData Inserted")}),this.onMouseDown=(e=>{e.stopPropagation()}),this.onClickOutside=(e=>{this.hideEmojiPicker(),e.stopPropagation()}),this.hideEmojiPicker=(()=>{this.props.dispatch(c.comments.setEmojiPicker({visible:!1}))}),this.onKeyDown=(e=>{e.stopPropagation()})}render(){const{threadPosition:e,emojiPicker:t}=this.props;if(!e)return null;const o=r.Vector.add(e,t.positionOffset),n=r.Vector.subtract(o,{x:l-60,y:p+70});let c=n?{transform:`translate(${n.x}px, ${n.y}px)`,WebkitTransform:`translate(${n.x}px, ${n.y}px)`}:void 0;return i.createElement("div",{className:m.emojiPickerContainer,onMouseDown:this.onClickOutside},i.createElement("div",{className:`${m.emojiPicker} ${a.PREVENT_EVENT_CAPTURE}`,style:c,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown},i.createElement(s.Picker,{native:!1,onClick:this.addEmoji,autoFocus:!0,title:"",emoji:""})))}}t.EmojiPickerView=d,d.displayName="EmojiPickerView"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(438                                 ),n=s(437                        ),a=s(875                                                ),r=s(1062                                                                   ),p=s(1034                                                                        );class m extends o.Component{constructor(){super(...arguments),this.updateMessage=(e=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:e}))}),this.submit=(()=>{this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:[]})),this.props.dispatch(i.comments.deactivateActiveComment())})}render(){const{thread:e}=this.props;return o.createElement("div",null,o.createElement(a.NewCommentAnchor,{thread:this.props.thread,pageId:this.props.pageId,viewportInfo:this.props.viewportInfo,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,dispatch:this.props.dispatch}),o.createElement(r.ThreadContainer,{thread:e,dispatch:this.props.dispatch,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition},o.createElement(p.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.typeahead,mentionables:this.props.mentionables,threadPosition:e.threadPosition,messageMeta:e.messageMeta,submitText:"Post",placeholderText:"Comment",onSubmit:this.submit,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,viewportPositionFromClientPosition:this.props.viewportPositionFromClientPosition,isDisabled:e.state===n.CommentState.BUSY,mountFocused:!0,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"newCommentComposer"})))}}t.NewComment=m,m.displayName="NewComment"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),n=t(212      ),i=t(438                                 );class a extends o.Component{constructor(){super(...arguments),this.getPositionTranslateStyle=(()=>{const{x:e,y:s}=this.props.position;return{transform:`translate(${e}px, ${s}px)`,WebkitTransform:`translate(${e}px, ${s}px)`}}),this.handleKeyDown=(e=>{const s=()=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey,t=this.props.typeahead,a=o.Children.count(this.props.children);let p=null;if(e.keyCode!==n.Key.DOWN_ARROW||s())if(e.keyCode!==n.Key.UP_ARROW||s()){if((()=>e.keyCode===n.Key.DOWN_ARROW||e.keyCode===n.Key.UP_ARROW)()&&s())return void this.props.onClear()}else p=(a+t.index-1)%a;else p=(t.index+1)%a;e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB||(p=t.index,this.props.onInsert()),null!==p&&this.props.dispatch(i.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:p}))),e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB&&e.keyCode!==n.Key.ESCAPE&&e.keyCode!==n.Key.LEFT_ARROW&&e.keyCode!==n.Key.RIGHT_ARROW||setTimeout(()=>{this.props.onClear()},50)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return o.createElement("div",{className:this.props.className,style:this.getPositionTranslateStyle(),onKeyDown:this.handleKeyDown,onMouseMove:this.props.onMouseMove},this.props.children)}}s.TypeaheadView=a,a.displayName="TypeaheadView";class p extends o.Component{constructor(){super(...arguments),this.handleMouseUp=(e=>{e.stopPropagation()}),this.handleMouseDown=(e=>{this.props.onClick(),e.stopPropagation(),e.preventDefault()})}render(){let e=this.props.className;return this.props.selected&&(e+=" "+this.props.selectedClassName),o.createElement("div",{className:e,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseOver:this.props.onMouseOver},this.props.children)}}s.TypeaheadItem=p,p.displayName="TypeaheadItem"}),
(function(e,a,o){e.exports={emojiTypeahead:"emoji_typeahead--emojiTypeahead--1DE3y",emojiTypeaheadRow:"emoji_typeahead--emojiTypeaheadRow--1ZflI",emojiTypeaheadRowSelected:"emoji_typeahead--emojiTypeaheadRowSelected--9WsaA",emojiPreview:"emoji_typeahead--emojiPreview--2ernv"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),o=t(872         ),i=t(877                  ),p=t(438                                 ),n=t(1077         ),h=t(1078                   );class m extends a.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onEmojiTypeaheadClick=(e=>{this.placeEmoji(e),this.props.onInsert(),this.props.dispatch(p.comments.setTypeahead(null))}),this.placeEmoji=(e=>{this.props.dispatch(p.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:e})))})}componentDidUpdate(e){e.typeahead.emojis!==this.props.typeahead.emojis&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.emojis.map((e,s)=>{let t=e.unified;const p=o.emojiIndex.getDefaultSkin();i.MODIFIABLE_EMOJI_BASES_SET[t.toUpperCase()]&&p&&(t+=`-${i.SKIN_TONES[p]}`);return a.createElement(n.TypeaheadItem,{className:h.emojiTypeaheadRow,selectedClassName:h.emojiTypeaheadRowSelected,selected:this.props.typeahead.index===s,onClick:()=>this.onEmojiTypeaheadClick(s),onMouseOver:()=>{this.mouseMoved&&this.placeEmoji(s)},key:e.name},a.createElement("img",{className:h.emojiPreview,src:i.unifiedToPNG(t)}),":"+e.name+":")});return a.createElement(n.TypeaheadView,{typeahead:this.props.typeahead,className:h.emojiTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}s.EmojiTypeaheadView=m,m.displayName="EmojiTypeaheadView"}),
(function(e,a,n){e.exports={mentionsTypeahead:"mentions_typeahead--mentionsTypeahead--a7wUe",mentionsTypeaheadRow:"mentions_typeahead--mentionsTypeaheadRow--Sa7ew",mentionsTypeaheadRowSelected:"mentions_typeahead--mentionsTypeaheadRowSelected--hjK29",email:"mentions_typeahead--email--3-fFF mentions_typeahead--profileItem--1b-Ry",avatar:"mentions_typeahead--avatar--ScSXp",profile:"mentions_typeahead--profile--14Amm",profileItem:"mentions_typeahead--profileItem--1b-Ry",name:"mentions_typeahead--name--2jFz- mentions_typeahead--profileItem--1b-Ry"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),i=t(438                                 ),n=t(1077         ),o=t(613                                                        ),p=t(1080                      );class d extends a.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onMentionTypeaheadClick=(e=>{this.placeMention(e),this.props.onInsert(),this.props.dispatch(i.comments.setTypeahead(null))}),this.placeMention=(e=>{this.props.dispatch(i.comments.setTypeahead(Object.assign(Object.assign({},this.props.typeahead),{index:e})))})}componentDidUpdate(e){e.typeahead.mentions!==this.props.typeahead.mentions&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.mentions.map((e,s)=>{return a.createElement(n.TypeaheadItem,{className:p.mentionsTypeaheadRow,selectedClassName:p.mentionsTypeaheadRowSelected,selected:this.props.typeahead.index===s,onClick:()=>this.onMentionTypeaheadClick(s),onMouseOver:()=>{this.mouseMoved&&this.placeMention(s)},key:e.id},a.createElement("img",{className:p.avatar,src:e.img_url}),a.createElement("div",{className:p.profile},this.props.user.id===e.id?a.createElement("div",{className:p.name},e.handle," (You)"):a.createElement(o.OrgGuestIdentifier,{className:p.name,email:e.email||null,displayString:e.handle}),a.createElement("div",{className:p.email},e.email)))});return a.createElement(n.TypeaheadView,{typeahead:this.props.typeahead,className:p.mentionsTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}s.MentionsTypeaheadView=d,d.displayName="MentionsTypeaheadView"}),
(function(n,e,o){n.exports={_container:"comments_view--_container--3ZTC5",viewContainer:"comments_view--viewContainer--1Dhm2 comments_view--_container--3ZTC5",outerAnchorContainer:"comments_view--outerAnchorContainer--3sjQa comments_view--_container--3ZTC5",innerAnchorContainer:"comments_view--innerAnchorContainer--Of536 comments_view--_container--3ZTC5"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),o=s(233        ),n=s(212      ),r=s(145         ),a=s(172              ),p=s(871                     ),m=s(206                              ),c=s(146                                          ),h=s(138                                   ),d=s(611                 ),l=s(156                                ),u=s(873                               ),f=s(94                                   ),g=s(399                                      ),w=s(106                                     ),_=s(438                                 ),v=s(237                                 ),C=s(437                        ),y=s(136                            ),I=s(875                                                ),P=s(1063                                                             ),M=s(1072                                                             ),E=s(1075                                                           ),F=s(1076                                                         ),b=s(1079                                                           ),T=s(1081                                                              ),R=s(1082                 ),N=s(361                      ),k=s(1060                              ),O=s(400                                );class D extends a.Component{constructor(){super(...arguments),this.keyboardReceiverRef=i.createRef(),this.state={isEditorFocused:!1,onInsert:()=>{},onClear:()=>{}},this.drag=null,this.onMouseDown=(e=>{this.props.comments.viewportInfo&&(this.drag={startPosition:e,lastPosition:e,maxDist:0})}),this.onMouseMove=(e=>{if(this.drag){if("fullscreen"===this.props.selectedView.view){const{x:t,y:s}=r.Vector.subtract(e,this.drag.lastPosition);c.fullscreen.DEPRECATED_sendMessage("adjustCanvasSpaceCenter",{deltaX:t,deltaY:s})}this.drag.lastPosition=e,this.drag.maxDist=Math.max(this.drag.maxDist,r.Vector.distance(e,this.drag.startPosition))}}),this.onMouseUp=(e=>{if(!this.drag)return;const t=m.getValidCommentsRect();this.drag.maxDist<p.MAX_DRAG_DISTANCE&&(this.props.comments.activeId?this.props.dispatch(_.comments.deactivateActiveComment()):this.props.comments.viewportInfo&&p.canPlaceCommentAtViewportPosition(e,t)&&(this.props.dispatch(_.comments.setNewAnchorPosition({position:l.viewportPositionToCanvas(this.props.comments.viewportInfo,e)})),this.props.dispatch(_.comments.setNewCommentActive()))),this.drag=null}),this.containerRef=(e=>{e&&(this.container=e)}),this.assignHandlers=((e,t)=>{this.setState({onInsert:e||(()=>{}),onClear:t||(()=>{})})}),this.onContextMenu=(e=>{e.preventDefault()}),this.onKeyDown=a.propagatingKeyboardEvent(this,"keydown",e=>{if(e.event.keyCode===n.Key.ESCAPE&&!this.props.comments.editingComment){if(this.props.comments.activeId){if(this.props.comments.emojiPicker&&this.props.comments.emojiPicker.visible)return this.props.dispatch(_.comments.setEmojiPicker({visible:!1})),void e.accept();if(this.state.isEditorFocused)return;return this.props.dispatch(_.comments.deactivateActiveComment()),void e.accept()}"fullscreen"===this.props.selectedView.view&&(c.fullscreen.triggerAction("set-tool-default"),e.accept())}}),this.myFileFollower=(()=>this.props.fileFollowers[this.props.user.id]),this.isFollowingFile=(()=>{let e=this.myFileFollower();return!(!e||!e.email_comments)}),this.submitComment=((e,t)=>{const s=[];for(let o in t){const e=t[o];if(e.user_annotated){const t=this.props.fileByKey[this.props.editingFileKey],i=t.folder_id&&this.props.folders[t.folder_id]||null,o=t.team_id&&this.props.teams[t.team_id]||null;if(t){let t=this.props.roles.byFileKey[this.props.editingFileKey],s=!1;for(const i in t){const o=t[i];if(!0===o.pending&&o.user.email===e.user_annotated.email||!1===o.pending&&o.user.id===e.user_annotated.id){s=!0;break}}if(s)continue}if(i){let t=this.props.roles.byFolderId[i.id],s=!1;for(const i in t){const o=t[i];if(!1===o.pending&&o.user.id===e.user_annotated.id){s=!0;break}}if(s)continue}if(o&&i&&!i.is_invite_only){let t=this.props.roles.byTeamId[o.id],s=!1;for(const i in t){const o=t[i];if(!1===o.pending&&o.user.id===e.user_annotated.id){s=!0;break}}if(s)continue}s.push(e.user_annotated)}}if(0===s.length)return void e();const i=this.props.org;if(!i)return void this.props.dispatch(w.fileBrowser.showModal({type:y.CONFIRM_COMMENT_MENTION_MODAL,data:{onConfirm:e,onCancel:()=>{this.state.onClear&&this.state.onClear()},usersWithoutFileAccess:s.map(e=>e.handle)}}));const n=this.props.orgDomains.domains,r=i.domain_capture&&n.length>0?s.filter(e=>e.email&&o.isEmail(e.email)&&!d.isEmailInOrgsDomain(n,e.email)).map(e=>e.email):[];r.length>0?this.props.dispatch(w.fileBrowser.showModal({type:y.CONFIRM_ORG_GUEST_INVITE_MODAL,data:{emails:r,onConfirm:e,onCancel:()=>{this.state.onClear&&this.state.onClear()},popStack:!1}})):e()}),this.dispatchSubmitNewComment=(()=>{const e=this.props.comments.newComment.anchorPosition;if(!e)return;const t=m.getCommentDestinationForCanvasPosition(e,this.props.pageId);t&&this.props.dispatch(_.comments.submitNewComment(t))}),this.onSubmitNewComment=(()=>{this.submitComment(this.dispatchSubmitNewComment,this.props.comments.newComment.messageMeta)}),this.toggleFileFollower=(()=>{this.isFollowingFile()?this.props.dispatch(g.fileFollower.del({fileFollower:this.myFileFollower(),userInitiated:!0})):this.props.dispatch(g.fileFollower.post({fileFollower:{key:this.props.editingFileKey,user_id:this.props.user.id,user:this.props.user,notification_preference:O.NotificationPreference.NONE},userInitiated:!0}))}),this.togglePreferenceModal=(()=>{this.props.comments.activeId&&this.props.dispatch(_.comments.deactivateActiveComment()),this.props.pickerShown?this.props.dispatch(h.fullscreen.hidePicker()):this.props.dispatch(h.fullscreen.showPicker({id:C.COMMENT_PREFERENCE_ID}))}),this.viewportPositionFromClientPosition=(e=>{if(this.container){let t=this.container.getBoundingClientRect();return e.subtract(new r.Vector(t.left,t.top))}return new r.Vector(0,0)}),this.setIsEditorFocused=(e=>{this.setState({isEditorFocused:e})})}componentDidMount(){this.props.dispatch(v.loadContacts()),this.props.dispatch(v.loadTeamRoles()),this.maybeOpenInitialThread(),m.on("mousedown",this.onMouseDown),m.on("mousemove",this.onMouseMove),m.on("mouseup",this.onMouseUp)}componentDidUpdate(e,t){const{selectedView:s}=this.props;super.componentDidUpdate(e,t),s.commentThreadId!==e.selectedView.commentThreadId&&this.maybeOpenInitialThread()}componentWillUnmount(){super.componentWillUnmount(),m.off("mousedown",this.onMouseDown),m.off("mousemove",this.onMouseMove),m.off("mouseup",this.onMouseUp)}maybeOpenInitialThread(){const{threads:e,comments:t,selectedView:s,user:i}=this.props;let o=0;if(i){const i=s.commentThreadId;if(!i||t.initialThreadAlreadyOpened)return;if(this.props.jumpToIndexForPrototypeComments){const e=this.props.comments.commentsById[i];e&&e.client_meta&&(o=this.props.jumpToIndexForPrototypeComments(e))}const n=e.find(e=>e.id===i);if(!(0!==o||n&&n.anchorPosition))return this.props.dispatch(f.flash.error("Comment thread not found.")),void this.props.dispatch(_.comments.setInitialThreadAlreadyOpened({openInitialThread:!0}));n&&-1!==o&&this.props.dispatch(_.comments.showThread({thread:n})),this.props.dispatch(_.comments.setInitialThreadAlreadyOpened({openInitialThread:!0}))}}getSnapshotBeforeUpdate(e){return this.keyboardReceiverRef.current&&this.props.comments.activeId&&this.props.comments.activeId!==e.comments.activeId&&this.keyboardReceiverRef.current.focus(),this.keyboardReceiverRef.current&&!this.props.dropdownShown&&e.dropdownShown&&e.dropdownShown.type===k.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU&&this.keyboardReceiverRef.current.focus(),null}isParticipatingInThread(e){for(let t in e.comments){let s=e.comments[t];if(!s.deleted_at){if(s.user_id===this.props.user.id)return!0;if(-1!==this.getAtMentionUserIds(s).indexOf(this.props.user.id))return!0}}return!1}getAtMentionUserIds(e){const t=[];for(let s in e.message_meta){let i=e.message_meta[s];i.hasOwnProperty("user_id")&&t.push(i.user_id)}return t}getMentionables(){return u.mentionables(this.props.fileByKey[this.props.editingFileKey],this.props.org?this.props.org.id:null,this.props.user,this.props.usersByEmail,this.props.roles)}render(){const e=this.props.comments.viewportInfo;if(!e)return i.createElement("div",null);let t,s,{threads:o}=this.props;this.props.showResolvedComments||(o=o.filter(e=>!e.comments[0].resolved_at)),this.props.showOnlyParticipatingComments&&((o=o.filter(e=>this.isParticipatingInThread(e))).find(e=>e.id===this.props.comments.activeId)||this.props.comments.activeId!==C.NEW_COMMENT_ID&&this.props.dispatch(_.comments.deactivateActiveComment())),this.props.comments.activeId===C.NEW_COMMENT_ID?(this.props.dispatch(h.fullscreen.hidePicker()),t=p.newCommentThread(this.props.comments,this.props.pageId),s=(e=>{this.props.dispatch(_.comments.setNewCommentMessage({messageMeta:[...this.props.comments.newComment.messageMeta,e]})),this.state.onInsert()})):this.props.comments.activeId&&(this.props.dispatch(h.fullscreen.hidePicker()),s=(t=o.find(e=>e.id===this.props.comments.activeId))?e=>{if(this.props.comments.editingComment){const{id:t,key:s,messageMeta:i}=this.props.comments.editingComment;this.props.dispatch(_.comments.setEditing({id:t,key:s,messageMeta:[...i,e]}))}else this.props.dispatch(_.comments.setReplyMessage({threadId:t.id,messageMeta:[...t.replyMessageMeta,e]}));this.state.onInsert()}:void 0);const n=this.props.comments.typeahead,a=r.Vector.add(t&&t.threadPosition||{x:0,y:0},this.props.comments.typeaheadPositionOffset);return i.createElement(N.KeyboardReceiver,{name:"comments-view",handleKeyDown:this.onKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0,ref:this.keyboardReceiverRef},i.createElement("div",{"data-forward-events-to-fullscreen":!0,className:R.viewContainer},this.props.showRightHandBar&&i.createElement(M.CommentsList,{comments:this.props.comments,threads:o,showResolvedComments:this.props.showResolvedComments,showOnlyParticipatingComments:this.props.showOnlyParticipatingComments,isFollowingFile:this.isFollowingFile(),toggleFollowingFile:this.toggleFileFollower,togglePreferenceModal:this.togglePreferenceModal,dispatch:this.props.dispatch,setOnlyParticipatingComments:this.props.setOnlyParticipatingComments,toggleShowResolvedComments:this.props.toggleResolvedComments,pageId:this.props.pageId,pagesList:this.props.pagesList,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown}),i.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:R.outerAnchorContainer,style:{left:e.x,top:e.y,width:e.width,height:e.height},ref:this.containerRef,onContextMenu:this.onContextMenu},i.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:R.innerAnchorContainer},o.filter(e=>{if(!e.anchorPosition)return!1;if(e.page!==this.props.pageId)return!1;if(this.props.comments.activeId&&this.props.comments.activeId!==e.id)return!1;const t=m.getValidCommentsRect();return p.canPlaceCommentAtViewportPosition(e.anchorPosition,t)}).map(t=>i.createElement(I.ThreadAnchor,{key:`anchor-${t.id}`,thread:t,pageId:this.props.pageId,viewportInfo:e,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition,dispatch:this.props.dispatch}))),t&&t.id!==C.NEW_COMMENT_ID&&i.createElement(P.ActiveThread,{thread:t,comments:this.props.comments,mentionables:this.getMentionables(),dropdownShown:this.props.dropdownShown,user:this.props.user,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition,dispatch:this.props.dispatch,submitComment:this.submitComment,assignHandlers:this.assignHandlers,setIsEditorFocused:this.setIsEditorFocused}),t&&t.id===C.NEW_COMMENT_ID&&i.createElement(F.NewComment,{thread:t,viewportInfo:e,typeahead:this.props.comments.typeahead,mentionables:this.getMentionables(),user:this.props.user,pageId:this.props.pageId,viewportPositionFromClientPosition:this.viewportPositionFromClientPosition,dispatch:this.props.dispatch,onSubmit:this.onSubmitNewComment,assignHandlers:this.assignHandlers,setIsEditorFocused:this.setIsEditorFocused}),t&&this.props.comments.emojiPicker&&this.props.comments.emojiPicker.visible&&i.createElement(E.EmojiPickerView,{emojiPicker:this.props.comments.emojiPicker,dispatch:this.props.dispatch,onInsert:s,threadPosition:t.threadPosition}),t&&n&&"emojis"===n.type&&i.createElement(b.EmojiTypeaheadView,{dispatch:this.props.dispatch,typeahead:n,onInsert:this.state.onInsert,onClear:this.state.onClear,position:a}),t&&n&&"mentions"===n.type&&i.createElement(T.MentionsTypeaheadView,{dispatch:this.props.dispatch,typeahead:n,onInsert:this.state.onInsert,onClear:this.state.onClear,position:a,user:this.props.user}))))}}t.CommentsView=D,D.displayName="CommentsView"}),
(function(l,t,e){l.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.293 11.5l3.354-3.354.707.708L8.207 11H14c1.657 0 3 1.343 3 3v1h-1v-1c0-1.105-.895-2-2-2H8.207l2.147 2.146-.707.708L6.293 11.5z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="13" viewBox="0 0 8 13" xmlns="http://www.w3.org/2000/svg"><path d="M6.5 6.5l.354-.354.353.354-.353.354L6.5 6.5zM.854.146l6 6-.708.708-6-6L.854.146zm6 6.708l-6 6-.708-.708 6-6 .708.708z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="13" viewBox="0 0 8 13" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.5l-.353-.354-.354.354.354.354L1 6.5zM6.647.146l-6 6 .707.708 6-6-.707-.708zm-6 6.708l6 6 .707-.708-6-6-.707.708z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(o,t,e){o.exports={footer:"footer--footer--3rsSh",footerHidden:"footer--footerHidden--1TEFh footer--footer--3rsSh",pill:"footer--pill--3AY_G",replayButton:"footer--replayButton--HiQQJ footer--pill--3AY_G",toggleConnectionButton:"footer--toggleConnectionButton--3wO4G footer--pill--3AY_G",status:"footer--status--2E1QL footer--pill--3AY_G",statusText:"footer--statusText--2NxyT",statusContainer:"footer--statusContainer--JCr1o",backIconContainer:"footer--backIconContainer--W4CCW footer--statusContainer--JCr1o",nextIconContainer:"footer--nextIconContainer--1Bu0o footer--statusContainer--JCr1o",nextIconContainerDisabled:"footer--nextIconContainerDisabled--2Q9Cd footer--statusContainer--JCr1o",backIconContainerDisabled:"footer--backIconContainerDisabled--3ovjA footer--statusContainer--JCr1o"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),r=s(172              ),n=s(179                         ),a=s(174                        ),i=s(205         ),c=s(1084                              ),p=s(1085                              ),l=s(1086                              ),m=s(1087          ),d=s(193           );class g extends o.PureComponent{render(){return o.createElement(n.RecordableDiv,{className:this.props.className,onClick:this.props.onClick,recordingKey:this.props.recordingKey},o.createElement(a.Svg,{svg:c}),"Restart (R)")}}t.ReplayButton=g,g.displayName="ReplayButton";class u extends o.PureComponent{constructor(){super(...arguments),this.toggleConnection=(()=>{const e=i.getGlobalViewerInstance();e&&(e.isConnected()?e.disconnectForTesting():e.reconnectForTesting()),this.forceUpdate()})}render(){const e=0===this.props.currentFrameIndex?m.backIconContainerDisabled:m.backIconContainer,t=this.props.currentFrameIndex===this.props.frameCount-1?m.nextIconContainerDisabled:m.nextIconContainer,s=m.replayButton,n=this.props.showUI?m.footer:m.footerHidden,i=!d.isMobileBrowser;return o.createElement("div",{className:n},o.createElement("div",{className:m.status},i&&o.createElement(a.Svg,{className:e,svg:l,onClick:this.props.showPreviousFrame,recordingKey:r.joinKeys(this.props,"backButton")}),!!this.props.frameCount&&o.createElement("div",{className:m.statusText},this.props.currentFrameIndex+1," / ",this.props.frameCount),i&&o.createElement(a.Svg,{className:t,svg:p,onClick:this.props.showNextFrame,recordingKey:r.joinKeys(this.props,"nextButton")})),!1,o.createElement(g,{className:s,onClick:this.props.restartPrototype,recordingKey:r.joinKeys(this.props,"replayButton")}))}}t.Footer=u,u.displayName="Footer"}),
(function(l,o,t){l.exports={src:'<svg width="9" height="8" viewBox="0 0 9 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.414 7.414L0 4l1.414-1.414 2 2 4-4L8.828 2 3.414 7.414z" fill-rule="nonzero" fill-opacity="1" fill="red" stroke="none"/></svg>'}}),
(function(n,o,u){n.exports={scalingMenu:"scaling_menu--scalingMenu--2sDzD dropdown_menu--dropdownMenu----PdH",scalingMenuButton:"scaling_menu--scalingMenuButton--3M5_G dropdown_menu--dropdownButton--2wyKA",buttonChevron:"scaling_menu--buttonChevron--3mwBn",scalingDropdown:"scaling_menu--scalingDropdown--K7LHX dropdown_menu--dropdown--ld1ZV",checkmarkContainer:"scaling_menu--checkmarkContainer--3EAXY",shortcut:"scaling_menu--shortcut--217a_"}}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(3,1    ),i=o(106                                     ),s=o(172              ),r=o(174                        ),c=o(345                                  ),a=o(179                         ),l=o(525                                                    ),p=o(1089                                   ),d=o(728                                            ),h=o(1090                );n.scalingOptionsForMenu=["min-zoom","scale-down","contain","scale-down-width"],n.scalingStrings={"min-zoom":"100%","scale-down":"Fit",contain:"Fill","scale-down-width":"Width"},n.extendedScalingStrings={"min-zoom":"100% – Display at full size","scale-down":"Fit – Scale down to fit",contain:"Fill – Scale down or up to fill","scale-down-width":"Width – Scale down to fit width"};class g extends t.PureComponent{constructor(){super(...arguments),this.SCALING_DROPDOWN_TYPE="PROTOTYPE_SCALING_MENU",this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.SCALING_DROPDOWN_TYPE),this.selectScalingOption=(e=>{this.props.scalingHandler(e)}),this.toggleScalingMenu=(e=>{e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:this.SCALING_DROPDOWN_TYPE}))})}render(){const e=this.props.scalingMode,o="NONE"===(this.props.device?this.props.device.type:"NONE");return t.createElement(a.RecordableDiv,{className:h.scalingMenu,onClick:this.toggleScalingMenu,recordingKey:s.joinKeys(this.props,"toggle")},t.createElement("div",{className:h.scalingMenuButton},t.createElement("span",{"data-selector":"label"},n.scalingStrings[e]),t.createElement("div",{className:h.buttonChevron},t.createElement(r.Svg,{svg:d}))),this.isDropdownShown()&&t.createElement(c.dropdown.Dropdown,{className:h.scalingDropdown},t.createElement(m,{currentScalingMode:e,scalingOption:"min-zoom",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-min-zoom")}),t.createElement(m,{currentScalingMode:e,scalingOption:"scale-down",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-scale-down")}),t.createElement(m,{currentScalingMode:e,scalingOption:"contain",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-contain")}),o&&t.createElement(m,{currentScalingMode:e,scalingOption:"scale-down-width",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-scale-down-width")})))}}n.ScalingMenu=g,g.displayName="ScalingMenu";class m extends t.PureComponent{constructor(){super(...arguments),this.onClickOption=(()=>{this.props.handler(this.props.scalingOption)})}render(){return t.createElement(c.dropdown.Option,{onClick:this.onClickOption,recordingKey:this.props.recordingKey},t.createElement("div",{className:h.checkmarkContainer},this.props.scalingOption===this.props.currentScalingMode&&t.createElement(r.Svg,{svg:p})),n.extendedScalingStrings[this.props.scalingOption],t.createElement(l.KeyboardShortcut,{shortcut:"Z",className:h.shortcut}))}}n.Option=m,m.displayName="Option"}),
(function(e,n,t){e.exports={nav:"view_menu--nav--2Djtp",header:"view_menu--header--3QkMZ",headerClear:"view_menu--headerClear--135qF",headerDark:"view_menu--headerDark--180E9",loadingHeader:"view_menu--loadingHeader--1Ir4t view_menu--header--3QkMZ",headerHidden:"view_menu--headerHidden--Ca4w9",column:"view_menu--column--3vHRp",sideColumn:"view_menu--sideColumn--1MGim view_menu--column--3vHRp",leftColumn:"view_menu--leftColumn--1hPOB view_menu--sideColumn--1MGim view_menu--column--3vHRp",centerColumn:"view_menu--centerColumn--opBLp view_menu--column--3vHRp",rightColumn:"view_menu--rightColumn--d3Sgp view_menu--sideColumn--1MGim view_menu--column--3vHRp",commentsButton:"view_menu--commentsButton--3ldFy action--root--1ClVW view_menu--commentsButton--3ldFy action--root--1ClVW",commentsButtonSelected:"view_menu--commentsButtonSelected--3Oi-B view_menu--commentsButton--3ldFy action--root--1ClVW",fullScreenButtonBase:"view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",fullScreenButton:"view_menu--fullScreenButton--2aCnl view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",fullScreenButtonDisabled:"view_menu--fullScreenButtonDisabled--2jEV4 view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",settingsDropdownTarget:"view_menu--settingsDropdownTarget--2lysh",settingsDropdown:"view_menu--settingsDropdown--2VMTg",dropdownCaret:"view_menu--dropdownCaret--2HUJj",topLeftIcon:"view_menu--topLeftIcon--2nn7o",topLeftWordMark:"view_menu--topLeftWordMark--_fUD7",title:"view_menu--title--2j508 ellipsis--ellipsis--1RWY6",titleWithCaret:"view_menu--titleWithCaret--gQSN7 view_menu--title--2j508 ellipsis--ellipsis--1RWY6",rightNavButton:"view_menu--rightNavButton--2oOcK",viewMenu:"view_menu--viewMenu--23cJ1 dropdown_menu--dropdownMenu----PdH",eye:"view_menu--eye--WD_S9",viewMenuButton:"view_menu--viewMenuButton--x8LPh dropdown_menu--dropdownButton--2wyKA",viewDropdown:"view_menu--viewDropdown--3iAEc dropdown_menu--dropdown--ld1ZV"}}),
(function(o,t,e){o.exports={src:'<svg width="14" height="8" viewBox="0 0 14 8" xmlns="http://www.w3.org/2000/svg"><path d="M13.93 4C12.546 1.609 9.96 0 7 0 4.039 0 1.453 1.609.07 4 1.453 6.391 4.039 8 7 8c2.96 0 5.546-1.609 6.93-4zm-1.185 0C11.48 5.815 9.377 7 7 7 4.622 7 2.52 5.815 1.254 4 2.52 2.185 4.622 1 7 1c2.377 0 4.479 1.185 5.745 3zM9.151 4c0 1.146-.93 2.076-2.076 2.076C5.93 6.076 5 5.146 5 4c0-1.146.93-2.076 2.075-2.076 1.147 0 2.076.93 2.076 2.076z" fill-rule="nonzero" fill-opacity="1" fill="red" stroke="none"/></svg>'}}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(3,1    ),i=s(106                                     ),n=s(272                                  ),p=s(345                                  ),r=s(174                        ),h=s(1092             ),a=s(85                   ),c=s(1093                                 );o.VIEW_DROPDOWN_TYPE="PROTOTYPE_VIEW_MENU";class d extends t.PureComponent{constructor(){super(...arguments),this.toggleResolvedComments=(()=>{this.props.dispatch(n.prototype.setShowResolvedComments({showResolved:!this.props.showResolvedComments}))}),this.toggleOnlyParticipatingComments=(()=>{this.props.dispatch(n.prototype.setShowOnlyParticipatingComments({showOnlyParticipating:!this.props.showOnlyParticipatingComments}))}),this.toggleHotspots=(()=>{const e=!this.props.showHotspots;this.props.dispatch(n.prototype.setShowHotspots({showHotspots:e}))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===o.VIEW_DROPDOWN_TYPE),this.toggleViewMenu=(e=>{e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:o.VIEW_DROPDOWN_TYPE}))}),this.hideUI=(()=>{const e=Object.assign(Object.assign({},this.props.selectedView),{hideUI:!0});this.props.dispatch(i.fileBrowser.selectView(e))})}render(){const e=a.getFeatureFlags().prototype_hide_ui;return t.createElement("div",{className:h.viewMenu,onClick:this.toggleViewMenu},t.createElement("div",{className:h.viewMenuButton},t.createElement(r.Svg,{className:h.eye,svg:c})),this.isDropdownShown()&&t.createElement(p.dropdown.Dropdown,{className:h.viewDropdown},t.createElement(p.dropdown.CheckableOption,{disabled:!this.props.inCommentsMode,checked:this.props.showResolvedComments,onClick:this.toggleResolvedComments},"Show Resolved Comments"),t.createElement(p.dropdown.CheckableOption,{disabled:!this.props.inCommentsMode,checked:this.props.showOnlyParticipatingComments,onClick:this.toggleOnlyParticipatingComments},"Show Only Your Comments"),e&&t.createElement(p.dropdown.CheckableOption,{checked:!1,onClick:this.hideUI},"Hide UI"),t.createElement(p.dropdown.CheckableOption,{checked:this.props.showHotspots,onClick:this.toggleHotspots},"Show Hotspot Hints on Click")))}}o.ViewMenu=d,d.displayName="ViewMenu"}),
(function(r,t,e){"use strict";function n(r,t){return(.21*r.r+.72*r.g+.07*r.b)*(t?r.a:1)<.627}Object.defineProperty(t,"__esModule",{value:!0}),t.isDark=n,t.blackOrWhiteContrastingColor=function(r){return n(r,!1)?{r:1,g:1,b:1,a:1}:{r:0,g:0,b:0,a:1}}}),
(function(t,o,r){t.exports={root:"text_avatar--root--UrhbE undefined"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),r=s(1096               );class i extends a.Component{render(){const e=this.props.size;return a.createElement("div",{className:`${r.root} ${this.props.className||""}`,style:this.props.size?{width:`${e}px`,height:`${e}px`,lineHeight:`${e}px`}:void 0},this.props.text)}}t.TextAvatar=i,i.displayName="TextAvatar"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(3,1    ),o=r(44,1         ),l=r(651                          ),a=r(164         ),n=r(87                      ),s=r(532        ),u=r(85                   );t.ViewUserProfileTooltipWrapper=function(e){var t;const r=o.useSelector(e=>e.user),d=o.useSelector(e=>e.currentOrgId),c=o.useSelector(l.getOrgPathPart),p="user"in e?`user-${e.user.id}`:`role-${e.role.id}`,f="user"in e?e.user:e.role.user;let v=a.truncateText(f.handle,25);if(f.id===(null===(t=r)||void 0===t?void 0:t.id)&&(v+=" (You)"),"role"in e&&(v+=function(e){switch(e){case n.PermissionLevel.OWNER:return" (Owner)";case n.PermissionLevel.ADMIN:return" (Admin)";default:return""}}(e.role.level)),!d&&!u.getFeatureFlags().internal_profile_non_org)return i.createElement("div",{key:`avatar-${p}`,"data-tooltip-text":v,"data-tooltip-offset-y":8},e.children);const _=`/files${c}/user/${f.id}`;return i.createElement("div",{key:`avatar-${p}`,"data-tooltip-content-key":s.TooltipView.VIEW_USER_PROFILE,"data-tooltip-user-handle":v,"data-tooltip-user-profile-url":_,"data-tooltip-max-width":300,"data-tooltip-offset-y":8,"data-tooltip-interactive":!0},e.children)}}),
(function(e,r,l){e.exports={multiplayerView:"multiplayer_view--multiplayerView--19Y20",users:"multiplayer_view--users--2LGXC",userIconView:"multiplayer_view--userIconView--1wivF",userIconAvatar:"multiplayer_view--userIconAvatar--3JhXH",userIconImage:"multiplayer_view--userIconImage--1-Y25",coloredLine:"multiplayer_view--coloredLine--29_ny",overflowColoredLine:"multiplayer_view--overflowColoredLine--WNwuB multiplayer_view--coloredLine--29_ny",textAvatarContainer:"multiplayer_view--textAvatarContainer--1QQrh",textAvatar:"multiplayer_view--textAvatar--3dpZL",overflowDropdown:"multiplayer_view--overflowDropdown--3Aa0u",overflowTextAvatar:"multiplayer_view--overflowTextAvatar--gwzeV multiplayer_view--textAvatar--3dpZL",overflowRow:"multiplayer_view--overflowRow--DElg3",overflowName:"multiplayer_view--overflowName--2pp2Q"}}),
(function(t,o,e){t.exports={toolbar:"toolbar_view--toolbar--2396w",buttonGroup:"toolbar_view--buttonGroup--2wM3n",flexibleSpace:"toolbar_view--flexibleSpace--X6lgG",centerButtonGroup:"toolbar_view--centerButtonGroup--3K7ek",iconButton:"toolbar_view--iconButton--Zxsnv",actionButtonContainer:"toolbar_view--actionButtonContainer--J2txY",actionButtonBadge:"toolbar_view--actionButtonBadge--N_YXW",label:"toolbar_view--label--2d6w6",textButtonContainer:"toolbar_view--textButtonContainer--3iQPl",shareButton:"toolbar_view--shareButton--Q6fI7 toolbar_view--textButtonContainer--3iQPl",textButton:"toolbar_view--textButton--eiCIw basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",toolButtonContainer:"toolbar_view--toolButtonContainer--1HAfB",unreadDotActive:"toolbar_view--unreadDotActive--146a-",unreadDot:"toolbar_view--unreadDot--Tdpt5",loginButton:"toolbar_view--loginButton--2rU-7"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(106                                     ),r=t(138                                   ),i=t(3,1    ),a=t(340              ),o=t(354                            ),l=t(1097                                            ),p=t(1049                                                            ),c=t(1098                                                       ),d=14.5,m=t(1099                    ),h=t(1100                 ),u=t(411                                        ),f=t(221                                    ),w=t(642                                            ),v=a.pxToInt(u.toolbarHeight);class x extends i.PureComponent{constructor(){super(...arguments),this.state={animationClassName:null}}componentDidMount(){this.props.user.sessionID===this.props.observingSessionID&&this.setState({animationClassName:"selected"})}componentDidUpdate(e){this.props.user.sessionID===this.props.observingSessionID&&e.observingSessionID!==this.props.observingSessionID&&this.setState({animationClassName:"selected"}),this.props.user.sessionID!==this.props.observingSessionID&&this.props.user.sessionID===e.observingSessionID&&this.setState({animationClassName:"deselected"})}render(){const{onClick:e,user:s}=this.props;let t=null;return this.props.shouldShowColorIndicator&&(t=[i.createElement("svg",{key:"multiplayer-animation-svg",className:"multiplayer-animation-svg",viewBox:`0 0 ${v} ${v}`},i.createElement("circle",{className:`multiplayer-animation-circle ${this.state.animationClassName}`,cx:v/2,cy:v/2,r:d,fill:"none",stroke:s.color,strokeWidth:"2.4"})),i.createElement("div",{key:"multiplayer-animation-droplet",className:`multiplayer-animation-droplet ${this.state.animationClassName}`,style:{backgroundColor:s.color}})]),s.userID?i.createElement("div",{className:m.userIconView,onClick:e},i.createElement(c.ViewUserProfileTooltipWrapper,{user:{id:s.userID,handle:s.name}},t,i.createElement(o.Avatar,{entity:Object.assign(Object.assign({},s),{id:s.userID}),className:m.userIconAvatar}))):i.createElement("div",{className:m.userIconView,onClick:e,"data-tooltip-text":s.name},t,i.createElement(o.Avatar,{entity:Object.assign(Object.assign({},s),{id:s.userID}),fallbackTintColor:"black",fallbackInitial:"?",className:m.userIconAvatar}))}}x.displayName="UserView";const g=`\n  .multiplayer-animation-svg {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n  }\n\n  .multiplayer-animation-droplet {\n    left: ${v/2-7}px;\n    top: 0px;\n    height: 2px;\n    width: 14px;\n    border-radius: 0px;\n    position: absolute;\n  }\n\n  .multiplayer-animation-droplet.selected {\n    animation: droplet 0.3s ease-in forwards;\n  }\n\n  .multiplayer-animation-droplet.deselected {\n    animation: droplet-reverse 0.2s ease-out 0.4s forwards;\n    left: ${v/2-3.5}px;\n    top: 0px;\n    height: 0px;\n    width: 0px;\n    border-radius: 0px;\n  }\n\n  .multiplayer-animation-circle {\n    stroke-dasharray: 400;\n    stroke-dashoffset: 400;\n    transform-origin: center;\n    transform: rotateZ(-90deg);\n  }\n\n  .multiplayer-animation-circle.selected {\n    animation: draw-circle 0.15s ease-in 0.3s forwards;\n  }\n\n  .multiplayer-animation-circle.deselected {\n    animation: draw-circle-reverse 0.4s ease-in forwards;\n  }\n\n  @keyframes droplet {\n    0% {\n      left: ${v/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n    20% {\n      left: ${v/2-3.5}px;\n      top: -3.5px;\n      height: 7px;\n      width: 7px;\n      border-radius: 100%;\n    }\n    66% {\n      top: -2px;\n      height: 7px;\n    }\n    99% {\n      top: 5px;\n      left: ${v/2-1.5}px;\n      height: 3px;\n      width: 3px;\n      border-radius: 100%;\n    }\n    100% {\n      top: 5px;\n      left: ${v/2-.5}px;\n      height: 1px;\n      width: 1px;\n      border-radius: 100%;\n    }\n  }\n\n  @keyframes draw-circle {\n    0% {\n      stroke-dashoffset: 400;\n    }\n    100% {\n      stroke-dashoffset: 300;\n    }\n  }\n\n  @keyframes droplet-reverse {\n    0% {\n      left: ${v/2-3.5}px;\n      top: 0px;\n      height: 2px;\n      width: 2px;\n      border-radius: 0px;\n    }\n    100% {\n      left: ${v/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n  }\n\n  @keyframes draw-circle-reverse {\n    0% {\n      stroke-dashoffset: 300;\n    }\n    100% {\n      stroke-dashoffset: 400;\n    }\n  }\n`,y=i.createElement("style",null,g);class D extends i.PureComponent{constructor(){super(...arguments),this.textAvatarContainerRef=i.createRef(),this._showPermissionsModal=(()=>{this.props.editingFileKey&&this.props.dispatch(r.fullscreen.requestThumbnailRender()),this.props.dispatch(n.fileBrowser.showModal({type:w.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.editingFileKey}}))}),this._showMultiplayerUserDropdown=(()=>{this.props.dispatch(n.fileBrowser.showDropdown({type:D.MULTIPLAYER_USERS_DROPDOWN}))})}renderMultiplayerUsersDropdown(e){return this.props.dropdownShown&&this.props.dropdownShown.type===D.MULTIPLAYER_USERS_DROPDOWN&&this.textAvatarContainerRef.current?i.createElement(p.PointingDropdown,{targetRect:this.textAvatarContainerRef.current.getBoundingClientRect(),maxHeight:window.innerHeight-70,maxWidth:200,className:m.overflowDropdown},e.map(e=>{const s=()=>{this.props.startObservingUser(e)};return i.createElement("div",{key:e.sessionID,className:m.overflowRow,onClick:s},i.createElement(x,{onClick:s,sessionID:this.props.multiplayer.sessionID,observingSessionID:this.props.multiplayer.observingSessionID,user:e,shouldShowColorIndicator:!1}),i.createElement("div",{className:m.overflowName},e.name))})):null}renderMultiplayerUsers(){const e=this.props.multiplayer,s=e.observingSessionID;let t=e.allUsers;if(!t)return null;e.deviceNameFilter&&(t=t.filter(s=>s.deviceName===e.deviceNameFilter)),t.length&&t[0].sessionID!==e.sessionID&&(t=t.slice()).unshift(t.pop()),t=t.filter(e=>"editor"!=e.deviceName||void 0===e.sawMouse||!0===e.sawMouse);const n=this.props.threshold||4;let r=[];return t.length>n&&(r=t.slice(n-1),t=t.slice(0,n-1)),r.forEach((e,n)=>{if(e.sessionID===s){const s=t[t.length-1];t[t.length-1]=e,r[n]=s}}),r.sort((e,s)=>e.name===s.name?e.sessionID-s.sessionID:"Anonymous"===e.name?1:"Anonymous"===s.name?-1:e.name>s.name?1:-1),i.createElement("span",{className:m.users},t.map(n=>{return i.createElement(x,{key:n.sessionID,onClick:()=>{this.props.startObservingUser(n)},sessionID:e.sessionID,observingSessionID:s,user:n,shouldShowColorIndicator:t.length>1})}),r.length>0&&i.createElement(i.Fragment,null,i.createElement("span",{className:m.textAvatarContainer,ref:this.textAvatarContainerRef,onClick:this._showMultiplayerUserDropdown},i.createElement(l.TextAvatar,{className:m.overflowTextAvatar,text:`${r.length}`}),i.createElement("div",{className:m.overflowColoredLine})),this.textAvatarContainerRef.current&&this.renderMultiplayerUsersDropdown(r)))}render(){return i.createElement("div",{className:m.multiplayerView},y,this.renderMultiplayerUsers(),this.props.user&&this.props.editingFileKey&&i.createElement(I,{onClick:this._showPermissionsModal},"Share"))}}s.MultiplayerView=D,D.displayName="MultiplayerView",D.MULTIPLAYER_USERS_DROPDOWN="multiplayer-users-dropdown";const I=f.asTrackedClickable(e=>i.createElement("div",{className:`${h.shareButton} ${h.textButton}`,onClick:e.onClick,"data-onboarding-key":"share"},e.children))}),
(function(l,o,e){l.exports={src:'<svg width="12" height="18" viewBox="0 0 12 18" xmlns="http://www.w3.org/2000/svg"><path d="M6 9c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3 0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 15c0-1.657 1.343-3 3-3h3v3c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M6 0v6h3c1.657 0 3-1.343 3-3 0-1.657-1.343-3-3-3H6z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 3c0 1.657 1.343 3 3 3h3V0H3C1.343 0 0 1.343 0 3z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 9c0 1.657 1.343 3 3 3h3V6H3C1.343 6 0 7.343 0 9z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="51" height="18" viewBox="0 0 51 18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v14.048l1.807.006v-6.69h4.358V5.596H1.807V1.768h5.676V0H0zm10.736 2.852c.651 0 1.18-.527 1.18-1.178 0-.651-.529-1.18-1.18-1.18-.65 0-1.178.529-1.178 1.18 0 .65.527 1.178 1.178 1.178zm-.919 1.769v9.43h1.807v-9.43H9.817z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M18.328 4.346c-2.4 0-4.075 2.03-4.075 4.44 0 2.41 1.675 4.44 4.075 4.44 1.1 0 2.005-.426 2.664-1.118v1.255c0 1.563-1.227 2.869-2.829 2.869-.576 0-1.148-.223-1.604-.537l-.905 1.568c.723.466 1.584.737 2.509.737 2.56 0 4.637-2.076 4.637-4.637V4.621h-1.808v.843c-.659-.693-1.565-1.118-2.664-1.118zm-2.267 4.44c0-1.496 1.144-2.672 2.464-2.672 1.32 0 2.464 1.176 2.464 2.672 0 1.496-1.144 2.672-2.464 2.672-1.32 0-2.464-1.176-2.464-2.672z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M29.312 6.114c-1.068 0-1.935.905-1.935 1.974v5.963H25.57v-9.43h1.807v.864c.53-.685 1.31-1.14 2.328-1.14 1.267 0 2.239.63 2.802 1.592.626-.93 1.647-1.591 2.876-1.591 2.057 0 3.338 1.66 3.35 3.713v5.992h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974-1.069 0-1.935.905-1.935 1.974v5.963h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M48.36 5.69c-.804-.83-1.905-1.344-3.183-1.344-2.689 0-4.597 2.276-4.597 4.99 0 2.713 1.908 4.99 4.597 4.99 1.278 0 2.379-.514 3.183-1.344v1.069h1.807v-9.43H48.36V5.69zm-5.973 3.646c0-1.8 1.379-3.222 2.987-3.222 1.607 0 2.986 1.422 2.986 3.222 0 1.8-1.379 3.222-2.986 3.222-1.608 0-2.987-1.422-2.987-3.222z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.944 16.75l1.696-2.758.287-.465-.237-.493c-.465-.951-.697-1.91-.69-3.034 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7-1.14.007-2.112-.232-3.074-.709l-.268-.131-.296.037-4.418.552zm4.543.44c1.06.518 2.253.81 3.513.81 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 1.243.283 2.419.789 3.468l-2.117 3.44L0 18l1.272-.159 5.215-.652z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M1.06 1.475L.708 1.12 0 1.828l.354.354.707-.707zM2.829 3.95l-.353.353.353.354.354-.354-.354-.353zm2.475-1.768l.354-.354-.707-.707-.354.354.707.707zm-4.95 0l2.122 2.121.707-.707-2.121-2.121-.707.707zm2.829 2.121l2.121-2.121-.707-.707-2.121 2.121.707.707z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,h,v){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M12.465 4.836l.01-.018L15.65 1.65l.707.707-3.196 3.196-.754.45h3.597v1h-5v-5h1V5.67l.46-.834h.001zm-6.922 8.335l-.01.018-3.176 3.168-.707-.707 3.196-3.196.754-.45H2.004v-1h5v5h-1v-3.667l-.461.835v-.001z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){e.exports={nav:"header--nav--2njKm",header:"header--header--3d0kA",headerClear:"header--headerClear--14eAa",headerDark:"header--headerDark--2JGe3",loadingHeader:"header--loadingHeader--q7YEu header--header--3d0kA",headerHidden:"header--headerHidden--PE8nn",column:"header--column--_eCKx",sideColumn:"header--sideColumn--11Nzb header--column--_eCKx",leftColumn:"header--leftColumn--3jpUC header--sideColumn--11Nzb header--column--_eCKx",centerColumn:"header--centerColumn--47wW2 header--column--_eCKx",rightColumn:"header--rightColumn--18A7d header--sideColumn--11Nzb header--column--_eCKx",commentsButton:"header--commentsButton--12w33 action--root--1ClVW header--commentsButton--12w33 action--root--1ClVW",commentsButtonSelected:"header--commentsButtonSelected--2r1YM header--commentsButton--12w33 action--root--1ClVW",fullScreenButtonBase:"header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButton:"header--fullScreenButton--1CTah header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButtonDisabled:"header--fullScreenButtonDisabled--32pSD header--fullScreenButtonBase--cV4ap action--root--1ClVW",settingsDropdownTarget:"header--settingsDropdownTarget--2FttJ",settingsDropdown:"header--settingsDropdown--24rOd",dropdownCaret:"header--dropdownCaret--3a-5I",topLeftIcon:"header--topLeftIcon--3XnCO",topLeftWordMark:"header--topLeftWordMark--1O59R",title:"header--title--4aIq1 ellipsis--ellipsis--1RWY6",titleWithCaret:"header--titleWithCaret--31Npo header--title--4aIq1 ellipsis--ellipsis--1RWY6",rightNavButton:"header--rightNavButton--2a8p9"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(7,1        ),r=s(452                                   ),n=s(106                                     ),p=s(138                                   ),a=s(272                                  ),l=s(433                                ),h=s(115          ),c=s(172              ),d=s(1091            ),m=s(1094         ),g=s(224                                            ),u=s(345                                  ),w=s(121              ),f=s(1095       ),v=s(1101                                                                       ),S=s(519               ),C=s(174                        ),y=s(115          ),_=s(1102                                  ),E=s(1103                                 ),D=s(1104                                                 ),k=s(1105                        ),M=s(1106                                               ),N=s(1107                                              ),b=s(1108          ),I=s(721            ),O=s(642                               );t.SETTINGS_DROPDOWN_TYPE="PROTOTYPE_SETTINGS_DROPDOWN";class B extends o.PureComponent{constructor(){super(...arguments),this.headerDivRef=(e=>{e&&(this.headerDiv=i.findDOMNode(e))}),this.startObservingUser=(e=>{const t=this.props.multiplayer;if(!t)return;const s=t.observingSessionID===e.sessionID||t.sessionID===e.sessionID?-1:e.sessionID;-1!==s&&this.props.dispatch(a.prototype.trackEvent({name:"Prototype Observation Started"})),this.props.dispatch(p.fullscreen.updateMultiplayerState(Object.assign(Object.assign({},t),{observingSessionID:s})))}),this.onClickSettings=(e=>{e.stopPropagation(),this.isSettingsDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:t.SETTINGS_DROPDOWN_TYPE}))}),this.isSettingsDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===t.SETTINGS_DROPDOWN_TYPE),this.renderSettingsDropdown=(()=>this.isSettingsDropdownShown()?o.createElement(u.dropdown.Dropdown,{className:b.settingsDropdown},o.createElement(u.dropdown.Option,{onClick:this.openFileFromDropdown},"Open in Editor")):null),this.handleScalingChange=(e=>{this.props.dispatch(a.prototype.setScalingMode({scalingMode:e,userInitiated:!0}))}),this.toggleComments=(()=>{this.props.prototype.showComments?this.props.dispatch(a.prototype.hideComments()):this.props.dispatch(a.prototype.showComments())}),this.handleClickComments=(()=>{this.props.user?this.toggleComments():this.props.showAuthCommentsModal()}),this.openFileFromDropdown=(()=>{const e=this.props.prototype.currentIndex,t=e>=0?this.props.prototype.frameIds[e]:void 0;this.props.dispatch(n.fileBrowser.selectView({view:"fullscreen",fileKey:this.props.file.key,nodeId:t})),this.props.dispatch(a.prototype.trackEvent({name:"Prototype Original Source Clicked"}))}),this.onClickLogo=(e=>{this.props.dispatch(a.prototype.trackEvent({name:"Prototype Logo Clicked"})),h.isInIframe()?h.redirect("/","_blank"):this.props.user?this.props.dispatch(n.fileBrowser.selectView({view:"recentFiles"})):h.redirect("/")}),this.showPermissionsModal=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:O.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.file.key}}))}),this.renderDefaultAuthModal=(()=>{this.props.dispatch(S.authActions.init({origin:"header_nav"})),this.props.dispatch(n.fileBrowser.showModal({type:I.AUTH_MODAL}))}),this.renderTopLeftIcon=(()=>{const e=h.isInIframe()&&null==w.parse(location.search).fullscreen;return o.createElement("a",{onClick:this.onClickLogo,className:e?b.topLeftWordMark:b.topLeftIcon},e&&o.createElement(C.Svg,{svg:E}),!e&&o.createElement(C.Svg,{svg:_,useOriginalSrcFills:!0}))}),this.getRightButtonText=((e,t)=>this.headerDiv&&this.headerDiv.getBoundingClientRect().width<970?e:t),this.renderRightNavButton=(()=>this.props.user?o.createElement(g.ButtonPrimary,{className:b.rightNavButton,onClick:this.showPermissionsModal},this.getRightButtonText("Share","Share Prototype")):o.createElement(g.ButtonGreen,{className:b.rightNavButton,onClick:this.renderDefaultAuthModal},this.getRightButtonText("Log in","Log in or Create Account"))),this.onMouseDown=(e=>{e.stopPropagation()}),this.renderFullHeader=(()=>{const e=this.props.user&&this.props.canEdit,t=e?b.titleWithCaret:b.title,s=h.isInIframe(),i=s&&null==w.parse(location.search).fullscreen;let r=b.header;if(i){const e=this.props.prototypeBGColor;r=f.isDark({r:e.r/255,g:e.g/255,b:e.g/255,a:e.a/255},!0)?b.headerClear:b.headerDark}return this.props.showUI||(r+=` ${b.headerHidden}`),o.createElement("div",{className:r,ref:this.headerDivRef,onMouseMove:this.props.onMouseMove,onMouseDown:this.onMouseDown},o.createElement("div",{className:b.leftColumn},this.renderTopLeftIcon(),!s&&o.createElement(P,{recordingKey:c.joinKeys(this.props,"comments-button"),selected:this.props.prototype.showComments,onClick:this.handleClickComments})),o.createElement("div",{className:b.centerColumn},!s&&o.createElement("span",{className:t},this.props.file.name),s&&o.createElement("a",{className:b.title,target:"_blank",rel:"noopener",href:`/proto/${this.props.file.key}`},this.props.file.name),!s&&e&&o.createElement("div",{className:b.settingsDropdownTarget,onClick:this.onClickSettings},o.createElement(C.Svg,{svg:k,className:b.dropdownCaret}),this.renderSettingsDropdown())),o.createElement("div",{className:b.rightColumn},!s&&this.props.multiplayer&&o.createElement(v.MultiplayerView,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,editingFileKey:null,startObservingUser:this.startObservingUser,threshold:3}),!s&&this.renderRightNavButton(),!s&&this.props.user&&o.createElement(m.ViewMenu,{dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,inCommentsMode:this.props.prototype.showComments,showHotspots:this.props.showHotspots,showOnlyParticipatingComments:this.props.prototype.showOnlyParticipatingComments,showResolvedComments:this.props.prototype.showResolvedComments,selectedView:this.props.selectedView}),o.createElement(d.ScalingMenu,{scalingMode:this.props.scalingMode,scalingHandler:this.handleScalingChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,device:this.props.device,recordingKey:c.joinKeys(this.props,"scaling-menu")}),o.createElement(T,{inFullScreenMode:this.props.appWindow.inFullScreenMode,dispatch:this.props.dispatch})))}),this.renderLoadingHeader=(()=>o.createElement("div",{className:b.loadingHeader},this.renderTopLeftIcon())),this.renderHeader=(()=>this.props.prototype.showProgressBar?this.renderLoadingHeader():this.renderFullHeader())}render(){return this.renderHeader()}}t.Header=B,B.displayName="Header";class P extends c.PureComponent{constructor(){super(...arguments),this.onClick=c.mouseEvent(this,"click",()=>{this.props.onClick()})}render(){return o.createElement("a",{className:this.props.selected?b.commentsButtonSelected:b.commentsButton,onClick:this.onClick,"data-tooltip-text":"Add Comment (C)"},o.createElement(C.Svg,{svg:D}),this.props.children)}}t.ToggleCommentsButton=P,P.displayName="ToggleCommentsButton";class T extends o.PureComponent{constructor(){super(...arguments),this.onClick=y.capabilities.fullscreen?()=>{this.props.dispatch(r.appWindow.toggleFullScreen({})),this.props.dispatch(l.tooltip.hide())}:()=>{}}render(){let e;return e=y.capabilities.fullscreen?this.props.inFullScreenMode?"Exit Full Screen (F)":"Enter Full Screen (F)":"Full Screen is not supported by this browser",o.createElement("a",{onClick:this.onClick,className:y.capabilities.fullscreen?b.fullScreenButton:b.fullScreenButtonDisabled,"data-tooltip-text":e},o.createElement(C.Svg,{svg:this.props.inFullScreenMode?N:M}),this.props.children)}}t.ToggleFullScreenButton=T,T.displayName="ToggleFullScreenButton"}),
(function(e,s,h){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=h(723               ),i=h(193           ),o=h(212      );let d=!1;var n;s.disablePrototypeUIFadeForTests=function(){d=!0},function(e){e[e.HANDLED_BY_PROTOTYPE_VIEW=0]="HANDLED_BY_PROTOTYPE_VIEW",e[e.NOT_HANDLED=1]="NOT_HANDLED"}(n=s.KeyDown||(s.KeyDown={}));class a{constructor(e,s){this._isUIShown=e,this._inCommentsMode=!1,this._hideUITask=new t.DelayedTask,this.handleProgressBarStoppedShowing=(()=>{this.showUiAndScheduleFade()}),this.onWindowFocus=(()=>{this.showUiAndScheduleFade()}),this.didEnterCommentsMode=(()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0}),this.didLeaveCommentsMode=(()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())}),this.handlePageMouseDownOrTouchStart=(e=>{"CURRENT_TLF"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())}),this.handleHotspotClicked=(()=>{this._setUIShown(!1)}),this.handlePageMouseMove=(e=>{const s=e.clientY,h=window.innerHeight-e.clientY,t=window.innerWidth/2,i=Math.abs(t-e.clientX)<85&&h<60;s<10?this.showUiAndScheduleFade():i?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()}),this.handleHeaderOrFooterMove=(e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()}),this.handleTouchTapOnNonHotspot=(()=>{this.showUiAndScheduleFade()}),this.handleKeyDown=((e,s)=>{s!=n.HANDLED_BY_PROTOTYPE_VIEW?e.keyCode===o.Key.ESCAPE&&this.showUiAndScheduleFade():this._isUIShown()&&this.showUiAndScheduleFade()}),this.teardown=(()=>{this._hideUITask.reset()}),this.showUiAndScheduleFade=(()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()}),this.scheduleFadeIfNecessary=(()=>{d||this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},a.FADE_DELAY_MS)}),this._setUIShown=(e=>{!e&&this._inCommentsMode||s(e)})}}s.ImmersiveFadeBehavior=a,a.FADE_DELAY_MS=i.isMobileBrowser?1e3:2e3}),
(function(e,t,s){"use strict";var o=this&&this.__awaiter||function(e,t,s,o){return new(s||(s=Promise))(function(i,r){function n(e){try{p(o.next(e))}catch(t){r(t)}}function a(e){try{p(o.throw(e))}catch(t){r(t)}}function p(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(n,a)}p((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),r=s(94                                   ),n=s(106                                     ),a=s(138                                   ),p=s(438                                 ),h=s(272                                  ),d=s(452                                   ),l=s(172              ),c=s(115          ),m=s(866              ),u=s(121              ),w=s(111                        ),g=s(205         ),f=s(97                     ),y=s(612                      ),v=s(187                             ),C=s(868                                        ),I=s(422                          ),M=s(212      ),P=s(386                           ),_=s(870                                 ),T=s(1083                                                             ),O=s(1060                                                               ),b=s(1088                                ),V=s(1109      ),F=s(157         ),E=s(170                        ),D=s(156                                ),S=s(206                              ),B=s(193           ),k=s(1110              ),A=s(662                                    ),N=s(871                     ),R=s(519               ),x=s(128            ),L=s(85                   ),U=s(1091                                    ),K=s(124     ),H=s(126          ),j=s(721            ),W=s(87                      );var Y=!1;t.unsetPendingViewStateUpdate=function(){Y=!1};const $=x.subscribe(x.FileWithComments)(e=>{const{comments:t,commentAnchorPositions:s,pageContainingNode:o}=e;return i.createElement(T.CommentsView,Object.assign({},e,{threads:N.livegraphCommentThreads(e,t,s,o)}))}),z=x.subscribe(x.FileWithComments)(()=>i.createElement("div",null));class Z{constructor(){this.isCanceled=!1}}t.CanceledPrototypeView=Z;class G extends l.Component{constructor(e){super(e),this.isActiveThreadIdProcessed=!1,this.shouldShowThread=!0,this.jumpToCurrentIndex=!1,this.createdViewerAtMs=-1,this.sceneFinishedLoading=!1,this.state={showUI:!1},this.onConnectAttempted=(()=>{this.sceneFinishedLoading&&this.props.dispatch(h.prototype.setIsReconnecting({isReconnecting:!0}))}),this.trackPrototypeViewedAtMostOnce=(e=>{if(this.createdViewerAtMs<0)return;const t=0!==e.numTransitions,s=B.isMobileBrowser,o=this.props.scalingMode,i=Object.assign({mobile:s,hasConnections:t,scalingMode:o,numAnimatedTransitions:e.numTransitionsWithAnimation,timeSinceViewerCreatedMs:Date.now()-this.createdViewerAtMs},e);this.props.dispatch(h.prototype.trackEvent({name:"Prototype Viewed",params:i})),this.createdViewerAtMs=-1}),this.jumpToIndex=((e,t)=>{this.props.dispatch(h.prototype.setCurrentIndex({currentIndex:e}));const s=this.viewerOrNull();if(!s)return void(this.jumpToCurrentIndex=!0);const o=t[e],{selectedView:i}=this.props;o&&this.sceneFinishedLoading&&(void 0!==s.getPages().find(e=>e.id===i.nodeId)?this.props.dispatch(n.fileBrowser.selectView(Object.assign(Object.assign({},i),{nodeId:o,forceReplaceState:!0}))):s.getCurrentTlfId()!==o?(s.navigateToFrameAndCloseOverlays(o),this.updateViewState(e,t)):i.nodeId!==o&&this.props.dispatch(n.fileBrowser.selectView(Object.assign(Object.assign({},i),{nodeId:o,fromPopstate:!1,forceReplaceState:!1}))))}),this.showActiveCommentThread=(()=>{F.assertDev(!!this.props.user,"We shouldn't be trying to show comments for anonymous users."),this.props.dispatch(h.prototype.showComments()),this.shouldShowThread=!1}),this.handleCanvasMouseDown=(e=>{this.showCommentsView()&&S.handleMouseDown(e.x,e.y),this.tellFadeBehaviorAboutClickOrTouch(e)}),this.handleCanvasTouchDown=(e=>{this.tellFadeBehaviorAboutClickOrTouch(e)}),this.tellFadeBehaviorAboutClickOrTouch=(e=>{const t=this.viewerOrNull();if(!t)return;const s=this.props.comments.viewportInfo;if(!s)return;const o=D.viewportPositionToCanvas(s,e),i=t.prototypeViewHitTest(o);this.fadeBehavior.handlePageMouseDownOrTouchStart(i),this.stopObserving()}),this.handleCanvasMouseMove=(e=>{this.showCommentsView()&&S.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseDrag=(e=>{this.showCommentsView()&&S.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseUp=(e=>{this.showCommentsView()&&S.handleMouseUp(e.x,e.y)}),this.updateViewerPadding=((e,t)=>{if(e.scalingMode===this.props.scalingMode&&t.device===this.state.device)return;if(B.isMobileBrowser)return;const s=this.viewerOrNull();if(!s)return;let o=0,i=0,r=0,n=0;const a=null!=this.state.device&&null!=this.state.device.presetIdentifier&&this.state.device.presetIdentifier.length>0;if("scale-down-width"===this.props.scalingMode||"fit-width"===this.props.scalingMode||"min-zoom"===this.props.scalingMode&&!a);else{const e=42,t=12,s=12;o=s,i=s,r=e+t,n=e+t}s.setScrollPadding({left:o,right:i,top:r,bottom:n})}),this._lastLoggedAnalyticsEventForZoomInFitMode="none",this.handleZoomAttempt=(e=>{if(this._lastLoggedAnalyticsEventForZoomInFitMode===this.props.scalingMode)return;this._lastLoggedAnalyticsEventForZoomInFitMode=this.props.scalingMode;const t={scalingMode:this.props.scalingMode,method:e};this.props.dispatch(h.prototype.trackEvent({name:"Prototype Zoom Attempted",params:t}))}),this.initViewer=(()=>{if(this.dangerouslyAccessibleViewer)return this.dangerouslyAccessibleViewer;const e=E.isRecording(),t=!E.isRecording()&&this.props.file.key===A.INTERACTION_TEST_FAKE_FILE_KEY,{selectedView:s}=this.props,i=s.nodeId||null;F.assertDev(!!this.viewerEl,"We can't initialize the viewer until we have a mounted container"),this.createdViewerAtMs=Date.now(),this.canceledPrototypeView=new Z,g.getOrCreateViewerInstance("PROTOTYPE",this.viewerEl,{isRecordingInteractionTest:e,isRunningInteractionTest:t,disablePrototypeDeviceFrames:B.isMobileBrowser,forceMobileOptimizations:s.mobileOptimizations}).then(n=>o(this,void 0,void 0,function*(){if(this.canceledPrototypeView.isCanceled)return;this.dangerouslyAccessibleViewer=n,n.setDeviceName("prototype"),n.on("join",this.handleJoinEnd),n.on("connect",this.onConnectAttempted),n.on("currentTlfChanged",this.onCurrentTlfChanged),n.on("viewportChanged",this.viewerViewportChanged),n.on("canvasResize",this.updateViewportInfoIfNecessary),n.on("disengageObservationMode",this.disengageObservationMode),n.on("urlClicked",c.openUrlInPrototype),n.on("topLevelFramesListInvalidated",this.loadFrames),n.on("transitionMapChange",this.loadFrames),n.on("watchedNodeBoundsChange",this.watchedNodeBoundsChange),n.on("prototypeBackgroundColorChange",this.setBackgroundColor),n.on("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),n.on("multiplayerUserInfoChange",this.multiplayerUserInfoChange),n.on("redirectingToFirstPageDueToInvalidStartNode",this.handleInvalidStartNodeRedirect),n.on("canvasMouseDown",this.handleCanvasMouseDown),n.on("canvasMouseMove",this.handleCanvasMouseMove),n.on("canvasMouseDrag",this.handleCanvasMouseDrag),n.on("canvasMouseUp",this.handleCanvasMouseUp),n.on("canvasTouchDown",this.handleCanvasTouchDown),n.setUserDidAttemptZoom(this.handleZoomAttempt),n.setObservingSessionID(this.props.multiplayer.observingSessionID),n.setShowHotspots(!!this.props.showHotspots),n.setTransitionOnClick(!this.props.prototype.showComments),this.jumpToCurrentIndex&&(this.jumpToIndex(this.props.prototype.currentIndex,this.props.prototype.frameIds),this.jumpToCurrentIndex=!1);const o=u.parse(location.search);if(!this.props.file||e||t){A.setViewerInstance(n);const e=A.fileForPrototypeView();if(null==e)throw new Error("Missing dumped file in interaction test");n.loadFile(e,i),A.handlePrototypeViewLoaded()}else{const e=this.props.file.key,t=s.versionId;if(c.isInIframe()&&t){var a;try{a=yield K.default.get(`/version/${t}/canvas`,null,{responseType:"arraybuffer"})}catch(p){return this.props.dispatch(r.flash.flash("This prototype isn't available.")),void H.segment.track("Prototype Version Load Failed",{file_key:e,version_id:t})}n.loadFile(a.data,null,`/file/${e}/image`)}else g.connectViewerToFile(n,this.props.file.key,i,o.oauth_token)}}))}),this.handleJoinEnd=(()=>{const e=this.viewerOrNull();if(!e)return;const t=()=>{this.sceneFinishedLoading=!0,this.loadFrames(),this.props.dispatch(h.prototype.setProgressBarMode({showProgress:!1})),this.props.dispatch(h.prototype.setIsReconnecting({isReconnecting:!1})),this.trackPrototypeViewedAtMostOnce(e.prototypeStats()),e.off("incrementalLoaderRequestsComplete",t)};e.on("incrementalLoaderRequestsComplete",t)}),this.multiplayerUserInfoChange=(e=>{const t=this.props.multiplayer,s=t&&t.observingSessionID;e=Object.assign({observingSessionID:s},e),this.props.dispatch(a.fullscreen.updateMultiplayerState(e))}),this.onCurrentTlfChanged=(e=>{const t=this.viewerOrNull();F.assertDev(null!=t,"viewer is NULL in onCurrentTlfChanged in prototype.tsx");const s=t.getNodesToShowInPrototype(),o=s.indexOf(e.nodeId);-1!==o&&(this.props.dispatch(h.prototype.setCurrentIndex({currentIndex:o})),e.userInitiated&&this.fadeBehavior.handleHotspotClicked(),e.updateURL&&this.updateViewState(o,s))}),this.viewerViewportChanged=(e=>{this.lastViewport=e,this.updateViewportInfoIfNecessary()}),this.updateViewportInfoIfNecessary=(()=>{const e=this.getCanvas();if(!e||!this.lastViewport)return;const t=e.getBoundingClientRect(),s={x:t.left,y:t.top,width:t.width,height:t.height,offsetX:-this.lastViewport.offset.x,offsetY:-this.lastViewport.offset.y,zoomScale:this.lastViewport.zoomScale};this.props.dispatch(p.comments.setViewportInfo({viewportInfo:s}))}),this.disengageObservationMode=(()=>{-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(a.fullscreen.stopObservingOtherUser())}),this.updatePrototypeDataInReduxState=(()=>{const e=this.viewerOrNull();if(!e)return;const t=e.getPrototypeStartNodeId(),s=e.getNodesToShowInPrototype(),o=e.getPages().map(e=>(F.assertDev(!!e.id&&!!e.name,"Either page id or name is not set"),{nodeId:e.id,name:e.name})),i=s[0],n=i?e.pageIdForNodeId(i):null,a=this.props.fileByKey[this.props.file.key];this.props.dispatch(h.prototype.setFrameIds({frameIds:s})),this.props.dispatch(h.prototype.setPages({pages:o})),this.props.dispatch(h.prototype.setCurrentPageId({currentPageId:n})),c.promiseTabVisibility().then(()=>{setTimeout(()=>{"prototype"===this.props.selectedView.view&&!this.canceledPrototypeView.isCanceled&&this.props.file.key===a.key&&void 0===u.parse(window.location.search).embed_host&&L.getFeatureFlags().prototype_permissions&&this.props.dispatch(h.prototype.markViewed({fileKey:this.props.file.key,pageId:n||""}))},4e3)});const{selectedView:p}=this.props;let d=-1;if(p.nodeId&&(d=s.indexOf(p.nodeId)),-1===d){const i=s.indexOf(t);-1!==i?(d=i,L.getFeatureFlags().prototype_toast&&null!=p.nodeId&&o.length>0&&void 0===o.find(e=>e.nodeId===p.nodeId)&&(e.pageIdForNodeId(p.nodeId)?this.props.dispatch(r.flash.flash("The frame you linked to is not a part of this prototype.")):this.props.dispatch(r.flash.flash("The frame you linked to was deleted.")))):d=0}this.jumpToIndex(d,s)}),this.updateViewState=((e,t)=>{const s=Object.assign({},this.props.selectedView);Y=!1,delete s.reloadFrames,t.length&&(s.nodeId=t[e>=t.length?0:e]),this.props.dispatch(n.fileBrowser.selectView(s))}),this.setBackgroundColor=(e=>{e=null===e?P.DEFAULT_BG_COLOR:e,this.setState({bgColor:e}),this.props.dispatch(h.prototype.setBackgroundColor({color:e}))}),this.handlePrototypeDeviceChanged=(e=>{this.setState({device:e})}),this.watchedNodeBoundsChange=(()=>{this.forceUpdate()}),this.loadFrames=(()=>{const e=this.viewerOrNull();if(!e||!this.sceneFinishedLoading||this.canceledPrototypeView.isCanceled)return;const t=this.props.scalingMode;this.props.dispatch(h.prototype.setScalingMode({scalingMode:t})),this.updatePrototypeDataInReduxState();const s=e?e.getPrototypeBackgroundColor():null;this.setBackgroundColor(s)}),this.handleInvalidStartNodeRedirect=(()=>{let e=!1;if(w.getRolesForUserAndFile(this.props.file.key,this.props.permissionState).forEach(t=>{t.level<=W.PermissionLevel.VIEW_PROTOTYPES&&(e=!0)}),this.props.file.link_access!=f.LinkAccess.INHERIT||this.props.file.proto_link_access!=f.LinkAccess.VIEW&&this.props.file.proto_link_access!=f.LinkAccess.ORG_VIEW||(e=!0),e)return this.canceledPrototypeView&&(this.canceledPrototypeView.isCanceled=!0),void c.redirect("/404")}),this.stopObserving=(()=>{-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(a.fullscreen.stopObservingOtherUser())}),this.showNextFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateForward()}),this.showPreviousFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateBackward()}),this.restartPrototype=(()=>{this.props.dispatch(h.prototype.trackEvent({name:"Prototype Replay Clicked"}));const e=this.viewerOrNull();e&&e.restartPrototype()}),this.handleKeyDown=l.keyboardEvent(this,"keydown",e=>{if(this.isAuthModalShown())return l.SKIP_RECORDING;let t=k.KeyDown.NOT_HANDLED;if(y.shouldShowPreviousFrame(e))this.showPreviousFrame(),t=k.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else if(y.shouldShowNextFrame(e))this.showNextFrame(),t=k.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else if(e.keyCode===M.Key.ESCAPE)this.props.prototype.showComments&&(null==this.props.comments.activeId&&this.props.dispatch(h.prototype.hideComments()),t=k.KeyDown.HANDLED_BY_PROTOTYPE_VIEW);else if(e.keyCode!==M.Key.C||e.metaKey||e.shiftKey||e.ctrlKey){if(y.shouldReplayPrototype(e))this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"replay"}})),this.restartPrototype(),t=k.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;else if(y.shouldToggleFullscreen(e))this.props.dispatch(d.appWindow.toggleFullScreen({}));else if(e.keyCode===M.Key.Z&&!e.metaKey&&!e.ctrlKey){let t=y.getScalingMode(this.props.selectedView);const s=U.scalingOptionsForMenu;let o=s.indexOf(t);-1==o?o=e.shiftKey?s.length-1:0:e.shiftKey?0==o?o=s.length-1:o--:o==s.length-1?o=0:o++;const i=s[o];this.props.dispatch(h.prototype.setScalingMode({scalingMode:i,userInitiated:!0})),this.props.dispatch(v.visualBellActions.enqueue({message:`Zoom: ${U.scalingStrings[i]}`}))}}else this.props.dispatch(h.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"comments"}})),this.props.user?this.props.prototype.showComments?this.props.dispatch(h.prototype.hideComments()):this.props.dispatch(h.prototype.showComments()):this.showAuthCommentsModal(),t=k.KeyDown.HANDLED_BY_PROTOTYPE_VIEW;this.fadeBehavior.handleKeyDown(e,t)}),this.setViewerRef=(e=>{this.viewerEl=e}),this.getCanvas=(()=>{if(this.viewerEl){const e=this.viewerEl.getElementsByTagName("canvas");return 1===e.length?e[0]:null}return null}),this.isAuthModalShown=(()=>!!this.props.modalShown&&this.props.modalShown.type===j.AUTH_MODAL),this.showAuthCommentsModal=(()=>{const e=`Log in or create an account to leave comments on "${this.props.file.name}".`;this.props.dispatch(R.authActions.init({origin:"prototype_comment_signed_out"})),this.props.dispatch(n.fileBrowser.showModal({type:j.AUTH_MODAL,data:{headerText:e}}))}),this.handleClickCanvas=(()=>{this.props.showHotspots&&this.props.dispatch(h.prototype.setTriggerHotspots({triggerHotspots:!0}))}),this.pageContainingNode=(e=>{const t=this.viewerOrNull();return t?t.pageIdForNodeId(e):null}),this.jumpToIndexForPrototypeComments=(e=>{const{user:t}=this.props,s=e.client_meta&&e.client_meta.node_id?this.props.prototype.frameIds.indexOf(e.client_meta.node_id):0;return s>=1?this.jumpToIndex(s,this.props.prototype.frameIds):-1!==s&&t||(this.props.dispatch(r.flash.error("The comment's frame is not a part of this prototype.")),this.props.dispatch(p.comments.deactivateActiveComment())),s}),this.renderCommentOverflowMenu=(()=>{if(!this.props.dropdownShown)return null;if(this.props.dropdownShown.type===O.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){const{comment:e,confirmDelete:t,parentRect:s}=this.props.dropdownShown.data;return i.createElement(O.ThreadCommentOverflowMenu,{dispatch:this.props.dispatch,comment:e,confirmDelete:t,parentRect:s})}return null}),this.stopPropagation=(e=>{e.stopPropagation()});this.fadeBehavior=new k.ImmersiveFadeBehavior(()=>this.state.showUI,e=>{this.setState({showUI:e})})}componentDidMount(){this.props.dispatch(h.prototype.reset()),this.initViewer(),window.addEventListener("focus",this.fadeBehavior.onWindowFocus),window.addEventListener("keydown",this.handleKeyDown),window.focus(),this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode()}viewerOrNull(){return this.dangerouslyAccessibleViewer&&this.dangerouslyAccessibleViewer.hasActiveScene()?this.dangerouslyAccessibleViewer:null}componentWillUnmount(){super.componentWillUnmount(),this.canceledPrototypeView&&(this.canceledPrototypeView.isCanceled=!0);const e=this.viewerOrNull();e&&(e.off("join",this.handleJoinEnd),e.off("connect",this.onConnectAttempted),e.off("viewportChanged",this.viewerViewportChanged),e.off("canvasResize",this.updateViewportInfoIfNecessary),e.off("disengageObservationMode",this.disengageObservationMode),e.off("urlClicked",c.openUrlInPrototype),e.off("currentTlfChanged",this.onCurrentTlfChanged),e.off("transitionMapChange",this.loadFrames),e.off("topLevelFramesListInvalidated",this.loadFrames),e.off("watchedNodeBoundsChange",this.watchedNodeBoundsChange),e.off("prototypeBackgroundColorChange",this.setBackgroundColor),e.off("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),e.off("multiplayerUserInfoChange",this.multiplayerUserInfoChange),e.off("redirectingToFirstPageDueToInvalidStartNode",this.handleInvalidStartNodeRedirect),e.off("canvasMouseDown",this.handleCanvasMouseDown),e.off("canvasMouseMove",this.handleCanvasMouseMove),e.off("canvasMouseDrag",this.handleCanvasMouseDrag),e.off("canvasMouseUp",this.handleCanvasMouseUp),e.off("canvasTouchDown",this.handleCanvasTouchDown),e.reset()),this.fadeBehavior.teardown(),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("focus",this.fadeBehavior.onWindowFocus)}componentDidUpdate(e,t){if(this.canceledPrototypeView.isCanceled)return;super.componentDidUpdate(e,t);const{selectedView:s}=this.props;if(s.reloadFrames&&!Y)return this.loadFrames(),void(Y=!0);const o=this.viewerOrNull(),i=this.props.prototype,r=e.prototype;this.props.scalingMode===e.scalingMode&&this.state.device===t.device||this.updateViewerPadding(e,t);const n=s.commentThreadId;this.props.scalingMode===e.scalingMode&&i.currentIndex===r.currentIndex&&i.frameIds===r.frameIds&&this.state.device===t.device||(o&&o.setScalingMode(this.props.scalingMode),this.isActiveThreadIdProcessed&&this.shouldShowThread&&"-1"!==n&&this.showActiveCommentThread()),i.currentIndex===r.currentIndex&&i.frameIds===r.frameIds||this.jumpToIndex(i.currentIndex,i.frameIds);const a=this.props.prototype.frameIds.length>0&&"prototype"===this.props.selectedView.view&&!!n&&!this.isActiveThreadIdProcessed&&this.shouldShowThread;!this.props.prototype.showProgressBar&&e.prototype.showProgressBar&&this.fadeBehavior.handleProgressBarStoppedShowing(),a?(this.isActiveThreadIdProcessed=!0,this.showActiveCommentThread()):"-1"===n&&!this.isActiveThreadIdProcessed&&this.props.user&&(this.isActiveThreadIdProcessed=!0,this.props.dispatch(h.prototype.showComments())),o&&this.props.showHotspots!==e.showHotspots&&o.setShowHotspots(!!this.props.showHotspots),o&&this.props.prototype.showComments!==e.prototype.showComments&&o.setTransitionOnClick(!this.props.prototype.showComments),e.prototype.showComments!==this.props.prototype.showComments&&(this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode())}showCommentsView(){const e=this.props.appWindow.inFullScreenMode;return!B.isMobileBrowser&&!e&&this.props.prototype.showComments}render(){const e=this.props.appWindow.inFullScreenMode,t="min-zoom"===this.props.scalingMode||"scale-down-width"===this.props.scalingMode||B.isMobileBrowser||e?m.wrapperFullScale:m.wrapper,s=this.props.prototype.backgroundColor,o={backgroundColor:`rgba(${s.r}, ${s.g}, ${s.b}, ${s.a/255})`},r=this.props.user&&w.canEditFile(this.props.file.key,this.props.permissionState),n=this.viewerOrNull();n&&(n.setObservingSessionID(this.props.multiplayer.observingSessionID),void 0!==this.props.selectedView.backgroundColorHex&&n.setPrototypeBackgroundColorOverride(this.props.selectedView.backgroundColorHex));const a=this.props.selectedView.hideUI;let p=this.state.showUI&&!a;B.isMobileBrowser&&null!=n&&"HAS_CONNECTIONS"===n.prototypeType()&&(p=!1);const h=(e,t)=>null==n?{}:(n.watchBoundsForNodes(t),n.getCanvasSpaceCommentLocations(e)),d=this.showCommentsView()?m.commentsCursor+" viewer-cursors-disabled":"";return i.createElement("div",{className:`${m.background} ${d}`,onMouseMove:this.fadeBehavior.handlePageMouseMove,style:o},!B.isMobileBrowser&&!e&&i.createElement(V.Header,{file:this.props.file,user:this.props.user,dropdownShown:this.props.dropdownShown,prototype:this.props.prototype,selectedView:this.props.selectedView,multiplayer:this.props.multiplayer,dispatch:this.props.dispatch,canEdit:r,showUI:p,showAuthCommentsModal:this.showAuthCommentsModal,prototypeBGColor:this.state.bgColor||P.DEFAULT_BG_COLOR,scalingMode:this.props.scalingMode,showHotspots:this.props.showHotspots,appWindow:this.props.appWindow,onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,device:this.state.device,recordingKey:l.joinKeys(this.props,"header")}),i.createElement("div",{className:t,onClick:this.handleClickCanvas},i.createElement("div",{id:"viewerContainer",className:m.viewer,ref:this.setViewerRef})),this.props.prototype.showProgressBar&&i.createElement(C.ProgressBar,{progressBarMode:I.ProgressBarMode.HIDE_UI}),!e&&i.createElement("div",{onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,onMouseDown:this.stopPropagation},i.createElement(b.Footer,{frameCount:this.props.prototype.frameIds.length,currentFrameIndex:this.props.prototype.currentIndex,showUI:p,showPreviousFrame:this.showPreviousFrame,showNextFrame:this.showNextFrame,restartPrototype:this.restartPrototype,recordingKey:l.joinKeys(this.props,"footer")})),!B.isMobileBrowser&&!e&&this.props.prototype.showComments&&i.createElement(i.Fragment,null,this.renderCommentOverflowMenu(),(()=>{if(null===this.props.prototype.currentPageId)return null;const e=()=>i.createElement(T.CommentsView,Object.assign({threads:N.commentThreads(this.props.comments,h,this.pageContainingNode),comments:this.props.comments,usersByEmail:this.props.contacts.usersByEmail,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showOnlyParticipatingComments:this.props.prototype.showOnlyParticipatingComments,pickerShown:this.props.pickerShown,showResolvedComments:this.props.prototype.showResolvedComments,showRightHandBar:!1,pageId:this.props.prototype.currentPageId,pagesList:this.props.prototype.pages,editingFileKey:this.props.file.key,org:this.props.org,orgDomains:this.props.orgDomains},this.props.permissionState,{user:this.props.user,jumpToIndexForPrototypeComments:this.jumpToIndexForPrototypeComments,setOnlyParticipatingComments:()=>{},toggleResolvedComments:()=>{}}));return x.livegraphComments?i.createElement($,Object.assign({comments:this.props.comments,usersByEmail:this.props.contacts.usersByEmail,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showOnlyParticipatingComments:this.props.prototype.showOnlyParticipatingComments,pickerShown:this.props.pickerShown,showResolvedComments:this.props.prototype.showResolvedComments,showRightHandBar:!1,pageId:this.props.prototype.currentPageId,pagesList:this.props.prototype.pages,editingFileKey:this.props.file.key,org:this.props.org,orgDomains:this.props.orgDomains},this.props.permissionState,{user:this.props.user,fileKey:this.props.file.key,commentAnchorPositions:h,pageContainingNode:this.pageContainingNode,jumpToIndexForPrototypeComments:this.jumpToIndexForPrototypeComments,setOnlyParticipatingComments:()=>{},toggleResolvedComments:()=>{}})):x.livegraphDarkLaunch?i.createElement("div",null,i.createElement(z,{fileKey:this.props.file.key}),e()):e()})()),this.props.prototype.isReconnecting&&i.createElement(_.ReconnectingModal,null))}}t.PrototypeView=G,G.displayName="PrototypeView"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(296                                 ),i=o(107                             ),a=o(137                             ),r=o(438                                 ),p=o(94                                   ),c=o(188                             ),l=o(272                                  ),d=o(106                                     ),n=o(1111                                 ),m=o(112                      ),y=o(115          ),f=o(111                        ),w=o(677                                        ),g=o(97                     ),h=o(140                               ),u=o(121              ),_=o(85                   ),v=o(642                                            );let V,I,b=!1;t.prototypeMiddleware=(e=>t=>(function(o){const T=e.getState();if(d.fileBrowser.showModal.matches(o))return o.payload.type===v.FILE_PERMISSIONS_MODAL&&"prototype"===T.selectedView.view&&e.dispatch(l.prototype.trackEvent({name:"Prototype Share Opened"})),t(o);if(!d.fileBrowser.selectView.matches(o)){if(d.fileBrowser.handleUrlParamsForCurrentView.matches(o)){const{selectedView:t}=T;if("prototype"===t.view){const s=w.pathToSelectedView(T,`/proto/${t.fileKey}`,o.payload.params,o.payload.hash);s&&s.nodeId!==t.nodeId&&(s.reloadFrames=!0,n.unsetPendingViewStateUpdate(),e.dispatch(d.fileBrowser.selectView(s)))}}else if(l.prototype.setScalingMode.matches(o)){if(o.payload.userInitiated){const t={scalingMode:o.payload.scalingMode};e.dispatch(l.prototype.trackEvent({name:"Prototype Scale Changed",params:t}))}if("prototype"===T.selectedView.view){const t=Object.assign(Object.assign({},T.selectedView),{scalingMode:o.payload.scalingMode});e.dispatch(d.fileBrowser.selectView(t))}}else if(l.prototype.setShowHotspots.matches(o)){if(T.selectedView&&"prototype"===T.selectedView.view){const t=Object.assign(Object.assign({},T.selectedView),{showHotspots:o.payload.showHotspots});e.dispatch(d.fileBrowser.selectView(t))}}else if(l.prototype.showComments.matches(o))e.dispatch(l.prototype.trackEvent({name:"Prototype Comments Viewed"}));else if(l.prototype.trackEvent.matches(o)){const e=o.payload.params||{},t=h.editingFileKey(T.selectedView);m.trackEventForFile(o.payload.name,t,T,e)}else if(l.prototype.setCurrentIndex.matches(o))e.dispatch(l.prototype.disableHotspotsTemp()),e.dispatch(l.prototype.setHoverCursor({showHoverCursor:!1})),e.getState().comments.activeId&&e.dispatch(r.comments.deactivateActiveComment());else{if(a.team.put.matches(o)||c.file.put.matches(o)||i.role.batchPut.matches(o)||i.role.put.matches(o)||i.role.post.matches(o)||i.role.del.matches(o)||s.orgUser.put.matches(o)){if(T.selectedView&&"prototype"===T.selectedView.view){if(T.user){t(o);const s=e.getState(),i=h.editingFileKey(s.selectedView);return void(i&&!f.canViewPrototypes(i,s)&&y.redirect("/"))}if(c.file.put.matches(o)&&o.payload.file.link_access!==g.LinkAccess.VIEW&&o.payload.file.link_access!==g.LinkAccess.EDIT)return void y.locationReload("link access revoked, user is logged out and viewing prototype")}return t(o)}if(l.prototype.setTriggerHotspots.matches(o)){if(o.payload.triggerHotspots){if(b)return;if(!o.payload.deferred)return e.dispatch(l.prototype.trackEvent({name:"Prototype Hotspots Revealed"})),clearTimeout(V),clearTimeout(I),e.dispatch(l.prototype.setTriggerHotspots({triggerHotspots:!1})),V=setTimeout(()=>{e.dispatch(l.prototype.setTriggerHotspots({triggerHotspots:!0,deferred:!0}))},20),void(I=setTimeout(()=>{e.dispatch(l.prototype.setTriggerHotspots({triggerHotspots:!1}))},1e3))}}else l.prototype.disableHotspotsTemp.matches(o)&&(clearTimeout(V),clearTimeout(I),e.dispatch(l.prototype.setTriggerHotspots({triggerHotspots:!1})),b=!0,setTimeout(()=>{b=!1},10))}return t(o)}{const s=T.selectedView&&"prototype"!==T.selectedView.view||!T.selectedView;if(o.payload&&"prototype"===o.payload.view&&s&&T.user&&void 0===u.parse(window.location.search).embed_host){const t=T.fileByKey[o.payload.fileKey];y.promiseTabVisibility().then(()=>{setTimeout(()=>{const o=e.getState().selectedView;o&&"prototype"===o.view&&t.key===h.editingFileKey(o)&&!_.getFeatureFlags().prototype_permissions&&e.dispatch(c.file.markViewed({file:t}))},4e3)})}t(o);const i=e.getState();if(!i.selectedView||!T.selectedView)return;if("prototype"!==i.selectedView.view)return;const a=i.selectedView,r="prototype"===T.selectedView.view?T.selectedView:null;if(i.prototype.currentIndex===T.prototype.currentIndex&&a&&r&&r.nodeId!==a.nodeId&&o.payload.fromPopstate){const t=i.prototype.frameIds.indexOf(a.nodeId),o=i.prototype.currentPageId===a.nodeId;if(t>=0)e.dispatch(l.prototype.setCurrentIndex({currentIndex:t}));else if(o)e.dispatch(l.prototype.setCurrentIndex({currentIndex:0}));else{const t="That frame is no longer available as a part of this prototype.";e.dispatch(p.flash.error(t))}}}}))}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const l=n(106                                     ),t=n(115          );let a=!1;o.reloadMiddleware=(e=>o=>(function(n){if(l.fileBrowser.reloadWhenConvenient.matches(n)){const l=n.payload&&n.payload.now?2e3:120*Math.random()*1e3;return setTimeout(()=>{"fullscreen"===e.getState().selectedView.view?a=!0:t.locationReload("Reloading when convenient")},l),o(n)}return l.fileBrowser.selectView.matches(n)&&"fullscreen"!==n.payload.view?(a&&t.locationReload("Reloading after leaving fullscreen"),o(n)):o(n)}))}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(694                                     ),l=n(138                                   ),a=n(130                                              ),i=n(168                                    ),c=n(163                               ),o=n(126          );let u=null,r=!1,_=null;t.returnToInstanceMiddleware=(e=>t=>(function(n){const i=t(n);if(s.symbolToast.returnToInstance.matches(n))u=n.payload,r=!1;else if(l.fullscreen.updateMirror.matches(n)){const t=e.getState(),n=Object.keys(t.mirror.sceneGraphSelection),s=u&&1===n.length&&n[0]===u.masterGUID;s&&!r?(e.dispatch(a.visualBell.enqueue(m())),r=!0,clearTimeout(_)):!s&&r&&(e.dispatch(a.visualBell.dequeue({type:"return_to_instance"})),r=!1,_=setTimeout(()=>{u=null},12e4))}return i}));const m=()=>({type:"return_to_instance",message:"",icon:i.VisualBellIcon.RETURN_TO_INSTANCE,button:{text:"Return to instance",action:()=>{u&&(c.Fullscreen.returnToInstances(u.instanceGUIDs.join(",")),u=null,r=!1,o.segment.track("Return to instance"))}},onDismiss:()=>{u=null,r=!1},timeout:1/0})}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),o=t(348                                  ),i=t(124     ),r=t(46,1            ),l=t(104                     ),d=t(240                             ),c=t(94                                   ),n=t(131                                        ),p=t(137                             ),m=t(133                               ),f=t(188                             ),_=t(107                             ),u=t(234                                     ),h=t(211                            ),y=t(106                                     ),g=t(87                      ),E=t(141                ),I=t(111                        ),w=t(112                      ),R=t(136                            ),v=t(339                                           ),S=t(126                ),O=t(115          ),T=t(236                  ),F=t(139                         ),M=t(642                                            );function b(e,a,t,s,o,i){if(t in a&&s in a[t]){let r=a[t][s];if(o===g.PermissionLevel.NONE){let a=e.getState().user;if(r.resource_type!==g.ResourceType.FILE&&r.resource_type!==g.ResourceType.FOLDER||r.pending)r.resource_type===g.ResourceType.TEAM&&!r.pending&&a&&s===a.id?e.dispatch(y.fileBrowser.showModal({type:R.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:r.resource_id_or_key}})):e.dispatch(_.role.del({role:r,userInitiated:!0}));else{let t=e.getState().modalShown;e.dispatch(y.fileBrowser.showModal({type:R.CONFIRM_REMOVE_ROLE_MODAL,data:{roleToRemove:r,onConfirmRemove:()=>{a&&r.user_id===a.id?e.dispatch(y.fileBrowser.selectView({view:"recentFiles"})):t&&e.dispatch(y.fileBrowser.showModal(t))},onCancel:()=>{t&&e.dispatch(y.fileBrowser.showModal(t))}}}))}}else r=Object.assign(Object.assign({},r),{level:o}),e.dispatch(_.role.put({role:r,userInitiated:!0,cascade:i}))}}a.default=(e=>a=>(function(t){if(!y.fileBrowser.selectView.matches(t)){if(y.fileBrowser.showModal.matches(t)){const s=e.getState();if(t.payload.type===M.FILE_PERMISSIONS_MODAL){const a=s.fileByKey[t.payload.data.fileKey];if(T.fetchFileRoles(a,e),a.folder_id&&s.folders[a.folder_id]){const t=s.folders[a.folder_id];T.fetchFolderRoles(t,e)}if(a.team_id&&a.team_id in s.roles.byTeamId){const t=s.teams[a.team_id];t&&T.fetchTeamRoles(t,e)}}else if(t.payload.type===M.FOLDER_PERMISSIONS_MODAL){const a=s.folders[t.payload.data.folderId];if(a&&T.fetchFolderRoles(a,e),a&&a.team_id&&a.team_id in s.roles.byTeamId){const t=s.teams[a.team_id];t&&T.fetchTeamRoles(t,e)}}return a(t)}if(_.role.del.matches(t)){let s=()=>{let a=e.getState(),s=t.payload.role;switch(s.resource_type){case g.ResourceType.FILE:if(!I.canViewFile(s.resource_id_or_key,a)){a.modalShown&&a.modalShown.type===M.FILE_PERMISSIONS_MODAL&&a.modalShown.data.fileKey===s.resource_id_or_key&&e.dispatch(y.fileBrowser.hideModal());let t=a.fileByKey[s.resource_id_or_key];t&&e.dispatch(f.file.deleteFilesForever({fileKeys:{[t.key]:!0},userInitiated:!1})),e.dispatch(n.library.deleteComponentsForFile({fileKey:s.resource_id_or_key}))}break;case g.ResourceType.FOLDER:if(!I.canViewFolder(s.resource_id_or_key,a)){a.modalShown&&a.modalShown.type===M.FOLDER_PERMISSIONS_MODAL&&a.modalShown.data.folderId===s.resource_id_or_key&&e.dispatch(y.fileBrowser.hideModal()),e.dispatch(m.folder.del({folderId:s.resource_id_or_key}));const t=a.fileKeysByFolderId[s.resource_id_or_key]||[];for(let a of t)e.dispatch(n.library.deleteComponentsForFile({fileKey:a}))}break;case g.ResourceType.TEAM:if(!I.canViewTeam(s.resource_id_or_key,a)){let t=a.teams[s.resource_id_or_key];t&&e.dispatch(p.team.del({userInitiated:!1,team:t}))}}};if(t.payload.userInitiated){const o=t.payload.role;return w.trackEventForRole("Role Deleted",o),l.optimisticRequest({requestPromise:i.default.del(`/api/roles/${o.id}`).then(s),fallbackError:"An error occurred while removing this user.",store:e,next:a,action:t})}return a(t),void s()}if(_.role.post.matches(t))return a(t);if(_.role.put.matches(t)){if(t.payload.userInitiated){const s=t.payload.role;let o=Object.assign({},t.payload.role);t.payload.cascade&&(o.cascade=!0),w.trackEventForRole("Role Permissions Changed",s,{level:s.level});let d=l.getOptimisticTransactionID();return i.default.put(`/api/roles/${s.id}`,o).then(()=>{e.dispatch({type:null,optimist:{type:r.COMMIT,id:d}})}).catch(a=>{if(a.data)if("NEEDS_UPGRADE"===a.data.reason||"NEEDS_PAYMENT"===a.data.reason){const a=I.getResourceTeamId(s,e.getState());e.dispatch(y.fileBrowser.showModal({type:v.UPSELL_ADD_EDITOR_MODAL,data:{teamId:a}}))}else a.data.message&&e.dispatch(c.flash.error(a.data.message));else e.dispatch(c.flash.error("An error occurred while changing this user's permissions."));e.dispatch({type:null,optimist:{type:r.REVERT,id:d}})}),(t=Object.assign({},t)).optimist={type:r.BEGIN,id:d},a(t)}return a(t)}if(_.role.sendInvites.matches(t)){let r=e.getState().contacts,{emails:l,resourceType:n,resourceIdOrKey:p,level:m,emailsToExclude:f,nodeId:g}=t.payload,E={};for(let a of l){if(f&&f.has(a))continue;let t=r.usersByEmail[a],s={id:`temp-role-${a}`,created_at:(new Date).getTime(),user_id:null,user:Object.assign(Object.assign({},t),{email:a}),resource_type:n,resource_id_or_key:p,level:m,pending:!0,updated_at:`${new Date}`};E[a]=s,e.dispatch(_.role.post({role:s}))}return e.dispatch(u.autocomplete.reset()),i.default.post("/api/invites",{emails:l,resource_type:n,resource_id_or_key:p,level:m,node_id:g}).then(({data:a})=>{var s,o,i;for(let t of a.meta.invites)w.trackEventForRole("Role Invite Sent",t,{level:t.level,roleUserEmail:null===(s=t.user)||void 0===s?void 0:s.email}),e.dispatch(_.role.post({role:t}));null===(i=(o=t.payload).onSuccess)||void 0===i||i.call(o,a.meta)}).catch(({response:a})=>{try{a=JSON.parse(a)}catch(t){console.error("Failed to parse invite response:",t),a={error:!0,reason:"json"}}if(a.error&&!a.message&&(a.message=`An error occurred while sending ${1===l.length?"this invite":"these invites"}.`),"VERIFY_EMAIL"===a.reason)S.segmentTrackEvent("Error Inviting - Email Not Verified"),e.dispatch(c.flash.error(s.createElement("div",null,"Please verify your email to send invites.  ",s.createElement("a",{onClick:()=>{e.dispatch(d.user.sendValidationEmail())},style:{color:o.figmaFGWhite,textDecoration:"underline",cursor:"pointer"}},"Resend confirmation email"),".")));else if("NEEDS_PAYMENT"===a.reason){let t=null;const s=I.getRolesForResource(n,p,e.getState());s&&(t=I.getResourceTeamId(s[0],e.getState())),null===t?e.dispatch(c.flash.error(a.message)):e.dispatch(y.fileBrowser.showModal({type:v.UPSELL_ADD_EDITOR_MODAL,data:{teamId:t}}))}else if(a.reason.blocked_invites){const t=a.reason.blocked_invites.map(e=>({email:e.email,state:e.errored?h.AutocompleteTokenState.ERROR:h.AutocompleteTokenState.OK,user:r.usersByEmail[e.email]||null}));e.dispatch(u.autocomplete.addTokens(t)),e.dispatch(u.autocomplete.inputChange("")),e.dispatch(u.autocomplete.setErrorMessage(a.message))}else e.dispatch(c.flash.error(a.message));for(let s of l)e.dispatch(_.role.del({role:E[s]}))}),a(t)}if(_.role.resendInvite.matches(t))return i.default.post("/api/invites/resend",{email:t.payload.role.user.email,resource_type:t.payload.role.resource_type,resource_id_or_key:t.payload.role.resource_id_or_key}).then(()=>{e.dispatch(c.flash.flash("Invite email sent again!"))}).catch(({response:a})=>{try{a=JSON.parse(a),e.dispatch(c.flash.error(a.message))}catch(t){e.dispatch(c.flash.error("An unexpected error occurred."))}}),a(t);if(_.role.setUserFilePermission.matches(t)){let s=e.getState().roles;return b(e,s.byFileKey,t.payload.fileKey,t.payload.userId,t.payload.level),a(t)}if(_.role.setUserFolderPermission.matches(t)){let s=e.getState().roles;return b(e,s.byFolderId,t.payload.folderId,t.payload.userId,t.payload.level,t.payload.cascade),a(t)}if(_.role.setUserTeamPermission.matches(t)){let s=e.getState().roles;return b(e,s.byTeamId,t.payload.teamId,t.payload.userId,t.payload.level),a(t)}return a(t)}{a(t);let s=e.getState(),o=E.getEditingFile(s);if(s.user&&o)T.fetchFileRoles(o,e);else if("teamAdmin"===s.selectedView.view){const a=s.selectedView.teamId,t=s.teams[a];T.fetchTeamRoles(t,e)}else if("team"===s.selectedView.view&&s.selectedView.teamViewTab!==F.TeamViewTab.PROFILE){const o=s.selectedView.teamId,i=s.teams[o];if(!i)return O.locationReload("missing team data, doing full reload to fix"),a(t);T.fetchTeamRoles(i,e)}}}))}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(130                                              ),n=s(138                                   ),u=s(689             );let i=void 0,l=!1;a.saveStatusMiddleware=(e=>a=>(function(s){if(n.fullscreen.setSaveStatus.matches(s)){let n=e.getState();const c=n.editingFileKey;return c&&(n.saveStatus&&!n.saveStatus.hasUnsavedChanges&&s.payload.hasUnsavedChanges?i=setTimeout(()=>{e.dispatch(t.visualBell.enqueue({type:"unsaved_changes",message:"The document has unsaved changes. Figma will continue to try auto-saving your work.",button:{text:"Dismiss",action:()=>e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"}))},timeout:6e4})),u.reportUnsavedChangesBell(c),i=void 0,l=!0},6e4):n.saveStatus&&n.saveStatus.hasUnsavedChanges&&!s.payload.hasUnsavedChanges&&(e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"})),clearTimeout(i),navigator.onLine&&l&&(e.dispatch(t.visualBell.enqueue({message:"Changes saved",timeout:2e3})),l=!1))),a(s)}return n.fullscreen.close.matches(s)?(e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"})),clearTimeout(i),a(s)):a(s)}))}),
(function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,a){function l(e){try{n(i.next(e))}catch(t){a(t)}}function c(e){try{n(i.throw(e))}catch(t){a(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(l,c)}n((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=r(114           ),a=r(126          ),l=r(124     ),c=r(334                  ),n=r(188                             ),o=r(106                                     ),u=r(85                   ),f=r(606                           );let h,d=Date.now();function y(e){let t=e.getState(),r=[];for(let i in t.fileByKey)c.isTrashed(i,e.getState())||r.push(t.fileByKey[i]);return r}const p=s.debounce((e,t)=>i(void 0,void 0,void 0,function*(){let r=Date.now(),i=e.getState();if(!t)return e.dispatch(o.fileBrowser.setFileSearchResults({results:[]})),void(d=r);try{let c={query:t};i.currentOrgId&&(c.org_id=i.currentOrgId);let n=yield l.default.get("/api/search/files",c);if(r>d){let t=[];for(let e of n.data.meta)e.key in i.fileByKey&&t.push(i.fileByKey[e.key]);e.dispatch(o.fileBrowser.setFileSearchResults({results:t})),d=r}}catch(s){a.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during search retrieval",{query:t}),r>d&&e.dispatch(o.fileBrowser.setFileSearchResults({results:[]}))}}),100,!1);let g=!1,m=!1;function w(e,t){const r=Date.now();let i=u.getFeatureFlags(),s=i&&i.server_side_search_live_launch;s&&p(e,t),s||e.dispatch(o.fileBrowser.setFileSearchResults({results:function(e){return e.length>32&&(e=e.replace(/[|\\{}()[\]^$+*?.]/,"\\$&")),h.search(e)}(t)})),a.segmentTrackEvent("file-search-time",{useSSS:null!=s,elapsedTime:Date.now()-r})}t.search=(e=>t=>(function(r){if(o.fileBrowser.hydrate.matches(r))return t(r),h=new f.SearchLibrary(y(e),{keys:["name"],threshold:.3}),r;if(!o.fileBrowser.selectView.matches(r))return n.file.post.matches(r)||n.file.put.matches(r)||n.file.recentFilePost.matches(r)||n.file.recentFilePut.matches(r)||n.file.deleteFiles.matches(r)||n.file.restoreTrashedFiles.matches(r)?(t(r),h.set(y(e)),r):o.fileBrowser.setFileSearchQuery.matches(r)?(t(r),w(e,r.payload.query),r):o.fileBrowser.searchResultClicked.matches(r)?(a.segment.track("Search Result Clicked",{index:r.payload.index}),m=!0,t(r)):t(r);if(t(r),"searchResults"!==e.getState().selectedView.view&&g&&(a.segment.track("Search Mode Closed",{anyResultsClicked:m}),g=!1,m=!1),"searchResults"===e.getState().selectedView.view){let t=e.getState().fileSearch.query;t&&w(e,t),g||(g=!0,m=!1)}})),t.default=t.search}),
(function(s,e,o){s.exports={input:"shared_fonts--input--Bs0sl",bigInput:"shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",textInput:"shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl",bigTextInput:"shared_fonts--bigTextInput--2O3L_ shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",checkboxContainer:"shared_fonts--checkboxContainer--2V02M",checkbox:"shared_fonts--checkbox--2vQ9t",checkboxShowFocus:"shared_fonts--checkboxShowFocus--fsSoe",label:"shared_fonts--label--1QgmC",btn:"shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",btnBig:"shared_fonts--btnBig--LWeFf ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",primaryBtn:"shared_fonts--primaryBtn--3rdCZ shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",primaryBtnBig:"shared_fonts--primaryBtnBig--2SlBx shared_fonts--primaryBtn--3rdCZ shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--btnBig--LWeFf ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",negativeBtn:"shared_fonts--negativeBtn--1ozdS shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",negativeBtnBig:"shared_fonts--negativeBtnBig--hrWdd shared_fonts--negativeBtn--1ozdS shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--btnBig--LWeFf ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",greenBtn:"shared_fonts--greenBtn--3i2pB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",whiteBtn:"shared_fonts--whiteBtn--wCcIM shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",greenBtnBig:"shared_fonts--greenBtnBig--3uaPa shared_fonts--greenBtn--3i2pB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--btnBig--LWeFf ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",secondaryBtnBig:"shared_fonts--secondaryBtnBig--3aljB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--btnBig--LWeFf ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",link:"shared_fonts--link--1-itX blue_link--blueLink--22X56",inlineLink:"shared_fonts--inlineLink--r8Qr6 blue_link--blueLink--22X56",bigSelect:"shared_fonts--bigSelect--S6PJI shared_fonts--bigTextInput--2O3L_ shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",container:"shared_fonts--container--19wni",modalInfo:"shared_fonts--modalInfo--13FQB",modalCheckbox:"shared_fonts--modalCheckbox--1P2bC",modalCheckboxInfo:"shared_fonts--modalCheckboxInfo--121Nh",scrollContainer:"shared_fonts--scrollContainer--2oJnC",collisionScrollContainer:"shared_fonts--collisionScrollContainer--3PVS1 shared_fonts--scrollContainer--2oJnC",applyAll:"shared_fonts--applyAll--v5tCB",column:"shared_fonts--column--2ZX7C table--column--CuH34",actionColumn:"shared_fonts--actionColumn--bC9Qy table--column--CuH34",actionColumnInactive:"shared_fonts--actionColumnInactive--3pTJv shared_fonts--actionColumn--bC9Qy table--column--CuH34",familyColumn:"shared_fonts--familyColumn--2gAhm shared_fonts--column--2ZX7C table--column--CuH34",sourceColumn:"shared_fonts--sourceColumn--32-CJ shared_fonts--column--2ZX7C table--column--CuH34",dateColumn:"shared_fonts--dateColumn--10mOB shared_fonts--column--2ZX7C table--column--CuH34",row:"shared_fonts--row--3TNRG members_table--row--1Vyr4",headerRow:"shared_fonts--headerRow--vVSaZ members_table--headerRow--1jhAn members_table--row--1Vyr4 shared_fonts--row--3TNRG members_table--row--1Vyr4",rowInactive:"shared_fonts--rowInactive--3fmQc shared_fonts--row--3TNRG members_table--row--1Vyr4",collisionRow:"shared_fonts--collisionRow--207TB shared_fonts--row--3TNRG members_table--row--1Vyr4",existingRow:"shared_fonts--existingRow--2HhXS shared_fonts--collisionRow--207TB shared_fonts--row--3TNRG members_table--row--1Vyr4",uploadInProgress:"shared_fonts--uploadInProgress--2PLfT",uploadIndicator:"shared_fonts--uploadIndicator--1sheb",uploadFont:"shared_fonts--uploadFont--2aV3L",sample:"shared_fonts--sample--2T_2s",actions:"shared_fonts--actions--1JjTf",errorColumnFile:"shared_fonts--errorColumnFile--3zdeS",errorColumnMessage:"shared_fonts--errorColumnMessage--3mDtv",licenseModalInfo:"shared_fonts--licenseModalInfo--2zuFZ",licenseModalActionsContainer:"shared_fonts--licenseModalActionsContainer--3p99I",fontsContainer:"shared_fonts--fontsContainer--m8VdY",fontsContainerWithFooter:"shared_fonts--fontsContainerWithFooter--23f0N shared_fonts--fontsContainer--m8VdY",noSearchResultsInfo:"shared_fonts--noSearchResultsInfo--3AERw",nullContainer:"shared_fonts--nullContainer--122yZ",nullMessagesContainer:"shared_fonts--nullMessagesContainer--2XAfL",primaryNullMessage:"shared_fonts--primaryNullMessage--2f7AK",orgNullMessageAdmin:"shared_fonts--orgNullMessageAdmin--29PmQ",orgNullMessage:"shared_fonts--orgNullMessage--30M_R shared_fonts--orgNullMessageAdmin--29PmQ",footerBorderInvisible:"shared_fonts--footerBorderInvisible--2QXEi",footerBorder:"shared_fonts--footerBorder--1-b6V",footer:"shared_fonts--footer--RIs8g",blueLink:"shared_fonts--blueLink--2kMl0 blue_link--blueLink--22X56",uploadFooterMessage:"shared_fonts--uploadFooterMessage--2NQ2F",uploadFooterMessageOrg:"shared_fonts--uploadFooterMessageOrg--y5Zjg",progress:"shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",action:"shared_fonts--action--yscKh",progressFailure:"shared_fonts--progressFailure--3Kg0v shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",errorActionContainer:"shared_fonts--errorActionContainer--3USMC shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",errorAction:"shared_fonts--errorAction--3KayE shared_fonts--action--yscKh",searchContainer:"shared_fonts--searchContainer--1-H9s modal--searchContainer--itrA5"}}),
(function(e,t,o){e.exports={row:"entity--row--39iSC table--row--F9DxE",headerRow:"entity--headerRow--1bvIf entity--row--39iSC table--row--F9DxE",loadingRow:"entity--loadingRow--3nZfK entity--row--39iSC table--row--F9DxE",headerCell:"entity--headerCell--38zTQ",sortableField:"entity--sortableField--24nJX",arrow:"entity--arrow--2rOgR",longList:"entity--longList--17uER"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),r=t(110          ),i=t(178                                        ),p=t(1119          );class n extends o.PureComponent{render(){const e=Object.assign(Object.assign({},this.props.style),this.props._top&&this.props._top>=0?{top:this.props._top}:{});return o.createElement("div",{className:`${this.props.header?p.headerRow:p.row} ${this.props.className||""}`,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:e},this.props.children)}}s.TableRow=n,n.displayName="TableRow";class l extends o.PureComponent{render(){return o.createElement(n,{className:`${p.loadingRow} ${this.props.className||""}`},o.createElement(i.LoadingSpinner,null))}}s.LoadingRow=l,l.displayName="LoadingRow";class a extends o.PureComponent{render(){return o.createElement("div",{className:`${p.headerCell} ${this.props.className||""}`,onClick:this.props.onClick?this.props.onClick:void 0},this.props.children)}}s.HeaderCell=a,a.displayName="HeaderCell";class h extends o.PureComponent{constructor(){super(...arguments),this.sortBy=(()=>{this.props.sortBy(this.props.field)})}render(){const e=this.props.isDescending?"↓":"↑";return o.createElement("div",{className:`${p.sortableField} ${this.props.className||""}`,onClick:this.sortBy},this.props.children,this.props.hasArrow&&o.createElement("div",{className:p.arrow},e))}}s.SortableField=h,h.displayName="SortableHeaderCell";class c extends o.PureComponent{constructor(){super(...arguments),this.itemsWithTops=r.memoizeLast(e=>{const s=[];let t=0;for(let o=0;o<e.length;o++)s.push(Object.assign(Object.assign({},e[o]),{_top:t})),t+=this.props.itemHeight;return s}),this.filteredList=(()=>{const e=this.itemsWithTops(this.props.unfilteredItems),s=s=>{let t,o=e.length,r=0,i=o-1,p=0;if(s<=0)return 0;if(o>0&&s>=e[o-1]._top+this.props.itemHeight)return o-1;for(;r<=i;)if((t=e[p=(r+i)/2|0])._top+this.props.itemHeight<s)r=p+1;else{if(!(t._top>s))return p;i=p-1}return p},t=this.props.itemBufferCount?this.props.itemBufferCount*this.props.itemHeight:0,o=this.props.scrollTop-t,r=this.props.scrollTop+this.props.listHeight+t,i=s(o),p=s(r);return e.slice(i,p+1)})}render(){const e=this.filteredList(),s=this.props.unfilteredItems.length*this.props.itemHeight,t=[];for(let r=0;r<e.length;r++){const s=e[r];t.push(o.createElement(this.props.getItem,{key:this.props.getItemKey(s),itemProps:s}))}return o.createElement("div",{className:p.longList,style:{height:s}},t)}}s.LongList=c,c.displayName="LongList"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,s,r){this.compileHighlightForMenuItem=(()=>{let e="";for(let t in this.result){const s=parseInt(t),r=this.result[s],i=s%2?"1":"0";e+=Array(r.length+1).join(i)}return e}),this.equals=(e=>JSON.stringify(this)===JSON.stringify(e)),this.result=e,this.score=t,this.text=s,this.highlight=r}}t.FuzzyStringMatch=r;t.FuzzyStringMatcher=class{constructor(e){this.isValidQuery=(()=>!!this.forwardRegex||!!this.backwardRegex),this.matchAgainst=(e=>{const t=[];return e.forEach(e=>{const s=this.matchAgainstText(e);s&&(s.highlight=s.compileHighlightForMenuItem(),t.push(s))}),t.sort((e,t)=>e.score>t.score||e.score===t.score&&e.text<t.text?-1:1)}),this.matchAgainstText=(e=>{if(!this.isValidQuery())return null;const t=this.forwardRegex.exec(e),s=this.backwardRegex.exec(this.reverseText(e));if(!t||!s)return null;const i=t.slice(1);let h=s.slice(1).map(e=>this.reverseText(e)).reverse();const c=this.scoreMatch(i),l=this.scoreMatch(h),n=Math.max(c,l);return new r(c>=l?i:h,n,e)}),this.compileRegularExpression=(e=>{let t="^(.*?)",s=!1;for(let r of e)(r>="A"&&r<="Z"||r>="a"&&r<="z"||r>="0"&&r<="9")&&(t+=`(${r})(.*?)`,s=!0);return s?(t+="$",new RegExp(t,"i")):null}),this.reverseText=(e=>{let t="";for(let s=e.length-1;s>=0;s--)t+=e[s];return t}),this.scoreMatch=(e=>{let t="",s=0;for(let r=0;r<e.length;r++){const i=e[r];r%2&&(""===t?(s+=10,1===r&&s++):" "===t.slice(-1)&&(s+=10)),t=i}return s}),this.forwardRegex=this.compileRegularExpression(e),this.backwardRegex=this.compileRegularExpression(this.reverseText(e))}}}),
(function(e,a,r){e.exports={_base__DEPRECATED:"search--_base__DEPRECATED--1OqFW",margin12__DEPRECATED:"search--margin12__DEPRECATED--1Pxl5 search--_base__DEPRECATED--1OqFW",searchInput__DEPRECATED:"search--searchInput__DEPRECATED--3LJnm",margin24__DEPRECATED:"search--margin24__DEPRECATED--1LY0a search--_base__DEPRECATED--1OqFW",searchX__DEPRECATED:"search--searchX__DEPRECATED--2UDDM",searchInputWrapper__DEPRECATED:"search--searchInputWrapper__DEPRECATED--Qpku8",searchInputEmpty__DEPRECATED:"search--searchInputEmpty__DEPRECATED--2hn-Y search--searchInput__DEPRECATED--3LJnm",searchXSvg__DEPRECATED:"search--searchXSvg__DEPRECATED--htKvt",searchContainer:"search--searchContainer--U7vsO",xIcon:"search--xIcon--2xITP",searchInput:"search--searchInput--2JmjM",searchIcon:"search--searchIcon--2srT2",searchButton:"search--searchButton--3bUWS",searchIconLoggedOut:"search--searchIconLoggedOut--2Kaoh",searchInputLoggedOut:"search--searchInputLoggedOut--3aZ-6 search--searchInput--2JmjM",searchInputContainerLoggedOut:"search--searchInputContainerLoggedOut--fhS9o",searchContainerLoggedOut:"search--searchContainerLoggedOut--1Emi4"}}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(3,1    );class a extends t.Component{constructor(e){super(e),this.mediaChanged=(()=>{let e=this.props.defaultClass||"";for(let[s,t]of this.mediaQueriesAndClasses)s.matches&&(e=t);let i=this.props.defaultStyle||{};for(let[s,t]of this.mediaQueriesAndStyles)s.matches&&(i=t);this.setState({shown:!this.props.query||!this.visibilityMediaQuery||this.visibilityMediaQuery.matches,className:e,style:i})}),this.mediaQueriesAndClasses=[],this.mediaQueriesAndStyles=[],this.state={shown:!0,className:"",style:{}}}removeVisibilityMediaListener(){this.visibilityMediaQuery&&(this.visibilityMediaQuery.removeListener(this.mediaChanged),this.visibilityMediaQuery=null)}removeMediaListeners(e){for(let[i,s,t]of e)i.removeListener(t)}initVisibilityMediaQuery(){this.removeVisibilityMediaListener(),this.props.query&&(this.visibilityMediaQuery=window.matchMedia(this.props.query),this.visibilityMediaQuery.addListener(this.mediaChanged))}initQueriesFromProps(e,i){return this.removeMediaListeners(e),e=[],i&&i.map(([i,s])=>{let t=window.matchMedia(i);t.addListener(this.mediaChanged),e.push([t,s,this.mediaChanged])}),e}initClassMediaQueries(){this.mediaQueriesAndClasses=this.initQueriesFromProps(this.mediaQueriesAndClasses,this.props.mediaClassList)}initStyleMediaQueries(){this.mediaQueriesAndStyles=this.initQueriesFromProps(this.mediaQueriesAndStyles,this.props.mediaStyleList)}componentDidMount(){this.initVisibilityMediaQuery(),this.initClassMediaQueries(),this.initStyleMediaQueries(),this.mediaChanged()}componentDidUpdate(e){let i=!1;this.props.query!==e.query&&(this.initVisibilityMediaQuery(),i=!0),JSON.stringify(this.props.defaultClass)===JSON.stringify(e.defaultClass)&&JSON.stringify(this.props.mediaClassList)===JSON.stringify(e.mediaClassList)||(this.initClassMediaQueries(),i=!0),JSON.stringify(this.props.defaultStyle)===JSON.stringify(e.defaultStyle)&&JSON.stringify(this.props.mediaStyleList)===JSON.stringify(e.mediaStyleList)||(this.initStyleMediaQueries(),i=!0),i&&this.mediaChanged()}componentWillUnmount(){this.removeVisibilityMediaListener(),this.removeMediaListeners(this.mediaQueriesAndClasses),this.removeMediaListeners(this.mediaQueriesAndStyles)}render(){if(this.state.shown){let e=Object.assign(Object.assign({},this.props),{className:this.state.className,style:this.state.style});return delete e.component,delete e.defaultClass,delete e.defaultStyle,delete e.mediaClassList,delete e.mediaStyleList,delete e.query,t.createElement(this.props.component||"div",e,this.props.children)}return t.createElement("div",{style:{display:"none"}})}}i.MediaQuery=a,a.displayName="MediaQuery"}),
(function(l,t,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 13.879l4.94-4.94 2.12 2.122L18.122 16l4.94 4.938-2.122 2.122L16 18.12l-4.94 4.94-2.12-2.122L13.878 16l-4.94-4.94 2.122-2.12L16 13.879z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 14.586l4.293-4.293 1.414 1.414L17.414 16l4.293 4.293-1.414 1.414L16 17.414l-4.293 4.293-1.414-1.414L14.586 16l-4.293-4.293 1.414-1.414L16 14.586z" fill-rule="evenodd" fill-opacity="1" fill="#5551ff" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M14.146 14.854l.708-.708-4.272-4.272C11.466 8.83 12 7.477 12 6c0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6 1.477 0 2.83-.534 3.874-1.418l4.272 4.272zM11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M24.926 22.158c1.895-2.728 1.627-6.504-.805-8.936-2.734-2.733-7.166-2.733-9.9 0-2.733 2.734-2.733 7.166 0 9.9 2.432 2.432 6.21 2.7 8.938.804l5.735 5.736 1.768-1.768-5.736-5.736zm-2.573-7.168c1.757 1.757 1.757 4.606 0 6.364-1.757 1.757-4.607 1.757-6.364 0-1.757-1.758-1.757-4.607 0-6.364 1.757-1.758 4.607-1.758 6.364 0z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),r=t(7,1        ),c=t(212      ),h=t(193           ),n=t(222                                      ),o=t(174                        ),i=t(1122          ),p=t(411                                        ),l=t(1123                         ),u=t(340              ),g=t(337                           ),m=t(1124                               ),d=t(1125                                      ),E=t(1126                              ),S=t(1127                                    );class v extends a.PureComponent{constructor(){super(...arguments),this.state={loggedOutSearchBarActivated:!1},this.onFocus=(e=>{e.target.select()}),this.onSearchChange=(e=>{const s=e.target;this.props.onChange(s.value)}),this.onSearchKeyDown=(e=>{this.props.isKeyDownHandled&&this.props.isKeyDownHandled(e)||e.keyCode===c.Key.ESCAPE&&(""!==this.searchInput.value?(this.searchInput.select(),document.execCommand("insertText",!1,"")):this.searchInput.blur())}),this.onSearchClick=(()=>{this.setState({loggedOutSearchBarActivated:!0})}),this.onClearSearch=(()=>{this.props.clearSearch(),this.setState({loggedOutSearchBarActivated:!1}),this.focus()}),this.searchInputRef=(e=>{this.searchInput=r.findDOMNode(e),this.props.focusOnMount&&this.searchInput&&!h.isMobileBrowser&&this.searchInput.focus()}),this.focus=(()=>{this.searchInput&&this.searchInput.focus()}),this.blur=(()=>{this.searchInput&&this.searchInput.blur()})}render(){return this.props.useDeprecatedStyles?a.createElement("div",{className:`${this.props.className||i.searchInputWrapper__DEPRECATED} ${this.props.extraSpacing?i.margin24__DEPRECATED:i.margin12__DEPRECATED}`},a.createElement(n.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:this.props.query?i.searchInput__DEPRECATED:i.searchInputEmpty__DEPRECATED,value:this.props.query,onFocus:this.onFocus,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),!!this.props.query&&a.createElement("div",{className:i.searchX__DEPRECATED,onClick:this.onClearSearch},a.createElement(o.Svg,{className:i.searchXSvg__DEPRECATED,svg:g}))):this.props.useLoggedOutStyles?a.createElement("div",{className:`${i.searchContainerLoggedOut} ${this.props.className||""}`},!this.state.loggedOutSearchBarActivated&&!this.props.query&&a.createElement("div",{className:i.searchButton,onClick:this.onSearchClick},a.createElement(o.Svg,{className:i.searchIconLoggedOut,svg:S})),(this.state.loggedOutSearchBarActivated||!!this.props.query)&&a.createElement("div",{className:i.searchInputContainerLoggedOut},a.createElement(n.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:i.searchInputLoggedOut,value:this.props.query,onFocus:this.onFocus,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),a.createElement(l.MediaQuery,{query:`(min-width: ${u.pxToInt(p.fileBrowserMobileWidth)}px)`},a.createElement(o.Svg,{className:i.xIcon,svg:m,onClick:this.onClearSearch})),a.createElement(l.MediaQuery,{query:`(max-width: ${u.pxToInt(p.fileBrowserMobileWidth)-1}px)`},a.createElement(o.Svg,{className:i.xIcon,svg:d,onClick:this.onClearSearch})))):a.createElement("div",{className:`${i.searchContainer} ${this.props.className||""}`},a.createElement(o.Svg,{className:i.searchIcon,svg:E}),a.createElement(n.LazyInput,{ref:this.searchInputRef,placeholder:this.props.placeholder||"Search",className:i.searchInput,value:this.props.query,onFocus:this.onFocus,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),!!this.props.query&&a.createElement(o.Svg,{className:i.xIcon,svg:g,onClick:this.onClearSearch}))}}s.SearchBar=v,v.displayName="SearchInput"}),
(function(o,c,x){o.exports={label:"checkbox_confirm_modal--label--2xraL",buttonBox:"checkbox_confirm_modal--buttonBox--16qtQ",checkboxConfirmButtonBox:"checkbox_confirm_modal--checkboxConfirmButtonBox--3B4yf",checkboxText:"checkbox_confirm_modal--checkboxText--2i2i9"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(3,1    ),n=o(227                                 ),c=o(224                                            ),r=o(1129                          );class i extends s.PureComponent{render(){return s.createElement(n.Modal,Object.assign({},this.props),this.props.children,s.createElement(a,{onConfirm:this.props.onConfirm,onCancel:this.props.onHide,confirmButtonText:this.props.buttonText,hideCancelButton:this.props.hideCancelButton,makeButtonAppearNegative:this.props.makeButtonAppearNegative},s.createElement("div",{className:r.checkboxText},this.props.checkboxText)))}}t.CheckboxConfirmModal=i,i.displayName="CheckboxConfirmModal";class a extends s.PureComponent{constructor(e){super(e),this.onCheck=(()=>{this.setState({checked:!this.state.checked})}),this.state={checked:!1}}render(){return s.createElement("div",{className:this.props.className},s.createElement(c.Label,{className:r.label},s.createElement(c.Checkbox,{checked:this.state.checked,onChange:this.onCheck}),this.props.children),s.createElement("div",{className:r.buttonBox},!this.props.hideCancelButton&&s.createElement(c.ButtonSecondary,{onClick:this.props.onCancel},this.props.cancelButtonText||"Cancel"),this.props.makeButtonAppearNegative?s.createElement(c.ButtonNegative,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm"):s.createElement(c.ButtonPrimary,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm")))}}t.CheckboxConfirmButtons=a,a.displayName="CheckboxConfirmButtons"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),a=s(172              ),n=s(1118                ),r=s(134                             ),l=s(106                                     ),i=s(130                                              ),c=s(407                             ),h=s(407                             ),d=s(217       ),p=s(218                                   ),m=s(347                                                  ),u=s(1120                          ),g=s(224                                            ),f=s(227                                 ),F=s(174                        ),y=s(840                                                            ),C=s(598                                                                  ),E=s(665                                              ),v=s(788                                                ),k=s(621                                       ),S=s(168                                    ),w=s(224                                            ),N=s(111                        ),b=s(1121                    ),T=s(47,1    ),I=s(164         ),O=s(136                            ),_=s(1128                             ),R=s(1130                                                                 );class U extends a.Component{constructor(e){super(e),this.fileInput=document.createElement("input"),this.files=[],this.handleFontListScroll=((e,t)=>{this.setState({shouldShowFooterBorder:e+t.trackHeight!==t.scrollHeight})}),this.handleFontListCanScrollChange=(e=>{this.setState({shouldShowFooterBorder:e})}),this.resourceId=(()=>"team"===this.props.resourceType?this.props.teamId:this.props.orgId),this.uniqueResourceId=(()=>`${this.props.resourceType}-${this.resourceId()}`),this.canAdmin=(()=>"team"===this.props.resourceType?N.canAdminTeam(this.props.teamId,this.props):N.canAdminOrg(this.props.orgId,this.props)),this.toggleApplyToAll=(()=>this.setState({applyToAll:!this.state.applyToAll})),this.skipCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(()=>{this.props.dispatch(c.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.replaceCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(e=>{this.props.dispatch(c.sharedFonts.uploadFonts({fonts:{[h.getFontUploadId()]:e.file},resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!0})),this.props.dispatch(c.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.reviewUploadErrors=(()=>{this.setState({shouldShowUploadErrors:!0})}),this.dismissUploadErrors=(()=>{this.props.dispatch(c.sharedFonts.clearFontUploadResults()),this.setState({shouldShowUploadErrors:!1})}),this.clearFontUploadResults=(()=>this.props.dispatch(c.sharedFonts.clearFontUploadResults())),this.onUploadConfirm=(()=>{const{uploadsRemaining:e}=this.props.sharedFonts;0===Object.keys(e).length&&this.clearFontUploadResults();const t={};for(const s of this.files)t[h.getFontUploadId()]=s;this.fileInput.value="",this.props.dispatch(c.sharedFonts.uploadFonts({fonts:t,resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!1})),this.resetUpload()}),this.onUploadClick=(()=>{this.fileInput.click()}),this.getOrgFontsForTeam=(()=>{if("team"!==this.props.resourceType)return null;const e=this.getOrgForTeam();return e&&this.props.sharedFonts.fontsByResourceId[`org-${e.id}`]}),this.renderFonts=(()=>{const{fontsByResourceId:e}=this.props.sharedFonts;if(!e[this.uniqueResourceId()])return[];if("org"===this.props.resourceType)return this.renderFontsForResource(this.uniqueResourceId(),this.canAdmin());{const t=this.props.teams[this.resourceId()].org_id;return this.renderFontsForResource(this.uniqueResourceId(),this.canAdmin(),e[`org-${t}`])}}),this.getSortedFonts=(e=>{let t=[],s={};const o=this.props.sharedFonts.fontsByResourceId[e];if(!o)return{sortedFamilyNames:t,familyNameToSortedStyleNames:s};if(this.state.query){const e=new b.FuzzyStringMatcher(this.state.query),a=[];for(const n in o){const r=[];let l=e.matchAgainstText(n);for(const t in o[n]){const s=e.matchAgainstText(`${n} ${t}`);if(s){l||(l=new b.FuzzyStringMatch(s.result,s.score,n));const e=new b.FuzzyStringMatch(s.result,s.score,t);r.push(e)}}r.length>0?(l?a.push(l):t.push(n),s[n]=r.sort((e,t)=>t.score-e.score).map(e=>e.text)):l&&(a.push(l),s[n]=Object.keys(o[n]).sort())}t=[...a.sort((e,t)=>t.score-e.score).map(e=>e.text),...t]}else{t=Object.keys(o).sort();for(const e of t)s[e]=Object.keys(o[e]).sort(function(t,s){const a=!!o[e][t].italic,n=!!o[e][s].italic;if(!a&&n)return-1;if(a&&!n)return 1;return(o[e][t].weight||400)-(o[e][s].weight||400)})}return{sortedFamilyNames:t,familyNameToSortedStyleNames:s}}),this.renderFontsForResource=((e,t,s)=>{const a=this.props.sharedFonts.fontsByResourceId[e];if(!a)return[];const n=[],{sortedFamilyNames:r,familyNameToSortedStyleNames:l}=this.getSortedFonts(e);for(const i of r)for(const r of l[i]){const l=a[i][r],c=!!(s&&s[i]&&s[i][r]);n.push(o.createElement(A,{key:`${i}-${r}-${e}`,fontInfo:l,dispatch:this.props.dispatch,canCheck:t,orgById:this.props.orgById,teams:this.props.teams,shouldShowCheckbox:Object.keys(this.props.sharedFonts.fontsToDelete).length>0,isChecked:l.id in this.props.sharedFonts.fontsToDelete,handleToggleCheck:this.toggleCheckFont,isOverridden:c}))}return n}),this.updateUploadRef=o.createRef(),this.renderUploadingFont=((e,t)=>{const s=this.props.sharedFonts.uploadsRemaining[e];return o.createElement(u.TableRow,{className:n.row,key:e},o.createElement("div",{className:n.actionColumn}),o.createElement("div",{className:n.uploadInProgress,ref:0===t?this.updateUploadRef:void 0},o.createElement(y.CenterTruncatedText,{text:s.file.name}),o.createElement("div",{className:n.uploadIndicator,style:{width:`${100*s.progress}%`}})),o.createElement("div",{className:n.actionColumn}))}),this.dismissWarning=(()=>{this.props.dispatch(c.sharedFonts.dismissFontWarning())}),this.showDeleteFontsModal=(()=>{this.setState({shouldShowDeleteModal:!0})}),this.renderUploadErrors=(()=>o.createElement("div",{className:n.container},o.createElement(m.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:n.scrollContainer},o.createElement(u.TableRow,{header:!0,className:n.headerRow},o.createElement(u.HeaderCell,{className:n.errorColumnFile},"File"),o.createElement(u.HeaderCell,{className:n.errorColumnMessage},"Error")),this.props.sharedFonts.unsuccessfulUploads.map(e=>o.createElement(u.TableRow,{className:n.row,key:e.filename},o.createElement("div",{className:n.errorColumnFile},o.createElement(y.CenterTruncatedText,{text:e.filename})),o.createElement("div",{className:n.errorColumnMessage},o.createElement("span",null,e.message))))),o.createElement("div",{className:n.errorActionContainer},o.createElement(g.ButtonSecondary,{className:n.errorAction,onClick:this.dismissUploadErrors},"Dismiss")))),this.resetUpload=(()=>{this.files=[],this.setState({shouldShowLicenseModal:!1})}),this.deleteCheckedFonts=(()=>{this.props.dispatch(c.sharedFonts.deleteFonts()),this.setState({shouldShowDeleteModal:!1})}),this.resetDelete=(()=>{this.setState({shouldShowDeleteModal:!1})}),this.toggleCheckAllFontIDs=(()=>{const e=this.props.sharedFonts.fontsByResourceId[this.uniqueResourceId()],{sortedFamilyNames:t,familyNameToSortedStyleNames:s}=this.getSortedFonts(this.uniqueResourceId()),o=[];for(const a of t)for(const t of s[a])o.push(e[a][t]);this.props.dispatch(c.sharedFonts.toggleFontsToDelete({fonts:o,checked:Object.keys(this.props.sharedFonts.fontsToDelete).length<o.length}))}),this.toggleCheckFont=(e=>{this.props.dispatch(c.sharedFonts.toggleFontsToDelete({fonts:[e]}))}),this.onSearchQueryChange=(e=>{this.setState({query:e})}),this.onSearchQueryClear=(()=>{this.setState({query:""})}),this.renderFooter=(()=>o.createElement(o.Fragment,null,o.createElement("div",{className:this.state.shouldShowFooterBorder?n.footerBorder:n.footerBorderInvisible,key:"footer-border"}),Object.keys(this.props.sharedFonts.fontsToDelete).length>0?this.renderDeleteFooter():this.renderUploadFooter())),this.onViewOrgFontsClick=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:O.ORG_DASHBOARD_MODAL})),this.props.dispatch(r.orgs.selectAdminView({view:"fonts"}))}),this.renderUploadFooter=(()=>{let e=o.createElement("div",null);if("team"===this.props.resourceType){const t=this.getOrgForTeam(),s=this.getOrgFontsForTeam();if(t&&s&&Object.keys(s).length>0){let a=0;Object.keys(s).forEach(e=>{a+=Object.keys(s[e]).length}),e=o.createElement("div",null,o.createElement("div",{className:n.uploadFooterMessage},o.createElement("span",{onClick:this.onViewOrgFontsClick,className:n.blueLink},"View ",a," shared ",I.getPluralOrSingular(a,"font"))," available to this team"),o.createElement("div",{className:n.uploadFooterMessageOrg},"from ",t.name," Organization."))}}const t=this.canAdmin()?o.createElement(g.ButtonPrimary,{onClick:this.onUploadClick},"Upload Fonts"):null;return t||e?o.createElement("div",{className:n.footer,key:"shared-fonts-upload-footer"},e,t):null}),this.renderNullState=(()=>{let e=null,t=null;const s=this.getOrgFontsForTeam();let a=0;s&&Object.keys(s).forEach(e=>{a+=Object.keys(s[e]).length}),"team"===this.props.resourceType?this.canAdmin()?e="Upload fonts you own to share with your team.":(e="No fonts have been uploaded to this team.",t="Only team admins have permission to upload fonts."):this.canAdmin()?e="Upload fonts you own to share with your organization.":(e="No fonts have been uploaded to this organization.",t="Only organization admins have permission to upload fonts.");const r="team"===this.props.resourceType&&a>0,l=this.getOrgForTeam();return o.createElement("div",{className:n.nullContainer},o.createElement("div",{className:n.nullMessagesContainer},e&&o.createElement("div",{className:n.primaryNullMessage},e),t&&o.createElement("div",null,t),l&&r&&o.createElement("div",{className:this.canAdmin()?n.orgNullMessageAdmin:n.orgNullMessage},o.createElement("span",{onClick:this.onViewOrgFontsClick,className:n.blueLink},"View ",a," Shared Fonts")," from ",l.name," Organization")),this.canAdmin()&&o.createElement(g.ButtonPrimary,{onClick:this.onUploadClick},"Upload Fonts"))}),this.fileInput.type="file",this.fileInput.multiple=!0,this.fileInput.accept="font/opentype,font/ttf,.otf,.ttf",this.fileInput.onchange=(e=>{this.files=e.target.files,this.setState({shouldShowLicenseModal:!0})}),this.state={applyToAll:!1,shouldShowUploadErrors:e.sharedFonts.unsuccessfulUploads.length>0,shouldShowLicenseModal:!1,shouldShowDeleteModal:!1,query:"",shouldShowFooterBorder:!1}}componentDidUpdate(e){const t=this.updateUploadRef.current;Object.keys(this.props.sharedFonts.uploadsRemaining).length>0&&0===Object.keys(e.sharedFonts.uploadsRemaining).length&&t&&t.scrollIntoView({behavior:"smooth",block:"start"})}componentWillUnmount(){this.props.dispatch(c.sharedFonts.clearFontsToDelete());const{uploadsLaunched:e,uploadsRemaining:t}=this.props.sharedFonts;0!==e&&(Object.keys(t).length>0?this.props.dispatch(i.visualBell.enqueue({type:"shared-fonts",message:"Importing shared fonts",icon:S.VisualBellIcon.SPINNER,timeout:1/0})):this.clearFontUploadResults())}static loadSharedFonts(e){U.fontLoadPromise||U.loadedFonts||(U.fontLoadPromise=p.fetchSharedFonts(),U.fontLoadPromise.then(t=>{e(c.sharedFonts.updateSharedFontList(t)),U.fontLoadPromise=null,U.loadedFonts=!0}))}getOrgForTeam(){if(!this.props.teams[this.resourceId()])return null;const e=this.props.teams[this.resourceId()].org_id;return e?this.props.orgById[e]:null}renderLoading(){return o.createElement(u.LoadingRow,null)}renderUploadProgress(){const{uploadsLaunched:e,successfulUploads:t,unsuccessfulUploads:s}=this.props.sharedFonts;return 0===e?null:e-t.length-s.length>0?o.createElement("div",{className:n.progress},o.createElement("span",null,"Importing ",t.length+s.length+1,"/",e," font files...")):0===s.length?null:o.createElement("div",{className:n.progressFailure},o.createElement("span",null,"Import complete, with ",s.length," ",I.getPluralOrSingular(s.length,"error")),o.createElement("div",null,o.createElement(g.ButtonSecondary,{className:n.action,onClick:this.reviewUploadErrors},"Review ",I.getPluralOrSingular(s.length,"error")),o.createElement(g.ButtonSecondary,{className:n.action,onClick:this.clearFontUploadResults},"OK")))}renderWarning(){if(this.props.sharedFonts.collisions.length>0)return null;const e=this.props.sharedFonts.warnings[0];if(!e)return null;const t=e.collisions.filter(e=>e.teamId&&this.props.teams[e.teamId]).map(e=>this.props.teams[e.teamId]).map(e=>e.name);return t.length?o.createElement(f.Modal,{size:400,dispatch:this.props.dispatch,title:"Team Fonts will be Overridden"},o.createElement("div",{className:n.modalInfo},e.font.family," ",e.font.style," has already been added to ",I.joinWordsNaturally(t),". In new text objects, the font shared with the organization will be used instead of fonts uploaded to teams."),o.createElement("div",{className:n.modalInfo},"Organization Fonts take precedence over Fonts uploaded to individual Teams; any text objects created using this font will use the Organization Shared Font."),o.createElement("div",{className:n.modalInfo},"To use the Team version of the Font, you will need to remove the Font from the Organization."),o.createElement("div",{className:n.actions},o.createElement(g.ButtonPrimary,{onClick:this.dismissWarning},"Okay"))):null}renderCollision(){const e=this.props.sharedFonts.collisions[0];return e?o.createElement(f.Modal,{size:400,dispatch:this.props.dispatch,title:"You already have a font with this name."},o.createElement(m.ScrollContainer,{width:352,showScrollbar:!1,className:n.collisionScrollContainer},o.createElement(u.TableRow,{className:n.existingRow},o.createElement("div",{className:n.familyColumn},e.existing.family,", ",e.existing.style," ",e.existing.version&&`(v${e.existing.version})`),o.createElement("div",{className:n.dateColumn},e.existing.updatedAt&&T(e.existing.updatedAt).format("M/D/YYYY"))),o.createElement(u.TableRow,{className:n.collisionRow},o.createElement("div",{className:n.familyColumn},e.existing.family,", ",e.existing.style," ",e.uploaded.version&&`(v${d.parseVersion(e.uploaded.version)})`),o.createElement("div",{className:n.dateColumn}))),this.props.sharedFonts.collisions.length>1&&o.createElement("div",{className:n.applyAll},o.createElement(w.Checkbox,{checked:this.state.applyToAll,onChange:this.toggleApplyToAll}),o.createElement("span",{onClick:this.toggleApplyToAll},"Apply to All ",this.props.sharedFonts.collisions.length," Remaining")),o.createElement("div",{className:n.actions},o.createElement(g.ButtonSecondary,{onClick:this.skipCollision},"Skip"),o.createElement(g.ButtonPrimary,{onClick:this.replaceCollision},"Replace"))):null}renderUploadModal(){return o.createElement(R.CheckboxConfirmModal,{checkboxText:"I own the fonts I am uploading, or have the right to distribute copies to others and to authorize the use of copies with Figma.",buttonText:"Upload",onConfirm:this.onUploadConfirm,onHide:this.resetUpload,hideCancelButton:!1,dispatch:this.props.dispatch,title:`Uploading ${this.files.length} ${I.getPluralOrSingular(this.files.length,"Font")}`,size:"small"})}renderDeleteModal(){const e=Object.keys(this.props.sharedFonts.fontsToDelete).length;return o.createElement(f.Modal,{size:"small",dispatch:this.props.dispatch,title:"Confirm Delete"},o.createElement("div",{className:n.modalInfo},"Are you sure you want to delete ",e," ",I.getPluralOrSingular(e,"font"),"?"),o.createElement("div",{className:n.licenseModalActionsContainer},o.createElement(g.ButtonPrimary,{className:n.action,onClick:this.deleteCheckedFonts},"Confirm"),o.createElement(g.ButtonSecondary,{className:n.action,onClick:this.resetDelete},"Cancel")))}renderDeleteFooter(){const e=Object.keys(this.props.sharedFonts.fontsToDelete).length;return o.createElement("div",{className:n.footer,key:"shared-fonts-delete-footer"},o.createElement("span",null,e," ",I.getPluralOrSingular(e,"font")," selected"),o.createElement(g.ButtonSecondary,{onClick:this.showDeleteFontsModal},"Delete"))}render(){if(this.state.shouldShowUploadErrors)return this.renderUploadErrors();const{uploadsRemaining:e}=this.props.sharedFonts,t=this.renderFonts(),s=!U.fontLoadPromise&&0===t.length&&!this.state.query;return o.createElement("div",{className:n.container},o.createElement("div",{className:n.searchContainer},o.createElement(_.SearchBar,{focusOnMount:!0,extraSpacing:!0,query:this.state.query,clearSearch:this.onSearchQueryClear,onChange:this.onSearchQueryChange,useDeprecatedStyles:!0})),o.createElement("div",{className:s?n.fontsContainer:n.fontsContainerWithFooter},o.createElement(u.TableRow,{header:!0,className:n.headerRow},o.createElement(u.HeaderCell,{className:n.actionColumn},this.canAdmin()&&o.createElement(w.Checkbox,{checked:Object.keys(this.props.sharedFonts.fontsToDelete).length>0,onChange:this.toggleCheckAllFontIDs})),o.createElement(u.HeaderCell,{className:n.familyColumn},"Font"),o.createElement(u.HeaderCell,{className:n.column},"Version"),o.createElement(u.HeaderCell,{className:n.column},"Sample"),o.createElement(u.HeaderCell,{className:n.actionColumn},this.canAdmin()&&o.createElement(C.IconButton,{recordingKey:a.joinKeys(this.props,"addButton"),svg:E,fallbackSvg:v,onClick:this.onUploadClick}))),s?this.renderNullState():o.createElement(o.Fragment,null,o.createElement(m.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:n.scrollContainer,onScroll:this.handleFontListScroll,onCanScrollChange:this.handleFontListCanScrollChange,key:"shared-fonts-scroll-container"},U.fontLoadPromise&&this.renderLoading(),Object.keys(e).sort().map(this.renderUploadingFont),t.length>0&&t,0===t.length&&this.state.query&&o.createElement("div",{className:n.noSearchResultsInfo},"No results for ",this.state.query)),U.fontLoadPromise?null:this.renderFooter())),this.renderUploadProgress(),this.renderCollision(),this.renderWarning(),this.state.shouldShowLicenseModal&&this.renderUploadModal(),this.state.shouldShowDeleteModal&&this.renderDeleteModal())}}t.SharedFonts=U,U.displayName="SharedFonts",U.fontLoadPromise=null,U.loadedFonts=!1;class A extends o.PureComponent{constructor(){super(...arguments),this.handleRowClick=(e=>{this.props.handleToggleCheck(this.props.fontInfo),e.stopPropagation()}),this.handleCheck=(e=>{this.props.handleToggleCheck(this.props.fontInfo),e.stopPropagation()}),this.handleCheckboxClick=(e=>{e.stopPropagation()})}render(){const{family:e,style:t,version:s,sampleUrl:a}=this.props.fontInfo;return o.createElement(u.TableRow,{className:this.props.isOverridden?n.rowInactive:n.row,onClick:this.props.canCheck?this.handleRowClick:void 0},o.createElement("div",{className:this.props.shouldShowCheckbox?n.actionColumn:n.actionColumnInactive},this.props.canCheck&&o.createElement(w.Checkbox,{checked:this.props.isChecked,onChange:this.handleCheck,onClick:this.handleCheckboxClick})),o.createElement("div",{className:n.familyColumn},o.createElement(y.CenterTruncatedText,{text:`${e} ${t}`})),o.createElement("div",{className:n.column},s||"—"),o.createElement("div",{className:n.column},o.createElement("img",{className:n.sample,src:a})),o.createElement("div",{className:n.actionColumn},this.props.isOverridden&&o.createElement("div",{"data-tooltip-text":"This font style was uploaded to your Organization. Any new text objects will use the Organization font."},o.createElement(F.Svg,{svg:k}))))}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(124     ),s=a(46,1            ),d=a(107                             ),r=a(94                                   ),m=a(137                             ),n=a(106                                     ),o=a(285                                   ),c=a(1131                                                               ),l=a(114           ),h=a(126          ),p=a(606                           ),u=a(111                        ),f=a(104                     ),g=a(95                      ),A=a(136                            ),y=a(147                       ),w=new p.SearchLibrary([],{keys:["name","email"],threshold:.3,tokenize:!0,shouldSort:!0}),_={[y.LibraryPreferencesModalTab.FONTS]:A.SHARED_FONTS_MODAL,[y.LibraryPreferencesModalTab.LIBRARIES]:A.LIBRARY_PREFERENCES_MODAL};t.fetchSummary=(e=>i.default.get(`/api/subscriptions/team/${e}/summary`).then(({data:e})=>e.meta)),t.fetchEditors=(e=>i.default.get(`/api/teams/${e}/editors`).then(({data:t})=>{const a=t.meta.editors;for(let i of a)i.team_id=e;return a})),t.fetchRoles=((e,t)=>i.default.get(`/api/teams/${e}/users/${t}/editor_roles`).then(({data:e})=>{return e.meta}));t.fetchCharges=((e,t)=>{let a=`/api/subscriptions/team/${e}/charges`;return t&&(a+=`/${t}`),i.default.get(a).then(({data:e})=>{return e.meta})}),t.demoteUserRoles=((e,t)=>i.default.post(`/api/teams/${e}/users/${t}/revoke_editor`));const I=l.debounce((e,t)=>{e.dispatch(o.teamAdmin.setSearchResults({searchResults:w.search(t)}))},200);t.teamAdminMiddleware=(e=>a=>(function(i){if(n.fileBrowser.selectView.matches(i)&&"teamAdmin"===i.payload.view){const t=i.payload.teamId,s=e.getState();return u.canAdminTeam(t,s)?(e.dispatch(o.teamAdmin.initBillingDetails({teamId:t})),a(i)):void e.dispatch(n.fileBrowser.selectView({view:"team",teamId:t}))}if(n.fileBrowser.selectView.matches(i)&&"teamInvoices"===i.payload.view){const t=i.payload.teamId,s=e.getState();return u.canAdminTeam(t,s)?(e.dispatch(o.teamAdmin.initCharges({teamId:t})),a(i)):void e.dispatch(n.fileBrowser.selectView({view:"team",teamId:t}))}if(n.fileBrowser.selectView.matches(i)&&"team"===i.payload.view&&i.payload.teamPreferencesModalTab)return a(i),void e.dispatch(n.fileBrowser.showModal({type:_[i.payload.teamPreferencesModalTab]}));if(m.team.put.matches(i)){const t=i.payload.team.id,s=e.getState().teams[t];a(i);const d=e.getState(),r=e.getState().teams[t];return!i.payload.userInitiated&&r.subscription&&s&&null==s.subscription&&("teamUpgrade"===d.selectedView.view&&d.selectedView.teamId===r.id?e.dispatch(o.teamAdmin.fetchSummary({teamId:r.id})):"teamAdmin"===d.selectedView.view&&d.selectedView.teamId===r.id&&e.dispatch(o.teamAdmin.fetchSummary({teamId:r.id}))),void(!i.payload.userInitiated&&null==r.subscription&&s&&s.subscription&&("teamAdmin"===d.selectedView.view&&d.selectedView.teamId===r.id?e.dispatch(o.teamAdmin.setBillingSummary({summary:null})):"addAnnualPlan"===d.selectedView.view&&d.selectedView.teamId===r.id&&(e.dispatch(n.fileBrowser.selectView({view:"teamAdmin",teamId:r.id})),e.dispatch(o.teamAdmin.setBillingSummary({summary:null})))))}if(o.teamAdmin.initBillingDetails.matches(i)){e.dispatch(o.teamAdmin.fetchEditors({teamId:i.payload.teamId}));const t=e.getState().teams[i.payload.teamId];return g.isTeamPro(t)&&e.dispatch(o.teamAdmin.fetchSummary({teamId:i.payload.teamId})),a(i)}if(o.teamAdmin.fetchEditors.matches(i))return t.fetchEditors(i.payload.teamId).then(t=>{e.dispatch(o.teamAdmin.setEditors({editors:t}))}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your team editors."))}),a(i);if(o.teamAdmin.fetchSummary.matches(i))return t.fetchSummary(i.payload.teamId).then(t=>{e.dispatch(o.teamAdmin.setBillingSummary({summary:t}))}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your billing summary."))}),a(i);if(o.teamAdmin.initCharges.matches(i))return a(i),void e.dispatch(o.teamAdmin.fetchMoreCharges({teamId:i.payload.teamId}));if(o.teamAdmin.fetchMoreCharges.matches(i)){if(e.getState().teamAdmin.recentCharges.loading)return;const s=e.getState().teamAdmin.recentCharges.charges,d=s&&s.length?s[s.length-1].id:void 0;return t.fetchCharges(i.payload.teamId,d).then(t=>{t.length&&e.dispatch(o.teamAdmin.appendCharges({charges:t})),t.length<25&&e.dispatch(o.teamAdmin.noMoreChargesToFetch())}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your invoices."))}),a(i)}if(o.teamAdmin.setEditors.matches(i))return w.set(i.payload.editors),e.dispatch(o.teamAdmin.getAdmins()),a(i);if(!(o.teamAdmin.getAdmins.matches(i)||o.teamAdmin.setBillingSummary.matches(i)||d.role.post.matches(i))){if(o.teamAdmin.setQuery.matches(i))return I(e,i.payload.query),a(i);if(n.fileBrowser.showModal.matches(i)&&i.payload.type===A.TEAM_ADMIN_USER_DETAILS_MODAL){const{editor:t}=i.payload.data;return e.dispatch(o.teamAdmin.initUserDetails({editor:t})),a(i)}if(n.fileBrowser.showModal.matches(i)&&i.payload.type===A.SHARED_FONTS_MODAL)return c.SharedFonts.loadSharedFonts(e.dispatch),a(i);if(o.teamAdmin.initUserDetails.matches(i)){const{editor:s}=i.payload;return t.fetchRoles(s.team_id,s.id).then(t=>{e.dispatch(o.teamAdmin.setUserRoles({roles:t}))}),a(i)}if(o.teamAdmin.demoteUserRoles.matches(i)){const{editor:d}=i.payload;h.segment&&h.segment.track("Team Editor Demoted",{teamId:d.team_id,editorId:d.id});let m=f.getOptimisticTransactionID();return t.demoteUserRoles(d.team_id,d.id).then(()=>{e.dispatch({type:null,optimist:{type:s.COMMIT,id:m}})}).catch(()=>{e.dispatch(r.flash.error("An error occurred while downgrading this user's permissions.")),e.dispatch({type:null,optimist:{type:s.REVERT,id:m}}),e.dispatch(o.teamAdmin.getAdmins())}),(i=Object.assign({},i)).optimist={type:s.BEGIN,id:m},a(i),void e.dispatch(o.teamAdmin.getAdmins())}return a(i)}{const t=e.getState().selectedView;if("teamAdmin"!=t.view)return a(i);const s=t.teamId;a(i);const r=e.getState(),m=r.teamAdmin.billingDetails;if(!m.loadingSummary&&!m.loadingEditors){if(d.role.post.matches(i)&&u.getResourceTeamId(i.payload.role,r)!==s)return;const t={};u.getTeamAdmins(s,r).forEach(e=>{t[e.id]=!0});const a=m.editors.filter(e=>t[e.id]||!1);e.dispatch(o.teamAdmin.setAdmins({admins:a}))}}}))}),
(function(r,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(119              ),o="fig-kiwi\0\0\0";var n=null;function a(r){return String.fromCharCode.apply(String,Array.prototype.slice.call(r,0,o.length))!==o}i.needsMigration=a,i.migrateOldFigFile=function(r){return a(r)?(n||(n=e.loadScript(Fig.figMigratorURL).then(()=>{const r=window.fig_migrator;if(!r||"function"!=typeof r.upgrade)throw new Error(`Failed to load migration script from ${JSON.stringify(Fig.figMigratorURL)}`);return i=>r.upgrade(i)}).catch(r=>(n=null,Promise.reject(r)))),n.then(i=>i(r))):Promise.resolve(r)}}),
(function(e,i,t){"use strict";var n=this&&this.__awaiter||function(e,i,t,n){return new(t||(t=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(i){s(i)}}function a(e){try{l(n.throw(e))}catch(i){s(i)}}function l(e){var i;e.done?r(e.value):(i=e.value,i instanceof t?i:new t(function(e){e(i)})).then(o,a)}l((n=n.apply(e,i||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const r=t(47,1    ),s=t(138                                   ),o=t(106                                     ),a=t(94                                   ),l=t(189                                        ),c=t(140                               ),d=t(660                             ),f=t(191                                 ),u=t(146                                          ),p=t(1133                                   ),g=t(190             );function v(e,i=g.NEXT_PAGE){const t=e.getState(),n=c.editingFileKey(t.selectedView);if(!n)return;if(t.versionHistory.loading)return;e.dispatch(l.versionHistory.toggleLoading({loading:!0}));g.paginate(`/api/versions/${n}`,30,t.versionHistory,i).then(t=>{if(n!==c.editingFileKey(e.getState().selectedView))return;const r=t;e.dispatch(l.versionHistory.append({history:r,direction:i}))})}function h(e,i){let t=null,n=new XMLHttpRequest;return n.open("GET",e),n.onload=(()=>{t=new Uint8Array(n.response)}),n.onloadend=(()=>{null!=t&&i(t)}),n.responseType="arraybuffer",n.send(),n}let y=null;i.default=(e=>i=>(function(t){if(o.fileBrowser.selectView.matches(t)){const n=e.getState(),r=n.selectedView&&c.editingFileKey(n.selectedView),s=i(t),o=e.getState();return(o.selectedView&&c.editingFileKey(o.selectedView))!==r&&e.dispatch(l.versionHistory.reset()),s}if(s.fullscreen.enterVersionHistoryMode.matches(t)){const n=e.getState();let s=r(n.versionHistory.lastFetched);return r(new Date).diff(s,"minutes")>30&&(e.dispatch(l.versionHistory.reset()),v(e,g.PREV_PAGE)),i(t)}if(l.versionHistory.loadMore.matches(t))return v(e),i(t);if(!l.versionHistory.setActive.matches(t)){if(l.versionHistory.setLinkedVersion.matches(t)){if(!t.payload.version.canvas_url)return void e.dispatch(a.flash.error("Couldn't get this version from version history."));{const e=h(t.payload.version.canvas_url,i=>n(this,void 0,void 0,function*(){if(e===y){y=null;const e=yield p.migrateOldFigFile(i);u.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",void 0,e)}}));y=e}}return i(t)}{if(t.payload.id===f.CURRENT_VERSION)return u.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",{}),i(t);i(t);const n=e.getState();let r=f.getActiveVersion(n.versionHistory);if(!r)return;if(r.canvas_url){let i=h(r.canvas_url,t=>{i===y&&(y=null,e.getState().mirror.appModel.topLevelMode===d.TopLevelMode.HISTORY&&p.migrateOldFigFile(t).then(e=>{u.fullscreen.DEPRECATED_sendMessage("loadFigFileForPreview",void 0,e)}))});y=i}else e.dispatch(a.flash.error("Couldn't get this version from version history."))}}))}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(433                                ),a=e(434                       );o.default=(t=>o=>(function(e){if(i.tooltip.showAfterDelay.matches(e)){let l=setTimeout(()=>{t.dispatch(i.tooltip.showImmediately({target:e.payload.target,targetRect:e.payload.targetRect,position:e.payload.position,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}))},e.payload.timeoutDelay);return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.PENDING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:l,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e)}if(i.tooltip.showImmediately.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.SHOWING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:null,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e);if(i.tooltip.hide.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.NONE,position:a.TooltipPosition.BELOW,target:null,targetRect:void 0,timeoutID:null,interactive:!1}})),o(e);if(i.tooltip.hideAfterDelay.matches(e)){let a=t.getState();if(null===a.tooltip.timeoutID){let o=setTimeout(()=>{t.dispatch(i.tooltip.hide())},e.payload.timeoutDelay);t.dispatch(i.tooltip.update({tooltip:Object.assign(Object.assign({},a.tooltip),{timeoutID:o})}))}return o(e)}if(i.tooltip.cancelHideAfterDelay.matches(e)){let a=t.getState();return t.dispatch(i.tooltip.update({tooltip:Object.assign(Object.assign({},a.tooltip),{timeoutID:null})})),o(e)}if(i.tooltip.update.matches(e)){let i=t.getState();return null!==i.tooltip.timeoutID&&i.tooltip.timeoutID!=e.payload.tooltip.timeoutID&&clearTimeout(i.tooltip.timeoutID),o(e)}return o(e)}))}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(188                             ),o=i(138                                   ),p=i(106                                     ),l=i(117              ),r=i(677                                        );let a=null;t.default=(e=>t=>(function(i){if(!l.desktopApp)return t(i);if(p.fileBrowser.selectView.matches(i)){const s=e.getState();if(l.desktopApp.isFileBrowserTab()){const t=e.getState().currentOrgId,i=t&&e.getState().orgById[t],s=i&&i.img_url||null;a!==s&&(l.desktopApp.setFileBrowserIcon(s),a=s)}const o=i.payload;if("fullscreen"===o.view||l.desktopApp.isFileBrowserTab()&&"prototype"===o.view){const{fileKey:e,commentThreadId:t}=o;if(l.desktopApp.isFileBrowserTab()||s.selectedView&&"prototype"===s.selectedView.view||s.editingFileKey&&s.editingFileKey!==e){let e=r.selectedViewToPath(s,o);return"fullscreen"===o.view&&t&&(e+=`#${t}`),void(window.location.href=e)}}if(!l.desktopApp.isFileBrowserTab()){if(!o||"fullscreen"!==o.view&&"prototype"!==o.view){const e=r.selectedViewToPath(s,o);return void(e&&(window.location.href=e))}if("fullscreen"===o.view){const{fileKey:e}=o;e&&l.desktopApp.setFileKey(e)}else"prototype"===o.view&&l.desktopApp.setLoading(!1)}return t(i)}if(!o.fullscreen.attemptClose.matches(i)){if(o.fullscreen.setSaveStatus.matches(i)){if(!l.desktopApp.isFileBrowserTab()){const e=!i.payload.hasUnsavedChanges;l.desktopApp.setSaved(e)}return t(i)}if(o.fullscreen.documentLoaded.matches(i))return l.desktopApp.isFileBrowserTab()||l.desktopApp.setLoading(!1),t(i);if(s.file.deleteFiles.matches(i)){let t=e.getState();t.editingFileKey&&i.payload.fileKeys[t.editingFileKey]&&l.desktopApp.close(!0)}return t(i)}l.desktopApp.showFileBrowser()}))}),
(function(E,_,T){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),function(E){E[E.TEXT=0]="TEXT",E[E.FILE_COMMENT=1]="FILE_COMMENT",E[E.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",E[E.INVITE_FILE=3]="INVITE_FILE",E[E.INVITE_FOLDER=4]="INVITE_FOLDER",E[E.INVITE_TEAM=5]="INVITE_TEAM",E[E.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",E[E.AT_MENTION=8]="AT_MENTION",E[E.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",E[E.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",E[E.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",E[E.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",E[E.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",E[E.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",E[E.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",E[E.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",E[E.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED"}(_.UserNotificationType||(_.UserNotificationType={})),_.PERSONAL_BELL_ID="0"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(124     ),r=i(94                                   ),s=i(274                                          ),a=i(106                                     ),c=i(131                                        ),n=i(134                             ),l=i(1137                                 ),d=i(114           ),f=i(104                     ),u=i(112                      ),p=i(87                      ),_=(e,t,i)=>{const o=t.locals.file_key;e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:{view:"fullscreen",fileKey:o},actionsIfNotHydrating:[c.library.updateComponentsForResource({resourceType:p.ResourceType.FILE,resourceIdOrKey:o})]}))},y=(e,t,i)=>{const o=t.locals.file_key;e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:{view:"prototype",fileKey:o}}))},I=(e,t,i)=>{const o=t.locals.folder_id;e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:a.fileBrowser.selectViewByFolderId(o).payload,actionsIfNotHydrating:[c.library.updateComponentsForResource({resourceType:p.ResourceType.FOLDER,resourceIdOrKey:o})]}))},m=(e,t,i)=>{const o=t.locals.team_id;e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:a.fileBrowser.selectViewByTeamId(o).payload,actionsIfNotHydrating:[c.library.updateComponentsForResource({resourceType:p.ResourceType.TEAM,resourceIdOrKey:o})]}))},g=(e,t,i)=>{const o=t.locals.parent_org_id;e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:o,selectedView:a.fileBrowser.selectView({view:"recentFiles"}).payload}))},E=(e,t,i,o,r)=>{let s;s=r?{view:"prototype",fileKey:t,commentThreadId:o,nodeId:r}:{view:"fullscreen",commentThreadId:o,fileKey:t},e.dispatch(n.orgs.selectViewAndLoadItsResources({orgId:i,selectedView:s}))};t.goToComment=((e,t,i)=>{const r=t.locals,s=r.comment_parent_id||r.comment_id;let a=null,c=!1;r.prototype&&(c=!0,o.default.get(`/api/file/${r.file_key}/comments/${s}`).then(({data:i})=>{a=i.meta&&i.meta.client_meta&&i.meta.client_meta.node_id,E(e,r.file_key,t.parent_org_id,s,a)}).catch(i=>{E(e,r.file_key,t.parent_org_id,s,null)})),c||E(e,r.file_key,t.parent_org_id,s,a)});const N=(e,t)=>{e.dispatch(a.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:t.locals.hub_file_id}))},T=(e,t)=>{e.dispatch(a.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:t.locals.plugin_id}))};function h(e,i,o){switch(i.view){case l.UserNotificationType.AT_MENTION:case l.UserNotificationType.AT_MENTION_INVITE:case l.UserNotificationType.FILE_COMMENT:case l.UserNotificationType.FILE_COMMENT_REPLY:return t.goToComment(e,i,o);case l.UserNotificationType.INVITE_FILE:const{userNotifications:r}=e.getState();return r.roles[i.locals.role_id].level===p.PermissionLevel.VIEW_PROTOTYPES?y(e,i,o):_(e,i,o);case l.UserNotificationType.INVITE_FOLDER:return I(e,i,o);case l.UserNotificationType.INVITE_TEAM:case l.UserNotificationType.TEAM_ROLE_REQUEST_CREATED:case l.UserNotificationType.TEAM_ROLE_REQUEST_APPROVED:return m(e,i,o);case l.UserNotificationType.TEAM_ROLE_REQUEST_DENIED:return g(e,i,o);case l.UserNotificationType.HUB_FILE_DUPLICATED:case l.UserNotificationType.HUB_FILE_LIKED:case l.UserNotificationType.HUB_FILE_REMIXED:return N(e,i);case l.UserNotificationType.HUB_PLUGIN_INSTALLED:case l.UserNotificationType.HUB_PLUGIN_LIKED:return T(e,i);default:return}}t.goToView=h;const w=d.debounce(e=>{const t=e.getState();let i,c=t.currentOrgId,n=c||l.PERSONAL_BELL_ID;if(i=t.userNotifications.bellStates[n]){let t={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:n};e.dispatch(s.userNotifications.setBell(t))}let d={current_org_id:c};o.default.get("/api/user_notifications",d).then(({data:t})=>{const i=t.meta;e.dispatch(s.userNotifications.insertNotifications({notifications:i}))}).catch(()=>{e.dispatch(r.flash.flash("An error occurred while fetching your notifications")),e.dispatch(a.fileBrowser.hideDropdown()),e.dispatch(s.userNotifications.reset())})},800,!0);t.userNotificationsMiddleware=(e=>t=>(function(i){if(s.userNotifications.get.matches(i))u.trackEventForUser("Notification Dropdown Opened",e.getState()),w(e);else{if(s.userNotifications.resolve.matches(i)){const r=e.getState().userNotifications.feed.byId[i.payload.notificationId];return u.trackEventForUserNotification("Notification Resolved",r.id,e.getState()),f.optimisticRequest({requestPromise:o.default.put("/api/user_notifications",{id:r.id,resolved_at:"true"}).then(t=>{h(e,r,{fromResolve:!0})}),fallbackError:"An error occurred while removing this notification.",store:e,next:t,action:i})}if(s.userNotifications.selectView.matches(i)){const o=e.getState().userNotifications.feed.byId[i.payload.notificationId];return h(e,o,{fromResolve:!1}),u.trackEventForUserNotification("Notification Clicked",o.id,e.getState()),t(i)}if(s.userNotifications.reject.matches(i)){if(i.payload.userInitiated){const r=i.payload.notificationId;return u.trackEventForUserNotification("Notification Rejected",r,e.getState()),f.optimisticRequest({requestPromise:o.default.put("/api/user_notifications",{id:r,rejected_at:"true"}),fallbackError:"An error occurred while removing this notification.",store:e,next:t,action:i})}}else{if(s.userNotifications.markAllAsRead.matches(i)){let r=e.getState(),s=r.currentOrgId;u.trackEventForUser("All Notifications Read",r);let a={current_org_id:s};return f.optimisticRequest({requestPromise:o.default.post("/api/user_notifications/mark_read",a),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:t,action:i})}if(s.userNotifications.setBell.matches(i)&&i.payload.userInitiated){let r="0"==i.payload.notificationSpaceId?null:i.payload.notificationSpaceId,s={bell:i.payload.isBellStateHigh,current_org_id:r};return f.optimisticRequest({requestPromise:o.default.put("/api/user_notifications_bell",s),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:t,action:i})}}}return t(i)}))}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(452                                   ),l=i(115          );n.appWindowMiddleware=(e=>{if(!l.capabilities.fullscreen)return e=>(function(n){return e(n)});const n=[];function i(){for(const e of n)e();n.splice(0,n.length)}function c(e,i){const t=i.payload&&i.payload.element?i.payload.element:document.documentElement;t?(n.push(()=>e(i)),l.capabilities.requestFullscreenFunc.call(t)):e(i)}function a(i,c){l.capabilities.getFullscreenElement()?(n.push(()=>i(c)),l.capabilities.exitFullscreenFunc()):(e.dispatch(t.appWindow.didExitFullScreen()),i(c))}return document.addEventListener(l.capabilities.fullscreenChangeEventName,function(n){const c=e.getState();l.capabilities.getFullscreenElement()&&!c.appWindow.inFullScreenMode?e.dispatch(t.appWindow.didEnterFullScreen()):c.appWindow.inFullScreenMode&&e.dispatch(t.appWindow.didExitFullScreen()),i()}),document.addEventListener(l.capabilities.fullscreenErrorEventName,function(n){console.warn("failed to enter fullscreen:",n),e.getState().appWindow.inFullScreenMode&&e.dispatch(t.appWindow.didExitFullScreen()),i()}),n=>(function(i){const l=e.getState();if(!t.appWindow.toggleFullScreen.matches(i)){if(t.appWindow.enterFullScreen.matches(i)){if(l.appWindow.inFullScreenMode)return void c(n,i)}else if(t.appWindow.exitFullScreen.matches(i)&&!l.appWindow.inFullScreenMode)return void a(n,i);return n(i)}l.appWindow.inFullScreenMode?a(n,i):c(n,i)})})}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(124     ),o=a(126          ),r=a(137                             ),i=a(94                                   ),c=a(288                                          ),n=a(134                             ),d=a(105                               ),l=a(299                                  );e.getPendingTeamRoleRequests=d.asyncActionCreator("ORG_FETCH_PENDING_TEAM_ROLE_REQUESTS",(t,e)=>{const a=t.getState().currentOrgId;s.default.get(`/api/team_role_requests?org_id=${a}`).then(e=>{t.dispatch(c.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:e.data.meta}))}).catch(e=>{t.dispatch(i.flash.flash(e.message||"An error occurred while trying to fetch pending requests to join teams."))})}),e.requestToJoinTeam=d.asyncActionCreator("ORG_REQUEST_TO_JOIN_TEAM",(t,e)=>{const a={team_id:e.teamId,level:e.level,message:e.message};s.default.post("/api/team_role_requests",a).then(e=>{const a=e.data.meta;a.status===l.RoleRequestStatus.APPROVED?t.dispatch(r.team.onJoin({teamId:a.team_id})):t.dispatch(i.flash.flash("You've requested to join this team."))}).catch(e=>{t.dispatch(i.flash.error(e.message||"An error occurred."))})}),e.withdrawTeamRoleRequest=d.asyncActionCreator("ORG_WITHDRAW_TEAM_JOIN_REQUEST",(t,e)=>{s.default.del(`/api/team_role_requests/${e.requestId}`).then(e=>{t.dispatch(i.flash.flash("Request withdrawn"))}).catch(e=>{t.dispatch(i.flash.error(e.message||"An error occurred."))})}),e.optInToPublicPlugins=d.optimisticActionCreator("ORGS_OPT_IN_TO_PUBLIC_PLUGINS",(t,{orgId:e},a)=>{s.default.put(`/api/orgs/${e}`,{public_plugins_allowed:!0}).then(e=>{t.dispatch(d.optimistActions.commit(a)),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(()=>{t.dispatch(d.optimistActions.revert(a))})}),e.setWhitelistEnabled=d.asyncActionCreator("ORGS_SET_WHITELIST_ENABLED",(t,{orgId:e})=>{s.default.put(`/api/orgs/${e}`,{plugins_whitelist_enforced:!0}).then(a=>{t.dispatch(n.orgs.put({org:a.data.meta})),o.segment.track("Hub Org Admin Enable Whitelist",{orgId:e})}).catch(t=>{console.error(t)})}),e.setGoogleSSO=d.asyncActionCreator("ORGS_SET_GOOGLE_SSO",(t,{orgId:e,googleSsoOnly:a})=>{s.default.put(`/api/orgs/${e}`,{google_sso_only:a}).then(e=>{t.dispatch(i.flash.flash("Updated authentication settings")),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(e=>{t.dispatch(i.flash.error(e.data&&e.data.message||"An error occurred.",5e3))})}),e.setSamlSSO=d.asyncActionCreator("ORGS_SET_SAML_SSO",(t,{orgId:e,samlSsoOnly:a})=>{s.default.put(`/api/orgs/${e}`,{saml_sso_only:a}).then(e=>{t.dispatch(i.flash.flash("Updated authentication settings")),t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(e=>{t.dispatch(i.flash.error(e.data&&e.data.message||"An error occurred.",5e3))})}),e.updateDescription=d.asyncActionCreator("ORGS_UPDATE_DESCRIPTION",(t,{orgId:e,description:a})=>{s.default.put(`/api/orgs/${e}`,{description:a}).then(e=>{t.dispatch(n.orgs.put({org:e.data.meta}))}).catch(t=>{console.error(t)})}),e.setWhitelistDisabled=d.asyncActionCreator("ORGS_SET_WHITELIST_DISABLED",(t,{orgId:e,enabled:a})=>{s.default.put(`/api/orgs/${e}`,{plugins_whitelist_enforced:!1}).then(a=>{t.dispatch(n.orgs.put({org:a.data.meta})),o.segment.track("Hub Org Admin Disable Whitelist",{orgId:e})}).catch(t=>{console.error(t)})})}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=a(456                                   ),s=a(301                                 ),i=a(269                                         ),o=a(297                                   ),d=a(296                                 ),g=a(94                                   ),n=a(310                                        ),c=a(430                                 ),l=a(106                                     ),p=a(134                             ),h=a(1140                                 ),f=a(111                        ),m=a(219                       ),_=a(109                        ),u=a(306                          ),w=a(140                               ),y=a(1131                                                               ),I=a(208        ),O=a(126          ),S=a(124     ),A=a(136                            ),v=a(90                     ),b=a(651                          ),B=a(147                       );r.orgsMiddleware=(e=>r=>(function(a){var D;if(p.orgs.switchActiveOrgAndSetCurrentOrgId.matches(a)){e.dispatch(l.fileBrowser.setFileBrowserLoading({show:!0})),null!=(null===(D=e.getState().modalShown)||void 0===D?void 0:D.type)&&e.dispatch(l.fileBrowser.hideModal());const r=e.getState().currentOrgId;m.setLastSelectedOrgId(a.payload.orgId),O.segmentTrackEvent("file-browser-hydrate",{location:"switchActiveOrg"}),m.getUserStateRequest().then(t=>{e.dispatch(c.realtime.reset()),e.dispatch(l.fileBrowser.hydrate(t.data.meta)),a.payload.orgId===r||b.isUserAccountSettingsView(e.getState().selectedView)||e.dispatch(l.fileBrowser.selectView({view:"recentFiles"})),e.dispatch(p.orgs.setCurrentOrgId({orgId:a.payload.orgId})),e.dispatch(l.fileBrowser.setFileBrowserLoading({show:!1}))})}else if(p.orgs.selectViewAndLoadItsResources.matches(a)){const r=e.getState();w.selectedViewHasMissingResources(a.payload.selectedView,r)?(m.setLastSelectedOrgId(a.payload.orgId),O.segmentTrackEvent("file-browser-hydrate",{location:"selectViewAndLoadItsResources"}),m.getUserStateRequest().then(r=>{e.dispatch(c.realtime.reset()),e.dispatch(l.fileBrowser.hydrate(r.data.meta)),e.dispatch(l.fileBrowser.selectView(a.payload.selectedView))})):(a.payload.actionsIfNotHydrating&&a.payload.actionsIfNotHydrating.forEach(e.dispatch),e.dispatch(l.fileBrowser.selectView(a.payload.selectedView)))}else{if(n.orgSamlConfig.generateToken.matches(a))return S.default.post(`/api/org_saml_config/${a.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(l.fileBrowser.showModal({type:A.PROVISIONING_API_TOKEN_MODAL,data:{provisioningApiToken:r.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(l.fileBrowser.hideModal())},onCancel:()=>{e.dispatch(l.fileBrowser.hideModal())}}})),e.dispatch(n.orgSamlConfig.set({orgSamlConfig:r.data.meta.org_saml_config}))}).catch(r=>{e.dispatch(g.flash.flash(r.data&&r.data.message||"An error occurred while generating scim api token.",5e3)),console.error(r)}),r(a);if(n.orgSamlConfig.revokeToken.matches(a))return S.default.del(`/api/org_saml_config/${a.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(n.orgSamlConfig.set({orgSamlConfig:r.data.meta}))}).catch(r=>{e.dispatch(g.flash.flash(r.data&&r.data.message||"An error occurred while revoking scim api token.",5e3)),console.error(r)}),r(a);if(l.fileBrowser.hydrate.matches(a)){r(a),e.dispatch(t.orgDomains.getAll({force:!1}));const s=e.getState(),i=s.orgById[s.currentOrgId],o=s.user&&s.orgUsersByOrgId.orgUsers[s.currentOrgId]&&s.orgUsersByOrgId.orgUsers[s.currentOrgId][s.user.id];if(!i||!o)return;if(i.standing===v.OrgStanding.GOOD&&"members"!==s.orgDashboard.selectedAdminView)return;if(o.permission===_.OrgPermissionType.GUEST)return;return void e.dispatch(d.orgUser.getAll({orgId:s.currentOrgId}))}if(p.orgs.selectAdminView.matches(a)){const d=e.getState(),g=f.canAdminOrg(d.currentOrgId,f.getPermissionsState(d)),n=()=>{if(!d.orgUsersByOrgId.isFetching&&!d.idpUserById.isFetching&&!d.orgDashboard.fetchedRoster){const r=!g;e.dispatch(o.orgRoster.get({orgId:d.currentOrgId,ignoreIdpUsers:r}))}},c=d.orgById[d.currentOrgId];return g&&c.stripe_customer_id&&null==d.orgBillingData&&e.dispatch(i.orgBillingData.get({org_id:d.currentOrgId})),"general"===a.payload.view?(d.orgTeams.isFetching||"org"===d.selectedView.view||e.dispatch(s.orgTeam.get({})),e.dispatch(t.orgDomains.getAll({force:!0})),n()):"members"===a.payload.view?(n(),e.dispatch(o.orgRoster.clearUserIds()),a.payload.sortType===u.OrgRosterSortType.UPGRADED_DATE&&e.dispatch(o.orgRoster.setSortConfig({type:u.OrgRosterSortType.UPGRADED_DATE,isDescending:!1}))):"billing"===a.payload.view?e.dispatch(i.orgBillingData.get({org_id:d.currentOrgId})):"teams"===a.payload.view?(d.orgTeams.isFetching||"org"===d.selectedView.view||e.dispatch(s.orgTeam.get({includeProjectCount:!0,includeMemberCount:!0})),e.dispatch(h.getPendingTeamRoleRequests())):"library"===a.payload.view||("fonts"===a.payload.view?y.SharedFonts.loadSharedFonts(e.dispatch):"plugins"===a.payload.view||I.assertNever(a.payload.view)),r(a)}if(p.orgs.deleteOrg.matches(a))return S.default.post(`/api/org/${a.payload.orgId}/deletion_request`).then(r=>{e.dispatch(g.flash.flash("Deletion request enqueued"))}).catch(r=>{e.dispatch(g.flash.error(r.data&&r.data.message||"An error occurred while enqueeing a deletion request.",5e3)),console.error(r)}),r(a);if(p.orgs.deleteOrgUser.matches(a))return S.default.post(`/api/org/${a.payload.orgId}/user_deletion_request`,{email:a.payload.email}).then(r=>{e.dispatch(g.flash.flash("Deletion request enqueued"))}).catch(r=>{e.dispatch(g.flash.error(r.data&&r.data.message||"An error occurred while enqueeing a deletion request.",5e3)),console.error(r)}),r(a);if(l.fileBrowser.selectView.matches(a)){if("configureSSO"===a.payload.view)e.dispatch(t.orgDomains.getAll({force:!0})),e.dispatch(n.orgSamlConfig.get());else{if("recentFiles"===a.payload.view&&a.payload.orgDashboardTab)return r(a),e.dispatch(l.fileBrowser.showModal({type:A.ORG_DASHBOARD_MODAL})),void e.dispatch(p.orgs.selectAdminView({view:a.payload.orgDashboardTab,sortType:a.payload.sortType}));if("org"===a.payload.view){const t=e.getState();if(!f.canMemberOrg(t.currentOrgId,f.getPermissionsState(t)))return r(a);const s=f.canAdminOrg(t.currentOrgId,f.getPermissionsState(t));if("settings"===a.payload.orgViewTab&&(e.dispatch(p.orgs.selectAdminView({view:"general"})),e.dispatch(l.fileBrowser.showModal({type:A.ORG_DASHBOARD_MODAL}))),"libraries"===a.payload.orgViewTab&&(e.dispatch(p.orgs.selectAdminView({view:"library"})),e.dispatch(l.fileBrowser.showModal({type:A.ORG_DASHBOARD_MODAL,data:{tab:B.LibraryPreferencesModalTab.LIBRARIES}}))),!t.orgUsersByOrgId.isFetching&&!t.idpUserById.isFetching&&!t.orgDashboard.fetchedRoster){const r=!s;e.dispatch(o.orgRoster.get({orgId:t.currentOrgId,ignoreIdpUsers:r}))}}}return r(a)}}return r(a)}))}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(168                                    ),o=s(136                            ),n=s(126          ),l=s(130                                              ),i=s(407                             ),r=s(106                                     );t.sharedFonts=(e=>t=>(function(s){const c=()=>{e.dispatch(r.fileBrowser.showModal({type:o.SHARED_FONTS_MODAL}))};if(i.sharedFonts.uploadFontSuccess.matches(s)||i.sharedFonts.uploadFontFailure.matches(s)){if(t(s),i.sharedFonts.uploadFontSuccess.matches(s))n.segmentTrackEvent("shared_fonts_upload_success");else if(i.sharedFonts.uploadFontFailure.matches(s))switch(s.payload.status){case 403:n.segmentTrackEvent("shared_fonts_upload_invalid_permissions");break;case 409:n.segmentTrackEvent("shared_fonts_upload_collision",{canOverwrite:!!s.payload.collision});break;case 422:n.segmentTrackEvent("shared_fonts_upload_invalid_font");break;default:n.segmentTrackEvent("shared_fonts_upload_failure",{status:s.payload.status})}const{uploadsRemaining:o,unsuccessfulUploads:r,collisions:d,warnings:u}=e.getState().sharedFonts,h=e.getState().modalShown,_=h&&("SHARED_FONTS_MODAL"===h.type||"ORG_DASHBOARD_MODAL"===h.type);0===Object.keys(o).length&&(_||(0===r.length?(e.dispatch(l.visualBell.enqueue({type:"shared-fonts",message:"Shared font import complete",icon:a.VisualBellIcon.CHECK,timeout:5e3})),e.dispatch(i.sharedFonts.clearFontUploadResults())):e.dispatch(l.visualBell.enqueue({type:"shared-fonts",message:`Shared font import complete with ${r.length} ${r.length>1?"errors":"error"}`,icon:a.VisualBellIcon.EXCLAMATION,timeout:5e3,error:!0,button:{text:"Review",action:c}}))),0===r.length&&0===d.length&&0===u.length&&e.dispatch(i.sharedFonts.clearFontUploadResults()))}else{if(!i.sharedFonts.deleteFontComplete.matches(s))return i.sharedFonts.uploadFonts.matches(s)?s.payload.overwrite?n.segmentTrackEvent("shared_fonts_overwrite_collision"):n.segmentTrackEvent("shared_fonts_upload",{count:s.payload.fonts.length}):i.sharedFonts.deleteFonts.matches(s)?n.segmentTrackEvent("shared_fonts_delete_font",{count:Object.keys(e.getState().sharedFonts.fontsToDelete).length}):i.sharedFonts.dismissFontCollision.matches(s)&&n.segmentTrackEvent("shared_fonts_skip_collision"),t(s);{t(s);const{unsuccessfulDeletes:o,successfulDeletes:n}=e.getState().sharedFonts,i=o.length,r=o.length+n.length;i>0?e.dispatch(l.visualBell.enqueue({type:"font_deleted",message:`Unable to delete ${i} of ${r} ${r>1?"fonts":"font"}.`,icon:a.VisualBellIcon.EXCLAMATION,timeout:5e3,error:!0})):e.dispatch(l.visualBell.enqueue({type:"font_deleted",message:`Deleted ${r} ${r>1?"fonts":"font"}.`,icon:a.VisualBellIcon.CHECK,timeout:5e3}))}}}))}),
(function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(r,o){function n(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(n,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(297                                   ),o=s(122        ),n=s(114           ),a=s(606                           ),l=s(306                          ),c=s(109                        ),m=s(233        );var u;!function(e){e[e.IDP_USER=0]="IDP_USER",e[e.ORG_USER=1]="ORG_USER"}(u||(u={}));const p=[{name:"name",weight:1},{name:"email",weight:1},{name:"domain",weight:1},{name:"first_name",weight:1},{name:"last_name",weight:1}];class d{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters,s=[];if(!t.accountTypeFilter&&!t.permissionFilter)return this.items;if(t.permissionFilter===l.OrgPermissionExtendedFilters.IDP)return s;for(const i of this.items){let e=!t.accountTypeFilter||t.accountTypeFilter===i.account_type,r=!t.permissionFilter||t.permissionFilter===i.permission;e&&r&&s.push(i)}return s}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.orgUsersByOrgId.orgUsers[e.currentOrgId]){const s=e.orgUsersByOrgId.orgUsers[e.currentOrgId][t],i={id:s.id,permission:s.permission,account_type:s.account_type,name:s.user.handle,email:s.user.email||"",domain:s.user.email&&s.user.email.split("@")[1]&&"@"+m.getEmailDomain(s.user.email),first_name:s.user.handle&&s.user.handle.split(" ",2)[0],last_name:s.user.handle&&s.user.handle.split(" ",2)[1],user_id:s.user_id,type:u.ORG_USER,account_type_upgraded_at:s.account_type===c.OrgUserAccountType.FULL?s.account_type_changed_at:"",last_edit:s.last_edit||"",last_seen:s.last_seen||""};this.items.push(i)}}}class h{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters;return t.permissionFilter&&t.permissionFilter!==l.OrgPermissionExtendedFilters.IDP?[]:t.accountTypeFilter?this.items.filter(e=>t.accountTypeFilter===e.account_type):this.items}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.idpUserById.idpUsers){const s=e.idpUserById.idpUsers[t],i={account_type:s.account_type,id:s.id,name:s.name,first_name:s.name&&s.name.split(" ",2)[0],last_name:s.name&&s.name.split(" ",2)[1],email:s.email,domain:s.email&&s.email.split("@")[1]&&"@"+m.getEmailDomain(s.email),type:u.IDP_USER};this.items.push(i)}}}t.orgRosterResults=new class{constructor(){this.searchLib=new a.ScoredSearchLibrary([],{keys:p,threshold:.1,matchAllTokens:!0,tokenize:!1,shouldSort:!0,distance:300}),this.filteredResults=[],this.updateSources=(e=>{this._debouncedComputeResults.cancel(),this.dataSources.forEach(t=>t.setItems(e.getState())),this.filteredResults=[].concat(...this.dataSources.map(t=>t.getItems(e.getState()))),this.searchLib.set(this.filteredResults),this._computeResults(e)}),this.computeResults=((e,t)=>{t?(this._debouncedComputeResults.cancel(),this._computeResults(e)):this._debouncedComputeResults(e)}),this._debouncedComputeResults=n.debounce(e=>{this._computeResults(e)},200),this._computeResults=(e=>{(t=>i(this,void 0,void 0,function*(){let s=[];if(t.orgRoster.searchQuery)s=yield this.searchLib.search(t.orgRoster.searchQuery);else for(let e of this.filteredResults)s.push({item:e,score:0});let i=l.zeroFilterCounts();s.forEach(e=>{if(e.item.type===u.ORG_USER){const t=e.item;i.accountType[t.account_type]+=1,i.permission[t.permission]+=1}else e.item.type===u.IDP_USER&&(i.permission.provisional+=1)}),e.dispatch(r.orgRoster.setFilterCounts({filterCounts:i}));const n=t.orgRoster.sort;n.type===l.OrgRosterSortType.NAME?o.sortAlphabeticallyByFn(s,e=>e.item.name||e.item.email,n.isDescending):n.type===l.OrgRosterSortType.EMAIL?o.sortAlphabeticallyByFn(s,e=>e.item.email,n.isDescending):n.type===l.OrgRosterSortType.UPGRADED_DATE?o.sortAlphabeticallyByFn(s,e=>e.item.account_type_upgraded_at,!n.isDescending):n.type===l.OrgRosterSortType.LAST_EDIT?o.sortAlphabeticallyByFn(s,e=>e.item.last_edit,!n.isDescending):n.type===l.OrgRosterSortType.LAST_SEEN&&o.sortAlphabeticallyByFn(s,e=>e.item.last_seen,!n.isDescending);const a=s.map(e=>e.item.type===u.ORG_USER?{id:e.item.id,user_id:e.item.user_id}:{id:e.item.id,user_id:null});e.dispatch(r.orgRoster.setRosterMembers({members:a}))}))(e.getState())}),this.dataSources=[new d,new h]}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(297                                   ),o=r(134                             ),i=r(294                                 ),a=r(296                                 ),g=r(295                                   ),c=r(1143                              ),n=r(851                      ),d=r(126          );t.orgRosterResultsMiddleware=(e=>t=>(function(r){if(a.orgUser.set.matches(r)||i.idpUser.batchPost.matches(r)||o.orgs.selectAdminView.matches(r)){t(r);const s=e.getState();"members"!==s.orgDashboard.selectedAdminView||s.orgUsersByOrgId.isFetching||s.idpUserById.isFetching||c.orgRosterResults.updateSources(e)}else{if(g.orgInvites.set.matches(r)||g.orgInvites.del.matches(r))return t(r),void c.orgRosterResults.updateSources(e);if(a.orgUser.put.matches(r)){t(r);const s=e.getState();n.getOrgUserForId(s.orgUsersByOrgId.orgUsers[s.currentOrgId],r.payload.orgUser.id)&&"members"===s.orgDashboard.selectedAdminView&&c.orgRosterResults.updateSources(e)}else{if(s.orgRoster.setQuery.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"search"}),t(r),void c.orgRosterResults.computeResults(e,!1);if(s.orgRoster.setSortConfig.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"sort",sortField:r.payload.type,sortIsDescending:r.payload.isDescending}),t(r),void c.orgRosterResults.computeResults(e,!0);if(s.orgRoster.setFilters.matches(r))return d.segmentTrackEvent("Org Roster Action",{org_id:e.getState().currentOrgId,action:"filter",permissionFilter:r.payload.permissionFilter,accountTypeFilter:r.payload.accountTypeFilter}),t(r),void c.orgRosterResults.updateSources(e);if(!a.orgUser.batchDel.matches(r))return t(r);{t(r);const s=e.getState();s.currentOrgId===r.payload.orgId&&"members"===s.orgDashboard.selectedAdminView&&c.orgRosterResults.updateSources(e)}}}}))}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const l=s(106                                     ),t=s(138                                   ),n=s(677                                        ),a=s(117              ),p=s(85                   ),o=s(146                                          ),r=s(141                ),u=s(603                              ),d=s(330                          ),c=s(570                                       ),g=s(213              );a.desktopApp&&a.desktopApp.isFileBrowserTab()&&p.default().user_data&&p.default().user_data.id&&a.desktopApp.setUser(p.default().user_data.id),i.initializeDesktopAppMessageHandler=function(e){a.desktopApp&&a.desktopApp.setMessageHandler((i,s)=>{if("newFile"===i){let i=s.info;i||(i=r.getNewFileInfo(e.getState(),!0,!0)),e.dispatch(t.fullscreen.new_(i))}else if("openFile"===i&&a.desktopApp.isFileTab())e.dispatch(l.fileBrowser.selectView({view:"fullscreen",fileKey:s.fileKey}));else if("handleAction"===i&&a.desktopApp.isFileTab()){const e={};s.source&&(e.source=s.source),o.fullscreen.triggerAction(s.action,e)}else if("handleUrl"===i){const i=n.pathToSelectedView(e.getState(),s.path,s.params);i&&e.dispatch(l.fileBrowser.selectView(i))}else if("handleUrlParams"===i)e.dispatch(l.fileBrowser.handleUrlParamsForCurrentView({params:s.params,hash:s.hash}));else if("handlePluginMenuAction"===i){let i=e.getState();if(!s.pluginMenuAction||!c.PluginMenu.isMenuAction(s.pluginMenuAction))return;u.runPluginMenuAction({editingFileKey:i.editingFileKey,publishedPlugins:i.publishedPlugins,installedPluginVersions:d.getInstalledPluginVersions(i),localPlugins:i.localPlugins,whitelistedPlugins:i.whitelistedPlugins,orgEntity:g.getOrgPermissionEntity(i)},"osmenu",s.pluginMenuAction)}})}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchedSubscribe=function(e){let t=[],n=t;function c(){n===t&&(n=t.slice())}function s(e){let t=!0;return c(),n.push(e),function(){if(!t)return;t=!1,c();const s=n.indexOf(e);n.splice(s,1)}}function i(){const e=t=n;for(let t=0;t<e.length;t++)e[t]()}return t=>(n,c)=>{const u=t(n,c);return Object.assign(Object.assign({},u),{dispatch:t=>{const n=u.dispatch(t);return e(i),n},subscribe:s,subscribeImmediate:u.subscribe})}}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=a(1146                   ),l=a(199           );t.frameReduxBatcher=function(e,t){let a=!1,n=null;function r(){if(l.setLastFrameCallback(r),a=!0,e&&e(),n){const e=n;n=null,e()}t&&t()}return c.batchedSubscribe(e=>{a||(l.setLastFrameCallback(r),a=!0),n=e})}}),
(function(t,i,e){t.exports={container:"desktop_app_interstitial--container--2yR19",logo:"desktop_app_interstitial--logo--1wbd4",message:"desktop_app_interstitial--message--13TB9",link:"desktop_app_interstitial--link--2R1dS",fadeIn:"desktop_app_interstitial--fadeIn--3yMQE"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(3,1    ),i=s(1148                            ),a=s(195                ),p=s(126          );class o extends n.PureComponent{constructor(e){super(e),this.onOpenHereInstead=(()=>{this.props.onDismiss(),p.segment.track("desktop_links",{action:"interstitial_manually_opened_in_browser"})}),this.state={opened:!1},a.openUrlInDesktopApp(location.href).then(e=>{e?(this.setState({opened:!0}),p.segment.track("desktop_links",{action:"opened_in_app",source:"interstitial"})):(this.props.onDismiss(),p.segment.track("desktop_links",{action:"open_in_app_rejected",source:"interstitial"}))}).catch(()=>{p.segment.track("desktop_links",{action:"open_in_app_failed",source:"interstitial"})})}render(){const e=this.state.opened;return n.createElement("div",{className:i.container},n.createElement("img",{className:i.logo,src:"https://static.figma.com/uploads/4b89b0019d5bf132ee5a6e2d8bec2ed29b5256ed"}),n.createElement("div",{className:i.message},e?"Opened":"Opening"," “",this.props.file.name,"” in Figma app",e?"":"…"),n.createElement("div",{className:i.link,onClick:this.onOpenHereInstead},"Open here instead"))}}t.DesktopAppInterstitial=o,o.displayName="DesktopAppInterstitial"}),
(function(n,o,t){n.exports={}}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(3,1    ),s=e(172              ),n=e(433                                ),r=e(106                                     ),p=e(434                       );e(1150                            );const h=e(578                );class d extends s.Component{constructor(t){super(t),this.hideTooltips=(()=>{this.props.reduxState&&this.props.reduxState.tooltip.state===p.TooltipState.SHOWING&&this.props.reduxState.dispatch(n.tooltip.hide())}),this.dropdownShowing=(()=>this.props.reduxState&&this.props.reduxState.dropdownShown),this.hideDropdown=(()=>{this.props.reduxState&&this.dropdownShowing()&&this.props.reduxState.dispatch(r.fileBrowser.hideDropdown())}),this.onClick=s.mouseEvent(this,"click",()=>{if(this.hideTooltips(),!this.dropdownShowing())return s.SKIP_RECORDING;this.hideDropdown()}),this.onMouseDownOrTouchStart=s.mouseEvent(this,"mousedown",()=>{if(!this.dropdownShowing())return s.SKIP_RECORDING;this.hideTooltips(),this.hideDropdown()})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),window.addEventListener("blur",this.onClick)}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("blur",this.onClick)}render(){return i.createElement("div",{className:h.app,onClick:this.onClick,onMouseDown:this.onMouseDownOrTouchStart,onTouchStart:this.onMouseDownOrTouchStart},i.createElement("div",{className:h.content},this.props.children))}}o.InAppPage=d,d.displayName="InAppPage"}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EventState=class{constructor(t){this.id=t.id,this.definition=t}onEnter(){return this.id}matchesConditional(t,e){return!t.conditions||t.conditions.map(t=>e.properties&&("EQUALS"===t.operator&&e.properties[t.field]===t.value||"NOT_EQUALS"===t.operator&&e.properties[t.field]!==t.value||"GREATER_THAN"===t.operator&&null!==t.value&&e.properties[t.field]>t.value||"LESS_THAN"===t.operator&&null!==t.value&&e.properties[t.field]<t.value)).reduce((t,e)=>t&&e,!0)}onEvent(t){for(const e in this.definition.transitions){const i=this.definition.transitions[e];if(i.eventId===t.id&&this.matchesConditional(i,t))return i.destinationStateId}return this.id}awaitingEventIds(){return new Set(this.definition.transitions.map(t=>t.eventId))}category(){}}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ActionState=class{constructor(t,e){this.id=t.id,this.definition=t,this.actionInterpreter=e}onEnter(t){return this.actionInterpreter.handleAction(this.definition.payload,t),this.definition.destinationStateId}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}category(){return this.definition.category}}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DataState=class{constructor(t,e){this.id=t.id,this.definition=t,this.queryProcessor=e}onEnter(){const t=this.queryProcessor.execute(this.definition.query);for(let e of this.definition.transitions){let i=e.value;if("function"==typeof e.value&&(i=e.value()),"EQUALS"===e.operator&&i===t)return e.destinationStateId;if("NOT_EQUALS"===e.operator&&i!==t)return e.destinationStateId;if("GREATER_THAN"===e.operator&&i<t)return e.destinationStateId;if("LESS_THAN"===e.operator&&i>t)return e.destinationStateId}}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}category(){}}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1152),a=s(1153),n=s(1154);class c{constructor(t){this.machines={};for(const e of t)this.machines[e.id]=e}static fromJson(t,e,s){return new c(t.map(t=>{const c={};return t.states.forEach(t=>{switch(t.type){case"ACTION":return void(c[t.id]=new a.ActionState(t,s));case"EVENT":return void(c[t.id]=new i.EventState(t));case"DATA":return void(c[t.id]=new n.DataState(t,e))}}),{id:t.id,initialState:c[t.initialStateId],resetState:t.resetStateId?c[t.resetStateId]:void 0,states:c}}))}get(t){return this.machines[t]}getTriggeredMachines(t){const e=[];for(const s in this.machines)this.machines[s].initialState.awaitingEventIds().has(t)&&e.push(this.machines[s]);return e}getResettableMachines(){const t=[];for(const e in this.machines)this.machines[e].resetState&&t.push(this.machines[e]);return t}allMachines(){return Object.keys(this.machines).map(t=>this.machines[t])}}e.JsonMachineProvider=c}),
(function(e,t,s){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACTIVE="active",e.COMPLETED="complete"}(n=t.MachineProgress||(t.MachineProgress={}));t.InMemoryUserMachineContextProvider=class{constructor(){this.userToContexts=new Map}getActive(e,t){return this.getContexts(e).filter(e=>e.progress===n.ACTIVE&&e.awaitingEventIds&&e.awaitingEventIds.has(t)).map(e=>Object.assign({},e))}getActiveOrCompletedMachineIds(e){return new Set(this.getContexts(e).map(e=>e.machineId))}persist(e){const t=this.getContexts(e.userId).filter(t=>t.machineId!==e.machineId);t.push(e),this.userToContexts.set(e.userId,t)}getContexts(e){return this.userToContexts.get(e)||[]}}}),
(function(t,n,r){"use strict";
// The MIT License (MIT)
// Copyright (c) 2010-2016 Robert Kieffer and other contributors
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Object.defineProperty(n,"__esModule",{value:!0});const e=[];for(var o=0;o<256;++o)e[o]=(o+256).toString(16).substr(1);const u=new Uint8Array(16);n.uuidv4=function(){let t=0;for(let n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),u[n]=t>>>((3&n)<<3)&255;return u[6]=15&u[6]|64,u[8]=63&u[8]|128,function(t){let n=0;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}(u)}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(1156),s=i(1157);t.Handler=class{constructor(e,t,i){this.machineProvider=e,this.userMachineContextProvider=t,this.userCategoryContextProvider=i,this.logLevel=void 0,this.trace=((e,...t)=>{"trace"===this.logLevel&&console.log(e,...t)}),this.debug=((e,...t)=>{"debug"!==this.logLevel&&"trace"!==this.logLevel||console.log(e,...t)})}actionCompleted(e,t){this.newHandler().actionCompleted(e,t)}handle(e){this.newHandler().handle(e)}reset(e){this.newHandler().reset(e)}newHandler(){return new o(this.machineProvider,this.userMachineContextProvider,this.userCategoryContextProvider,this.trace,this.debug)}};class o{constructor(e,t,i,r,s){this.machineProvider=e,this.userMachineContextProvider=t,this.userCategoryContextProvider=i,this.trace=r,this.debug=s,this.categoryToActions=new Map}handle(e){if(this.debug("[RCS] received event",e),!e.userId)return;this.userMachineContextProvider.getActive(e.userId,e.id).forEach(t=>{this.processFlowStateFromEvent(this.machineProvider.get(t.machineId),t,e)});const t=this.userMachineContextProvider.getActiveOrCompletedMachineIds(e.userId);this.machineProvider.getTriggeredMachines(e.id).forEach(i=>{if(t.has(i.id))return;const s={userId:e.userId,machineId:i.id,progress:r.MachineProgress.ACTIVE,currentStateId:i.initialState.id};this.processFlowStateFromEvent(i,s,e)}),this.processQueuedActions(e.userId)}processQueuedActions(e){this.trace("[RCS] Processing queued actions.",this.categoryToActions),this.categoryToActions.forEach((t,i)=>{let r=this.categoryToActions.get(i);this.categoryToActions.delete(i),r&&this.processQueuedActionsInCategory(e,i,r)}),this.trace("[RCS] Finished processing queued actions.")}processQueuedActionsInCategory(e,t,i){const s=this.userCategoryContextProvider.get(e,t);for(;i.length>0&&null===s.currentAction;){i.sort((e,t)=>t.priority-e.priority);const o=i.shift();if(o){this.trace("[RCS] Found action to do: ",o);const n=o.state.onEnter(o.uuid),c=o.state.category();if(c&&c.blocking)s.currentAction={machineId:o.machine.id,stateId:o.state.id,actionUuid:o.uuid,nextStateId:n},this.trace(`[RCS] Blocking for category=${t}`,s.currentAction),this.userMachineContextProvider.persist({machineId:o.machine.id,currentStateId:o.state.id,progress:r.MachineProgress.ACTIVE,userId:e});else{this.trace(`[RCS] Action not blocking stateId=${o.state.id}, processing flow for machine=${o.machine.id}`),this.processFlow(o.machine,{userId:e,machineId:o.machine.id,progress:r.MachineProgress.ACTIVE},o.state,n);const s=this.categoryToActions.get(t);s&&(this.categoryToActions.delete(t),i.push(...s))}}}i.forEach(t=>{t.previousStateId?this.processFlow(t.machine,{userId:e,progress:r.MachineProgress.ACTIVE,currentStateId:t.previousStateId,machineId:t.machine.id,awaitingEventIds:t.machine.states[t.previousStateId].awaitingEventIds()},t.state,t.previousStateId):s.actionQueue.push({machineId:t.machine.id,stateId:t.state.id,actionUuid:t.uuid})}),this.trace(`[RCS] Persisting ${s.actionQueue.length} actions queued for category=${s.category}`,s),this.userCategoryContextProvider.persist(e,s)}actionCompleted(e,t){const i=this.userCategoryContextProvider.getFromActionUuid(t);this.trace(`[RCS] actionCompleted userId=${e} uuid=${t}`,i),i&&(this.enqueueSavedActionsFromCategory(e,i),i.currentAction&&this.processFlowAfterAction(e,i.currentAction),this.processQueuedActions(e))}processFlowAfterAction(e,t){const i=this.machineProvider.get(t.machineId),s=i.states[t.stateId];this.processFlow(i,{userId:e,progress:r.MachineProgress.ACTIVE,machineId:i.id},s,t.nextStateId)}enqueueSavedActionsFromCategory(e,t){const i=t.actionQueue.map(e=>{const t=this.machineProvider.get(e.machineId),i=t.states[e.stateId],r=i.category();return{uuid:e.actionUuid||s.uuidv4(),machine:t,state:i,priority:r.priority}});this.trace(`[RCS] Enqueueing ${i.length} saved actions.`,i),this.categoryToActions.set(t.category,i),this.userCategoryContextProvider.persist(e,{category:t.category,currentAction:null,actionQueue:[]})}processFlowStateFromEvent(e,t,i){if(!t.currentStateId)return;this.trace("[RCS] Processing event:",i," for machine:",e);let r=e.states[t.currentStateId];this.trace(`[RCS] machine=${e.id} currentState=${r.id}`);let s=r.onEvent(i);this.processFlow(e,t,r,s)}checkForActionAndEnqueue(e,t,i){const r=t.category();if(void 0!==r){let o=this.categoryToActions.get(r.name);return o||(o=[]),o.push({machine:e,state:t,priority:r.priority,uuid:s.uuidv4(),previousStateId:r.whenBlockedStateId||("BACK"===r.whenBlocked?i:void 0)}),this.categoryToActions.set(r.name,o),!0}return!1}processFlow(e,t,i,o){const n=i.id;for(;o&&o!==i.id&&(this.trace(`[RCS] machine=${e.id} currentState=${o}`),i=e.states[o],!this.checkForActionAndEnqueue(e,i,n));)o=i.onEnter(s.uuidv4());o?(t.currentStateId=i.id,t.awaitingEventIds=i.awaitingEventIds()):(t.currentStateId=void 0,t.awaitingEventIds=void 0,t.progress=r.MachineProgress.COMPLETED),this.userMachineContextProvider.persist(t),this.trace("[RCS] finished processing flow. Current context:",t)}reset(e){this.trace("[RCS] Processing reset for userId:",e);const t=this.machineProvider.getResettableMachines();this.trace("[RCS] resetting machines: ",t.map(e=>e.id));for(let i of t){let t=i.resetState;if(t){const o={userId:e,machineId:i.id,progress:r.MachineProgress.ACTIVE,currentStateId:t.id};this.trace(`[RCS] machine=${i.id} currentState=${t.id}`);const n=t.onEnter(s.uuidv4());this.processFlow(i,o,t,n)}}this.processQueuedActions(e)}}}),
(function(t,e,i){"use strict";var n,s;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.UNREACHABLE_STATE="Unreachable State",t.DANGLING_TRANSITION="Dangling Transition",t.BLOCKED_ACTION_ERROR="Blocked Action Error"}(n=e.ValidationError||(e.ValidationError={})),function(t){t.MISSING_INITIAL_STATE="initialStateId is specified but no corresponding state exists",t.MISSING_RESET_STATE="resetStateId is specified but no corresponding state exists",t.MISSING_DESTINATION_STATE="destinationStateId or whenBlockedStateId is specified but no corresponding state exists",t.UNREACHABLE_STATE="state is unreachable",t.INFINITE_LOOP_WHEN_BLOCKED="whenBlockedStateId specifies a node that can lead back to this node which could result in an infinite loop",t.NO_SAME_CATEGORY_ACTION_AFTER_BLOCK_WITH_BACK="You may not have an ACTION state with whenBlocked=BACK following a blocking action, this will result in your machine never completing the second action."}(s||(s={}));class a{constructor(t,e,i){this.errorType=t,this.message=e,this.stateId=i}static missingInitialState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_INITIAL_STATE,t)}static missingResetState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_RESET_STATE,t)}static missingDestinationState(t){return new a(n.DANGLING_TRANSITION,s.MISSING_DESTINATION_STATE,t)}static unreachableState(t){return new a(n.UNREACHABLE_STATE,s.UNREACHABLE_STATE,t)}static infiniteLoop(t){return new a(n.BLOCKED_ACTION_ERROR,s.INFINITE_LOOP_WHEN_BLOCKED,t)}static blockFollowingBlock(t){return new a(n.BLOCKED_ACTION_ERROR,s.NO_SAME_CATEGORY_ACTION_AFTER_BLOCK_WITH_BACK,t)}toString(){return`[${this.errorType}] ${this.message} stateId=${this.stateId}`}}e.MachineError=a;e.MachineValidator=class{constructor(t){this.machine=t}existsStateWithId(t){return this.machine.states.some(e=>e.id===t)}getOutEdges(t){const e=new Set;switch(t.type){case"EVENT":case"DATA":const i=t;for(const t of i.transitions)t.destinationStateId&&e.add(t.destinationStateId);break;case"ACTION":const n=t;n.destinationStateId&&e.add(n.destinationStateId),n.category&&n.category.whenBlockedStateId&&e.add(n.category.whenBlockedStateId)}return e}findErrors(){const t=[];return this.existsStateWithId(this.machine.initialStateId)||t.push(a.missingInitialState(this.machine.initialStateId)),this.machine.resetStateId&&!this.existsStateWithId(this.machine.resetStateId)&&t.push(a.missingResetState(this.machine.resetStateId)),this.findDanglingTransitions().forEach(e=>t.push(a.missingDestinationState(e))),this.findUnreachableStates().forEach(e=>t.push(a.unreachableState(e))),this.findInfiniteLoops().forEach(e=>t.push(a.infiniteLoop(e))),this.findBackActionsAfterBlockingActions().forEach(e=>t.push(a.blockFollowingBlock(e))),t}findDanglingTransitions(){const t=new Set;for(let e of this.machine.states)this.getOutEdges(e).forEach(e=>{this.existsStateWithId(e)||t.add(e)});return t}findUnreachableStates(){const t=new Set(this.machine.states.map(t=>t.id)),e=new Set,i=[this.machine.initialStateId];for(this.machine.resetStateId&&i.push(this.machine.resetStateId);0!==i.length;){const n=i.pop();if(n&&!e.has(n)){t.delete(n);const s=this.machine.states.find(t=>t.id===n);s&&this.getOutEdges(s).forEach(t=>i.push(t)),e.add(n)}}return t}findInfiniteLoops(){const t=new Set,e=(t,i,n=new Set)=>{let s=!1;const a=this.getState(i);if(!a)return!1;for(let r of this.getOutEdges(a)){if(r===t)return!0;if(n.has(r))return!1;n.add(r),s=s||e(t,r,n)}return s};return this.machine.states.filter(t=>"ACTION"===t.type&&t.category&&t.category.whenBlockedStateId).forEach(i=>{e(i.id,i.id)&&t.add(i.id)}),t}findBackActionsAfterBlockingActions(){const t=new Set,e=(t,i=new Set)=>{for(let n of this.getOutEdges(t)){const t=this.getState(n);if(t){if("ACTION"===t.type&&t.category&&"BACK"===t.category.whenBlocked)return!0;if(i.has(n)||"EVENT"===t.type)return!1;if(i.add(n),e(t,i))return!0}}return!1};return this.machine.states.filter(t=>"ACTION"===t.type&&t.category&&t.category.blocking).forEach(i=>{e(i)&&t.add(i.id)}),t}getState(t){return this.machine.states.filter(e=>e.id===t)[0]}}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.InMemoryUserCategoryContextProvider=class{constructor(){this.categoryToUuid=new Map,this.uuidToContext=new Map,this.userToCategoryToContext=new Map}get(t,e){const o=this.userToCategoryToContext.get(t);if(o){const t=o.get(e);if(t)return JSON.parse(JSON.stringify(t))}return{category:e,currentAction:null,actionQueue:[]}}persist(t,e){let o=this.userToCategoryToContext.get(t);o||(o=new Map,this.userToCategoryToContext.set(t,o));const r=JSON.parse(JSON.stringify(e));o.set(e.category,r);const i=this.categoryToUuid.get(e.category);i&&this.uuidToContext.delete(i),null!==e.currentAction&&e.currentAction.actionUuid?(this.uuidToContext.set(e.currentAction.actionUuid,r),this.categoryToUuid.set(e.category,e.currentAction.actionUuid)):this.categoryToUuid.delete(e.category)}getFromActionUuid(t){return this.uuidToContext.get(t)}}}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=o(1155);r.JsonMachineProvider=n.JsonMachineProvider;const t=o(1158);r.Handler=t.Handler;const i=o(1156);r.InMemoryUserMachineContextProvider=i.InMemoryUserMachineContextProvider;const a=o(1159);r.MachineValidator=a.MachineValidator;const c=o(1160);r.InMemoryUserCategoryContextProvider=c.InMemoryUserCategoryContextProvider}),
(function(n,o,t){n.exports={content:"onboarding_components--content--1ZhSe text--fontPos11--RSei3 text--_fontBase--YWDo0",content_v2:"onboarding_components--content_v2--1splZ text--fontPos11--RSei3 text--_fontBase--YWDo0",centeredContent:"onboarding_components--centeredContent--3HHtg",leftRightContent:"onboarding_components--leftRightContent--2QE8N",contentLarge:"onboarding_components--contentLarge--3_ntI",contentNewUser:"onboarding_components--contentNewUser--32BEA text--fontPos11--RSei3 text--_fontBase--YWDo0 onboarding_components--contentLarge--3_ntI onboarding_components--centeredContent--3HHtg",contentBrand:"onboarding_components--contentBrand--2e_TX onboarding_components--centeredContent--3HHtg onboarding_components--contentLarge--3_ntI",contentFeatureUpdate:"onboarding_components--contentFeatureUpdate--1dIZu text--fontPos11--RSei3 text--_fontBase--YWDo0 onboarding_components--contentLarge--3_ntI onboarding_components--leftRightContent--2QE8N",left:"onboarding_components--left--3MbYH",right:"onboarding_components--right--38FPQ",separator:"onboarding_components--separator--oYVme",buttons:"onboarding_components--buttons--37EEl",tosUpdate:"onboarding_components--tosUpdate--2IAB7",imgContainer:"onboarding_components--imgContainer--YW9MA",footer:"onboarding_components--footer--P2XCP",footer_v2:"onboarding_components--footer_v2--3xLNX",onboardingModalHeader:"onboarding_components--onboardingModalHeader--3Zekp",closeButton:"onboarding_components--closeButton--LClTr",modal:"onboarding_components--modal--2-PZQ",overflowingModal:"onboarding_components--overflowingModal--3PVj2",modalAnimateIn:"onboarding_components--modalAnimateIn--B4Hc4",popup:"onboarding_components--popup--2anwo",modalLightBackground:"onboarding_components--modalLightBackground--2ALY4",lighten:"onboarding_components--lighten--1vM7O"}}),
(function(l,t,e){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.293L10.646.646l.707.708L6.708 6l4.647 4.646-.708.708L6 6.707l-4.646 4.647-.708-.707L5.293 6 .646 1.354l.708-.707L6 5.293z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(3,1    ),r=t(1162                                                             ),i=t(221                                    ),o=t(636                                 ),c=t(174                        ),l=t(1163                                );n.OnboardingLoadingContext=a.createContext(void 0),n.OnboardingContent=(e=>a.createElement("div",{className:r.content},e.children)),n.OnboardingContentV2=(e=>a.createElement("div",{className:r.content_v2},e.children)),n.OnboardingNewUserContent=(e=>a.createElement("div",{className:r.contentNewUser},e.children)),n.OnboardingBrandContent=(e=>a.createElement("div",{className:r.contentBrand},e.children)),function(e){e.Content=(e=>a.createElement("div",{className:r.contentFeatureUpdate},e.children)),e.Left=(e=>a.createElement("div",{className:r.left},e.children)),e.Right=(e=>a.createElement("div",{className:r.right},e.children)),e.Separator=(e=>a.createElement("div",{className:r.separator},e.children)),e.Buttons=(e=>a.createElement("div",{className:r.buttons},e.children))}(n.OnboardingFeatureUpdate||(n.OnboardingFeatureUpdate={})),n.TosUpdate=(e=>a.createElement("div",{className:r.tosUpdate},e.children)),n.FloatingCloseButton=i.asTrackedClickable(({onMouseDown:e,onClick:n,className:t})=>a.createElement("div",{className:`${r.closeButton} ${t||""}`,onMouseDown:e,onClick:n},a.createElement(c.Svg,{svg:l,useOriginalSrcFills:!0}))),n.OnboardingImg=(e=>{let t=void 0===e.width?{width:"300px"}:{width:`${e.width}px`};return e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),a.createElement(n.OnboardingLoadingContext.Consumer,null,n=>a.createElement("div",{className:r.imgContainer},a.createElement("img",{src:e.src,style:t,onLoad:n})))}),n.OnboardingFooter=(e=>a.createElement("div",{className:r.footer},e.children)),n.OnboardingFooterV2=(e=>a.createElement("div",{className:r.footer_v2},e.children)),n.OnboardingLink=i.asTrackedClickable(e=>a.createElement("a",{className:o.blueLink,href:e.href,target:"_blank",rel:"noopener",onClick:e.onClick},e.children))}),
(function(o,n,i){o.exports={blueLink:"onboarding--blueLink--2CJw4 blue_link--blueLink--22X56",bold:"onboarding--bold--11_lK",listItem:"onboarding--listItem--17IQD",icon:"onboarding--icon--3TmQv",lockIcon:"onboarding--lockIcon--zh26y onboarding--icon--3TmQv",communityHubOnboardingTOS:"onboarding--communityHubOnboardingTOS--1WsMZ",communityHubOnboardingFooter:"onboarding--communityHubOnboardingFooter--2DHte",openTypeOnboardingFooter:"onboarding--openTypeOnboardingFooter--3PnPu",openTypeDetails:"onboarding--openTypeDetails--205vr",fullWidth:"onboarding--fullWidth--107S6",closeButton:"onboarding--closeButton--3Bwb2",footerV2WithTwoItems:"onboarding--footerV2WithTwoItems--fvUo2 onboarding_components--footer_v2--3xLNX"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(3,1    ),r=t(361                                           ),c=t(44,1         );s.CachedSubtree=class{constructor(e,s){this._callback=e,this._previousValue=null,s&&(this._previousValue=this._callback())}render(e){const s=e?this._previousValue=this._callback():this._previousValue;return s instanceof Array?s.map(s=>s&&i.createElement(a,{key:s.key,visible:e},s)):s&&i.createElement(a,{key:s.key,visible:e},s)}};class a extends i.Component{constructor(){super(...arguments),this.ref=(e=>{this.el=e})}componentDidUpdate(e){this.el&&(!e.visible&&this.props.visible&&r.keyboardDispatcher.focusSubtreeIfNecessary(this.el),e.visible&&!this.props.visible&&r.keyboardDispatcher.blurSubtreeIfNecessary(this.el))}render(){const e={display:this.props.visible?"inline":"none"};return i.createElement("div",{ref:this.ref,className:"cachedSubtree",style:e},this.props.children)}}a.displayName="CachedSubtreeComponent",s.withDispatch=c.connect(void 0,e=>({dispatch:e}))}),
(function(t,e,i){t.exports={helpWidget:"help_widget--helpWidget--22IIi text--_whiteText--2PkdM",tooltip:"help_widget--tooltip--jXoVZ help_widget--tooltipPosition--2HJXE",helpWidgetHidden:"help_widget--helpWidgetHidden--2iNFu help_widget--helpWidget--22IIi text--_whiteText--2PkdM",tooltipPosition:"help_widget--tooltipPosition--2HJXE",dropdown:"help_widget--dropdown--1111N help_widget--tooltipPosition--2HJXE",shortcut:"help_widget--shortcut--1D4tR"}}),
(function(l,o,t){l.exports={src:'<svg width="8" height="14" viewBox="0 0 8 14" xmlns="http://www.w3.org/2000/svg"><path d="M5 13H4v1h1v-1zM4 1C2.343 1 1 2.343 1 4H0c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 1.268-.59 2.398-1.51 3.13l-.083.065C5.553 7.833 5 8.852 5 10H4c0-1.424.662-2.694 1.694-3.518l.083-.064C6.519 5.87 7 4.992 7 4c0-1.657-1.343-3-3-3z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(3,1    ),s=o(7,1        ),n=o(94                                   ),a=o(126          ),r=o(200         ),l=o(85                   ),d=o(723               ),c=o(212      ),h=o(146                                          ),p=o(174                        ),u=o(167                                  ),m=o(345                                  ),w=o(525                                                    ),g=m.dropdown.Dropdown,_=m.dropdown.Option,E=m.dropdown.Separator,y=o(1167               ),f=o(125                                                           ),k=o(1168                 ),b=l.initialOptions();t.useHelpScout=l.getFeatureFlags().use_helpscout&&void 0!==b.user_helpscout_hmac;var S=!1;var C;t.MAILBOX_FIELD_ID=10393,function(e){e[e.ORGS_QUEUE=50446]="ORGS_QUEUE",e[e.PRO_QUEUE=50445]="PRO_QUEUE",e[e.STARTER_QUEUE=50444]="STARTER_QUEUE"}(C||(C={}));const v='\n\n!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});\n';t.prefillBeaconWithPlanType=((e,t,o={})=>{const i=b.user_data;if(i){let s,n;if(e)s="organization",n=C.ORGS_QUEUE;else if(t.length>0){let e=t.some(e=>!!e.stripe_customer_id);s=e?"professional":"starter",n=e?C.PRO_QUEUE:C.STARTER_QUEUE}else s="starter",n=C.STARTER_QUEUE;const a={name:i.name,email:i.email,signature:b.user_helpscout_hmac,"Plan Type":s};window.Beacon("identify",a),window.Beacon("prefill",Object.assign(Object.assign({},o),{fields:[{id:10107,value:`${n}`},...o.fields||[]]}))}});const H=(e,o=[])=>{window.figmaPerfTesting||(eval.call(null,v),window.Beacon("init",`${b.helpscout_beacon_id}`),window.Beacon("on","open",()=>S=!0),t.prefillBeaconWithPlanType(e,o))};class R extends i.PureComponent{constructor(e){super(e),this.delayedIntercomTask=new d.DelayedTask,this.isHelpScoutLoaded=!1,this.onKeyDown=(e=>{switch(e.keyCode){case c.Key.FORWARD_SLASH:e.ctrlKey&&e.shiftKey&&(e.preventDefault(),e.stopPropagation())}}),this.showDropdown=(()=>{this.state.dropdownShown||(this.setState({dropdownShown:!0}),t.useHelpScout&&window.Beacon&&window.Beacon("close"),document.addEventListener("mouseup",this.documentMouseUp))}),this.documentMouseUp=(e=>{this.dropdownEl&&this.dropdownEl.contains(e.target)||this.hideDropdown()}),this.hideDropdown=(()=>{document.removeEventListener("mouseup",this.documentMouseUp),this.setState({dropdownShown:!1})}),this.allowIntercom=(e=>{if(!b.user_data)return!1;let t=!0;return e.isEditingFile&&(t=e.showUi&&!e.hide),t}),this.dropdownRef=(e=>{this.dropdownEl=s.findDOMNode(e),this.dropdownEl&&this.allowIntercom(this.props)?this.dropdownEl.appendChild(this.supportBeaconLauncher):this.intercomHiddenContainer.appendChild(this.supportBeaconLauncher)}),this.logClick=(e=>{a.segment&&a.segment.track(e,{isEditingFile:this.props.isEditingFile})}),this.onClickHelp=(()=>{this.logClick("help_widget_help"),this.hideDropdown()}),this.onClickKeyboardShortcuts=(()=>{this.hideDropdown(),h.fullscreen.isReady()&&h.fullscreen.triggerAction("toggle-keyboard-shortcuts"),a.segment&&a.segment.track("showing_keyboard_shortcuts_modal",{isEditingFile:this.props.isEditingFile,source:"help-widget-button"})}),this.onClickSpectrum=(()=>{this.logClick("help_widget_spectrum"),this.hideDropdown()}),this.onClickTutorials=(()=>{this.logClick("help_widget_tutorials"),this.hideDropdown()}),this.onClickReleases=(()=>{this.logClick("help_widget_releases"),this.hideDropdown()}),this.onClickHelpScout=(()=>{t.useHelpScout?(this.logClick("help_widget_helpscout"),window.Beacon("open"),this.hideDropdown(),S||this.helpscoutNotAvailable()):this.helpscoutNotAvailable()}),this.onClickResetOnboarding=(()=>{b.user_data&&(f.getResponsiveContentHandler().reset(b.user_data.id),a.segmentTrackEvent("Reset Onboarding"),this.hideDropdown())}),this.helpscoutNotAvailable=(()=>{this.props.dispatch(n.flash.flash("This option is not currently available, but you can email us at support@figma.com."))}),this.state={isVisible:this.allowIntercom(e),dropdownShown:!1},setTimeout(()=>{this.intercomHiddenContainer=document.createElement("div"),this.intercomHiddenContainer.style.display="none",document.body.appendChild(this.intercomHiddenContainer);const o=s.render(i.createElement(_,{id:"helpscout-button",onClick:this.onClickHelpScout},"Get Help"),this.intercomHiddenContainer);this.supportBeaconLauncher=s.findDOMNode(o),e.delayIntercomLoad||t.useHelpScout&&this.loadHelpScout()},0),this.delayedIntercomTask.scheduleOnce(()=>{t.useHelpScout&&this.loadHelpScout()},5e3)}loadHelpScout(){this.isHelpScoutLoaded||(this.isHelpScoutLoaded=!0,H(!!this.props.orgById&&!r.isEmpty(this.props.orgById),this.props.teams))}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),this.delayedIntercomTask.reset()}UNSAFE_componentWillReceiveProps(e){this.allowIntercom(this.props)&&!this.allowIntercom(e)?this.setState({isVisible:!1}):!this.allowIntercom(this.props)&&this.allowIntercom(e)&&this.setState({isVisible:!0})}render(){return i.createElement("div",{className:this.state.isVisible?y.helpWidget:y.helpWidgetHidden,onMouseUp:this.showDropdown},i.createElement(p.Svg,{svg:k}),!this.state.dropdownShown&&i.createElement("div",{className:y.tooltip},"Help & Resources"),this.state.dropdownShown&&i.createElement(g,{className:y.dropdown,ref:this.dropdownRef},i.createElement(_,{target:"_blank",href:"https://help.figma.com/",onClick:this.onClickHelp},"Help Center"),h.fullscreen.isReady()&&i.createElement(_,{onClick:this.onClickKeyboardShortcuts},"Keyboard Shortcuts",i.createElement(w.KeyboardShortcut,{shortcut:u.getKeyboardShortcut(this.props.keyboardShortcuts,"open-shortcuts"),className:y.shortcut})),i.createElement(_,{target:"_blank",href:"https://spectrum.chat/figma/",onClick:this.onClickSpectrum},"Community Forum"),i.createElement(_,{target:"_blank",href:"https://www.youtube.com/figmadesign",onClick:this.onClickTutorials},"Video Tutorials"),i.createElement(_,{onClick:this.onClickResetOnboarding},"Reset Onboarding"),i.createElement(_,{target:"_blank",href:"https://releases.figma.com/",onClick:this.onClickReleases},"Release Notes"),i.createElement(_,{target:"_blank",href:"/summary-of-policy"},"Legal Summary"),this.allowIntercom(this.props)&&i.createElement(E,null)))}}t.HelpWidgetHelpscout=R,R.displayName="HelpWidgetHelpscout"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CENTER="center",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right"}(t.ModalLocation||(t.ModalLocation={})),function(e){e.LEFT_TITLE="left_title"}(t.PointDirectionOverride||(t.PointDirectionOverride={})),function(e){e.DRAGGABLE="draggable",e.NEW_USER="new_user",e.FEATURE_UPDATE="feature_update",e.WELCOME="welcome"}(t.ModalType||(t.ModalType={})),t.LARGE_MODAL_WIDTH=740,t.LARGE_MODAL_IMAGE_HEIGHT=268,t.MEDIUM_MODAL_WIDTH=580}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3,1    ),r=n(86      ),o=n(163                               ),l=n(138                                   ),i=n(44,1         ),c=n(1164                                                         ),s=n(1165                                       ),m=n(224                                            ),d=n(412                        ),u=n(401                              ),g=n(1166                         ),p=n(363                                              ),h=n(1169                                                 ),b=n(106                                     ),f=n(167                                  ),E=n(221                                    ),y=n(1170                                          ),w=n(147                       ),k=n(136                            ),O=n(134                             ),C=n(331                        ),v=n(493                                                ),T=n(118                             );t.BackToFileBrowser={title:"File Browser",trackingContextName:"Back to File Browser Modal",key:"back-to-files",element:i.connect(e=>({showingFileBrowserLoader:e.showingFileBrowserLoader}),e=>({dispatch:e}))(e=>{const{showingFileBrowserLoader:t,dispatch:n}=e;return a.useEffect(()=>{if(t)return;const e=document.querySelector("[data-tooltip=toggle-menu]");return n(b.fileBrowser.showDropdown({type:f.fullscreenMenuDropdownKey,data:{targetRect:e.getBoundingClientRect()}})),()=>n(b.fileBrowser.hideDropdown())},[t,n]),a.createElement(a.Fragment,null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/4befbce95388306cd4769de1db1f3fb8510b4742"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"The File Browser allows you to navigate through your account. You can use it to access personal files, create and join teams, and connect with the wider Figma Community."),a.createElement("p",null,"You can head there by clicking on ",a.createElement("span",{className:s.bold},"Back to Files")," in the main menu.")))}),userFlag:"back_to_file_browser_onboarded",pointDirection:y.PointDirectionOverride.LEFT_TITLE},t.TeamLibrary={title:"Team Library",trackingContextName:"Team Library Onboarding Modal",key:"library",element:i.connect(e=>Object.assign({},e.leftPanel),e=>({dispatch:e}))(e=>{const{activeTab:t,dispatch:n}=e;return a.useEffect(()=>(n(l.fullscreen.setLeftPanelTab({tab:o.LeftPanelTab.PUBLISH})),()=>{n(l.fullscreen.setLeftPanelTab({tab:t}))}),[n]),a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/library.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Share components and styles across your team by publishing them to the Team Library."),"Enable quick access to other libraries in this file. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360041051154"},"Learn more…")))}),userFlag:"library_modal_onboarded"},t.VectorNetworks={title:"Vector Networks",trackingContextName:"Vector Networks Onboarding Modal",key:"pen",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-1.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Pen tools have always been scary to use because they can be touchy and fragile."),"Now, they’re both simpler and more powerful – paths finally work the way they should. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040450213"},"Learn more…")))},t.Constraints={title:"Constraints",trackingContextName:"Constraints Onboarding Modal",key:"frame",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-2.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Setting precise constraints lets you build fluid layouts to support multiple device sizes and breakpoints within the same group."),"All of your layers adjust the way you expect – no magic, you get full control. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039957734"},"Learn more…")))},t.Sharing={title:"Sharing and Permissions",trackingContextName:"Sharing Onboarding Modal",key:"share",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Share your projects with teammates, clients, and stakeholders but don’t let them mess up your files."),"Control their access with granular permissons and manage their access in one simple place. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039485514"},"Learn more…")))},t.Multiplayer={title:"Multiplayer",trackingContextName:"Multiplayer Onboarding Modal",key:"share",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Collaborate in real time with your team and never worry about your files being up-to-date."),"No syncing, no waiting, no merge conflicts. ",a.createElement(c.OnboardingLink,{href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6"},"Learn more…")))},t.Comments={title:"Comments",trackingContextName:"Comments Onboarding Modal",key:"comment",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Leave notes right in your design files."),"Get feedback, requests, and copy updates where you’ll use them, not in your inbox. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360039825314"},"Learn more…")))},t.Export={title:"Export",trackingContextName:"Export Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Export your designs for use in production or to share with your team."),"Figma can export to PNG, JPEG, SVG, and PDF. ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040028114"},"Learn more…")))},t.LiveDevicePreview={title:"Live Device Preview",trackingContextName:"Live Device Preview Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"To view your frames live on your device, just download Figma Mirror on your ",a.createElement(c.OnboardingLink,{href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},"iOS")," or ",a.createElement(c.OnboardingLink,{href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},"Android")," device."),"They’ll update instantly no matter what network you’re on and with no need to connect via USB."))},t.Import={title:"Import Sketch Files",trackingContextName:"Import Sketch File Onboarding Modal",key:"import",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-4.gif"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"One of the coolest things about Figma is that you don’t have to start from scratch to get to work."),"Just drag your Sketch files onto the browser and we’ll convert them to Figma for you.")),userFlag:"import_file_onboarded"},t.OpenFile={title:"Edit a file",ctaText:"Create File",trackingContextName:"Edit a File Onboarding Modal",element:()=>a.createElement(c.OnboardingContent,null,"Open a file to learn more about Figma’s powerful editing features!")},t.CreateTeam={title:"Create a Team",trackingContextName:"Create a Team Onboarding Modal",key:"createTeam",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-team.png"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Figma is at its most powerful when you work from a team space (even if you are working solo)."),a.createElement("p",null,"Team spaces allow you to organize files into projects, collaborate more easily, and manage specific permissions."))),ctaText:"Create Team",userFlag:"create_team_onboarded"},t.CreateProject={title:"Create a Project",trackingContextName:"Create Project Onboarding Modal",key:"createProject",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-project.png"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"This is your team space. From here you can add collaborators, manage permissions, and see all of your projects owned by the team."),a.createElement("p",null,"Projects contain your design files. Let’s create your first project now."))),ctaText:"Create Project",userFlag:"create_project_onboarded"};const _=E.asTrackedContext(e=>a.createElement(a.Fragment,null,a.createElement(c.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,height:y.LARGE_MODAL_IMAGE_HEIGHT,src:"https://static.figma.com/uploads/6e96d7a260fecc5980db4243f589a83c3c8efaed"}),a.createElement(c.OnboardingNewUserContent,null,a.createElement("h1",null,`Hi, ${e.userName}. Welcome to Figma!`),a.createElement(m.Spacing,{multiple:1.5}),a.createElement("p",null,"Let us show you some of the things that make Figma special and different from other design tools."),a.createElement(m.Spacing,{multiple:3}),a.createElement(m.BigButtonPrimaryTracked,{onClick:e.onClickPrimaryCta},"Show me around"))),"Direct-to-file Modal"),F=E.asTrackedContext(e=>a.createElement(a.Fragment,null,a.createElement(c.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,height:y.LARGE_MODAL_IMAGE_HEIGHT,src:"https://static.figma.com/uploads/6e96d7a260fecc5980db4243f589a83c3c8efaed"}),a.createElement(c.OnboardingBrandContent,null,a.createElement("h1",null,"Let's get started"),a.createElement(m.Spacing,{multiple:1.5}),a.createElement("p",null,"Let us show you some of the things that make Figma special and different from other design tools."),a.createElement(m.Spacing,{multiple:3}),a.createElement(v.BrandButtonTracked,{onClick:e.onClickPrimaryCta,fullWidth:!1},"Show me around"))),"Info Capture Welcome Modal");var L;t.WelcomeOnboardingStep={title:"Welcome!",trackingContextName:"Welcome Onboarding Modal",element:i.connect(e=>({userName:e.user.name}))(e=>{const{userName:t,acceptTitle:n}=e;return a.useEffect(()=>n(`Welcome ${t.split(" ")[0]}!`),[t,n]),a.createElement(a.Fragment,null,a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Welcome to Figma!"),"We’re different from other design tools in some really special ways, so we’d like to take you through them."),a.createElement(c.OnboardingFooter,null,a.createElement(m.ButtonPrimaryTracked,{onClick:e.onClickPrimaryCta},"Next")))}),userFlag:"welcome_onboarded",disableFooter:!0},t.DirectToFileEditorWelcomeStep={trackingContextName:"Welcome Onboarding Modal",element:i.connect(e=>({userName:e.user.name}))(_),userFlag:"welcome_onboarded",modalType:y.ModalType.NEW_USER},t.InfoCaptureEditorWelcomeStep={trackingContextName:"Welcome Onboarding Modal",element:i.connect(e=>({userName:e.user.name}))(F),userFlag:"welcome_onboarded",modalType:y.ModalType.NEW_USER},t.LineHeightUpdate={title:"New Text Rendering",trackingContextName:"Line Height Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/a2220e5974ec390b6b72c29821c49878721323d2",width:350}),a.createElement(c.OnboardingContent,null,"Starting today, all new text boxes you create will use an updated text rendering method. This will change how line height is treated and fix a few bugs.",a.createElement("br",null),a.createElement("br",null),"You can always upgrade existing text boxes in the Advanced Type panel."," ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040449893"},"Learn more…"))),userFlag:"line_height_update_onboarded"},t.OrgWelcome={title:"Welcome to your Figma Organization",trackingContextName:"Orgs Welcome Onboarding Modal",highlightOnlyKey:"new-team-icon",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/6f3307f82aeddf6f609eaf97ee9e66e788d485c1",width:215,margin:"14px 0px 14px 27px"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Figma Organization connects files, projects, libraries, and teams, securely across your company."),"Click on ",a.createElement("span",{className:s.bold},"View all teams")," in the bottom left corner to find teams to join.")),width:376,userFlag:"orgs_onboarded"},t.PDFExport={title:"PDF Export",trackingContextName:"PDF Export Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/app/onboarding/pdf-export.png",width:350}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"You can now export your designs as a PDF for iOS development, printing, and sharing with your team!")," ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/articles/360040028114"},"Learn more…"))),userFlag:"pdf_onboarded"},t.TidyUp={title:"Tidy Up",key:"distribute",trackingContextName:"Smart Selections Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/b28c762a711857ed85b7fb8feb6c4d8616e3316a"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Use the Tidy Up button to arrange your selection into a grid or list so that you can adjust spacing and rearrange items."))),userFlag:"smart_selection_onboarded"},t.Styles={title:"Styles",trackingContextName:"Styles Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/99123fbca853747e2e1d98050e9b59fe217bbe1d"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"You can now create shareable and reusable styles for text, color, effects, and layout grids!"),"Publish them to the library to share with your team and use them in other files."," ",a.createElement(c.OnboardingLink,{href:"https://help.figma.com/hc/en-us/categories/360002042553#Styles"},"Learn more…"))),userFlag:"styles_onboarded"},t.CommunityHubLanding={title:"Say hello to Figma Plugins",trackingContextName:"Community Hub Landing Onboarding Modal",element:e=>a.createElement("div",null,a.createElement(c.OnboardingImg,{margin:"-1px 0 0 0",width:352,src:"https://static.figma.com/uploads/4524ea94fe52e79382cfba1f65a1850ecc9fc86e"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Automate work, bring in data, and extend what’s possible in Figma. Install plugins in one click, or create your own."),a.createElement("p",{className:s.communityHubOnboardingTOS},"P.S. Our updated"," ",a.createElement(m.LinkInlineTracked,{href:"https://www.figma.com/tos/",target:"_blank",rel:"noopener"},"terms of service")," ","now includes the use of plugins. By continuing to use Figma, you agree to the terms.")),a.createElement(c.OnboardingFooter,null,a.createElement("div",{className:s.communityHubOnboardingFooter},a.createElement(m.LinkInlineTracked,{className:s.blueLink,href:"https://www.figma.com/plugin-docs",target:"_blank",rel:"noopener"},"Build your own"),a.createElement(m.ButtonSecondary,{href:"https://www.figma.com/c",onClick:e.onClickPrimaryCta},"Browse plugins")))),disableFooter:!0,width:352,userFlag:"community_hub_onboarded"},function(e){e.ConnectedCoCoLandingView=i.connect(e=>({currentOrgId:e.currentOrgId}))(class extends a.PureComponent{render(){return a.createElement("div",null,a.createElement(c.OnboardingImg,{margin:"-1px 0 0 0",width:352,src:"https://static.figma.com/uploads/d553b9068862d4ede027e604afef07af862aedae"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,this.props.currentOrgId?"We’ve introduced new Project, Team, and Organization Pages — spaces for your team to share context and discover work. A few things have moved to make room for these new features.":"We’ve introduced new Project and Team Pages — spaces for your team to share context and discover work. A few things have moved to make room for these new features.")),a.createElement(c.OnboardingFooter,null,a.createElement(m.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/article/289-new",target:"_blank",rel:"noopener",onClick:this.props.onClickPrimaryCta},"See what's new")))}})}(L||(L={})),t.CoCoLanding={title:"A redesign of your Figma workspace",trackingContextName:"CoCo Landing Onboarding Modal",element:L.ConnectedCoCoLandingView,disableFooter:!0,width:352,userFlag:"coco_onboarded",lightHeader:!0},t.GIFs={title:"Figma prototypes, meet GIFs",trackingContextName:"GIFs Onboarding Modal",element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/7efabf2e7d62f3083ad663e670138afe2fb84248",width:350}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Add animated GIFs to your design file, and watch it come to life when you present your prototype."),a.createElement("p",null,"Whether you’re designing an app, website, or presentation, GIFs are a simple way to add subtle animation to improve the user experience."))),userFlag:"gifs_onboarded"},t.ProTrialEditor_1={title:"Get the most our of your Pro trial",trackingContextName:"Pro Trial Modal 1",defaultLocation:y.ModalLocation.BOTTOM_LEFT,lightHeader:!0,element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/0dfcc540fca717d1b8d58f6e434493b7d79db1de",width:350}),a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,"Team Libraries"),a.createElement("div",{style:{height:12}}),a.createElement("p",null,"Share components and styles with your entire team, so anyone can use in their files and projects. Figma makes it easy to create scalable design systems.")),a.createElement(c.OnboardingFooterV2,null,a.createElement(m.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360041051154",target:"_blank",rel:"noopener"},"Find out more"))),disableFooter:!0},t.ProTrialEditor_2={title:"Get the most our of your Pro trial",trackingContextName:"Pro Trial Modal 2",defaultLocation:y.ModalLocation.BOTTOM_LEFT,lightHeader:!0,element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/632890d99c2c4287faa4185249b209e6835d9c15",width:350}),a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,"Unlimited editors and projects"),a.createElement("div",{style:{height:12}}),a.createElement("p",null,"Collaborate with other designers or folks outside of your team, like your developer, product manager, or researcher. Figma brings all the right people into the design fold.")),a.createElement(c.OnboardingFooterV2,null,a.createElement(m.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039481034",target:"_blank",rel:"noopener"},"Find out more"))),disableFooter:!0},t.ProTrialEditor_3={title:"Get the most our of your Pro trial",trackingContextName:"Pro Trial Modal 3",defaultLocation:y.ModalLocation.BOTTOM_LEFT,lightHeader:!0,element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/8ae21b0765450b1784999007bf92ca024de6f213",width:350}),a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,"Unlimited version history"),a.createElement("div",{style:{height:12}}),a.createElement("p",null,"Figma auto-saves your work continuously and Pro gives you unlimited version history, so you can go back to the very beginning if you decide to go in another direction.gi")),a.createElement(c.OnboardingFooterV2,null,a.createElement(m.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360038006754",target:"_blank",rel:"noopener"},"Find out more"))),disableFooter:!0},t.ProTrialProjectOrTeam={title:"Get the most our of your Pro trial",trackingContextName:"Pro Trial Permissions Modal ",defaultLocation:y.ModalLocation.BOTTOM_LEFT,lightHeader:!0,element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/c36954b347801692b66f5b6787c49e513e3229be",width:350}),a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,"Advanced project permissions"),a.createElement("div",{style:{height:12}}),a.createElement("p",null,"Get additional permission options and fine tune project access. Create projects that are view- or invite-only, so you and your team have the right level of privacy.")),a.createElement(c.OnboardingFooterV2,null,a.createElement(m.ButtonSecondaryLinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039970673",target:"_blank",rel:"noopener"},"Find out more"))),disableFooter:!0};t.OpenType={title:"Better Type Details",trackingContextName:"OpenType Onboarding Modal",element:g.withDispatch(e=>a.createElement("div",null,a.createElement(c.OnboardingImg,{margin:"0 -1px -1px 0",width:378,src:"https://static.figma.com/uploads/28ad3c7c027a3f348ba7c2e018feb73dda056f05"}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"You can now access advanced typographical features for fonts that offer them. Turn on extra ligatures, change digit styles, use alternate letterforms, and explore other nuances of your fonts.")),a.createElement(c.OnboardingFooter,null,a.createElement("div",{className:s.openTypeOnboardingFooter},a.createElement(m.ButtonSecondaryTracked,{className:s.openTypeDetails,href:"#",onClick:()=>{(e=>{u.updateAppModel({showUi:!0}),setTimeout(()=>{const t=document.querySelector("[data-onboarding-key=type-panel-alignment-row]");if(!t)return;const n=d.pickerPositionLeftOf(t);e(l.fullscreen.showPicker({id:T.TYPE_PANEL_ID,initialX:n.x,initialY:n.y}))},0)})(e.dispatch),e.onClickPrimaryCta()}},"Open Type Details"),a.createElement(m.ButtonPrimaryTracked,{href:"#",onClick:e.onClickPrimaryCta},"Done"))))),disableFooter:!0,width:378,userFlag:"opentype_onboarded",key:"type-panel-settings"};t.DSAOnboarding={title:"Introducing analytics for your design systems",trackingContextName:"DSA Onboarding Modal",lightHeader:!0,element:i.connect(e=>({currentOrgId:e.currentOrgId}))(e=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/00b2ccf70ff839a86a331a745ea3f2f735960cbc",width:350}),a.createElement(c.OnboardingContentV2,null,a.createElement("p",null,"Take the guesswork out of building and maintaining your libraries. Track library adoption and prioritize updates based on how components are being used or detached.")),a.createElement("div",{className:s.footerV2WithTwoItems},a.createElement(m.LinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039238353",target:"_blank",rel:"noopener"},"Watch tutorial"),a.createElement(m.ButtonSecondaryTracked,{href:"#",onClick:()=>{((e,t)=>{e(b.fileBrowser.selectView({view:"org",orgId:t,orgViewTab:C.OrgViewTab.LIBRARIES})),e(O.orgs.selectAdminView({view:"library"})),e(b.fileBrowser.showModal({type:k.ORG_DASHBOARD_MODAL,data:{tab:w.LibraryPreferencesModalTab.LIBRARIES}}))})(e.dispatch,e.currentOrgId),e.onClickPrimaryCta()}},"View Analytics")))),disableFooter:!0,userFlag:"dsa_onboarded"},t.SmartAnimate={title:"Introducing Smart Animate",trackingContextName:"Smart Animate Onboarding Modal",lightHeader:!0,element:()=>a.createElement("div",null,a.createElement(c.OnboardingImg,{src:"https://static.figma.com/uploads/6e9b48cf375f22a2ab60a218369e6eac7a750937",width:450}),a.createElement(c.OnboardingContent,null,a.createElement("p",null,"Check out the new Smart Animate transition, which automatically animates objects with the same name. You can also combine Smart Animate with other transitions like Push or Move for more advanced animations."),a.createElement(m.LinkTracked,{href:"https://help.figma.com/hc/en-us/articles/360039818874",target:"_blank",rel:"noopener"},"Learn more…"))),width:450,userFlag:"smart_animate_onboarded"},t.ChromeVersionWarning={trackingContextName:"Chrome Version Warning Redalert 10-16-19",disableFooter:!0,element:i.connect(e=>({hasOrgs:Object.keys(e.orgById).length>0,teams:Object.keys(e.teams).map(t=>e.teams[t])}))(e=>{const[t,n]=a.useState(!1);a.useEffect(()=>{const e=setInterval(()=>{n(h.useHelpScout&&!!window.Beacon)},1e3);return()=>clearInterval(e)});const r=()=>{t&&(h.prefillBeaconWithPlanType(e.hasOrgs,e.teams,{fields:[{id:h.MAILBOX_FIELD_ID,value:54455}],subject:"Chrome Networking Issue"}),window.Beacon("open"),window.Beacon("navigate","ask/message"))},o=navigator&&navigator.userAgent&&navigator.userAgent.match(/CrOS/);let l="Please update your browser to avoid losing work.",i=a.createElement("p",null,"The version of Chrome you are using has a networking issue which may prevent you from saving your work. Please ",a.createElement(m.LinkInlineTracked,{target:"_blank",href:"https://help.figma.com/hc/en-us/articles/360040035734"},"upgrade your browser")," to version 77.0.3865.120 or greater to avoid any issues.");return o&&(l="Please update ChromeOS to avoid losing work.",i=a.createElement("p",null,"The version of ChromeOS you are using has a networking issue which may prevent you from saving your work. A patch has been released with version 77.0.3865.120 starting November 4, 2019. Make sure to allow ChromeOS to ",a.createElement(m.LinkInlineTracked,{target:"_blank",href:"https://support.google.com/chromebook/answer/177889"},"update automatically"),".")),a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,l),a.createElement("br",null),i,a.createElement("br",null),a.createElement(()=>t?a.createElement("p",null,"If you have any questions please ",a.createElement(m.LinkInlineTracked,{onClick:r},"message our support team")," or email us at ",a.createElement(m.LinkInlineTracked,{href:"mailto:support@figma.com"},"support@figma.com"),"."):a.createElement("p",null,"If you have any questions please email us at ",a.createElement(m.LinkInlineTracked,{href:"mailto:support@figma.com"},"support@figma.com"),"."),null),a.createElement(p.CloseButton,{className:s.closeButton,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"}))}),userFlag:"seen_chrome_version_warning"},t.RdsDowntimeModal={trackingContextName:"RDS Downtime Alert Modal",disableFooter:!0,element:e=>a.createElement(c.OnboardingContentV2,null,a.createElement("h1",null,"Scheduled Maintenance"),a.createElement("br",null),a.createElement("p",null,"Figma will be undergoing scheduled maintenance at ",new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric",timeZoneName:"short"}).format(new Date("2019-10-20T00:00:00.000Z")),". We expect it to take 30 minutes, though it may take up to an hour."),a.createElement("br",null),a.createElement("p",null,"When the maintenance is completed your work should sync as expected. If you continue to work during this period we suggest also backing up your work by saving your File locally as a .fig file. This way, if there are any unforeseen issues, you can import your saved version and continue as normal."),a.createElement("br",null),a.createElement("p",null,"You can view the status of this maintenance and subscribe to updates on ",a.createElement(m.LinkInlineTracked,{target:"_blank",href:"https://status.figma.com"},"status.figma.com")),a.createElement("br",null),a.createElement("p",null,"We hope this will not be too much of a disruption and appreciate your understanding. If you have other questions or concerns please email ",a.createElement(m.LinkInlineTracked,{href:"mailto:support@figma.com"},"support@figma.com")," or contact us inside the app."),a.createElement(p.CloseButton,{className:s.closeButton,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"})),userFlag:"seen_rds_downtime_modal"},t.AutoLayoutOnboarding={trackingContextName:"Auto Layout Onboarding Modal",element:e=>{const t=r.mac?"⇧A":"Shift+A";return a.createElement(a.Fragment,null,a.createElement(c.OnboardingImg,{width:y.LARGE_MODAL_WIDTH,src:"https://static.figma.com/uploads/b90ca080e1cd84880a3addd67d4ef733b7b5e626"}),a.createElement(c.OnboardingFeatureUpdate.Content,null,a.createElement(c.OnboardingFeatureUpdate.Left,null,a.createElement("h1",null,"Auto Layout",a.createElement("br",null),"is here")),a.createElement(c.OnboardingFeatureUpdate.Separator,null),a.createElement(c.OnboardingFeatureUpdate.Right,null,a.createElement("p",null,"Create buttons that resize with text, lists which rearrange when items are moved around, and other elements that respond like interfaces in production."),a.createElement(m.Spacing,{multiple:2}),a.createElement("p",null,"Add Auto Layout to a frame from the properties panel, or press ",a.createElement("span",{className:s.bold},t)," to convert existing objects to Auto Layout."),a.createElement(m.Spacing,{multiple:4}),a.createElement(c.OnboardingFeatureUpdate.Buttons,null,a.createElement(m.BigButtonSecondaryTracked,{onClick:e.dismissModal},"Maybe Later"),a.createElement(m.BigButtonLinkTracked,{href:"https://www.figma.com/c/file/784448220678228461",target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta},"Open Playground")))))},userFlag:"autolayout_onboarded",disableFooter:!0,modalType:y.ModalType.FEATURE_UPDATE}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FILE_BROWSER="File Browser",e.COMMUNITY_HUB="Community Hub",e.TEAM_PAGE="Team Page",e.ORG_PAGE="Org Page",e.EDITOR="Editor",e.TEMPLATE_FILE="Template File",e.PROTOTYPE_PANEL="Prototype Panel",e.USER_DETAILS="User Details",e.UNKNOWN="Unknown"}(t.TrackedContext||(t.TrackedContext={})),function(e){e.PERSONAL="Personal",e.ORG="Org"}(t.UserSpace||(t.UserSpace={}))}),
(function(O,A,R){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),function(O){O.ONBOARDING_MODAL="onboarding_modal"}(A.RcsCategories||(A.RcsCategories={})),function(O){O[O.URGENT_ALERT=9999]="URGENT_ALERT",O[O.PRO_TRIAL_MODAL=20]="PRO_TRIAL_MODAL",O[O.SECONDARY_ONBOARDING_MODAL=5]="SECONDARY_ONBOARDING_MODAL",O[O.DEFAULT_ONBOARDING_MODAL=10]="DEFAULT_ONBOARDING_MODAL"}(A.RcsPriorities||(A.RcsPriorities={}))}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SurveyUserFlags=new Set(["seen_cart_abandon_survey","seen_drafts_collaboration_survey"])}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1172                                                    ),c=r(111                        ),n=r(140                               ),i=r(115          ),a=r(1174                         );function u(e){if("recentFiles"===e.selectedView.view||"folder"===e.selectedView.view)return s.TrackedContext.FILE_BROWSER;if("communityHub"===e.selectedView.view)return s.TrackedContext.COMMUNITY_HUB;const t=n.editingFileKey(e.selectedView);return t&&c.isFileTemplate(t,e)?s.TrackedContext.TEMPLATE_FILE:t&&c.canEditFile(t,e)?s.TrackedContext.EDITOR:"team"===e.selectedView.view?s.TrackedContext.TEAM_PAGE:s.TrackedContext.UNKNOWN}t.getTrackedContext=u;t.SelectedViewQuery=class{execute(e){return u(e)}};t.UserFlagQuery=class{constructor(e){this.flagName=e}execute(e){return!!e.userFlags[this.flagName]}};t.UserFlagTimestampQuery=class{constructor(e){this.flagName=e}execute(e){const t=e.userFlags[this.flagName];if(t)return t.createdAt.getTime()}};t.MsSinceLastSurveyQuery=class{execute(e){const t=e.userFlags,r=(new Date).getTime();return Array.from(a.SurveyUserFlags).map(e=>{const s=t[e];return s?r-s.createdAt.getTime():1/0}).reduce((e,t)=>Math.min(e,t))}};t.UserProfileQuery=class{constructor(e){this.field=e}execute(e){const t=e.user;if(!t)return;const r=t.profile;return r?r[this.field]:void 0}};t.UserQuery=class{constructor(e){this.field=e}execute(e){const t=e.user;if(!t)return;const r=t[this.field];return["created_at","email_validated_at"].indexOf(this.field)>-1&&r?new Date(r):r}};t.UserSpaceQuery=class{execute(e){return e.currentOrgId&&c.canMemberOrg(e.currentOrgId,e)?s.UserSpace.ORG:s.UserSpace.PERSONAL}};t.OrgCountQuery=class{execute(e){return Object.keys(e.orgById).length}};t.BrowserVersionQuery=class{execute(e){return i.browserVersion()}};t.DraftsWithCollaboratorsQuery=class{execute(e){const t=e.user;if(!t)return 0;const r=e.roles.byFileKey;return Object.keys(r).filter(s=>e.fileByKey[s].creator_id===t.id&&Object.keys(r[s]).filter(e=>e!==t.id).length>0).length}};t.TeamCountQuery=class{execute(e){return Object.keys(e.teams).length}};t.CollaboratingTeamCountQuery=class{execute(e){const t=e.teams;return Object.keys(t).filter(e=>t[e].editors>1).length}};t.TeamFolderCountQuery=class{execute(e){const t=e.folders;return Object.keys(t).filter(e=>null!==t[e].team_id).length}};t.WebQueryProcessor=class{constructor(e){this.store=e}execute(e){return e.execute(this.store.getState())}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1172                                                    ),a=i(1171                                         ),o=i(1173                                 ),s=i(1175                                              );t.welcomeOnboardingSequenceMachine=function(e){return{id:`welcome_machine_${e.initialStateId}`,initialStateId:e.initialStateId,states:[{id:e.initialStateId,type:"DATA",query:new s.UserFlagQuery("welcome_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:`show_welcome_${e.initialStateId}`},{operator:"EQUALS",value:!0,destinationStateId:`show_${e.initialStateId}`}]},{id:`show_welcome_${e.initialStateId}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:{get steps(){return[...e.welcomeSteps||[a.WelcomeOnboardingStep],...e.sequence.steps]},get userFlagsOnComplete(){return e.sequence.userFlagsOnComplete},onComplete:e.sequence.onComplete,persistBetweenContexts:e.sequence.persistBetweenContexts}},destinationStateId:e.exitStateId,category:{name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,blocking:!0,whenBlocked:"BACK"}},{id:`show_${e.initialStateId}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:e.sequence},destinationStateId:e.exitStateId,category:{name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,blocking:!0,whenBlocked:"BACK"}}]}},t.awaitEditor=function(e,t){return{id:`${e}_await_editor_machine`,initialStateId:`${e}_await_editor`,states:[{id:`${e}_await_editor`,type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:`${e}_can_edit_file`,conditions:[{operator:"EQUALS",value:n.TrackedContext.EDITOR,field:"name"}]}]},{id:`${e}_can_edit_file`,type:"DATA",query:new s.SelectedViewQuery,transitions:[{operator:"EQUALS",value:n.TrackedContext.EDITOR,destinationStateId:t},{operator:"NOT_EQUALS",value:n.TrackedContext.EDITOR,destinationStateId:`${e}_await_editor`}]}]}},t.createDataBranch=function e(t,i,n){const a=i.map(e=>e.userFlag),r=a.join("-");if(0===t.length)return 0===i.length?{id:"noop-and-exit",initialStateId:"noop",states:[{id:"noop",type:"ACTION",payload:{type:"noop"}}]}:{id:`show-${r}`,initialStateId:`show-${r}`,states:[{id:`show-${r}`,type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:i.map(e=>e.steps).reduce((e,t)=>e.concat(t),[]),userFlagsOnComplete:a,onComplete:i[i.length-1].onComplete,interTabId:n}},category:{blocking:!0,name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};const d=t[0],c=e(t.slice(1),i.concat([d]),n),l=e(t.slice(1),i,n),p=`check-${d.userFlag}-show-${r}`;return{id:p,initialStateId:p,states:[{id:p,type:"DATA",query:new s.UserFlagQuery(d.userFlag),transitions:[{operator:"EQUALS",value:!0,destinationStateId:l.initialStateId},{operator:"NOT_EQUALS",value:!0,destinationStateId:c.initialStateId}]},...l.states,...c.states]}}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(1171                                         ),o=a(1176                                                   ),r=a(85                   ),n=a(1175                                              );function s(t){const e=t.filter(t=>!t.featureFlag||r.getFeatureFlags()[t.featureFlag]),a=o.createDataBranch(e,[],"editor_updates"),i=o.awaitEditor("initial","has_onboarded_editor");return{id:"onboard_editor_updates",initialStateId:i.initialStateId,states:[...i.states,{id:"has_onboarded_editor",type:"DATA",query:new n.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:a.initialStateId}]},...a.states]}}e.createEditorUpdateMachine=s,e.EditorUpdates=[{userFlag:"autolayout_onboarded",steps:[i.AutoLayoutOnboarding]}];const d=s(e.EditorUpdates);e.default=d}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const a=t(1172                                                    ),n=t(1171                                         ),i=t(1173                                 ),r=t(1175                                              ),s={id:"onboard_orgs_welcome",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:a.TrackedContext.FILE_BROWSER}],destinationStateId:"check_in_org_space"}]},{id:"check_in_org_space",type:"DATA",query:new r.UserSpaceQuery,transitions:[{operator:"EQUALS",value:a.UserSpace.ORG,destinationStateId:"data_check_have_shown_before"},{operator:"NOT_EQUALS",value:a.UserSpace.PERSONAL,destinationStateId:"await_file_browser"}]},{id:"data_check_have_shown_before",type:"DATA",query:new r.UserFlagQuery(n.OrgWelcome.userFlag),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.OrgWelcome]}},category:{blocking:!0,name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};o.default=s}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(1171                                         ),n=i(1173                                 ),o={id:"onboard_smart_selection",initialStateId:"await_select",resetStateId:"reset_await_select",states:[{id:"await_select",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"detectableListAxis",value:null},{operator:"NOT_EQUALS",field:"detectableListAxis",value:void 0}],destinationStateId:"data_check_have_shown_before"}]},{id:"reset_await_select",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"detectableListAxis",value:null},{operator:"NOT_EQUALS",field:"detectableListAxis",value:void 0}],destinationStateId:"show_onboarding"}]},{id:"data_check_have_shown_before",type:"DATA",query:new(i(1175                                              ).UserFlagQuery)("smart_selection_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"},{operator:"EQUALS",value:!0,destinationStateId:"await_reset_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.TidyUp]}},destinationStateId:"await_deselect",category:{blocking:!1,name:n.RcsCategories.ONBOARDING_MODAL,priority:n.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}},{id:"await_deselect",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"EQUALS",field:"detectableListAxis",value:null}],destinationStateId:"hide_onboarding"},{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"trackingContext",value:"Smart Selections Onboarding Modal"}],destinationStateId:"await_reset_onboarding"}]},{id:"hide_onboarding",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_reset_onboarding"},{id:"await_reset_onboarding",type:"EVENT",transitions:[{eventId:"Reset Onboarding",destinationStateId:"await_select"}]}]};t.default=o}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=l(106                                     ),a=l(142                     ),i=l(138                                   ),s=l(141                );t.OPEN_CREATE_TEAM_PAGE=(()=>a.globalReduxStore.dispatch(o.fileBrowser.selectView({view:"teamCreation"}))),t.OPEN_NEW_FILE=(()=>{const e=a.globalReduxStore.getState();a.globalReduxStore.dispatch(i.fullscreen.new_(s.getNewFileInfo(e,!1)))}),t.OPEN_CREATE_PROJECT_MODAL=(()=>{const e=a.globalReduxStore.getState();e.selectedView&&e.selectedView.teamId&&a.globalReduxStore.dispatch(o.fileBrowser.openNewFolderModal({where:"folder-list-view",teamId:e.selectedView.teamId}))}),t.REDIRECT_TO_PLUGINS=(()=>{a.globalReduxStore.dispatch(o.fileBrowser.selectView({view:"communityHub",subView:"dashboard"}))})}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(1172                                                    ),n=a(1171                                         ),i=a(1176                                                   ),r=a(85                   ),s=a(1175                                              );function d(e){const t=e.filter(e=>!e.featureFlag||r.getFeatureFlags()[e.featureFlag]),a=i.createDataBranch(t,[]);return{id:"onboard_file_browser_updates",initialStateId:"await_file_browser",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.FILE_BROWSER}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.TEAM_PAGE}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.ORG_PAGE}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.COMMUNITY_HUB}],destinationStateId:"has_onboarded_file_browser"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:o.TrackedContext.USER_DETAILS}],destinationStateId:"has_onboarded_file_browser"}]},{id:"has_onboarded_file_browser",type:"DATA",query:new s.UserFlagQuery("file_browser_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:a.initialStateId}]},...a.states]}}t.createFileBrowserUpdateMachine=d,t.FileBrowserUpdates=[{userFlag:n.CoCoLanding.userFlag,steps:[n.CoCoLanding]}];const _=d(t.FileBrowserUpdates);t.default=_}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(1172                                                    ),i=a(1176                                                   ),o=a(1171                                         ),r=a(1180                                           ),s=a(1175                                              ),_=a(1181                                                                        ),d=["file_browser_onboarded","community_hub_onboarded"].concat(_.FileBrowserUpdates.map(e=>e.userFlag)),c=i.welcomeOnboardingSequenceMachine({initialStateId:"onboarding_team",sequence:{steps:[o.CreateTeam],onComplete:r.OPEN_CREATE_TEAM_PAGE,userFlagsOnComplete:d},exitStateId:"completed_team_await_file_browser"}),p=i.welcomeOnboardingSequenceMachine({initialStateId:"onboard_file",sequence:{steps:[o.Import,o.OpenFile],onComplete:r.OPEN_NEW_FILE,userFlagsOnComplete:d}}),l=i.welcomeOnboardingSequenceMachine({initialStateId:"onboard_org",sequence:{steps:[o.OrgWelcome,o.Import,o.OpenFile],onComplete:r.OPEN_NEW_FILE,userFlagsOnComplete:d}}),S={id:"onboard_file_browser",initialStateId:"await_file_browser",resetStateId:"check_current_view",states:[{id:"await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER}],destinationStateId:"data_check_have_shown_before"}]},{id:"check_current_view",type:"DATA",query:new s.SelectedViewQuery,transitions:[{operator:"EQUALS",value:n.TrackedContext.FILE_BROWSER,destinationStateId:"check_in_org_space"},{operator:"NOT_EQUALS",value:n.TrackedContext.FILE_BROWSER,destinationStateId:"reset_await_file_browser"}]},{id:"reset_await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER}],destinationStateId:"check_in_org_space"}]},{id:"data_check_have_shown_before",type:"DATA",query:new s.UserFlagQuery("file_browser_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"check_in_org_space"}]},{id:"check_in_org_space",type:"DATA",query:new s.UserSpaceQuery,transitions:[{operator:"EQUALS",value:n.UserSpace.ORG,destinationStateId:l.initialStateId},{operator:"NOT_EQUALS",value:n.UserSpace.ORG,destinationStateId:"check_needs_team"}]},{id:"check_needs_team",type:"DATA",query:new s.TeamCountQuery,transitions:[{operator:"NOT_EQUALS",value:0,destinationStateId:p.initialStateId},{operator:"EQUALS",value:0,destinationStateId:c.initialStateId}]},{id:"completed_team_await_file_browser",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:n.TrackedContext.FILE_BROWSER}],destinationStateId:p.initialStateId}]},...c.states,...p.states,...l.states]};t.default=S}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(1171                                         ),n=o(1180                                           ),i=o(1172                                                    ),r=o(1173                                 ),_=o(1175                                              ),s={id:"onboard_create_page",initialStateId:"await_team_page",resetStateId:"check_current_view",states:[{id:"await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.TEAM_PAGE},{operator:"EQUALS",field:"numProjects",value:0}],destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new _.UserFlagQuery("create_project_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"check_current_view",type:"DATA",query:new _.SelectedViewQuery,transitions:[{operator:"EQUALS",value:i.TrackedContext.TEAM_PAGE,destinationStateId:"show_onboarding"},{operator:"NOT_EQUALS",value:i.TrackedContext.TEAM_PAGE,destinationStateId:"reset_await_team_page"}]},{id:"reset_await_team_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:i.TrackedContext.TEAM_PAGE},{operator:"EQUALS",field:"numProjects",value:0}],destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.CreateProject],onComplete:n.OPEN_CREATE_PROJECT_MODAL}},category:{blocking:!0,name:r.RcsCategories.ONBOARDING_MODAL,priority:r.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=s}),
(function(e,o,t){e.exports={editorWelcomeModal:"editor_team_welcome--editorWelcomeModal--38oq9",choosePlanModal:"editor_team_welcome--choosePlanModal--AH1ty",plansContainer:"editor_team_welcome--plansContainer--3L2fo",planBox:"editor_team_welcome--planBox--17Ra9",planItem:"editor_team_welcome--planItem--RcFHD",cornerTargetBox:"editor_team_welcome--cornerTargetBox--1O7cH",checkIcon:"editor_team_welcome--checkIcon--2O8bb",proPlan:"editor_team_welcome--proPlan--2P-lh",penTool:"editor_team_welcome--penTool--3-_J6",inviteCollaboratorsModal:"editor_team_welcome--inviteCollaboratorsModal--boTvP",nameTeamModal:"editor_team_welcome--nameTeamModal--20cGK",highlight:"editor_team_welcome--highlight--3jWps",inputContainer:"editor_team_welcome--inputContainer--1HFbL",completionModal:"editor_team_welcome--completionModal--2Htkn",showMeAroundButton:"editor_team_welcome--showMeAroundButton--1jGKx",selectionContainer:"editor_team_welcome--selectionContainer--3FaDB",cursorSvg:"editor_team_welcome--cursorSvg--2D97G",upperLeftTarget:"editor_team_welcome--upperLeftTarget--3QSzC",upperRightTarget:"editor_team_welcome--upperRightTarget--1bNxD",bottomLeftTarget:"editor_team_welcome--bottomLeftTarget--e_AL8",bottomRightTarget:"editor_team_welcome--bottomRightTarget--2rNQz",pointerTopLeft:"editor_team_welcome--pointerTopLeft--YQvYu",pointerTopRight:"editor_team_welcome--pointerTopRight--16Dye",pointerBottomLeft:"editor_team_welcome--pointerBottomLeft--329OV",pointerBottomRight:"editor_team_welcome--pointerBottomRight--375ZX",planButton:"editor_team_welcome--planButton--1khN-",proButton:"editor_team_welcome--proButton--1iMCm editor_team_welcome--planButton--1khN-",starterButton:"editor_team_welcome--starterButton--1dSea editor_team_welcome--planButton--1khN-",errorMessage:"editor_team_welcome--errorMessage--2ZEBZ"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(3,1    ),n=a(1170                                          ),r=a(44,1         ),i=a(493                                                ),o=a(224                                            ),m=a(496                                                           ),c=a(174                        ),s=a(221                                    ),u=a(107                             ),E=a(87                      ),p=a(137                             ),d=a(115          ),h=a(1184                       ),g=a(495                                                               ),v=a(233        ),f=a(208        ),k=a(370                                    ),L=()=>l.createElement("img",{src:"https://static.figma.com/uploads/65f14dc6f5f3c61aa313bf1e06e3fb6251811a51",className:h.penTool}),N=e=>l.createElement("div",{className:`${h.cornerTargetBox} ${e.position}`}),S=()=>l.createElement(l.Fragment,null,l.createElement(N,{position:h.upperLeftTarget}),l.createElement(N,{position:h.upperRightTarget}),l.createElement(N,{position:h.bottomLeftTarget}),l.createElement(N,{position:h.bottomRightTarget})),C=e=>l.createElement("div",{className:h.selectionContainer},e.children,l.createElement(S,null),l.createElement("img",{className:h.cursorSvg,src:"https://static.figma.com/uploads/67b8081c642d55a992811590a3913dc5e25c0e74"})),T=e=>{let t=null;return"down"===e.direction?t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"1",y:"1",width:"48.2525",height:"21.1934",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M62.187 23.0046L61.6931 20.4363L60.3475 22.679L56.6886 28.777L49.9894 30.6041L47.7074 31.2265L49.7438 32.4298L63.9175 40.8052L65.8272 41.9336L65.4083 39.7554L62.187 23.0046Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"})):"up-left"==e.direction?t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"66.4263",y:"42.9443",width:"48.2525",height:"21.1934",transform:"rotate(-180 66.4263 42.9443)",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M5.23931 20.9397L5.73321 23.508L7.0788 21.2653L10.7377 15.1672L17.4369 13.3402L19.7189 12.7178L17.6825 11.5145L3.50873 3.13907L1.59911 2.01066L2.01799 4.18885L5.23931 20.9397Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"})):"up-right"==e.direction&&(t=l.createElement("svg",{width:"68",height:"44",viewBox:"0 0 68 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"1",y:"-1",width:"48.2554",height:"21.1934",transform:"matrix(1 0 0 -1 -0.00012207 41.9443)",fill:e.color,stroke:"black",strokeWidth:"2"}),l.createElement("path",{d:"M62.1904 20.9397L61.6965 23.5078L60.351 21.2653L56.6919 15.1672L49.9922 13.3402L47.7101 12.7178L49.7466 11.5145L63.9212 3.13906L65.8308 2.01072L65.4119 4.18886L62.1904 20.9397Z",fill:e.color,stroke:"black",strokeWidth:"2",strokeLinecap:"square"}))),l.createElement("div",{style:{position:"absolute"},className:e.className},t)},_=e=>e.visible?l.createElement(l.Fragment,null,l.createElement(o.Spacing,{multiple:1}),l.createElement("div",{className:h.errorMessage},e.message)):null,b=e=>{const[t,a]=l.useState(!1);return l.createElement("div",{className:`${h.nameTeamModal} ${h.editorWelcomeModal}`},l.createElement(C,null,l.createElement("h1",null,"Welcome to"),l.createElement("div",{className:h.highlight},l.createElement("h1",null,"Figma"))),l.createElement(o.Spacing,{multiple:4}),l.createElement("p",null,"Give your team a name to get started:"),l.createElement(o.Spacing,{multiple:3}),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.teamName?e.onNext():a(!0)},className:h.inputContainer},l.createElement(m.AuthInput,{className:t?g.invalidInput:"",autoFocus:!0,placeholder:"e.g. Acme Design",value:e.teamName,onChange:t=>e.setTeamName(t.target.value)}),l.createElement(_,{visible:t,message:"This field is required"}),l.createElement(o.Spacing,{multiple:2.5}),l.createElement(i.BrandButtonTracked,null,"Next")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"Do this later"))},w=e=>l.createElement(l.Fragment,null,l.createElement(m.AuthInput,{autoFocus:e.autoFocus,placeholder:"Email",value:e.inviteEmail.email,onChange:t=>e.setEmail(t.target.value),className:e.inviteEmail.error?g.invalidInput:""}),l.createElement(_,{visible:!!e.inviteEmail.error,message:e.inviteEmail.error}),l.createElement(o.Spacing,{multiple:1.5})),M=e=>{return l.createElement("div",{className:`${h.editorWelcomeModal} ${h.inviteCollaboratorsModal}`},l.createElement("h1",null,"Invite collaborators"),l.createElement(o.Spacing,{multiple:2}),l.createElement("p",null,"Figma works best with teammates."),l.createElement("p",null,"Invite collaborators and start working together."),l.createElement(o.Spacing,{multiple:3}),l.createElement("form",{onSubmit:t=>{t.preventDefault(),e.onNext()},className:h.inputContainer},l.createElement(w,{setEmail:e.setEmail.bind(null,0),inviteEmail:e.emails[0],autoFocus:!0}),l.createElement(w,{setEmail:e.setEmail.bind(null,1),inviteEmail:e.emails[1]}),l.createElement(w,{setEmail:e.setEmail.bind(null,2),inviteEmail:e.emails[2]}),l.createElement(o.Spacing,{multiple:1}),l.createElement(i.BrandButtonTracked,null,"Next")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"Skip this step"),l.createElement(T,{direction:"down",color:"#FFC700",className:h.pointerTopLeft}),l.createElement(T,{direction:"up-left",color:"#FF8577",className:h.pointerTopRight}),l.createElement(T,{direction:"up-left",color:"#907CFF",className:h.pointerBottomRight}),l.createElement(T,{direction:"up-right",color:"#699BF7",className:h.pointerBottomLeft}))},x=e=>l.createElement("div",{className:h.planItem},l.createElement(c.Svg,{svg:k,className:h.checkIcon}),l.createElement("p",null,e.children)),B=e=>l.createElement("div",{className:`${h.editorWelcomeModal} ${h.choosePlanModal}`},l.createElement("h1",null,"Choose a plan for your team"),l.createElement(o.Spacing,{multiple:4}),l.createElement("div",{className:h.plansContainer},l.createElement("div",{className:h.planBox},l.createElement(o.Spacing,{multiple:4}),l.createElement("h2",null,"Starter"),l.createElement("h3",null,"Free up to 2 editors"),l.createElement(o.Spacing,{multiple:3}),l.createElement(x,null,"3 projects"),l.createElement(x,null,"30-day version history"),l.createElement(x,null,"Unlimited cloud storage"),l.createElement(o.Spacing,{multiple:9}),l.createElement(s.ButtonTracked,{className:h.starterButton,onClick:e.onChooseStarter},"Choose Starter")),l.createElement(o.Spacing,{direction:"x",multiple:1.5}),l.createElement("div",{className:`${h.planBox} ${h.proPlan}`},l.createElement(o.Spacing,{multiple:4}),l.createElement("h2",null,"Professional"),l.createElement("h3",null,"$12 per editor/mo."),l.createElement(o.Spacing,{multiple:3}),l.createElement(x,null,"Unlimited projects"),l.createElement(x,null,"Unlimited version history"),l.createElement(x,null,"Custom file/user permission"),l.createElement(x,null,"Invite-only private projects"),l.createElement(x,null,"Shareable team libraries"),l.createElement(o.Spacing,{multiple:4}),l.createElement(s.ButtonTracked,{className:h.proButton,onClick:e.onChooseProfessional},"Choose Professional"),l.createElement(S,null))),l.createElement(L,null)),y=e=>l.createElement("div",{className:`${h.editorWelcomeModal} ${h.completionModal}`},l.createElement("h1",null,"You're all set!"),l.createElement(o.Spacing,{multiple:2}),l.createElement("p",null,"Let us show you some of the things that make Figma special and different from other design tools."),l.createElement(o.Spacing,{multiple:3}),l.createElement("div",{className:h.showMeAroundButton},l.createElement(i.BrandButtonTracked,{onClick:e.onShowMeAround},"Show me around")),l.createElement(o.Spacing,{multiple:3}),l.createElement(o.LinkTracked,{onClick:e.onSkip},"No, thanks"),l.createElement(L,null));var I;!function(e){e.NAME_TEAM="Name Team Step",e.INVITE_COLLAB="Invite Collaborators Step",e.CHOOSE_PLAN="Choose Plan Step",e.COMPLETE="Completion Step"}(I||(I={}));t.EditorTeamWelcome={modalType:n.ModalType.WELCOME,trackingContextName:"Editor Team Welcome Modal",userFlag:"welcome_onboarded",element:r.connect(e=>{var t;return{isEmailValidated:!!(null===(t=e.user)||void 0===t?void 0:t.email_validated_at),team:1===Object.keys(e.teams).length?e.teams[Object.keys(e.teams)[0]]:null}},e=>({changeTeamName:(t,a)=>{t&&a&&e(p.team.rename({team:t,name:a}))},sendTeamInvites:(t,a)=>{a.length>0&&e(u.role.sendInvites({emails:a,resourceType:E.ResourceType.TEAM,resourceIdOrKey:t,level:E.PermissionLevel.EDITOR}))}}))(e=>{const[t,a]=l.useState(I.NAME_TEAM),[n,r]=l.useState(""),[i,o]=l.useState([{email:""},{email:""},{email:""}]),m=(e,t)=>{const a=[...i];a[e]={email:t},o(a)},{team:c,onClickPrimaryCta:u}=e;if(l.useEffect(()=>{c||u()},[c,u]),!c)return null;const E=()=>a(I.COMPLETE),p=()=>{const t=e.isEmailValidated?I.INVITE_COLLAB:I.CHOOSE_PLAN;a(t),n&&e.changeTeamName(c,n)},h=()=>a(I.CHOOSE_PLAN),g=()=>{const t=i.map(e=>e.email&&!v.isEmail(e.email)?{email:e.email,error:"Email address doesn't look right "}:{email:e.email});if(o(t),t.some(e=>e.error))return;const a=t.filter(e=>!!e.email).map(e=>e.email);h(),e.sendTeamInvites(c.id,a)},k=()=>{d.redirect(`/files/upgrade-team/${c.id}/choose_plan`,"_blank"),E()};return s.asTrackedElement((()=>{switch(t){case I.NAME_TEAM:return l.createElement(b,{onNext:p,onSkip:e.onClickPrimaryCta,setTeamName:r,teamName:n});case I.INVITE_COLLAB:return l.createElement(M,{onNext:g,onSkip:h,setEmail:m,emails:i});case I.CHOOSE_PLAN:return l.createElement(B,{onChooseStarter:E,onChooseProfessional:k});case I.COMPLETE:return l.createElement(y,{onShowMeAround:e.onClickPrimaryCta,onSkip:e.dismissModal});default:return f.assertNever(t)}})(),t)})}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(1172                                                    ),o=a(1176                                                   ),i=a(1171                                         ),r=a(517                               ),d=a(1175                                              ),s=a(117              ),_=a(1177                                                                     ),p=a(1185                                                                ),c=[i.Constraints,i.VectorNetworks,i.Comments,i.Sharing,i.Multiplayer,i.TeamLibrary,i.Export,i.LiveDevicePreview],l=["editor_onboarded","shared_component_library_onboarded","shared_component_publish_onboarded","library_modal_onboarded","styles_onboarded","pdf_onboarded","coco_onboarded","line_height_update_onboarded","gifs_onboarded","opentype_onboarded","smart_animate_onboarded"],m=o.welcomeOnboardingSequenceMachine({initialStateId:"show_onboarding",sequence:{get steps(){return s.desktopApp?c:r.experiment("exp_nux_05").defaultValue(c).requireGen0().treatment("variant",c.concat([i.BackToFileBrowser])).get()},get userFlagsOnComplete(){return l.concat(_.EditorUpdates.map(e=>e.userFlag)).concat(r.experiment("exp_nux_05").defaultValue([]).requireGen0().treatment("variant",["file_browser_onboarded"]).get())}},get welcomeSteps(){return r.experiment("exp_nux_05").defaultValue([i.WelcomeOnboardingStep]).requireGen0().treatment("variant",[p.EditorTeamWelcome]).get()}}),u=o.awaitEditor("initial","data_check_have_shown_before"),b=o.awaitEditor("reset","show_onboarding"),g={id:"onboard_editor",initialStateId:u.initialStateId,resetStateId:"can_edit_file",states:[...u.states,{id:"can_edit_file",type:"DATA",query:new d.SelectedViewQuery,transitions:[{operator:"EQUALS",value:n.TrackedContext.EDITOR,destinationStateId:m.initialStateId},{operator:"NOT_EQUALS",value:n.TrackedContext.EDITOR,destinationStateId:b.initialStateId}]},...b.states,{id:"data_check_have_shown_before",type:"DATA",query:new d.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:m.initialStateId}]},...m.states]};t.default=g}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1172                                                    ),a=o(1173                                 ),n=o(1171                                         ),r=o(1175                                              ),s=()=>Date.now()-864e5,_={id:"pro_trials",initialStateId:"await_editor",states:[{id:"await_editor",type:"EVENT",transitions:[{eventId:"Context Viewed",destinationStateId:"can_edit_file",conditions:[{operator:"EQUALS",value:i.TrackedContext.EDITOR,field:"name"},{operator:"EQUALS",value:!0,field:"isInTrial"}]}]},{id:"can_edit_file",type:"DATA",query:new r.SelectedViewQuery,transitions:[{operator:"EQUALS",value:i.TrackedContext.EDITOR,destinationStateId:"check_has_seen_1"},{operator:"NOT_EQUALS",value:i.TrackedContext.EDITOR,destinationStateId:"await_editor"}]},{id:"check_has_seen_1",type:"DATA",query:new r.UserFlagQuery("seen_trials_editor_1"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_content_1"},{operator:"EQUALS",value:!0,destinationStateId:"check_has_seen_2"}]},{id:"show_content_1",type:"ACTION",category:{name:a.RcsCategories.ONBOARDING_MODAL,priority:a.RcsPriorities.PRO_TRIAL_MODAL,blocking:!0,whenBlocked:"BACK"},payload:{type:"show_content",onboardingSequence:{steps:[n.ProTrialEditor_1],userFlagsOnComplete:["seen_trials_editor_1"]}},destinationStateId:"await_editor"},{id:"check_has_seen_2",type:"DATA",query:new r.UserFlagQuery("seen_trials_editor_2"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"check_24hr_since_seen_1"},{operator:"EQUALS",value:!0,destinationStateId:"check_has_seen_3"}]},{id:"check_24hr_since_seen_1",type:"DATA",query:new r.UserFlagQuery("seen_trials_editor_1"),transitions:[{operator:"EQUALS",value:void 0,destinationStateId:"show_content_1"},{operator:"GREATER_THAN",value:s,destinationStateId:"await_editor"},{operator:"LESS_THAN",value:s,destinationStateId:"show_content_2"}]},{id:"show_content_2",type:"ACTION",category:{name:a.RcsCategories.ONBOARDING_MODAL,priority:a.RcsPriorities.PRO_TRIAL_MODAL,blocking:!0,whenBlocked:"BACK"},payload:{type:"show_content",onboardingSequence:{steps:[n.ProTrialEditor_2],userFlagsOnComplete:["seen_trials_editor_2"]}},destinationStateId:"await_editor"},{id:"check_has_seen_3",type:"DATA",query:new r.UserFlagQuery("seen_trials_editor_3"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_content_3"}]},{id:"show_content_3",type:"ACTION",category:{name:a.RcsCategories.ONBOARDING_MODAL,priority:a.RcsPriorities.PRO_TRIAL_MODAL,blocking:!0,whenBlocked:"BACK"},payload:{type:"show_content",onboardingSequence:{steps:[n.ProTrialEditor_3],userFlagsOnComplete:["seen_trials_editor_3"]}},destinationStateId:"await_editor"}]};t.default=_}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(1172                                                    ),i=o(1173                                 ),n=o(1171                                         ),s=o(1175                                              ),r={id:"pro_trial_permissions",initialStateId:"await_team_or_project_page",states:[{id:"await_team_or_project_page",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:a.TrackedContext.TEAM_PAGE},{operator:"EQUALS",value:!0,field:"isInTrial"},{operator:"EQUALS",value:!0,field:"canEdit"}],destinationStateId:"check_has_seen"},{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:a.TrackedContext.FILE_BROWSER},{operator:"EQUALS",field:"view",value:"project"},{operator:"EQUALS",value:!0,field:"isInTrial"},{operator:"EQUALS",value:!0,field:"canEdit"}],destinationStateId:"check_has_seen"}]},{id:"check_has_seen",type:"DATA",query:new s.UserFlagQuery("seen_trials_permissions_modal"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_content"}]},{id:"show_content",type:"ACTION",category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.PRO_TRIAL_MODAL,blocking:!0,whenBlocked:"WAIT"},payload:{type:"show_content",onboardingSequence:{steps:[n.ProTrialProjectOrTeam],userFlagsOnComplete:["seen_trials_permissions_modal"]}}}]};t.default=r}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1173                                 ),a=n(1171                                         ),i={id:"onboard_opentype",initialStateId:"await_text",resetStateId:"reset_await_text",states:[{id:"await_text",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"data_check_have_shown_before"}]},{id:"reset_await_text",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"NOT_EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"show_onboarding"}]},{id:"data_check_have_shown_before",type:"DATA",query:new(n(1175                                              ).UserFlagQuery)("opentype_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"await_reset_onboarding"},{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.OpenType]}},destinationStateId:"await_hide",category:{blocking:!1,name:o.RcsCategories.ONBOARDING_MODAL,priority:o.RcsPriorities.SECONDARY_ONBOARDING_MODAL,whenBlocked:"BACK"}},{id:"await_hide",type:"EVENT",transitions:[{eventId:"Selection Changed",conditions:[{operator:"EQUALS",field:"numSelectedTextNodes",value:0}],destinationStateId:"hide_onboarding"},{eventId:"CTA Clicked",conditions:[{operator:"EQUALS",field:"trackingContext",value:"OpenType Onboarding Modal"}],destinationStateId:"hide_onboarding"}]},{id:"hide_onboarding",type:"ACTION",payload:{type:"hide_content"},destinationStateId:"await_reset_onboarding"},{id:"await_reset_onboarding",type:"EVENT",transitions:[{eventId:"Reset Onboarding",destinationStateId:"reset_await_text"}]}]};t.default=i}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(1172                                                    ),n=o(1171                                         ),i=o(1173                                 ),r=o(1175                                              ),s={id:"onboard_smart_animate",initialStateId:"await_prototype_panel",states:[{id:"await_prototype_panel",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{operator:"EQUALS",field:"name",value:a.TrackedContext.PROTOTYPE_PANEL}],destinationStateId:"data_check_has_onboarded_editor"}]},{id:"data_check_has_onboarded_editor",type:"DATA",query:new r.UserFlagQuery("editor_onboarded"),transitions:[{operator:"EQUALS",value:!0,destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:new r.UserFlagQuery("smart_animate_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"show_onboarding"}]},{id:"show_onboarding",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.SmartAnimate]}},category:{blocking:!0,name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.DEFAULT_ONBOARDING_MODAL,whenBlocked:"BACK"}}]};t.default=s}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=o(1173                                 ),r=o(1176                                                   ),s=o(1171                                         ),a=o(1175                                              ),t=r.awaitEditor("warning_chrome_version","check_browser_version");n.WarningChromeVersionMachine={initialStateId:t.initialStateId,id:"warning_chrome_version_machine",states:[...t.states,{id:"check_browser_version",type:"DATA",query:new a.BrowserVersionQuery,transitions:[{operator:"EQUALS",value:"Chrome/77.0.3865.75",destinationStateId:"check_has_seen"},{operator:"EQUALS",value:"Chrome/77.0.3865.90",destinationStateId:"check_has_seen"},{operator:"EQUALS",value:"Chrome/77.0.3865.105",destinationStateId:"check_has_seen"}]},{id:"check_has_seen",type:"DATA",query:new a.UserFlagQuery("seen_chrome_version_warning"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_modal"}]},{id:"show_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[s.ChromeVersionWarning]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.URGENT_ALERT,blocking:!0,whenBlocked:"BACK"}}]}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(1173                                 ),n=o(1171                                         ),s=o(1175                                              );t.RdsDowntimeAlertMachine={initialStateId:"await_rds_downtime",id:"rds_downtime_alert_machine",states:[{id:"await_rds_downtime",type:"EVENT",transitions:[{eventId:"RCS Tick",conditions:[{field:"currentTimeMs",operator:"GREATER_THAN",value:1571526e6},{field:"currentTimeMs",operator:"LESS_THAN",value:15715305e5}],destinationStateId:"check_did_show_rds_downtime_modal"}]},{id:"check_did_show_rds_downtime_modal",type:"DATA",query:new s.UserFlagQuery("seen_rds_downtime_modal"),transitions:[{operator:"NOT_EQUALS",value:!0,destinationStateId:"show_modal"}]},{id:"show_modal",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[n.RdsDowntimeModal]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.URGENT_ALERT,blocking:!0,whenBlocked:"BACK"}}]}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1172                                                    ),i=t(1173                                 ),a=t(1171                                         ),s=t(1175                                              );n.DSAOnboardingMachine={id:"dsa_onboarding_machine",initialStateId:"await_view",states:[{id:"await_view",type:"EVENT",transitions:[{eventId:"Context Viewed",conditions:[{field:"name",operator:"EQUALS",value:o.TrackedContext.ORG_PAGE}],destinationStateId:"check_if_seen"}]},{id:"check_if_seen",type:"DATA",query:new s.UserFlagQuery("dsa_onboarded"),transitions:[{operator:"EQUALS",value:!1,destinationStateId:"check_non_org_guest"}]},{id:"check_non_org_guest",type:"DATA",query:new s.UserSpaceQuery,transitions:[{operator:"NOT_EQUALS",value:o.UserSpace.ORG,destinationStateId:"await_view"},{operator:"EQUALS",value:o.UserSpace.ORG,destinationStateId:"show_onboarding_gif"}]},{id:"show_onboarding_gif",type:"ACTION",payload:{type:"show_content",onboardingSequence:{steps:[a.DSAOnboarding]}},category:{name:i.RcsCategories.ONBOARDING_MODAL,priority:i.RcsPriorities.SECONDARY_ONBOARDING_MODAL,blocking:!0,whenBlocked:"BACK"}}]}}),
(function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(1177                                                                     ),o=a(1178                                                                   ),_=a(1179                                                                      ),t=a(1182                                                                   ),s=a(1183                                                                     ),r=a(1186                                                             ),c=a(1181                                                                        ),p=a(1187                                                            ),m=a(1188                                                                 ),d=a(1189                                                               ),h=a(1190                                                                    ),f=a(1191                                                                  ),g=a(1192                                                              ),l=a(1193                                                          ),u=(()=>{let e=[t.default,s.default,r.default,_.default,o.default,i.default,c.default,p.default,m.default,f.WarningChromeVersionMachine,g.RdsDowntimeAlertMachine,d.default,l.DSAOnboardingMachine];return e.push(h.default),e})();n.default=u}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(468                                           );n.default=class{constructor(e){this.store=e}handleAction(e,n){"show_content"===e.type&&(this.store.dispatch(o.responsiveContentActions.hideOnboardingSequence()),this.store.dispatch(o.responsiveContentActions.showOnboardingSequence({onboardingSequence:e.onboardingSequence,onboardingModalActionUuid:n}))),"hide_content"===e.type&&this.store.dispatch(o.responsiveContentActions.hideOnboardingSequence())}}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(113          ),r=i(468                                           );class a{constructor(){this.interTabId=void 0,this.dispatch=void 0,this.handleEvent=(e=>{this.interTabId&&this.dispatch&&e.key===this.storageKey&&e.oldValue===a.STORAGE_FLAG&&null===e.newValue&&(this.dispatch(r.responsiveContentActions.hideOnboardingSequenceFromOtherTab({interTabId:this.interTabId})),this.interTabId=void 0,this.removeStorageListener())}),this.awaitHideFromOtherTabs=(e=>{this.interTabId=e,s.localStorageOrNull&&this.storageKey&&(s.localStorageOrNull.setItem(this.storageKey,a.STORAGE_FLAG),this.addStorageListner())}),this.hideInOtherTabs=(()=>{if(!this.interTabId)return;const e=this.storageKey;this.interTabId=void 0,s.localStorageOrNull&&e&&(s.localStorageOrNull.removeItem(e),this.removeStorageListener())})}initialize(e){this.dispatch=e}get storageKey(){if(this.interTabId)return`onboarding_seq::${this.interTabId}`}addStorageListner(){window.addEventListener("storage",this.handleEvent)}removeStorageListener(){window.removeEventListener("storage",this.handleEvent)}}a.STORAGE_FLAG="true";const n=new a;t.default=n}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(1161                       ),o=t(1194                     ),i=t(1175                   ),s=t(1195                      ),a=(t(121              ),t(125                                                           )),c=t(143                ),l=t(1196                                                         );class d{constructor(e,r=new c.ErrorHandler({sourceLanguage:c.SourceLanguage.TYPESCRIPT,executionContext:c.ExecutionContext.WEB_CLIENT})){this.delegate=e,this.errorHandler=r}reset(e){try{this.delegate.reset(e)}catch(r){this.errorHandler.raiseError(r)}}actionCompleted(e,r){try{this.delegate.actionCompleted(e,r)}catch(t){this.errorHandler.raiseError(t)}}handle(e){try{this.delegate.handle(e)}catch(r){this.errorHandler.raiseError(r)}}}r.initializeResponsiveContentEventHandler=function(e){const r=n.JsonMachineProvider.fromJson(o.default,new i.WebQueryProcessor(e),new s.default(e)),t=new n.Handler(r,new n.InMemoryUserMachineContextProvider,new n.InMemoryUserCategoryContextProvider),c=new d(t);!function(e,r){setInterval(()=>{const t=e.getState().user;r.handle({id:"RCS Tick",userId:t?t.id:null,properties:{currentTimeMs:(new Date).getTime()}})},6e4)}(e,c),a.setGlobalResponsiveContentHandler(c),l.default.initialize(e.dispatch)}}),
(function(e,t,a){"use strict";var o=this&&this.__awaiter||function(e,t,a,o){return new(a||(a=Promise))(function(s,i){function l(e){try{n(o.next(e))}catch(t){i(t)}}function c(e){try{n(o.throw(e))}catch(t){i(t)}}function n(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(l,c)}n((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=a(124     ),i=a(423                                         ),l=a(107                             ),c=a(87                      ),n=a(479                                  ),r=a(106                                     ),d=a(94                                   ),m=a(137                             ),f=a(188                             ),u=a(133                               ),p=a(96                     );function _(e,t){s.default.post(`/api/folders/${e.id}/templates`).then(({data:e})=>{e.meta.files.forEach(e=>t(f.file.post({file:e})))}).catch(e=>{})}function h(e){e(n.userFlags.post({flags:{completed_welcome_sequence:!0,welcome_onboarded:!0,file_browser_onboarded:!0,community_hub_onboarded:!0,coco_onboarded:!0}}))}t.welcomeSequence=(e=>t=>(function(a){if(i.welcomeSequenceActions.submitTeamCreate.matches(a)){const c=t(a),f=e.getState(),p=f.user;if(!p)return c;const w=p.email_validated_at?3:4,g=f.welcomeSequence;return g.teamName&&g.folderName&&(g.teamId&&f.teams[g.teamId]&&g.folderId&&f.folders[g.folderId]?function(e,t,a,o,l,c,n,r){const f=[];a!==o?f.push(s.default.put(`/api/teams/${t}`,{name:o})):f.push(Promise.resolve(null)),c!==n?f.push(s.default.put("/api/folders/rename",{folder_id:l,name:n})):f.push(Promise.resolve(null)),Promise.all(f).then(t=>{const a=t[0];a&&e(m.team.put({team:a.data.meta,userInitiated:!1}));const o=t[1];if(o){let t=o.data.meta;for(let a of t)a.id===l&&e(u.folder.put({folder:a}))}}).catch(t=>{t&&t.data&&t.data.message&&e(d.flash.flash(t.data.message))}).then(()=>{e(i.welcomeSequenceActions.teamCreateSuccess({teamId:t,folderId:l})),e(i.welcomeSequenceActions.goToStep(r))})}(e.dispatch,g.teamId,f.teams[g.teamId].name,g.teamName,g.folderId,f.folders[g.folderId].name,g.folderName,w):function(e,t,a,c){o(this,void 0,void 0,function*(){try{const f=(yield s.default.post("/api/teams/create",{team_name:t.trim()})).data.meta;e(m.team.post({team:f}));let p=(yield s.default.get(`/api/roles/team/${f.id}`)).data.meta;for(let t of p)e(l.role.post({role:t,userInitiated:!1}));a=a.trim();let w=(yield s.default.post("/api/folders",{team_id:f.id,path:a,is_invite_only:!1,is_view_only:!1})).data.meta,g=null;for(let e of w)e.name===a&&(g=e);g&&(e(u.folder.post(g)),_(g,e),e(i.welcomeSequenceActions.teamCreateSuccess({teamId:f.id,folderId:g.id}))),e(i.welcomeSequenceActions.goToStep(c)),h(e)}catch(o){console.error(o),e(n.userFlags.post({flags:{completed_welcome_sequence:!0}})),e(r.fileBrowser.selectView({view:"recentFiles"})),e(i.welcomeSequenceActions.teamCreateError()),e(d.flash.flash("Team could not be created. Try again later"))}})}(e.dispatch,g.teamName,g.folderName,w)),c}if(i.welcomeSequenceActions.submitAddCollaborators.matches(a)){const o=e.getState().welcomeSequence;if(o.teamId&&o.collaborators){const t=o.collaborators.filter(e=>e).map(e=>e.trim());t.length>0&&o.teamId&&e.dispatch(l.role.sendInvites({emails:t,resourceType:c.ResourceType.TEAM,resourceIdOrKey:o.teamId,level:c.PermissionLevel.EDITOR}))}return t(a)}if(i.welcomeSequenceActions.exit.matches(a)){const t=e.getState().welcomeSequence;if(t.teamId&&t.folderId)e.dispatch(r.fileBrowser.selectViewByFolderId(t.folderId));else{const t=e.getState().folders;for(let a in t)p.isADraftsFolder(t,a)&&_(t[a],e.dispatch);h(e.dispatch),e.dispatch(r.fileBrowser.selectView({view:"recentFiles"}))}e.dispatch(n.userFlags.post({flags:{should_see_template_file_highlights:!0}}))}return t(a)}))}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(138                                   ),o=t(125                                                           ),a=t(106                                     ),s=t(1175                                              ),r=t(468                                           ),d=t(112                      ),c=t(95                      ),p=t(111                        ),l=t(1172                                                    ),u=t(1196                                                         );function g(e,n){let t=!1;e&&e.team_id&&n.teams[e.team_id]&&(t=c.isTrialActive(n.teams[e.team_id])),d.trackContextView({name:p.isFileTemplate(e.key,n)?l.TrackedContext.TEMPLATE_FILE:l.TrackedContext.EDITOR,isInTrial:t,canEdit:p.canEditFile(e.key,n),fileKey:e.key})}n.rcsMiddleware=(e=>n=>(function(t){var d,c,p;if(i.fullscreen.updateMirror.matches(t)){const i=t.payload&&t.payload.selectionProperties&&t.payload.selectionProperties.derivedProperties.changes;if(i){const{user:n}=e.getState();o.getResponsiveContentHandler().handle({id:"Selection Changed",userId:null===(d=n)||void 0===d?void 0:d.id,properties:Object.assign(Object.assign({},i),{numSelectedTextNodes:i.numSelectedByType&&i.numSelectedByType.TEXT||0})})}return n(t)}if(i.fullscreen.newFileLoaded.matches(t)){const i=n(t);return g(t.payload.file,e.getState()),i}if(a.fileBrowser.selectView.matches(t)){const i=e.getState(),o=s.getTrackedContext(i),a=n(t),d=e.getState(),c=s.getTrackedContext(d),p=i.responsiveContent.onboardingSequence&&i.responsiveContent.onboardingSequence.persistBetweenContexts;if(o===c||p||e.dispatch(r.responsiveContentActions.hideOnboardingSequence()),o!==c&&"fullscreen"===t.payload.view&&t.payload.fileKey){const e=d.fileByKey[t.payload.fileKey];e&&g(e,d)}return a}if(r.responsiveContentActions.hideOnboardingSequence.matches(t)){const{responsiveContent:i,user:a}=e.getState();return i.onboardingModalActionUuid&&a&&o.getResponsiveContentHandler().actionCompleted(a.id,i.onboardingModalActionUuid),(null===(c=i.onboardingSequence)||void 0===c?void 0:c.interTabId)&&u.default.hideInOtherTabs(),n(t)}return r.responsiveContentActions.showOnboardingSequence.matches(t)?((null===(p=t.payload.onboardingSequence)||void 0===p?void 0:p.interTabId)&&u.default.awaitHideFromOtherTabs(t.payload.onboardingSequence.interTabId),n(t)):n(t)}))}),
(function(e,a,i){"use strict";var t=this&&this.__awaiter||function(e,a,i,t){return new(i||(i=Promise))(function(r,d){function l(e){try{o(t.next(e))}catch(a){d(a)}}function n(e){try{o(t.throw(e))}catch(a){d(a)}}function o(e){var a;e.done?r(e.value):(a=e.value,a instanceof i?a:new i(function(e){e(a)})).then(l,n)}o((t=t.apply(e,a||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});const r=i(3,1    ),d=i(7,1        ),l=i(10,1   ),n=i(44,1         ),o=i(128            ),s=i(129                                ),p=i(94                                   ),m=i(106                                     ),f=i(231                                              ),c=i(126          );i(127             );const _=i(124     ),w=i(481                     ),u=i(482          ),g=i(519               ),h=i(401                              ),v=i(520                                 ),y=i(522                                       ),b=i(564                              ),M=i(569                                            ),S=i(604                                      ),E=i(608                                             ),O=i(609                                         ),k=i(610                                           ),R=i(643                            ),T=i(647                                   ),D=i(374                            ),B=i(648                              ),L=i(649                           ),x=i(650                            ),H=i(652                            ),I=i(653                              ),A=i(654                             ),P=i(655                            ),V=i(661                               ),U=i(677                                        ),j=i(678                                            ),C=i(679                             ),F=i(680                               ),W=i(103                 ),X=i(187                             ),N=i(681                                  ),q=i(682                         ),z=i(861                              ),$=i(690                       ),G=i(862                                      ),J=i(864                                       ),Y=i(865                                   ),K=i(1112                                       ),Q=i(1113                                    ),Z=i(1114                                                ),ee=i(1115                        ),ae=i(1116                              ),ie=i(1117                         ),te=i(1132                                        ),re=i(1134                                  ),de=i(1135                          ),le=i(1136                          ),ne=i(1138                                     ),oe=i(1139                                        ),se=i(1141                                  ),pe=i(1142                               ),me=i(1144                                     ),fe=i(198            ),ce=i(1145                               ),_e=i(361                                   ),we=i(1147                     ),ue=i(532                              ),ge=i(1149                                                               ),he=i(702                                                                       ),ve=i(1151                         ),ye=i(219                       ),be=i(195                ),Me=i(85                   ),Se=i(1197                                         ),Ee=i(142                     ),Oe=i(1198                                   ),ke=i(1199                                 ),Re=i(140                               ),Te=(i(127             ),function(){return t(this,void 0,void 0,function*(){try{if(!he.OpenDesktopAppModal.shouldAutoOpen())return;if(!(yield be.canOpenUrlInDesktopApp(location.href)))return;yield new Promise(e=>{d.render(r.createElement(ve.InAppPage,null,r.createElement(ge.DesktopAppInterstitial,{file:Me.initialOptions().editing_file,onDismiss:e})),document.getElementById("react-page"))})}catch(e){return}})}());function De(e){if(!window.performance)return e(),-1;const a=window.performance.now();return e(),window.performance.now()-a}let Be=-1;function Le(){fe.appTimer.start("react-render"),h.dispatchUpdateMirrorIfNecessary().sceneOrVersionHistoryChanged&&Ee.globalReduxStore.dispatch(f.updateLibraryFromPublishedAndLocalData())}function xe(){fe.appTimer.stop("react-render"),_e.keyboardDispatcher.focusIfUnfocused()}function He(e,a){let i=n.connect(e=>Object.assign(Object.assign({},e),{optimist:void 0}))(e);return De(()=>{d.render(r.createElement(n.Provider,{store:a},r.createElement(o.LivegraphProvider,{userId:Me.initialOptions().user_data?Me.initialOptions().user_data.id:null},r.createElement(i,null))),document.getElementById("react-page"))})}a.start=function(e,a){return t(this,void 0,void 0,function*(){Be=window.performance?window.performance.now():-1;let i=l.compose(l.applyMiddleware(u.default,se.orgsMiddleware,g.authMiddleware,T.emailSettingsMiddleware,R.default,W.flashMiddleware,X.visualBellMiddleware,q.default,P.realtime,B.default,D.default,le.default,z.default,L.default,x.default,H.default,I.userFlagsMiddleware,y.default,b.default,M.default,S.default,E.librarySearchMiddleware,O.default,ne.userNotificationsMiddleware,k.componentNotificationsMiddleware,V.default,U.default,j.fileFollowerMiddleware,ke.rcsMiddleware,re.default,$.default,G.keyboardShortcutMiddleware,J.paymentsMiddleware,Y.cartMiddleware,K.prototypeMiddleware,Q.reloadMiddleware,Z.returnToInstanceMiddleware,ee.default,ae.saveStatusMiddleware,ie.default,te.teamAdminMiddleware,F.default,de.default,C.default,N.default,A.default,oe.appWindowMiddleware,v.default,pe.sharedFonts,me.orgRosterResultsMiddleware,Oe.welcomeSequence),e=>e,we.frameReduxBatcher(Le,xe));const r=l.createStore(w.combineAppReducers(),i);Ee.setGlobalReduxStore(r);const d=window.userStateXHR;function n(){return t(this,void 0,void 0,function*(){let e,a=null;_.default.shouldRetryOnStatusCode(d.status)?(delete window.userStateXHR,a=(yield ye.getUserStateRequest(10)).response):(a=d.responseText,delete window.userStateXHR);const i=De(()=>{e=JSON.parse(a)});ye.userStateCallback(),r.dispatch(m.fileBrowser.setUserStateLoaded()),"fullscreen"===U.pathToSelectedView(r.getState(),window.location.pathname).view?r.dispatch(m.fileBrowser.hydrate(e.meta)):o(e.meta,i),Se.initializeResponsiveContentEventHandler(r)})}const o=(i,t)=>{const d=De(()=>{r.dispatch(m.fileBrowser.init())});a&&z.loadBlankFile(r);const l=De(()=>{c.segmentTrackEvent("file-browser-hydrate",{location:"app_entry"}),r.dispatch(m.fileBrowser.hydrate(i))});if(r.getState().selectedView===Re.EMPTY_SELECTED_VIEW){const e='"selectedView" is missing after hydrate '+` fileBrowserHydrateWasHit=${U.fileBrowserHydrateWasHit}`+` selectedViewReducerWasSkipped=${D.selectedViewReducerWasSkipped}`;console.error(e),setTimeout(()=>{throw new Error(e)}),r.dispatch(m.fileBrowser.selectView({view:"recentFiles"}))}r.dispatch(p.flash.init()),Me.initialOptions().promo&&r.dispatch(s.payment.setPromo({promo:Me.initialOptions().promo})),ce.initializeDesktopAppMessageHandler(r);const n=He(e,r);if(ue.initializeTooltipListener(r),window.performance&&performance.now){const e=window.userStateXHRDuration||0;c.segmentTrackEvent("React Load Time",{timeToLoad:Math.round(performance.now()),timeToDOMContentLoaded:Math.round(Be),fileBrowserInitDuration:Math.round(d),jsonParseDuration:Math.round(t||0),hydrateDuration:Math.round(l),initialRenderDuration:Math.round(n),userStateXHRDuration:Math.round(e)})}};if(yield Te,"fullscreen"===U.pathToSelectedView(r.getState(),window.location.pathname).view){const e=Me.initialOptions().editing_file,a=Object.assign(Object.assign({},Me.emptyUserState),{user_flags:Me.initialOptions().user_flags,files:[e]});o(a)}4===d.readyState?n():(d.addEventListener(_.default.Events.ABORT,n,!1),d.addEventListener(_.default.Events.TIMEOUT,n,!1),d.addEventListener(_.default.Events.ERROR,n,!1),d.addEventListener(_.default.Events.LOAD,n,!1))})}}),
(function(i,n,t){i.exports={buttonContainer:"email_validation_modal--buttonContainer--1Iuou",instructions:"email_validation_modal--instructions--ax5m3",settingsLink:"email_validation_modal--settingsLink--1Uek0 blue_link--blueLink--22X56"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(240                             ),s=t(106                                     ),n=t(3,1    ),l=t(1201                          ),o=t(227                                 ),r=t(224                                            ),m=t(332                         );class c extends n.Component{constructor(e){super(e),this.state={validationEmailResent:!1}}onClickUpdateEmail(e){e.preventDefault(),this.props.dispatch(s.fileBrowser.selectView({view:"user",userId:this.props.user.id,userViewTab:m.UserViewTab.SETTINGS}))}onClickResend(e){e.preventDefault(),this.state.validationEmailResent||(this.setState({validationEmailResent:!0}),this.props.dispatch(a.user.sendValidationEmail()))}render(){return n.createElement(o.Modal,Object.assign({disableClickOutsideToHide:!0,title:"Please confirm your email address",size:"medium"},this.props),n.createElement("div",{className:l.instructions},`To continue using Figma, please click the confirmation link in the email we sent to\n          ${this.props.user.email}. Check your spam folder if the email isn't showing up in your\n          inbox.`,n.createElement("br",null),n.createElement("br",null),"If you need to update your email address, you can visit ",n.createElement("a",{onClick:this.onClickUpdateEmail.bind(this),className:l.settingsLink},"the settings page"),"."),!this.state.validationEmailResent&&n.createElement("div",{className:l.buttonContainer},n.createElement(r.ButtonPrimary,{onClick:this.onClickResend.bind(this)},"Resend Email")))}}i.EmailValidationModal=c,c.displayName="EmailValidationModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),i=s(106                                     ),o=s(227                                 ),l=s(224                                            ),n=s(228          );class r extends a.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(e.focus(),e.select())}),this.hideModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){let e=this.props.modal;return a.createElement(o.Modal,Object.assign({size:"small",className:n.modal},this.props),a.createElement("div",null,"Copy link to share this item:"),a.createElement("input",{className:n.textInput,value:e.data.link,readOnly:!0,ref:this.inputRef}),a.createElement("div",{className:n.buttonRow},a.createElement(l.ButtonPrimary,{className:n.confirmButton,onClick:this.hideModal},"Done")))}}t.TileCopyLinkModal=r,r.displayName="TileCopyLinkModal"}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const a=n(3,1    ),t=n(227                                 );class i extends a.Component{render(){let e=this.props.modal;return a.createElement(t.ConfirmationModal,Object.assign({content:e.data.message,confirmText:"Move",onConfirm:e.data.onConfirm,onCancel:e.data.onCancel},this.props))}}o.FileMoveConfirmModal=i,i.displayName="FileMoveConfirmModal"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(3,1    ),l=o(133                               ),r=o(227                                 ),s=o(228          );class d extends i.Component{deleteFolder(e){this.props.dispatch(l.folder.del({folderId:e.id,userInitiated:!0}))}numFilesInFolder(e){return this.props.fileKeysByFolderId[e].length}render(){let e=this.props.modal,t=this.props.folders[e.data.folderId],o=this.numFilesInFolder(t.id);return i.createElement(r.ConfirmationModal,Object.assign({confirmationTitle:"Delete project",destructive:!0,confirmText:"Delete project",onConfirm:this.deleteFolder.bind(this,t)},this.props),i.createElement("span",{className:s.important},'Are you sure you want to delete "',t.name,'"? '),o>0&&`This will also delete ${o} ${1===o?"file":"files"} in this project. `,"You can't undo this action.")}}t.FolderDeleteConfirmModal=d,d.displayName="FolderDeleteConfirmModal"}),
(function(l,o,e){l.exports={src:'<svg width="32" height="56" viewBox="0 0 32 56" xmlns="http://www.w3.org/2000/svg"><path d="M2.724 16.94c-1.194.008-2.206-.707-2.579-1.825-.014-.043-.026-.085-.038-.127-.407-1.43.381-2.927 1.794-3.406l22.654-7.635c.275-.08.552-.12.827-.121 1.226-.01 2.265.722 2.647 1.862l.034.11c.424 1.49-.63 2.82-1.89 3.247-.002 0-.231.078-22.53 7.737-.3.102-.61.154-.92.157z" fill-rule="nonzero" fill-opacity="1" fill="#70cadb" stroke="none"/><path d="M6.5 28.146c-1.204.009-2.219-.697-2.587-1.798l-.04-.127c-.411-1.447.376-2.96 1.793-3.44l22.655-7.704c.293-.098.595-.148.899-.151 1.207-.01 2.267.732 2.64 1.846l.035.116c.22.77.09 1.634-.345 2.317-.324.508-1.347.954-1.347.954L7.462 27.981c-.317.106-.64.163-.962.165z" fill-rule="nonzero" fill-opacity="1" fill="#e01765" stroke="none"/><path d="M25.358 28.195c-1.208.01-2.278-.758-2.663-1.907l-7.56-22.591-.038-.127c-.41-1.44.378-2.943 1.79-3.422.282-.095.574-.145.868-.148.437-.003.86.096 1.258.294.665.333 1.163.907 1.401 1.616l7.56 22.589.022.072c.425 1.496-.361 3-1.773 3.478-.28.094-.57.143-.865.146z" fill-rule="nonzero" fill-opacity="1" fill="#e8a723" stroke="none"/><path d="M14.12 32c-1.208.01-2.28-.758-2.665-1.909L3.897 7.502l-.039-.125c-.409-1.44.377-2.943 1.788-3.423.282-.094.573-.143.866-.146 1.209-.01 2.279.757 2.664 1.907l7.56 22.591.038.125c.41 1.44-.377 2.945-1.79 3.424-.281.094-.572.143-.865.146z" fill-rule="nonzero" fill-opacity="1" fill="#3eb890" stroke="none"/><path d="M21.631 23.107l5.272-1.813-1.724-5.148-5.277 1.794 1.729 5.167z" fill-rule="nonzero" fill-opacity="1" fill="#cc2027" stroke="none"/><path d="M10.41 26.967l5.271-1.813-1.736-5.188-5.277 1.795 1.742 5.206z" fill-rule="nonzero" fill-opacity="1" fill="#361238" stroke="none"/><path d="M17.878 11.894l5.272-1.811-1.703-5.088-5.282 1.78 1.713 5.119z" fill-rule="nonzero" fill-opacity="1" fill="#65863a" stroke="none"/><path d="M6.655 15.748l5.273-1.811-1.724-5.153-5.282 1.78 1.733 5.184z" fill-rule="nonzero" fill-opacity="1" fill="#1a937d" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(3,1    ),s=a(7,1        ),i=a(106                                     ),n=a(133                               ),l=a(96                     ),c=a(227                                 ),r=a(224                                            ),m=a(228          ),d=a(174                        ),f=a(1206                                   );class h extends o.Component{constructor(){super(...arguments),this.focusButtonRef=(e=>{e&&s.findDOMNode(e).focus()}),this.turnOffNotifications=(()=>{let e=this.props.modal,t=this.props.folders[e.data.folderId];this.props.dispatch(n.folder.turnOffSlackNotifications(t)),this.props.dispatch(i.fileBrowser.hideModal())}),this.hide=(()=>this.props.dispatch(i.fileBrowser.hideModal()))}render(){let e=this.props.modal,t=this.props.folders[e.data.folderId],a=l.getFolderName(t),s=l.getSlackChannelName(t);return s?o.createElement(c.Modal,Object.assign({size:400,className:m.modal},this.props),o.createElement(d.Svg,{svg:f,useOriginalSrcFills:!0}),o.createElement("div",{className:m.title},"Notifications are going to ",s," on ",l.getSlackTeamName(t)),o.createElement("div",{className:m.modalContent},"Whenever someone comments on a file in the ‘",a,"’ project, a notification will be posted to this channel."),o.createElement("div",{className:m.buttonRow},o.createElement(r.Link,{className:m.left,href:l.getWebhookUrl(t),ref:this.focusButtonRef},"Change channel..."),o.createElement(r.ButtonSecondary,{onClick:this.turnOffNotifications,className:m.button},"Turn off notifications"),o.createElement(r.ButtonPrimary,{onClick:this.hide,className:m.confirmButton},"Done"))):o.createElement(c.Modal,Object.assign({size:"small",className:m.modal},this.props),o.createElement(d.Svg,{svg:f,useOriginalSrcFills:!0}),o.createElement("div",{className:m.title},"Get notifications in Slack"),o.createElement("div",{className:m.modalContent},"Choose a slack channel to notify whenever someone comments on a file in the ‘",a,"’ project. Notifications are encrypted."),o.createElement("div",null,o.createElement("div",{className:m.buttonRow},o.createElement(r.ButtonSecondary,{className:m.cancelLink,onClick:this.hide,ref:this.focusButtonRef},"Cancel"),o.createElement(r.ButtonLink,{className:m.primaryButtonLink,href:l.getWebhookUrl(t)},"Choose a channel..."))))}}t.FolderSlackSettingsModal=h,h.displayName="FolderSlackSettingsModal"}),
(function(i,o,e){i.exports={modalWrapper:"org_invite_modal--modalWrapper--2H50q",description:"org_invite_modal--description--2Cx7A",orgGuestEmails:"org_invite_modal--orgGuestEmails--2fT2C",orgGuestLink:"org_invite_modal--orgGuestLink--27GQZ blue_link--blueLink--22X56"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(3,1    ),s=i(106                                     ),a=i(295                                   ),n=i(134                             ),r=i(136                            ),p=i(136                            ),l=i(233        ),m=i(111                        ),c=i(611                 ),d=i(164         ),h=i(211                            ),u=i(109                        ),g=i(235                              ),E=i(620                                                 ),_=i(363                                              ),v=i(227                                 ),f=i(627                                              ),T=i(224                                            ),I=i(1208                    ),y=i(228           );var w;!function(e){e.UNEXPANDED="unexpanded",e.EXPANDED="expanded"}(w||(w={}));class D extends o.PureComponent{constructor(e){super(e),this.onClose=(()=>{this.props.dispatch(n.orgs.selectAdminView({view:"members"})),this.props.dispatch(s.fileBrowser.showModal({type:r.ORG_DASHBOARD_MODAL}))}),this.sendInvites=(e=>{this.props.dispatch(a.orgInvites.postRequest({emails:g.toEmailList(e),accountType:this.state.accountType}))}),this.onValidateToken=(e=>{const t=l.isEmail(e)&&this.props.orgById[this.props.currentOrgId].domain_capture,i=l.isEmail(e)&&c.isEmailInOrgsDomain(this.props.orgDomains.domains,e);return{email:e,state:t||i?h.AutocompleteTokenState.OK:h.AutocompleteTokenState.ERROR,user:null}}),this.submit=(e=>{if(this.props.orgDomains.domains.length>=1){let t=g.toEmailList(e).filter(e=>l.isEmail(e)&&!c.isEmailInOrgsDomain(this.props.orgDomains.domains,e));if((t=[...new Set(t)]).length>0)return void this.props.dispatch(s.fileBrowser.showModal({type:p.CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL,data:{emails:t,onConfirm:()=>{this.sendInvites(e)}}}))}this.sendInvites(e)}),this.onInviteLevelChange=(e=>{this.setState({accountType:e})}),this.onExpandDescription=(()=>{this.setState({descriptionMode:w.EXPANDED})});const t=this.props.orgById[this.props.currentOrgId];this.state={accountType:t.domain_capture?u.OrgUserAccountType.FULL:u.OrgUserAccountType.STARTER,descriptionMode:t.domain_capture?null:w.UNEXPANDED}}renderDescriptionText(){const e=this.props.orgDomains.domains.map(e=>e.domain);switch(this.state.descriptionMode){case w.UNEXPANDED:const t=e[0],i=e.length-1;return o.createElement("p",{className:I.description},"You are only allowed to invite members with @",t," ",i>0&&o.createElement("span",null,"(",o.createElement(T.LinkInline,{onClick:this.onExpandDescription},"+",i," more"),")")," email addresses.");case w.EXPANDED:return o.createElement("div",null,o.createElement("p",{className:I.description},"You are only allowed to invite members with ",o.createElement(f.JoinNaturally,{includeOxfordDelimiter:!0},e.map(e=>o.createElement("span",{key:e},"@",e)))," email addresses."))}}render(){const e=this.props.orgById[this.props.currentOrgId];return e.domain_capture?o.createElement(_.HeaderModal,{title:"Invite members",onClose:this.onClose},o.createElement("div",{className:I.modalWrapper},o.createElement("p",{className:I.description},"New members will receive an email invitation to get started with Figma after you upload their information."),o.createElement(E.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Invite",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownKey:"org-invite-account-type-dropdown",getSelectText:m.getOrgAccountTypeString,inviteLevel:this.state.accountType,isSubmitting:this.props.idpUserById.isCreatingOrgInvite,onInviteLevelChange:this.onInviteLevelChange,options:[u.OrgUserAccountType.FULL,u.OrgUserAccountType.RESTRICTED],onSubmit:this.submit,validateToken:this.onValidateToken}))):o.createElement(_.HeaderModal,{title:"Invite members to "+e.name,onClose:this.onClose},o.createElement("div",{className:I.modalWrapper},this.renderDescriptionText(),o.createElement(E.TokenForm,{autocomplete:this.props.autocomplete,buttonText:"Send Invite",dispatch:this.props.dispatch,dropdownShown:null,inviteLevel:this.state.accountType,isSubmitting:this.props.idpUserById.isCreatingOrgInvite,onSubmit:this.submit,validateToken:this.onValidateToken})))}}t.OrgInviteModal=D,D.displayName="ViewRestrictedFileModal";t.ConfirmWhitelistOrgGuestInviteModal=class extends o.PureComponent{render(){return o.createElement(v.ConfirmationModal,{confirmationTitle:"Are you sure?",confirmText:"Invite",disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,popStack:!0,size:400},o.createElement("div",{className:y.modalContent},o.createElement(o.Fragment,null,"You are inviting"," ",o.createElement(f.JoinNaturally,{className:I.orgGuestEmails},this.props.emails)," ","who ",d.getPluralOrSingular(this.props.emails.length,"is","are")," external to your Organization. ",o.createElement("a",{className:I.orgGuestLink,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/360039960434"},"Learn more"))))}}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(3,1    ),n=o(227                                 ),s=o(228          );class r extends a.Component{render(){let e=this.props.modal,t=e.data.folder,o=this.props.teams[t.team_id];const r=e.data.destinationTeam;return a.createElement(n.ConfirmationModal,Object.assign({content:a.createElement("span",null,"Are you sure you want to move ",a.createElement("span",{className:s.important},t.name)," to ",a.createElement("span",{className:s.important},r.name),"? Members of ",a.createElement("span",{className:s.important},o.name)," will no longer be able to access this project, unless you explicitly invite them."),confirmText:"Move Project",confirmationTitle:"Are you sure you want to move this project?",onConfirm:e.data.onConfirm},this.props))}}t.TeamFolderMoveConfirmModal=r,r.displayName="TeamFolderMoveConfirmModal"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(3,1    ),n=o(227                                 );class i extends s.Component{constructor(){super(...arguments),this.getUsers=(()=>{const e=this.props.usersWithoutFileAccess;if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");{const e=[...this.props.usersWithoutFileAccess],t=e.length-1;return e[t]=`and ${e[t]}`,e.join(", ")}})}render(){const e=1===this.props.usersWithoutFileAccess.length;let t=`${this.getUsers()} ${e?"doesn’t":"don’t"} currently have access to this file. Would you like to give them view only access?`;return"prototype"===this.props.selectedView.view&&(t=`${this.getUsers()} ${e?"doesn’t":"don’t"} currently have access to this prototype. Would you like to give them view only access to this prototype and the file it's derived from?`),s.createElement(n.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:t,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmText:"Share and comment",size:"small"},this.props))}}t.CommentMentionConfirmModal=i,i.displayName="CommentMentionConfirmModal"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(3,1    ),s=o(438                                 ),i=o(227                                 );class m extends n.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.dispatch(s.comments.setDeleted({comment:this.props.comment}))})}render(){return n.createElement(i.ConfirmationModal,Object.assign({size:400,content:"Are you sure you want to delete this comment? This will delete all of its replies as well.",onConfirm:this.onConfirm,confirmText:"Delete"},this.props))}}t.CommentDeleteConfirmModal=m,m.displayName="CommentDeleteConfirmModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    );class n extends i.Component{constructor(e){super(e),this.tick=(()=>{this.setState({maxIndex:this.state.maxIndex+this.props.chunkSize}),this.frameRequest=null,this.tickIfNeeded()}),this.tickIfNeeded=(()=>{this.frameRequest||(i.Children.count(this.props.children)<this.state.maxIndex?this.props.onAllChunksRendered&&this.props.onAllChunksRendered():this.frameRequest=requestAnimationFrame(this.tick))}),this.state={maxIndex:0},this.frameRequest=null}componentDidMount(){this.tickIfNeeded()}UNSAFE_componentWillReceiveProps(e){this.props.listKey!==e.listKey&&(this.setState({maxIndex:this.props.chunkSize}),this.tickIfNeeded())}componentDidUpdate(){this.tickIfNeeded()}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){const e=i.Children.toArray(this.props.children).slice(0,this.state.maxIndex);return i.createElement("div",{className:this.props.className},e)}}t.RenderListByChunks=n,n.displayName="RenderListByChunks"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canShowSharedFonts=function(e){if("team"!==e.selectedView.view)return!1;const t=e.teams[e.selectedView.teamId];return!!t&&null!=t.org_id}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(537                );class s extends o.ColorFormatter{constructor(){super(...arguments),this.hexToFloat=(t=>this.normalize(parseInt(t,16))),this.floatToHex=(t=>{let e=this.normalize255(t).toString(16);return 1===e.length&&(e="0"+e),e}),this.repeat=(t=>new Array(3).join(t)),this.parse=((t,e)=>{const r=/[^0-9a-f]*([0-9a-f]*)/i.exec(t);if(!r)throw new Error("Could not parse hex");const o=r[1],s=e?e.a:1;if(o.length>=6){return{r:this.hexToFloat(o.substring(0,2)),g:this.hexToFloat(o.substring(2,4)),b:this.hexToFloat(o.substring(4,6)),a:s}}if(o.length>=3){return{r:this.hexToFloat(this.repeat(o[0])),g:this.hexToFloat(this.repeat(o[1])),b:this.hexToFloat(this.repeat(o[2])),a:s}}if(2===o.length){const t=this.hexToFloat(o);return{r:t,g:t,b:t,a:s}}if(1===o.length){const t=this.hexToFloat(this.repeat(o));return{r:t,g:t,b:t,a:s}}throw new Error("Could not parse hex")}),this.format=(t=>{return`#${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.formatForAndroid=(t=>{if(1===t.a)return this.format(t);return`#${this.floatToHex(t.a)}${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=2||s&&3===r)&&(a.r=!0),(r<=4&&o>3||s&&5===r)&&(a.g=!0),(r<=6&&o>5||s&&7===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r})}}e.ColorHexFormatter=s;e.ColorHexFormatterWithoutHash=class extends s{constructor(){super(...arguments),this.format=(t=>`${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=1||s&&2===r)&&(a.r=!0),(r<=3&&o>2||s&&4===r)&&(a.g=!0),(r<=5&&o>4||s&&6===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r.start-=1,r.end-=1,r})}}}),
(function(e,t,o){e.exports={tileNoBg:"component_tile--tileNoBg--22oxb",tile:"component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",tileWithBorder:"component_tile--tileWithBorder--28I0l component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",thumbWrapper:"component_tile--thumbWrapper--1TJn_","border-deleted":"component_tile--border-deleted--3oVbn","border-new":"component_tile--border-new--qtK7o",thumb:"component_tile--thumb--2Yg4u",name:"component_tile--name--NlmqO ellipsis--ellipsis--1RWY6",statusIcon:"component_tile--statusIcon---18t1","icon-new":"component_tile--icon-new--3An-6","icon-deleted":"component_tile--icon-deleted--3lyXS",selection:"component_tile--selection--33IvL",badge:"component_tile--badge--2IMHY",actionBadge:"component_tile--actionBadge--2maHh component_tile--badge--2IMHY",updateBadge:"component_tile--updateBadge--1vu0f",descriptionPopoutContainer:"component_tile--descriptionPopoutContainer--2ruV0 text--_whiteText--2PkdM",descriptionPopoutArrow:"component_tile--descriptionPopoutArrow--LAh68",privateOutline:"component_tile--privateOutline--1HGFS",privateComponent:"component_tile--privateComponent--1xA1U"}}),
(function(i,t,e){i.exports={localComponentsHeaderHeight:"40px",tilePaddingGrid:"12px",tilePaddingList:"6px",tileMargin:"16px",tileThumbHeightList:"24px",tileHeightList:"30px",tileHeightDraggingList:"128px",h1Height:"36px",h3Height:"30px"}}),
(function(l,o,t){l.exports={src:'<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M11.861 1.84l.556 3.889-3.89.555 1.39-1.852c-1.504-.513-3.236-.169-4.436 1.03-.859.86-1.279 1.99-1.26 3.116l-1.191.744c-.248-1.68.275-3.45 1.567-4.743 1.65-1.65 4.077-2.045 6.1-1.187l1.164-1.552zM6.357 13.624c2.022.855 4.449.46 6.097-1.189 1.292-1.291 1.815-3.062 1.568-4.74l-1.191.743c.017 1.125-.403 2.255-1.26 3.114-1.2 1.199-2.93 1.543-4.434 1.032l1.39-1.855-3.888.556.555 3.888 1.163-1.55z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(3,1    ),n=o(7,1        ),r=o(172              ),i=o(146                                          ),p=o(340              ),a=o(1095       ),l=o(145         ),c=o(147                       ),u=o(1215                                      ),h=o(538                                       ),m=o(174                        ),d=o(1216                  ),g=o(1217                                 ),f=o(411                                        ),C=o(154                                      ),b=o(163                               ),y=o(536                    );t.DEFAULT_SIZE=120,t.THUMB_PADDING=p.pxToInt(g.tilePaddingGrid);const M=p.pxToInt(f.toolbarHeight),w=p.pxToInt(g.localComponentsHeaderHeight),N=o(1218                                ),_=new u.ColorHexFormatter,E=new h.ColorCSSFormatter;function v(e){if(e.containing_frame&&e.containing_frame.backgroundColor){const t=e.containing_frame.backgroundColor,o="#"==t[0]?_.parse(t):E.parse(t);return 0==o.a?null:(o.a=1,o)}return null}t.backgroundColorToUseForComponent=v;class T extends s.PureComponent{render(){const{component:e}=this.props,t={},o=v(this.props.component);return o&&(t.background=E.format(o)),s.createElement(x,Object.assign({backgroundColor:o},this.props),s.createElement(F,Object.assign({},this.props,{className:void 0})),this.props.showName&&s.createElement("div",{className:d.name,style:t},e.name))}}t.ComponentTile=T,T.displayName="ComponentTile";class S extends s.PureComponent{constructor(){super(...arguments),this.ref=(e=>{this.el=n.findDOMNode(e)}),this.onFullscreenScrollToNode=(({nodeId:e})=>{if(e===this.props.component.node_id&&this.el){const e=this.el.getBoundingClientRect();e.top<M+w?this.el.scrollIntoView():e.bottom>window.innerHeight-M&&this.el.scrollIntoView(!1)}}),this.onMouseUp=(e=>{e.stopPropagation()})}componentDidMount(){i.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode);const e=b.Fullscreen&&b.Fullscreen.getFirstSelectedNodeIdForCurrentPage();e&&this.onFullscreenScrollToNode({nodeId:e})}componentWillUnmount(){i.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}render(){const e=this.props.component,t=this.props.isFilePublished&&(e.status===c.LibraryStatus.NOT_STAGED||e.status===c.LibraryStatus.DELETED),o={},n=t?null:v(this.props.component);if(n){o.background=E.format(n);const e=a.blackOrWhiteContrastingColor(n);e.a=.6,o.color=E.format(e)}return s.createElement(x,Object.assign({ref:this.ref},this.props,{onMouseUp:this.onMouseUp,className:t?d.privateComponent:void 0,backgroundColor:n}),s.createElement(F,Object.assign({},this.props)),s.createElement("div",{className:d.name,style:o},e.name),this.props.selected&&s.createElement("div",{className:d.selection}),t&&!this.props.selected&&s.createElement("div",{className:d.privateOutline}))}}t.LocalLibraryItemTile=S,S.displayName="LocalLibraryItemTile";class k extends s.PureComponent{render(){return s.createElement(m.Svg,{svg:N,className:`${d.updateBadge} ${this.props.className||""}`})}}t.UpdateBadge=k,k.displayName="UpdateBadge";class x extends s.PureComponent{constructor(){super(...arguments),this.state={popoutStyle:null,popoutArrowStyle:null},this.ref=(e=>{this.el=e}),this.popoutRef=(e=>{this.popout=e}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const e=this.el.getBoundingClientRect(),t=(e.top+e.bottom)/2,o=this.popout.offsetHeight,s=M+6,n=window.innerHeight-o-6;let r=t-o/2;r=Math.min(r,n),r=Math.max(r,s),this.setState({popoutStyle:{left:e.right+9,top:r},popoutArrowStyle:{left:e.right,top:t}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:null,popoutArrowStyle:null})})}render(){let e=this.props.size||t.DEFAULT_SIZE;e%2==1&&(e-=1);let o=this.props.noBackground?d.tileNoBg:d.tile;const n=Object.assign({width:e,height:e},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(C.shouldUseBorderForBackground(this.props.backgroundColor)&&(o=d.tileWithBorder),n.background=E.format(this.props.backgroundColor)),s.createElement("div",{ref:this.ref,className:`${o} ${this.props.className||""}`,style:n,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,this.props.component.description&&!this.props.contextMenuShown&&s.createElement("div",{className:d.descriptionPopoutContainer,style:this.state.popoutStyle||void 0,ref:this.popoutRef},this.props.component.description,s.createElement("div",{className:d.descriptionPopoutArrow,style:this.state.popoutArrowStyle||void 0})))}}x.displayName="ComponentWrapper";class F extends r.Component{constructor(){super(...arguments),this.onMouseDown=r.mouseEvent(this,"mousedown",e=>{this.props.onComponentMouseDown&&this.props.onComponentMouseDown(e,this.props.component)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new l.Vector(t.left,t.top),s=new l.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new l.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size||0,o=this.props.size||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}}),this.onClick=(e=>{this.props.onComponentClick&&this.props.onComponentClick(this.props.component)}),this.onContextMenu=r.mouseEvent(this,"contextmenu",e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new l.Vector(t.left,t.top),s=new l.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new l.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size||0,o=this.props.size||0;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}})}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){const{component:e}=this.props,o=this.props.size||t.DEFAULT_SIZE;let n=o;return o%2==1&&(n=o-1),s.createElement("div",{className:`${d.thumbWrapper} ${this.props.className||""}`,style:{width:2*n,height:2*n},onClick:this.onClick,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},s.createElement(y.ComponentImageContainer,{className:d.thumb,component:e,shouldFetch:!1}))}}F.displayName="ComponentThumb"}),
(function(e,t,a){e.exports={scrollContainer:"updates--scrollContainer--2pkY7",updatesContent:"updates--updatesContent--fZ0Zt updates--scrollContainer--2pkY7",updatesTeamSection:"updates--updatesTeamSection--oIzVP",updatesTeamHeader:"updates--updatesTeamHeader--1SPa-",updateRow:"updates--updateRow--3D3bW",updateTile:"updates--updateTile--1e5VZ",updateDeets:"updates--updateDeets--1Cp6S",updateComponentName:"updates--updateComponentName--338bg",updateSubText:"updates--updateSubText--2t9vN",updateFooter:"updates--updateFooter--1JjnE",updateButton:"updates--updateButton--3lvlN"}}),
(function(e,r,o){e.exports={scrollContainer:"library_preferences_modal--scrollContainer--1ssqn",componentAvatar:"library_preferences_modal--componentAvatar--2UGRS",orgDashboardModal:"library_preferences_modal--orgDashboardModal--RLFhM",fileListView:"library_preferences_modal--fileListView--hKVBM",fileView:"library_preferences_modal--fileView--1kR_M",modal:"library_preferences_modal--modal--eeT9M",header:"library_preferences_modal--header--p1hw3",tabs:"library_preferences_modal--tabs--2RgSw",newBadge:"library_preferences_modal--newBadge--2hGUA",modalContentContainer:"library_preferences_modal--modalContentContainer--2XR4r",sharedFonts:"library_preferences_modal--sharedFonts--1hG-3",spinner:"library_preferences_modal--spinner--2kbHm",slidingPaneContainer:"library_preferences_modal--slidingPaneContainer--3oziB",slidingPane:"library_preferences_modal--slidingPane--2C_Nx",slidingPaneRight:"library_preferences_modal--slidingPaneRight---x1w_ library_preferences_modal--slidingPane--2C_Nx",slidingPaneLeft:"library_preferences_modal--slidingPaneLeft--2_5u7 library_preferences_modal--slidingPane--2C_Nx",searchContainer:"library_preferences_modal--searchContainer--1Vprg modal--searchContainer--itrA5",backCaret:"library_preferences_modal--backCaret--2ohIl",info:"library_preferences_modal--info--1a4bO",teamSubscriptionHint:"library_preferences_modal--teamSubscriptionHint--2YuvF text--fontPos11--RSei3 text--_fontBase--YWDo0",teamSectionsWrapper:"library_preferences_modal--teamSectionsWrapper--2cDFo",overviewStats:"library_preferences_modal--overviewStats--3caNW",statBlock:"library_preferences_modal--statBlock--3deUo",componentDescriptionAndImage:"library_preferences_modal--componentDescriptionAndImage--3MGH8",componentDescription:"library_preferences_modal--componentDescription--1dr6F text--fontPos14--3UJ36 text--_fontBase--YWDo0",componentImage:"library_preferences_modal--componentImage--3uPrq library_preferences_modal--componentAvatar--2UGRS",stat:"library_preferences_modal--stat--32g4T text--fontPos14--3UJ36 text--_fontBase--YWDo0",rounder:"library_preferences_modal--rounder--2PB0s",allComponentsTable:"library_preferences_modal--allComponentsTable--PSezM",headerRow:"library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",headerRowOverview:"library_preferences_modal--headerRowOverview--2DYSH library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",headerRowAllComponentTable:"library_preferences_modal--headerRowAllComponentTable--3S2i4 library_preferences_modal--headerRow--2w5fH text--fontPos11--RSei3 text--_fontBase--YWDo0",row:"library_preferences_modal--row--3Rf0P text--fontPos11--RSei3 text--_fontBase--YWDo0",statsColumn:"library_preferences_modal--statsColumn--vOBxb text--fontPos11--RSei3 text--_fontBase--YWDo0",statsColVal:"library_preferences_modal--statsColVal--1aEdu library_preferences_modal--statsColumn--vOBxb text--fontPos11--RSei3 text--_fontBase--YWDo0",selected:"library_preferences_modal--selected--Z2NAU",avatarColumn:"library_preferences_modal--avatarColumn--1Epfo text--fontPos11--RSei3 text--_fontBase--YWDo0",avatarColumnComponentName:"library_preferences_modal--avatarColumnComponentName--3xRWC ellipsis--ellipsis--1RWY6",caretColumn:"library_preferences_modal--caretColumn--1VjT4",sortableCol:"library_preferences_modal--sortableCol--3T4yM",nameCol:"library_preferences_modal--nameCol--2AEYT",numCol:"library_preferences_modal--numCol--2ED53",numColGray:"library_preferences_modal--numColGray--3qjVg",numColVal:"library_preferences_modal--numColVal--1L2qB library_preferences_modal--numCol--2ED53 library_preferences_modal--numColGray--3qjVg",componentNumCol:"library_preferences_modal--componentNumCol--NAFRZ library_preferences_modal--numCol--2ED53 text--fontPos11--RSei3 text--_fontBase--YWDo0",componentNumColVal:"library_preferences_modal--componentNumColVal--2grR8 library_preferences_modal--componentNumCol--NAFRZ library_preferences_modal--numCol--2ED53 text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewFileNameCol:"library_preferences_modal--oneComponentViewFileNameCol--3QSZL text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewTeamCol:"library_preferences_modal--oneComponentViewTeamCol--3o6Iz text--fontPos11--RSei3 text--_fontBase--YWDo0",oneComponentViewTeamColDrafts:"library_preferences_modal--oneComponentViewTeamColDrafts--39Cyl library_preferences_modal--oneComponentViewTeamCol--3o6Iz text--fontPos11--RSei3 text--_fontBase--YWDo0",teamSection:"library_preferences_modal--teamSection--1o2xv",sectionHeader:"library_preferences_modal--sectionHeader--2Ot7E",teamSectionHeader:"library_preferences_modal--teamSectionHeader--3-z3w library_preferences_modal--sectionHeader--2Ot7E",fileRowNoHover:"library_preferences_modal--fileRowNoHover--36k7n",fileRow:"library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",componentRowNoHover:"library_preferences_modal--componentRowNoHover--Xdkfq text--fontPos11--RSei3 text--_fontBase--YWDo0",componentRow:"library_preferences_modal--componentRow--1VKKe library_preferences_modal--componentRowNoHover--Xdkfq text--fontPos11--RSei3 text--_fontBase--YWDo0",fileRowCaretRightWrapper:"library_preferences_modal--fileRowCaretRightWrapper--3aXfJ",componentRowCaretRightWrapper:"library_preferences_modal--componentRowCaretRightWrapper--3JJun",updatesRow:"library_preferences_modal--updatesRow--1EDca library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",updateBadge:"library_preferences_modal--updateBadge--2As4y",nameAndToggle:"library_preferences_modal--nameAndToggle--os21t",longNameAndToggle:"library_preferences_modal--longNameAndToggle--3VVx1 library_preferences_modal--nameAndToggle--os21t",teamNameHover:"library_preferences_modal--teamNameHover--3uuwi text--fontPos12--3tEpz text--_fontBase--YWDo0",componentOrFileName:"library_preferences_modal--componentOrFileName--B2tBN ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0",componentOrFileViewHeader:"library_preferences_modal--componentOrFileViewHeader--2NAhE",fileItemCount:"library_preferences_modal--fileItemCount--V5-bP",countCols:"library_preferences_modal--countCols--3ebRK",subscriptionToggleContainer:"library_preferences_modal--subscriptionToggleContainer--cewHU",disabledSubscriptionToggleContainer:"library_preferences_modal--disabledSubscriptionToggleContainer--1SF04 library_preferences_modal--subscriptionToggleContainer--cewHU",subscribeLabel:"library_preferences_modal--subscribeLabel--FJCFH",_toggleState:"library_preferences_modal--_toggleState--1xz0Y",toggleOff:"library_preferences_modal--toggleOff--1QJ-V library_preferences_modal--_toggleState--1xz0Y",toggle:"library_preferences_modal--toggle--2FDXk",toggleOn:"library_preferences_modal--toggleOn--24sB7 library_preferences_modal--_toggleState--1xz0Y",libraryModalHintSpacer:"library_preferences_modal--libraryModalHintSpacer--1wN3u",libraryModalHint:"library_preferences_modal--libraryModalHint--JLkri text--fontPos11--RSei3 text--_fontBase--YWDo0",libraryModalHintText:"library_preferences_modal--libraryModalHintText--3bKEc",prefixText:"library_preferences_modal--prefixText--1_bl7",link:"library_preferences_modal--link--2M16y blue_link--blueLink--22X56",dismissLibraryModalHint:"library_preferences_modal--dismissLibraryModalHint--3KReI",bestMatches:"library_preferences_modal--bestMatches--PTVEZ",bestMatchesSpacer:"library_preferences_modal--bestMatchesSpacer--2nyqG",currentFileView:"library_preferences_modal--currentFileView--1_-vn library_preferences_modal--fileView--1kR_M",fileViewDSA:"library_preferences_modal--fileViewDSA--3gnFX",fileViewDSAWithFooter:"library_preferences_modal--fileViewDSAWithFooter--2XXFk",fileViewDSANoTab:"library_preferences_modal--fileViewDSANoTab--KYKtC",fileViewDSAWithFooterNoTab:"library_preferences_modal--fileViewDSAWithFooterNoTab--1pt3p",fileViewTab:"library_preferences_modal--fileViewTab--2anQJ text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewTabActive:"library_preferences_modal--fileViewTabActive--2Ih3J library_preferences_modal--fileViewTab--2anQJ text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewTabsHeaderBordered:"library_preferences_modal--fileViewTabsHeaderBordered--hArvq pages_panel--tabsHeaderBordered--28fYc pages_panel--tabsHeader--p4Khp",dropdown:"library_preferences_modal--dropdown--2B9LM",durationText:"library_preferences_modal--durationText--3X7ec text--fontPos11--RSei3 text--_fontBase--YWDo0",duration:"library_preferences_modal--duration--3zlnh text--fontPos11--RSei3 text--_fontBase--YWDo0",dropdownIcon:"library_preferences_modal--dropdownIcon--1kuvX",currentFileLabel:"library_preferences_modal--currentFileLabel--3pHCM",fileViewFooter:"library_preferences_modal--fileViewFooter--2wikB",componentViewFooterInlineLink:"library_preferences_modal--componentViewFooterInlineLink--1zTvD",componentViewFooterLastUpdated:"library_preferences_modal--componentViewFooterLastUpdated--1wQZB",componentViewFooter:"library_preferences_modal--componentViewFooter--2Fd6Z library_preferences_modal--fileViewFooter--2wikB",componentViewFooterText:"library_preferences_modal--componentViewFooterText--DIB-_",libraryViewFooterNumText:"library_preferences_modal--libraryViewFooterNumText--33jSx text--fontPos11--RSei3 text--_fontBase--YWDo0",fileViewFooterText:"library_preferences_modal--fileViewFooterText--1r-d-",fileViewFooterButtons:"library_preferences_modal--fileViewFooterButtons--1KiTl",fileViewFooterButton:"library_preferences_modal--fileViewFooterButton---CYTg",libraryAnalyticsHeader:"library_preferences_modal--libraryAnalyticsHeader--nMWqq text--fontPos14--3UJ36 text--_fontBase--YWDo0",subheader:"library_preferences_modal--subheader--2JS8E",libraryComparison:"library_preferences_modal--libraryComparison--3tI3g text--fontPos11--RSei3 text--_fontBase--YWDo0",libraryComparisonText:"library_preferences_modal--libraryComparisonText--2kuZx",libraryComparisonDropdown:"library_preferences_modal--libraryComparisonDropdown--26mSs",libraryComparisonItem:"library_preferences_modal--libraryComparisonItem--3Gbk_ ellipsis--ellipsis--1RWY6",svgContainer:"library_preferences_modal--svgContainer--3I4gS",graphContainer:"library_preferences_modal--graphContainer--2Sl3z text--fontPos11--RSei3 text--_fontBase--YWDo0",graphLoading:"library_preferences_modal--graphLoading--3x5Fw library_preferences_modal--graphContainer--2Sl3z text--fontPos11--RSei3 text--_fontBase--YWDo0",graphLoadingInner:"library_preferences_modal--graphLoadingInner--1CZ4g",graphSpinner:"library_preferences_modal--graphSpinner--2bUXJ",xAxis:"library_preferences_modal--xAxis--3GrWU",xAxisTop:"library_preferences_modal--xAxisTop--30-sY library_preferences_modal--xAxis--3GrWU",xAxisBottom:"library_preferences_modal--xAxisBottom--PHU7D library_preferences_modal--xAxis--3GrWU",xLabel:"library_preferences_modal--xLabel--cqmsm",graphLine:"library_preferences_modal--graphLine--2RdL4",missingData:"library_preferences_modal--missingData--2kw1t",yAxis:"library_preferences_modal--yAxis--2rHyq",dotContainer:"library_preferences_modal--dotContainer--3VMtR",invisibleDot:"library_preferences_modal--invisibleDot--3EtKz",dotPadding:"library_preferences_modal--dotPadding--1OUqs",dot:"library_preferences_modal--dot--25ouD",dotSmall:"library_preferences_modal--dotSmall--3BVZF",comparisonDot:"library_preferences_modal--comparisonDot--1uLTN library_preferences_modal--dot--25ouD",teamUsageContainer:"library_preferences_modal--teamUsageContainer--Gkijz",teamUsage:"library_preferences_modal--teamUsage--guIb2",noTeamUsage:"library_preferences_modal--noTeamUsage--2VB4b",csvContainer:"library_preferences_modal--csvContainer--3M5Ho library_preferences_modal--teamUsage--guIb2 text--fontPos12--3tEpz text--_fontBase--YWDo0",csvLink:"library_preferences_modal--csvLink--3uEsY text--fontPos11--RSei3 text--_fontBase--YWDo0",teamUsageHeader:"library_preferences_modal--teamUsageHeader--2Rc_c text--fontPos14--3UJ36 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",usageRow:"library_preferences_modal--usageRow--3A9N3",usageLoading:"library_preferences_modal--usageLoading--2qGUW",gradientLoading:"library_preferences_modal--gradientLoading--1JkYh",usageRowTeamName:"library_preferences_modal--usageRowTeamName--YpSn2 ellipsis--ellipsis--1RWY6",grayCell:"library_preferences_modal--grayCell--1gwMZ",stylesSection:"library_preferences_modal--stylesSection--2reYe",sectionWrapper:"library_preferences_modal--sectionWrapper--eeuOZ",styleThumb:"library_preferences_modal--styleThumb--1CsKY",emptyState:"library_preferences_modal--emptyState--nrq4e",emptyStateTitle:"library_preferences_modal--emptyStateTitle--2GMFD",emptyStateSubtitle:"library_preferences_modal--emptyStateSubtitle--1Ln44"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),r=a(106                                     ),l=a(231                                              ),n=a(47,1    ),p=a(147                       ),i=a(192                            ),o=a(347                                                  ),c=a(225                                  ),d=a(1219                                                               ),m=a(224                                            ),u=a(1220           ),h=a(1221                                                ),y=a(122        );class b extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdateAll=(()=>{this.props.dispatch(l.updateSharedComponents({components:i.flattenLibraryItems(this.props.library.updates.components)})),this.props.dispatch(l.updateSharedStyles({styles:i.flattenLibraryItems(this.props.library.updates.styles)})),this.props.dispatch(r.fileBrowser.hideModal())}),this.updateComponent=(e=>{this.props.dispatch(l.updateSharedComponents({components:[e]}))}),this.updateStyle=(e=>{this.props.dispatch(l.updateSharedStyles({styles:[e]}))})}render(){const e=this.props.library.updates.components,t=this.props.library.updates.styles,a=Object.keys(Object.assign(Object.assign({},e),t)),r={id:p.NO_TEAM_ID,name:"Drafts"},l=a.map(e=>e===p.NO_TEAM_ID?r:this.props.teams[e]).filter(e=>!!e);y.sortAlphabeticallyByProperty(l,"name");const n=0===l.length;return s.createElement(c.TabLoop,null,s.createElement(o.ScrollContainer,{width:this.props.width,className:u.updatesContent,showScrollbar:!0},n&&s.createElement("div",{className:h.emptyState},s.createElement("div",{className:h.emptyStateTitle},"No updates available"),s.createElement("div",{className:h.emptyStateSubtitle},s.createElement("div",null,"Updates to components or styles"),s.createElement("div",null,"will show up here as they become available."))),!n&&l.map(a=>{const r=a.id,l=e[r]||{},n=t[r]||{},p=Object.keys(Object.assign(Object.assign({},l),n));if(p.length)return s.createElement("div",{className:u.updatesTeamSection,key:r},s.createElement("div",{className:u.updatesTeamHeader},"Updates from ",a.name),s.createElement("div",null,p.map(e=>{const t=Object.keys(l[e]||{}).map(t=>l[e][t]),a=Object.keys(n[e]||{}).map(t=>n[e][t]);return s.createElement("div",{key:e},s.createElement(_,Object.assign({itemList:t,onClickUpdate:this.updateComponent},this.props)),s.createElement(_,Object.assign({itemList:a,onClickUpdate:this.updateStyle},this.props)))})))})),s.createElement("div",{className:u.updateFooter},s.createElement(m.ButtonPrimary,{disabled:n,autoFocus:!0,className:u.updateButton,onClick:this.onClickUpdateAll},"Update all")))}}t.Updates=b,b.displayName="Updates";class _ extends s.PureComponent{render(){return s.createElement("div",null,this.props.itemList.map(e=>s.createElement(E,Object.assign({key:e.node_id,libraryItemToUpdate:e,onClickUpdate:this.props.onClickUpdate},this.props))))}}_.displayName="UpdateList";class E extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdate=(()=>{this.props.onClickUpdate(this.props.libraryItemToUpdate)})}render(){const e=this.props.libraryItemToUpdate,t=this.props.fileByKey[e.file_key],a=t&&t.folder_id?this.props.folders[t.folder_id]:null;return s.createElement("div",{className:u.updateRow},s.createElement(d.ComponentTile,{size:82,className:u.updateTile,component:e}),s.createElement("div",{className:u.updateDeets},s.createElement("div",{className:u.updateComponentName},s.createElement("strong",null,e.name),t&&` in ${t.name}`),s.createElement("div",{className:u.updateSubText},s.createElement("div",null,"Updated",e.user&&` by ${e.user.handle}`),a&&s.createElement("div",null,"in ",a.name),n(e.updated_at).fromNow())),s.createElement(m.ButtonSecondary,{className:u.updateButton,onClick:this.onClickUpdate},"Update"))}}E.displayName="LibraryItemUpdate"}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(3,1    ),i=s(178                );n.WithLoading=class extends t.Component{render(){return this.props.isLoading?t.createElement("div",{className:this.props.className},t.createElement(i.LoadingSpinner,null)):this.props.children()}}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=t(340              ),n=t(411                                        );s.ROW_HEIGHT=c.pxToInt(n.objectRowHeight),s.SECTION_ROW_HEIGHT=24}),
(function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=r(390                                        ),i=r(391                                              ),o=r(110          ),l=r(157         ),d=r(1224                               ),s=r(163                               );function u(e,n,r,t){return e.top+d.ROW_HEIGHT>t-n&&e.top<t+r+n||!!e.fixed}function a(e){return e/2}function c(e,n){const r=e.get(n);if(l.assertDev(null!=r,"node not found in scenegraph"),!(r.isExpanded||r.isTemporarilyExpanded)||0===r.reversedChildren.length)return d.ROW_HEIGHT;let t=d.ROW_HEIGHT;r.fixedChildrenCount>0&&(t+=2*d.SECTION_ROW_HEIGHT);for(let i of r.reversedChildren)t+=c(e,i);return t}function f(e,n,r,t,o=!1){let s=null,u=null,a=null;for(let i in r){const e=r[i],n=e+d.ROW_HEIGHT;if(t>=e&&t<=n){s=i;break}(!u||r[i]<r[u])&&(u=i),(!a||r[i]>r[a])&&(a=i)}if(s||(l.assertDev(null!=u&&null!=a,"no nodes found at position"),t<r[u]?s=u:t>r[a]+d.ROW_HEIGHT&&(s=a)),s&&o){const r=i.directlySelectedAncestorOrSelf(e,n,s);if(r)return r.guid}return s}n.isRowWithinDistanceOfViewport=u,n.shouldRenderRow=function(e,n,r){return u(e,a(n),n,r)},n.filterVisibleRows=function(e,n,r){if(!e.length)return[];const t=n=>{let r,t,i=e.length,o=0,s=i-1;if(n<=0)return 0;if(n>=e[i-1].top+d.ROW_HEIGHT)return i-1;for(l.assertDev(o<=s,"binary search min <= max predicate failed");o<=s;)if((t=e[r=(o+s)/2|0]).top+d.ROW_HEIGHT<n)o=r+1;else{if(!(t.top>n))return r;s=r-1}return r},i=a(n),o=r+n+i,s=t(r-i),u=t(o);return e.slice(s,u+1)},n.subtreeHeight=c,n.guidToPathFromRoot=function(e,n){const r=[];let t=n.get(e);for(l.assertDev(null!=t,"node not found in scenegraph");t&&"CANVAS"!==t.type;){const e=t.guid;t=null!=t.parent?n.get(t.parent):null,l.assertDev(null!=t,"parent node not found in scenegraph");const i=t.reversedChildren.indexOf(e);r.push(i)}return r.reverse(),r},n.pathFromRootToGuid=function(e,n,r){const t=e.reduce((e,r)=>n.get(e.reversedChildren[r]),n.get(r));return l.assertDev(null!=t,"node from path is not found in scenegraph"),t.guid},n.guidAtPosition=f;const p=16;function h(e,n){if("CANVAS"===n.parent.type||"DOCUMENT"===n.parent.type)return n;if(!(n.index===n.parent.reversedChildren.length))return n;if(n.section===s.ScrollBehavior.FIXED)return n;let r=t.getParent(e,n.parent.guid);l.assertDev(null!=r,"parent node not in scenegraph");let i=r.reversedChildren.indexOf(n.parent.guid);return{parent:r,index:i+1,section:i<r.fixedChildrenCount?s.ScrollBehavior.FIXED:s.ScrollBehavior.SCROLLS}}function g(e,n){if(0===n.index)return n;const r=e.get(n.parent.reversedChildren[n.index-1]);return l.assertDev(null!=r,"node not in scenegraph"),t.isNodeTypeWithChildren(r.type)?n.index===n.parent.fixedChildrenCount?n:!r.isExpanded&&!r.isTemporarilyExpanded&&r.reversedChildren.length>0?n:{parent:r,index:r.reversedChildren.length,section:s.ScrollBehavior.SCROLLS}:n}const C=o.memoizeLast((e,n)=>{let r=1/0;return i.forEachDirectlySelectedNode(e,n,n=>{n&&(r=Math.min(r,t.countParents(e,n.guid)))}),r===1/0&&(r=0),r});function v(e,n,r,i,o,l,u){const a=i>0?Math.floor(i/p):Math.ceil(i/p),f=C(e,n)+a,v=l<o.reversedChildren.length?r[o.reversedChildren[l]]+("before"===u?0:d.ROW_HEIGHT):r[o.guid]+c(e,o.guid);let x={parent:o,index:l+("before"===u?0:1),section:l<o.fixedChildrenCount?s.ScrollBehavior.FIXED:s.ScrollBehavior.SCROLLS},S=t.countParents(e,o.guid)+1;for(;S>f;){const n=h(e,x);if(n===x)break;x=n,S--}for(;S<f;){const n=g(e,x);if(n===x)break;x=n,S++}const H=x.parent.guid;return{parentGuid:H,index:x.index,section:x.section,parentTop:r[H],lineTop:v,lineIndent:S*p}}function x(e,n,r,o,u,a){if(!o)return null;const f=r[o],p=e.get(o);l.assertDev(null!=p,"hoveredGuid node is not in scenegraph");const h=t.getParent(e,o);l.assertDev(null!=h,"parent not found");const g=h.reversedChildren.indexOf(o),C=t.isNodeTypeWithChildren(p.type),x=(t,i,o)=>v(e,n,r,u,t,i,o);if(C&&i.isDirectlySelected(n,o)){return x(h,g,a>f+c(e,o)/2?"after":"before")}if(C){if(a<f+d.ROW_HEIGHT/3)return x(h,g,"before");if(a<f+2*d.ROW_HEIGHT/3){const n=e.get(o);return n?{parentGuid:o,index:n.fixedChildrenCount,section:s.ScrollBehavior.SCROLLS,parentTop:f}:null}return p.isExpanded||p.isTemporarilyExpanded?x(p,0,"before"):x(h,g,"after")}if(a>f+d.ROW_HEIGHT){let n=p;for(;"CANVAS"!==n.type;){const r=null!=n.parent?e.get(n.parent):null;l.assertDev(null!=r,"node not in scenegraph"),n=r}return x(n,n.reversedChildren.length,"before")}return x(h,g,a>f+d.ROW_HEIGHT/2?"after":"before")}n.findDropTarget=function(e,n,r,t,o,d,u){if(u){const n=e.get(u);return n?{parentGuid:u,index:n.fixedChildrenCount,section:s.ScrollBehavior.SCROLLS,parentTop:"sticky"}:null}{const u=function(e,n){let r=null;for(let t in e){const i=e[t];n>=i.top&&n<i.top+i.height&&(!r||i.top>r.top)&&(r=i)}return r}(t,d),a=f(e,n,r,d,!0);let c=null;return(c=!a&&u?function(e,n,r,t,o,d){const u=i.directlySelectedAncestorOrSelf(e,n,t.parentGuid);if(u)return x(e,n,r,u.guid,o,d);{const i=e.get(t.parentGuid);return l.assertDev(null!=i,"parent node not in scenegraph"),v(e,n,r,o,i,t.type===s.ScrollBehavior.FIXED?0:i.fixedChildrenCount,"before")}}(e,n,r,u,o,d):x(e,n,r,a,o,d))&&u&&u.parentGuid===c.parentGuid&&(c.section=u.type),c}}}),
(function(l,o,u){l.exports={buttonRow:"upsell_modals--buttonRow--w04iw modal--buttonRow--23IOU",confirmButton:"upsell_modals--confirmButton--7jAIA modal--confirmButton--3Mjew",styles:"upsell_modals--styles--3Nflb",blueLink:"upsell_modals--blueLink--1E0ej modal--blueLink--3juZ6 blue_link--blueLink--22X56"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),i=s(106                                     ),l=s(192                            ),o=s(111                        ),r=s(95                      ),n=s(136                            ),p=s(227                                 ),c=s(224                                            ),m=s(228                              ),d=s(1226                 ),h=s(221                                    ),u=s(338                                          ),y=s(229                                 ),f=s(372                                        );class b extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){return a.createElement(p.Modal,{title:"Shared Components",size:"small",dispatch:this.props.dispatch},"Members of teams can access a library of shared components here. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:m.buttonRow},a.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a.createElement(c.ButtonLinkTracked,{href:"/files/create-team",target:"_blank",className:m.confirmButton,onClick:this.closeModal},"Create a team")))}}t.CreateTeamLibraryUpsell=b,b.displayName="CreateTeamLibraryUpsell",t.PUBLISH_COMPONENTS_UPSELL_MODAL="publish-components-upsell",y.registerModal(t.PUBLISH_COMPONENTS_UPSELL_MODAL,e=>a.createElement(M,{localStyleLibrary:e.library.local.styles,editingFileKey:e.editingFileKey,modalShown:e.modalShown,permissionsState:o.getPermissionsState(e),dispatch:e.dispatch,selectedView:e.selectedView}));class M extends a.PureComponent{constructor(){super(...arguments),this.onStylesClick=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:n.PUBLISH_COMPONENTS_MODAL}))})}render(){const e=this.props.modalShown.data.team,s=l.hasPendingItemChanges(this.props.localStyleLibrary);if(e&&o.canEditTeam(e.id,this.props.permissionsState))return a.createElement(k,{hasStyleUpdates:s,dispatch:this.props.dispatch,onStylesClick:this.onStylesClick,team:e,selectedView:this.props.selectedView});{let e=!1;const i=this.props.permissionsState.teams;for(let t in i)if(o.canEditTeam(t,this.props.permissionsState)&&r.canAccessProFeature(i[t])){e=!0;break}return e?a.createElement(t.MoveFilePublishUpsell,{hasStyleUpdates:s,modalShown:this.props.modalShown,editingFileKey:this.props.editingFileKey,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch}):a.createElement(S,{hasStyleUpdates:s,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch})}}}t.PublishUpsellModal=M,M.displayName="PublishUpsellModal";class C extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.renderFileMoveModal=(()=>{const e=this.props.modalShown.data;this.props.dispatch(i.fileBrowser.showModal({type:f.FILE_MOVE_MODAL,data:{fileKey:this.props.editingFileKey,isPublishing:!0,afterFileMove:e.afterFileMove}}))})}render(){return a.createElement(p.Modal,{title:"Move to Team to Publish Components",size:"small",dispatch:this.props.dispatch},"Move this file to a Professional Team in order to publish components to that team's library.",a.createElement("div",{className:d.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:d.styles},a.createElement("a",{className:d.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Do Nothing"),a.createElement(c.ButtonLinkTracked,{href:"#",className:d.confirmButton,onClick:this.renderFileMoveModal},"Move to Team...")))}}C.displayName="MoveFilePublishUpsell",t.MoveFilePublishUpsell=h.asTrackedContext(C);class k extends a.PureComponent{constructor(){super(...arguments),this.closeModalUpgrade=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.closeModalExit=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){const{team:e}=this.props;if(r.isTrialAvailableToStart(e)){const t="Team Library is available only on the Professional plan";return a.createElement(u.TeamTrialModal,{name:k.displayName,teamId:e.id,title:t})}return a.createElement(h.TrackingContext,{name:k.displayName,properties:{teamId:this.props.team.id}},a.createElement(p.Modal,{title:"Team Library is a Professional plan-only feature",size:"small",dispatch:this.props.dispatch},"Upgrade this team to publish components to the Team Library and use them across all files.",a.createElement("div",{className:d.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:d.styles},a.createElement("a",{className:d.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModalExit,trackingProperties:{teamId:this.props.team.id}},"Cancel"),a.createElement(c.ButtonLinkTracked,{href:`/files/upgrade-team/${this.props.team.id}`,target:"_blank",className:m.confirmButton,onClick:this.closeModalUpgrade,trackingProperties:{teamId:this.props.team.id}},"Upgrade team"))))}}t.UpgradeTeamPublishUpsell=k,k.displayName="UpgradeTeamPublishUpsell";class S extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(i.fileBrowser.hideModal())})}render(){return a.createElement(h.TrackingContext,{name:S.displayName},a.createElement(p.Modal,{title:"Create a Team to Publish Components",size:"small",dispatch:this.props.dispatch},"Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:d.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:d.styles},a.createElement("a",{className:d.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondaryTracked,{onClick:this.closeModal},"Cancel"),a.createElement(c.ButtonLinkTracked,{href:"/files/create-team",target:"_blank",className:d.confirmButton,onClick:this.closeModal},"Create a team"))))}}t.CreateTeamPublishUpsell=S,S.displayName="CreateTeamPublishUpsell"}),
(function(e,n,t){e.exports={margin12:"component_tiles--margin12--22t3w",stickySectionHeader:"component_tiles--stickySectionHeader--3i5QD ellipsis--ellipsis--1RWY6",sectionHeader:"component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",subSectionHeader:"component_tiles--subSectionHeader--2uVsN component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",componentContainer:"component_tiles--componentContainer--3fJUP",section:"component_tiles--section--2WHrl",margin24:"component_tiles--margin24--s6TYe",stickySection:"component_tiles--stickySection--rqC96",componentTiles:"component_tiles--componentTiles--16rL2",draggingThumb:"component_tiles--draggingThumb--1c_L8",contextMenu:"component_tiles--contextMenu--3OVMD",stickySectionPage:"component_tiles--stickySectionPage--UcOwD component_tiles--stickySection--rqC96",expandingSectionHeader:"component_tiles--expandingSectionHeader--3Qonr component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaret:"component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",tallSectionHeader:"component_tiles--tallSectionHeader--2w5hs component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaretOpen:"component_tiles--expandCaretOpen--1org1 component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",sectionHeaderText:"component_tiles--sectionHeaderText--Q4whg ellipsis--ellipsis--1RWY6",expandedSection:"component_tiles--expandedSection--2nwRO"}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M3 5l3-4H0l3 4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"><path d="M5 3L1 0v6l4-3z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),o=n(106                                     ),i=n(231                                              ),a=n(402                                        ),r=n(126          ),p=n(113          ),l=n(172              ),c=n(170                        ),d=n(172              ),m=n(146                                          ),h=n(163                               ),u=n(156                                ),g=n(155                       ),y=n(95                      ),b=n(215                           ),f=n(141                ),_=n(391                                              ),S=n(1225                                                            ),C=n(145         ),w=n(340              ),E=n(401                              ),N=n(1219              ),M=n(1227                                              ),v=n(345                                  ),P=v.dropdown.Dropdown,T=v.dropdown.Option,x=n(174                        ),I=n(1213                                                           ),k=n(1228                   ),L=n(1217                                 ),O=n(122        ),D=n(164         ),F=n(1229                             ),K=n(1230                              ),U=w.pxToInt(L.tileMargin);class B extends s.Component{render(){let e=new Map,t=new Map;this.props.componentList.forEach(n=>{let s=n.containing_frame||{},o=s.pageId||"NO_PAGE",i=s.pageName||"";t.set(o,i);let a=e.get(o);a?a.push(n):e.set(o,[n])});const n=Array.from(e.keys()).sort((e,n)=>D.compareStringsNaturally(t.get(e),t.get(n))),o=n.length>1;return s.createElement("div",null,n.map(n=>{const i=e.get(n),a=t.get(n),r=o&&!!a;return s.createElement(G,{className:r?k.stickySectionPage:k.stickySection,key:n,showTitle:r,headerText:a,inModal:this.props.inModal},s.createElement(j,Object.assign({},this.props,{componentList:i})))}))}}t.ComponentTilesByPage=B,B.displayName="ComponentTilesByPage";class G extends s.PureComponent{render(){return s.createElement("div",{className:`${this.props.inModal?k.margin24:k.margin12} ${this.props.className||k.stickySection}`},this.props.showTitle&&s.createElement("div",{className:k.stickySectionHeader},this.props.headerText),this.props.children)}}t.StickySection=G,G.displayName="StickySection";class j extends s.PureComponent{constructor(){super(...arguments),this.CHUNK_SIZE=5}render(){const e={},t=[];for(const s of this.props.componentList){const n=s.containing_frame;n&&n.nodeId&&n.nodeId!==s.node_id?(e[n.nodeId]=e[n.nodeId]||[],e[n.nodeId].push(s)):t.push(s)}O.sortAlphabeticallyByProperty(t,"name");const n=Object.keys(e);n.sort((t,n)=>{const s=e[t][0].containing_frame.name,o=e[n][0].containing_frame.name;return(s&&s.toLowerCase())<(o&&o.toLowerCase())?-1:1});const o=n.join(",");return s.createElement("div",{className:this.props.inModal?k.margin24:k.margin12},t.length>0&&s.createElement(R,Object.assign({},this.props,{componentList:t})),s.createElement(I.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:o},n.map(t=>{const n=e[t];return O.sortAlphabeticallyByProperty(n,"name"),s.createElement(V,{key:t,title:n[0].containing_frame.name,localStorageKey:`${n[0].file_key}-${t}`,canCollapseSections:this.props.canCollapseSections,inModal:this.props.inModal},s.createElement(R,Object.assign({},this.props,{componentList:n})))})))}}t.ComponentTilesByFrame=j,j.displayName="ComponentTilesByFrame";class V extends s.Component{constructor(e){super(e),this.localStorageKey=(()=>`library-section-expanded-${this.props.localStorageKey}`),this.toggleExpanded=(()=>{const e=!this.state.expanded;null!==p.localStorageOrNull&&p.localStorageOrNull.setItem(this.localStorageKey(),JSON.stringify(e)),this.setState({expanded:e})});let t=null;try{t=JSON.parse(p.localStorageOrNull.getItem(this.localStorageKey()))}catch(n){}this.state={expanded:null!=t&&!!t}}render(){return this.props.canCollapseSections?s.createElement("div",{className:k.section},s.createElement("div",{className:k.expandingSectionHeader,onMouseDown:this.toggleExpanded},s.createElement(x.Svg,{key:"expand-caret",className:this.state.expanded?k.expandCaretOpen:k.expandCaret,svg:this.state.expanded?F:K}),s.createElement("div",{className:k.sectionHeaderText},this.props.title)),this.state.expanded&&s.createElement("div",{className:k.expandedSection},this.props.children)):s.createElement(H,Object.assign({},this.props))}}t.ExpandingLibrarySection=V,V.displayName="ExpandingLibrarySection";class H extends s.Component{render(){return s.createElement("div",{className:k.section},s.createElement("div",{className:this.props.inModal?k.tallSectionHeader:k.sectionHeader},this.props.title),this.props.children)}}t.LibrarySection=H,H.displayName="LibrarySection";class $ extends s.Component{render(){return s.createElement("div",{className:k.section},s.createElement("div",{className:k.subSectionHeader},this.props.title),this.props.children)}}t.LibrarySubSection=$,$.displayName="LibrarySubSection";const A=(e,t)=>{const n=Math.floor(e/100);return(e+2-(n-1)*U-2*t)/n};class R extends l.Component{constructor(e){super(e),this.CHUNK_SIZE=50,this.thumbSize=(()=>A(this.props.width,this.props.inModal?24:12)),this.thumbImage=null,this.onComponentMouseDown=((e,t)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,g.teamLibraryItemSceneGraphCache.get(t),this.setState({draggingComponent:t}),document.addEventListener("mouseup",this.onDocumentMouseUp);const n=e.currentTarget.getBoundingClientRect(),s=new C.Vector(n.left,n.top),o=new C.Vector(e.clientX,e.clientY);this.thumbImage=new Image,this.thumbImage.src=t.thumbnail_url,this.thumbImage.onload=(()=>{const e=this.thumbSize(),t=e-2*N.THUMB_PADDING;let n,i,a=this.thumbImage.naturalWidth/2,r=this.thumbImage.naturalHeight/2;a>r?i=(n=Math.min(a,t))*(r/a):n=(i=Math.min(r,t))*(a/r);const p=new C.Vector(e/2-n/2,e/2-i/2),l=o.subtract(s),c=new C.Vector((l.x-p.x)/n,(l.y-p.y)/i);this.state.draggingComponent&&this.setState({dragOffset:l,componentMousePercentageOffset:c}),document.addEventListener("mousemove",this.onDocumentMouseMove)})}),this.onDocumentMouseMove=l.mouseEvent(this,"mousemove",e=>{const t=new C.Vector(e.clientX,e.clientY);this.state.dragPosition&&this.state.dragPosition.distanceTo(t)>5&&(this.isClick=!1),this.setState({dragPosition:t})},{recordMetadata:e=>{const t=m.fullscreen.getViewportInfo(),n=new C.Vector(t.x,t.y),s=new C.Vector(e.clientX,e.clientY).subtract(n);return{canvasPosition:u.viewportPositionToCanvas(t,s)}},playbackMetadata:e=>{const t=m.fullscreen.getViewportInfo(),n=new C.Vector(t.x,t.y),s=u.canvasPositionToViewport(t,e.canvasPosition),o=C.Vector.add(s,n);return{clientX:o.x,clientY:o.y}}}),this.onDocumentMouseUp=l.mouseEvent(this,"mouseup",e=>{const t=e.target,n=this.state.draggingComponent;if(this.thumbImage.onload=null,this.isClick){if(this.props.sceneGraphSelection&&n){const t=n.node_id;e.shiftKey||e.metaKey?_.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,t)?E.removeFromSelection([t]):E.addToSelection([t]):(E.clearSelection(),h.Fullscreen.setCurrentPageFromNode(t),E.addToSelection([t])),m.fullscreen.commit()}}else if(n&&("canvas"===t.tagName.toLowerCase()||t.getAttribute("data-allow-component-drop")||b.isMacDebugApp&&t.getAttribute("data-forward-events-to-fullscreen"))){const e=m.fullscreen.getViewportInfo(),t=new C.Vector(e.x,e.y),s=this.state.dragPosition.subtract(t),o=u.viewportPositionToCanvas(e,s),a=f.getEditingFile(this.props);r.segmentTrackEvent("Instance Dropped",{isLocal:a.key===n.file_key,searchQuery:this.props.library.librarySearchQuery,source:this.props.sourceForTracking}),this.props.dispatch(i.insertSharedComponent({component:n,canvasPosition:o,percentageOffset:this.state.componentMousePercentageOffset,insertAsChildOfCanvas:!1}))}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.setState({draggingComponent:null,dragPosition:null})},{recordMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,targetTagName:e.target.tagName.toLowerCase()}),playbackMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,target:{tagName:e.targetTagName}})}),this.onContextMenu=((e,t)=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(o.fileBrowser.showDropdown({type:R.CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&!_.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(E.clearSelection(),h.Fullscreen.setCurrentPageFromNode(e.node_id),E.addToSelection([e.node_id]),m.fullscreen.commit())}),this.state={draggingComponent:null,dragPosition:null,dragOffset:null,componentMousePercentageOffset:null}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);const n=!!t.draggingComponent,s=!!this.state.draggingComponent;m.fullscreen.isReady()&&n!==s&&h.Fullscreen.setIsDraggingInstanceFromSidebar(s)}render(){let e=this.thumbSize(),t=null,n=!1;this.props.dropdownShown&&this.props.dropdownShown.type===R.CONTEXT_MENU_ID&&(t=this.props.dropdownShown.data.component);const o=[];if(this.props.isShowingLocalLibraryItems)for(const a of this.props.componentList){let i="";(c.isRecording()||d.isRunningInteractionTests())&&(i=S.guidToPathFromRoot(a.node_id,this.props.sceneGraph).join("-"));const r=t&&t.node_id===a.node_id;n=n||r,o.push(s.createElement(N.LocalLibraryItemTile,{key:`${a.file_key}.${a.node_id}`,component:a,size:e,onComponentMouseDown:this.onComponentMouseDown,onContextMenu:this.onContextMenu.bind(this,a),selected:!!this.props.sceneGraphSelection&&_.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,a.node_id),showUpdateBadge:this.props.isFilePublished,contextMenuShown:r,isFilePublished:this.props.isFilePublished,recordingNodePath:i}))}else for(const a of this.props.componentList){let i="";(c.isRecording()||d.isRunningInteractionTests())&&(i=S.guidToPathFromRoot(a.node_id,this.props.sceneGraph).join("-"));const r=t&&t.node_id===a.node_id;n=n||r,o.push(s.createElement(N.ComponentTile,{key:`${a.file_key}.${a.node_id}`,component:a,showName:!0,size:e,onComponentClick:this.props.onComponentClick,onComponentMouseDown:this.onComponentMouseDown,onContextMenu:this.onContextMenu.bind(this,a),contextMenuShown:r,recordingNodePath:i}))}const i=this.props.componentList.map(e=>e.component_key).join(",");return s.createElement("div",{className:`${this.props.inModal?k.margin24:k.margin12} ${this.props.className?this.props.className:""}`},s.createElement("div",{className:k.componentContainer},s.createElement(I.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:i,className:k.componentTiles},o)),s.createElement(X,Object.assign({},this.state,{containerWidth:this.props.width,containerMarginSize:this.props.inModal?24:12})),n&&s.createElement(z,Object.assign({},this.props)))}}t.ComponentTiles=R,R.displayName="ComponentTiles",R.CONTEXT_MENU_ID="shared-component-library-component-context-menu";class z extends s.PureComponent{constructor(){super(...arguments),this.publishSelection=(()=>{this.props.dispatch(a.publishSelected())}),this.upsell=(()=>{const e=f.getEditingFile(this.props),t=this.props.teams[e.team_id];this.props.dispatch(o.fileBrowser.showModal({type:M.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{team:t,afterFileMove:this.publishSelection}}))})}render(){let e=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===R.CONTEXT_MENU_ID&&(e=this.props.dropdownShown.data.component),!e)return null;const t=f.getEditingFile(this.props);if(!t)return null;const n=this.props.fileByKey[e.file_key],o=n.key===t.key;if(o&&!this.props.isFilePublished&&!this.props.numToPublishInitially)return null;const i=this.props.teams[t.team_id],a=y.canAccessProFeature(i),r=e.isPublishable;return s.createElement(P,{className:k.contextMenu,style:this.props.dropdownShown.data.position},o&&this.props.isFilePublished&&s.createElement(T,{onClick:()=>{m.fullscreen.updateSelectionProperties({isSymbolPublishable:!e.isPublishable})}},r?"Remove from library":"Add to library"),o&&!this.props.isFilePublished&&this.props.numToPublishInitially>0&&s.createElement(T,{onClick:a?this.publishSelection:this.upsell},"Publish ",this.props.numToPublishInitially," ",1===this.props.numToPublishInitially?" component":" components"),!o&&s.createElement(T,{href:`${n.url}?node-id=${encodeURIComponent(e.node_id)}`,target:"_blank"},"Go to Master Component"))}}z.displayName="ComponentTileContextMenu";class X extends s.PureComponent{render(){if(this.props.draggingComponent&&this.props.dragPosition){const e=this.props.dragPosition.subtract(this.props.dragOffset);return s.createElement(N.ComponentTile,{className:k.draggingThumb,component:this.props.draggingComponent,size:A(this.props.containerWidth,this.props.containerMarginSize),style:{top:e.y,left:e.x},showName:!1,noBackground:!0})}return s.createElement("div",null)}}X.displayName="DraggingComponent"}),
(function(e,t,s){e.exports={base:"tab--base--vEslZ text--fontPos14--3UJ36 text--_fontBase--YWDo0",selected:"tab--selected--2mpPj",unselected:"tab--unselected--2T1WZ",disabled:"tab--disabled--K6250"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(3,1    ),r=t(172              ),l=t(1232       );class c extends r.Component{constructor(){super(...arguments),this.styleOverrides=(()=>({})),this.onClick=r.mouseEvent(this,"click",()=>{this.props.onClick&&this.props.onClick(this.props.tab)})}render(){const e=l.base,s=this.styleOverrides().base;let t=l.unselected,r=this.styleOverrides().unselected;return this.props.disabled?(t=l.disabled,r=this.styleOverrides().disabled):this.props.selectedTab===this.props.tab&&(t=l.selected,r=this.styleOverrides().selected),i.createElement("div",{className:`${e} ${s||""} ${t} ${r||""}`,onClick:this.onClick},this.props.children)}}s.Tab=c,c.displayName="Tab"}),
(function(n,o,t){n.exports={container:"rounded_count--container--uSsdw"}}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(3,1    ),n=t(1234                 );function s(e){return e<1e3?e.toString():e<1e5?`${Math.floor(e/100)/10}k`:e<1e6?`${Math.floor(e/1e3)}k`:e<1e8?`${Math.floor(e/1e5)/10}m`:e<1e9?`${Math.floor(e/1e6)}m`:e<1e11?`${Math.floor(e/1e8)/10}b`:`${Math.floor(e/1e9)}b`}o.RoundedCount=class extends r.PureComponent{render(){return r.createElement("div",{className:`${n.container} ${this.props.className||""}`,onClick:this.props.onClick||void 0},this.props.prefix,s(Math.max(0,this.props.count)))}},o.round=s}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(147                       ),i=s(122        ),n=s(167                                  ),a=s(192                            ),o=s(155                       );var u;e.SIDEBAR_TILES_CONTEXT_MENU_ID="sidebar-visitable-tiles-context-menu",e.componentsAllOnePageAndNoFrames=function(t){if(!t.length)return!0;let e=t[0].containing_frame;for(let s of t){const t=n.componentContainingPagesMatch(e,s.containing_frame),r=n.componentContainingFramesMatch(e,s.containing_frame);if(!t||!r)return!1}return!0},e.getLocalLibraryItemsInfo=function(t){const e=o.sortedLibraryItemsForFile(t),s=[],i=[],n=[];let a=0,u=0;for(let o of e)o.deletedFromSceneGraph||(s.push(o),o.status===r.LibraryStatus.NOT_STAGED||o.status===r.LibraryStatus.DELETED?n.push(o):i.push(o)),o.status!==r.LibraryStatus.CURRENT&&o.status!==r.LibraryStatus.NOT_STAGED&&a++,o.status!==r.LibraryStatus.CURRENT&&o.status!==r.LibraryStatus.CHANGED&&o.status!==r.LibraryStatus.DELETED&&o.status!==r.LibraryStatus.CAN_UPGRADE||u++;return{allItems:s,publishedItems:i,privateItems:n,numUpdates:a,numPublished:u}},e.getSubscribedComponentsInfo=function(t,e,s){const r=t.published.components,n=Object.create(null),o=[];for(const i in r){const u=r[i];for(let r in u){const i=s[r];if(a.isFileSubscribedTo(t,s[e],i)){o.push(r);const t=[];for(let e in u[r])t.push(u[r][e]);n[r]=t}}}const u=o.map(t=>s[t]);return i.sortAlphabeticallyByProperty(u,"name"),{fileKeyToSubscribedItems:n,subscribedFiles:u}},function(t){t[t.Grid=0]="Grid",t[t.List=1]="List"}(u=e.ComponentsSidebarViewMode||(e.ComponentsSidebarViewMode={})),e.viewModeToString=(t=>t===u.Grid?"grid":"list")}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(113          );var s;!function(e){e[e.ROW=0]="ROW",e[e.TILE=1]="TILE"}(s=t.RenderedItemType||(t.RenderedItemType={})),t.renderedElementIsStickyRow=(e=>e.type===s.ROW&&"isSticky"in e&&e.isSticky),t.renderedElementIsExpandableRow=(e=>e.type===s.ROW&&"isExpandable"in e&&e.isExpandable),t.renderedElementIsExpandableStickyRow=(e=>e.type===s.ROW&&"isExpandable"in e&&e.isExpandable&&"isSticky"in e&&e.isSticky&&"children"in e),t.renderedStickyElementIsExpanded=(e=>e.type===s.ROW&&"isExpanded"in e&&e.isExpanded);class r{constructor(e){this.allElements=[],this.setExpandKey=((e,t)=>{null!==l.localStorageOrNull&&l.localStorageOrNull.setItem(r.localStorageKey(e),JSON.stringify(t))}),this.isExpanded=(e=>t.renderedElementIsExpandableRow(e)&&e.isExpanded),this.offsetTop=e}static getNextRenderedElementTop(e){if(!e||0===e.length)return 0;const t=e[e.length-1];return t.top+t.height}reset(){this.allElements=[]}getTotalHeight(){let e=0;for(const n of this.allElements)t.renderedElementIsExpandableRow(n)&&(e+=d(n));return r.getNextRenderedElementTop(this.allElements)+e}findExpandableElementWithKey(e){for(const n of function*e(n){for(const l of n)yield l,t.renderedElementIsExpandableRow(l)&&l.isExpanded&&(yield*e(l.children))}(this.allElements))if(t.renderedElementIsExpandableRow(n)&&n.key===e)return n;return null}getActualTop(e){let t=0;for(const n of this.allElements){if(n.key===e)return n.top+t;this.isExpanded(n)&&(t+=d(n))}return null}getRenderedElementsInView(e,n){const l=e-this.offsetTop,s=Math.ceil(n/2),r=Math.max(l-s,0),i=l+n+s,a=(e,t)=>!(e+t<r||e>i),o=(e,t)=>!(e+t<l||e>l+n),c=[],p={};for(const{element:f,actualTop:h}of function*e(n,l){for(const s of n){const n=l+s.top;if(yield{element:s,actualTop:n},t.renderedElementIsExpandableRow(s)&&s.isExpanded){const t=n+s.height;yield*e(s.children,t),l+=d(s)}}}(this.allElements,0))if(a(h,f.height)){p[f.key]=c.length;const e=Object.assign(Object.assign({},f),{top:h});c.push(e)}let E=null,y=0;for(const d of c)if(l>0&&o(d.top,d.height)){t.renderedStickyElementIsExpanded(d)?E=d:d.parent&&t.renderedElementIsExpandableStickyRow(d.parent)&&(E=Object.assign(Object.assign({},d.parent),{key:`${d.key}:parent`}),c.push(E));break}return null!=E&&t.renderedElementIsStickyRow(E)&&l>E.top&&(E.isFixed=!0,y=Math.max(l-E.top,0)),{elementsInView:c,stickyHeader:E&&E.isFixed?E:null,stickyHeaderOffset:y}}}t.RenderedElementTree=r,r.localStorageKey=(e=>`library-section-expanded-${e}`),r.isExpandedKey=((e,t=!1)=>{let n=null;try{n=JSON.parse(l.localStorageOrNull.getItem(r.localStorageKey(e)))}catch(s){}return null!=n?!!n:t});const d=e=>{let n=0;if(e.isExpanded){n+=r.getNextRenderedElementTop(e.children);for(const l of e.children)t.renderedElementIsExpandableRow(l)&&(n+=d(l))}return n}}),
(function(i,e,t){i.exports={tile:"library_item_tile--tile--3b_Gi",tileGrid:"library_item_tile--tileGrid--1FVZ2 library_item_tile--tile--3b_Gi",tileList:"library_item_tile--tileList--nuHBg library_item_tile--tile--3b_Gi",thumbWrapperNoBg:"library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperNoBgListView:"library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapper:"library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperListView:"library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorder:"library_item_tile--thumbWrapperWithBorder--1Rhnq library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorderListView:"library_item_tile--thumbWrapperWithBorderListView--3j4NB library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg","border-deleted":"library_item_tile--border-deleted--17mOP","border-new":"library_item_tile--border-new--ko-A1",thumbAndNameWrapper:"library_item_tile--thumbAndNameWrapper--1_SxQ",thumbContainer:"library_item_tile--thumbContainer--3WpIW",thumb:"library_item_tile--thumb--1tV-_",name:"library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameGrid:"library_item_tile--nameGrid--38SiR library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameList:"library_item_tile--nameList--WKy2P library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",statusIcon:"library_item_tile--statusIcon--3_SlA","icon-new":"library_item_tile--icon-new--gnTKH","icon-deleted":"library_item_tile--icon-deleted--2gu1r",selectionGrid:"library_item_tile--selectionGrid--19XIu",popoutContainerTitle:"library_item_tile--popoutContainerTitle--39at_",descriptionPopoutContainer:"library_item_tile--descriptionPopoutContainer--2XEyP text--fontNeg11--1EuEG text--_fontBase--YWDo0 text--_whiteText--2PkdM",descriptionPopoutArrow:"library_item_tile--descriptionPopoutArrow--KXnZs",actionBadge:"library_item_tile--actionBadge--GrXIU",privateOutlineGrid:"library_item_tile--privateOutlineGrid--1Rwee",localComponentList:"library_item_tile--localComponentList--3pHjK",privateComponentGrid:"library_item_tile--privateComponentGrid--7bCoG",contextMenu:"library_item_tile--contextMenu--N4uYI",draggingThumbGrid:"library_item_tile--draggingThumbGrid--3J7rP",draggingThumbList:"library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",draggingThumbListOverCanvas:"library_item_tile--draggingThumbListOverCanvas--1DX0y library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",expand:"library_item_tile--expand--36ZxQ"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(3,1    ),r=o(7,1        ),n=o(172              ),i=o(340              ),p=o(1095       ),a=o(145         ),l=o(1217                                 ),h=o(411                                        ),c=o(345                                  ),u=o(146                                          ),d=o(141                ),m=o(154                                      ),g=o(147                       ),b=o(155                       ),f=o(163                               ),y=o(1215                                      ),C=o(538                                       ),L=o(1236                         ),w=o(1238                     ),N=o(536                                                    ),T=c.dropdown.Dropdown,E=c.dropdown.Option;e.DEFAULT_SIZE=120,e.THUMB_PADDING=i.pxToInt(l.tilePaddingGrid);const M=i.pxToInt(h.toolbarHeight),S=i.pxToInt(l.localComponentsHeaderHeight),_=new y.ColorHexFormatter,v=new C.ColorCSSFormatter;class P extends s.PureComponent{render(){const{component:t}=this.props,e={};let o;if(!this.props.noBackground&&(o=F(this.props.component))&&!this.props.isList){e.background=v.format(o);const t=p.blackOrWhiteContrastingColor(o);t.a=.6,e.color=v.format(t)}let r=this.props.showName;return this.props.usingSmallThumbLayout&&!this.props.isList&&(r=!1),s.createElement(I,Object.assign({},this.props),s.createElement(O,Object.assign({},this.props),s.createElement(A,Object.assign({},this.props,{backgroundColor:o,className:void 0,style:this.props.isDragged?void 0:this.props.style})),r&&s.createElement("div",{className:this.props.isList?w.nameList:w.nameGrid,style:e},this.props.isList&&!this.props.isSearch?b.getLastPartOfName(t.name):t.name)))}}e.LibraryItemTile=P,P.displayName="LibraryItemTile";class k extends n.Component{constructor(){super(...arguments),this.ref=(t=>{this.el=r.findDOMNode(t)}),this.onFullscreenScrollToNode=(({nodeId:t})=>{if(t===this.props.component.node_id&&this.el){const t=this.el.getBoundingClientRect();t.top<M+S?this.el.scrollIntoView():t.bottom>window.innerHeight-M&&this.el.scrollIntoView(!1)}}),this.onMouseUp=(t=>{t.stopPropagation()})}recordingKey(){return`componentTile.${this.props.recordingNodePath}`}componentDidMount(){u.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode);const t=f.Fullscreen&&f.Fullscreen.getFirstSelectedNodeIdForCurrentPage();t&&this.onFullscreenScrollToNode({nodeId:t})}componentWillUnmount(){u.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}render(){const t=this.props.component,e=this.props.isFilePublished&&(t.status===g.LibraryStatus.NOT_STAGED||t.status===g.LibraryStatus.DELETED),o={},r=e?null:F(this.props.component);if(r&&!this.props.isList){o.background=v.format(r);const t=p.blackOrWhiteContrastingColor(r);t.a=.6,o.color=v.format(t)}let n;return this.props.isList?n=this.props.isSomeComponentBeingDragged?null:w.localComponentList:e&&(n=e?w.privateComponentGrid:null),s.createElement(I,Object.assign({ref:this.ref},this.props,{onMouseUp:this.onMouseUp,className:n}),s.createElement(O,Object.assign({},this.props),s.createElement(A,Object.assign({},this.props,{backgroundColor:r})),(!this.props.usingSmallThumbLayout||this.props.isList)&&s.createElement("div",{className:this.props.isList?w.nameList:w.nameGrid,style:o},this.props.isList&&!this.props.isSearch?b.getLastPartOfName(t.name):t.name),this.props.selected&&!this.props.isList&&s.createElement("div",{className:w.selectionGrid}),e&&!this.props.selected&&!this.props.isList&&s.createElement("div",{className:w.privateOutlineGrid})))}}e.LocalLibraryItemTile=k,k.displayName="LocalLibraryItemTile";class D extends s.PureComponent{constructor(){super(...arguments),this.togglePublishable=(t=>{u.fullscreen.updateSelectionProperties({isSymbolPublishable:!t.isPublishable})})}render(){let t=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===L.SIDEBAR_TILES_CONTEXT_MENU_ID&&(t=this.props.dropdownShown.data.component),!t)return null;const e=d.getEditingFile(this.props),o=this.props.fileByKey[t.file_key],r=o.key===e.key,n=t.isPublishable;return s.createElement(T,{className:w.contextMenu,style:this.props.dropdownShown.data.position},r&&s.createElement(E,{onClick:this.togglePublishable.bind(this,t)},n?"Remove from library":"Add to library"),!r&&s.createElement(E,{href:`${o.url}?node-id=${encodeURIComponent(t.node_id)}`,target:"_blank"},"Go to Master Component"))}}e.LibraryItemContextMenu=D,D.displayName="LibraryItemContextMenu";class x extends s.PureComponent{render(){const t=this.props.componentDragState,e=t.dragPosition.subtract(t.dragOffset),o={top:e.y,left:e.x};let r=w.draggingThumbGrid;if(this.props.isList){r=this.props.isMouseDraggedOverCanvas?w.draggingThumbListOverCanvas:w.draggingThumbList;const e=F(t.draggingComponent);if(e&&!this.props.isPrivate&&!this.props.isMouseDraggedOverCanvas){o.backgroundColor=v.format(e);const t=p.blackOrWhiteContrastingColor(e);o.color=v.format(t)}}return s.createElement(P,{className:r,component:t.draggingComponent,height:t.draggingThumbHeight,width:t.draggingThumbWidth,style:o,showName:this.props.isList,noBackground:!0,isList:this.props.isList,isDragged:!0,isSearch:this.props.isSearch})}}e.DraggingLibraryItem=x,x.displayName="DraggingLibraryItem";class I extends s.PureComponent{constructor(){super(...arguments),this.state={popoutStyle:null,popoutArrowStyle:null},this.ref=(t=>{this.el=t}),this.popoutRef=(t=>{this.popout=t}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const t=this.el.getBoundingClientRect(),e=(t.top+t.bottom)/2,o=this.popout.offsetHeight,s=M+6,r=window.innerHeight-o-6;let n=e-o/2;n=Math.min(n,r),n=Math.max(n,s),this.setState({popoutStyle:{left:t.right+9,top:n},popoutArrowStyle:{left:t.right,top:e}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:null,popoutArrowStyle:null})})}render(){let t=this.props.height||e.DEFAULT_SIZE,o=this.props.width||e.DEFAULT_SIZE;t-=t%2,o-=o%2;const r=this.props.isList?this.props.style:Object.assign(Object.assign({},this.props.style),{width:o,height:t});let n=!1;return this.props.usingSmallThumbLayout&&!this.props.isList&&this.props.component.name&&(n=!0),s.createElement("div",{ref:this.ref,className:`${this.props.isList?w.tileList:w.tileGrid} ${this.props.className||""}`,style:r,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,(this.props.component.description||n)&&!this.props.contextMenuShown&&s.createElement("div",{className:w.descriptionPopoutContainer,style:this.state.popoutStyle,ref:this.popoutRef},this.props.usingSmallThumbLayout&&!this.props.isList&&s.createElement("div",{className:w.popoutContainerTitle},b.getLastPartOfName(this.props.component.name)),this.props.component.description,s.createElement("div",{className:w.descriptionPopoutArrow,style:this.state.popoutArrowStyle})))}}I.displayName="ComponentWrapper";class O extends n.Component{constructor(){super(...arguments),this.onMouseDown=n.mouseEvent(this,"mousedown",t=>{this.props.onComponentMouseDown&&this.props.onComponentMouseDown(t,this.props.component)},{recordMetadata:t=>{const e=t.currentTarget.getBoundingClientRect(),o=new a.Vector(e.left,e.top),s=new a.Vector(t.clientX,t.clientY).subtract(o);return{percentageMousePos:new a.Vector(s.x/e.width,s.y/e.height)}},playbackMetadata:t=>{const e=this.props.height,o=this.props.width;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:e,width:o})},clientX:0+t.percentageMousePos.x*o,clientY:0+t.percentageMousePos.y*e}}}),this.onContextMenu=n.mouseEvent(this,"contextmenu",t=>{this.props.onContextMenu&&this.props.onContextMenu(t)},{recordMetadata:t=>{const e=t.currentTarget.getBoundingClientRect(),o=new a.Vector(e.left,e.top),s=new a.Vector(t.clientX,t.clientY).subtract(o);return{percentageMousePos:new a.Vector(s.x/e.width,s.y/e.height)}},playbackMetadata:t=>{const e=this.props.height,o=this.props.width;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:e,width:o})},clientX:0+t.percentageMousePos.x*o,clientY:0+t.percentageMousePos.y*e}}}),this.touchAdapter=this.props.createTouchAdapter&&this.props.createTouchAdapter(this.onMouseDown)}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){return s.createElement("div",{className:w.thumbAndNameWrapper,onMouseDown:this.onMouseDown,onTouchStart:this.touchAdapter&&this.touchAdapter.onTouchStart,onContextMenu:this.onContextMenu},this.props.children)}}O.displayName="ComponentThumbAndNameWrapper";class A extends s.PureComponent{render(){const{component:t,isDragged:o,isList:r}=this.props,n=this.props.height||e.DEFAULT_SIZE,i=this.props.width||e.DEFAULT_SIZE,p=n-n%2,a=i-i%2;let l;l=this.props.isList?this.props.noBackground?w.thumbWrapperNoBgListView:w.thumbWrapperListView:this.props.noBackground?w.thumbWrapperNoBg:w.thumbWrapper;const h={width:a,height:p},c=Object.assign({width:2*a,height:2*p},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(m.shouldUseBorderForBackgroundWithAlpha(this.props.backgroundColor,this.props.backgroundColor.a)&&(l=r?w.thumbWrapperWithBorderListView:w.thumbWrapperWithBorder),c.background=v.format(this.props.backgroundColor)),o&&(r?(c.width=null,c.height=null):c.background=null),s.createElement("div",{className:w.thumbContainer,style:o&&r?null:h},s.createElement("div",{className:`${l} ${this.props.className||""}`,style:c},s.createElement(N.ComponentImageContainer,{className:w.thumb,component:t,shouldFetch:!0})))}}function F(t){if(t.containing_frame&&t.containing_frame.backgroundColor){const e=t.containing_frame.backgroundColor,o="#"==e[0]?_.parse(e):v.parse(e);return 0==o.a?null:(o.a=1,o)}return null}A.displayName="ComponentThumb",e.backgroundColorToUseForComponent=F}),
(function(e,t,o){e.exports={container:"component_sidebar--container--3KRL4",stickySearchBuffer:"component_sidebar--stickySearchBuffer--3PuSi",_headerContainer:"component_sidebar--_headerContainer--2P898",headerContainer:"component_sidebar--headerContainer--4HQfk component_sidebar--_headerContainer--2P898",headerContainerWithShadow:"component_sidebar--headerContainerWithShadow--WIlIw component_sidebar--_headerContainer--2P898",searchWithViewModeToggle:"component_sidebar--searchWithViewModeToggle--121s7",scrollContainerFullHeight:"component_sidebar--scrollContainerFullHeight--3yKAM",topBuffer:"component_sidebar--topBuffer--2lHDU",emptyState:"component_sidebar--emptyState--1oV4E text--fontPos11--RSei3 text--_fontBase--YWDo0",emptyStateTitle:"component_sidebar--emptyStateTitle--1sc4j text--fontPos11--RSei3 text--_fontBase--YWDo0",emptyStateContent:"component_sidebar--emptyStateContent--2CumE",emptyStateIcon:"component_sidebar--emptyStateIcon--2f9u5",emptyStateText:"component_sidebar--emptyStateText--353a5",link:"component_sidebar--link--mHiBM blue_link--blueLink--22X56",text:"component_sidebar--text--1E5gA",toggleComponentSidebarViewMode:"component_sidebar--toggleComponentSidebarViewMode--2uP0X",teamLibraryIcon:"component_sidebar--teamLibraryIcon--3d-dn",teamLibraryUpdatesIndicator:"component_sidebar--teamLibraryUpdatesIndicator--jNhOs",selected:"component_sidebar--selected--1W_RG",rotate:"component_sidebar--rotate--1JDpJ"}}),
(function(e,r,i){e.exports={expandCaret:"library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf object_row--expandCaret--3nMet object_row--indent--2n1Cf",expandCaretOpen:"library_section_header--expandCaretOpen--sA16m library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf library_section_header--expandCaret--2Osx0 object_row--expandCaret--3nMet object_row--indent--2n1Cf object_row--expandCaret--3nMet object_row--indent--2n1Cf",hiddenCaretSticky:"library_section_header--hiddenCaretSticky--1kXQi",sectionHeaderExpandable:"library_section_header--sectionHeaderExpandable--Apm4H",isFixed:"library_section_header--isFixed--yOy8q",sectionHeader1_sticky:"library_section_header--sectionHeader1_sticky--hgsnu ellipsis--ellipsis--1RWY6",sectionHeader1_redesign:"library_section_header--sectionHeader1_redesign--2tKT4 ellipsis--ellipsis--1RWY6",sectionHeader1_normal:"library_section_header--sectionHeader1_normal--236wJ",sectionHeaderH1:"library_section_header--sectionHeaderH1--376h0 ellipsis--ellipsis--1RWY6",sectionHeader3_redesign:"library_section_header--sectionHeader3_redesign--1OMVF ellipsis--ellipsis--1RWY6",sectionHeader3_normal:"library_section_header--sectionHeader3_normal--Anzqq",sectionHeaderH3:"library_section_header--sectionHeaderH3--1mPSU ellipsis--ellipsis--1RWY6",breadcrumbPath:"library_section_header--breadcrumbPath--33Wog",spacer12:"library_section_header--spacer12--Wms-0",spacer16:"library_section_header--spacer16--3Zu2m"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(3,1    ),i=t(340              ),a=t(174                        ),n=t(1241                          ),p=t(1217                                 ),c=t(1229                             ),o=t(1230                              ),d=e=>"isExpandable"in e&&e.isExpandable,h=e=>{let s;return s=e==n.sectionHeaderH1?n.sectionHeader1_redesign:e==n.sectionHeaderH1?n.sectionHeader1_normal:e==n.sectionHeaderH3?n.sectionHeader3_redesign:n.sectionHeader3_normal},l=e=>{const s=[];if(e&&e.length){s.push(r.createElement("div",{className:n.sectionHeader1_sticky,key:e[0]},e[0]+" / "," "));const t=e.slice(1).join(" / ");s.push(r.createElement("div",{className:n.sectionHeader3_redesign,key:t},t," "))}return s};class H extends r.Component{render(){const e="h1"===this.props.size?n.sectionHeaderH1:n.sectionHeaderH3,s=d(this.props)?n.sectionHeaderExpandable:"",t=h(e),i=d(this.props)&&this.props.isFixed?n.isFixed:"";return r.createElement("div",{className:`${t} ${e} ${s} ${i}`},d(this.props)&&r.createElement(a.Svg,{className:this.props.isExpanded?n.expandCaretOpen:n.expandCaret,svg:this.props.isExpanded?c:o}),d(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&r.createElement("div",{className:n.breadcrumbPath},this.props.breadcrumbPath," "),d(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?l(this.props.stickyHeadertokens):r.createElement("div",{className:t},this.props.title))}}s.SectionHeader=H,H.H1_HEIGHT=i.pxToInt(p.h1Height),H.H3_HEIGHT=i.pxToInt(p.h3Height);class m extends r.Component{render(){return r.createElement("div",{className:12===this.props.size?n.spacer12:n.spacer16})}}s.SectionSpacer=m,m.HEIGHT=i.pxToInt(p.tileMargin)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3,1    ),o=n(126          ),s=n(170                        ),r=n(172              ),a=n(1225                                                            ),c=n(1237                                                                             ),d=n(1236                         ),l=n(1239                 ),p=n(340              ),y=n(1240                     ),h=n(1217                                 ),m=n(1242                      ),k=n(164         ),u=p.pxToInt(h.tileThumbHeightList),b=p.pxToInt(h.tileMargin),T=p.pxToInt(h.tileMargin)/2;function E(e,t,n,o){let c="";(s.isRecording()||r.isRunningInteractionTests())&&(c=a.guidToPathFromRoot(e.node_id,n.sceneGraphForTesting).join("-"));const d=o.contextMenuShownForComponent&&o.contextMenuShownForComponent.node_id===e.node_id;return t.isShowingLocalLibraryItems?i.createElement(l.LocalLibraryItemTile,{component:e,height:o.thumbHeight,width:o.thumbWidth,usingSmallThumbLayout:o.thumbLayout===S.SMALL,onComponentMouseDown:o.onComponentMouseDownWithTracking,createTouchAdapter:n.createTouchAdapter,onContextMenu:n.onContextMenu(e),contextMenuShown:d,isFilePublished:t.isFilePublished,recordingNodePath:c,isList:n.isList,isSearch:n.isSearch}):i.createElement(l.LibraryItemTile,{component:e,showName:!0,height:o.thumbHeight,width:o.thumbWidth,usingSmallThumbLayout:o.thumbLayout===S.SMALL,onComponentMouseDown:o.onComponentMouseDownWithTracking,createTouchAdapter:n.createTouchAdapter,onContextMenu:n.onContextMenu(e),contextMenuShown:d,recordingNodePath:c,isList:n.isList,isSearch:n.isSearch})}t.appendComponentsTo=((e,n,i,s,r,a)=>{let l=null;const{stickyKey:p}=s;a.dropdownShown&&a.dropdownShown.type===d.SIDEBAR_TILES_CONTEXT_MENU_ID&&(l=a.dropdownShown.data.component);const y=r.isShowingLocalLibraryItems,h=a.width,m=g(i,y),k={containerWidth:h,isList:a.isList,layout:m},u=f(k),{width:x,height:S}=t.calcThumbSize(k,u),H=S+(a.isList?T:b),P=x+(a.isList?T:b),L=(e,t)=>{o.segmentTrackEvent("Component Tile Mouse Down",{sectionName:r.sectionNameForTracking,isList:a.isList,isSearch:a.isSearch}),a.onComponentMouseDown(e,t,S,x)};let R=0;const _=c.RenderedElementTree.getNextRenderedElementTop(n)+T;for(const t of i){const i={nodeId:t.node_id,isLocal:y},o=a.isList?_+R*H:_+Math.floor(R/u)*H,d=a.isList?0:R%u*P;n.push({parent:e,type:c.RenderedItemType.TILE,top:o,left:d,height:H,key:`${s.keyPrefix}:${t.node_id}:${R}`,element:E(t,r,a,{contextMenuShownForComponent:l,thumbHeight:S,thumbWidth:x,thumbLayout:m,onComponentMouseDownWithTracking:L}),nodeInfo:i,stickyKey:p}),R+=1}}),t.appendStickySectionHeaderTo=((e,t,n)=>{const o=`${n.keyPrefix}:stickySection`,s=c.RenderedElementTree.getNextRenderedElementTop(t),r={parent:e,type:c.RenderedItemType.ROW,top:s,height:m.SectionHeader.H1_HEIGHT,key:o,element:i.createElement(m.SectionHeader,{size:"h1",title:n.title}),stickyKey:null,isSticky:!0,isFixed:!1};return t.push(r),r}),t.appendExpandableStickySectionHeaderTo=((e,t,n)=>{const o=`${n.keyPrefix}:stickySection`,s=c.RenderedElementTree.getNextRenderedElementTop(t),r={parent:e,type:c.RenderedItemType.ROW,top:s,height:"h1"==n.size?m.SectionHeader.H1_HEIGHT:m.SectionHeader.H3_HEIGHT,key:o,element:i.createElement(m.SectionHeader,{size:n.size,isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:null,isFixed:!1}),stickyKey:null,isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:n.isExpanded,getExpandableElement:e=>i.createElement(m.SectionHeader,{size:n.size,isExpandable:!0,isExpanded:e,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:null}),fixedElement:i.createElement(m.SectionHeader,{size:"h1",isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:null,isFixed:!0})};return t.push(r),r}),t.appendExpandableSectionHeaderTo=((e,t,n)=>{const o=`${n.keyPrefix}`,s=c.RenderedElementTree.getNextRenderedElementTop(t),r=e=>i.createElement(m.SectionHeader,{size:"h3",isExpandable:!0,isExpanded:e,title:n.title,breadcrumbPath:n.breadcrumbPath}),a={parent:e,type:c.RenderedItemType.ROW,top:s,height:m.SectionHeader.H1_HEIGHT,key:o,element:r(n.isExpanded),children:[],isExpandable:!0,isExpanded:n.isExpanded,getExpandableElement:r,stickyKey:n.currentStickyKey};return t.push(a),a}),t.appendSeparatorTo=((e,t,n)=>{const o=c.RenderedElementTree.getNextRenderedElementTop(t);t.push({parent:e,type:c.RenderedItemType.ROW,top:o,height:m.SectionSpacer.HEIGHT,key:`${n.keyPrefix}:separator`,element:i.createElement(m.SectionSpacer,{size:n.size}),stickyKey:n.stickyKey})}),t.appendSearchResultsTo=((e,n,o)=>{const{results:s,moreResults:r,showMoreResults:a}=n,{containerMetadata:d,renderingKeys:l,overallOptions:p}=o;if(s.length>0&&t.appendComponentsTo(null,e,s,{stickyKey:l.stickyKey,keyPrefix:`${l.keyPrefix}:searchResults`},d,p),r.length>0){const n=c.RenderedElementTree.getNextRenderedElementTop(e);e.push({parent:null,type:c.RenderedItemType.ROW,top:n,height:40,key:`${l.keyPrefix}:moreResultsLink`,element:i.createElement("div",{className:y.text},a&&"Showing results from all libraries",!a&&i.createElement("a",{className:y.link,onClick:o.toggleShowMoreResults},r.length," more ",k.getPluralOrSingular(r.length,"result")," in all libraries")),stickyKey:l.stickyKey}),a&&t.appendComponentsTo(null,e,r,{keyPrefix:`${l.keyPrefix}:moreSearchResults`,stickyKey:l.stickyKey},d,p)}});const x=(e,n,o,s,r,a,d)=>{const l=Object.assign({},a);null!=o.sectionNameForTracking&&(l.sectionNameForTracking=o.sectionNameForTracking),null!=o.isShowingLocalLibraryItems&&(l.isShowingLocalLibraryItems=o.isShowingLocalLibraryItems),null!=o.isFilePublished&&(l.isFilePublished=o.isFilePublished);const p=`${r.keyPrefix}:${o.key}`;let y=r.stickyKey;switch(o.type){case"FILE":{const e=void 0!==o.name;let i=n;if(e){const e=t.appendStickySectionHeaderTo(null,n,{keyPrefix:p,title:o.name});c.renderedElementIsExpandableStickyRow(e)&&(i=e.children),c.renderedElementIsStickyRow(e)&&(y=e.key)}t.appendComponentsTo(null,i,o.components,{stickyKey:y,keyPrefix:p},l,d);for(const t of o.subtrees)x(null,i,t,o,{keyPrefix:p,stickyKey:y},l,d);e&&t.appendSeparatorTo(null,i,{keyPrefix:p,stickyKey:y,size:12});break}case"PAGE":{const e=s.subtrees.length>1;let i=n;if(e){y=t.appendStickySectionHeaderTo(null,n,{keyPrefix:p,title:o.name}).key}t.appendComponentsTo(null,i,o.components,{stickyKey:y,keyPrefix:p},l,d);for(const t of o.subtrees)x(null,i,t,o,{keyPrefix:p,stickyKey:y},l,d);e&&t.appendSeparatorTo(null,i,{keyPrefix:p,stickyKey:y,size:12});break}case"NAME_GROUP":n.push({parent:null,type:c.RenderedItemType.ROW,top:c.RenderedElementTree.getNextRenderedElementTop(n),height:m.SectionHeader.H3_HEIGHT,key:`${p}${o.key}`,stickyKey:y,element:i.createElement(m.SectionHeader,{size:"h3",title:o.name})}),t.appendComponentsTo(null,n,o.components,{keyPrefix:p,stickyKey:y},l,d);break;case"FRAME":{const e=c.RenderedElementTree.getNextRenderedElementTop(n),s=p,r=d.isExpanded(s,!1),a=e=>i.createElement(m.SectionHeader,{size:"h3",isExpandable:!0,isExpanded:e,title:o.name}),h={parent:null,type:c.RenderedItemType.ROW,top:e,height:m.SectionHeader.H3_HEIGHT,key:`${s}`,element:a(r),getExpandableElement:a,isExpandable:!0,isExpanded:r,children:[],stickyKey:y};n.push(h),t.appendComponentsTo(null,h.children,o.components,{keyPrefix:p,stickyKey:y},l,d);break}case"FILE_V2":{const i=void 0!==o.name;let s=n;const r=`${p}:stickySection`;let a=null;i&&(s=(a=t.appendExpandableStickySectionHeaderTo(null,n,{keyPrefix:p,size:"h1",title:o.name,isExpanded:d.isExpanded(r,"Used in this file"!==o.sectionNameForTracking),stickyHeaderTokens:o.stickyHeaderTokens?o.stickyHeaderTokens:null})).children,y=a.key);const c=a||e;t.appendComponentsTo(c,s,o.components,{stickyKey:y,keyPrefix:p},l,d);for(const e of o.subtrees)x(c,s,e,o,{keyPrefix:p,stickyKey:y},l,d);i&&t.appendSeparatorTo(c,s,{keyPrefix:p,stickyKey:y,size:16});break}case"PAGE_V2":{const i=`${p}:stickySection`;let r=n,a=null;s.subtrees.length>1&&(r=(a=t.appendExpandableStickySectionHeaderTo(e,n,{keyPrefix:p,title:o.name,size:"h3",isExpanded:d.isExpanded(i,!1),stickyHeaderTokens:o.stickyHeaderTokens?o.stickyHeaderTokens:null})).children,y=a.key);const c=a||e;t.appendComponentsTo(c,r,o.components,{stickyKey:y,keyPrefix:p},l,d);for(const e of o.subtrees)x(c,r,e,o,{keyPrefix:p,stickyKey:y},l,d);break}case"NAME_GROUP_V2":{const i=`${p}:stickySection`;let s=n,r=null;if(!o.skipElementInRendering){s=(r=t.appendExpandableStickySectionHeaderTo(e,n,{keyPrefix:p,size:"h3",title:o.flattenedPath?o.flattenedPath:o.name,isExpanded:d.isExpanded(i,!1),breadcrumbPath:o.breadcrumbPath?o.breadcrumbPath:null,stickyHeaderTokens:o.stickyHeaderTokens?o.stickyHeaderTokens:null})).children,y=r.key;const a=r||e;t.appendComponentsTo(a,s,o.components,{stickyKey:y,keyPrefix:p},l,d)}const a=r||e;for(const e of o.subtrees)x(a,s,e,o,{keyPrefix:p,stickyKey:y},l,d);break}}};var S;t.appendComponentsTreeTo=((e,n,i,o)=>{n.components.length>0&&t.appendComponentsTo(null,e,n.components,i,{},o);for(const t of n.subtrees)x(null,e,t,n,i,{},o)}),function(e){e[e.WIDE=0]="WIDE",e[e.SMALL=1]="SMALL",e[e.NORMAL=2]="NORMAL"}(S||(S={}));const g=(e,t)=>{let n=!0,i=!0;for(const o of e){let e,s;if(t){const t=o;e=t.width,s=t.height}else{const t=o;e=t.min_node_width,s=t.min_node_height}if(!e||!s)return S.NORMAL;if(e<3*s&&(n=!1),(e>=50||s>=50)&&(i=!1),!n&&!i)break}return n?S.WIDE:i?S.SMALL:S.NORMAL},f=e=>{const{containerWidth:t,isList:n,layout:i}=e;if(n)return 1;switch(i){case S.WIDE:return t<=300?1:t<=450?2:3;case S.SMALL:const e=40+b;return Math.ceil((t-32+b)/e);case S.NORMAL:const n=100;return Math.floor(t/n)}};t.calcThumbSize=((e,t)=>{const{containerWidth:n,isList:i,layout:o}=e;if(i)return{width:u,height:u};const s=(n+2-(t-1)*b-32)/t;return{width:s,height:o===S.WIDE?Math.ceil(s/4):s}})}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(131                                        ),o=i(106                                     ),n=i(172              ),r=i(401                              ),a=i(231                                              ),c=i(126          ),l=i(145         ),p=i(391                                              ),g=i(146                                          ),h=i(1236                         ),u=i(1217                                 ),d=i(340              ),m=i(155                       ),f=i(156                                ),b=i(141                ),v=i(1238                     ),y=i(163                               ),w=i(365                                   ),_=d.pxToInt(u.tileHeightDraggingList);class M extends n.Component{constructor(){super(...arguments),this.onContextMenu=(e=>t=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(o.fileBrowser.showDropdown({type:h.SIDEBAR_TILES_CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&!p.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(r.clearSelection(),y.Fullscreen.setCurrentPageFromNode(e.node_id),r.addToSelection([e.node_id]),g.fullscreen.commit())}),this.thumbImage=null,this.isMouseDraggedOverCanvas=!1,this.onComponentMouseDown=((e,t,i,o)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,t.isLocal||m.teamLibraryItemSceneGraphCache.get(t),this.props.dispatch(s.library.setSparseDragState({draggingComponent:t,draggingThumbHeight:i,draggingThumbWidth:o})),document.addEventListener("mouseup",this.onDocumentMouseUp);const n=e.currentTarget,r=n.getBoundingClientRect(),a=new l.Vector(r.left,r.top),c=new l.Vector(e.clientX,e.clientY);this.thumbImage=new Image,this.thumbImage.src=t.thumbnail_url;const p=this.props.viewMode===h.ComponentsSidebarViewMode.List;let g,u,d=this.thumbImage.naturalWidth/2,f=this.thumbImage.naturalHeight/2;d>f?u=(g=Math.min(d,o))*(f/d):g=(u=Math.min(f,i))*(d/f);const b=new l.Vector(o/2-g/2,i/2-u/2);let y=c.subtract(a);if(p){const e=n.querySelector(`.${v.nameList.replace(/\s/g,".")}`);if(e){const t=e.getBoundingClientRect();c.x>t.right&&(y=y.subtract(new l.Vector(c.x-t.right,0)))}}let w=new l.Vector((y.x-b.x)/g,(y.y-b.y)/u);this.originalDragOffset=y,this.originalDragPosition=c,p&&(w=new l.Vector(.5,.5)),this.props.dispatch(s.library.setSparseDragState({dragOffset:y,componentMousePercentageOffset:w,draggingThumbHeight:i,draggingThumbWidth:o})),document.addEventListener("mousemove",this.onDocumentMouseMove)}),this.onDocumentMouseMove=n.mouseEvent(this,"mousemove",e=>{const t=this.props.library.dragState.draggingComponent,i=new l.Vector(e.clientX,e.clientY),o={dragPosition:i},n=this.props.viewMode===h.ComponentsSidebarViewMode.List;this.isClick&&this.props.library.dragState.dragPosition&&this.originalDragPosition.distanceTo(i)>5&&(this.props.sceneGraphSelection&&t&&(r.clearSelection(),g.fullscreen.commit()),this.isClick=!1),!this.isClick&&n&&(this.updateIsMouseDraggedOverCanvas(e.clientX,e.clientY),this.draggingLibraryItemEl&&(o.dragOffset=this.isMouseDraggedOverCanvas?new l.Vector(_/2,_/2):this.originalDragOffset)),this.props.dispatch(s.library.setSparseDragState(o))},{recordMetadata:e=>{const t=g.fullscreen.getViewportInfo(),i=new l.Vector(t.x,t.y),s=new l.Vector(e.clientX,e.clientY).subtract(i);return{canvasPosition:f.viewportPositionToCanvas(t,s)}},playbackMetadata:e=>{const t=g.fullscreen.getViewportInfo(),i=new l.Vector(t.x,t.y),s=f.canvasPositionToViewport(t,e.canvasPosition),o=l.Vector.add(s,i);return{clientX:o.x,clientY:o.y}}}),this.onDocumentMouseUp=n.mouseEvent(this,"mouseup",e=>{this.updateIsMouseDraggedOverCanvas(e.clientX,e.clientY);const t=this.props.library.dragState.draggingComponent;if(this.thumbImage.onload=null,this.isClick){if(this.props.sceneGraphSelection&&t){const i=t.node_id;e.shiftKey||e.metaKey?p.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,i)?r.removeFromSelection([i]):r.addToSelection([i]):(r.clearSelection(),y.Fullscreen.setCurrentPageFromNode(i),r.addToSelection([i])),g.fullscreen.commit()}}else if(this.isMouseDraggedOverCanvas){const e=g.fullscreen.getViewportInfo(),i=new l.Vector(e.x,e.y),s=this.props.library.dragState.dragPosition.subtract(i),o=f.viewportPositionToCanvas(e,s),n=b.getEditingFile(this.props);c.segmentTrackEvent("Instance Dropped",{isLocal:n.key===t.file_key,viewMode:this.props.viewMode===h.ComponentsSidebarViewMode.Grid?"GRID":"LIST",searchQuery:this.props.library.localSearch.components.query,source:this.props.sourceForTracking}),this.props.dispatch(a.insertSharedComponent({component:t,canvasPosition:o,percentageOffset:this.props.library.dragState.componentMousePercentageOffset,insertAsChildOfCanvas:!1}))}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.props.dispatch(s.library.setSparseDragState({draggingComponent:null,dragPosition:null,draggingThumbHeight:null,draggingThumbWidth:null})),this.originalDragOffset=null,this.draggingLibraryItemEl=null,this.isMouseDraggedOverCanvas=!1},{recordMetadata:e=>{const t=g.fullscreen.getViewportInfo(),i=new l.Vector(t.x,t.y),s=new l.Vector(e.clientX,e.clientY).subtract(i),o=f.viewportPositionToCanvas(t,s);return{shiftKey:e.shiftKey,metaKey:e.metaKey,canvasPosition:o}},playbackMetadata:e=>{const t=g.fullscreen.getViewportInfo(),i=new l.Vector(t.x,t.y),s=f.canvasPositionToViewport(t,e.canvasPosition),o=l.Vector.add(s,i);return{shiftKey:e.shiftKey,metaKey:e.metaKey,clientX:o.x,clientY:o.y}}}),this.createTouchAdapter=(e=>new w.TouchToMouseAdapter(this,e,this.onDocumentMouseMove,this.onDocumentMouseUp,{mustBeHorizontal:!0,observeInsideOverflowScroll:!0}))}updateIsMouseDraggedOverCanvas(e,t){const i=g.fullscreen.getViewportInfo();this.isMouseDraggedOverCanvas=!this.isClick&&this.props.library.dragState.draggingComponent&&e>=i.x&&e<i.x+i.width&&t>=i.y&&t<i.y+i.height}}t.LibraryItemsContainer=M,M.displayName="LibraryItemsContainer"}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(3,1    ),a=s(7,1        ),t=s(172              ),c=s(597                                        ),h=s(1128                             );class n extends t.Component{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")}),this.librarySearchInputRef=(e=>{this.librarySearchInput=e,this.props.isVisible&&this.focusSearch()}),this.focusSearch=(()=>{if(this.librarySearchInput&&this.props.isVisible){if(a.findDOMNode(this.librarySearchInput).getBoundingClientRect().top<0)return;this.librarySearchInput.focus()}}),this.isSearchKeyDownHandled=(e=>!!e.altKey&&(c.forwardKeyboardEvent(e),!0)),this.focus=(()=>{this.librarySearchInput&&this.librarySearchInput.focus()})}componentDidUpdate(e){!e.isVisible&&this.props.isVisible?this.focusSearch():e.isVisible&&!this.props.isVisible&&this.librarySearchInput.blur()}render(){return i.createElement(h.SearchBar,{ref:this.librarySearchInputRef,className:this.props.className,focusOnMount:!1,extraSpacing:this.props.extraSpacing,query:this.props.query,clearSearch:this.clearSearch,onChange:this.props.onChange,isKeyDownHandled:this.isSearchKeyDownHandled,useDeprecatedStyles:!0})}}r.LibrarySearch=n,n.displayName="LibrarySearch"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(122        ),o=n(155                       ),a=n(1236                         );function r(e,t){const n={},s={},o=[];return e.forEach(e=>{const a=t(e);if(null==a)return;const r=a.containing_frame||null;if(r&&r.pageId){const t=r.pageId,o=r.pageName||"";s[t]=o,n[t]=n[t]||[],n[t].push(e)}else o.push(e)}),{itemsByPageId:n,pageNamesByPageId:s,itemsWithoutPage:o}}function c(e){return r(e,e=>e)}t.consolidatePages=function(e,t,n,s){for(const o of e.get(n))e.get(s).push(o);e.delete(n),t.delete(n)},t.groupItemsByComponentPageId=r,t.groupComponentsByPageId=c;const p="0:1";function m(e,t,n){if(0!==n.length)if(1===Object.keys(e).length&&1===Object.keys(t).length){e[Object.keys(e)[0]].push(...n),n.splice(0,n.length)}else t[p]&&e[p]&&(e[p].push(...n),n.splice(0,n.length))}t.moveItemsWithoutPageOntoMostLikelyPage=m;const i=(e,t)=>{const n={},a=[];for(const s of t){let e=o.getNameParts(s.name);if(s.containing_frame&&s.containing_frame.name&&(e=[s.containing_frame.name,...e]),e.length>1){e.pop();const t=e.join(" / ");n[t]=n[t]||[],n[t].push(s)}else a.push(s)}s.sortAlphabeticallyByProperty(a,"name");const r=Object.keys(n);if(s.sortAlphabeticallyByFn(r,e=>e),a.length>0)for(const s of a)e.components.push(s);for(const o of r){const t={type:"NAME_GROUP",name:o,key:o,components:[],subtrees:[]},a=n[o];s.sortAlphabeticallyByProperty(a,"name");for(const e of a)t.components.push(e);e.subtrees.push(t)}return e};t.addSortedComponentsByFrame=((e,t)=>{const n={},o=[];for(const s of t){const e=s.containing_frame;e&&e.nodeId&&e.nodeId!==s.node_id?(n[e.nodeId]=n[e.nodeId]||[],n[e.nodeId].push(s)):o.push(s)}s.sortAlphabeticallyByProperty(o,"name");const a=Object.keys(n);if(s.sortAlphabeticallyByFn(a,e=>n[e][0].containing_frame.name),o.length>0)for(const s of o)e.components.push(s);for(const r of a){const t=n[r];s.sortAlphabeticallyByProperty(t,"name");const o={type:"FRAME",name:t[0].containing_frame.name,key:t[0].containing_frame.nodeId,components:[],subtrees:[]};for(const e of t)o.components.push(e);e.subtrees.push(o)}return e}),t.addSortedComponentsByPage=((e,n,o)=>{const{itemsByPageId:a,pageNamesByPageId:r,itemsWithoutPage:p}=c(n);m(a,r,p);const l=Object.keys(a);s.sortAlphabeticallyByFn(l,e=>r[e]);for(const s of l){const n=r[s],c=a[s];if(o.sortByName){const t={type:"PAGE",name:n,key:s,components:[],subtrees:[]};i(t,c),e.subtrees.push(t)}else{const o={type:"PAGE",name:n,key:s,components:[],subtrees:[]};t.addSortedComponentsByFrame(o,c),e.subtrees.push(o)}}return e}),t.getFormattedBreadcrumbPath=((e,t)=>{let n=[...e];if(t&&t.length&&e&&e.length){const s=e.length-t.length;for(let o=t.length-1;o>=0;--o)o+s<e.length&&e[o+s]===t[o]&&n.pop()}return n.length>0?n.join(" / ")+" /":""}),t.sortAndGroupItemsByPathName=((e,n,o,a)=>{let r=[],c=new Map;for(const s of e)n&&(s.flattenedPath=n.concat(s.name).join(" / ")),o&&(s.breadcrumbPath=t.getFormattedBreadcrumbPath(o,n)),a&&(s.stickyHeaderTokens=a.concat(s.name)),c.has(s.name)?(s.subtrees&&s.subtrees.length&&c.get(s.name).subtrees.push(...s.subtrees),s.components&&s.components.length&&c.get(s.name).components.push(...s.components)):c.set(s.name,s);for(let p of c.values()){let e=n,c=o,m=a.concat(p.name);const i=new Set;for(const t of p.subtrees)i.add(t.name);c=c.concat(p.name),"PAGE_V2"!==p.type&&(0==p.components.length&&1==i.size?(p.skipElementInRendering=!0,e=e.concat(p.name)):e=[]),p.subtrees=t.sortAndGroupItemsByPathName(p.subtrees,e,c,m),s.sortAlphabeticallyByProperty(p.subtrees,"name"),r.push(p)}return r}),t.addDeepNestedComponentsByPath=((e,t)=>{s.sortAlphabeticallyByProperty(t,"name");const n=Object.create(null);for(const s of t){const t=o.getNameParts(s.name);let a="";for(let o=0;o<t.length;o++){const r=t[o],c=a,p=o<t.length-1;let m;if(a+=r+(p?"/":""),m=n[c]?n[c]:e,p&&!n[a]){let e={type:"NAME_GROUP_V2",name:r,key:r,components:[],subtrees:[]};n[a]=e,m.subtrees.push(e)}p||m.components.push(s)}}}),t.addDeepNestedComponentsByFrame=((e,n)=>{const s={},o=[],a={};for(const t of n)if(t.containing_frame&&t.containing_frame.nodeId){const e=t.containing_frame.nodeId;s[e]=s[e]||[],s[e].push(t),a[e]=t.containing_frame}else o.push(t);const r=Object.keys(s).length;if(r>0||1===r&&o.length){for(const n in s){const o=a[n],r=s[n];let c;c={type:"NAME_GROUP_V2",name:o.name,key:o.nodeId,components:[],subtrees:[]},e.subtrees.push(c),t.addDeepNestedComponentsByPath(c,r)}t.addDeepNestedComponentsByPath(e,o)}else t.addDeepNestedComponentsByPath(e,n)}),t.addDeepNestedSortedComponentsByPage=((e,n)=>{const{itemsByPageId:o,pageNamesByPageId:a,itemsWithoutPage:r}=c(n);m(o,a,r);const p=Object.keys(o);if(s.sortAlphabeticallyByFn(p,e=>a[e]),p.length>1||1===p.length&&r.length){for(const n of p){const s={type:"PAGE_V2",name:a[n],key:n,components:[],subtrees:[]};e.subtrees.push(s),t.addDeepNestedComponentsByFrame(s,o[n])}t.addDeepNestedComponentsByFrame(e,r)}else t.addDeepNestedComponentsByFrame(e,n);e.subtrees=t.sortAndGroupItemsByPathName(e.subtrees,[],[],[e.name]),s.sortAlphabeticallyByProperty(e.subtrees,"name")}),t.generateDeepNestSortedComponentsTreeForAssetsPanel=(e=>{const n={components:[],subtrees:[]},{allItems:s,publishedItems:o,privateItems:r,numPublished:c}=e.componentsInfo,{fileKeyToSubscribedItems:p,subscribedFiles:m}=e.subscribedComponentsInfo,i=c>0&&e.canPublish,l=i&&r.length>0,d=l?o:s,u={components:[],subtrees:[],key:"localComponents",name:s.length>0?"Local components":void 0,type:"FILE_V2",sectionNameForTracking:"Local components",isFilePublished:i,isShowingLocalLibraryItems:!0,stickyHeaderTokens:[]};if(n.subtrees.push(u),!l&&a.componentsAllOnePageAndNoFrames(d)?(t.addDeepNestedComponentsByFrame(u,d),u.subtrees=t.sortAndGroupItemsByPathName(u.subtrees,[],[],[u.name])):t.addDeepNestedSortedComponentsByPage(u,d),l){const e={components:[],subtrees:[],key:"privateToThisFile",name:"Private to this file",type:"PAGE_V2",sectionNameForTracking:"Local private components",isFilePublished:i,isShowingLocalLibraryItems:!0,stickyHeaderTokens:[]};t.addDeepNestedSortedComponentsByPage(e,r),u.subtrees.push(e)}if(e.otherUsedComponents.length>0){const t={components:[],subtrees:[],key:"usedInThisFile",name:"Used in this file",type:"FILE_V2",isFilePublished:!0,isShowingLocalLibraryItems:!1,sectionNameForTracking:"Used in this file",stickyHeaderTokens:[]};for(const n of e.otherUsedComponents)t.components.push(n);n.subtrees.push(t)}for(const a of m){const e=a.key,s={components:[],subtrees:[],key:`subscribedComponents:${e}`,name:a.name,type:"FILE_V2",isFilePublished:!0,isShowingLocalLibraryItems:!1,sectionNameForTracking:"Subscribed libraries",subscribedFileKey:e};t.addDeepNestedSortedComponentsByPage(s,p[a.key]),n.subtrees.push(s)}return n})}),
(function(n,e,o){n.exports={element:"component_scroll_container--element--_k-Bq",rowElement:"component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",stickyRowElement:"component_scroll_container--stickyRowElement--1tY_U component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",stickyRowFixedElement:"component_scroll_container--stickyRowFixedElement--zdnPW component_scroll_container--rowElement--yfihS component_scroll_container--element--_k-Bq",selectedRow:"component_scroll_container--selectedRow--3Pcbt",scrollContentContainer:"component_scroll_container--scrollContentContainer--cTGAq"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(3,1    ),o=s(172              ),i=s(347                                                  ),n=s(1237                                                              ),r=s(1247                              ),c=s(179                         );class h extends o.Component{constructor(e){super(e),this.elementsCache={allElementsTree:new n.RenderedElementTree(-1),elementsInView:[],totalHeight:0,isDirty:!1},this.heightFrameRequest=null,this.recalculateLayout=(()=>{this.nextHeight=window.innerHeight,null===this.heightFrameRequest&&(this.heightFrameRequest=requestAnimationFrame(this.setWindowHeight))}),this.setWindowHeight=(()=>{this.elementsCache.isDirty=!0,this.setState({windowHeight:this.nextHeight}),this.heightFrameRequest=null}),this.scrollContainerRef=l.createRef(),this.scrollFrameRequest=null,this.nextScrollTop=0,this.onScroll=(e=>{this.nextScrollTop=e,null===this.scrollFrameRequest&&(this.scrollFrameRequest=requestAnimationFrame(this.setScrollTop)),this.props.onScroll&&this.props.onScroll(e)}),this.setScrollTop=(()=>{this.elementsCache.isDirty=!0,this.setState({scrollTop:this.nextScrollTop}),this.scrollFrameRequest=null,this.props.setScrollTop&&this.props.setScrollTop(this.nextScrollTop)}),this.scrollPositionCache={previous:{key:null,top:0,offset:0,scrollTop:0},scrollToPositionAfterUpdate:null},this.toggleExpand=(e=>{const t=this.elementsCache.allElementsTree.findExpandableElementWithKey(e);if(t){const s=!t.isExpanded;t.isExpanded=s,t.element=t.getExpandableElement(s),this.elementsCache.allElementsTree.setExpandKey(e,s),this.elementsCache.isDirty=!0,this.forceUpdate()}}),this.state={scrollTop:0,windowHeight:0},this.recalculateLayout(),this.elementsCache.allElementsTree.allElements=e.scrollContent,this.elementsCache.isDirty=!0}componentDidMount(){window.addEventListener("resize",this.recalculateLayout)}componentWillUnmount(){window.removeEventListener("resize",this.recalculateLayout)}UNSAFE_componentWillUpdate(e){this.props.scrollContent!==e.scrollContent&&(this.elementsCache.allElementsTree.allElements=e.scrollContent,this.elementsCache.isDirty=!0)}componentDidUpdate(e,t){const s=this.scrollContainerRef.current;if(!s)return;const l=this.props.getViewportHeight(this.state.windowHeight);if(this.props.initialScrollToKey&&this.props.initialScrollToKey!==e.initialScrollToKey){const e=Math.min(this.elementsCache.allElementsTree.getActualTop(this.props.initialScrollToKey)||1/0,this.elementsCache.totalHeight-l),t=this.props.topOffset||0;return s.scrollTo(e+t+1),void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate?(s.scrollTo(this.scrollPositionCache.scrollToPositionAfterUpdate),void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)):void 0}recordingKey(){return this.props.recordingKey}refreshElementsInView(){if(!this.elementsCache.isDirty)return;const e=this.props.getViewportHeight(this.state.windowHeight);let{elementsInView:t,stickyHeader:s,stickyHeaderOffset:l}=this.elementsCache.allElementsTree.getRenderedElementsInView(this.state.scrollTop,e);if(this.restoreScrollPositionIfNecessary(s,l,this.state.scrollTop)){const s=this.scrollPositionCache.scrollToPositionAfterUpdate;t=this.elementsCache.allElementsTree.getRenderedElementsInView(s,e).elementsInView}this.elementsCache.elementsInView=t,this.elementsCache.totalHeight=this.elementsCache.allElementsTree.getTotalHeight(),this.elementsCache.isDirty=!1}restoreScrollPositionIfNecessary(e,t,s){this.scrollPositionCache.scrollToPositionAfterUpdate=null;const l=this.scrollPositionCache.previous,o={key:e&&e.key,top:e&&e.top,offset:t,scrollTop:s};if(this.scrollPositionCache.previous=o,o.scrollTop!==l.scrollTop)return!1;const i=l.key!==o.key||l.top!==o.top;if(!l.key||!i)return!1;const n=this.elementsCache.allElementsTree.getActualTop(l.key);if(null!==n){const e=this.props.topOffset||0;this.scrollPositionCache.scrollToPositionAfterUpdate=n+l.offset+e}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate}getClassNameForRenderedElement(e){let t="",s="";switch(e.type){case n.RenderedItemType.TILE:const o=!!this.props.isTileSelected&&this.props.isTileSelected(e);this.props.isList?(t=r.rowElement,s=o?r.selectedRow:"",e.element=l.cloneElement(e.element,{isSomeComponentBeingDragged:this.props.isDragging||!1})):(t=r.element,e.element=l.cloneElement(e.element,{selected:o}));break;case n.RenderedItemType.ROW:t=r.rowElement,n.renderedElementIsStickyRow(e)&&(t=e.isFixed&&0!==this.state.scrollTop?r.stickyRowFixedElement:r.stickyRowElement)}return`${t} ${s}`}renderElementsInView(){const e=[];for(const[t,s]of this.elementsCache.elementsInView.entries()){const o={top:s.top,height:s.height};if(s.type===n.RenderedItemType.TILE)if(o.left=s.left,this.props.isList)s.element=l.cloneElement(s.element,{isSomeComponentBeingDragged:this.props.isDragging||!1});else{const e=!!this.props.isTileSelected&&this.props.isTileSelected(s);s.element=l.cloneElement(s.element,{selected:e})}s.type===n.RenderedItemType.ROW&&n.renderedElementIsStickyRow(s)&&s.isFixed&&0!==this.state.scrollTop&&(o.top=0,s.fixedElement&&(s.element=s.fixedElement));let i=n.renderedElementIsExpandableRow(s);i&&t>0&&(i=!(n.renderedElementIsStickyRow(s)&&s.isFixed));const r=i?()=>{this.toggleExpand(s.key)}:void 0;e.push(l.createElement("div",{key:s.key,style:o,className:this.getClassNameForRenderedElement(s),onMouseDown:r},s.element))}return e}render(){return this.refreshElementsInView(),l.createElement(i.ScrollContainer,Object.assign({},this.props,{ref:this.scrollContainerRef,onScroll:this.onScroll}),this.props.renderEmptyState&&this.props.renderEmptyState(),l.createElement(c.RecordableDiv,{onMouseUp:this.props.onMouseUp,recordingKey:this.props.recordingKey,style:{height:this.elementsCache.totalHeight},className:r.scrollContentContainer},this.renderElementsInView()))}}t.ComponentScrollContainer=h,h.displayName="ComponentScrollContainer"}),
(function(h,v,o){h.exports={src:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h2v1H6V6zm0 10h2v1H6v-1zm0-5h2v1H6v-1zm4-5h8v1h-8V6zm0 10h8v1h-8v-1zm0-5h8v1h-8v-1z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(h,v,t){h.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M4 1H1v3h3V1zM0 0v5h5V0H0zm11 1H8v3h3V1zM7 0v5h5V0H7zM4 8H1v3h3V8zM0 7v5h5V7H0zm11 1H8v3h3V8zM7 7v5h5V7H7z" fill-rule="evenodd" fill-opacity="1" fill="#454545" stroke="none"/></svg>'}}),
(function(l,L,t){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M5.063 3.938l.707.707 2.523 2.523.707.707.707-.707 2.523-2.523.707-.707-.707-.708L9.707.707 9 0l-.707.707L5.77 3.23l-.707.708zm6.46 0L9 6.46 6.477 3.937 9 1.414l2.523 2.524zm-6.46 10.124l.707.708 2.523 2.523L9 18l.707-.707 2.523-2.523.707-.707-.707-.708-2.523-2.523L9 10.125l-.707.707-2.523 2.523-.707.707zm6.46 0L9 16.587l-2.523-2.523L9 11.538l2.523 2.524zM.707 9.707L0 9l.707-.707L3.23 5.77l.708-.707.707.707 2.523 2.523.707.707-.707.707-2.523 2.523-.707.707-.708-.707L.707 9.707zm3.23 1.816L6.462 9 3.937 6.477 1.414 9l2.524 2.523zM10.125 9l.707.707 2.523 2.523.707.707.708-.707 2.523-2.523L18 9l-.707-.707L14.77 5.77l-.707-.707-.708.707-2.523 2.523-.707.707zm6.46 0l-2.523 2.523L11.54 9l2.524-2.523L16.585 9z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,v){l.exports={src:'<svg width="18" height="13" viewBox="0 0 18 13" xmlns="http://www.w3.org/2000/svg"><path d="M7.873 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.322 1.442 6.295.84 4.42.84.797.84 0 3.09 0 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759H16V3.317l-.03-.05c-.086-.138-.236-.339-.475-.545-.46-.397-1.33-.882-2.915-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3,1    ),o=r(7,1        ),i=r(106                                     ),n=r(131                                        ),a=r(172              ),l=r(126          ),c=r(174                        ),p=r(141                ),h=r(391                                              ),m=r(401                              ),d=r(212      ),y=r(86      ),g=r(1243                     ),b=r(1236                         ),S=r(1239                 ),u=r(340              ),_=r(411                                        ),C=r(147                       ),f=r(192                            ),w=r(155                       ),E=r(95                      ),v=r(163                               ),L=r(136                            ),I=r(1244                       ),T=r(1245                                                              ),M=r(179                         ),K=r(598                                                                  ),N=r(1240                     ),D=r(534                                                    ),k=r(1246                       ),P=r(1248                                                                     ),R=r(1237                                                                             ),B=r(1249                                 ),x=r(1250                                 ),F=u.pxToInt(_.searchInputHeight),O=u.pxToInt(_.toolbarHeight);class U extends I.LibraryItemsContainer{constructor(e){super(e),this.draggingLibraryItemRef=(e=>{this.draggingLibraryItemEl=o.findDOMNode(e)}),this.isDragging=((e=this.props)=>!!(e.library.dragState&&e.library.dragState.draggingComponent&&e.library.dragState.dragPosition)),this.scrollContent=[],this.getComponentScrollContainerProps=(()=>{const e=this.props.viewMode===b.ComponentsSidebarViewMode.List;return{scrollContent:this.scrollContent,recordingKey:"componentsListContainer",isList:e,getViewportHeight:e=>e-2*O,topOffset:F,initialScrollToKey:this.initialScrollToKey,isDragging:this.isDragging(),isTileSelected:e=>e.nodeInfo.isLocal&&this.props.sceneGraphSelection&&h.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.nodeInfo.nodeId),onMouseUp:this.clearSelection,renderEmptyState:this.renderEmptyState,width:this.props.width,className:N.scrollContainerFullHeight,initialScrollTop:this.props.initialScrollTop,showScrollbar:!0,onScroll:this.props.onScroll}}),this.initializeScrollContents=(e=>{const t=b.getLocalLibraryItemsInfo(e.library.local.components),r=b.getSubscribedComponentsInfo(e.library,e.editingFileKey,e.fileByKey),s=f.getOtherUsedComponents(e.sceneGraph,e.subscribedComponents,e.library,e.fileByKey,e.dispatch),o=t.allItems.length+r.subscribedFiles.length+s.length===0,i=!o&&!!e.library.localSearch.components.query,n=e.viewMode===b.ComponentsSidebarViewMode.List,a=p.getEditingFile(e),l=a?e.teams[a.team_id]:null,c=!!l&&E.canAccessProFeature(l),h={scrollContent:[],scrollToKey:null,isEmpty:o},m={onContextMenu:this.onContextMenu,onComponentMouseDown:this.onComponentMouseDown,createTouchAdapter:this.createTouchAdapter,isList:n,isSearch:i,width:e.width,dropdownShown:e.dropdownShown,sceneGraphForTesting:e.sceneGraph,canCollapseSections:!e.library.localSearch.components.query,isExpanded:R.RenderedElementTree.isExpandedKey,scrollToHeaderIfFileKeyMatches:(e,t)=>{H&&e.subscribedFileKey&&H===e.subscribedFileKey&&(h.scrollToKey=t.key,H=null)}};if(i){const{results:t,moreResults:r}=e.library.localSearch.components;return t.length+r.length===0?h:(g.appendSearchResultsTo(h.scrollContent,e.library.localSearch.components,{renderingKeys:{stickyKey:null,keyPrefix:"searchResults"},containerMetadata:{sectionNameForTracking:"Search results",isFilePublished:!0,isShowingLocalLibraryItems:!1},overallOptions:m,toggleShowMoreResults:this.toggleShowMoreResults}),h)}const d=k.generateDeepNestSortedComponentsTreeForAssetsPanel({componentsInfo:t,subscribedComponentsInfo:r,otherUsedComponents:s,isList:n,canPublish:c});return g.appendComponentsTreeTo(h.scrollContent,d,{keyPrefix:"root",stickyKey:void 0},m),h}),this.clearSelection=(()=>{this.props.dropdownShown&&this.props.dropdownShown.type===b.SIDEBAR_TILES_CONTEXT_MENU_ID||m.clearSelection()}),this.renderEmptyState=(()=>{const{components:e,styles:t}=this.props.library.localSearch,r=this.showSearchBar&&!!e.query,o=e.isLoading||t.isLoading,i=0===this.scrollContent.length;return s.createElement("div",null,r&&s.createElement("div",{className:N.stickySearchBuffer}),r&&i&&s.createElement("div",{className:N.text},o?s.createElement(G,null,"Searching..."):s.createElement(G,null,"No results for '",e.query,"'")),!r&&i&&s.createElement(j,{dispatch:this.props.dispatch}))}),this.generatePrivateComponentsByID=((e=this.props)=>{const{privateItems:t}=b.getLocalLibraryItemsInfo(e.library.local.components);this.privateComponentsByID=t.reduce((e,t)=>(e[t.node_id]=t,e),{})}),this.librarySearch=null,this.librarySearchRef=(e=>{this.librarySearch=e}),this.showSearchBar=!1,this.handleKeyDown=(e=>{(y.chromeos?e.altKey&&e.shiftKey&&e.keyCode===d.Key.KEY_2:e.altKey&&e.keyCode===d.Key.KEY_2)&&this.librarySearch&&this.librarySearch.focus()}),this.toggleShowMoreResults=(()=>{this.props.dispatch(n.library.setLocalSearchShowMoreResults({type:C.LibraryItemType.COMPONENT,showMoreResults:!this.props.library.localSearch.components.showMoreResults}))}),this.onSearchQueryChange=(e=>{this.props.dispatch(n.library.setLocalQuery({query:e,type:C.LibraryItemType.COMPONENT}))}),this.state={scrollTop:0};const{scrollContent:t,scrollToKey:r,isEmpty:i}=this.initializeScrollContents(e);this.scrollContent=t,this.initialScrollToKey=r,this.showSearchBar=!i}componentDidMount(){this.generatePrivateComponentsByID(),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.handleKeyDown)}UNSAFE_componentWillUpdate(e){if(this.props.library.local.components!==e.library.local.components||this.props.library.local.styles!==e.library.local.styles||this.props.library.published!==e.library.published||this.props.library.subscriptions!==e.library.subscriptions||this.props.library.localSearch!==e.library.localSearch||this.props.width!==e.width||this.props.viewMode!==e.viewMode){const{scrollContent:t,scrollToKey:r,isEmpty:s}=this.initializeScrollContents(e);this.scrollContent=t,this.initialScrollToKey=r,this.showSearchBar=!s}this.props.library.local.components===e.library.local.components&&this.props.library.local.styles===e.library.local.styles||this.generatePrivateComponentsByID(e),!this.isDragging()&&this.isDragging(e)&&l.segment.track("Component Sidebar Dragged",{viewMode:b.viewModeToString(e.viewMode)})}recordingKey(){return"componentsSidebar"}render(){const e=this.props.viewMode===b.ComponentsSidebarViewMode.List,t=this.props.library.localSearch.components,r=this.showSearchBar&&!!t.query,o=0===this.scrollContent.length,i=this.props.leftPanel.activeTab===v.LeftPanelTab.PUBLISH,{numPublished:n}=b.getLocalLibraryItemsInfo(this.props.library.local.components),l=p.getEditingFile(this.props),c=!!l&&E.canAccessProFeature(this.props.teams[l.team_id]);let h=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===b.SIDEBAR_TILES_CONTEXT_MENU_ID){h=this.props.dropdownShown.data.component}const m=w.hasPendingUpdatesToPublish(this.props),d=f.numUpdates(this.props.library)>0||m;return s.createElement(M.RecordableDiv,{recordingKey:"localComponents",className:N.container},s.createElement("div",{className:this.state.scrollTop>0?N.headerContainerWithShadow:N.headerContainer},s.createElement(T.LibrarySearch,Object.assign({},this.props,{query:t.query,onChange:this.onSearchQueryChange,isVisible:i,className:N.searchWithViewModeToggle,recordingKey:"componentsLibrarySearch",ref:this.librarySearchRef})),s.createElement("div",{className:N.toggleComponentSidebarViewMode},s.createElement(K.IconButton,{recordingKey:a.joinKeys(this.props,"toggleComponentsSidebarViewMode"),"data-tooltip-text":`Show as ${e?"Grid":"List"}`,svg:e?x:B,onClick:this.props.toggleViewMode,disabled:o}),s.createElement("div",{className:N.teamLibraryIcon,"data-onboarding-key":"library"},d&&s.createElement("span",{className:`${this.props.isLibraryModalShown?N.selected:""} ${N.teamLibraryUpdatesIndicator}`}),s.createElement(K.IconButton,{recordingKey:a.joinKeys(this.props,"teamLibrary"),selected:this.props.isLibraryModalShown,"data-tooltip-text":"Team Library",svg:q,fallbackSvg:V,onClick:this.props.toggleLibraryModal})))),s.createElement(P.ComponentScrollContainer,Object.assign({},this.getComponentScrollContainerProps())),!!h&&s.createElement(S.LibraryItemContextMenu,Object.assign({},this.props)),this.isDragging()&&s.createElement(S.DraggingLibraryItem,{componentDragState:this.props.library.dragState,isList:e,isMouseDraggedOverCanvas:this.isMouseDraggedOverCanvas,ref:this.draggingLibraryItemRef,isSearch:r,isPrivate:n>0&&c&&this.props.library.dragState.draggingComponent&&!!this.privateComponentsByID[this.props.library.dragState.draggingComponent.node_id]}))}}t.ComponentsSidebar=U,U.displayName="ComponentsSidebar";const A=r(1251                                                   ),q=r(790                                      ),V=r(1252                                       );class j extends s.PureComponent{constructor(){super(...arguments),this.openLibrary=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:L.LIBRARY_PREFERENCES_MODAL}))})}render(){return s.createElement(G,null,s.createElement("div",{className:N.emptyStateTitle},"Components"),s.createElement("div",{className:N.emptyStateContent},s.createElement(c.Svg,{className:N.emptyStateIcon,svg:A}),s.createElement("div",{className:N.emptyStateText},'To create a component, select a layer and click the "Create Component" button in the toolbar.'," ",s.createElement("a",{className:N.link,href:"https://help.figma.com/hc/en-us/articles/360038662654",target:"_blank",rel:"noopener"},"Learn more…"))),s.createElement("div",{className:N.emptyStateContent},s.createElement(D.SvgWithFallback,{className:N.emptyStateIcon,svg:q,fallbackSvg:V}),s.createElement("div",{className:N.emptyStateText},"Use libraries for quick access to components from other files."," ",s.createElement("a",{className:N.link,onClick:this.openLibrary},"Explore libraries..."))))}}j.displayName="EmptyComponentState";class G extends s.PureComponent{render(){return s.createElement("div",Object.assign({className:N.emptyState},this.props))}}G.displayName="EmptyState";let H=null;t.scrollComponentPanelToLibraryFile=(e=>{H=e})}),
(function(e,a,b){e.exports={badgeGreen:"badge--badgeGreen--W6O5O avatar--tableCellBadge--2mSvK"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(3,1    ),o=t(1254         );var a;!function(e){e[e.GREEN=0]="GREEN"}(a=s.BadgeColor||(s.BadgeColor={}));s.Badge=class extends r.PureComponent{render(){const e={[a.GREEN]:o.badgeGreen}[this.props.color];return r.createElement("span",{className:`${e} ${this.props.className||""}`},this.props.text)}}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const m=a(47,1    );e.formatDateDayMonth=function(t){return m(t).format("MMM D")},e.formatDateWithMinutes=function(t){let e,a=m(new Date),n=m(t);return e=n.isSame(a,"day")?n.format("h:mm a"):n.isSame(a,"year")?n.format("MMM D h:mm a"):n.format("MMM D, YYYY")}}),
(function(l,o,t){l.exports={src:'<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l.354.354L6.707 6l-.353-.354L6 6zM.646 1.354l5 5 .708-.708-5-5-.708.708zm5 4.292l-5 5 .708.708 5-5-.708-.708z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M6.207 8.5l6.647-6.646-.707-.708L4.792 8.5l7.353 7.354.708-.707L6.207 8.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.582 0 0 3.582 0 8c0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zM1 8c0 3.866 3.134 7 7 7 3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/><path d="M7.063 9.7H8.18v-.075c.015-.898.273-1.3.937-1.71.7-.423 1.13-1.017 1.13-1.895 0-1.27-.962-2.13-2.395-2.13-1.317 0-2.372.77-2.422 2.176h1.187c.047-.828.637-1.191 1.235-1.191.664 0 1.203.441 1.203 1.133 0 .582-.364.992-.828 1.281-.727.445-1.157.887-1.165 2.336v.074zm.59 2.374c.425 0 .78-.347.78-.781 0-.426-.355-.777-.78-.777-.43 0-.782.351-.782.777 0 .434.352.781.781.781z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),a=s(124     ),r=s(122        ),n=s(876                                  ),o=s(221                                    ),l=s(138                                   ),p=s(130                                              ),c=s(131                                        ),m=s(106                                     ),h=s(479                                  ),d=s(172              ),u=s(145         ),y=s(340              ),b=s(200         ),g=s(224                                            ),f=s(1213                                                           ),w=s(126          ),S=s(164         ),E=s(85                   ),_=s(113          ),C=s(141                ),N=s(255                      ),v=s(147                       ),D=s(192                            ),F=s(231                                              ),T=s(1214                        ),k=s(111                        ),L=s(366                                                    ),O=s(1222                                                ),I=s(174                        ),B=s(178                                        ),P=s(1120                          ),V=s(231                                              ),A=s(411                                        ),M=s(1131            ),R=s(347                                                  ),U=s(1223                                    ),x=s(1231                                                                ),K=s(563                                                                 ),$=s(1233                     ),Y=s(1235                                           ),H=s(136                            ),W=s(1236                                                                        ),j=s(1253                                                                ),Q=s(95                      ),z=s(224                                            ),q=s(1255                           ),X=s(345                                  ),G=s(660                             ),Z=s(87                      ),J=s(227                                 ),ee=s(1245                                                              ),te=s(651                          ),se=s(1256                 ),ie=y.pxToInt(A.toolbarHeight),ae=s(1105                        ),re=s(1257                                  ),ne=s(1258                                   ),oe=s(337                           ),le=s(1259                                ),pe=s(1221                             ),ce=s(1227              );class me extends $.Tab{}class he extends d.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(m.fileBrowser.hideModal())}),this.setTab=(e=>{M.SharedFonts.loadSharedFonts(this.props.dispatch),this.setState({tab:e})});let t=e.tab||v.LibraryPreferencesModalTab.LIBRARIES;"team"!==this.props.selectedView.view&&!te.isUserAccountSettingsView(this.props.selectedView)||e.tab===v.LibraryPreferencesModalTab.FONTS||(t=v.LibraryPreferencesModalTab.LIBRARIES),this.state={tab:t}}modalWidth(){return y.pxToInt(T.canShowSharedFonts(this.props)?A.sharedFontsModalWidth:A.libraryPreferencesModalWidth)}renderTabs(){if("team"===this.props.selectedView.view||te.isUserAccountSettingsView(this.props.selectedView))return i.createElement("div",{className:pe.tabs},i.createElement(me,{recordingKey:d.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab},"Libraries"),T.canShowSharedFonts(this.props)&&i.createElement(me,{recordingKey:d.joinKeys(this.props,"fontsTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.FONTS,selectedTab:this.state.tab},"Shared Fonts"));const e=D.numUpdates(this.props.library),t=k.canEditFile(this.props.editingFileKey,this.props);return i.createElement("div",{className:pe.tabs},i.createElement(me,{recordingKey:d.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab,disabled:!t},"Libraries"),i.createElement(me,{recordingKey:d.joinKeys(this.props,"updatesTab"),onClick:this.setTab,tab:v.LibraryPreferencesModalTab.UPDATES,selectedTab:this.state.tab,disabled:!t},"Updates",e>0&&i.createElement("div",{className:pe.updateBadge},e)))}render(){const e=new u.Vector((window.innerWidth-this.modalWidth())/2,ie+12),t="team"===this.props.selectedView.view&&this.props.selectedView.teamId||null,s="fullscreen"===this.props.selectedView.view&&!this.props.editingFileKey;let a=pe.modalContentContainer;return T.canShowSharedFonts(this.props)&&(a+=` ${pe.sharedFonts}`),i.createElement(L.DraggableModal,{headerSize:"large",dragHeaderOnly:!0,onClose:this.close,title:this.renderTabs(),initialPosition:e},s&&i.createElement("div",{className:pe.modalContentContainer},i.createElement("div",{className:pe.spinner},i.createElement(B.LoadingSpinner,null))),!s&&i.createElement("div",{className:a},this.state.tab===v.LibraryPreferencesModalTab.LIBRARIES&&i.createElement(de,Object.assign({showingDefaultSubscriptionsForTeamId:t,showingDefaultSubscriptionsForUser:te.isUserAccountSettingsView(this.props.selectedView),showingDefaultSubscriptionsForOrg:null,width:this.modalWidth()},this.props)),this.state.tab===v.LibraryPreferencesModalTab.FONTS&&i.createElement(M.SharedFonts,Object.assign({},this.props,{teamId:t,width:this.modalWidth(),resourceType:"team"})),this.state.tab===v.LibraryPreferencesModalTab.UPDATES&&i.createElement(O.Updates,Object.assign({},this.props,{width:this.modalWidth()}))))}}t.LibraryPreferencesModal=he,he.displayName="LibraryPreferencesModal";class de extends d.Component{constructor(e){super(e),this.viewFile=(e=>{this.setState({fileKey:e})}),this.backToList=(()=>{this.setState({fileKey:null,selectedComponent:null})}),this.onComponentClick=(e=>{this.props.showingDefaultSubscriptionsForOrg&&this.setState({selectedComponent:{componentKey:e.component_key,componentName:e.name,componentThumbnailUrl:e.thumbnail_url}})});let t=null;if(this.props.modalShown&&this.props.modalShown.type===H.LIBRARY_PREFERENCES_MODAL){const e=this.props.modalShown.data;e&&e.fileKey&&(t=e.fileKey)}this.state={fileKey:t,isLoading:!0,libraries:v.DEFAULT_LIBRARIES,selectedComponent:null}}componentDidMount(){F.getLibraryStats(this.props.currentOrgId,!!this.props.showingDefaultSubscriptionsForOrg).then(e=>this.setState({libraries:e,isLoading:!1}))}render(){const e=C.getEditingFile(this.props),t=W.getLocalLibraryItemsInfo(this.props.library.local.styles),s=W.getLocalLibraryItemsInfo(this.props.library.local.components);let a=!0;if(this.props.showingDefaultSubscriptionsForTeamId){const e=this.props.teams[this.props.showingDefaultSubscriptionsForTeamId];a=e&&k.canAdminTeam(e.id,this.props)}return this.props.showingDefaultSubscriptionsForUser&&(a=!!this.props.user),this.props.showingDefaultSubscriptionsForOrg&&(a=k.canAdminOrg(this.props.showingDefaultSubscriptionsForOrg.id,this.props)),i.createElement(o.TrackingContext,{name:"LibrarySubscriptions"},i.createElement("div",{className:`${pe.slidingPaneContainer} ${this.props.inOrgDashboardModal?pe.orgDashboardModal:""}`},i.createElement("div",{className:this.state.fileKey||this.state.selectedComponent?pe.slidingPaneLeft:pe.slidingPane},i.createElement(ue,Object.assign({editingFile:e,editingFileStylesInfo:t,editingFileComponentsInfo:s,viewFile:this.viewFile,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,canEditSubscriptions:a,isLoading:this.state.isLoading,libraries:this.state.libraries,onComponentClick:this.onComponentClick},this.props))),!this.state.selectedComponent&&this.state.fileKey&&i.createElement("div",{className:this.state.fileKey?pe.slidingPane:pe.slidingPaneRight},i.createElement(Le,Object.assign({editingFile:e,editingFileStylesInfo:t,editingFileComponentsInfo:s,libraries:this.state.libraries,isLoading:this.state.isLoading,libraryFile:this.props.fileByKey[this.state.fileKey],backToList:this.backToList,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,canEditSubscriptions:a,width:this.props.width},C.stateWithoutMirror(this.props)))),this.state.selectedComponent&&i.createElement("div",{className:pe.slidingPane},i.createElement(Ae,{selectedComponent:this.state.selectedComponent,backToFile:this.backToList,width:this.props.width,orgId:this.props.currentOrgId}))))}}t.LibrarySubscriptions=de,de.displayName="LibrarySubscriptions";class ue extends d.Component{constructor(e){super(e),this.storageKey="subscriptionListView:state",this.storage=_.getLocalOrMemoryStorage(),this.onSearchQueryChange=(e=>{this.props.dispatch(c.library.setLibraryQuery({query:e}))}),this.calcSearchResult=(()=>{const e=E.getFeatureFlags().sss_team_library_live_launch,t=[],s=this.props.library.publishedSearchResults,i={},a=s.components,r=s.styles,n=s.components.filteredByTeamId,o=s.styles.filteredByTeamId;for(const l of[n,o])for(const e in l)for(const t in l[e])i[t]=e;for(const l in i){const s=this.props.fileByKey&&this.props.fileByKey[l];if(!s)continue;const p=i[l],c=this.props.teams&&this.props.teams[p],m=n[p]&&n[p][l]||{},h=o[p]&&o[p][l]||{};t.push({library_file_key:l,library_file_name:s.name,team_name:c&&c.name,team_id:p,num_teams:0,num_components:e?a.numAssetsByFileKey[l]||0:Object.keys(m).length,num_styles:e?r.numAssetsByFileKey[l]||0:Object.keys(h).length,num_weekly_insertions:0,min_search_score:Math.min(a.minScorePerFile[l]||1/0,r.minScorePerFile[l]||1/0)})}return t}),this.setSortByAndOrder=(e=>{const t=this.state.sortBy,s={sortBy:e,prevCol:t,isDescending:t!=e||!this.state.isDescending};this.setState(s),this.storage.set(this.storageKey,s)});const t=this.storage.get(this.storageKey);this.state=e.showingDefaultSubscriptionsForOrg&&t?t:{sortBy:e.library.librarySearchQuery?"search":"alpha",prevCol:null,isDescending:!0}}render(){const e=this.props.editingFile,t=this.props.libraries;let s=t.files,a=e&&!this.props.library.librarySearchQuery;const n=e?e.team_id:v.NO_TEAM_ID,o=this.props.showingDefaultSubscriptionsForTeamId||this.props.showingDefaultSubscriptionsForUser,l=this.props.showingDefaultSubscriptionsForUser?null:this.props.showingDefaultSubscriptionsForTeamId;function p(e,t){return e.team_id===n?-1:t.team_id===n?1:(e.team_name||"")<(t.team_name||"")?-1:1}switch(this.props.library.librarySearchQuery&&(s=this.calcSearchResult()),this.state.sortBy){case"alpha":s.sort((c=this.state.isDescending,(e,t)=>{if(e.team_id!==t.team_id)return p(e,t);const s=(e.library_file_name||"").localeCompare(t.library_file_name||"");return c?s:-s}));break;case"components":r.sortNumericallyByProperty(s,"num_components",this.state.isDescending);break;case"styles":r.sortNumericallyByProperty(s,"num_styles",this.state.isDescending);break;case"teams":r.sortNumericallyByProperty(s,"num_teams",this.state.isDescending);break;case"inserts":r.sortNumericallyByProperty(s,"num_weekly_insertions",this.state.isDescending);break;case"search":s.sort(function(e,t){return e.team_id!==t.team_id?p(e,t):e.min_search_score<t.min_search_score?-1:1})}var c;const m=this.props.library.librarySearchQuery&&0===s.length,h=a&&1===s.length,d=b.isEmpty(this.props.library.subscriptions.forCurrentUser);let u;if(e)for(const i of s)if(i.library_file_key===e.key){a=!0,u=i;break}let y=v.NO_TEAM_ID;const g=this.props.showingDefaultSubscriptionsForOrg&&!this.props.library.librarySearchQuery,f=[{header:"Total Teams",count:this.props.teams?Object.keys(this.props.teams).length:0,word:"team",plural:"teams"},{header:"Teams with Libraries",count:t.teamsWithLibraries,word:"team",plural:"teams"},{header:"Total Libraries",count:t.totalLibraries,word:"library",plural:"libraries"},{header:"Total Components",count:t.totalComponents,word:"component",plural:"components"},{header:"Total Styles",count:t.totalStyles,word:"style",plural:"styles"}],w=[{header:"Teams and Libraries",sortBy:"alpha",className:pe.nameCol},{header:"Components",sortBy:"components",className:pe.numCol},{header:"Styles",sortBy:"styles",className:pe.numCol},{header:"Used by",sortBy:"teams",className:pe.numCol},{header:"Inserts Last Week",sortBy:"inserts",className:pe.numCol}];return i.createElement("div",null,i.createElement("div",{className:pe.searchContainer},i.createElement(ee.LibrarySearch,Object.assign({},this.props,{width:this.props.width,query:this.props.library.librarySearchQuery,onChange:this.onSearchQueryChange,extraSpacing:!0,isVisible:!0}))),this.props.isLoading&&i.createElement(R.ScrollContainer,{className:pe.fileListView,width:this.props.width},i.createElement(P.LoadingRow,null)),!this.props.isLoading&&i.createElement(R.ScrollContainer,{className:pe.fileListView,showScrollbar:!0,width:this.props.width},this.props.showingDefaultSubscriptionsForTeamId&&i.createElement(ye,Object.assign({},this.props,{isEmpty:0===s.length})),this.props.showingDefaultSubscriptionsForUser&&i.createElement(be,Object.assign({},this.props,{isEmpty:d})),m&&i.createElement("div",{className:pe.info},"No results for '",this.props.library.librarySearchQuery,"'"),g&&i.createElement(Te,{isLoading:this.props.isLoading,stats:f}),g&&i.createElement(P.TableRow,{className:pe.headerRowOverview},w.map(e=>i.createElement(P.SortableField,{className:`${e.className} ${pe.sortableCol} ${this.state.sortBy===e.sortBy?pe.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header))),a&&i.createElement("div",{className:pe.teamSection},i.createElement("div",{className:pe.sectionHeader},"Current file"),i.createElement(we,Object.assign({file:e,hasStats:g,numComponents:u?u.num_components:0,numStyles:u?u.num_styles:0,numTeams:u?u.num_teams:0,numInserts:u?u.num_weekly_insertions:0},this.props,{isCurrentFile:!0}))),i.createElement("div",{className:pe.teamSectionsWrapper},s.map(t=>{const s=this.props.fileByKey&&this.props.fileByKey[t.library_file_key];if(!s||e&&t.library_file_key===e.key)return;if(s.team_id!==l&&!s.org_browsable&&o)return;const a=("alpha"===this.state.sortBy||"search"===this.state.sortBy)&&y!==t.team_id;y=t.team_id;const r=t.team_name||"Drafts";return i.createElement(i.Fragment,{key:s.key},a&&i.createElement("div",{className:pe.teamSectionHeader},r),i.createElement(we,Object.assign({file:s,hasStats:g,numComponents:t.num_components,numStyles:t.num_styles,numTeams:t.num_teams,numInserts:t.num_weekly_insertions,teamName:"alpha"!==this.state.sortBy?r:void 0,onComponentClick:this.props.onComponentClick},this.props)))}),!h&&i.createElement(ge,Object.assign({},this.props)))))}}ue.displayName="SubscriptionListView";class ye extends i.PureComponent{render(){if(this.props.isEmpty)return i.createElement("div",{className:pe.teamSubscriptionHint},"There are no published components or styles in your team.");if(this.props.canEditSubscriptions)return i.createElement("div",{className:pe.teamSubscriptionHint},"Enabling a team library will make it show up in all team files.");{const e=[],t=this.props.roles.byTeamId[this.props.showingDefaultSubscriptionsForTeamId]||{};for(const i in t){const s=t[i];!1===s.pending&&s.level>=Z.PermissionLevel.ADMIN&&e.push(s.user)}let s="";return 1===e.length?s=`Your team admin is ${e[0].handle}.`:2===e.length?s=`Your team admins are ${e[0].handle} and ${e[1].handle}.`:3===e.length?s=`Your team admins are ${e[0].handle}, ${e[1].handle} and ${e[2].handle}.`:e.length>=4&&(s=`Your team admins include ${e[0].handle}, ${e[1].handle} and ${e.length-2} others.`),i.createElement("div",{className:pe.teamSubscriptionHint},"Only team admins can enable libraries for the team.",s&&i.createElement("div",null,s))}}}ye.displayName="TeamSubscriptionHint";class be extends i.PureComponent{render(){return this.props.isEmpty?i.createElement("div",{className:pe.teamSubscriptionHint},"There are no published styles in your drafts."):i.createElement("div",{className:pe.teamSubscriptionHint},"Enabling a file will make its styles available in all personal drafts.")}}be.displayName="UserSubscriptionHint";class ge extends i.PureComponent{constructor(){super(...arguments),this.dismissTeamHint=(()=>{this.props.dispatch(h.userFlags.post({flags:{dismissed_library_modal_hint:!0}}))}),this.dismissDraftHint=(()=>{this.props.dispatch(h.userFlags.post({flags:{dismissed_library_modal_draft_hint:!0}}))})}render(){if(this.props.showingDefaultSubscriptionsForOrg)return null;if(this.props.showingDefaultSubscriptionsForTeamId)return null;if(this.props.showingDefaultSubscriptionsForUser)return null;if(this.props.library.librarySearchQuery)return null;const e=this.props.userFlags;if(!e.dismissed_library_modal_hint){const e=C.getEditingFile(this.props),t=e?this.props.teams[e.team_id]:null;if(t&&k.canAdminTeam(t.id,this.props))return i.createElement(fe,{dismiss:this.dismissTeamHint},"Enable libraries for all team files from your"," ",i.createElement("a",{target:"_blank",rel:"noopener",href:`/files/team/${t.id}`,className:pe.link},"Team Settings"))}return!e.dismissed_library_modal_draft_hint&&b.isEmpty(this.props.roles.byTeamId)?i.createElement(fe,{dismiss:this.dismissDraftHint},"Enable Libraries for all your drafts from your"," ",i.createElement("a",{target:"_blank",rel:"noopener",href:`/files/user/${this.props.user.id}`,className:pe.link},"User Account Settings")):null}}ge.displayName="LibraryModalHint";class fe extends i.PureComponent{render(){return i.createElement("div",null,i.createElement("div",{className:pe.libraryModalHintSpacer}),i.createElement("div",{className:pe.libraryModalHint},i.createElement("div",{className:pe.libraryModalHintText},this.props.children),i.createElement("div",{className:pe.dismissLibraryModalHint,onMouseDown:this.props.dismiss,"data-tooltip-text":"Don’t show again"},i.createElement(I.Svg,{svg:oe}))))}}fe.displayName="Hint";class we extends i.PureComponent{constructor(){super(...arguments),this.viewFile=(e=>{e.stopPropagation(),e.preventDefault(),this.isEmpty()||this.props.viewFile(this.props.file.key)}),this.countCols=(()=>{const e=this.props.numComponents,t=this.props.numStyles;if(this.props.hasStats)return i.createElement("div",{className:pe.countCols},i.createElement("div",{className:pe.numColVal},this.props.numComponents.toLocaleString()),i.createElement("div",{className:pe.numColVal},this.props.numStyles.toLocaleString()),i.createElement("div",{className:pe.numColVal},this.props.numTeams.toLocaleString()),i.createElement("div",{className:pe.numColVal},this.props.numInserts.toLocaleString()));if(this.isEmpty())return"No components or styles";const s=[];return e>0&&s.push(1===e?"1 component":`${e} components`),t>0&&s.push(1===t?"1 style":`${t} styles`),s.join(", ")}),this.matchString=(()=>{const e=this.props.numComponents,t=this.props.numStyles,s=[];return e>0&&s.push(1===e?"1 component match":`${e} component matches`),t>0&&s.push(1===t?"1 style match":`${t} style matches`),2===s.length?i.createElement("div",null,s[0],i.createElement("br",null),s[1]):1===s.length?s[0]:""})}isEmpty(){return this.props.numComponents+this.props.numStyles===0}render(){const e=this.props.file,t=this.isEmpty();return i.createElement("div",null,i.createElement("div",{className:this.isEmpty()?pe.fileRowNoHover:pe.fileRow,onMouseDown:this.viewFile},i.createElement("div",{className:this.props.showingDefaultSubscriptionsForOrg?pe.longNameAndToggle:pe.nameAndToggle},!this.props.isCurrentFile&&i.createElement(Se,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:e,showingDefaultSubscriptionsForUser:!!this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,disabled:!this.props.canEditSubscriptions,dispatch:this.props.dispatch,isFileEmpty:t,user:this.props.user}),i.createElement("div",{className:pe.componentOrFileName},e.name," ",i.createElement("span",{className:pe.teamNameHover},this.props.teamName||""))),!this.props.isCurrentFile&&i.createElement("div",{className:pe.fileItemCount},this.props.library.librarySearchQuery?this.matchString():this.countCols()),this.props.isCurrentFile&&i.createElement("div",{className:pe.fileItemCount},i.createElement($e,Object.assign({},this.props,{publishedState:i.createElement("div",null,"Published and up to date"),emptyState:i.createElement("div",{className:pe.fileItemCount},this.countCols())}))),!t&&i.createElement("div",{className:pe.fileRowCaretRightWrapper},i.createElement(I.Svg,{svg:re}))),this.props.library.librarySearchQuery&&i.createElement(Ke,Object.assign({},this.props,{libraryFile:this.props.file,inline:!0,onComponentClick:this.props.onComponentClick})))}}we.displayName="FileRow";class Se extends i.PureComponent{constructor(){super(...arguments),this.state={showingOrgConfirmationModal:!1},this.showDisabledMessage=(()=>{this.props.showingDefaultSubscriptionsForTeamId&&this.props.dispatch(p.visualBell.enqueue({message:"Contact a team admin to enable default libraries for your team.",timeout:3e3}))}),this.toggleOn=(e=>{if(e&&e.stopPropagation&&e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const t=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.setState({showingOrgConfirmationModal:!0});else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(V.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:t.key,is_subscribed:!0},userInitiated:!0})),w.segment.track("Team Library File Enabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(V.postUserSubscription({libraryUserSubscription:{file_key:t.key,is_subscribed:!0},userInitiated:!0}));else{const e=this.props.editingFile;this.props.dispatch(V.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:t.key,is_subscribed:!0},userInitiated:!0})),w.segment.track("Library File Enabled"),D.publishedLibraryItemsForFileAsList(this.props.library.published.components,t).length>0&&(this.props.dispatch(l.fullscreen.setLeftPanelTab({tab:G.LeftPanelTab.PUBLISH})),j.scrollComponentPanelToLibraryFile(t.key))}}),this.toggleOff=(e=>{if(e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const t=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.props.dispatch(V.deleteOrgSubscription({libraryOrgSubscription:{org_id:t.parent_org_id,file_key:t.key},userInitiated:!0})),w.segment.track("Org Library File Disabled");else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(V.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:t.key,is_subscribed:!1},userInitiated:!0})),w.segment.track("Team Library File Disabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(V.postUserSubscription({libraryUserSubscription:{file_key:t.key,is_subscribed:!1},userInitiated:!0}));else{const e=this.props.editingFile;this.props.dispatch(V.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:t.key,is_subscribed:!1},userInitiated:!0})),w.segment.track("Library File Disabled")}}),this.isToggleOn=(()=>this.props.showingDefaultSubscriptionsForOrg?D.isCurrentOrgSubscribedTo(this.props.library,this.props.libraryFile):this.props.showingDefaultSubscriptionsForTeamId?D.isTeamSubscribedTo(this.props.library,this.props.showingDefaultSubscriptionsForTeamId,this.props.libraryFile):this.props.showingDefaultSubscriptionsForUser?D.isCurrentUserSubscribedTo(this.props.library,this.props.libraryFile):D.isFileSubscribedTo(this.props.library,this.props.editingFile,this.props.libraryFile)),this.actuallyToggleOnOrg=(()=>{const e=this.props.libraryFile;this.props.dispatch(V.postOrgSubscription({libraryOrgSubscription:{org_id:e.parent_org_id,file_key:e.key},userInitiated:!0})),w.segment.track("Org Library File Enabled"),this.setState({showingOrgConfirmationModal:!1})}),this.hideConfirmationModal=(()=>this.setState({showingOrgConfirmationModal:!1})),this.renderOrgConfirmationModal=(()=>{let e,t,s=this.props.showingDefaultSubscriptionsForOrg;return N.isFileOrgBrowsable(this.props.libraryFile)?(e="This library will show up in all organization files by default.",t="Enable library"):(e=i.createElement("div",null,"In order to enable this library for your organization, you'll need to give everyone access to it.",i.createElement("br",null),i.createElement("br",null),"This will change the privacy of '",this.props.libraryFile.name,"' to 'Everyone at ",s.name," can view.'"),t="Change privacy and enable"),i.createElement(J.ConfirmationModal,{confirmationTitle:"Enable Library for Organization?",dontClose:!0,content:e,confirmText:t,cancelText:"Cancel",onConfirm:this.actuallyToggleOnOrg,onCancel:this.hideConfirmationModal,dispatch:this.props.dispatch})})}render(){const e=this.isToggleOn();return i.createElement("div",null,i.createElement("div",{className:this.props.disabled?pe.disabledSubscriptionToggleContainer:pe.subscriptionToggleContainer,onMouseDown:e?this.toggleOff:this.toggleOn},this.props.includeLabel&&i.createElement("div",{className:pe.subscribeLabel},"Enable"),i.createElement("div",{className:e?pe.toggleOn:pe.toggleOff},i.createElement("div",{className:pe.toggle}))),this.state.showingOrgConfirmationModal&&this.renderOrgConfirmationModal())}}function Ee(e){return _e(24*e)}function _e(e){return 300*Math.round((new Date).getTime()/3e5)-60*e*60}Se.displayName="SubscriptionToggle";const Ce=3,Ne=2;class ve extends i.PureComponent{constructor(){super(...arguments),this.state={library1TimeSeries:null,library2TimeSeries:null,library1TeamUsage:null,library2TeamUsage:null}}componentDidMount(){this.fetchInsertions("primary"),this.props.comparisonFileKey&&this.fetchInsertions("comparison")}componentDidUpdate(e){e.libraryFile.key!==this.props.libraryFile.key&&this.fetchInsertions("primary"),null!==this.props.comparisonFileKey?e.comparisonFileKey!==this.props.comparisonFileKey&&this.fetchInsertions("comparison"):this.setState({library2TimeSeries:null,library2TeamUsage:null})}fetchInsertions(e){const t="primary"===e?this.props.libraryFile.key:this.props.comparisonFileKey,s={start_ts:Ee(this.props.numDays+7).toString(),end_ts:_e(1).toString()};a.default.get(`/api/design_systems/library/${t}/weekly_insertions`,s).then(t=>{const s=t.data.meta.map(e=>({date:new Date(e.date),value:e.num_insertions}));"primary"===e?this.setState({library1TimeSeries:s}):this.setState({library2TimeSeries:s})}).catch(e=>{console.warn(`Unable to fetch insertions, error: ${e}`)}),s.start_ts=Ee(this.props.numDays).toString(),a.default.get(`/api/design_systems/library/${t}/team_usage`,s).then(t=>{const s=t.data.meta;let i=0;for(const e of s)i+=+e.num_insertions;for(const e of s)e.percent_insertions=`${Math.round(100*e.num_insertions/i)}%`;"primary"===e?this.setState({library1TeamUsage:s}):this.setState({library2TeamUsage:s})}).catch(e=>{console.warn(`Unable to fetch team usage, error: ${e}`)})}renderTeamUsage(e,t,s,a,r){return i.createElement("div",{className:pe.teamUsage},null===t&&Array(a).fill(0).map((e,t)=>i.createElement("div",{key:t,className:pe.usageRow},i.createElement("div",{className:pe.grayCell},t+1,"."),i.createElement("div",{className:pe.usageLoading}))),t&&i.createElement(i.Fragment,null,t.slice(s,s+a).map((e,t)=>i.createElement("div",{key:t,className:pe.usageRow},i.createElement("div",{className:pe.grayCell},s+t+1,"."),i.createElement("div",{className:pe.usageRowTeamName},e.team_name),i.createElement("div",{className:pe.numColGray},(+e.num_insertions).toLocaleString()," ",S.getPluralOrSingular(+e.num_insertions,"insert")),i.createElement("div",{className:pe.numColGray},e.percent_insertions))),0===t.length&&0==s&&i.createElement("div",{className:pe.noTeamUsage},i.createElement("div",null,"No usage recorded.")),r&&i.createElement("div",{className:pe.usageRow},i.createElement("div",null),i.createElement("div",{className:pe.grayCell},t.length>s+a&&i.createElement(i.Fragment,null,"+",t.length-s-a," more ",S.getPluralOrSingular(t.length-s-a,"team")),this.renderCSV(e,t)))))}renderCSV(e,t){if(!t||t.length<=Ce+Ne)return null;let s="Team ID,Team Name,Insertions,Insertion %\r\n";for(const i of t)s+=`${i.team_id},${i.team_name},${i.num_insertions},${i.percent_insertions}\r\n`;return s="data:text/plain;charset=utf-8,"+encodeURIComponent(s),i.createElement(i.Fragment,null," (",i.createElement(g.LinkTracked,{href:s,download:`${e}-team-usage.csv`,className:pe.csvLink,innerText:"DSAnalytics Download CSV"},"Download CSV"),")")}render(){const e=this.state.library1TimeSeries,t=this.state.library2TimeSeries||[];if(null===e||null===this.state.library1TeamUsage)return i.createElement(i.Fragment,null,i.createElement("div",{className:pe.graphLoading},i.createElement("div",{className:pe.graphLoadingInner},i.createElement("div",{className:pe.graphSpinner},i.createElement(B.LoadingSpinner,null)),i.createElement("div",null,"Loading library activity"))),i.createElement("div",{className:pe.teamUsageHeader},"Top Teams"),i.createElement("div",{className:pe.teamUsageContainer},this.renderTeamUsage(this.props.libraryFile.name,null,0,Ce,!1)));const s=Math.max(0,...[...e,...t].map(e=>e.value));let a=10,r=20;for(;s>4*r;)s>4*r&&(a=r),s>5*r&&(a=2.5*r),s>15*r&&(a=5*r),r*=10;let n=1;this.props.numDays>60&&(n=3),this.props.numDays>120&&(n=6);const o=120,l=Math.floor(s/a)+1,p=l*a,c=(o-1)/l,m=Array.from(new Array(l+1),(e,t)=>1+Math.floor(t*c));function h(e){return o-Math.floor(e*o/p)}function d(e){return e.map(e=>e.join(",")).join(" ")}const u=e.length>0?+e[0].date:+Date.now(),y=(Date.now()-u)/864e5,b=Math.ceil((this.props.numDays-y)/7),g=new Array(b).fill(0),f=b-e.length,w=100/b,E=w/2;function _(e){let t=[],s="";if((e=[...e]).length>0){const s=[100-E,h(e[0].value)];t.push(s)}const i=[...t],a=[];for(let r=1;r<e.length;r++){const s=[100-E-r*w,h(e[r].value)];t.push(s),a.push(s),1===r&&i.push(s)}return s=d(t),s+=` ${100-E-(e.length-1)*w},${o+1} ${100-E},${o+1}`,f<0&&e.pop(),{data:e,dashed:i,restOfPts:a,polygon:s}}const{data:C,dashed:N,restOfPts:v,polygon:D}=_(e),{data:F,dashed:T,restOfPts:k}=_(t);function L(e,t,s){return i.createElement("polyline",{points:d(e),vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",style:{fill:"none",stroke:t,strokeWidth:2,strokeDasharray:s}})}const O=365===this.props.numDays;function P(e,t){return i.createElement("div",{className:pe.dotContainer},g.map((s,a)=>e.length>a?i.createElement("div",{key:a,style:{marginTop:h(e[a].value)-6.5},className:pe.dotPadding,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":`${S.pluralize(e[a].value,"insert")}\n${e[a].date.toLocaleDateString()}`},i.createElement("div",{className:O?pe.dotSmall:pe.dot,style:{backgroundColor:t}})):i.createElement("div",{key:a,className:pe.invisibleDot})))}return i.createElement(i.Fragment,null,i.createElement("div",{className:pe.graphContainer},i.createElement("div",{className:pe.yAxis},m.map((e,t)=>i.createElement("div",{key:t},p-t*a))),P(C,"#18A0FB"),P(F,"black"),i.createElement("div",{className:pe.svgContainer},i.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 120",preserveAspectRatio:"none"},C.length>1&&i.createElement(i.Fragment,null,i.createElement("polygon",{points:D,style:{fill:"#18A0FB",fillOpacity:.1}}),L(v,"#18A0FB",""),k&&L(k,"black",""),L(N,"#18A0FB","4 4"),T&&L(T,"black","4 4"),m.map(e=>i.createElement("polyline",{key:e,points:`0,${e} 100,${e}`,vectorEffect:"non-scaling-stroke",style:{fill:"none",stroke:"black",strokeOpacity:.05}})))),i.createElement("div",{className:pe.xAxisTop},g.map((e,t)=>i.createElement("div",{className:pe.xLabel,key:t},(t+Math.floor(n/2))%n==0&&i.createElement("div",{className:pe.graphLine})))),i.createElement("div",{className:pe.xAxisBottom},g.map((e,t)=>i.createElement("div",{className:pe.xLabel,key:t},(t+Math.floor(n/2))%n==0&&i.createElement("div",null,se.formatDateDayMonth(new Date(u-60*t*60*24*7*1e3)))))),f>=0&&i.createElement("div",{style:{width:`${Math.min(f*w+E,100)}%`},className:pe.missingData},i.createElement("div",{className:pe.dotPadding,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":`No data before ${C.length>0?se.formatDateDayMonth(C[C.length-1].date):se.formatDateDayMonth(new Date)}`},i.createElement(I.Svg,{svg:le}))))),i.createElement("div",{className:pe.teamUsageHeader},"Top Teams"),i.createElement("div",{className:pe.teamUsageContainer},this.renderTeamUsage(this.props.libraryFile.name,this.state.library1TeamUsage,0,Ce,!1),this.renderTeamUsage(this.props.libraryFile.name,this.state.library1TeamUsage,Ce,Ne,!0)))}}const De={[v.SubscriptionFileViewDuration.THIRTY_DAYS]:30,[v.SubscriptionFileViewDuration.SIXTY_DAYS]:60,[v.SubscriptionFileViewDuration.NINETY_DAYS]:90,[v.SubscriptionFileViewDuration.YEAR]:365};var Fe;!function(e){e.OVERVIEW="Overview",e.ANALYTICS="Library Analytics"}(Fe||(Fe={}));class Te extends i.PureComponent{renderDescriptionAndImage(e){return i.createElement("div",{className:pe.componentDescriptionAndImage},i.createElement("img",{src:e.image_url,className:pe.componentImage}),i.createElement("div",null,i.createElement("div",{className:pe.sectionHeader},e.header),i.createElement("div",{className:pe.componentDescription},e.content)))}renderCount(e){return i.createElement("div",{className:pe.statBlock},i.createElement("div",{className:pe.sectionHeader},e.header),i.createElement("div",{className:pe.stat},null!=e.count?e.count>999?i.createElement("span",null,i.createElement(Y.RoundedCount,{className:pe.rounder,count:e.count})," ",e.plural):S.pluralize(e.count,e.word,e.plural):""))}render(){return i.createElement("div",{className:pe.overviewStats},this.props.stats.map(e=>i.createElement(U.WithLoading,{isLoading:this.props.isLoading,className:pe.stat,key:e.header},()=>{switch(e.header){case"Description":return this.renderDescriptionAndImage(e);default:return this.renderCount(e)}})))}}Te.displayName="OverviewStatsView";class ke extends i.PureComponent{constructor(){super(...arguments),this.state={statsData:null}}componentDidMount(){a.default.get(`/api/design_systems/library/${this.props.libraryFileKey}`).then(e=>{const t=e&&e.data&&e.data.meta||null;this.setState({statsData:t})}).catch(()=>{})}render(){const e=[{header:"Teams Using This Library",count:this.state.statsData?this.state.statsData.num_teams:null,word:"team",plural:"teams"},{header:"Total Components",count:this.state.statsData?this.state.statsData.num_components:null,word:"component",plural:"components"},{header:"Total Styles",count:this.state.statsData?this.state.statsData.num_styles:null,word:"style",plural:"styles"},{header:"Activity This Week",count:this.state.statsData?this.state.statsData.num_weekly_insertions:null,word:"insert",plural:"inserts"}];return i.createElement(Te,{isLoading:null==this.state.statsData,stats:e})}}ke.displayName="OneLibraryOverviewStatsView";class Le extends i.PureComponent{constructor(){super(...arguments),this.state={shownView:Fe.OVERVIEW,duration:v.SubscriptionFileViewDuration.THIRTY_DAYS,componentStats:[],comparisonLibrary:"Select Library",comparisonLibraryKey:null,isLoading:!0,viewingComponentStat:null},this.LIBRARY_COMPARISON_DROPDOWN="library-comparison-dropdown",this.unsetComparison=(()=>{this.setState({comparisonLibrary:"Select a library",comparisonLibraryKey:null})}),this.onDropdownClick=(e=>{e.stopPropagation(),e.preventDefault(),this.isComparisonDropdownShown()?this.props.dispatch(m.fileBrowser.hideDropdown()):this.props.dispatch(m.fileBrowser.showDropdown({type:this.LIBRARY_COMPARISON_DROPDOWN}))}),this.onComponentClick=(e=>{this.props.showingDefaultSubscriptionsForOrg&&this.setState({viewingComponentStat:{componentThumbnailUrl:e.thumbnail_url,componentName:e.name,componentKey:e.component_key}})}),this.selectDuration=(e=>{this.setState({duration:e})}),this.toggleShownView=(e=>{this.setState({shownView:e})}),this.backToFile=(()=>{this.setState({viewingComponentStat:null})}),this.viewComponent=(e=>{this.setState({viewingComponentStat:{componentKey:e.component_key,componentThumbnailUrl:e.thumbnail_url,componentName:e.name}})}),this.scrollContainerRef=i.createRef(),this.scrollTo=(e=>{this.scrollContainerRef.current.scrollTo(e)})}isComparisonDropdownShown(){return this.props.dropdownShown&&this.props.dropdownShown.type==this.LIBRARY_COMPARISON_DROPDOWN}fetchComponents(){const e={start_ts:Ee(De[this.state.duration]).toString(),end_ts:Ee(0).toString()};a.default.get(`/api/design_systems/library/${this.props.libraryFile.key}/components`,e).then(e=>{const t=e&&e.data&&e.data.meta||[];this.setState({componentStats:t,isLoading:!1})}).catch(e=>{console.error(e)})}componentDidMount(){this.fetchComponents()}componentDidUpdate(e,t){t.duration!=this.state.duration&&this.fetchComponents()}fetchComparisonLibraries(){return r.sortAlphabeticallyByProperty(this.props.libraries.files,"library_file_name"),this.props.libraries.files.filter(e=>e.library_file_key!==this.props.libraryFile.key)}render(){const e=this.props.libraryFile,t=D.publishedLibraryItemsForFileAsList(this.props.library.published.styles,e),s=D.sortStylesByTypeAndPosition(t),a=this.state.componentStats,r=this.props.editingFile&&this.props.editingFile.key===this.props.libraryFile.key,n=s.length>0,l=a.length>0,p=this.props.showingDefaultSubscriptionsForOrg?pe.fileViewDSA:pe.fileView,c=this.props.showingDefaultSubscriptionsForOrg;return i.createElement(o.TrackingContext,{name:"SubscriptionFileView",properties:{libraryKey:this.props.libraryFile.key}},i.createElement("div",{className:pe.slidingPaneContainer},i.createElement("div",{className:this.state.viewingComponentStat?pe.slidingPaneLeft:pe.slidingPane},i.createElement("div",{className:pe.componentOrFileViewHeader},i.createElement(I.Svg,{svg:ne,className:pe.backCaret,onMouseDown:this.props.backToList}),i.createElement("div",{className:pe.componentOrFileName},this.props.libraryFile.name),!r&&i.createElement(Se,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:this.props.libraryFile,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,dispatch:this.props.dispatch,includeLabel:!0,disabled:!this.props.canEditSubscriptions,user:this.props.user}),r&&i.createElement("div",{className:pe.currentFileLabel},"Current file")),this.props.showingDefaultSubscriptionsForOrg&&i.createElement(Pe,{duration:this.state.duration,dispatch:this.props.dispatch,selectDuration:this.selectDuration,shownView:this.state.shownView,toggleShownView:this.toggleShownView,width:this.props.width,dropdownShown:this.props.dropdownShown}),this.state.shownView===Fe.OVERVIEW&&i.createElement(R.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:r?pe.currentFileView:p},c&&i.createElement(ke,{libraryFileKey:e.key}),i.createElement(Ke,Object.assign({inline:!1},this.props,{onComponentClick:this.onComponentClick},this.props)),n&&i.createElement("div",{className:pe.sectionWrapper},i.createElement("div",{className:pe.stylesSection},s.map(e=>i.createElement(K.StyleIcon,{key:e.key,style:e,className:pe.styleThumb,showTooltip:!0})))),l&&i.createElement("div",{className:pe.sectionWrapper},i.createElement(x.ComponentTilesByPage,Object.assign({width:this.props.width,componentList:a,isShowingLocalLibraryItems:!1,inModal:!0,sourceForTracking:"Library Modal",onComponentClick:this.onComponentClick},this.props)))),this.state.shownView===Fe.OVERVIEW&&r&&i.createElement(Ve,Object.assign({},this.props)),this.state.shownView===Fe.ANALYTICS&&i.createElement(o.TrackingContext,{name:"LibraryComponentViewAnalytics"},i.createElement("div",{className:pe.fileViewDSA},i.createElement(R.ScrollContainer,{width:this.props.width,ref:this.scrollContainerRef,showScrollbar:!0,className:pe.fileViewDSAWithFooter},i.createElement("div",{className:pe.libraryAnalyticsHeader},i.createElement("div",null,"Component Insertions"),i.createElement("div",{className:pe.libraryComparison},this.state.comparisonLibraryKey&&i.createElement("span",{className:pe.comparisonDot}),i.createElement("span",{className:pe.libraryComparisonText},"Compare Insertions To"," "),i.createElement("span",{onClick:this.onDropdownClick,className:pe.libraryComparisonDropdown},this.state.comparisonLibrary,i.createElement(I.Svg,{svg:ae,className:pe.dropdownIcon})),i.createElement("div",null,i.createElement(o.TrackingContext,{name:"ComparisonLibrary Dropdown"},this.isComparisonDropdownShown()&&i.createElement(X.dropdown.Dropdown,{className:pe.dropdown},i.createElement(X.dropdown.CheckableOption,{key:"none",onClick:this.unsetComparison,checked:null===this.state.comparisonLibraryKey},"None"),this.fetchComparisonLibraries().map(e=>i.createElement(X.dropdown.CheckableOptionTrackable,{key:e.library_file_key,onClick:()=>this.setState({comparisonLibrary:e.library_file_name,comparisonLibraryKey:e.library_file_key}),innerText:"DS Analytics Compare Libraries",checked:this.state.comparisonLibraryKey===e.library_file_key,trackingProperties:{libraryKeyToCompare:e.library_file_key}},i.createElement("div",{className:pe.libraryComparisonItem},e.library_file_name)))))))),i.createElement(ve,{key:this.state.duration,libraryFile:this.props.libraryFile,comparisonFileKey:this.state.comparisonLibraryKey,comparisonFileName:this.state.comparisonLibrary,numDays:De[this.state.duration]}),this.state.isLoading&&i.createElement(P.LoadingRow,null),!this.state.isLoading&&i.createElement(Ie,{componentStats:this.state.componentStats,duration:this.state.duration,viewComponent:this.viewComponent,scrollTo:this.scrollTo})),!this.state.isLoading&&i.createElement(Oe,{numComponents:this.state.componentStats.length})))),i.createElement("div",{className:this.state.viewingComponentStat?pe.slidingPane:pe.slidingPaneRight},this.state.viewingComponentStat&&i.createElement(Ae,{selectedComponent:this.state.viewingComponentStat,backToFile:this.backToFile,width:this.props.width,orgId:this.props.currentOrgId}))))}}Le.displayName="SubscriptionFileView";class Oe extends i.PureComponent{render(){return i.createElement("div",{className:pe.componentViewFooter},i.createElement("span",{className:pe.libraryViewFooterNumText},S.pluralize(this.props.numComponents,"library component","library components")," shown. Figma doesn’t currently track style usage."))}}class Ie extends i.PureComponent{constructor(e){super(e),this.storageKey="subscriptionFileViewComponentStats:state",this.storage=_.getLocalOrMemoryStorage(),this.onSortScrollTargetRef=i.createRef(),this.setSortByAndOrder=(e=>{const t=this.state.sortBy,s={sortBy:e,prevCol:t,isDescending:t!=e||!this.state.isDescending};this.setState(s),this.storage.set(this.storageKey,s),this.props.scrollTo(this.onSortScrollTargetRef.current.offsetTop)}),this.CHUNK_SIZE=50;const t=this.storage.get(this.storageKey);this.state=t||{sortBy:"alpha",prevCol:null,isDescending:!0}}render(){const e=[{header:"Component Name",sortBy:"alpha",className:pe.avatarColumn},{header:"Instances (Total)",sortBy:"num_existing_instances",className:pe.statsColumn},{header:`Inserts (Last ${this.props.duration})`,sortBy:"num_insertions",className:pe.statsColumn},{header:`Detaches (Last ${this.props.duration})`,sortBy:"num_detachments",className:pe.statsColumn}],t=this.props.componentStats;switch(this.state.sortBy){case"alpha":r.sortAlphabeticallyByProperty(t,"name",!this.state.isDescending);break;case"num_existing_instances":r.sortNumericallyByProperty(t,"num_existing_instances",this.state.isDescending);break;case"num_insertions":r.sortNumericallyByProperty(t,"num_insertions",this.state.isDescending);break;case"num_detachments":r.sortNumericallyByProperty(t,"num_detachments",this.state.isDescending)}const s=this.props.componentStats.map(e=>e.component_key).join(",");return i.createElement("div",{className:pe.allComponentsTable},i.createElement("div",{className:pe.libraryAnalyticsHeader},"Component Statistics"),i.createElement("div",{ref:this.onSortScrollTargetRef}),i.createElement(P.TableRow,{className:pe.headerRowAllComponentTable},e.map(e=>i.createElement(P.SortableField,{className:`${e.className} ${this.state.sortBy===e.sortBy?pe.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header)),i.createElement("div",{className:pe.caretColumn})),i.createElement("div",null,i.createElement(f.RenderListByChunks,{chunkSize:this.CHUNK_SIZE,listKey:s},t.map(e=>i.createElement(Be,{componentStat:e,key:e.component_key,viewComponent:this.props.viewComponent})))))}}class Be extends i.PureComponent{constructor(){super(...arguments),this.viewComponent=(e=>{e.stopPropagation(),e.preventDefault(),this.props.viewComponent(this.props.componentStat)})}renderSplitComponentName(e){const t=e.split("/");return t.length<=1?i.createElement("span",null,e):i.createElement("span",null,i.createElement("span",{className:pe.prefixText},t.slice(0,t.length-1).join("/"),"/"),i.createElement("span",null,t[t.length-1]))}render(){const e=this.props.componentStat;return i.createElement(P.TableRow,{className:pe.row,onMouseDown:this.viewComponent},i.createElement("div",{className:pe.avatarColumn},i.createElement("img",{src:e.thumbnail_url,className:pe.componentAvatar}),i.createElement("div",{className:pe.avatarColumnComponentName},this.renderSplitComponentName(e.name))),i.createElement("div",{className:pe.statsColVal},e.num_existing_instances.toLocaleString()),i.createElement("div",{className:pe.statsColVal},e.num_insertions.toLocaleString()),i.createElement("div",{className:pe.statsColVal},e.num_detachments.toLocaleString()),i.createElement("div",{className:pe.caretColumn},i.createElement(I.Svg,{svg:re,className:pe.componentRowCaretRightWrapper})))}}Be.displayName="ComponentRow";class Pe extends i.PureComponent{constructor(){super(...arguments),this.DURATION_DROPDOWN="duration-dropdown",this.onDropdownClick=(e=>{e.stopPropagation(),e.preventDefault(),this.isDurationDropdownShown()?this.props.dispatch(m.fileBrowser.hideDropdown()):this.props.dispatch(m.fileBrowser.showDropdown({type:this.DURATION_DROPDOWN}))}),this.changeShownView=(e=>{e.currentTarget.getAttribute("data-new-view-shown")===Fe.ANALYTICS?this.props.toggleShownView(Fe.ANALYTICS):this.props.toggleShownView(Fe.OVERVIEW)}),this.changeDuration=(e=>{const t=e.currentTarget.text;t===v.SubscriptionFileViewDuration.YEAR?this.props.selectDuration(v.SubscriptionFileViewDuration.YEAR):t===v.SubscriptionFileViewDuration.NINETY_DAYS?this.props.selectDuration(v.SubscriptionFileViewDuration.NINETY_DAYS):t===v.SubscriptionFileViewDuration.SIXTY_DAYS?this.props.selectDuration(v.SubscriptionFileViewDuration.SIXTY_DAYS):this.props.selectDuration(v.SubscriptionFileViewDuration.THIRTY_DAYS)})}isDurationDropdownShown(){return this.props.dropdownShown&&this.props.dropdownShown.type==this.DURATION_DROPDOWN}render(){return i.createElement("div",null,i.createElement("div",{className:pe.fileViewTabsHeaderBordered},i.createElement("div",null,i.createElement("span",{className:this.props.shownView==Fe.OVERVIEW?pe.fileViewTabActive:pe.fileViewTab,style:{paddingRight:16},onClick:this.changeShownView,"data-new-view-shown":Fe.OVERVIEW},Fe.OVERVIEW),i.createElement("span",{className:this.props.shownView==Fe.ANALYTICS?pe.fileViewTabActive:pe.fileViewTab,onClick:this.changeShownView,"data-new-view-shown":Fe.ANALYTICS},Fe.ANALYTICS),i.createElement("span",null,i.createElement(q.Badge,{color:q.BadgeColor.GREEN,text:"New",className:pe.newBadge}))),this.props.shownView==Fe.ANALYTICS&&i.createElement("div",null,i.createElement("span",{className:pe.durationText},"Duration"),i.createElement("span",{onClick:this.onDropdownClick,className:pe.duration},"Last ",this.props.duration,i.createElement(I.Svg,{svg:ae,className:pe.dropdownIcon})))),i.createElement("div",null,this.isDurationDropdownShown()&&i.createElement(X.dropdown.Dropdown,{className:pe.dropdown},i.createElement(X.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.THIRTY_DAYS),i.createElement(X.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.SIXTY_DAYS),i.createElement(X.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.NINETY_DAYS),i.createElement(X.dropdown.Option,{onClick:this.changeDuration},v.SubscriptionFileViewDuration.YEAR))))}}Pe.displayName="SubscriptionFileViewStatsTab";class Ve extends i.PureComponent{constructor(){super(...arguments),this.confirmUnpublish=(()=>{this.props.dispatch(m.fileBrowser.showModal({type:H.CONFIRM_UNPUBLISH_COMPONENTS}))})}render(){if(this.props.editingFile.key!==this.props.libraryFile.key)return null;const e=this.props.editingFileStylesInfo,t=this.props.editingFileComponentsInfo;let s=e.numUpdates;return Q.canAccessProFeature(this.props.teams[this.props.editingFile.team_id])&&(s+=t.numUpdates),i.createElement("div",{className:pe.fileViewFooter},i.createElement("div",{className:pe.fileViewFooterText},s>0?"Current file has changes":"Current file is published"),i.createElement("div",{className:pe.fileViewFooterButtons},i.createElement(z.ButtonSecondary,{onClick:this.confirmUnpublish,className:pe.fileViewFooterButton},"Unpublish"),i.createElement("div",{className:pe.fileViewFooterButton},i.createElement($e,Object.assign({},this.props,{publishedState:i.createElement(z.ButtonPrimary,{disabled:!0},"Publish changes"),emptyState:i.createElement(z.ButtonPrimary,{disabled:!0},"Publish changes")})))))}}Ve.displayName="SubscriptionFileViewFooter";class Ae extends i.PureComponent{constructor(){super(...arguments),this.state={fileStats:null},this.setFileStats=(e=>{this.setState({fileStats:e})})}render(){return i.createElement(o.TrackingContext,{name:"LibraryComponentView",properties:{componentKey:this.props.selectedComponent.componentKey}},i.createElement("div",{className:pe.fileViewDSANoTab},i.createElement("div",{className:pe.componentOrFileViewHeader},i.createElement(I.Svg,{svg:ne,className:pe.backCaret,onMouseDown:this.props.backToFile}),i.createElement("div",{className:pe.componentOrFileName},this.props.selectedComponent.componentName)),i.createElement(R.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:pe.fileViewDSAWithFooterNoTab},i.createElement(xe,{componentKey:this.props.selectedComponent.componentKey,componentThumbnailUrl:this.props.selectedComponent.componentThumbnailUrl}),i.createElement(Re,{componentKey:this.props.selectedComponent.componentKey,orgId:this.props.orgId,setFileStats:this.setFileStats})),i.createElement(Me,{fileStats:this.state.fileStats})))}}Ae.displayName="LibraryComponentView";class Me extends i.PureComponent{constructor(){super(...arguments),this.renderFooterText=(()=>(r.sortByDate(this.props.fileStats,"last_modified"),i.createElement("div",{className:pe.componentViewFooter},i.createElement("div",{className:pe.componentViewFooterText},`${S.pluralize(this.props.fileStats.length,"file","files")} shown (open teams and teams you’re on). `,i.createElement("div",{className:pe.componentViewFooterInlineLink},i.createElement(g.Link,{target:"_blank",href:"https://help.figma.com"},"Learn more"))),i.createElement("div",{className:pe.componentViewFooterLastUpdated},this.props.fileStats&&this.props.fileStats.length>0?"Last updated ":"",this.props.fileStats&&this.props.fileStats.length>0&&i.createElement(n.FromNow,{date:this.props.fileStats[0].last_modified})))))}render(){return i.createElement(U.WithLoading,{isLoading:null==this.props.fileStats},this.renderFooterText)}}Me.displayName="ComponentViewFooter";class Re extends i.PureComponent{constructor(e){super(e),this.storageKey="listFilesByComponentView:state",this.storage=_.getLocalOrMemoryStorage(),this.setSortByAndOrder=(e=>{const t=this.state.sortBy,s={sortBy:e,prevCol:t,isDescending:t!=e||!this.state.isDescending};this.setState(s),this.storage.set(this.storageKey,s)});const t=this.storage.get(this.storageKey);this.state={loaded:!1,fileStats:[],sortBy:t?t.sortBy:"alpha",prevCol:t?t.prevCol:null,isDescending:!t||t.isDescending}}componentDidMount(){a.default.get(`/api/design_systems/component/${this.props.componentKey}/file_usage?org_id=${this.props.orgId}`).then(e=>{const t=e&&e.data&&e.data.meta||[];this.setState({fileStats:t,loaded:!0}),this.props.setFileStats(t)}).catch(()=>{})}render(){let e=this.state.fileStats;switch(this.state.sortBy){case"alpha":r.sortAlphabeticallyByProperty(e,"file_name",!this.state.isDescending);break;case"teamNames":r.sortAlphabeticallyByProperty(e,"team_name",!this.state.isDescending);break;case"instances":r.sortNumericallyByProperty(e,"num_instances",this.state.isDescending);break;case"lastModified":r.sortByDate(e,"last_modified",this.state.isDescending)}const t=[{header:"File Name",sortBy:"alpha",className:pe.oneComponentViewFileNameCol},{header:"Team",sortBy:"teamNames",className:pe.oneComponentViewTeamCol},{header:"Instances (All Time)",sortBy:"instances",className:pe.componentNumCol},{header:"Last Modified",sortBy:"lastModified",className:pe.componentNumCol}];return i.createElement("div",null,!this.state.loaded&&i.createElement(P.LoadingRow,null),this.state.loaded&&i.createElement(i.Fragment,null,i.createElement(P.TableRow,{className:pe.headerRow},t.map(e=>i.createElement(P.SortableField,{className:`${e.className} ${pe.sortableCol} ${this.state.sortBy===e.sortBy?pe.selected:""}`,isDescending:this.state.isDescending,hasArrow:this.state.sortBy===e.sortBy,key:e.sortBy,field:e.sortBy,sortBy:this.setSortByAndOrder},e.header))),e.map(e=>i.createElement(i.Fragment,{key:e.file_key},i.createElement(Ue,{fileName:e.file_name,fileKey:e.file_key,teamName:e.team_name,numInstances:e.num_instances,lastModified:e.last_modified})))))}}Re.displayName="ListFilesByComponentView";class Ue extends i.PureComponent{constructor(){super(...arguments),this.renderTeamNameField=(e=>null===e?i.createElement("div",{className:pe.oneComponentViewTeamColDrafts},"Drafts"):i.createElement("div",{className:pe.oneComponentViewTeamCol},e))}render(){const e=this.props.fileName?this.props.fileName:"Untitled",t=this.props.fileKey;return i.createElement(P.TableRow,{className:pe.componentRow},i.createElement(i.Fragment,null,i.createElement("div",{className:pe.oneComponentViewFileNameCol},i.createElement(g.LinkTracked,{target:"_blank",href:`/file/${t}/${encodeURIComponent(e)}`,innerText:"DSAnalytics File Open",trackingProperties:{libraryFileKey:t}},e)),this.renderTeamNameField(this.props.teamName),i.createElement("div",{className:pe.componentNumColVal},this.props.numInstances.toLocaleString()),i.createElement("div",{className:pe.componentNumColVal},i.createElement(n.FromNow,{date:this.props.lastModified}))))}}Ue.displayName="ComponentStatRow";class xe extends i.PureComponent{constructor(){super(...arguments),this.state={statsData:null}}componentDidMount(){a.default.get(`/api/design_systems/component/${this.props.componentKey}`).then(e=>{const t=e&&e.data&&e.data.meta||null;this.setState({statsData:t})}).catch(()=>{})}render(){const e=[{header:"Description",image_url:this.props.componentThumbnailUrl,content:this.state.statsData&&this.state.statsData.description?this.state.statsData.description:"N/A"},{header:"Total",count:this.state.statsData?this.state.statsData.total_instances:null,word:"instance",plural:"instances"},{header:"Used by",count:this.state.statsData?this.state.statsData.total_team_usage:null,word:"team",plural:"teams"},{header:"Used in",count:this.state.statsData?this.state.statsData.total_file_usage:null,word:"file",plural:"files"}];return i.createElement(Te,{isLoading:null==this.state.statsData,stats:e})}}xe.displayName="OneComponentStatsView";class Ke extends i.PureComponent{constructor(){super(...arguments),this.getBestMatches=((e,t)=>{const s=this.props.libraryFile;if(s.team_id in e&&s.key in e[s.team_id]){const i=e[s.team_id][s.key],a=Object.keys(i).map(e=>i[e]);return a.sort((e,t)=>e.score-t.score),a.slice(0,t)}return null})}render(){if(!this.props.library.librarySearchQuery)return null;const e=this.getBestMatches(this.props.library.publishedSearchResults.components.filteredByTeamId,8);let t=null;return this.props.inline||(t=this.getBestMatches(this.props.library.publishedSearchResults.styles.filteredByTeamId,14)),e||t?i.createElement("div",{className:this.props.inline?"":pe.bestMatches},!this.props.inline&&i.createElement("div",{className:pe.header},"Best matches for '",this.props.library.librarySearchQuery,"'"),this.props.inline&&i.createElement("div",{className:pe.bestMatchesSpacer}),t&&i.createElement("div",{className:pe.stylesSection},t.map(e=>i.createElement(K.StyleIcon,{key:e.key,style:e,className:pe.styleThumb,showTooltip:!0}))),t&&i.createElement("div",{style:{height:12}}),e&&i.createElement(x.ComponentTiles,Object.assign({width:this.props.width,componentList:e,inModal:!0,onComponentClick:this.props.onComponentClick,sourceForTracking:"Library Modal"},this.props))):null}}Ke.displayName="BestMatches";class $e extends i.PureComponent{constructor(){super(...arguments),this.showPublishModal=(()=>{this.props.dispatch(m.fileBrowser.showModal({type:H.PUBLISH_COMPONENTS_MODAL}))}),this.showUpsellModal=(()=>{const e=C.getEditingFile(this.props),t=this.props.teams[e.team_id];this.props.dispatch(m.fileBrowser.showModal({type:ce.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{team:t,afterFileMove:this.showPublishModal}}))}),this.stopPropagation=(e=>e.stopPropagation())}render(){if(!this.props.editingFile)return null;if(this.props.library.publishProgress.state!==v.PublishProgressState.NONE)return i.createElement(z.ButtonSecondary,{disabled:!0},"Publishing");const e=this.props.editingFileStylesInfo,t=this.props.editingFileComponentsInfo,s=Q.canAccessProFeature(this.props.teams[this.props.editingFile.team_id]);if(!(e.numPublished>0||t.numPublished>0&&s)){if(e.numUpdates>0||t.numUpdates>0){let e=t.numUpdates>0&&!s;return i.createElement(z.ButtonSecondary,{disabled:!this.props.userStateLoaded,onClick:e?this.showUpsellModal:this.showPublishModal,onMouseDown:this.stopPropagation},"Publish")}return this.props.emptyState}let a=e.numUpdates;return s&&(a+=t.numUpdates),a>0?i.createElement(z.ButtonPrimary,{onClick:this.showPublishModal,onMouseDown:this.stopPropagation},`Publish ${1===a?"1 change":`${a} changes`}`):this.props.publishedState}}$e.displayName="PublishButton"}),
(function(i,l,o){i.exports={publishModal:"publishing_modal--publishModal--2KLXT",descriptionInput:"publishing_modal--descriptionInput--qMiuY",info:"publishing_modal--info--2Jkok",listExpander:"publishing_modal--listExpander--184cP",upsell:"publishing_modal--upsell--38j5W",link:"publishing_modal--link--372jk blue_link--blueLink--22X56",list:"publishing_modal--list--7mlut",title:"publishing_modal--title--HTuXJ",scrollContainer:"publishing_modal--scrollContainer--31UjM",section:"publishing_modal--section--_Nkoh",sectionHeader:"publishing_modal--sectionHeader--38Ghy",sectionSubheader:"publishing_modal--sectionSubheader--1Hz9L",libraryItemRow:"publishing_modal--libraryItemRow--1-5aH",libraryItemRowPrivate:"publishing_modal--libraryItemRowPrivate--2dGw9 publishing_modal--libraryItemRow--1-5aH",name:"publishing_modal--name--2KXGx ellipsis--ellipsis--1RWY6",changeCol:"publishing_modal--changeCol--3Zmxh",nameCol:"publishing_modal--nameCol--220dX",contextMenu:"publishing_modal--contextMenu--13_EG",itemThumbWrapper:"publishing_modal--itemThumbWrapper--2YTYU",itemThumb:"publishing_modal--itemThumb--1miTu",actionRow:"publishing_modal--actionRow--H5Hwk",assemblingProgress:"publishing_modal--assemblingProgress--1Yzbw",additionalActions:"publishing_modal--additionalActions--15ExB",actionButtons:"publishing_modal--actionButtons--3pJ7q",main:"publishing_modal--main--1oEot",betaLabel:"publishing_modal--betaLabel--2TAq3",btn:"publishing_modal--btn--2wfkU",footer:"publishing_modal--footer--2u9vZ"}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.44 8.5l-6.647 6.646.707.708L12.854 8.5 5.5 1.146l-.707.708L11.439 8.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,t,e){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M8.823 11.116L2.177 4.47l-.707.707 7.353 7.353 7.354-7.353-.707-.707-6.647 6.646z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3,1    ),r=s(106                                     ),a=s(188                             ),o=s(402                                        ),n=s(212      ),l=s(193           ),p=s(141                ),c=s(147                       ),h=s(255                      ),d=s(192                            ),m=s(401                              ),b=s(95                      ),u=s(227                                 ),y=s(563                                                                 ),g=s(224                                            ),E=s(174                        ),f=s(169                                 ),S=s(1261                    ),P=s(345                                  ),C=s(97                     ),_=s(536                    ),N=s(1237                                                                             ),w=s(1248                                                                     ),L=P.dropdown.Dropdown,T=P.dropdown.Option,I=438,v=48,A=s(1262                                    ),O=s(1263                                   ),x=e=>e!==c.LibraryStatus.DELETED&&e!==c.LibraryStatus.NOT_STAGED;class M extends i.PureComponent{constructor(e){super(e),this.toggleListExpanded=(()=>{this.setState({listExpanded:!this.state.listExpanded})}),this.stylesString=(e=>1===e?"1 style":`${e} styles`),this.componentsString=(e=>1===e?"1 component":`${e} components`),this.publishText=((e,t,s)=>{if(e){const e=[];if(s>0&&e.push(this.stylesString(s)),t>0&&e.push(this.componentsString(t)),e.length)return e.join(" and ")+" will be included."}else{const e=s+t;if(e>0)return 1===e?"1 change.":`${e} changes.`}return"No components or styles will be included."}),this.upsellPrompt=((e,t)=>i.createElement("div",{className:S.upsell},this.componentsString(e)," will not be published. Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.")),this.publish=(()=>{const e=p.getEditingFile(this.props);if(e.parent_org_id){const t=h.isFileOrgBrowsable(e);(this.state.allowOrgAccess&&!t||!this.state.allowOrgAccess&&t)&&this.props.dispatch(a.file.put({file:{key:e.key,link_access:C.LinkAccess.ORG_VIEW,org_browsable:this.state.allowOrgAccess},userInitiated:!0}))}d.hasPendingChanges(this.props.library)?this.props.dispatch(o.publishChanges({savepointDescription:this.state.description})):this.props.dispatch(a.file.createSavepoint({file:e,label:"Components Published",description:this.state.description}))}),this.onKeyDown=(e=>{const t=l.mac?e.metaKey:e.ctrlKey;e.keyCode===n.Key.ENTER&&t&&(this.publish(),e.preventDefault(),e.stopPropagation())}),this.closeModal=(()=>{this.stopActivePublish(),this.props.dispatch(r.fileBrowser.hideModal())}),this.stopActivePublish=(()=>{this.props.library.publishProgress.state===c.PublishProgressState.ASSEMBLING_COMPONENTS&&this.props.dispatch(o.publishRequestFinished())}),this.onDescriptionChange=(e=>{this.setState({description:e.target.value})}),this.toggleAllowOrgAccess=(e=>{const t=e.target.checked;this.setState({allowOrgAccess:t})}),this.state={listExpanded:!1,description:"",allowOrgAccess:h.isFileOrgBrowsable(p.getEditingFile(e))}}UNSAFE_componentWillReceiveProps(e){e.library.publishProgress.state===c.PublishProgressState.UPLOADING&&this.closeModal()}separateModifiedFromPublishedFromPrivate(e){const t=[],s=[],i=[];for(let r in e){const a=e[r];d.willChange(a.status)?t.push(a):d.isPublished(a.status)?s.push(a):i.push(a)}return[t,s,i]}getExpandedLibraryListProps(e,t){let[s,i,r]=[[],[],[]];e&&([s,i,r]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.components));let[a,o,n]=[[],[],[]];return t&&([a,o,n]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.styles)),{modifiedComponents:d.sortComponentsByPageAndFrameAndName(s),unmodifiedPublishedComponents:d.sortComponentsByPageAndFrameAndName(i),unmodifiedPrivateComponents:d.sortComponentsByPageAndFrameAndName(r),modifiedStyles:d.sortStylesByTypeAndPosition(a),unmodifiedPublishedStyles:d.sortStylesByTypeAndPosition(o),unmodifiedPrivateStyles:d.sortStylesByTypeAndPosition(n)}}hasNewLibraryItems(e,t){if(e)for(let s in this.props.library.local.components){if(this.props.library.local.components[s].status==c.LibraryStatus.NEW)return!0}if(t)for(let s in this.props.library.local.styles){if(this.props.library.local.styles[s].status==c.LibraryStatus.NEW)return!0}return!1}renderAssemblingComponents(){return i.createElement("div",{className:S.assemblingProgress},i.createElement(f.Progress,{fraction:this.props.library.publishProgress.progress,pathFill:"#4B4B4B"}),i.createElement("span",null,"Assembling components and styles"))}render(){const e=this.props.library,t=p.getEditingFile(this.props),s=this.props.teams[t.team_id],r=b.canAccessProFeature(s),a=this.getExpandedLibraryListProps(r,!0),o=this.hasNewLibraryItems(r,!0);let n=0;for(let i in e.local.components){const t=e.local.components[i].status;x(t)&&n++}let l=null;t.parent_org_id&&(l=this.props.orgById[t.parent_org_id]);const h=this.props.library.publishProgress.state===c.PublishProgressState.ASSEMBLING_COMPONENTS;return i.createElement(u.Modal,{size:I,title:"Publish Library",className:S.publishModal,dispatch:this.props.dispatch,onKeyDown:this.onKeyDown,onHide:this.stopActivePublish},i.createElement("textarea",{className:S.descriptionInput,placeholder:"Optional description of changes",value:this.state.description,onChange:this.onDescriptionChange,autoFocus:!0}),i.createElement("div",{className:S.listExpander,onMouseDown:this.toggleListExpanded},i.createElement("div",null,i.createElement("div",{className:S.title},"Styles & Components"),i.createElement("div",{className:S.info},this.publishText(o,a.modifiedComponents.length,a.modifiedStyles.length))),i.createElement(E.Svg,{svg:this.state.listExpanded?O:A})),this.state.listExpanded&&i.createElement(D,Object.assign({},this.props,a)),!r&&n>0&&this.upsellPrompt(n,s),i.createElement("div",{className:S.actionRow},!h&&l&&i.createElement("div",{className:S.additionalActions},i.createElement(g.Checkbox,{id:"allow-org-access",checked:this.state.allowOrgAccess,onChange:this.toggleAllowOrgAccess}),i.createElement(g.Label,{htmlFor:"allow-org-access"},"Allow any member of ",l.name," to access this file")),!this.props.currentOrgId&&!r&&n>0&&i.createElement("div",{className:S.additionalActions},s?i.createElement("a",{className:S.link,target:"_blank",rel:"noopener",href:`/files/upgrade-team/${s.id}`},"Upgrade team"):i.createElement("a",{className:S.link,target:"_blank",rel:"noopener",href:"/files/create-team"},"Create a Professional Team")),h&&this.renderAssemblingComponents(),i.createElement("div",{className:S.actionButtons},i.createElement(g.ButtonSecondary,{onClick:this.closeModal},"Cancel"),i.createElement(g.ButtonPrimary,{disabled:this.props.library.publishProgress.state!==c.PublishProgressState.NONE,onClick:this.publish},r?"Publish":"Publish Styles"))))}}t.PublishingModal=M,M.displayName="PublishingModal";class D extends i.Component{constructor(e){super(e),this.appendLibraryItemsToScrollContent=((e,t,s)=>{for(const r of e){const e=i.createElement(R,{key:r.node_id,libraryItem:r,libraryItemType:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown});this.appendElementToScrollContent(e,`library-item-row-${r.node_id}`,36,s)}}),this.appendElementToScrollContent=((e,t,s,i)=>{const r=N.RenderedElementTree.getNextRenderedElementTop(i);i.push({parent:null,type:N.RenderedItemType.ROW,top:r,element:e,key:t,height:s,stickyKey:null})}),this.getViewportHeight=(e=>e-464)}getLibraryListItems(){const{modifiedStyles:e,modifiedComponents:t,unmodifiedPublishedStyles:s,unmodifiedPublishedComponents:r,unmodifiedPrivateStyles:a,unmodifiedPrivateComponents:o}=this.props,n=[],l=e.length+t.length>0,p=s.length+r.length>0,h=a.length+o.length>0;return l&&(this.appendElementToScrollContent(i.createElement(F,{header:"Changed"}),"changed:header",32,n),this.appendLibraryItemsToScrollContent(e,c.LibraryItemType.STYLE,n),this.appendLibraryItemsToScrollContent(t,c.LibraryItemType.COMPONENT,n)),p&&(this.appendElementToScrollContent(i.createElement(F,{header:"Unchanged"}),"unchanged:header",32,n),this.appendLibraryItemsToScrollContent(s,c.LibraryItemType.STYLE,n),this.appendLibraryItemsToScrollContent(r,c.LibraryItemType.COMPONENT,n)),h&&(this.appendElementToScrollContent(i.createElement(F,{header:"Private to this file",subheader:"These components and styles will not be published"}),"private:header",56,n),this.appendLibraryItemsToScrollContent(a,c.LibraryItemType.STYLE,n),this.appendLibraryItemsToScrollContent(o,c.LibraryItemType.COMPONENT,n)),n}render(){return i.createElement(w.ComponentScrollContainer,{scrollContent:this.getLibraryListItems(),isList:!0,recordingKey:"publishingModalLibraryList",getViewportHeight:this.getViewportHeight,width:I-v,className:`${S.scrollContainer} ${S.list}`,showScrollbar:!0})}}D.displayName="ExpandedLibraryList";class F extends i.Component{render(){return i.createElement("div",{className:S.sectionHeader},this.props.header,this.props.subheader&&i.createElement("div",{className:S.sectionSubheader},this.props.subheader))}}F.displayName="SectionHeader";class R extends i.Component{constructor(){super(...arguments),this.statusText=(()=>{switch(this.props.libraryItem.status){case c.LibraryStatus.CAN_UPGRADE:return"Upgraded";case c.LibraryStatus.CHANGED:return"Modified";case c.LibraryStatus.CURRENT:return"No changes";case c.LibraryStatus.DELETED:return"Removed";case c.LibraryStatus.NEW:return"Added";case c.LibraryStatus.NOT_STAGED:return"Private"}}),this.hasChanges=(()=>{switch(this.props.libraryItem.status){case c.LibraryStatus.CAN_UPGRADE:case c.LibraryStatus.CHANGED:case c.LibraryStatus.NEW:case c.LibraryStatus.DELETED:return!0;case c.LibraryStatus.CURRENT:case c.LibraryStatus.NOT_STAGED:return!1}}),this.toggleIsPublishable=(e=>{const t=!this.props.libraryItem.isPublishable;this.props.libraryItemType===c.LibraryItemType.COMPONENT?m.setIsSymbolPublishable(this.props.libraryItem.node_id,t):m.setIsPublishable(this.props.libraryItem.node_id,t)}),this.contextMenuId=(()=>`library-item-row-${this.props.libraryItem.node_id}`),this.contextMenuShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.contextMenuId()),this.onContextMenu=(e=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(r.fileBrowser.showDropdown({type:this.contextMenuId(),data:{position:{top:e.clientY,left:e.clientX}}}))})}render(){let e;return e=this.props.libraryItemType===c.LibraryItemType.STYLE?i.createElement(y.StyleIcon,{style:this.props.libraryItem}):i.createElement(_.ComponentImageContainer,{className:S.itemThumb,component:this.props.libraryItem,shouldFetch:!0}),i.createElement("div",{className:this.props.libraryItem.isPublishable?S.libraryItemRow:S.libraryItemRowPrivate,onContextMenu:this.onContextMenu},i.createElement("div",{className:S.nameCol},i.createElement("div",{className:S.itemThumbWrapper},e),i.createElement("div",{className:S.name},this.props.libraryItem.name)),this.hasChanges()&&i.createElement("div",{className:S.changeCol},this.statusText()),this.contextMenuShown()&&i.createElement(L,{className:S.contextMenu,style:this.props.dropdownShown.data.position},i.createElement(T,{onClick:this.toggleIsPublishable},this.props.libraryItem.isPublishable?"Remove from library":"Add to library")))}}R.displayName="LibraryItemRow"}),
(function(i,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(3,1    ),s=o(402                                        ),l=o(227                                 );class t extends n.Component{constructor(){super(...arguments),this.unpublishAll=(()=>this.props.dispatch(s.unpublishAll()))}render(){return n.createElement(l.ConfirmationModal,Object.assign({content:"This action will remove all of the components in this file from the library.",onConfirm:this.unpublishAll,confirmText:"Remove file from library"},this.props))}}e.ConfirmUnpublishModal=t,t.displayName="ConfirmUnpublishModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const l=t(3,1    ),s=t(228          ),n=t(227                                 ),o=t(178                                        ),i=t(163                               ),r=t(224                                            ),d=t(126          );class c extends l.Component{render(){const e=this.props.upgradingState===i.MultiplayerSessionState.UPGRADING?"Saving your changes...":"Reloading the page...";return l.createElement(n.Modal,{size:"small",className:s.modal,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},l.createElement("div",{className:s.title},"Figma needs to reload"),l.createElement("div",{className:s.modalContent},e),l.createElement("div",{className:s.buttonRow},l.createElement(o.LoadingSpinner,null)))}}a.UpgradingModal=c,c.displayName="UpgradingModal";class m extends l.Component{constructor(){super(...arguments),this.noOp=(e=>e),this.onUpdateClicked=(()=>{d.segment.track("Upgrade Modal Clicked"),i.Multiplayer.startUpgrade()})}render(){const{multiplayerSessionState:e,isReadOnly:a}=this.props,t=e!==i.MultiplayerSessionState.UNJOINED,o=!a;return e===i.MultiplayerSessionState.UPGRADING||e===i.MultiplayerSessionState.WAITING_FOR_RELOAD?null:l.createElement(n.Modal,{size:"small",className:s.modal,disableClickOutsideToHide:!0,dispatch:this.noOp},l.createElement("div",{className:s.title},"Figma needs to reload"),l.createElement("div",{className:s.modalContent},"This page is out of date and can no longer connect to the server properly. Your data is still safe, but Figma needs to reload to continue.",!t&&l.createElement("span",null,l.createElement("br",null)," ",l.createElement("br",null),"We can't reach our servers right now. Please make sure you are connected to the internet.")),t&&l.createElement("div",{className:s.buttonRow},l.createElement(r.ButtonPrimary,{onClick:this.onUpdateClicked},o?"Save and Reload":"Reload")))}}a.OutOfDateWall=m,m.displayName="OutOfDateWall"}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=i(119              ),n=i(85                   ),o=n.initialOptions().stripe_api_public;let r=null;const a=()=>new Promise((e,t)=>{r?e(r):o?c.loadScript("https://js.stripe.com/v3/",{cors:!1}).then(()=>{r=Stripe(o),e(r)}).catch(t):t("No Stripe api key")});t.createCard=(e=>new Promise((t,i)=>{a().then(i=>{const c=i.elements().create("card",e);t(c)}).catch(i)})),t.createToken=((e,t)=>new Promise((i,c)=>{a().then(n=>{n.createToken(e,t).then(e=>{i(e)}).catch(c)}).catch(c)}))}),
(function(n,o,a){n.exports={uiFontFamily:"'Inter', sans-serif",whyteFontFamily:"Whyte, sans-serif",whyteInktrapFontFamily:"WhyteInktrap, sans-serif",uiLabelFont__DEPRECATED:"normal 400 11px/16px 'Inter', sans-serif",uiLabelParagraphFont__DEPRECATED:"normal 400 11px/16px 'Inter', sans-serif",uiLabelLetterSpacing__DEPRECATED:"0.005em",uiLargeBodyFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiLargeBodyLetterSpacing__DEPRECATED:"-0.006em",uiTitleFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiSmallTitleFont__DEPRECATED:"normal 400 12px/16px 'Inter', sans-serif",uiLargeTitleFont__DEPRECATED:"normal 500 22px/32px 'Inter', sans-serif",uiHUDFont__DEPRECATED:"normal 400 14px/24px 'Inter', sans-serif",uiMonospaceFontFamily:"Roboto Mono, monospace",uiMonospaceFont:"normal 400 11px/16px Roboto Mono, monospace",keyboardShortcutFontFeatures:"'case' on, 'ss02' on, 'tnum' on, 'liga' on, 'calt' on",layerNameFontFeatures:"'ss02' on, 'liga' on, 'calt' on",dsaFontFeatures:"'tnum' on, 'liga' on, 'calt' on"}}),
(function(a,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.iso3166=[["Afghanistan","AF"],["Åland Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["Côte d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Curaçao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["Réunion","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barthélemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],i.iso3166_forbidden=["AX","CU","GG","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],i.iso3166_2_US=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"]]}),
(function(r,e,s){r.exports={stripeCard:"stripe--stripeCard--1n88g",hasToken:"stripe--hasToken--3dPx0",stripeCardToken:"stripe--stripeCardToken--3rxrU",description:"stripe--description--Q3TzK",stripeCardAndAddress:"stripe--stripeCardAndAddress--2c5jf",group:"stripe--group--3HWZs",groupCityRegion:"stripe--groupCityRegion--1h6C3",errorMessage:"stripe--errorMessage--2ybQK",smallGrayText:"stripe--smallGrayText--2O9Wh"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),n=s(348                                  ),i=s(1268                                     ),o=s(1269               ),r=s(1267                  ),l=s(112                      ),d=s(221                                    ),p=s(222                                      ),c=s(1270          ),u=d.asTrackedInput(e=>a.createElement("select",Object.assign({},e),e.children));class h extends a.PureComponent{constructor(e){super(e),this.card=null,this.cardReady=!1,this.countryOptions=null,this.stateOptions=null,this.getDefaultState=(()=>{let e={locale:"US",address_line1:"",address_line2:"",address_country:"US",address_city:"",address_region:"",address_postal_code:""};return this.props.address&&(e.locale="US"==this.props.address.country?"US":"other",e.address_line1=this.props.address.line1,e.address_line2=this.props.address.line2,e.address_country=this.props.address.country,e.address_city=this.props.address.city,e.address_region=this.props.address.region,e.address_postal_code=this.props.address.postal_code),e}),this.isReady=(()=>this.cardReady),this.getCard=(()=>this.card),this.getAddress=(()=>({line1:this.state.address_line1,line2:this.state.address_line2,country:this.state.address_country,city:this.state.address_city,region:this.state.address_region,postal_code:this.state.address_postal_code})),this.onChangeFormInput=(e=>{const t=e.target.name,s=e.target.value;if(!t)return e.preventDefault(),void console.error("HTMLInputElement is missing name attribute:",e.target);const a={};switch(a[t]=s,t){case"address_country":a.locale="US"===s?"US":"other"}this.setState(Object.assign(Object.assign({},this.state),a))}),this.onClickChangeCard=(e=>{e.preventDefault(),this.props.dispatchSetToken&&this.props.dispatchSetToken(null)}),this.state=this.getDefaultState()}componentDidMount(){const e={base:{color:n.figmaMediumGray__DEPRECATED,fontFamily:i.uiFontFamily,fontSize:14,"::placeholder":{color:n.figmaLightGray__DEPRECATED}},invalid:{color:n.figmaRed}};r.createCard({style:e,hidePostalCode:!0}).then(e=>{this.card=e,e.mount(`#${this.props.cardId}`),e.on("ready",()=>{this.cardReady=!0})}).catch(e=>null)}componentWillUnmount(){this.card&&this.card.unmount()}render(){if(null===this.countryOptions){this.countryOptions=[];for(let e of o.iso3166)"US"!==e[1]&&-1===o.iso3166_forbidden.indexOf(e[1])&&this.countryOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}if(null===this.stateOptions){this.stateOptions=[];for(let e of o.iso3166_2_US)"US"!==e[1]&&this.stateOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}return a.createElement("div",{id:this.props.id,className:`${c.stripeCardAndAddress} ${this.props.className||""}`},a.createElement("div",{className:c.group},a.createElement("div",{id:this.props.cardId,className:`${c.stripeCard} ${this.props.cardClassName||""}`,style:{display:this.props.token?"none":"block"}}),this.props.token&&a.createElement("div",{className:`${c.stripeCardToken}`},a.createElement("span",{className:c.description},this.props.token.card.brand," ending in ",this.props.token.card.last4," ",a.createElement("span",{className:c.smallGrayText},"(",a.createElement("a",{onClick:this.onClickChangeCard},"change"),")")))),a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .StripeElement--focus {\n            border: 1px solid #444;\n          }\n        "}}),a.createElement("div",{className:c.group},a.createElement(p.LazyInputTracked,{name:"address_line1",value:this.state.address_line1,placeholder:"Address Line 1",autoComplete:"shipping address-line1",type:"text",maxLength:50,onChange:this.onChangeFormInput,trackingFieldName:"Address Line 1",trackingPopulationLevel:this.state.address_line1?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED})),a.createElement("div",{className:c.group},a.createElement(p.LazyInputTracked,{name:"address_line2",value:this.state.address_line2,placeholder:"Address Line 2 (optional)",autoComplete:"shipping address-line2",type:"text",maxLength:50,onChange:this.onChangeFormInput,trackingFieldName:"Address Line 2",trackingPopulationLevel:this.state.address_line2?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED})),a.createElement("div",{className:c.group},a.createElement(u,{name:"address_country",value:this.state.address_country,autoComplete:"shipping country",onChange:this.onChangeFormInput,trackingFieldName:"Country",trackingPopulationLevel:this.state.address_country?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED},a.createElement("option",{value:"US"},"United States of America"),this.countryOptions)),"US"===this.state.locale&&a.createElement("div",null,a.createElement("div",{className:`${c.group} ${c.groupCityRegion}`},a.createElement(p.LazyInputTracked,{name:"address_city",value:this.state.address_city,placeholder:"City",autoComplete:"shipping address-level2",type:"text",maxLength:50,onChange:this.onChangeFormInput,trackingFieldName:"US City",trackingPopulationLevel:this.state.address_city?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED}),a.createElement(u,{name:"address_region",value:this.state.address_region,autoComplete:"shipping address-level1",onChange:this.onChangeFormInput,trackingFieldName:"US State",trackingPopulationLevel:this.state.address_region?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED},a.createElement("option",null,"Choose state:"),this.stateOptions)),a.createElement("div",{className:c.group},a.createElement(p.LazyInputTracked,{name:"address_postal_code",value:this.state.address_postal_code,placeholder:"Zip Code",autoComplete:"shipping postal-code",type:"text",maxLength:5,onChange:this.onChangeFormInput,trackingFieldName:"US Postal Code",trackingPopulationLevel:this.state.address_postal_code?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED}))),"other"===this.state.locale&&a.createElement("div",null,a.createElement("div",{className:`${c.group} ${c.groupCityRegion}`},a.createElement(p.LazyInputTracked,{name:"address_city",value:this.state.address_city,placeholder:"City / Town / Village",autoComplete:"shipping address-level2",type:"text",maxLength:50,onChange:this.onChangeFormInput,trackingFieldName:"Intl City",trackingPopulationLevel:this.state.address_city?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED}),a.createElement(p.LazyInputTracked,{name:"address_region",value:this.state.address_region,placeholder:"Province / Region",autoComplete:"shipping address-level1",type:"text",maxLength:50,onChange:this.onChangeFormInput,trackingFieldName:"Intl Region",trackingPopulationLevel:this.state.address_region?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED})),a.createElement("div",{className:c.group},a.createElement(p.LazyInputTracked,{name:"address_postal_code",value:this.state.address_postal_code,placeholder:"Postal Code",autoComplete:"shipping postal-code",type:"text",maxLength:11,onChange:this.onChangeFormInput,trackingFieldName:"Intl City",trackingPopulationLevel:this.state.address_postal_code?l.InputPopulationLevel.POPULATED_COMPLETE:l.InputPopulationLevel.NOT_POPULATED}))))}}t.StripeCardAndAddress=h,h.displayName="StripeCardAndAddress"}),
(function(e,t,s){e.exports={stepBreadcrumbSpacer:"step_breadcrumb--stepBreadcrumbSpacer--3lPz6",stepBreadcrumbs:"step_breadcrumb--stepBreadcrumbs--1I2LW",step:"step_breadcrumb--step--1HimL",stepNumber:"step_breadcrumb--stepNumber--BrxiD",stepSelected:"step_breadcrumb--stepSelected--1TwX6 step_breadcrumb--step--1HimL",stepTitle:"step_breadcrumb--stepTitle--2eBDY text--fontPos22--tgiEC text--_fontBase--YWDo0",stepInstructions:"step_breadcrumb--stepInstructions--2KaDQ text--fontPos14--3UJ36 text--_fontBase--YWDo0"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3,1    ),a=s(1272                   );class p extends r.PureComponent{render(){return r.createElement("div",{className:this.props.selected?a.stepSelected:a.step},r.createElement("span",{className:a.stepNumber},this.props.number),this.props.text)}}t.StepBreadcrumb=p,p.displayName="StepBreadcrumb";class n extends r.PureComponent{render(){return r.createElement("div",{className:a.stepBreadcrumbSpacer})}}t.StepBreadcrumbSpacer=n,n.displayName="StepBreadcrumbSpacer";class c extends r.PureComponent{render(){return r.createElement("div",{className:`${a.stepTitle} ${this.props.className||""}`},this.props.children)}}t.StepTitle=c,c.displayName="StepTitle";class d extends r.PureComponent{render(){return r.createElement("div",Object.assign({className:a.stepInstructions},this.props))}}t.StepInstructions=d,d.displayName="StepInstructions"}),
(function(t,e,p){t.exports={stepCard:"step_pay--stepCard--1izJG",stepConfirm:"step_pay--stepConfirm--Ihups",addAnnualPlan:"step_pay--addAnnualPlan--11M1I",paymentForm:"step_pay--paymentForm--HdGjh",paymentHeading:"step_pay--paymentHeading--28rvF",jumboText:"step_pay--jumboText--3T6wi",totalLabelText:"step_pay--totalLabelText--3ys-4",smallGrayText:"step_pay--smallGrayText--3V_ck",bigButton:"step_pay--bigButton--1rrCi",flex:"step_pay--flex--2tguP",row:"step_pay--row--2b3Px",rowFlex:"step_pay--rowFlex--2uwH- step_pay--row--2b3Px",rowBorder:"step_pay--rowBorder--wUWdH step_pay--row--2b3Px",rowFlexBorder:"step_pay--rowFlexBorder--2oItF step_pay--rowFlex--2uwH- step_pay--row--2b3Px step_pay--rowBorder--wUWdH step_pay--row--2b3Px",total:"step_pay--total--1dGkQ",totalText:"step_pay--totalText--7UCLl step_pay--jumboText--3T6wi",plusTaxText:"step_pay--plusTaxText--3guWP",numEditorsInput:"step_pay--numEditorsInput--oT5Dj",perMonth:"step_pay--perMonth--12ui0",subtotal:"step_pay--subtotal--3yhla",card:"step_pay--card--1enjl",error:"step_pay--error--2CnXc",upgradeRow:"step_pay--upgradeRow--DyXtE",studentIconRow:"step_pay--studentIconRow--1UEwz",changeLink:"step_pay--changeLink--3fd-G blue_link--blueLink--22X56",bigTerms:"step_pay--bigTerms--31VPY",terms:"step_pay--terms--218kC step_pay--smallGrayText--3V_ck",studentToggle:"step_pay--studentToggle--2W4Us",studentPlan:"step_pay--studentPlan--3DrdH",studentPlanTitle:"step_pay--studentPlanTitle--3zyo3",flowActionsSingle:"step_pay--flowActionsSingle--2mkcz",flowActionsBinary:"step_pay--flowActionsBinary--2cNs4",nextStep:"step_pay--nextStep--2sroe",prevStep:"step_pay--prevStep--1lKLq"}}),
(function(l,c,t){l.exports={src:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.806 3.04c.124-.053.264-.053.388 0l9.5 4c.185.077.306.259.306.46v8c0 .276-.224.5-.5.5-.276 0-.5-.224-.5-.5V8.253l-8.806 3.708c-.124.052-.264.052-.388 0l-9.5-4C.121 7.883 0 7.7 0 7.5c0-.201.12-.383.306-.46l9.5-4zm8.406 4.46L10 10.957 1.788 7.5 10 4.043 18.212 7.5zM4 14.5V9h1v5.5c0 .204.088.408.314.62.252.24.595.424 1.076.598.98.36 2.269.533 3.61.532 1.341.001 2.63-.173 3.61-.532.481-.174.824-.358 1.076-.599.226-.211.314-.415.314-.619V9h1v5.5c0 .546-.256.998-.631 1.35-.35.32-.866.606-1.417.807-1.082.39-2.543.592-3.952.593-1.409-.001-2.87-.202-3.952-.593-.55-.201-1.067-.486-1.417-.807C4.256 15.498 4 15.046 4 14.5z" fill-rule="evenodd" fill-opacity=".6" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),r=a(7,1        ),s=a(94                                   ),o=a(106                                     ),i=a(129                                ),l=a(95                      ),p=a(212      ),m=a(1267                  ),d=a(276                       ),c=a(227                                 ),u=a(224                                            ),h=a(1271                                    ),E=a(174                        ),y=a(1273                                               ),f=a(136                            ),g=a(1274            ),b=a(228                              ),P=a(221                                    ),T=a(1275                       );class N extends n.PureComponent{constructor(){super(...arguments),this.stripeCardRef=(e=>{this.stripeCard=e}),this.onNumAnnualEditorsChange=(e=>{this.props.dispatch(i.payment.setNumEditors({annualQuantity:e,monthlyQuantity:0}))}),this.onClickPrev=((e,t)=>{t.preventDefault(),this.props.addAnnualPlan?this.props.cancel?this.props.cancel():this.props.dispatch(o.fileBrowser.selectView({view:"teamAdmin",teamId:this.props.teamId})):this.props.confirmPay?this.props.dispatch(o.fileBrowser.selectView({view:"teamUpgrade",teamId:this.props.teamId,paymentStep:d.PaymentStep.PAYMENT_AND_ADDRESS,previousView:this.props.selectedView.previousView})):this.props.dispatch(o.fileBrowser.selectView({view:"teamUpgrade",teamId:this.props.teamId,paymentStep:d.PaymentStep.CHOOSE_PLAN,previousView:this.props.selectedView.previousView}))}),this.onSubmitPaymentAndAddress=(e=>{if(e.preventDefault(),!this.stripeCard||!this.stripeCard.isReady())return void console.warn("Stripe.Elements Card is not ready:",this.stripeCard.getCard());let t=this.props.teamId,a=this.stripeCard.getAddress(),n=this.props.payment.token;this.props.dispatch(i.payment.setSubmitPending({submitPending:!0})),n?this.props.dispatch(i.payment.submitPaymentAndAddress({teamId:t,address:a,token:n})):m.createToken(this.stripeCard.getCard()).then(e=>{e.error?(this.props.dispatch(i.payment.setToken({token:null})),this.props.dispatch(i.payment.showError({error:e.error.message||null}))):e&&e.token?(this.props.dispatch(i.payment.setToken({token:e.token})),this.props.dispatch(i.payment.submitPaymentAndAddress({teamId:t,address:a,token:e.token}))):(this.props.dispatch(i.payment.setToken({token:null})),this.props.dispatch(i.payment.showError({error:"Sorry, we're unable to process your payment. Refresh and try again."})))}).catch(e=>{console.error(e),this.props.dispatch(i.payment.showError({error:"An error occurred while reading your card."}))})}),this.onSubmitConfirmAndPay=(e=>{e.preventDefault();const{teamId:t,addAnnualPlan:a}=this.props,{numAnnualEditors:n,numMonthlyEditors:r,promo:s,studentTeam:o}=this.props.payment;this.props.dispatch(i.payment.setSubmitPending({submitPending:!0})),o?this.props.dispatch(i.payment.makeStudentTeam({teamId:t})):a?this.props.dispatch(i.payment.submitConfirmAddAnnual({teamId:t,numAnnualEditors:n})):this.props.dispatch(i.payment.submitConfirmAndPay({teamId:t,numAnnualEditors:n,numMonthlyEditors:r,promo:s}))}),this.showAdminPage=(()=>{this.props.dispatch(o.fileBrowser.selectView({view:"teamAdmin",teamId:this.props.teamId}))}),this.otherOptions=(()=>{this.props.dispatch(o.fileBrowser.showModal({type:f.MORE_PAYMENT_OPTIONS_MODAL,data:{teamId:this.props.teamId}}))})}renderTitle(){const{studentTeam:e}=this.props.payment;return e?n.createElement(y.StepTitle,null,"Upgrade to a Student Team"):this.props.addAnnualPlan?n.createElement(y.StepTitle,null,"Add an Annual Plan"):this.props.confirmPay?n.createElement(y.StepTitle,null,"Summary"):n.createElement(y.StepTitle,null,"Enter Payment")}renderStepInstructions(){const{confirmPay:e,addAnnualPlan:t}=this.props,{billingPeriod:a,studentTeam:r}=this.props.payment;return r?n.createElement(y.StepInstructions,null,"All editors on a Student Team must be verified students.",n.createElement("br",null),"You can upgrade to a Professional Team at any time to enable non-student editors."):e?n.createElement(y.StepInstructions,null,"Please review and confirm that the information below is correct."):t?n.createElement(y.StepInstructions,null,"Payment for annual seats will be added to your next monthly renewal invoice.",n.createElement("br",null),"Editors not covered by your annual plan will be charged monthly at ",l.formatMoney(l.MONTHLY_EDITOR_COST,!0),"/mo."):a===d.BillingPeriod.ANNUAL?n.createElement(y.StepInstructions,null,"Editors added after your annual plan starts ",n.createElement("br",null)," will be charged monthly at ",l.formatMoney(l.MONTHLY_EDITOR_COST,!0),"/mo."):void 0}renderPlan(){const{billingPeriod:e,studentTeam:t,promo:a,taxes:r,numMonthlyEditors:s,numAnnualEditors:o}=this.props.payment,i=this.props.teams[this.props.teamId].editors;return t?n.createElement(C,null):e===d.BillingPeriod.ANNUAL?n.createElement(v,{totalEditors:i,numAnnualEditors:o||0,onNumAnnualEditorsChange:this.onNumAnnualEditorsChange,showAdminPage:this.showAdminPage,isTeamPro:!!this.props.addAnnualPlan,dispatch:this.props.dispatch,promo:this.props.addAnnualPlan?null:a,confirmPay:this.props.confirmPay,taxes:r,teamId:this.props.teamId}):e===d.BillingPeriod.MONTHLY?n.createElement(S,{totalEditors:i,numMonthlyEditors:s||0,showAdminPage:this.showAdminPage,dispatch:this.props.dispatch,promo:this.props.addAnnualPlan?null:a,confirmPay:this.props.confirmPay,taxes:r}):void 0}renderPaymentInputs(){let e;if(!this.props.confirmPay&&!this.props.addAnnualPlan&&!this.props.payment.studentTeam)return e=n.createElement(h.StripeCardAndAddress,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",address:this.props.payment.address,token:this.props.payment.token,dispatchSetToken:this.props.dispatch.bind(this,i.payment.setToken),ref:this.stripeCardRef}),n.createElement("div",null,n.createElement("p",{className:g.paymentHeading},"Credit card or debit card ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.otherOptions},"Other options"),")")),e,this.props.payment.error&&n.createElement("p",{className:g.error},this.props.payment.error))}renderSubscriptionTerms(){const{addAnnualPlan:e,confirmPay:t}=this.props,{studentTeam:a,billingPeriod:r}=this.props.payment;return a?n.createElement("div",{className:g.bigTerms},"By upgrading, you agree to our ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):e?n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each year for the annual subscription and each month for any additional editors added to the team. ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):t?r===d.BillingPeriod.ANNUAL?n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each year for the annual subscription and each month for any additional editors added to the team. ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each month and will include any additional editors added to the team. ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):void 0}renderFlowActions(){const{addAnnualPlan:e}=this.props,{submitPending:t,studentTeam:a}=this.props.payment;if(a)return n.createElement("div",{className:`${g.flowActionsSingle} ${g.row}`},n.createElement(u.ButtonGreenTracked,{type:"submit",disabled:t,className:`${g.bigButton}`},"Accept Terms and Upgrade"));if(e)return n.createElement("div",{className:`${g.flowActionsSingle} ${g.row}`},n.createElement(u.ButtonGreenTracked,{type:"submit",disabled:t,className:`${g.bigButton}`},"Accept Terms and Upgrade"));let r="Back",s="Next to Review";return this.props.confirmPay&&(r="Back to Payment",s="Accept Terms and Upgrade"),n.createElement("div",{className:`${g.flowActionsBinary} ${g.row}`},n.createElement(u.ButtonGreenTracked,{type:"submit",disabled:t,className:`${g.bigButton} ${g.nextStep}`},s),n.createElement(u.ButtonSecondaryTracked,{type:"button",disabled:t,className:`${g.bigButton} ${g.prevStep}`,onClick:this.onClickPrev.bind(this,r.toLowerCase())},r))}render(){const{confirmPay:e,addAnnualPlan:t}=this.props,{studentTeam:a}=this.props.payment;let r=null,s="";return r=this.onSubmitPaymentAndAddress,s=g.stepCard,e?(r=this.onSubmitConfirmAndPay,s=g.stepConfirm):t?(r=this.onSubmitConfirmAndPay,s=g.addAnnualPlan):a&&(r=this.onSubmitConfirmAndPay,s=g.stepConfirm),n.createElement(P.TrackingContext,{name:"Step Pay",disableViewTracking:!0},n.createElement("div",{className:s},this.renderTitle(),this.renderStepInstructions(),n.createElement("form",{onSubmit:r,className:g.paymentForm},this.renderPlan(),this.renderPaymentInputs(),this.renderSubscriptionTerms(),this.renderFlowActions())))}}t.StepPay=N,N.displayName="StepPay";class v extends n.Component{constructor(){super(...arguments),this.state={tempEditorsValue:null,editingValue:!1,error:null},this.inputRef=(e=>{e&&r.findDOMNode(e).select()}),this.onChange=(e=>{const t=e.target.value;this.setState({tempEditorsValue:t})}),this.confirmSeats=(e=>{this.props.onNumAnnualEditorsChange(e)}),this.onBlur=(()=>{const e=parseInt(this.state.tempEditorsValue);isNaN(e)||(e<this.props.totalEditors?(this.props.onNumAnnualEditorsChange(this.props.totalEditors),this.props.dispatch(s.flash.error(`You must buy at least ${this.props.totalEditors} seats for the current editors on your team.`))):e>l.MAX_ANNUAL_SUBSCRIPTIONS?this.props.dispatch(s.flash.error(n.createElement("div",null,"Please ",n.createElement("a",{href:"mailto:support@figma.com"},"contact support")," to purchase more than ",l.MAX_ANNUAL_SUBSCRIPTIONS," seats."))):e>100?this.props.dispatch(o.fileBrowser.showModal({type:f.CONFIRM_SEATS_MODAL,data:{numAnnualEditors:e,onConfirm:this.confirmSeats.bind(this,e)}})):this.props.onNumAnnualEditorsChange(e)),this.setState({tempEditorsValue:null,editingValue:!1})}),this.editValue=(e=>{e.preventDefault(),this.setState({editingValue:!0})}),this.onKeyDown=(e=>{const t=e.target;e.keyCode===p.Key.ENTER?(e.preventDefault(),t.blur()):e.keyCode===p.Key.ESCAPE&&this.setState({editingValue:!1})}),this.onClearPromo=(()=>{this.props.dispatch(i.payment.setPromo({promo:null}))}),this.renderPricing=(()=>{if(this.props.promo)return n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Promotional code ",this.props.promo.code," ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.onClearPromo},"remove"),")"),n.createElement("br",null),"Nothing due during ",this.props.promo.promo_value," day trial period."),n.createElement(w,{amount:0}));if(this.props.confirmPay&&this.props.taxes)return n.createElement("div",null,n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Subscription"),n.createElement("div",null,l.formatMoney(this.props.taxes.sub_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Sales Tax"),n.createElement("div",null,l.formatMoney(this.props.taxes.tax_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Total")),n.createElement(w,{amount:this.props.taxes.total})));{const e=this.props.totalEditors-this.props.numAnnualEditors,t=!this.props.isTeamPro&&e>0,a=this.props.numAnnualEditors*l.ANNUAL_EDITOR_COST*12,r=e*l.MONTHLY_EDITOR_COST,s=a+(t?r:0);return n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Subscription")),n.createElement(w,{amount:s,plusTax:!this.props.confirmPay}))}})}render(){return n.createElement("div",null,n.createElement("div",{className:g.rowFlexBorder},n.createElement("div",null,n.createElement("div",{className:g.flex},this.state.editingValue&&n.createElement(u.TextInput,{ref:this.inputRef,className:g.numEditorsInput,value:null==this.state.tempEditorsValue?this.props.numAnnualEditors:this.state.tempEditorsValue,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}),!this.state.editingValue&&this.props.numAnnualEditors,n.createElement("span",null," ",1===this.props.numAnnualEditors?"editor":"editors"," on an annual plan")),!this.state.editingValue&&!this.props.confirmPay&&n.createElement("div",{className:g.smallGrayText},"Planning ahead? ",n.createElement("span",{className:g.changeLink,onClick:this.editValue},"Add more seats"))),n.createElement(A,{amount:l.ANNUAL_EDITOR_COST,period:"/ editor / month"})),this.renderPricing())}}t.AnnualPlan=v,v.displayName="AnnualPlan";class A extends n.Component{render(){return n.createElement("div",{className:g.subtotal},l.formatMoney(this.props.amount),n.createElement("div",{className:g.smallGrayText},this.props.period))}}t.SubTotal=A,A.displayName="SubTotal";class w extends n.Component{render(){return n.createElement("div",{className:g.total},n.createElement("p",{className:g.totalText},l.formatMoney(this.props.amount,!1,this.props.locale)),this.props.plusTax&&n.createElement("p",{className:g.plusTaxText},"+ sales tax"))}}t.Total=w,w.displayName="Total";class S extends n.Component{constructor(){super(...arguments),this.onClearPromo=(()=>{this.props.dispatch(i.payment.setPromo({promo:null}))}),this.renderPricing=(()=>{if(this.props.promo)return n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Promotional code ",this.props.promo.code," ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.onClearPromo},"remove"),")"),n.createElement("br",null),"Nothing due during ",this.props.promo.promo_value," day trial period."),n.createElement(w,{amount:0}));if(this.props.confirmPay&&this.props.taxes)return n.createElement("div",null,n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Subscription"),n.createElement("div",null,l.formatMoney(this.props.taxes.sub_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Sales Tax"),n.createElement("div",null,l.formatMoney(this.props.taxes.tax_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Total")),n.createElement(w,{amount:this.props.taxes.total})));{const e=Math.max(this.props.totalEditors,this.props.numMonthlyEditors)*l.MONTHLY_EDITOR_COST;return n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Subscription")),n.createElement(w,{amount:e,plusTax:!this.props.confirmPay}))}})}render(){const e=Math.max(this.props.totalEditors,this.props.numMonthlyEditors);return n.createElement("div",null,n.createElement("div",{className:g.rowFlexBorder},n.createElement("div",null,e," ",1===e?"editor":"editors"," on a monthly plan"),n.createElement(A,{amount:l.MONTHLY_EDITOR_COST,period:"/ editor / month"})),this.renderPricing())}}S.displayName="MonthlyPlan";class C extends n.Component{render(){return n.createElement("div",{className:g.studentPlan},n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.studentPlanTitle},n.createElement(E.Svg,{svg:T})," Student Team with unlimited student editors"),n.createElement(w,{amount:0})))}}C.displayName="StudentPlan";class x extends n.Component{constructor(){super(...arguments),this.contactUs=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.hide=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return n.createElement(P.TrackingContext,{name:"More Payment Options Modal",properties:{teamId:this.props.teamId}},n.createElement(c.Modal,Object.assign({title:"Need a different payment option?",size:"small"},this.props),"If you can't pay with a credit card or debit card, please ",n.createElement("a",{href:"mailto:support@figma.com"},"contact us")," for assistance.",n.createElement("br",null)," ",n.createElement("br",null),"You can also chat with us directly by clicking the ? button in the bottom-right corner of the page.",n.createElement("div",{className:b.buttonRow},n.createElement(u.ButtonSecondaryTracked,{trackingProperties:{teamId:this.props.teamId},className:b.cancelLink,onClick:this.hide},"Cancel"),n.createElement(u.ButtonLinkTracked,{trackingProperties:{teamId:this.props.teamId},href:"mailto:support@figma.com",className:b.confirmButton,onClick:this.contactUs},"Contact Us"))))}}t.MorePaymentOptionsModal=x,x.displayName="MorePaymentOptionsModal";class _ extends n.Component{render(){const e=this.props.modalShown.data.numAnnualEditors;return n.createElement(c.ConfirmationModal,Object.assign({confirmationTitle:`${e}? That's a lot of seats!`,onConfirm:this.props.modalShown.data.onConfirm,confirmText:`Yes, I really want ${e} seats.`},this.props),"We're happy that you want to buy ",e," seats, but just want to check that you didn't make a typo.")}}t.ConfirmSeatsModal=_,_.displayName="ConfirmSeatsModal"}),
(function(l,e,s){l.exports={userDetailsModal:"user_details_modal--userDetailsModal--2X-AD",scrollContainer:"user_details_modal--scrollContainer--3eiqC",userDetailsContent:"user_details_modal--userDetailsContent--dapxA",avatar:"user_details_modal--avatar--1H9IU",loadingRoles:"user_details_modal--loadingRoles--3U98l",downgradeButton:"user_details_modal--downgradeButton--PhB0r",roles:"user_details_modal--roles--3zPE_",allAccess:"user_details_modal--allAccess--2CU6W",roleLink:"user_details_modal--roleLink--1JZdb ellipsis--ellipsis--1RWY6",roleLinkDisabled:"user_details_modal--roleLinkDisabled--1Fm1B",confirmModal:"user_details_modal--confirmModal--1Z6EN",confirmActions:"user_details_modal--confirmActions--25c4l"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),o=t(285                                   ),r=t(106                                     ),l=t(227                                 ),n=t(354                            ),i=t(224                                            ),c=t(347                                                  ),d=t(178                                        ),m=t(111                        ),p=t(136                            ),h=t(340              ),_=t(1277                      ),f=t(411                                        ),u=t(221                                    ),v=h.pxToInt(f.userDetailsModalWidth);class g extends s.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{const{editor:e}=this.props.modalShown.data;this.props.dispatch(r.fileBrowser.showModal({type:p.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,data:{editor:e}}))})}render(){var e;const{editor:a}=this.props.modalShown.data,{loading:t,roles:o}=this.props.teamAdmin.userDetails,r=o.team_roles||[],p=o.folder_roles||[],h=p.filter(e=>m.canViewFolder(e.resource_id_or_key,this.props)),f=p.length-h.length,g=o.file_roles||[],E=g.filter(e=>m.canViewFile(e.resource_id_or_key,this.props)),w=g.length-E.length,N=r.length>0;return s.createElement(u.TrackingContext,{name:"User Details Modal",disableViewTracking:!0},s.createElement(l.Modal,Object.assign({className:_.userDetailsModal},this.props),s.createElement(c.ScrollContainer,{className:_.scrollContainer,showScrollbar:!0,width:v},s.createElement("div",{className:_.userDetailsContent},s.createElement(n.Avatar,{entity:a,size:100,className:_.avatar}),s.createElement("div",null,a.name,s.createElement("br",null),s.createElement("a",{href:`mailto:${a.email}`},a.email)),s.createElement(i.ButtonSecondaryTracked,{onClick:this.onRemove,className:_.downgradeButton,disabled:a.id===(null===(e=this.props.user)||void 0===e?void 0:e.id)},"Downgrade to Viewer"),t&&s.createElement(d.LoadingSpinner,{className:_.loadingRoles}),!t&&s.createElement("div",{className:_.roles},s.createElement("div",null,"Files with edit access",N&&s.createElement("div",{className:_.allAccess},"All team files"),!N&&0===g.length&&s.createElement("div",{className:_.allAccess},"None"),!N&&E.map((e,a)=>{const t=`/file/${e.resource_id_or_key}`;return s.createElement("a",{target:"_blank",rel:"noopener",className:_.roleLink,href:t,key:a},e.name||"Untitled")}),!N&&w>0&&s.createElement("div",{"data-tooltip-text":"Files in team invite only folders you do not have access to.",className:_.roleLinkDisabled},w," ",E.length>0?"other":""," file",w>1?"s ":"")),s.createElement("div",null,"Projects with edit access",N&&s.createElement("div",{className:_.allAccess},"All team projects"),!N&&0===p.length&&s.createElement("div",{className:_.allAccess},"None"),!N&&h.map((e,a)=>{const t=`/files/project/${e.resource_id_or_key}`;return s.createElement("a",{target:"_blank",rel:"noopener",className:_.roleLink,href:t,key:a},e.name)}),!N&&f>0&&s.createElement("div",{"data-tooltip-text":"Team invite only folders you do not have access to.",className:_.roleLinkDisabled},f," ",h.length>0?"other":""," folder",f>1?"s ":"")))))))}}a.UserDetailsModal=g,g.displayName="UserDetailsModal";class E extends s.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{const{editor:e}=this.props.modalShown.data;this.props.dispatch(o.teamAdmin.demoteUserRoles({editor:e})),this.props.dispatch(r.fileBrowser.hideModal())})}render(){const{editor:e}=this.props.modalShown.data;return s.createElement(u.TrackingContext,{name:"Confirm Remove Editor Modal",disableViewTracking:!0},s.createElement(l.ConfirmationModal,Object.assign({confirmText:`Downgrade ${e.name}`,onConfirm:this.onRemove,size:"small"},this.props),s.createElement("div",{className:_.confirmModal},s.createElement("p",null,"Are you sure you want to downgrade ",e.name,"? This will convert all of their edit permissions to view-only."))))}}a.ConfirmRemoveEditorModal=E,E.displayName="ConfirmRemoveEditorModal"}),
(function(m,n,a){m.exports={paymentForm:"change_payment_modal--paymentForm--13cGS"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    ),r=s(124     ),i=s(94                                   ),n=s(106                                     ),d=s(285                                   ),o=s(95                      ),p=s(1267                  ),h=s(227                                 ),c=s(1271                                    ),m=s(1279                        );class l extends a.PureComponent{constructor(t){super(t),this.stripeCardRef=(t=>{this.stripeCard=t}),this.hide=(()=>this.props.dispatch(n.fileBrowser.hideModal())),this.onSubmitCardAndAddress=(t=>{if(t&&t.preventDefault(),!this.stripeCard)return;const e=this.stripeCard.getCard();if(!e)return;this.setState({pendingPut:!0});const s=this.props.modalShown.data.teamId,a=this.stripeCard.getAddress(),r="An error occurred while reading your card.";p.createToken(e).then(t=>{t.error?(this.props.dispatch(i.flash.error(t.error.message||r)),this.setState({pendingPut:!1})):t&&t.token?this.submitChangePaymentAndAddress(s,a,t.token):this.props.dispatch(i.flash.error("Sorry, we're unable to change your payment source. Refresh and try again."))}).catch(()=>{this.props.dispatch(i.flash.error(r)),this.setState({pendingPut:!1})})}),this.state={pendingPut:!1}}submitChangePaymentAndAddress(t,e,s){const a={source_token:s.id,address:e};r.default.put(`/api/subscriptions-2018-11-08/team/${t}/token`,a).then(({data:t})=>{this.setState({pendingPut:!1});const e=t.meta&&t.meta.team;e&&(this.props.dispatch(d.teamAdmin.initBillingDetails({teamId:e.id})),this.hide()),this.props.dispatch(i.flash.flash("Successfully updated your payment source."))}).catch(t=>{this.setState({pendingPut:!1}),o.contactSupportFlash(t,this.props.dispatch)})}render(){return a.createElement(h.ConfirmationModal,Object.assign({confirmationTitle:"Enter credit card or debit card",confirmText:"Use this card",disableConfirm:this.state.pendingPut,onConfirm:this.onSubmitCardAndAddress,onCancel:this.hide,dontClose:!0},this.props),a.createElement("form",{onSubmit:this.onSubmitCardAndAddress,className:m.paymentForm},a.createElement(c.StripeCardAndAddress,{id:"change-payment-modal-form",cardId:"change-payment-modal-card",ref:this.stripeCardRef})))}}e.ChangePaymentModal=l,l.displayName="ChangePaymentModal"}),
(function(n,l,a){n.exports={link:"change_annual_plan_modal--link--2GbYe blue_link--blueLink--22X56"}}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(3,1    ),s=n(106                                     ),i=n(94                                   ),o=n(129                                ),l=n(47,1    ),r=n(95                      ),m=n(227                                 ),u=n(136                            ),p=n(224                                            ),c=n(1281                            );class h extends a.PureComponent{constructor(t){super(t),this.team=(()=>this.props.teams[this.props.selectedView.teamId]),this.annualSub=(()=>{var t;try{const{billingDetails:n}=this.props.teamAdmin;return!1===n.loadingSummary&&(null===(t=n.billingSummary)||void 0===t?void 0:t.annual_subscription)||{}}catch(e){return{}}}),this.confirmSeats=(t=>{this.props.dispatch(o.payment.putAnnualQuantity({teamId:this.team().id,annualQuantity:t}))}),this.onSubmit=(()=>{const t=parseInt(this.state.tempEditors);isNaN(t)||t<1?this.props.dispatch(i.flash.error("Please enter a valid number of seats to renew.")):t>r.MAX_ANNUAL_SUBSCRIPTIONS?this.props.dispatch(i.flash.error(a.createElement("div",null,"Please ",a.createElement("a",{href:"mailto:support@figma.com"},"contact support")," to purchase more than $",r.MAX_ANNUAL_SUBSCRIPTIONS," seats."))):t>100?this.props.dispatch(s.fileBrowser.showModal({type:u.CONFIRM_SEATS_MODAL,data:{numAnnualEditors:t,onConfirm:this.confirmSeats.bind(this,t)}})):this.props.dispatch(o.payment.putAnnualQuantity({teamId:this.team().id,annualQuantity:t}))}),this.onChange=(t=>{this.setState({tempEditors:t.target.value})}),this.cancelPlan=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:u.TEAM_ADMIN_CANCEL_ANNUAL_PLAN}))}),this.hide=(()=>{this.props.dispatch(s.fileBrowser.hideModal())});const e=this.annualSub();this.state={tempEditors:`${e.quantity}`}}render(){const t=!!this.annualSub().trial_end&&l(this.annualSub().trial_end).isAfter(new Date),e=l(this.annualSub().current_period_end).format("MMM D, YYYY");return a.createElement(m.ConfirmationModal,Object.assign({confirmationTitle:`Your annual plan will ${t?"start":"auto-renew"} on ${e}.`,confirmText:"Update Annual Plan",onConfirm:this.onSubmit,onCancel:this.hide,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending},this.props),a.createElement("br",null),"You can change the number of editors on your annual plan 30 days before each renewal.",a.createElement("br",null),a.createElement("br",null),"Any editors not covered by your annual plan will be charged monthly at ",r.formatMoney(r.MONTHLY_EDITOR_COST,!0),"/mo.",a.createElement("br",null),a.createElement("br",null),"Number of editors on annual plan:   ",a.createElement(p.TextInput,{type:"number",step:1,min:1,max:r.MAX_ANNUAL_SUBSCRIPTIONS,value:this.state.tempEditors,onChange:this.onChange}),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{className:c.link,onClick:this.cancelPlan},t?"Remove":"Don't renew"," my annual plan"))}}e.ChangeAnnualPlanModal=h,h.displayName="ChangeAnnualPlanModal";class d extends a.PureComponent{constructor(){super(...arguments),this.team=(()=>this.props.teams[this.props.selectedView.teamId]),this.onSubmit=(()=>{const t=this.team().id;this.props.dispatch(o.payment.putAnnualQuantity({teamId:t,annualQuantity:0}))}),this.onCancel=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:u.TEAM_ADMIN_CHANGE_ANNUAL_PLAN}))})}render(){const t=this.team();return a.createElement(m.ConfirmationModal,Object.assign({confirmationTitle:"Cancel your annual plan?",confirmText:"Cancel annual plan",cancelText:"Nevermind",onConfirm:this.onSubmit,onCancel:this.onCancel,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending},this.props),a.createElement("br",null),"The ",1===t.editors?"1 editor":`${t.editors} editors`," on your team will be charged monthly at ",r.formatMoney(r.MONTHLY_EDITOR_COST,!0),"/mo.",a.createElement("br",null),a.createElement("br",null),"You can always add an annual plan later, if you change your mind.")}}e.ConfirmCancelAnnualPlanModal=d,d.displayName="ConfirmCancelAnnualPlanModal"}),
(function(a,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=i(94                                   ),s=i(285                                   ),c=i(95                      ),n=i(105                               ),l=i(124     ),o=n.asyncActionCreator("PAYMENT_CHANGE_INVOICE_RECEIVER",(a,e)=>{const{teamId:i,userId:n}=e;l.default.put(`/api/subscriptions/team/${i}/invoice_receivers`,{user_id:n}).then(()=>{a.dispatch(s.teamAdmin.initBillingDetails({teamId:i})),a.dispatch(t.flash.flash("Successfully changed billing owner."))}).catch(e=>c.contactSupportFlash(e,a.dispatch))});e.changeInvoiceReceiver=o}),
(function(e,c,i){e.exports={select:"change_invoice_receiver_modal--select--3CWRS"}}),
(function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=n(3,1    ),a=n(1283                                     ),s=n(227                                 ),c=n(1284                                 );class o extends t.PureComponent{constructor(e){super(e),this.onSubmit=(()=>{this.props.dispatch(a.changeInvoiceReceiver({teamId:this.props.teamId,userId:this.state.newInvoiceReceiverId}))}),this.onInviteLevelChange=(e=>{this.setState({newInvoiceReceiverId:e.currentTarget.value})}),this.state={newInvoiceReceiverId:this.props.admins[0].id}}render(){return t.createElement(s.ConfirmationModal,Object.assign({confirmationTitle:"Change the Invoice Recipient",confirmText:"Change Recipient",onConfirm:this.onSubmit},this.props),t.createElement("p",null,this.props.invoiceReceiver.handle," receives all invoice emails and reminders. Please select a team admin from the dropdown below to change the invoice email recipient."),t.createElement("select",{className:c.select,onChange:this.onInviteLevelChange,value:this.state.newInvoiceReceiverId},this.props.admins.map(e=>t.createElement("option",{value:`${e.id}`,key:`${e.id}`},e.name))))}}i.ChangeInvoiceReceiverModal=o,o.displayName="ChangeInvoiceReceiverModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(3,1    ),n=a(129                                ),i=a(95                      ),s=a(227                                 );class r extends o.PureComponent{constructor(){super(...arguments),this.teamId=(()=>this.props.modalShown.data.teamId),this.onSubmit=(()=>{this.props.dispatch(n.payment.downgrade({teamId:this.teamId()}))})}render(){const e=this.props.teams[this.teamId()];return o.createElement(s.ConfirmationModal,Object.assign({confirmText:"Finish Cancellation",onConfirm:this.onSubmit,fixedTop:!0,cancelText:"Go Back",confirmationTitle:"Are you sure you want to downgrade this team?"},this.props),'Team "',e.name,'" will be limited to ',i.MAX_FREE_EDITORS," editors and ",i.MAX_FREE_FOLDERS," projects.",o.createElement("br",null)," ",o.createElement("br",null),"You will no longer have access to the team component library, and version history will be limited to ",i.FREE_VERSION_HISTORY_MAX_DAYS," days.")}}t.ConfirmDowngradeModal=r,r.displayName="ConfirmDowngradeModal"}),
(function(o,e,n){o.exports={projectName:"new_folder_modal--projectName--2MPSu basic_form--textInput--3ZlM2 basic_form--input--3cO2P",row:"new_folder_modal--row--2qQRC",inviteSelect:"new_folder_modal--inviteSelect--kSLFs",access:"new_folder_modal--access--1vfWk",avatar:"new_folder_modal--avatar--2MQGN",icon:"new_folder_modal--icon--iYU1L",lockIcon:"new_folder_modal--lockIcon--30PBG new_folder_modal--icon--iYU1L",buttons:"new_folder_modal--buttons--Z9CT0",contextMenu:"new_folder_modal--contextMenu--1xq7Z"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),o=s(212      ),r=s(164         ),i=s(208        ),l=s(95                      ),n=s(106                                     ),d=s(133                               ),c=s(631                       ),p=s(345                                  ),h=s(224                                            ),m=s(174                        ),v=s(354                            ),w=s(363                                              ),E=s(1287                    ),f=s(221                                    ),L=s(339                                           ),g=s(1105                        ),N=s(625                        );class D extends a.PureComponent{constructor(e){super(e),this.NEW_FOLDER_DROPDOWN="new-folder-dropdown",this.textAreaRef=a.createRef(),this.createFolder=(()=>{let e=!1,t=!1;switch(this.state.folderLevel){case c.FolderLevel.EDIT:e=!1,t=!1;break;case c.FolderLevel.VIEW:e=!1,t=!0;break;case c.FolderLevel.DISABLE:e=!0,t=!1;break;default:i.assertNever(this.state.folderLevel)}this.props.dispatch(d.folder.create({shouldRedirect:!this.props.modalShown.prevModal,name:this.state.name.trim(),teamId:this.props.creatingNewFolder.teamId,isInviteOnly:e,isViewOnly:t}))}),this.onKeyDown=(e=>{e.keyCode===o.Key.ENTER&&(e.preventDefault(),this.createFolder())}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.NEW_FOLDER_DROPDOWN),this.togglePermissionDropdown=(()=>{this.isDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:this.NEW_FOLDER_DROPDOWN}))}),this.onClose=(()=>{this.props.dispatch(n.fileBrowser.popModalStack()),this.props.dispatch(n.fileBrowser.stopCreateNewFolder())}),this.onNameChange=(e=>{const t=e.target;this.setState({folderLevel:this.state.folderLevel,name:t.value})}),this.setEdit=(()=>{this.setState({folderLevel:c.FolderLevel.EDIT,name:this.state.name})}),this.setPaidLevel=(e=>{l.canAccessProFeature(this.props.teams[this.props.creatingNewFolder.teamId])?this.setState({folderLevel:e,name:this.state.name}):(this.setState({folderLevel:c.FolderLevel.EDIT,name:this.state.name}),e===c.FolderLevel.VIEW?this.props.dispatch(n.fileBrowser.showModal({type:L.UPSELL_VIEW_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})):this.props.dispatch(n.fileBrowser.showModal({type:L.UPSELL_INVITE_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})))}),this.setViewOnly=(()=>{this.setPaidLevel(c.FolderLevel.VIEW)}),this.setInviteOnly=(()=>{this.setPaidLevel(c.FolderLevel.DISABLE)}),this.renderCurrentAccess=(()=>{switch(this.state.folderLevel){case c.FolderLevel.EDIT:case c.FolderLevel.VIEW:const e=this.state.folderLevel===c.FolderLevel.EDIT?"edit":"view",t=this.props.teams[this.props.creatingNewFolder.teamId];return a.createElement("div",{className:E.access},a.createElement(v.Avatar,{size:24,className:E.avatar,entity:t}),"Everyone at ",r.truncateText(t.name,13)||"this team"," can ",e,a.createElement(m.Svg,{className:E.icon,svg:g}));case c.FolderLevel.DISABLE:return a.createElement("div",{className:E.access},a.createElement(m.Svg,{className:E.lockIcon,svg:N}),"Invite Only",a.createElement(m.Svg,{className:E.icon,svg:g}))}}),this.state={folderLevel:c.FolderLevel.EDIT,name:""}}componentDidMount(){this.textAreaRef.current&&this.textAreaRef.current.select()}render(){const e=this.props.teams[this.props.creatingNewFolder.teamId],t=e.name||"this team";return a.createElement(f.TrackingContext,{name:"Create New Project Modal",properties:{teamId:e.id,editors:e.editors,projects:e.projects}},a.createElement(w.HeaderModal,{title:"Create New Project",onClose:this.onClose,maxWidth:468},a.createElement("div",{className:E.row},a.createElement("input",{className:E.projectName,ref:this.textAreaRef,onChange:this.onNameChange,onKeyDown:this.onKeyDown,placeholder:"Project name"})),a.createElement("div",{className:E.row},a.createElement("div",{className:E.inviteSelect,onClick:this.togglePermissionDropdown},this.renderCurrentAccess(),this.isDropdownShown()&&a.createElement(p.dropdown.Dropdown,{className:E.contextMenu},a.createElement(p.dropdown.CheckableOption,{onClick:this.setEdit,checked:this.state.folderLevel===c.FolderLevel.EDIT},"Everyone at ",r.truncateText(t,22)," can edit"),a.createElement(p.dropdown.CheckableOption,{onClick:this.setViewOnly,checked:this.state.folderLevel===c.FolderLevel.VIEW},"Everyone at ",r.truncateText(t,22)," can view"),a.createElement(p.dropdown.CheckableOption,{onClick:this.setInviteOnly,checked:this.state.folderLevel===c.FolderLevel.DISABLE},"Invite-only — let me choose who has access"))),a.createElement("div",{className:E.buttons},a.createElement(h.ButtonSecondary,{onClick:this.onClose},"Cancel"),a.createElement(h.ButtonPrimary,{disabled:!this.state.name.trim(),onClick:this.createFolder},"Create Project")))))}}t.NewFolderModal=D,D.displayName="NewFolderModal"}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(3,1    ),o=t(240                             ),i=t(227                                 ),r=t(224                                            ),l=t(228          );class n extends s.Component{constructor(){super(...arguments),this.changeEmail=(e=>{e.preventDefault(),this.props.dispatch(o.user.changeEmail({formId:n.id}))}),this.forgotPassword=(()=>{this.props.dispatch(o.user.forgotPassword())})}render(){return s.createElement(i.Modal,{size:"small",title:"Change Email",className:l.modal,dispatch:this.props.dispatch},s.createElement("form",{id:n.id,onSubmit:this.changeEmail},s.createElement("p",null,'We will send a validation message to your new email address. Please click the "Confirm Email" button inside to complete the change.'),s.createElement(r.TextInput,{name:"email",type:"text",className:l.textInput,autoFocus:!0,placeholder:"New email"}),s.createElement(r.TextInput,{name:"password",type:"password",className:l.textInput,placeholder:"Confirm Figma password"}),s.createElement("div",{className:l.buttonRow},s.createElement(r.Link,{onClick:this.forgotPassword,className:l.left},"Forgot password?"),s.createElement(r.ButtonPrimary,{type:"submit",className:l.confirmButton},"Submit"))))}}a.ChangeEmailModal=n,n.displayName="ChangeEmailModal",n.id="user-change-email"}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(3,1    ),o=r(106                                     ),a=r(240                             ),i=r(224                                            ),n=r(228          );class c extends t.PureComponent{constructor(){super(...arguments),this.forgotPassword=(()=>{this.props.dispatch(a.user.forgotPassword())}),this.verifyPassword=(e=>{e.preventDefault(),e.target.elements.password.select(),this.props.dispatch(a.user.verifyPassword({passwordForm:c.formId}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(o.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()})}render(){return t.createElement("form",{id:c.formId,onSubmit:this.verifyPassword},t.createElement("div",null,"For security purposes, please re-enter your password below."),t.createElement("input",{name:"password",type:"password",className:n.textInput,ref:this.inputRef,placeholder:"Current password"}),t.createElement("div",{className:n.error},this.props.twoFactorAuth.currentError||""),t.createElement("div",{className:n.buttonRow},t.createElement(i.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),t.createElement(i.ButtonSecondary,{onClick:this.cancel},"Cancel"),t.createElement(i.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:n.confirmButton},"Continue")))}}s.RequirePasswordModal=c,c.displayName="RequirePasswordModal",c.formId="verify-password-form"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),a=s(106                                     ),n=s(240                             ),i=s(227                                 ),r=s(224                                            ),l=s(1290                                    ),c=s(222                                      ),u=s(228          ),p="delete my account";class m extends o.PureComponent{constructor(e){super(e),this.deleteAccount=(e=>{e.preventDefault(),p===this.state.confirmUserDeleteInput&&this.props.user&&this.props.dispatch(n.user.deleteUserAccount({token:this.props.user.password_token}))}),this.resendVerification=(()=>{this.props.dispatch(n.user.sendValidationEmail())}),this.onChangeInput=(e=>{this.setState({confirmUserDeleteInput:e.currentTarget.value})}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(a.fileBrowser.hideModal())}),this.state={confirmUserDeleteInput:""}}render(){return this.props.user?this.props.user.google_sso_only||!this.props.user.email||this.props.user.email_validated_at?this.props.user.delete_user_loading?o.createElement(i.Modal,Object.assign({size:400,title:"Delete account",className:u.modal,disableClickOutsideToHide:!0},this.props),o.createElement("p",null,"Account deletion is in progress and may take a few moments. You will be redirected once deletion is complete.")):o.createElement(i.Modal,Object.assign({size:400,title:"Delete account",className:u.modal},this.props),(()=>this.props.user.google_sso_only||this.props.user.password_token?o.createElement("div",null,o.createElement("p",null,o.createElement("span",{className:u.important},"Are you sure you want to delete your Figma account?")," Deleting your account will delete all your associated data such as your files, components and images, including content you have shared with others. You cannot undo this operation."),o.createElement("br",null),o.createElement("p",null,"To confirm, please type ",o.createElement("strong",null,'"delete my account"')," below."),o.createElement("form",{onSubmit:this.deleteAccount},o.createElement("div",null,o.createElement(c.LazyInput,{className:u.textInput,type:"text",value:this.state.confirmUserDeleteInput,onChange:this.onChangeInput,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),o.createElement("div",{className:u.buttonRow},o.createElement(r.ButtonSecondary,{className:u.confirmButton,onClick:this.cancel},"Cancel"),o.createElement(r.ButtonNegative,{type:"submit",className:u.confirmButton,disabled:p!==this.state.confirmUserDeleteInput},"Delete Account")))):o.createElement(l.RequirePasswordModal,Object.assign({},this.props)))()):o.createElement(i.ConfirmationModal,Object.assign({confirmationTitle:"A verified email is required",content:"You must verify your email address before you can attempt this operation.",onConfirm:this.resendVerification,confirmText:"Resend verification email",tintedModalBackground:!0},this.props)):null}}t.DeleteUserAccountModal=m,m.displayName="DeleteUserAccountModal"}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(3,1    ),r=a(240                             ),o=a(227                                 ),p=a(224                                            ),n=a(228          );class d extends t.Component{constructor(){super(...arguments),this.changePassword=(e=>{e.preventDefault();let s=e.target.elements;this.props.dispatch(r.user.changePassword({passwordOld:s.passwordOld.value,passwordNew:s.passwordNew.value,passwordRetype:s.passwordRetype.value}))}),this.forgotPassword=(()=>{this.props.dispatch(r.user.forgotPassword())}),this.inputRef=(e=>{e&&e.focus()})}render(){return t.createElement(o.Modal,Object.assign({size:"small",title:"Change password",className:n.modal},this.props),t.createElement("form",{onSubmit:this.changePassword},t.createElement("input",{name:"passwordOld",type:"password",className:n.textInput,ref:this.inputRef,placeholder:"Current password"}),t.createElement("input",{name:"passwordNew",type:"password",className:n.textInput,placeholder:"New password"}),t.createElement("input",{name:"passwordRetype",type:"password",className:n.textInput,placeholder:"Confirm password"}),t.createElement("div",{className:n.buttonRow},t.createElement(p.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),t.createElement(p.ButtonPrimary,{type:"submit",className:n.confirmButton},"Submit"))))}}s.ChangePasswordModal=d,d.displayName="ChangePasswordModal"}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(227                                 ),s=t(3,1    ),n=t(240                             );class a extends s.PureComponent{constructor(){super(...arguments),this.invalidate=(()=>{this.props.dispatch(n.user.invalidateSessions())})}render(){return s.createElement(o.ConfirmationModal,Object.assign({confirmationTitle:"Log out other devices",content:"Signing out all other devices will require you to sign back in on those devices.",onConfirm:this.invalidate,confirmText:"Log out other devices",tintedModalBackground:!0},this.props))}}i.InvalidateSessionsModal=a,a.displayName="InvalidateSessionsModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),n=s(106                                     ),r=s(240                             ),a=s(136                            ),i=s(227                                 ),c=s(224                                            ),l=s(1290                                    ),p=s(227                                 ),h=s(223                                                ),m=s(228          );class u extends o.PureComponent{constructor(){super(...arguments),this.addPhone=(e=>{e.preventDefault();let t=e.target.elements,s=this.props.user.temp_phone;s?this.setState({resent:!0}):(t.phone.select(),s=t.phone.value),s&&this.props.dispatch(r.user.changePhone({phone:s}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(n.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()}),this.recoveryCodes=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:a.TWO_FACTOR_RECOVERY_MODAL}))}),this.deletePhone=(()=>{this.setState({confirm:!1,resent:!1}),this.props.dispatch(r.user.deletePhone()),this.props.dispatch(n.fileBrowser.hideModal())}),this.onCancel=(()=>{this.setState({confirm:!1})}),this.confirmDelete=(e=>{e.preventDefault(),this.setState({confirm:!0})}),this.confirmPhone=(e=>{e.preventDefault();let t=e.target.elements;t.code.select(),this.props.dispatch(r.user.confirmPhone({code:t.code.value}))}),this.title=(()=>this.props.user.phone_number&&this.props.user.password_token?"SMS two-factor authentication is enabled":"SMS two-factor authentication")}UNSAFE_componentWillMount(){this.setState({confirm:!1,resent:!1})}renderPhone(){return this.props.user.phone_number?o.createElement("div",null,"Your phone number is set to ",this.props.user.phone_number,". Authentication codes will be texted to this number for logging in.",o.createElement("div",{className:m.buttonRow},o.createElement(c.Link,{className:m.left,onClick:this.confirmDelete},"Unregister SMS number"),o.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Close"),o.createElement(c.ButtonPrimary,{className:m.confirmButton,onClick:this.recoveryCodes},"Recovery codes"))):this.props.user.phone_token?o.createElement("div",null,"SMS sent to ",this.props.user.temp_phone,". Please allow up to a minute for the SMS to arrive, then enter the authentication code below.",o.createElement("form",{onSubmit:this.confirmPhone},o.createElement("input",{type:"text",name:"code",ref:this.inputRef,className:m.textInput,placeholder:"Authentication code"}),o.createElement("div",{className:m.error},this.props.twoFactorAuth.currentError||""),o.createElement("div",{className:m.buttonRow},this.state.resent?o.createElement("div",{className:m.left},"Code resent"):o.createElement(c.Link,{className:m.left,onClick:this.addPhone},"Resend code"),o.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Cancel"),o.createElement(c.ButtonPrimary,{type:"submit",className:m.confirmButton},"Verify")))):o.createElement("div",null,"Enter a phone number where we can send an authentication code via SMS.",o.createElement("form",{onSubmit:this.addPhone},o.createElement("input",{type:"text",name:"phone",ref:this.inputRef,className:m.textInput,placeholder:"Phone number, e.g. +1 555 4443333"}),o.createElement("div",{className:m.error},this.props.twoFactorAuth.currentError||""),o.createElement("div",{className:m.buttonRow},o.createElement(c.Link,{onClick:this.cancel,className:h.btn},"Close"),o.createElement(c.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:m.confirmButton},"Verify"))))}render(){return this.state.confirm?o.createElement(p.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.two_factor_app_enabled?"You're about to remove your phone number, but app-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.deletePhone,onCancel:this.onCancel,confirmText:"Ok",dontClose:!0,tintedModalBackground:!0},this.props)):o.createElement(i.Modal,Object.assign({size:400,title:this.title(),className:m.modal},this.props),(()=>this.props.user.password_token?this.renderPhone():o.createElement(l.RequirePasswordModal,Object.assign({},this.props)))())}}t.PhoneSetupModal=u,u.displayName="PhoneSetupModal"}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(227                                 ),a=o(1290                                    ),r=o(3,1    ),i=o(227                                 ),l=o(240                             ),n=o(228          );class p extends r.PureComponent{constructor(){super(...arguments),this.disable=(()=>{var e;(null===(e=this.props.user)||void 0===e?void 0:e.password_token)&&this.props.dispatch(l.user.disableTwoFactor({token:this.props.user.password_token}))})}render(){return this.props.user&&this.props.user.password_token?r.createElement(t.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.phone_number?"You're about to turn off app-based two-factor, but SMS-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.disable,confirmText:"Ok",tintedModalBackground:!0},this.props)):r.createElement(i.Modal,Object.assign({size:"small",title:"Disable Two-factor Auth",className:n.modal},this.props),r.createElement(a.RequirePasswordModal,Object.assign({},this.props)))}}s.DisableTwoFactorModal=p,p.displayName="DisableTwoFactorModal"}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),a=t(106                                     ),r=t(240                             ),n=t(136                            ),c=t(227                                 ),i=t(224                                            ),p=t(1290                                    ),l=t(228          );class d extends o.PureComponent{constructor(){super(...arguments),this.regenerateCodes=(()=>{this.props.dispatch(r.user.resetBackupCodes())}),this.setupPhone=(()=>{this.props.dispatch(a.fileBrowser.showModal({type:n.SETUP_PHONE_MODAL}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(a.fileBrowser.hideModal())})}UNSAFE_componentWillMount(){this.props.user.password_token&&this.props.dispatch(r.user.getBackupCodes({token:this.props.user.password_token}))}render(){return o.createElement(c.Modal,Object.assign({size:400,title:"Two-factor recovery codes",className:l.modal},this.props),(()=>{if(this.props.user.password_token){if(this.props.user.backup_codes){let e=this.props.user.backup_codes.map(e=>o.createElement("div",{key:e,className:l.code},e));return o.createElement("div",null,"In case you lose your phone, use these codes when prompted for 'Authentication Code' to log in. Once you use a code, it will no longer work.",o.createElement("div",{className:l.codes},e),o.createElement("div",{className:l.buttonRow},o.createElement(i.Link,{className:l.left,onClick:this.regenerateCodes},"Regenerate Codes"),o.createElement(i.ButtonSecondary,{className:l.confirmButton,onClick:this.cancel},"Close"),o.createElement(i.ButtonPrimary,{className:l.confirmButton,onClick:this.setupPhone},"SMS settings")))}return o.createElement("div",null,"Please wait...")}return o.createElement(p.RequirePasswordModal,Object.assign({},this.props))})())}}s.TwoFactorRecoveryModal=d,d.displayName="TwoFactorRecoveryModal"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(3,1    ),a=o(228          ),r=o(106                                     ),l=o(227                                 ),i=o(224                                            );class c extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.folder.is_view_only;return s.createElement(l.Modal,{size:"small",className:a.modal,dispatch:this.props.dispatch},s.createElement("div",{className:a.title},"Unable to move project"),s.createElement("div",null,"Projects set as ",e?"view only":"invite only"," cannot be moved between teams. To complete this operation, enable team ",e?"edit ":"","access for ",s.createElement("span",{className:a.important},this.props.folder.name)," and retry."),s.createElement("div",{className:a.buttonRow},s.createElement(i.ButtonPrimary,{onClick:this.closeModal},"Cancel")))}}t.BlockMovingPrivateProjectModal=c,c.displayName="BlockMovingPrivateProjectModal"}),
(function(t,o,n){t.exports={button:"org_team_action--button--3WMGr",requestButton:"org_team_action--requestButton--SllRN",joinedButton:"org_team_action--joinedButton--3hvGF org_team_action--button--3WMGr"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),i=s(44,1         ),n=s(111                        ),r=s(300                     ),a=s(224                                            ),c=s(1298                   );class p extends o.PureComponent{constructor(){super(...arguments),this.state={isHovered:!1},this.onClickJoin=(()=>{const{onJoin:e}=this.props;e&&e(this.props.team.id)}),this.onClickLeave=(()=>{this.props.onLeave(this.props.team)}),this.onClickRequest=(()=>{const{onJoinRequest:e}=this.props;e&&e(this.props.team)}),this.onClickWithdraw=(()=>{const{onWithdrawRequestForTeam:e}=this.props;e&&e(this.props.team)}),this.onBypassRequest=(()=>{const{onBypassRequest:e}=this.props;e&&e(this.props.team)}),this.getOrgTeamActionDisplayText=(()=>{switch(this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return this.props.useLinks?"Leave Team":this.state.isHovered?"Leave":"Joined";case r.OrgTeamActionType.CLICK_WITHDRAW:return"Cancel Request";case r.OrgTeamActionType.CLICK_JOIN:case r.OrgTeamActionType.BYPASS_REQUEST:return"Join";case r.OrgTeamActionType.CLICK_REQUEST:return"Request to Join"}}),this.onClick=(e=>{switch(e.stopPropagation(),this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return void this.onClickLeave();case r.OrgTeamActionType.CLICK_WITHDRAW:return void this.onClickWithdraw();case r.OrgTeamActionType.CLICK_JOIN:return void this.onClickJoin();case r.OrgTeamActionType.BYPASS_REQUEST:return void this.onBypassRequest();case r.OrgTeamActionType.CLICK_REQUEST:return void this.onClickRequest()}}),this.getButtonClassName=(()=>{switch(this.props.orgTeamActionType){case r.OrgTeamActionType.CLICK_LEAVE:return this.state.isHovered?c.button:c.joinedButton;case r.OrgTeamActionType.CLICK_REQUEST:return c.requestButton;default:return c.button}}),this.onMouseOverButton=(()=>{this.setState({isHovered:!0})}),this.onMouseLeaveButton=(()=>{this.setState({isHovered:!1})})}render(){const e=this.getOrgTeamActionDisplayText();if(this.props.useLinks)return o.createElement(a.Link,{className:this.props.className,onClick:this.onClick},e);const t={className:`${this.getButtonClassName()} ${this.props.className||""}`,onClick:this.onClick,onMouseOver:this.onMouseOverButton,onMouseLeave:this.onMouseLeaveButton,children:e};return this.props.orgTeamActionType===r.OrgTeamActionType.CLICK_LEAVE&&this.state.isHovered?o.createElement(a.ButtonNegative,Object.assign({},t)):o.createElement(a.ButtonSecondary,Object.assign({},t))}}p.displayName="OrgTeamAction",t.OrgTeamAction=i.connect((e,t)=>({orgTeamActionType:r.getOrgTeamActionType(t.team,e.teamRoleRequests[t.team.id],n.getPermissionsState(e),e.currentOrgId)}))(p)}),
(function(a,t,e){a.exports={scrollContainer:"teams_table--scrollContainer--Dj_EC",column:"teams_table--column--2Vu1i table--column--CuH34",teamRequest:"teams_table--teamRequest--2Xoqj teams_table--column--2Vu1i table--column--CuH34 teams_table--column--2Vu1i table--column--CuH34",row:"teams_table--row--1kY_V",statsColumn:"teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",orgSettingsColumn:"teams_table--orgSettingsColumn--1qvEI teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",avatarColumn:"teams_table--avatarColumn--Xn2QS teams_table--column--2Vu1i table--column--CuH34",avatarName:"teams_table--avatarName--3ayHm ellipsis--ellipsis--1RWY6",avatar:"teams_table--avatar--3R8V0",link:"teams_table--link--130r5",newTeamIcon:"teams_table--newTeamIcon--3fkjg"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(3,1    ),r=s(111                        ),n=s(174                        ),o=s(1120                          ),l=s(347                                                  ),m=s(122        ),c=s(354                            ),i=s(224                                            ),p=s(1223                                    ),d=s(1299                          ),g=s(358                            ),u=s(1300               );class E extends t.PureComponent{render(){const e=this.props.teamSortConfig,a=[...this.props.orgTeams.teams];return m.sortAlphabeticallyByProperty(a,e.property,e.isDescending),t.createElement(l.ScrollContainer,{className:u.scrollContainer,showScrollbar:!0},t.createElement(o.TableRow,{className:u.row,header:!0},t.createElement(o.HeaderCell,{className:u.avatarColumn},t.createElement(o.SortableField,{isDescending:e.isDescending,sortBy:this.props.onSort,field:"name",hasArrow:!0},"TEAM")),t.createElement(o.HeaderCell,{className:u.statsColumn},"PROJECTS"),t.createElement(o.HeaderCell,{className:u.statsColumn},"MEMBERS"),t.createElement(o.HeaderCell,{className:u.orgSettingsColumn},"ORG ACCESS"),t.createElement(o.HeaderCell,null)),this.props.orgTeams.isFetching?t.createElement(o.LoadingRow,null):t.createElement("div",null,a.map(e=>t.createElement(v,Object.assign({key:e.id},this.props,{team:e}))),t.createElement(o.TableRow,{className:u.row},t.createElement("div",{className:u.avatarColumn,onClick:this.props.onCreateTeam},t.createElement(n.Svg,{svg:g,className:u.newTeamIcon}),t.createElement(i.Link,{className:u.link},"Create New Team")))))}}a.DiscoverableTeamsTable=E,E.displayName="DiscoverableTeamsTable";class v extends t.PureComponent{render(){const e=this.props.team,a=`${e.projects} ${1===e.projects?"project":"projects"}`,s=`${e.member_count} ${1===e.member_count?"member":"members"}`;return t.createElement(o.TableRow,{className:u.row},t.createElement("div",{className:u.avatarColumn},t.createElement(c.TeamAvatar,{className:u.avatar,entity:e,size:24}),t.createElement("div",{className:u.avatarName},e.name)),t.createElement("div",{className:u.statsColumn},a),t.createElement("div",{className:u.statsColumn},s),t.createElement("div",{className:u.orgSettingsColumn},e.org_access&&r.orgAccessStrings[e.org_access]),t.createElement(p.WithLoading,{isLoading:e.id in this.props.joiningTeamIds},()=>t.createElement(d.OrgTeamAction,{team:e,onJoin:this.props.onJoin,onLeave:this.props.onLeave,onJoinRequest:this.props.onJoinRequest,onBypassRequest:this.props.onBypassRequest,onWithdrawRequestForTeam:this.props.onWithdrawRequestForTeam,useLinks:!0,className:u.teamRequest})))}}a.TeamRow=v,v.displayName="TeamRow"}),
(function(a,e,r){a.exports={wrapper:"editable_avatar--wrapper--1h2oR",overlay:"editable_avatar--overlay--2PcaR",loading:"editable_avatar--loading--1VexM",circle:"editable_avatar--circle--1CY8I",square:"editable_avatar--square--3US3b",icon:"editable_avatar--icon--NDsCZ"}}),
(function(i,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.smallCheckerboardImageURL="/images/checkerboard.png",e.default=function(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PHBhdGggZmlsbD0iI0YxRjFGMSIgZD0iTSAwIDggSCAxNiBWIDAgSCA4IFYgMTYgSCAwIi8+PC9zdmc+"}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(3,1    ),s=a(7,1        ),o=a(348                                  ),r=a(94                                   ),n=a(248                               ),l=a(106                                     ),h=a(249                             ),d=a(1303                           ),c=a(227                                 ),m=a(224                                            ),p=a(228          ),g=a(1223                                    ),v=a(229                    );let f=200,u=24,E=20,S=20,T=f-S,y=-.5,w=1,D=f,R=f+u+E;var I;!function(t){t[t.IMAGE=0]="IMAGE",t[t.SLIDER=1]="SLIDER"}(I||(I={}));const P=t=>{t.fillStyle=o.figmaLightestGray__DEPRECATED,t.beginPath(),t.moveTo(0,0),t.lineTo(f,0),t.lineTo(f,f),t.lineTo(0,f),t.lineTo(0,0),t.moveTo(0,f/2),t.arc(f/2,f/2,f/2,0,2*Math.PI,!0),t.fill(),t.restore()},_={CIRCLE:P,SQUARE:t=>{t.fillStyle=o.figmaLightestGray__DEPRECATED;const e=Math.floor(.1*f);let a=new Path2D;const i=f-10;a.moveTo(10+e,10),a.lineTo(i-e,10),a.arcTo(i,10,i,10+e,e),a.lineTo(i,i-e),a.arcTo(i,i,i-e,i,e),a.lineTo(10+e,i),a.arcTo(10,i,10,i-e,e),a.lineTo(10,10+e),a.arcTo(10,10,10+e,10,e),a.moveTo(0,0),a.lineTo(f,0),a.lineTo(f,f),a.lineTo(0,f),a.lineTo(0,0),a.closePath(),t.fill(a,"evenodd"),t.restore()}};class x extends i.Component{constructor(){super(...arguments),this.mask=(this.props.avatarEditorState.shape?_[this.props.avatarEditorState.shape]:null)||P,this.sliderPosition=S+-y/(w-y)*(T-S),this.previewOffset={x:f/2,y:f/2},this.canvasStyle={background:`url('${d.default()}')`,width:D,height:R,display:"block",margin:"20px auto 10px auto",cursor:"move"},this.startUpload=(()=>{this.props.dispatch(l.fileBrowser.popModalStack()),this.props.dispatch(n.avatar.editorUpload({entity:this.props.avatarEditorState.entity,entityType:this.props.avatarEditorState.entityType,small:this.bytesFromDataURL(this.renderImageToDataURL(120)),large:this.bytesFromDataURL(this.renderImageToDataURL(500))}))}),this.hasAlpha=(t=>{return this.ctx.clearRect(0,0,f,f),this.ctx.drawImage(t,0,0,f,f),this.ctx.getImageData(0,0,1,1).data[3]<255}),this.mountCanvas=(t=>{if(t){this.canvas=t,this.ctx=t.getContext("2d");let e=window.devicePixelRatio||1;t.width=e*D,t.height=e*R,this.ctx.scale(e,e),this.loadFile()}}),this.onCanvasDown=(t=>{let e=t.nativeEvent;if(0!==e.button)return;t.preventDefault(),document.addEventListener("mousemove",this.onCanvasMove),document.addEventListener("mouseup",this.onCanvasUp);let a=this.canvas.getBoundingClientRect();this.dragState={target:e.pageY-a.top<f?I.IMAGE:I.SLIDER,dragStart:{x:e.pageX,y:e.pageY}},this.dragState.target===I.SLIDER&&(this.updateSliderPosition(e.pageX-a.left),this.renderCanvasContent())}),this.onCanvasMove=(t=>{if(t.preventDefault(),null!=this.dragState){let e=this.dragState.dragStart;switch(this.dragState.target){case I.IMAGE:this.previewOffset.x+=t.pageX-e.x,this.previewOffset.y+=t.pageY-e.y;break;case I.SLIDER:{let a=this.computeImageScaleFactor();this.updateSliderPosition(this.sliderPosition+t.pageX-e.x);let i=this.computeImageScaleFactor();this.previewOffset.x+=(f/2-this.previewOffset.x)*(1-i/a),this.previewOffset.y+=(f/2-this.previewOffset.y)*(1-i/a);break}}this.renderCanvasContent(),this.dragState.dragStart={x:t.pageX,y:t.pageY}}}),this.onCanvasUp=(t=>{t.preventDefault(),document.removeEventListener("mousemove",this.onCanvasMove),document.removeEventListener("mouseup",this.onCanvasMove),this.dragState=null}),this.buttonRef=(t=>{t&&s.findDOMNode(t).focus()})}loadFile(){this.image=new Image,this.image.onerror=(()=>{this.props.dispatch(r.flash.error("An error occurred while loading your image."))}),this.image.onload=(()=>{URL.revokeObjectURL(e);const t=this.hasAlpha(this.image)?Math.max(this.image.width,this.image.height)*Math.SQRT2:Math.min(this.image.width,this.image.height);this.previewScale=f/t,this.renderCanvasContent()});let t=this.props.avatarEditorState.file,e=URL.createObjectURL(t);this.image.src=e}updateSliderPosition(t){this.sliderPosition=t,this.sliderPosition=Math.max(S,Math.min(this.sliderPosition,T))}computeImageScaleFactor(){let t=T-S,e=(this.sliderPosition-S)/t;return e=e*(w-y)+y,this.previewScale*Math.pow(100,e)}computeImagePosition(t){let e=t/f,a=this.computeImageScaleFactor()*e,i=this.image.width*a,s=this.image.height*a;return{x:this.previewOffset.x*e-i/2,y:this.previewOffset.y*e-s/2,width:i,height:s}}renderCanvasContent(){let t=this.ctx;t.clearRect(0,0,D,R);let e=this.computeImagePosition(f);t.drawImage(this.image,e.x,e.y,e.width,e.height),t.save(),this.mask(t),t.fillStyle=o.figmaLightestGray__DEPRECATED,t.fillRect(0,f,f,u+E);let a=f+u,i=a+E/2;t.strokeStyle=o.figmaGray__DEPRECATED,t.beginPath(),t.moveTo(S,i),t.lineTo(T,i),t.closePath(),t.lineWidth=1,t.stroke();let s=a+2,r=a+E-2;t.fillStyle="#333",t.strokeStyle="#777",t.beginPath(),t.moveTo(this.sliderPosition-4,s),t.lineTo(this.sliderPosition+4,s),t.lineTo(this.sliderPosition+4,r-4),t.lineTo(this.sliderPosition,r),t.lineTo(this.sliderPosition-4,r-4),t.closePath(),t.fill(),t.stroke(),t.fillStyle=o.figmaDarkGray__DEPRECATED,t.font="20px Arial",t.textBaseline="top";let n=t.measureText("+");t.fillText("-",0,a-2),t.fillText("+",f-n.width,a-2)}renderImageToDataURL(t){let e=document.createElement("canvas"),a=e.getContext("2d");e.width=e.height=t;let i=this.computeImagePosition(t);return a.drawImage(this.image,i.x,i.y,i.width,i.height),e.toDataURL()}bytesFromDataURL(t){let e=atob(t.slice(t.indexOf(",")+1)),a=[];for(let i=0;i<e.length;i++)a.push(e[i].charCodeAt(0));return new Uint8Array(a)}render(){return i.createElement(c.Modal,Object.assign({size:296,className:p.modal},this.props),i.createElement(g.WithLoading,{isLoading:this.props.avatarEditorState.status!==h.AvatarEditorStatus.POSITIONING},()=>i.createElement("div",{className:p.modalContent,style:{textAlign:"center"}},i.createElement("div",{style:{width:"100%"}},i.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown})),i.createElement(m.ButtonPrimary,{onClick:this.startUpload,className:p.confirmButton,ref:this.buttonRef,style:{marginTop:24}},"Save photo"))))}}x.displayName="AvatarEditorModal";const A=(t=>e=>i.createElement(g.WithLoading,{isLoading:e.avatarEditorState.status!==h.AvatarEditorStatus.POSITIONING},()=>i.createElement(t,Object.assign({},e,{avatarEditorState:e.avatarEditorState}))))(x);e.AVATAR_EDITOR_MODAL="AVATAR_EDITOR_MODAL",v.registerModal(e.AVATAR_EDITOR_MODAL,t=>i.createElement(A,{avatarEditorState:t.avatarEditorState,dispatch:t.dispatch}))}),
(function(l,z,m){l.exports={src:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M11.8 1.69l.353-.354L11.8.983l-.353.353.354.354zm2.12 2.121l.354.354.354-.354-.354-.353-.353.353zm-9.553 9.554l.12.485.135-.033.099-.098-.354-.354zm-2.121-2.121l-.354-.354-.098.098-.034.136.486.12zm-.7 2.82l-.485-.12-.2.805.806-.2-.12-.485zm9.9-12.02l2.121 2.12.707-.706-2.12-2.122-.708.708zM4.72 13.012L2.599 10.89l-.707.707 2.121 2.122.708-.707zm-2.122-1.415l7.794-7.794-.707-.707-7.794 7.794.707.707zm7.794-7.794l1.76-1.76-.707-.707-1.76 1.76.707.707zm3.174-.345l-1.76 1.76.707.707 1.76-1.76-.707-.707zm-1.76 1.76l-7.794 7.794.708.707 7.793-7.794-.707-.707zM9.686 3.803l2.121 2.122.707-.707-2.12-2.122-.708.707zm-7.926 7.32l-.699 2.821.97.24.7-2.82-.97-.24zm-.093 3.427l2.82-.7-.24-.97-2.82.7.24.97z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(3,1    ),s=a(106                                     ),r=a(248                               ),n=a(249                             ),o=a(174                        ),l=a(354                            ),d=a(1223                                    ),c=a(1302                   ),p=a(1304                    ),h=a(1305                              );const v=(e,t={})=>{var a;return(a=class extends i.Component{constructor(e){super(e),this.triggerFileInputClick=(()=>{var e,t;null===(t=null===(e=this.forwardedRef)||void 0===e?void 0:e.current)||void 0===t||t.click()}),this.onImageSelected=(e=>{var a,i;const n=(null===(i=null===(a=this.forwardedRef)||void 0===a?void 0:a.current)||void 0===i?void 0:i.files)||null;if(null===n||0===n.length)return;this.props.dispatch(r.avatar.editorInit({entity:this.props.entity,entityType:this.props.entityType,file:n[0],shape:t.editorShape||"CIRCLE"})),this.props.dispatch(s.fileBrowser.showModal({type:p.AVATAR_EDITOR_MODAL}));const o=this.forwardedRef.current;o&&(o.value="")}),this.forwardedRef=this.props.forwardedRef||i.createRef(),this.size=null==e.size?120:e.size}render(){const a={width:`${this.size}px`,minWidth:`${this.size}px`,height:`${this.size}px`,minHeight:`${this.size}px`},s=this.props.avatarEditorState&&this.props.avatarEditorState.status===n.AvatarEditorStatus.UPLOADING&&this.props.entity===this.props.avatarEditorState.entity,r=t.className?t.className:"";return i.createElement("div",{className:`${c.wrapper} ${r}`,onClick:this.triggerFileInputClick,style:a},i.createElement("input",{type:"file",accept:"image/*",ref:this.forwardedRef,onChange:this.onImageSelected,style:{display:"none"}}),i.createElement(d.WithLoading,{isLoading:s,className:c.loading},()=>i.createElement(e,Object.assign({size:this.size},this.props))),i.createElement("div",{className:r},i.createElement(o.Svg,{className:`${c.overlay} ${c.icon} ${r}`,svg:h})))}}).displayName="EditableAvatar",a};t.EditableAvatar=i.forwardRef((e,t)=>{const a=v(l.Avatar);return i.createElement(a,Object.assign({},e,{forwardedRef:t}))}),t.SquareEditableAvatar=i.forwardRef((e,t)=>{const a=v(l.TeamAvatar,{editorShape:"SQUARE",className:c.square});return i.createElement(a,Object.assign({},e,{forwardedRef:t}))})}),
(function(t,i,e){t.exports={container:"plugins_whitelist_section--container--30I87",header:"plugins_whitelist_section--header--3nXNK",headerLeft:"plugins_whitelist_section--headerLeft--eJVTy",headerRight:"plugins_whitelist_section--headerRight--2yzoi",subheader:"plugins_whitelist_section--subheader--1pBT7 text--fontPos14--3UJ36 text--_fontBase--YWDo0",description:"plugins_whitelist_section--description--39fLX text--fontPos11--RSei3 text--_fontBase--YWDo0",svg:"plugins_whitelist_section--svg--1Y-VA",labelActive:"plugins_whitelist_section--labelActive--wBhwV text--fontPos11--RSei3 text--_fontBase--YWDo0",labelInactive:"plugins_whitelist_section--labelInactive--1sZ1d text--fontPos11--RSei3 text--_fontBase--YWDo0",button:"plugins_whitelist_section--button--3AVbR",whitelistContainer:"plugins_whitelist_section--whitelistContainer--1TlMA",whitelistDisabledContainer:"plugins_whitelist_section--whitelistDisabledContainer--XIzVn plugins_whitelist_section--whitelistContainer--1TlMA",_rowBase:"plugins_whitelist_section--_rowBase--2n5HX",row:"plugins_whitelist_section--row--2eJjE plugins_whitelist_section--_rowBase--2n5HX",headerRow:"plugins_whitelist_section--headerRow--121bo plugins_whitelist_section--_rowBase--2n5HX",pluginCol:"plugins_whitelist_section--pluginCol--MOhf1",iconButtonCol:"plugins_whitelist_section--iconButtonCol--3AxzQ",pluginIcon:"plugins_whitelist_section--pluginIcon--3MT4w",whitelistInputDescription:"plugins_whitelist_section--whitelistInputDescription--gxZbi",whitelistInput:"plugins_whitelist_section--whitelistInput--1COG5",whitelistInputButtonContainer:"plugins_whitelist_section--whitelistInputButtonContainer--3-YBK",whitelistInputButton:"plugins_whitelist_section--whitelistInputButton--2Uxgb",pluginsOptInModalText:"plugins_whitelist_section--pluginsOptInModalText--3co6L text--fontPos11--RSei3 text--_fontBase--YWDo0"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(3,1    );t.ORG_ALLOW_PUBLIC_PLUGINS_COPY=a.createElement(a.Fragment,null,"AMENDMENT TO FIGMA MASTER SUBSCRIPTION AGREEMENT\n\nThis Amendment to the Figma Master Subscription Agreement (this “Amendment”) shall amend the Figma Master Subscription Agreement previously entered into and currently in effect between Figma, Inc. and Customer for use of the Figma Platform (the “Agreement”). Capitalized terms used and not defined herein will have the same meanings and definitions as set forth in the Agreement. In the event of a conflict or inconsistency between the terms of this Amendment and the Agreement, the terms of this Amendment will prevail. All provisions of the Agreement, except those which are explicitly changed below by this Third Amendment, shall remain in full force and effect.\n\nWHEREAS, Figma grants to Customer access to and use of the Figma Platform;\n\nWHEREAS, the parties wish to amend the Agreement in certain respects in accordance with the terms and conditions set forth herein;\n\nNOW THEREFORE, Figma and Customer hereby agree as follows:",a.createElement("ol",{style:{listStyleType:"decimal",listStylePosition:"outside",paddingLeft:"20px"}},a.createElement("li",null,"Section 1 of the Agreement is hereby amended by inserting the following definition as Section 1.H immediately after Section 1.G: “Applications and Materials” means any application(s) and/or material(s) that are developed by Customer, including, but not limited to, design files, plugins, component libraries, and code components that can be made available via, and published to, the Figma Platform for use by other Authorized users or other users of the Figma Platform outside of Customer’s organization, in accordance with the functionality of the Figma Platform."),a.createElement("li",null,"Section 2 of the Agreement is hereby amended by inserting the following Section 2.E immediately after Section 2.D: Applications and Materials. Customer may submit Applications and Materials to the Figma Platform for publication to and to be made available via the Figma Platform. Such Applications and Materials can be made available to Authorized Users only or publicly to other users of the Figma Platform outside of Customer’s organization, depending on the sharing permissions and designations selected by Customer at the time of submission of the Applications and Materials. The Figma Platform may also make available Applications and Materials that are created by third parties outside of Customer’s organization, but can be installed by Authorized Users for use with the Figma Platform (“Third-Party Applications and Materials”). Subject to Customer’s payment of all fees and compliance with the terms and conditions of this Agreement, Figma grants to Customer a limited, worldwide, non-exclusive, non-transferable, non-sublicensable right during the Order Term to install and use the Third-Party Applications and Materials and to permit its Authorized Users to install and use the Third-Party Applications and Materials, solely in connection with the functionality of the Figma Platform."),a.createElement("li",null,"Section 3.A of the Agreement is deleted in its entirety and replaced with the following: Use Restrictions. Except as otherwise explicitly provided in this Agreement or as may be expressly permitted by applicable law, Customer will not, and will not permit or authorize third parties to: (1) rent, lease, or otherwise permit third parties to use the Figma Platform, Third-Party Applications and Materials, or Documentation; (2) use the Figma Platform, Third-Party Applications and Materials, or Documentation to provide services to third parties (e.g., as a service bureau); (3) circumvent or disable any security or other technological features or measures of the Figma Platform; (4) reverse engineer, decompile, disassemble or otherwise attempt to discover the source code, object code or underlying structure, ideas, know-how or algorithms relevant to the Figma Platform or Third-Party Applications and Materials; (5) modify, translate, or create derivative works based on the Figma Platform, Third-Party Applications and Materials, or Documentation; or (6) remove any proprietary notices or labels from the Figma Platform, Third-Party Applications and Materials or Documentation."),a.createElement("li",null,"The first sentence of Section 3.B of the Agreement is deleted in its entirety and replaced with the following: Customer is responsible and liable for all actions and inactions by its Authorized Users or by any other person or entity to whom Customer or an Authorized User may, directly or indirectly, provide access to or permit to use the Figma Platform, Third-Party Applications and Materials or Documentation; in each case, as if such action or inaction were an action or inaction of Customer."),a.createElement("li",null,"Section 4 of the Agreement is hereby amended by inserting the following Section 4.C immediately after Section 4.B: Customer hereby grants Figma a worldwide, non-exclusive, royalty-free right and license (with the right to sublicense) to use, reproduce, distribute copies of, publicly perform, publicly display, use and make the Applications and Materials available via the Figma Platform for installation and use by Authorized Users or other users of the Figma Platform as permitted by the functionality of the Figma Platform."),a.createElement("li",null,"Section 5 of the Agreement is hereby amended by inserting the following Section 5.C immediately after Section 5.B: Subject to the rights granted to Figma under this Agreement, Customer owns all right, title, and interest in and to the Applications and Materials (excluding Third-Party Applications and Materials). No ownership rights in the Applications and Materials are transferred to Figma when Applications and Materials are published on the Figma Platform."),a.createElement("li",null,"Section 6.A of the Agreement is deleted in its entirety and replaced with the following: In addition to Third-Party Applications and Materials, third parties may make available third-party products or services, including, for example, mobile applications, integrations, and other services (“Third-Party Services”) that Customer may elect to purchase or use. Any acquisition by Customer of such Third-Party Services and any exchange of data between Customer and any Third-Party Service or Third-Party Service provider is solely between Customer and the applicable third-party provider. Figma does not warrant or provide support for Third-Party Services (including Third-Party Applications and Materials), whether or not they are designated by Figma as “recommended” “certified” or otherwise."),a.createElement("li",null,"Section 10 of the Agreement is hereby amended by inserting the following sentence to the end of Section 10.B. Figma makes no warranties with respect to the Third-Party Applications and Materials or Third-Party Services, including whether they will perform their intended functions or deliver any expected results. Customer acknowledges that Customer assumes all risk arising from use of the Third-Party Applications and Materials and Third-Party Services."),a.createElement("li",null,"Section 10.C of the Agreement is deleted in its entirety and replaced with the following: Customer Warranties. Customer represents and warrants to Figma that: (1) Customer is the creator and owner of the Customer Data and any Applications and Materials that are submitted to the Figma Platform, or has the necessary licenses, rights, consents, and permissions to authorize Figma to use the Customer Data and Applications and Materials as necessary to exercise the licenses granted by Customer in this Agreement; (2) Customer Data and Applications and Materials, and the use of Customer Data and Applications and Materials, as contemplated by this Agreement, do not and will not: (a) infringe, violate, or misappropriate any third-party right, including any copyright, trademark, patent, trade secret, moral right, privacy right, right of publicity, or any other intellectual property or proprietary right; or (b) violate any applicable law or regulation; and (3) Customer will use the Figma Platform in compliance with the Documentation, any instructions provided by Figma, and all applicable laws and regulations."),a.createElement("li",null,"Section 11.B(2) of the Agreement is hereby amended by inserting the following item (vi) immediately after item (v): ; or (vi) use of Third-Party Services, the Applications and Materials or Third-Party Applications and Materials that are made available on the Figma Platform."),a.createElement("li",null,"Miscellaneous. This Amendment may be executed in counterparts, each of which shall be deemed to be an original and together shall be deemed to be one and the same document. The parties agree the electronic signatures appearing on this Agreement shall be treated, for purposes of validity, enforceability, as well as admissibility, the same as hand-written signatures.")),a.createElement("br",null),"Customer and Figma hereby acknowledge and agree that although Section 16 of the Agreement requires that all modifications to the Agreement be in a writing signed by both parties, Figma’s presentation of this Amendment to Customer via the Figma Platform and Customer’s action of clicking “ACCEPT & CONTINUE” will satisfy the requirements for amending the Agreement and constitute such a writing signed by both parties. By clicking “ACCEPT & CONTINUE”, Customer agrees to be bound by the Agreement as amended herein by this Amendment and will not assert that this Amendment is unenforceable in the future. Figma also agrees to be bound by the Agreement as amended and will not assert that this Amendment is unenforceable in the future.")}),
(function(t,c,e){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M10 6v1h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H9V4.5C9 3.12 10.12 2 11.5 2 12.88 2 14 3.12 14 4.5V6h-1V4.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5V6z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),l=i(1140                                 ),n=i(224                                            ),a=i(174                        ),o=i(1120                          ),r=i(598                                                                  ),c=i(534                                                    ),p=i(330                          ),h=i(476                                                       ),u=i(227                                 ),m=i(187                             ),d=i(377                                                        ),g=i(1307                             ),b=i(347                                                  ),_=i(1308                             ),w=i(1309                                            ),v=i(1052                                          ),I=i(1053                                            ),S=i(665                                              ),f=i(788                                                ),E=i(811                                               ),C=i(812                                                 );t.PluginsWhitelistSection=class extends s.PureComponent{constructor(){super(...arguments),this.state={shouldShowWhitelistInput:!1,whitelistInput:"",shouldShowMSAAmendment:!1},this.onEnableWhitelistClick=(()=>{p.orgHasAgreedToNewMSA(this.props.org)&&this.props.dispatch(l.setWhitelistEnabled({orgId:this.props.org.id}))}),this.closeMSAAmendment=(()=>{this.setState({shouldShowMSAAmendment:!1})}),this.onMSAAccept=(()=>{this.props.dispatch(l.optInToPublicPlugins({orgId:this.props.org.id})),this.props.dispatch(l.setWhitelistDisabled({orgId:this.props.org.id})),this.closeMSAAmendment()}),this.onDisableWhitelistClick=(()=>{p.orgHasAgreedToNewMSA(this.props.org)?this.props.dispatch(l.setWhitelistDisabled({orgId:this.props.org.id})):this.setState({shouldShowMSAAmendment:!0})}),this.onWhitelistPluginClick=(()=>{this.setState({shouldShowWhitelistInput:!0})}),this.onWhitelistPluginHide=(()=>{this.setState({shouldShowWhitelistInput:!1,whitelistInput:""})}),this.onWhitelistPluginSubmit=(()=>{const e=p.getPluginIdFromShareUrl(this.state.whitelistInput);e?(this.props.dispatch(h.whitelistPlugin({orgId:this.props.org.id,pluginId:e})),this.setState({shouldShowWhitelistInput:!1,whitelistInput:""})):this.props.dispatch(m.visualBellActions.enqueue({error:!0,message:"Invalid plugin URL",timeout:2e3}))}),this.onWhitelistInputChange=(e=>{this.setState({whitelistInput:e.currentTarget.value})}),this.showWhitelistInputModal=(()=>s.createElement(u.Modal,{size:"small",dispatch:this.props.dispatch,title:"Whitelist Plugin",onHide:this.onWhitelistPluginHide},s.createElement("div",{className:g.whitelistInputDescription},"Please paste a link to the plugin you'd like to whitelist"),s.createElement("form",{onSubmit:this.onWhitelistPluginSubmit},s.createElement(n.TextInput,{onChange:this.onWhitelistInputChange,value:this.state.whitelistInput,className:g.whitelistInput,autoFocus:!0}),s.createElement("div",{className:g.whitelistInputButtonContainer},s.createElement(n.ButtonSecondary,{onClick:this.onWhitelistPluginHide,className:g.whitelistInputButton,type:"button"},"Cancel"),s.createElement(n.ButtonPrimary,{disabled:!p.getPluginIdFromShareUrl(this.state.whitelistInput),className:g.whitelistInputButton,type:"submit"},"Whitelist")))))}render(){const e=this.props.org.plugins_whitelist_enforced,t=p.orgHasAgreedToNewMSA(this.props.org)&&!e;return s.createElement("div",{className:g.container},s.createElement("div",{className:g.header},s.createElement("div",{className:g.headerLeft},s.createElement("span",{className:g.subheader},"Whitelist"),s.createElement("span",{className:g.description},"Gives you complete control over what plugins your members can use."),s.createElement("span",{className:g.description},"With the whitelist enabled, your members will only be able to install and use plugins that you specify.")),s.createElement("div",{className:g.headerRight},s.createElement("div",{className:t?g.labelInactive:g.labelActive},t?s.createElement(s.Fragment,null,s.createElement(a.Svg,{className:g.svg,svg:w})," Inactive"):s.createElement(s.Fragment,null,s.createElement(c.SvgWithFallback,{className:g.svg,svg:v,fallbackSvg:I})," Active")),s.createElement(n.ButtonSecondary,{className:g.button,onClick:t?this.onEnableWhitelistClick:this.onDisableWhitelistClick,disabled:!this.props.canAdminOrg},t?"Enable":"Disable"," Whitelist"))),s.createElement("div",{className:t?g.whitelistDisabledContainer:g.whitelistContainer},s.createElement(o.TableRow,{className:g.headerRow,header:!0},s.createElement(o.HeaderCell,{className:g.pluginCol},"PLUGIN"),s.createElement(o.HeaderCell,{className:g.iconButtonCol},this.props.canAdminOrg&&s.createElement(r.IconButton,{svg:S,fallbackSvg:f,onClick:this.onWhitelistPluginClick,disabled:!1===this.props.org.public_plugins_allowed}))),Object.keys(this.props.whitelistedPlugins).map(e=>s.createElement(A,{key:e,pluginId:e,publishedPlugins:this.props.publishedPlugins,org:this.props.org,canAdminOrg:this.props.canAdminOrg,dispatch:this.props.dispatch}))),this.state.shouldShowWhitelistInput&&this.showWhitelistInputModal(),this.state.shouldShowMSAAmendment&&s.createElement(u.ConfirmationModal,{confirmationTitle:"Updated License Agreement",confirmText:"Accept & Continue",onCancel:this.closeMSAAmendment,onConfirm:this.onMSAAccept,dontClose:!0,disableClickOutsideToHide:!0,tintedModalBackground:!0,dispatch:this.props.dispatch,size:"medium"},s.createElement(b.ScrollContainer,{className:g.pluginsOptInModalText},_.ORG_ALLOW_PUBLIC_PLUGINS_COPY)))}};class A extends s.PureComponent{constructor(){super(...arguments),this.onUnwhitelistPluginClick=(()=>{this.props.dispatch(h.unwhitelistPlugin({orgId:this.props.org.id,pluginId:this.props.pluginId}))})}render(){const e=p.getPublishedPluginById(this.props.pluginId,this.props.publishedPlugins),t=p.getPluginVersion(e);return t.id?s.createElement(o.TableRow,{key:e.id,className:g.row},s.createElement("div",{className:g.pluginCol},s.createElement("a",{href:d.pluginShareURL(e.id,t.name),target:"_blank"},s.createElement("img",{className:g.pluginIcon,src:t.signed_icon_url}),t.name)),s.createElement("div",{className:g.iconButtonCol},this.props.canAdminOrg&&s.createElement(r.IconButton,{svg:E,fallbackSvg:C,onClick:this.onUnwhitelistPluginClick}))):null}}}),
(function(l,n,e){l.exports={row:"billing_table--row--81gqj",headerRow:"billing_table--headerRow--jsYL3 billing_table--row--81gqj",colDate:"billing_table--colDate--2Pr0Z",colDescription:"billing_table--colDescription--KP_Lo",colSeats:"billing_table--colSeats--1QcI7",colCharges:"billing_table--colCharges--f8QWH",colStatus:"billing_table--colStatus--3TmZa",billingStatusDue:"billing_table--billingStatusDue--2-qH0",billingStatusOverdue:"billing_table--billingStatusOverdue--XKqkQ",link:"billing_table--link--1HJDr blue_link--blueLink--22X56",container:"billing_table--container--1K3S0",footer:"billing_table--footer--1JTNp",hidden:"billing_table--hidden--23LlX",secondaryText:"billing_table--secondaryText--3ZoLv",banner:"billing_table--banner--196Sk",nextInvoice:"billing_table--nextInvoice--2spC3",billingInfo:"billing_table--billingInfo--2n9ND",billingContact:"billing_table--billingContact--3KE3E",editButtons:"billing_table--editButtons---a7j1",bannerHeader:"billing_table--bannerHeader--2ZUPV",bannerSecondaryText:"billing_table--bannerSecondaryText--1IMsG",bannerData:"billing_table--bannerData--2_VLg",bannerEditorCountContainer:"billing_table--bannerEditorCountContainer--2Nyyu",bannerTotalContainer:"billing_table--bannerTotalContainer--20exd billing_table--bannerEditorCountContainer--2Nyyu",containerContent:"billing_table--containerContent--1T7Wt",bannerNumber:"billing_table--bannerNumber--rJdaX",tableTitle:"billing_table--tableTitle--3XLy4 billing_table--bannerHeader--2ZUPV",helpIcon:"billing_table--helpIcon--3syDq"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),i=a(124     ),s=a(47,1    ),l=a(95                      ),r=a(208        ),c=a(134                             ),o=a(269                                         ),m=a(306                          ),d=a(1120                          ),u=a(224                                            ),E=a(103                 ),p=a(1311                 ),g=a(347                                                  ),v=a(174                        ),h=a(90                     ),b=a(164         ),N=a(599                                              );var _;!function(e){e.OVERDUE="overdue",e.UNPAID="unpaid",e.FREEZE="freeze",e.LOCKED="locked",e.DEFAULT="default"}(_||(_={}));class D extends n.Component{constructor(e){super(e)}render(){if(!this.props.orgBillingData)return null;if(0===this.props.orgBillingData.invoices.length)return null;const e=this.props.orgBillingData.invoices.find(e=>"locked"===e.status||"upcoming"===e.status);return e?n.createElement("div",{className:p.container},n.createElement(g.ScrollContainer,{showScrollbar:!0},n.createElement("div",{className:p.banner},n.createElement(f,Object.assign({},this.props)),n.createElement("div",{className:p.billingInfo},n.createElement(y,Object.assign({},this.props)),n.createElement("div",{className:p.bannerHeader},"Plan Details"),n.createElement("div",{className:p.bannerSecondaryText},"Annual renewal on ",s(e.period_end_at).format("LL")),n.createElement("div",{className:p.bannerSecondaryText},e.quantity_full_members," total Editors as of today"))),n.createElement("div",{className:p.tableTitle},"Invoices"),n.createElement(d.TableRow,{className:p.headerRow},n.createElement(d.HeaderCell,{className:p.colDate},"Date"),n.createElement(d.HeaderCell,{className:p.colDescription},"Description"),n.createElement(d.HeaderCell,{className:p.colSeats},"Editors"),n.createElement(d.HeaderCell,{className:p.colCharges},"Amount"),n.createElement(d.HeaderCell,{className:p.colStatus},"Status")),this.props.orgBillingData.invoices.map(e=>{let t,a=void 0,i="";switch(e.status){case"locked":case"upcoming":return null;case"paid":t="Paid",i="View invoice";break;case"open":if(new Date(e.past_due_at)<new Date)a=p.billingStatusOverdue,t="Overdue";else{a=p.billingStatusDue;const n=new Date(e.past_due_at).getTime()-(new Date).getTime();t=`Due in ${Math.floor(n/1e3/60/60/24)} days`}i="Pay invoice";break;default:r.assertNever(e.status)}return n.createElement(d.TableRow,{className:p.row,key:e.id},n.createElement("div",{className:p.colDate},n.createElement("div",null,s(e.due_at).format("MMM DD, YYYY")),n.createElement("div",{className:p.hidden},"X")),1===e.quarter&&n.createElement("div",{className:p.colDescription},n.createElement("div",null,"Annual Subscription"),n.createElement("div",{className:p.secondaryText},s(e.due_at).format("MMM DD, YYYY"))),1!==e.quarter&&n.createElement("div",{className:p.colDescription},n.createElement("div",null,"Quarterly True-up"),n.createElement("div",{className:p.secondaryText},s(e.due_at).format("MMM DD, YYYY")," – ",s(e.period_end_at).format("MMM DD, YYYY"))),n.createElement("div",{className:p.colSeats},n.createElement("div",null,e.quantity_added),n.createElement("div",{className:p.hidden},"X")),n.createElement("div",{className:p.colCharges},n.createElement("div",null,l.formatMoney(e.amount_due,!0,void 0,e.currency)),n.createElement("div",{className:p.hidden},"X")),n.createElement("div",{className:p.colStatus},n.createElement("div",{className:a},0===e.amount_due?"–":t),e.invoice_url&&e.amount_due>0?n.createElement("a",{className:p.link,href:e.invoice_url,rel:"noopener",target:"_blank"},i):n.createElement("div",{className:p.hidden},"X")))}))):null}}t.BillingTable=D,D.displayName="BillingTable";class f extends n.PureComponent{constructor(){super(...arguments),this.onMembersClick=(()=>{this.props.dispatch(c.orgs.selectAdminView({view:"members",sortType:m.OrgRosterSortType.UPGRADED_DATE}))})}mostRecentInvoice(e){return this.props.orgBillingData.invoices.find(t=>t.status===e)}bannerMode(){const e=this.mostRecentInvoice("locked"),t=this.mostRecentInvoice("upcoming"),a=this.mostRecentInvoice("open");return e?_.LOCKED:t&&s(t.due_at)<s().add(14,"days")?_.FREEZE:a?s(a.past_due_at)<s()?_.OVERDUE:_.UNPAID:_.DEFAULT}tooltipText(e){const t=l.formatMoney(e.amount_due,!0,void 0,e.currency),a=l.formatMoney(e.plan_amount/4,!0,void 0,e.currency),n=1===e.quarter?"total Editor":"new Editor";return`${t} = ${e.quantity_added} ${b.getPluralOrSingular(e.quantity_added,n)} * ${5-e.quarter} remaining quarters * ${a} per license per quarter`}render(){const e=this.bannerMode(),t=e===_.FREEZE||e===_.DEFAULT,a=e===_.UNPAID||e===_.OVERDUE;let i;if(!(i=t?this.mostRecentInvoice("upcoming"):a?this.mostRecentInvoice("open"):this.mostRecentInvoice("locked")))return null;const r=s(i.due_at)>s();let c=`Your ${1===i.quarter?"annual renewal":"next quarterly true-up"} invoice will be issued on `;return 1===i.quarter&&this.props.org.billing===h.OrgBillingType.DISABLED&&(c="Your current subscription ends on "),n.createElement("div",{className:p.nextInvoice},n.createElement("div",{className:p.bannerHeader},"Upcoming Invoice"),r&&n.createElement("div",null,n.createElement("span",{className:p.bannerSecondaryText},c,n.createElement("strong",null,s(i.due_at).format("LL")))),n.createElement("div",{className:p.bannerData},n.createElement("div",{className:p.bannerEditorCountContainer},n.createElement("div",{className:p.containerContent},n.createElement("span",{className:p.secondaryText},1===i.quarter?"Total Editors as of today":"New Editors this quarter"),t&&n.createElement("span",{className:p.secondaryText}," (",n.createElement("a",{className:p.link,onClick:this.onMembersClick},"manage"),")"),n.createElement("div",{className:p.bannerNumber},i.quantity_added))),n.createElement("div",{className:p.bannerTotalContainer},n.createElement("div",{className:p.containerContent},n.createElement("span",{className:p.secondaryText},t?"Projected total":"Total due"),i.amount_due>0&&n.createElement(v.Svg,{className:p.helpIcon,"data-tooltip-text":this.tooltipText(i),"data-tooltip-timeout-delay":50,svg:N}),n.createElement("div",{className:p.bannerNumber},l.formatMoney(i.amount_due,!0,void 0,i.currency))))))}}t.BillingBanner=f;class y extends n.PureComponent{constructor(e){super(e),this.onEmailChange=(e=>{const t=e.target;this.setState({adminEmail:t.value})}),this.onEmailSubmit=(()=>{const e={admin_email:this.state.adminEmail};i.default.put(`/api/orgs/${this.props.org.id}/billing_data`,e).then(e=>{this.props.dispatch(o.orgBillingData.set(e.data.meta)),this.props.dispatch(E.flashActions.flash("Billing contact updated")),this.setState({isEditing:!1,isSubmitting:!1})}).catch(e=>{this.props.dispatch(E.flashActions.error(e.data&&e.data.message||"An error occurred while updating the billing contact.",5e3)),console.error(e),this.setState({isSubmitting:!1})})}),this.onEmailReset=(()=>{this.setState({isEditing:!1,adminEmail:this.props.orgBillingData.admin_email})}),this.state={isEditing:!1,isSubmitting:!1,adminEmail:e.orgBillingData.admin_email}}render(){return n.createElement("div",{className:p.billingContact},n.createElement("div",{className:p.bannerHeader},"Billing Contact"),this.state.isEditing&&n.createElement(n.Fragment,null,n.createElement(u.TextInput,{value:this.state.adminEmail,disabled:this.state.isSubmitting,onChange:this.onEmailChange}),n.createElement("div",{className:p.editButtons},n.createElement(u.ButtonPrimary,{onClick:()=>this.setState({isSubmitting:!0},this.onEmailSubmit)},"Submit"),n.createElement(u.ButtonSecondary,{onClick:this.onEmailReset},"Cancel"))),!this.state.isEditing&&n.createElement(n.Fragment,null,n.createElement("div",{className:p.bannerSecondaryText},this.state.adminEmail," (",n.createElement("a",{className:p.link,onClick:()=>this.setState({isEditing:!0})},"update"),")")))}}t.BillingContact=y}),
(function(o,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(3,1    ),r=t(106                                     ),n=t(269                                         ),s=t(227                                 ),a=t(95                      ),p=t(47,1    ),l=t(164         );class d extends e.Component{constructor(){super(...arguments),this.onConfirmEditors=(()=>{this.props.dispatch(n.orgBillingData.lockInvoice({locked_quantity_to_bill:this.props.lockedQuantityEditors})),this.onHide()}),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(r.fileBrowser.hideModal())}),this.getModalCopy=(()=>1===this.props.quarter?{title:`Start new subscription with ${this.props.lockedQuantityEditors} ${l.getPluralOrSingular(this.props.lockedQuantityEditors,"Editor")}?`,description:`Once you confirm, any Editors who join will be free until your next invoice. On ${p(this.props.dueAt).format("MMMM D")}, you'll be invoiced ${a.formatMoney(this.props.lockedAmountToPay,!0,void 0,this.props.currency)} for ${this.props.lockedQuantityEditors} ${l.getPluralOrSingular(this.props.lockedQuantityEditors,"Editor")} on your annual plan.`}:{title:`Add ${this.props.quantityNewEditors} ${l.getPluralOrSingular(this.props.quantityNewEditors,"new Editor")} to your plan?`,description:`Once you confirm, any Editors who join will be free until your next invoice. On ${p(this.props.dueAt).format("MMMM D")}, you'll be invoiced for ${a.formatMoney(this.props.lockedAmountToPay,!0,void 0,this.props.currency)}.`})}render(){const o=this.getModalCopy();return e.createElement(s.ConfirmationModal,{confirmationTitle:o.title,confirmText:"Confirm Invoice",onConfirm:this.onConfirmEditors,onCancel:this.props.onHide,dontClose:!0,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},e.createElement("div",null,o.description))}}i.FreezeInvoiceConfirmModal=d,d.displayName="FreezeInvoiceConfirmModal"}),
(function(o,n,r){o.exports={modalContainer:"confirm_org_user_actions--modalContainer--NKOvG",bold:"confirm_org_user_actions--bold--3sTa8",spacing:"confirm_org_user_actions--spacing--2bw_4",warning:"confirm_org_user_actions--warning--dTsbM confirm_org_user_actions--spacing--2bw_4 confirm_org_user_actions--bold--3sTa8",link:"confirm_org_user_actions--link--19vqW"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(3,1    ),o=t(296                                 ),i=t(106                                     ),a=t(851                      ),n=t(164         ),c=t(109                        ),l=t(1130                                                                 ),p=t(227                                 ),d=t(224                                            ),h=t(1314                            );class m extends r.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(i.fileBrowser.hideModal())}),this.deleteOrgUsers=(()=>{this.props.dispatch(o.orgUser.batchDel({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds},userInitiated:!0})),this.onHide()})}render(){const e=this.props.orgUserIds.length,s=a.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]),t=`Remove ${n.getPluralOrSingular(e,"member")}`,o=`Removing ${1!==e?`${e} members`:s.user.handle} will cause them to lose access to all teams, projects, and files in the ${this.props.org.name} organization. You cannot undo this action.`,i=`The Drafts folders associated with ${1!==e?"these":"this"} member ${n.getPluralOrSingular(e,"account")} will be reassigned to you. You can find them in Shared Projects and may reassign them from there.`;return r.createElement(l.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:t,title:t,size:"small",checkboxText:"I understand that this action isn't reversible",makeButtonAppearNegative:!0},r.createElement("div",{className:h.modalContainer},r.createElement("p",{className:h.bold},o),r.createElement("p",{className:h.spacing},i)))}}s.ConfirmDeleteModal=m,m.displayName="ConfirmDeleteModal";class u extends r.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(i.fileBrowser.hideModal())}),this.updateAccountType=(()=>{this.props.dispatch(o.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds,account_type:this.props.accountType}})),this.onHide()})}render(){const e=this.props.orgUserIds.length,s=1===e?`${a.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]).user.handle}'s`:`${e} members'`;return r.createElement(p.ConfirmationModal,{confirmationTitle:this.props.accountType===c.OrgUserAccountType.RESTRICTED?"Remove edit access?":"Grant edit access?",confirmText:"Confirm",onConfirm:this.updateAccountType,onCancel:this.props.onHide,dontClose:!0,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},this.props.accountType===c.OrgUserAccountType.RESTRICTED&&r.createElement("div",null,r.createElement("p",null,"Restricting ",s," role will limit their ability to edit or create files outside of Drafts."),r.createElement("p",{className:h.warning},s," will not be able to share any new files. Any files they've shared previously will be inaccessible to collaborators.")),this.props.accountType===c.OrgUserAccountType.FULL&&r.createElement("div",null,r.createElement("p",null,"Changing ",s," role to ",r.createElement("span",{className:h.bold},"Editor")," will grant them the ability to edit or create files outside of their Drafts."),r.createElement("p",{className:h.spacing},"This change may affect your bill."," ",r.createElement(d.Link,{className:h.link,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/360039960434#Account_Types"},"Learn more"))))}}s.ConfirmAccountChangeModal=u,u.displayName="ConfirmDeleteModal"}),
(function(e,m,b){e.exports={container:"members_table--container--2GSw4",scrollContainer:"members_table--scrollContainer--32EBH",nonadminTable:"members_table--nonadminTable--1j3sK",row:"members_table--row--1Vyr4",rowContainer:"members_table--rowContainer--2HgPk",rows:"members_table--rows--3qFT1",unselectedCheckbox:"members_table--unselectedCheckbox--S-ABM",hiddenCheckbox:"members_table--hiddenCheckbox--2Rzb3",menuIcon:"members_table--menuIcon--GaWep",tableRow:"members_table--tableRow--2EkCL members_table--row--1Vyr4",headerRow:"members_table--headerRow--1jhAn members_table--row--1Vyr4",menuSelector:"members_table--menuSelector--pvm0s",column:"members_table--column--1kUb- table--column--CuH34",checkboxColumn:"members_table--checkboxColumn--3n4_4",avatarColumn:"members_table--avatarColumn--D7V2p members_table--column--1kUb- table--column--CuH34",selectableColumn:"members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumn:"members_table--dropdownColumn--nmag9 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumnDisabled:"members_table--dropdownColumnDisabled--gh683 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",accountTypeColumn:"members_table--accountTypeColumn--2Mx2u members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",accountTypeColumnHeader:"members_table--accountTypeColumnHeader--1SFrP members_table--accountTypeColumn--2Mx2u members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",upgradedDateColumn:"members_table--upgradedDateColumn--3zRSK members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",lastEditColumn:"members_table--lastEditColumn--3Ixke members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",lastSeenColumn:"members_table--lastSeenColumn--2E-dh members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",iconColumn:"members_table--iconColumn--2u3FZ",avatarColumnNonAdmin:"members_table--avatarColumnNonAdmin--1w1JV",batchRow:"members_table--batchRow--284jZ members_table--tableRow--2EkCL members_table--row--1Vyr4",batchUsersColumn:"members_table--batchUsersColumn--3PeIk members_table--avatarColumn--D7V2p members_table--column--1kUb- table--column--CuH34",dropdown:"members_table--dropdown--3hJeF",wideDropdown:"members_table--wideDropdown--O5cW7",pointingDropdown:"members_table--pointingDropdown--GZOeW",menuContainer:"members_table--menuContainer--3xQIP",filterContainer:"members_table--filterContainer--2h7KM",indicator:"members_table--indicator--2GdCw",inactiveIndicator:"members_table--inactiveIndicator--1KCcB members_table--indicator--2GdCw",freezeBanner:"members_table--freezeBanner--3fJto",bannerBody:"members_table--bannerBody--3JPTY",bannerHeader:"members_table--bannerHeader--1EfXO",bannerDescription:"members_table--bannerDescription--3NllK",avatarWithHandle:"members_table--avatarWithHandle--cI2kv ellipsis--ellipsis--1RWY6",emptyState:"members_table--emptyState--1znk3",searchContainer:"members_table--searchContainer--12urM modal--searchContainer--itrA5",badgeRestricted:"members_table--badgeRestricted--1hloU avatar--tableCellBadge--2mSvK"}}),
(function(o,t,i){o.exports={src:'<svg width="16" height="6" viewBox="0 0 16 6" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 3c0 .828-.672 1.5-1.5 1.5C1.172 4.5.5 3.828.5 3c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm6 0c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM14 4.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(3,1    ),r=t(7,1        ),i=t(106                                     ),n=t(297                                   ),p=t(295                                   ),a=t(296                                 ),c=t(134                             ),l=t(126          ),d=t(114           ),h=t(340              ),m=t(200         ),g=t(115          ),u=t(164         ),E=t(350                                          ),w=t(224                                            ),y=t(345                                  ),T=t(1255                           ),D=t(347                                                  ),O=t(1128                             ),C=t(174                        ),U=t(111                        ),R=t(306                          ),_=t(109                        ),N=t(1049                                                            ),S=t(1120                          ),A=t(354                            ),v=t(1313                                          ),f=t(1315                                                                     ),b=t(121              ),I=t(876                                  ),P=t(1067                                        ),M=t(47,1    ),k=t(1316                 ),F=t(411                                        ),B=t(851                      ),x=t(249                             ),L=t(95                      ),W=t(851                      ),H=t(269                                         ),q=t(1317                       ),z=t(641                                                          ),Y=h.pxToInt(F.orgDashboardRowHeight),G=h.pxToInt(F.orgDashboardModalContentHeight),$=3;var j,V;!function(e){e[e.DELETE=0]="DELETE",e[e.ACCOUNT=1]="ACCOUNT",e[e.FREEZE=2]="FREEZE"}(j||(j={})),function(e){e.FREEZE="freeze",e.LOCKED="locked"}(V||(V={}));class Z extends S.LongList{}class Q extends o.PureComponent{constructor(e){super(e),this.BATCH_ACCOUNT_TYPE_DROPDOWN="BATCH_ACCOUNT_TYPE_DROPDOWN",this.BATCH_MENU_DROPDOWN="BATCH_MENU_DROPDOWN",this.HEADER_MENU_DROPDOWN="HEADER_MENU_DROPDOWN",this.PERMISSION_FILTER_DROPDOWN="PERMISSION_FILTER_DROPDOWN",this.ACCOUNT_TYPE_FILTER_DROPDOWN="ACCOUNT_TYPE_FILTER_DROPDOWN",this.accountDropdownRef=o.createRef(),this.permissionDropdownRef=o.createRef(),this.isDropdownShown=(e=>this.props.dropdownShown&&this.props.dropdownShown.type===e),this.toggleAccountDropdown=(()=>{this.toggleDropdown(this.ACCOUNT_TYPE_FILTER_DROPDOWN,this.accountDropdownRef)}),this.togglePermissionDropdown=(()=>{this.toggleDropdown(this.PERMISSION_FILTER_DROPDOWN,this.permissionDropdownRef)}),this.toggleDropdown=((e,s)=>{if(this.isDropdownShown(e))this.props.dispatch(i.fileBrowser.hideDropdown());else{const t=s.current&&s.current.getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:e,data:{targetRect:t}}))}}),this.onToggleMemberSelect=(e=>{this.props.orgRoster.selectedOrgUserIds[e]?this.props.dispatch(n.orgRoster.unselectOrgUserIds({ids:[e]})):this.props.dispatch(n.orgRoster.selectOrgUserIds({ids:[e]}))}),this.toggleCheckAllUserIds=(()=>{const e=[];for(const s of this.props.orgRoster.orgRosterIds)s.user_id&&e.push(s.id);Object.keys(this.props.orgRoster.selectedOrgUserIds).length<e.length?this.props.dispatch(n.orgRoster.selectOrgUserIds({ids:e})):this.props.dispatch(n.orgRoster.unselectOrgUserIds({ids:e}))}),this.getAccountFilterText=(e=>{if(!e)return"Show All";const s=this.props.orgRoster.filters.accountTypeFilter,t=null===s||s===e?` (${this.props.orgRoster.filterCounts.accountType[e]})`:"";return _.OrgUserAccountTypeExtendedText[e]+t}),this.updateAccountFilter=(e=>{this.props.onFilter({accountTypeFilter:e,permissionFilter:this.props.orgRoster.filters.permissionFilter})}),this.confirmDelete=(e=>{this.setState({modal:{type:j.DELETE,orgUserIds:e}})}),this.confirmAccountChange=((e,s)=>{this.setState({modal:{type:j.ACCOUNT,orgUserIds:e,accountType:s}})}),this.confirmFreezeInvoice=((e,s,t,o,r,i)=>{0===e?this.props.dispatch(H.orgBillingData.lockInvoice({locked_quantity_to_bill:e})):this.setState({modal:{type:j.FREEZE,lockedQuantityEditors:e,quantityNewEditors:s,lockedAmountToPay:t,dueAt:o,quarter:r,currency:i}})}),this.viewActivityLogs=(()=>{const e=`/files/${this.props.org.id}/activity-logs`;g.redirect(e,"_blank")}),this.onExportClick=(()=>{this.props.dispatch(n.orgRoster.exportCSV({orgId:this.props.org.id}))}),this.onDeleteClick=(()=>{this.confirmDelete(this.getOrgUserIds())}),this.onFullClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),_.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),_.OrgUserAccountType.RESTRICTED)}),this.hideModal=(()=>{this.setState({modal:null})}),this.getPermissionFilterText=(e=>{const s=this.props.orgRoster.filterCounts,t=this.props.orgRoster.filters.permissionFilter,o=null===t||t===e;switch(e){case R.OrgPermissionExtendedFilters.IDP:return"Provisional"+(o?` (${s.permission[R.OrgPermissionExtendedFilters.IDP]})`:"");case null:return"Show All";default:const t=o?` (${s.permission[e]})`:"";return U.orgPermissionName(e)+t}}),this.updatePermissionFilter=(e=>{this.props.onFilter({accountTypeFilter:this.props.orgRoster.filters.accountTypeFilter,permissionFilter:e})}),this.onSearch=d.debounce(e=>{this.props.onSearch(e)},200),this.getPermission=(e=>e.permission),this.getAccountType=(e=>e.account_type),this.getAccountTypeName=(e=>_.OrgUserAccountTypeDisplayText[e.account_type]),this.getOrgUserIds=(()=>Object.keys(this.props.orgRoster.selectedOrgUserIds)),this.batchToMember=(()=>{this.props.dispatch(a.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.getOrgUserIds(),account_type:void 0,permission:_.OrgPermissionType.MEMBER}}))}),this.batchToAdmin=(()=>{this.props.dispatch(a.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.getOrgUserIds(),account_type:void 0,permission:_.OrgPermissionType.ADMIN}}))}),this.getSelectedUserEmails=(()=>{return Object.keys(this.props.orgRoster.selectedOrgUserIds).filter(e=>{const s=B.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],e);return s&&s.user.email}).map(e=>{return B.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],e).user.email})}),this.onCopyEmailsToClipboard=(e=>{this.props.dispatch(E.copyToClipboard.copyEmailsToClipboard({emailList:e}))}),this.renderHeaderMenuDropdown=(()=>o.createElement(y.dropdown.Dropdown,{className:k.dropdown,style:this.props.dropdownShown.data.position},o.createElement(y.dropdown.Option,{onClick:this.viewActivityLogs},"View Activity Logs"),o.createElement(y.dropdown.Option,{onClick:this.onExportClick},"Request CSV"))),this.renderBatchMenuDropdown=(()=>{const e=Object.keys(this.props.orgRoster.selectedOrgUserIds).length,s=this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][this.props.permissionsState.user.id],t=this.props.orgRoster.selectedOrgUserIds[s.id],r=this.getPropertySet(this.getPermission),i=1===r.size&&r.has(_.OrgPermissionType.ADMIN),n=r.has(_.OrgPermissionType.GUEST);return o.createElement(y.dropdown.Dropdown,{className:k.dropdown,style:this.props.dropdownShown.data.position},o.createElement(y.dropdown.Option,{onClick:()=>{this.onCopyEmailsToClipboard(this.getSelectedUserEmails())}},`Copy ${u.getPluralOrSingular(e,"Email",`${e} Emails`)}`),!n&&!i&&o.createElement(y.dropdown.Option,{onClick:this.batchToAdmin},"Grant Admin Access"),!n&&i&&!t&&o.createElement(y.dropdown.Option,{onClick:this.batchToMember},"Revoke Admin Access"),!t&&o.createElement(y.dropdown.Separator,null),!t&&o.createElement(y.dropdown.Option,{onClick:this.onDeleteClick},"Remove"))}),this.renderBatchAccountTypeDropdown=(()=>{const e=this.getPropertySet(this.getAccountType),s=Array.from(e)[0],t=[];return e.size>1&&t.push(o.createElement(y.dropdown.CheckableOption,{key:"mixed",checked:!0,onClick:void 0},"Mixed")),t.push(o.createElement(y.dropdown.CheckableOption,{key:"editor",checked:1===e.size&&s===_.OrgUserAccountType.FULL,onClick:this.onFullClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.FULL])),1===e.size&&s===_.OrgUserAccountType.STARTER&&t.push(o.createElement(y.dropdown.CheckableOption,{key:"starter",checked:!0,onClick:void 0},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.STARTER])),t.push(o.createElement(y.dropdown.CheckableOption,{key:"restricted",checked:1===e.size&&s===_.OrgUserAccountType.RESTRICTED,onClick:this.onRestrictedClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.RESTRICTED])),o.createElement(y.dropdown.Dropdown,{className:k.wideDropdown,style:this.props.dropdownShown.data.position},t)}),this.setScrollTopState=(()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null}),this.onScroll=(e=>{this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),this.props.dispatch(i.fileBrowser.hideDropdown())}),this.renderBody=(()=>{const e=this.props.orgRoster.orgRosterIds,s=this.props.orgRoster.filters;if(this.props.permissionsState.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching)return o.createElement(S.LoadingRow,null);if(0===e.length&&this.props.orgRoster.searchQuery)return o.createElement("div",{className:k.emptyState},"No results for '",this.props.orgRoster.searchQuery,"'");if(0===e.length&&(s.accountTypeFilter||s.permissionFilter))return o.createElement("div",{className:k.emptyState},"No results found.");{const s=U.canAdminOrg(this.props.org.id,this.props.permissionsState);let t=e.map(e=>{if(e.user_id){const t=this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][e.user_id];return{areDropdownsdisabled:!m.isEmpty(this.props.orgRoster.selectedOrgUserIds),canAdminOrg:s,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,isMe:this.props.permissionsState.user.id===t.user_id,isNewEditor:-1!==this.props.newEditorIds.indexOf(t.user_id),isOrgGuest:t.permission===_.OrgPermissionType.GUEST,isSelected:!!this.props.orgRoster.selectedOrgUserIds[t.id],onChangeAccountType:this.confirmAccountChange,onChangeMemberPermission:this.props.onChangeMemberPermission,onCopyEmailsToClipboard:this.onCopyEmailsToClipboard,onDelete:this.confirmDelete,onToggleMemberSelect:this.onToggleMemberSelect,org:this.props.org,orgUser:t}}return{areDropdownsDisabled:!m.isEmpty(this.props.orgRoster.selectedOrgUserIds),canAdminOrg:s,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,idpUser:this.props.idpUserById.idpUsers[e.id],onCopyEmailsToClipboard:this.onCopyEmailsToClipboard,org:this.props.org}});return t=t.filter(e=>!!e),o.createElement(Z,{scrollTop:this.state.scrollTop,unfilteredItems:t,itemHeight:Y,listHeight:G,itemBufferCount:$,getItemKey:ee,getItem:X})}}),this.state={scrollTop:0}}componentDidMount(){l.segmentTrackEvent("Org Roster Action",{org_id:this.props.org.id,action:"show"})}componentWillUnmount(){l.segmentTrackEvent("Org Roster Action",{org_id:this.props.org.id,action:"hide"})}getSelectedPropertyName(e){let s="";for(const t in this.props.orgRoster.selectedOrgUserIds){const o=B.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],t);if(!o)continue;const r=e(o);if(s){if(s!==r)return"Mixed"}else s=r}return s}getPropertySet(e){const s=new Set;for(const t in this.props.orgRoster.selectedOrgUserIds){const o=B.getOrgUserForId(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],t);o&&s.add(e(o))}return s}render(){const e=this.props.org,s=U.canAdminOrg(e.id,this.props.permissionsState),t=Object.keys(this.props.orgRoster.selectedOrgUserIds).length,r=this.props.orgRoster.sort;return o.createElement("div",{className:k.container},o.createElement("div",{className:k.searchContainer},o.createElement(ie,{query:this.props.orgRoster.searchQuery,onChange:this.onSearch})),o.createElement(D.ScrollContainer,{className:k.scrollContainer,showScrollbar:!0,onScroll:this.onScroll},this.props.orgBillingData&&this.props.orgBillingData.invoices.length>0&&o.createElement(K,{orgBillingData:this.props.orgBillingData,orgUsers:this.props.orgUsers,org:this.props.org,dispatch:this.props.dispatch,confirmFreezeInvoice:this.confirmFreezeInvoice}),o.createElement(S.TableRow,{className:k.headerRow,header:!0},s&&o.createElement(S.HeaderCell,{className:k.checkboxColumn},o.createElement(w.Checkbox,{checked:t>0,onChange:this.toggleCheckAllUserIds})),o.createElement(S.HeaderCell,{className:k.avatarColumn},o.createElement(S.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.NAME,hasArrow:r.type===R.OrgRosterSortType.NAME},"NAME")),o.createElement(S.HeaderCell,{className:k.lastEditColumn},o.createElement(S.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.LAST_EDIT,hasArrow:r.type===R.OrgRosterSortType.LAST_EDIT},"LAST EDIT")),o.createElement(S.HeaderCell,{className:k.lastSeenColumn},o.createElement(S.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.LAST_SEEN,hasArrow:r.type===R.OrgRosterSortType.LAST_SEEN},"LAST ACTIVE")),s&&o.createElement(S.HeaderCell,{className:k.upgradedDateColumn},o.createElement(S.SortableField,{isDescending:!r.isDescending,sortBy:this.props.onSort,field:R.OrgRosterSortType.UPGRADED_DATE,hasArrow:r.type===R.OrgRosterSortType.UPGRADED_DATE},"DATE UPGRADED")),o.createElement(S.HeaderCell,{className:k.accountTypeColumnHeader},o.createElement("div",{className:k.filterContainer,ref:this.accountDropdownRef,onClick:this.toggleAccountDropdown},o.createElement("span",null,"ROLE"),o.createElement("span",{className:this.props.orgRoster.filters.accountTypeFilter?k.indicator:k.inactiveIndicator}))),o.createElement(S.HeaderCell,{className:k.iconColumn},o.createElement("div",{className:k.menuContainer,ref:this.permissionDropdownRef,onClick:this.togglePermissionDropdown},o.createElement(C.Svg,{svg:z,className:k.menuIcon}))),s&&o.createElement(S.HeaderCell,{className:k.iconColumn},o.createElement(oe,{className:k.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.HEADER_MENU_DROPDOWN),hasPermission:!1,hideChevron:!0,type:this.HEADER_MENU_DROPDOWN},o.createElement(C.Svg,{svg:q,className:k.menuIcon})))),o.createElement(re,{dropdownShown:this.props.dropdownShown,dropdownType:this.ACCOUNT_TYPE_FILTER_DROPDOWN,values:[_.OrgUserAccountType.FULL,_.OrgUserAccountType.STARTER,_.OrgUserAccountType.RESTRICTED],selectedValue:this.props.orgRoster.filters.accountTypeFilter,getDisplayText:this.getAccountFilterText,dispatch:this.props.dispatch,updateFilter:this.updateAccountFilter}),o.createElement(re,{dropdownShown:this.props.dropdownShown,dropdownType:this.PERMISSION_FILTER_DROPDOWN,values:m.isEmpty(this.props.idpUserById.idpUsers)?[_.OrgPermissionType.ADMIN,_.OrgPermissionType.MEMBER,_.OrgPermissionType.GUEST]:[_.OrgPermissionType.ADMIN,_.OrgPermissionType.MEMBER,_.OrgPermissionType.GUEST,R.OrgPermissionExtendedFilters.IDP],selectedValue:this.props.orgRoster.filters.permissionFilter,getDisplayText:this.getPermissionFilterText,dispatch:this.props.dispatch,updateFilter:this.updatePermissionFilter}),this.isDropdownShown(this.HEADER_MENU_DROPDOWN)&&this.renderHeaderMenuDropdown(),o.createElement("div",{className:s?"":k.nonadminTable},this.renderBody())),t>0&&s&&o.createElement("div",{className:k.batchRow},o.createElement("div",{className:k.checkboxColumn}),o.createElement("p",{className:k.batchUsersColumn},t," ",t>1?"users":"user"," selected"),o.createElement("div",{className:k.lastEditColumn}),o.createElement("div",{className:k.lastSeenColumn}),o.createElement("div",{className:k.upgradedDateColumn}),o.createElement(oe,{className:k.accountTypeColumn,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN),hasPermission:!1,type:this.BATCH_ACCOUNT_TYPE_DROPDOWN},this.getSelectedPropertyName(this.getAccountTypeName),this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN)&&this.renderBatchAccountTypeDropdown()),o.createElement("div",{className:k.iconColumn})," ",o.createElement("div",{className:k.iconColumn},o.createElement(oe,{className:k.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_MENU_DROPDOWN),hasPermission:!1,hideChevron:!0,type:this.BATCH_MENU_DROPDOWN},o.createElement(C.Svg,{svg:q,className:k.menuIcon}),this.isDropdownShown(this.BATCH_MENU_DROPDOWN)&&this.renderBatchMenuDropdown()))),this.state.modal&&this.state.modal.type===j.DELETE&&o.createElement(f.ConfirmDeleteModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,dispatch:this.props.dispatch}),this.state.modal&&this.state.modal.type===j.ACCOUNT&&o.createElement(f.ConfirmAccountChangeModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,accountType:this.state.modal.accountType,dispatch:this.props.dispatch}),this.state.modal&&this.state.modal.type===j.FREEZE&&o.createElement(v.FreezeInvoiceConfirmModal,{lockedQuantityEditors:this.state.modal.lockedQuantityEditors,quantityNewEditors:this.state.modal.quantityNewEditors,lockedAmountToPay:this.state.modal.lockedAmountToPay,dueAt:this.state.modal.dueAt,quarter:this.state.modal.quarter,currency:this.state.modal.currency,org:this.props.org,onHide:this.hideModal,dispatch:this.props.dispatch}))}}s.MembersTable=Q,Q.displayName="MembersTable";class K extends o.PureComponent{constructor(){super(...arguments),this.onBillingClick=(()=>{this.props.dispatch(c.orgs.selectAdminView({view:"billing"}))})}mostRecentInvoice(e){return this.props.orgBillingData.invoices.find(s=>s.status===e)}bannerMode(){const e=this.mostRecentInvoice("upcoming"),s=this.mostRecentInvoice("locked");return e&&M(e.due_at)>=M()&&M(e.due_at)<M().add(14,"days")?V.FREEZE:s&&M(s.due_at)>=M()?V.LOCKED:null}computedInvoiceToBill(e){let s=W.getBillableSeatCount(this.props.orgUsers),t=Math.max(s-e.quantity_paid,0);return 1!==e.quarter&&(s=t),{quantityEditorsToBill:s,quantityNewEditors:t,amountToPay:s*(5-e.quarter)*(e.plan_amount/4)}}render(){const e=this.bannerMode();if(null===e)return null;const s=e===V.FREEZE,t=s?this.mostRecentInvoice("upcoming"):this.mostRecentInvoice("locked");if(!t)return null;if(s){const e=this.computedInvoiceToBill(t),s=e.quantityEditorsToBill,r=e.amountToPay;return o.createElement("div",{className:k.freezeBanner},o.createElement("div",{className:k.bannerHeader},"Finalize your ",1===t.quarter?"annual subscription":"invoice"," by ",M(t.due_at).format("MMMM Do")),o.createElement("div",{className:k.bannerBody},o.createElement("div",{className:k.bannerDescription},o.createElement("span",null,1===t.quarter?"You'll be charged for all Editors, including new Editors who joined this quarter.":"You will be charged for all new Editors."," Manage your invoice by changing Editors who no longer need edit access to Viewers.")),o.createElement("div",null,o.createElement("strong",null,s),o.createElement("div",null,u.getPluralOrSingular(s,1===t.quarter?"Editor":"New Editor"))),o.createElement("div",null,o.createElement("strong",null,L.formatMoney(r,!0,void 0,t.currency)),o.createElement("div",null,"Projected Total")),o.createElement(w.ButtonSecondary,{onClick:()=>this.props.confirmFreezeInvoice(s,e.quantityNewEditors,r,t.due_at,t.quarter,t.currency)},"Confirm ",s," ",u.getPluralOrSingular(s,"Editor"))))}return o.createElement("div",{className:k.freezeBanner},o.createElement("div",{className:k.bannerHeader},`Your upcoming ${M(t.due_at).format("MMM Do")} invoice has been finalized`),o.createElement("div",{className:k.bannerDescription},o.createElement("span",null,"Find information about your upcoming invoice in the ",o.createElement(w.LinkInline,{onClick:this.onBillingClick},"Billing tab"),".")))}}function J(e){return!!e.orgUser}function X(e){const{itemProps:s}=e;return J(s)?o.createElement(se,Object.assign({},s)):o.createElement(te,Object.assign({},s))}s.FreezeBanner=K;const ee=e=>J(e)?e.orgUser.id:e.idpUser.email;class se extends o.PureComponent{constructor(e){super(e),this.isDropdownShown=(e=>this.props.dropdownShown&&this.props.dropdownShown.type===e),this.isAccountTypeDropdownShown=(()=>this.isDropdownShown(this.ACCOUNT_TYPE_DROPDOWN)),this.isMenuTypeDropdownShown=(()=>this.isDropdownShown(this.MENU_DROPDOWN)),this.confirmRemoval=(()=>{this.props.onDelete([this.props.orgUser.id])}),this.viewActivityLogs=(()=>{const e={initialEmail:this.props.orgUser.user.email},s=`/files/${this.props.org.id}/activity-logs?${b.encode(e)}`;g.redirect(s,"_blank")}),this.onFullClick=(()=>{this.props.orgUser.account_type!==_.OrgUserAccountType.FULL&&this.props.onChangeAccountType([this.props.orgUser.id],_.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.props.orgUser.account_type!==_.OrgUserAccountType.RESTRICTED&&this.props.onChangeAccountType([this.props.orgUser.id],_.OrgUserAccountType.RESTRICTED)}),this.onAdminGrant=(()=>{this.props.onChangeMemberPermission({id:this.props.orgUser.id,org_id:this.props.org.id,permission:_.OrgPermissionType.ADMIN})}),this.onAdminRevoke=(()=>{this.props.onChangeMemberPermission({id:this.props.orgUser.id,org_id:this.props.org.id,permission:_.OrgPermissionType.MEMBER})}),this.toggleMemberSelect=(()=>{this.props.onToggleMemberSelect(this.props.orgUser.id)}),this.renderAccountTypeCell=(e=>o.createElement("div",null,_.OrgUserAccountTypeDisplayText[e]," ",e===_.OrgUserAccountType.RESTRICTED&&o.createElement("span",{className:k.badgeRestricted},"Restricted"),e===_.OrgUserAccountType.FULL&&this.props.isNewEditor&&o.createElement(T.Badge,{color:T.BadgeColor.GREEN,text:"New"}))),this.renderAccountTypeDropdown=(()=>{const e=this.props.orgUser,s=e.account_type===_.OrgUserAccountType.STARTER,t=e.account_type===_.OrgUserAccountType.RESTRICTED,r=e.account_type===_.OrgUserAccountType.FULL;return o.createElement(y.dropdown.Dropdown,{className:k.wideDropdown,style:this.props.dropdownShown.data.position},o.createElement(y.dropdown.CheckableOption,{checked:r,onClick:this.onFullClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.FULL]),s&&o.createElement(y.dropdown.CheckableOption,{checked:!0,onClick:void 0},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.STARTER]),o.createElement(y.dropdown.CheckableOption,{checked:t,onClick:this.onRestrictedClick},_.OrgUserAccountTypeExtendedText[_.OrgUserAccountType.RESTRICTED]))}),this.renderMenuDropdown=(()=>{const e=this.props.orgUser.permission===_.OrgPermissionType.ADMIN,s=this.props.orgUser.permission===_.OrgPermissionType.MEMBER;return o.createElement(y.dropdown.Dropdown,{className:k.dropdown,style:this.props.dropdownShown.data.position},o.createElement(y.dropdown.Option,{onClick:this.viewActivityLogs},"View Activity Logs"),!!this.props.orgUser.user.email&&o.createElement(y.dropdown.Option,{onClick:()=>{this.props.onCopyEmailsToClipboard([this.props.orgUser.user.email])}},"Copy Email"),!this.props.isMe&&o.createElement(o.Fragment,null,e&&o.createElement(y.dropdown.Option,{onClick:this.onAdminRevoke},"Revoke Admin Access"),s&&o.createElement(y.dropdown.Option,{onClick:this.onAdminGrant},"Grant Admin Access"),o.createElement(y.dropdown.Separator,null),o.createElement(y.dropdown.Option,{onClick:this.confirmRemoval},"Remove")))}),this.ACCOUNT_TYPE_DROPDOWN=`ACCOUNT_TYPE_DROPDOWN-${this.props.orgUser.user.email}`,this.MENU_DROPDOWN=`MENU_DROPDOWN-${this.props.orgUser.user.email}`}render(){const e=this.props.isMe;let s=void 0;return this.props.orgUser.permission===_.OrgPermissionType.ADMIN?s=x.BadgeType.ADMIN:this.props.orgUser.permission===_.OrgPermissionType.GUEST&&(s=x.BadgeType.GUEST),o.createElement(S.TableRow,{className:k.tableRow,_top:this.props._top},this.props.canAdminOrg&&o.createElement("div",{className:k.checkboxColumn},o.createElement(w.Checkbox,{className:this.props.isSelected?void 0:k.unselectedCheckbox,checked:this.props.isSelected,onChange:this.toggleMemberSelect})),o.createElement("div",{className:k.avatarColumn},o.createElement(A.CopyableAvatar,{className:k.avatarWithHandle,dispatch:this.props.dispatch,entity:this.props.orgUser.user,showIsMe:e,showTooltip:!0,size:24,badgeType:s})),o.createElement("div",{className:k.lastEditColumn},this.props.orgUser.last_edit?o.createElement(I.FromNow,{capitalize:!0,date:this.props.orgUser.last_edit}):"–"),o.createElement("div",{className:k.lastSeenColumn},this.props.orgUser.last_seen?o.createElement(I.FromNow,{capitalize:!0,date:this.props.orgUser.last_seen}):"–"),this.props.canAdminOrg&&o.createElement("div",{className:k.upgradedDateColumn}," ",this.props.orgUser.account_type===_.OrgUserAccountType.FULL&&this.props.orgUser.account_type_changed_at?M(this.props.orgUser.account_type_changed_at).format("MMM DD, YYYY"):"–"),this.props.canAdminOrg&&o.createElement(oe,{className:k.accountTypeColumn,dispatch:this.props.dispatch,isDisabled:this.props.areDropdownsdisabled,type:this.ACCOUNT_TYPE_DROPDOWN,showingDropdown:this.isAccountTypeDropdownShown(),hasPermission:!this.props.canAdminOrg},this.renderAccountTypeCell(this.props.orgUser.account_type),this.isAccountTypeDropdownShown()&&this.renderAccountTypeDropdown()),!this.props.canAdminOrg&&o.createElement("div",{className:k.accountTypeColumn},this.renderAccountTypeCell(this.props.orgUser.account_type)),o.createElement("div",{className:k.iconColumn})," ",this.props.canAdminOrg&&!this.props.areDropdownsdisabled&&o.createElement("div",{className:k.iconColumn},o.createElement(oe,{className:k.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isMenuTypeDropdownShown(),hasPermission:!1,type:this.MENU_DROPDOWN,hideChevron:!0},o.createElement(C.Svg,{svg:q,className:k.menuIcon}),this.isMenuTypeDropdownShown()&&this.renderMenuDropdown())),this.props.areDropdownsdisabled&&o.createElement("div",{className:k.iconColumn}))}}s.OrgUserRow=se,se.displayName="OrgUserRow";class te extends o.PureComponent{constructor(e){super(e),this.isMenuTypeDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.MENU_DROPDOWN),this.onDelete=(()=>{this.props.dispatch(p.orgInvites.deleteRequest({idpUser:this.props.idpUser}))}),this.onResendEmailClick=(()=>{this.props.dispatch(p.orgInvites.postRequest({emails:[this.props.idpUser.email],accountType:this.props.idpUser.account_type,isResentInvite:!0}))}),this.renderMenuDropdown=(()=>o.createElement(y.dropdown.Dropdown,{className:k.dropdown,style:this.props.dropdownShown.data.position},o.createElement(y.dropdown.Option,{onClick:this.onResendEmailClick},"Resend Invite"),o.createElement(y.dropdown.Option,{onClick:()=>{this.props.onCopyEmailsToClipboard([this.props.idpUser.email])}},"Copy Email"),o.createElement(y.dropdown.Separator,null),o.createElement(y.dropdown.Option,{onClick:this.onDelete},"Remove"))),this.MENU_DROPDOWN=`MENU_DROPDOWN-${this.props.idpUser.email}`}render(){const e=this.props.canAdminOrg&&!this.props.areDropdownsDisabled&&this.props.idpUser.isOrgInvite;return o.createElement(S.TableRow,{className:k.tableRow,_top:this.props._top},o.createElement("div",{className:k.checkboxColumn}),o.createElement("div",{className:k.avatarColumn},o.createElement(A.CopyableAvatar,{className:k.avatarWithHandle,dispatch:this.props.dispatch,entity:this.props.idpUser,hideHandle:this.props.idpUser.isOrgInvite,showTooltip:!0,size:24})),o.createElement("div",{className:k.lastEditColumn},"–"),o.createElement("div",{className:k.lastSeenColumn},"–"),o.createElement("div",{className:k.upgradedDateColumn},"–"),o.createElement("div",{className:k.accountTypeColumn},"–"),o.createElement("div",{className:k.iconColumn}),e&&o.createElement("div",{className:k.iconColumn},o.createElement(oe,{className:k.menuSelector,dispatch:this.props.dispatch,showingDropdown:this.isMenuTypeDropdownShown(),hasPermission:!1,type:this.MENU_DROPDOWN,hideChevron:!0},o.createElement(C.Svg,{svg:q,className:k.menuIcon}),this.isMenuTypeDropdownShown()&&this.renderMenuDropdown())),!e&&o.createElement("div",{className:k.iconColumn}))}}s.IdpUserRow=te,te.displayName="IdpUserRow";class oe extends o.PureComponent{constructor(){super(...arguments),this.toggleDropdown=(()=>{if(this.props.showingDropdown)this.props.dispatch(i.fileBrowser.hideDropdown());else{const e=r.findDOMNode(this).getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:this.props.type,data:{position:{top:e.top,bottom:"auto",left:Math.min(e.left,window.innerWidth-180),right:"auto"}}}))}})}render(){return o.createElement("div",{className:`${this.props.isDisabled?k.dropdownColumnDisabled:k.dropdownColumn} ${this.props.className?this.props.className:""}`,onClick:this.props.hasPermission?void 0:this.toggleDropdown},this.props.children,!this.props.hasPermission&&!this.props.isDisabled&&!this.props.hideChevron&&o.createElement(P.Chevron,{dispatch:this.props.dispatch,showingDropdown:this.props.showingDropdown,dropdownKey:this.props.type,toggleOnClick:!0,positionDynamically:!0}))}}s.DropdownSelector=oe;class re extends o.PureComponent{constructor(){super(...arguments),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownType)}render(){return o.createElement(o.Fragment,null,this.isDropdownShown()&&o.createElement(N.PointingDropdown,{className:k.pointingDropdown,targetRect:this.props.dropdownShown.data.targetRect,minWidth:132},o.createElement(y.dropdown.CheckableOption,{checked:null===this.props.selectedValue,onClick:()=>this.props.updateFilter(null)},"Show All"),o.createElement(y.dropdown.Separator,null),this.props.values.map(e=>o.createElement(y.dropdown.CheckableOption,{key:this.props.getDisplayText(e),checked:this.props.selectedValue===e,onClick:()=>this.props.updateFilter(e)},this.props.getDisplayText(e)))))}}s.FilterDropdown=re,re.displayName="FilterDropdown";class ie extends o.PureComponent{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")})}render(){return o.createElement(O.SearchBar,{focusOnMount:!0,extraSpacing:!0,query:this.props.query,clearSearch:this.clearSearch,onChange:this.props.onChange,useDeprecatedStyles:!0})}}ie.displayName="RosterSearch"}),
(function(o,a,d){o.exports={container:"org_dashboard_modal--container--2f1Tr",tabs:"org_dashboard_modal--tabs--2nR0N",header:"org_dashboard_modal--header--D40Y8 text--fontPos14--3UJ36 text--_fontBase--YWDo0",generalContainer:"org_dashboard_modal--generalContainer--2O1rq",rightColumn:"org_dashboard_modal--rightColumn--2vdiW",rightColumnContent:"org_dashboard_modal--rightColumnContent--1uQkA",rightColumnSection:"org_dashboard_modal--rightColumnSection--1qPQX",leftColumn:"org_dashboard_modal--leftColumn--3WSvR",avatarContainer:"org_dashboard_modal--avatarContainer--3TGZD",destructionButton:"org_dashboard_modal--destructionButton--3Pouv",logsButton:"org_dashboard_modal--logsButton--1ekas",inviteButton:"org_dashboard_modal--inviteButton--25JLh",configureSSOButton:"org_dashboard_modal--configureSSOButton--Bpv75",inviteMembersButton:"org_dashboard_modal--inviteMembersButton--3G6l2",description:"org_dashboard_modal--description--uNVwG",profileHandleInfo:"org_dashboard_modal--profileHandleInfo--293qg",profileHandleButton:"org_dashboard_modal--profileHandleButton--1FHWb",info:"org_dashboard_modal--info--1zkuW",bold:"org_dashboard_modal--bold--1wR8I",normal:"org_dashboard_modal--normal--1Ods9",spinner:"org_dashboard_modal--spinner--1-rfn",infoIcon:"org_dashboard_modal--infoIcon--Ucc4V",additionalOptions:"org_dashboard_modal--additionalOptions--2LuxJ",forumLink:"org_dashboard_modal--forumLink--1smf6",centered:"org_dashboard_modal--centered--1rkDQ",link:"org_dashboard_modal--link--hKXE9"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),i=s(106                                     ),r=s(134                             ),l=s(136                            ),o=s(227                                 ),c=s(224                                            ),n=s(94                                   ),h=s(228           ),d=s(229                                 );t.DELETE_ORG_MODAL="DELETE_ORG_MODAL",d.registerModal(t.DELETE_ORG_MODAL,e=>a.createElement(p,Object.assign({},e)));class p extends a.PureComponent{constructor(){super(...arguments),this.back=(()=>{this.props.dispatch(r.orgs.selectAdminView({view:"general"})),this.props.dispatch(i.fileBrowser.showModal({type:l.ORG_DASHBOARD_MODAL}))}),this.submit=(()=>{this.back(),this.props.dispatch(r.orgs.deleteOrg({orgId:this.props.currentOrgId}))}),this.cancel=(()=>{this.back(),this.props.dispatch(n.flash.flash("Deletion request cancelled"))})}render(){const e=this.props.orgById[this.props.currentOrgId];return a.createElement(o.Modal,{title:"Are you sure you'd like to delete Figma?",dispatch:this.props.dispatch,size:364},"Please confirm that you wish to permanently delete the ",e.name," Figma Organization and all data associated with it and its users. We will process this request within 30 days.",a.createElement("div",{className:h.buttonRow},a.createElement(c.ButtonSecondary,{className:h.left,onClick:this.cancel},"Cancel"),a.createElement(c.ButtonNegative,{onClick:this.submit},"Request to delete Organization")))}}t.DeleteOrgModal=p,p.displayName="DeleteOrgModal",t.DELETE_ORG_USER_MODAL="DELETE_ORG_USER_MODAL",d.registerModal(t.DELETE_ORG_USER_MODAL,e=>a.createElement(m,Object.assign({},e)));class m extends a.PureComponent{constructor(e){super(e),this.back=(()=>{this.props.dispatch(r.orgs.selectAdminView({view:"general"})),this.props.dispatch(i.fileBrowser.showModal({type:l.ORG_DASHBOARD_MODAL}))}),this.submit=(()=>{this.back(),this.props.dispatch(r.orgs.deleteOrgUser({orgId:this.props.currentOrgId,email:this.state.email}))}),this.cancel=(()=>{this.back(),this.props.dispatch(n.flash.flash("Deletion request cancelled"))}),this.onChange=(e=>{this.setState({email:e.currentTarget.value})}),this.state={email:""}}render(){const e=0==this.state.email.length;return a.createElement(o.Modal,{title:"Who would you like to delete?",dispatch:this.props.dispatch,size:364},"This will delete this user's access to Figma and all data associated with their account. We will process this request within 30 days.",a.createElement("div",{className:h.buttonRow},a.createElement(c.TextInput,{className:h.textInput,onChange:this.onChange,spellCheck:!1,placeholder:"Email",autoCorrect:"off",autoCapitalize:"off"})),a.createElement("div",{className:h.buttonRow},a.createElement(c.ButtonSecondary,{className:h.left,onClick:this.cancel},"Cancel"),a.createElement(c.ButtonNegative,{onClick:this.submit,disabled:e},"Request to delete User")))}}t.DeleteOrgUserModal=m,m.displayName="DeleteOrgUserModal"}),
(function(e,t,a){"use strict";var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(n,o){function r(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),o=a(333                                                    ),r=a(44,1         ),s=a(227                                 ),l=a(224                                            ),d=a(213                          ),c=a(114           ),u=a(228          ),h=a(229                    ),m=a(106                                     );class f extends n.Component{constructor(e){super(e),this.onProfileHandleChange=(e=>{this.setState({newProfileHandle:e.target.value,submitDisabled:!0}),this.debounceVerifyHandleAvailability()}),this.onSubmit=(e=>{e.preventDefault(),this.setState({submitDisabled:!0}),this.props.setProfileHandle(this.state.newProfileHandle)}),this.debounceVerifyHandleAvailability=c.debounce(()=>i(this,void 0,void 0,function*(){var e;if(""===this.state.newProfileHandle)return void this.setState({submitDisabled:!0,errorMsg:""});const t=yield d.verifyHandleAvailability(this.state.newProfileHandle,(null===(e=this.props.profile)||void 0===e?void 0:e.profile_handle)||void 0);!0===t.available?this.setState({submitDisabled:!1,errorMsg:""}):this.setState({submitDisabled:!0,errorMsg:t.error||""})}),750),this.state={newProfileHandle:"",submitDisabled:!0,errorMsg:""}}getTitle(){return"userId"in this.props?"Choose a handle for your user profile":"orgId"in this.props?"Choose a handle for your organization's profile":"teamId"in this.props?"Choose a handle for your team's profile":"Choose a handle for your profile"}render(){return n.createElement(s.Modal,{size:"small",title:this.getTitle(),className:u.modal,dispatch:this.props.dispatch},n.createElement("form",{id:f.id,onSubmit:this.onSubmit},n.createElement("p",null,"Up to 15 characters (alphanumeric or _)"),n.createElement(l.TextInput,{name:"handle",type:"text",id:"handle",className:u.textInput,value:this.state.newProfileHandle,onChange:this.onProfileHandleChange,autoFocus:!0,placeholder:"handle"}),n.createElement("div",{className:u.duplicateHandleMessage},this.state.errorMsg),n.createElement("div",{className:u.profileHandleButtonRow},n.createElement(l.ButtonPrimary,{type:"submit",className:u.confirmButton,disabled:this.state.submitDisabled},"Done"))))}}function p(e){const a=e.getState();a.modalShown&&a.modalShown.type===t.CHANGE_PROFILE_HANDLE&&e.dispatch(m.fileBrowser.popModalStack())}t.ChangeProfileHandleInner=f,f.displayName="ChangeProfileHandle",f.id="profile-change-handle",t.popChangeProfileHandle=p;const b=r.connect((e,t)=>({profile:d.getProfileFromState(e,t)}),(e,t)=>({dispatch:e,setProfileHandle:a=>{"userId"in t?e(o.changeProfileHandle({profileHandle:a,done:p,userId:t.userId})):"orgId"in t?e(o.changeProfileHandle({profileHandle:a,done:p,orgId:t.orgId})):"teamId"in t&&e(o.changeProfileHandle({profileHandle:a,done:p,teamId:t.teamId}))}}))(f);t.CHANGE_PROFILE_HANDLE="CHANGE_PROFILE_HANDLE",h.registerModal(t.CHANGE_PROFILE_HANDLE,e=>{const t=e.modalShown;return"userId"in t.data?n.createElement(b,{userId:t.data.userId}):"orgId"in t.data?n.createElement(b,{orgId:t.data.orgId}):"teamId"in t.data?n.createElement(b,{teamId:t.data.teamId}):null})}),
(function(o,t,i){o.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6 12c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0-.667C3.054 11.333.667 8.946.667 6 .667 3.054 3.054.667 6 .667c2.946 0 5.333 2.387 5.333 5.333 0 2.946-2.387 5.333-5.333 5.333zm-.666-6h1.333v4H5.334v-4zm0-2c0-.368.298-.666.667-.666.368 0 .666.298.666.666 0 .369-.298.667-.666.667-.369 0-.667-.298-.667-.667z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(208        ),r=t(3,1    ),o=t(296                                 ),a=t(297                                   ),n=t(301                                 ),p=t(134                             ),l=t(106                                     ),m=t(1140                                 ),d=t(340              ),h=t(90                     ),c=t(1233                     ),g=t(87                      ),u=t(1301                                                  ),E=t(178                                        ),_=t(363                                              ),b=t(411                                        ),v=t(354                            ),w=t(111                        ),f=t(136                            ),S=t(1260                                                                            ),y=t(1131                                                               ),O=t(249                             ),C=t(1306                                    ),I=t(1310                         ),N=t(224                                            ),D=t(627                                              ),T=t(1312                                                      ),B=t(1318                                                      ),M=t(851                      ),R=t(333                                                    ),A=t(326                             ),L=t(331                        ),k=t(1319                       ),P=t(174                                    ),U=t(611                 ),F=t(1320                                  ),q=t(1321                      ),V=d.pxToInt(b.orgModal);class j extends c.Tab{}const G=t(1322                             );class H extends r.PureComponent{constructor(){super(...arguments),this.onClose=(()=>{this.props.dispatch(l.fileBrowser.hideModal()),"org"!==this.props.selectedView.view?this.props.dispatch(p.orgs.resetDashboard()):this.props.dispatch(l.fileBrowser.selectView({view:"org",orgId:this.props.currentOrgId,orgViewTab:L.OrgViewTab.HOME}))}),this.onTabClick=(e=>{this.props.dispatch(p.orgs.selectAdminView({view:e}))}),this.loadOrgProfile=(()=>{this.props.dispatch(R.getPublicProfileById({orgId:this.props.currentOrgId}))}),this.renderTabs=(()=>{const e=this.props.orgDashboard.selectedAdminView,s=[{name:"General",view:"general"},{name:"Teams",view:"teams"},{name:"Members",view:"members"},{name:"Libraries",view:"library"},{name:"Shared Fonts",view:"fonts"}];return w.canAdminOrg(this.props.currentOrgId,w.getPermissionsState(this.props))&&this.props.orgBillingData&&this.props.orgBillingData.invoices.length>0&&s.push({name:"Billing",view:"billing"}),s.push({name:"Plugins",view:"plugins"}),r.createElement("div",{className:k.tabs},s.map(s=>r.createElement(j,{key:s.view,onClick:()=>this.onTabClick(s.view),tab:s.view,selectedTab:e},s.name)))}),this.renderView=(()=>{const e=w.getPermissionsState(this.props),s=this.props.orgById[this.props.currentOrgId];switch(this.props.orgDashboard.selectedAdminView){case"general":return r.createElement(x,{orgDomains:this.props.orgDomains,org:s,orgProfile:this.props.publicOrgProfileById[this.props.currentOrgId],orgRoster:this.props.orgRoster,orgTeams:this.props.orgTeams,idpUserById:this.props.idpUserById,orgUsersByOrgId:this.props.orgUsersByOrgId,permissionsState:e,dispatch:this.props.dispatch,avatarEditorState:this.props.avatarEditorState});case"members":return r.createElement(J,{dispatch:this.props.dispatch,orgBillingData:this.props.orgBillingData,orgRoster:this.props.orgRoster,orgUsersByOrgId:this.props.orgUsersByOrgId,permissionsState:e,org:s,idpUserById:this.props.idpUserById,dropdownShown:this.props.dropdownShown,orgUsers:this.props.orgUsersByOrgId.orgUsers[s.id]});case"teams":return r.createElement(z,{org:s,teamRoleRequests:this.props.teamRoleRequests,joiningTeamIds:this.props.orgDashboard.joiningTeamIds,orgTeams:this.props.orgTeams,onClose:this.onClose,teamSortConfig:this.props.orgDashboard.teamSortConfig,permissionsState:e,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch});case"library":return r.createElement(S.LibrarySubscriptions,Object.assign({showingDefaultSubscriptionsForUser:!1,showingDefaultSubscriptionsForTeamId:null,showingDefaultSubscriptionsForOrg:s,width:V,inOrgDashboardModal:!0},this.props));case"fonts":return r.createElement(y.SharedFonts,Object.assign({},this.props,{orgId:this.props.currentOrgId,width:V,resourceType:"org"}));case"billing":return r.createElement(T.BillingTable,{orgBillingData:this.props.orgBillingData,org:s,dispatch:this.props.dispatch});case"plugins":return r.createElement(I.PluginsWhitelistSection,{org:s,whitelistedPlugins:this.props.whitelistedPlugins,publishedPlugins:this.props.publishedPlugins,canAdminOrg:w.canAdminOrg(this.props.currentOrgId,this.props),dispatch:this.props.dispatch});default:i.assertNever(this.props.orgDashboard.selectedAdminView)}})}componentDidMount(){this.props.publicOrgProfileById[this.props.currentOrgId]||this.loadOrgProfile()}render(){return r.createElement(_.HeaderModal,{headerSize:"large",disableClickOutsideToHide:!0,title:this.renderTabs(),onClose:this.onClose,maxWidth:V},r.createElement("div",{className:k.container},this.renderView()))}}s.OrgDashboardModal=H,H.displayName="OrgDashboardModal";class x extends r.PureComponent{constructor(e){super(e),this.changeProfileHandle=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:q.CHANGE_PROFILE_HANDLE,data:{orgId:this.props.org.id}}))}),this.onActivityLogClick=(()=>{this.props.dispatch(l.fileBrowser.hideModal()),this.props.dispatch(l.fileBrowser.selectView({view:"activityLogs"}))}),this.onConfigureSSOClick=(()=>{this.props.dispatch(l.fileBrowser.hideModal()),this.props.dispatch(l.fileBrowser.selectView({view:"configureSSO"}))}),this.onInviteMembers=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:f.ORG_INVITE_MODAL}))}),this.onDeleteOrgClick=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:F.DELETE_ORG_MODAL}))}),this.onDeleteOrgUserClick=(()=>{this.props.dispatch(l.fileBrowser.showModal({type:F.DELETE_ORG_USER_MODAL}))}),this.onAdditionalOptionsClick=(()=>{this.setState({showDeletingData:!0})}),this.renderDeletionSection=(()=>this.state.showDeletingData?r.createElement("div",{className:k.rightColumnSection},r.createElement("h1",{className:k.header},"Deleting Data"),r.createElement(N.Link,{className:k.destructionButton,onClick:this.onDeleteOrgClick},"Request to delete Figma organization"),r.createElement(N.Link,{className:k.destructionButton,onClick:this.onDeleteOrgUserClick},"Request to delete user data")):r.createElement("div",{className:k.additionalOptions,onClick:this.onAdditionalOptionsClick},"Show additional options")),this.state={showDeletingData:!1}}renderMembershipSettings(){const e=this.props.orgDomains.domains.map(e=>e.domain),s=this.props.org.domain_capture?"is a Member. Everyone else is a Guest.":"will join as a Member if invited to a file, project, or team. Everyone else is a Guest.";return r.createElement("div",null,e&&r.createElement("p",null,"Anyone with a verified ",r.createElement(D.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:r.createElement("span",null," or ")},e.map(e=>r.createElement("span",{key:e,className:k.bold},e)))," email ",s))}renderSSOSettings(){const e=this.props.org,s=U.getSignInMethod(e);return r.createElement("div",null,r.createElement("div",null,r.createElement("div",{className:k.description},"Members ",s===h.SignInMethod.ANY?"may":""," log in with ",x.SIGN_IN_METHOD_DESCRIPTIONS[s],"."),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement(N.Link,{className:k.configureSSOButton,onClick:this.onConfigureSSOClick},"Update Log in Settings")),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&this.props.org.invite_whitelist_enforced&&r.createElement(N.Link,{className:k.inviteMembersButton,onClick:this.onInviteMembers},"Invite members"))}render(){const e=this.props.org,s=w.canAdminOrg(this.props.org.id,this.props.permissionsState),t=this.props.orgProfile&&this.props.orgProfile.profile_handle,i=this.props.orgDomains.domains.map(({domain:e})=>e).join(", ");return r.createElement("div",{className:k.generalContainer},r.createElement("div",{className:k.leftColumn},r.createElement("div",{className:k.avatarContainer},s&&r.createElement(C.EditableAvatar,{entity:e,entityType:O.EntityType.ORG,avatarEditorState:this.props.avatarEditorState,dispatch:this.props.dispatch,size:120}),!s&&r.createElement(v.Avatar,{entity:e,size:120})),r.createElement("div",{className:k.info},r.createElement("h1",null,"Organization name"),r.createElement("p",{className:k.header},e.name)),A.profileHandlesEnabled()&&w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:t?k.info:k.profileHandleInfo},r.createElement("h1",null,"Organization Profile Handle"),t&&r.createElement("p",{className:k.header},`@${t}`),r.createElement(N.Link,{className:k.profileHandleButton,onClick:this.changeProfileHandle},t?"Change profile handle":"Set Profile handle")),r.createElement("div",{className:k.info},r.createElement("h1",null,"Total domains ",r.createElement(P.Svg,{className:k.infoIcon,"data-tooltip-text":i,"data-tooltip-show-below":!0,svg:G})),this.props.orgDomains.isFetching?r.createElement(E.LoadingSpinner,{className:k.spinner}):r.createElement("p",{className:k.header},this.props.orgDomains.domains.length)),r.createElement("div",{className:k.info},r.createElement("h1",null,"Total members"),this.props.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching?r.createElement(E.LoadingSpinner,{className:k.spinner}):r.createElement("p",{className:k.header},Object.keys(this.props.orgUsersByOrgId.orgUsers[e.id]).length)),r.createElement("div",{className:k.info},r.createElement("h1",null,"Total teams"),this.props.orgTeams.isFetching?r.createElement(E.LoadingSpinner,{className:k.spinner}):r.createElement("p",{className:k.header},this.props.orgTeams.teams.length))),r.createElement("div",{className:k.rightColumn},r.createElement("div",{className:k.rightColumnContent},!this.props.org.domain_capture&&w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:k.rightColumnSection},r.createElement("h1",{className:k.header},"Invite Members to ",this.props.org.name),r.createElement("div",{className:k.description},"An email invitation will be sent to invited members."),r.createElement("div",{className:k.inviteButton},r.createElement(N.ButtonSecondary,{onClick:this.onInviteMembers},"Invite Members"))),r.createElement("div",{className:k.rightColumnSection},r.createElement("h1",{className:k.header},"Membership"),this.props.orgDomains.isFetching?r.createElement(E.LoadingSpinner,{className:k.spinner}):this.renderMembershipSettings()),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&r.createElement("div",{className:k.rightColumnSection},r.createElement("h1",{className:k.header},"Activity Logs"),r.createElement("div",{className:k.description},"View a list of events related to the organization."),r.createElement(N.Link,{className:k.logsButton,onClick:this.onActivityLogClick},"View Activity Logs")),r.createElement("div",{className:k.rightColumnSection},r.createElement("h1",{className:k.header},"Log in and Provisioning"),this.props.orgDomains.isFetching?r.createElement(E.LoadingSpinner,{className:k.spinner}):this.renderSSOSettings()),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&this.renderDeletionSection())))}}s.GeneralSection=x,x.displayName="GeneralSection",x.SIGN_IN_METHOD_DESCRIPTIONS={google:"Google",saml:"SAML SSO",any:"any available method, including email and password"};class z extends r.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{const s=!1===this.props.teamSortConfig.isDescending;this.props.dispatch(p.orgs.sortTeamsBy({property:e,isDescending:s}))}),this.onCreateTeam=(()=>{this.props.onClose(),this.props.dispatch(l.fileBrowser.selectView({view:"teamCreation"}))}),this.onJoin=(e=>{this.props.dispatch(n.orgTeam.join({teamId:e}))}),this.onLeave=(e=>{this.props.dispatch(l.fileBrowser.showModal({type:f.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:e.id,popStack:!0}}))}),this.onJoinRequest=(e=>{this.props.dispatch(l.fileBrowser.showModal({type:f.REQUEST_ACCESS_MODAL,data:{team:e}}))}),this.onBypassRequest=(e=>{this.props.dispatch(m.requestToJoinTeam({teamId:e.id,level:g.PermissionLevel.EDITOR,message:""}))}),this.onWithdrawRequestForTeam=(e=>{const s=this.props.teamRoleRequests[e.id].id;this.props.dispatch(m.withdrawTeamRoleRequest({requestId:s}))})}render(){return this.props.orgTeams.isFetching||0!==this.props.orgTeams.teams.length?r.createElement(u.DiscoverableTeamsTable,{currentOrgId:this.props.org.id,joiningTeamIds:this.props.joiningTeamIds,teamRoleRequests:this.props.teamRoleRequests,orgTeams:this.props.orgTeams,onJoin:this.onJoin,onJoinRequest:this.onJoinRequest,onWithdrawRequestForTeam:this.onWithdrawRequestForTeam,onLeave:this.onLeave,onCreateTeam:this.onCreateTeam,teamSortConfig:this.props.teamSortConfig,onSort:this.onSort,onBypassRequest:this.onBypassRequest,permissionsState:this.props.permissionsState}):r.createElement("div",{className:k.centered},r.createElement("div",null,"This organization doesn't have any discoverable teams. ",r.createElement("br",null),r.createElement("a",{className:k.link,onClick:this.onCreateTeam},"Create New Team")))}}z.displayName="TeamsSection";class J extends r.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{let{isDescending:s,type:t}=this.props.orgRoster.sort;t===e&&(s=!s),this.props.dispatch(a.orgRoster.setSortConfig({type:e,isDescending:s}))}),this.onFilter=(e=>{this.props.dispatch(a.orgRoster.setFilters(e))}),this.onSearch=(e=>{this.props.dispatch(a.orgRoster.setQuery({query:e}))}),this.onChangeMemberPermission=(e=>{this.props.dispatch(o.orgUser.put({orgUser:e,userInitiated:!0}))})}render(){const e=this.props.orgUsersByOrgId.orgUsers[this.props.org.id];return r.createElement(B.MembersTable,{idpUserById:this.props.idpUserById,newEditorIds:M.getNewEditorIds(e,this.props.orgBillingData),orgBillingData:this.props.orgBillingData,orgRoster:this.props.orgRoster,onSort:this.onSort,onFilter:this.onFilter,org:this.props.org,orgUsers:this.props.orgUsers,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChangeMemberPermission:this.onChangeMemberPermission,onSearch:this.onSearch,permissionsState:this.props.permissionsState})}}J.displayName="MembersSection"}),
(function(e,s,t){e.exports={modal:"request_access_modal--modal--3k2Sj",title:"request_access_modal--title--32am0",inputRequestMessage:"request_access_modal--inputRequestMessage--2AVJQ",buttonRow:"request_access_modal--buttonRow--3_dBs",confirmButton:"request_access_modal--confirmButton--1_7Ov",cancelButton:"request_access_modal--cancelButton--OATKK",userName:"request_access_modal--userName--N8g6d",userRow:"request_access_modal--userRow--9TuXt",select:"request_access_modal--select--3W8_z"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(3,1    ),n=t(106                                     ),o=t(1140                                 ),c=t(354                            ),i=t(493                                                ),r=t(225                                  ),l=t(224                                            ),m=t(227                                 ),p=t(87                      ),u=t(212      ),h=t(1324                        );class d extends a.PureComponent{constructor(e){super(e),this.close=(()=>{this.props.dispatch(n.fileBrowser.popModalStack())}),this.onKeyDown=(e=>{e.keyCode===u.Key.ENTER&&u.isExactModifierPressed(e,u.ModifierKey.SHIFT)&&(e.preventDefault(),e.stopPropagation(),this.submit())}),this.onSubmit=(e=>{e.preventDefault(),this.submit()}),this.submit=(()=>{this.props.dispatch(o.requestToJoinTeam({teamId:this.props.team.id,level:this.state.accessLevel,message:this.state.requestMessage})),this.close()}),this.onChangeAccessLevel=(e=>{this.setState({accessLevel:e})}),this.onChangeRequestMessage=(e=>{const s=e.currentTarget.value;this.setState({requestMessage:s})}),this.state={requestMessage:"",accessLevel:p.PermissionLevel.VIEWER}}render(){const e=this.state.accessLevel===p.PermissionLevel.EDITOR?"Request Edit Access":"Request View Access";return a.createElement(m.Modal,{size:"small",className:h.modal,dispatch:this.props.dispatch,popStack:!0,onKeyDown:this.onKeyDown},a.createElement("div",{className:h.title},"Request to join team: ",this.props.team.name),a.createElement(v,{user:this.props.user,accessLevel:this.state.accessLevel,onChangeAccessLevel:this.onChangeAccessLevel}),a.createElement(r.TabLoop,{startTabIndex:1,endTabIndex:3},a.createElement("form",{onSubmit:this.onSubmit},a.createElement(i.TextInput,{className:h.inputRequestMessage,type:"textarea",maxLength:500,name:"message",value:this.state.requestMessage,placeholder:"Optional: Describe why you'd like access.",onChange:this.onChangeRequestMessage,tabIndex:1}),a.createElement("div",{className:h.buttonRow},a.createElement(l.ButtonSecondary,{type:"button",className:h.cancelButton,onClick:this.close,tabIndex:3},"Cancel"),a.createElement(l.ButtonPrimary,{type:"submit",className:h.confirmButton,tabIndex:2},e)))))}}s.RequestAccessModal=d,d.displayName="RequestAccessModal";class v extends a.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{const s=parseInt(e.currentTarget.value);this.props.onChangeAccessLevel(s)})}render(){const e=this.props.user;return a.createElement("div",{className:h.userRow},a.createElement(c.Avatar,{entity:e,size:24}),a.createElement("div",{className:h.userName},e.name," (You)"),a.createElement("select",{onChange:this.onChange,value:this.props.accessLevel,className:h.select},a.createElement("option",{value:`${p.PermissionLevel.VIEWER}`},"can view"),a.createElement("option",{value:`${p.PermissionLevel.EDITOR}`},"can edit")))}}s.RequestAccessPermissionRow=v,v.displayName="RequestAccessPermissionRow"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),o=a(106                                     ),i=a(137                             ),n=a(227                                 ),l=a(224                                            ),r=a(212      ),m=a(222                                      ),c=a(228          );class p extends s.PureComponent{constructor(e){super(e),this.deleteTeam=(e=>{e.preventDefault(),this.props.dispatch(i.team.del({team:this.props.team,userInitiated:!0,teamDelete:!0})),this.props.dispatch(o.fileBrowser.hideModal())}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(o.fileBrowser.hideModal())}),this.onChangeTeamName=(e=>{this.setState({confirmTeamNameInput:e.currentTarget.value})}),this.onKeyDown=(e=>{e.keyCode===r.Key.ENTER&&e.preventDefault()}),this.goToAdminDashboard=(e=>{e.preventDefault(),this.props.dispatch(o.fileBrowser.selectView({view:"teamAdmin",teamId:this.props.team.id})),this.props.dispatch(o.fileBrowser.hideModal())}),this.state={confirmTeamNameInput:""}}render(){const{subscriptionStatus:e}=this.props,t=e?"Action Required":"Delete Team";return s.createElement(n.Modal,{size:"small",dispatch:this.props.dispatch,title:t},!this.props.team.org_id&&e?s.createElement("div",null,"To delete the team ",this.props.team.name,", you must first cancel your subscription in the Admin Dashboard.",s.createElement("form",{onSubmit:this.goToAdminDashboard},s.createElement("div",{className:c.buttonRow},s.createElement(l.ButtonSecondary,{onClick:this.cancel},"Dismiss"),s.createElement(l.ButtonPrimary,{type:"submit",className:c.confirmButton},"Go to Admin Dashboard")))):s.createElement("div",null,"This will permanently delete the team ",s.createElement("span",{className:c.important},this.props.team.name),". Deleting this team will delete all associated data, such as projects, files, prototypes, for all users.",this.props.team.org_id?s.createElement("span",{className:c.important}," You cannot undo this action."):s.createElement("div",null,s.createElement("div",null," "),"You have ",s.createElement("span",{className:c.important},"28 days")," to undo this operation by following instructions that will be sent to your email."),s.createElement("div",null," "),"To confirm, please enter the name of the team.",s.createElement("form",{onSubmit:this.deleteTeam},s.createElement("div",null,s.createElement(m.LazyInput,{className:c.textInput,type:"text",value:this.state.confirmTeamNameInput,onKeyDown:this.onKeyDown,onChange:this.onChangeTeamName,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),s.createElement("div",{className:c.buttonRow},s.createElement(l.ButtonSecondary,{onClick:this.cancel},"Cancel"),s.createElement(l.ButtonNegative,{type:"submit",className:c.confirmButton,disabled:this.props.team.name!==this.state.confirmTeamNameInput},"Delete Team")))))}}t.TeamDeleteModal=p,p.displayName="TeamDeleteModal"}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(3,1    ),o=s(106                                     ),n=s(227                                 ),i=s(224                                            ),l=s(228          );class r extends t.Component{constructor(){super(...arguments),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){const e=this.props.modalShown.data;return t.createElement(n.Modal,Object.assign({size:"small",title:"Unable to Leave Document",className:l.modal},this.props),t.createElement("div",null,e.message),t.createElement("div",{className:l.buttonRow},t.createElement(i.ButtonPrimary,{className:l.confirmButton,onClick:this.hideModal},"Ok")))}}a.LeaveUnsavedDocumentModal=r,r.displayName="LeaveUnsavedDocumentModal"}),
(function(n,o,s){n.exports={admin:"suspension_modal--admin--1qNJf",contactText:"suspension_modal--contactText--7PHIb",memberText:"suspension_modal--memberText--7wsOs",bold:"suspension_modal--bold--1NDf-",loadingContainer:"suspension_modal--loadingContainer--1w3Rb"}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(3,1    ),a=t(851                      ),i=t(111                        ),n=t(354                            ),o=t(227                                 ),l=t(178                                        ),c=t(1328                    );class m extends r.PureComponent{constructor(){super(...arguments),this._render=(()=>{if(i.canAdminOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to ",r.createElement("b",{className:c.bold},"invoices@figma.com")," to resolve the issue."),r.createElement("p",null,"Thank you!"));if(!i.canMemberOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to your Organization admin(s) to resolve this billing issue."),r.createElement("p",null,"Thank you!"));const e=a.getContactableAdmins(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.currentOrgId]);return r.createElement("div",null,r.createElement("div",{className:c.memberText},"Please reach out to your Organization admin(s) to resolve this billing issue. Thank you!"),this.props.permissionsState.orgUsersByOrgId.isFetching?r.createElement("div",{className:c.loadingContainer},r.createElement(l.LoadingSpinner,null)):r.createElement("div",{className:c.admin},e.map(e=>r.createElement(n.AvatarWithHandle,{key:e.id,size:24,entity:e.user,includeUserEmailAddress:!0}))))})}render(){return r.createElement(o.Modal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,size:434,title:"You no longer have access to your Organization"},this._render())}}s.OrgSuspensionModal=m,m.displayName="OrgSuspensionModal"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),a=s(129                                ),l=s(106                                     ),r=s(227                                 ),i=s(224                                            ),n=s(174                        ),c=s(221                                    ),p=s(228                              ),m=s(336                     ),d=s(95                        ),h=s(337                           );class u extends o.PureComponent{constructor(){super(...arguments),this.onClickClose=u.onClickCloseFn(this)}render(){const{team:e,children:t}=this.props;let s=m.modal;return this.props.className&&(s+=` ${this.props.className}`),o.createElement(c.TrackingContext,{name:this.props.name,properties:{teamId:e.id}},o.createElement(r.Modal,{className:s,size:"medium",dispatch:this.props.dispatch},o.createElement("div",{className:m.modalBar},o.createElement(n.Svg,{className:m.modalCloseX,svg:h,onClick:this.onClickClose})),t,this.props.buttons&&o.createElement("div",{className:`${p.buttonRow} ${m.buttonRow}`},this.props.buttons)))}}t.TeamModal=u,u.displayName="TeamModal",u.closeModalFn=function(e){return()=>{e.props.dispatch(l.fileBrowser.popModalStack())}},u.onClickCloseFn=function(e){const t=u.closeModalFn(e);return e=>{e.preventDefault(),t()}};class f extends o.PureComponent{constructor(){super(...arguments),this.closeModal=u.closeModalFn(this),this.onClickClose=u.onClickCloseFn(this),this.onClickUpgrade=(e=>{e.preventDefault(),this.closeModal(),this.props.dispatch(a.payment.startProUpgradeFlow({teamId:this.props.team.id,selectedView:this.props.selectedView}))}),this.renderButtons=(()=>o.createElement(i.ButtonWhiteTracked,{onClick:this.onClickClose,trackingProperties:{teamId:this.props.team.id}},"Got It"))}render(){const{team:e,state:t}=this.props,s=e.editors>d.MAX_FREE_EDITORS,a=e.projects>d.MAX_FREE_FOLDERS,l=Object.keys(t.folders).filter(e=>t.folders[e].is_view_only).map(e=>t.folders[e]),r=Object.keys(t.folders).filter(e=>t.folders[e].is_invite_only).map(e=>t.folders[e]);return o.createElement(u,{className:m.lockedTeamUsageModal,name:f.displayName,team:e,dispatch:this.props.dispatch,buttons:this.renderButtons()},o.createElement("h3",null,"Please lower your usage of the following:"),o.createElement("ul",null,s&&o.createElement("li",null,"Remove editors from ",e.editors," editors → ",d.MAX_FREE_EDITORS," editors"),a&&o.createElement("li",null,"Remove projects from ",e.projects," projects → ",d.MAX_FREE_FOLDERS," projects"),l.length>0&&o.createElement("li",null,'Remove "view-only" permissions from all projects'),r.length>0&&o.createElement("li",null,'Remove "invite-only" permissions from the all projects')),o.createElement("p",null,"If you would rather keep the current limits, ",o.createElement(i.LinkInlineTracked,{onClick:this.onClickUpgrade},"upgrade to Professional"),"."))}}t.LockedTeamUsageModal=f,f.displayName="LockedTeamUsageModal"}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=s(3,1    ),n=s(87                      ),t=s(227                                 ),i=s(228                              );class a extends o.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.onConfirmTransfer(!0)})}render(){let e;return this.props.resourceType===n.ResourceType.FOLDER&&(e="This will also transfer ownership of all files in this project."),o.createElement(t.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Transfer ownership",size:400,confirmText:"Transfer ownership",onConfirm:this.onConfirm},this.props),o.createElement("div",{className:i.modalContent},o.createElement("span",{className:i.important},"Are you sure you want to make ",this.props.newOwnerName," the owner of ",this.props.resourceName,"? "),e,e&&o.createElement("div",null,o.createElement("br",null)),"You can't undo this action."))}}r.ConfirmTransferOwnershipModal=a,a.displayName="ConfirmTransferOwnershipModal"}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=r(3,1    ),t=r(87                      ),a=r(227                                 ),i=r(107                             ),n=r(208        );class l extends s.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.onConfirmRemove(),this.props.dispatch(i.role.del({role:this.props.roleToRemove,userInitiated:!0}))})}render(){let e,o,r=this.props.roleToRemove,i=r.user;switch(r.resource_type){case t.ResourceType.FILE:{let s=this.props.fileByKey[r.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${s.name}?\n          You may not be able to access this file anymore.`,o="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access this file anymore.`,o="Remove");break}case t.ResourceType.FOLDER:{let s=this.props.folders[r.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${s.name}?\n          You may not be able to access files in this project anymore.`,o="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access files in this project anymore.`,o="Remove");break}default:n.assertNever(r.resource_type)}return s.createElement(a.ConfirmationModal,Object.assign({content:e,confirmText:o,onConfirm:this.onConfirm},this.props))}}o.ConfirmRemoveRoleModal=l,l.displayName="ConfirmRemoveRoleModal"}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(3,1    ),n=i(227                                 ),o=i(228                              );class a extends t.Component{render(){return t.createElement(n.ConfirmationModal,Object.assign({size:400,confirmText:"Continue"},this.props),t.createElement("div",{className:o.modalContent},"Are you sure you want to change the public link access of this file? You'll no longer be able to edit this file or change this back."))}}s.ConfirmReduceLinkAccessAndLoseEditRights=a,a.displayName="ConfirmReduceLinkAccessAndLoseEditRights"}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=s(3,1    ),t=s(227                                 ),o=s(627                                              ),i=s(164         ),n=s(228                              ),l=s(635                                                );class m extends r.PureComponent{render(){return r.createElement(t.ConfirmationModal,{confirmationTitle:"Are you sure?",confirmText:"Share",disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onCancel:this.props.onCancel,onConfirm:this.props.onConfirm,popStack:this.props.popStack,size:400},r.createElement("div",{className:n.modalContent},r.createElement(r.Fragment,null,"You are sharing to"," ",r.createElement(o.JoinNaturally,{className:l.orgGuestEmails},this.props.emails)," ","who ",i.getPluralOrSingular(this.props.emails.length,"is","are")," external to your Organization. ",r.createElement("a",{className:l.orgGuestLink,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/360039960434"},"Learn more"))))}}a.ConfirmOrgGuestInviteModal=m,m.displayName="ConfirmOrgGuestInviteModal"}),
(function(e,a,n){e.exports={expandingTextarea:"expanding_textarea--expandingTextarea--1OAyB"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(3,1    ),r=s(7,1        ),o=s(172              ),i=s(212      ),n=s(222                                      ),p=s(596                                                                            ),h=s(1335                      );class l extends o.Component{constructor(){super(...arguments),this.ref=(e=>{e&&!this.textarea&&(this.textarea=r.findDOMNode(e),this.resizeTextareaToFitValue(this.textarea.value),this.props.selectOnMount&&(this.textarea.select(),this.textarea.setSelectionRange(this.textarea.value.length,this.textarea.value.length)))}),this.resizeTextareaToFitValue=(e=>{let t=this.textarea.cloneNode(!0);this.textarea.parentElement.appendChild(t),t.setAttribute("style","height: 0px"),t.value=e;const s=Math.max(t.scrollHeight,this.props.minHeight||0);this.textarea.setAttribute("style",`height: ${s}px`),t.remove()}),this.onKeyDown=o.keyboardEvent(this,"keydown",e=>{this.props.submit&&e.keyCode===i.Key.ENTER&&(e.ctrlKey||e.metaKey||e.altKey)&&(e.stopPropagation(),e.preventDefault(),this.textarea.blur()),this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===i.Key.ESCAPE&&this.textarea.blur()}),this.onKeyUp=o.keyboardEvent(this,"keyup",e=>{if(!this.props.onKeyUp)return o.SKIP_RECORDING;this.props.onKeyUp(e)}),this.onBlur=o.focusEvent(this,"blur",e=>{this.props.submit&&this.props.submit(this.textarea.value),this.props.onBlur&&this.props.onBlur(e)})}componentDidUpdate(e){super.componentDidUpdate(e,{}),e.value!==this.props.value&&this.resizeTextareaToFitValue(this.props.value)}focus(){this.textarea&&this.textarea.focus()}render(){return a.createElement(n.LazyInput,{type:"textarea",ref:this.ref,className:`${h.expandingTextarea} ${p.textAreaInput} ${p.border} ${this.props.className||""}`,placeholder:this.props.placeholder,value:this.props.value,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onMouseDown:e=>{e.stopPropagation()},onChange:this.props.onChange,delay:this.props.delay,recordingKey:o.joinKeys(this.props,"input"),maxLength:this.props.maxLength})}}t.ExpandingTextarea=l,l.displayName="ExpandingTextarea"}),
(function(o,n,d){o.exports={modalBody:"downgrade_survey_modal--modalBody--dKT6u",option:"downgrade_survey_modal--option--1RW2b",optionButton:"downgrade_survey_modal--optionButton--1Q07L",optionText:"downgrade_survey_modal--optionText--3lvZ7",optionExplanation:"downgrade_survey_modal--optionExplanation--2e3eS",optionExplanationHolder:"downgrade_survey_modal--optionExplanationHolder--18nBu",extra:"downgrade_survey_modal--extra--3C_x3"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(3,1    ),a=o(106                                     ),s=o(227                                 ),i=o(224                                            ),r=o(1336                                ),l=o(122        ),c=o(126          ),p=o(1337                                                                            ),h=o(228                              );class m extends n.PureComponent{constructor(e){super(e),this.onSubmit=(()=>{c.segment&&c.segment.track("Team Downgrade Survey",{teamId:this.props.selectedView.teamId,reason:this.state.checkedOption&&this.state.options[this.state.checkedOption].userText,explanation:this.state.explanation}),this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onOptionClick=(e=>{e!==this.state.checkedOption&&this.setState({disableContinue:!1,checkedOption:e,explanation:""})}),this.onChangeExplanation=(e=>{this.setState({explanation:e.target.value})}),this.onHelpClick=(()=>{c.segment&&c.segment.track("Team Downgrade Help Center Click",{})}),this.onSupportClick=(()=>{c.segment&&c.segment.track("Team Downgrade Support Click",{})});let t=[{userText:"Too expensive",moreInfoText:null},{userText:"We only wanted to trial the product",moreInfoText:null},{userText:"Our project is over",moreInfoText:null},{userText:"We found a better solution for our needs",moreInfoText:"What did you switch to? What could we be doing better?"},{userText:"We are having technical issues with Figma",moreInfoText:"Tell us more?",extra:n.createElement("div",{className:p.extra},"You can also ",n.createElement(i.Link,{href:"https://help.figma.com",target:"_blank",onClick:this.onHelpClick},"try looking in our help center")," or ",n.createElement(i.Link,{href:"/contact",target:"_blank",onClick:this.onSupportClick},"get in contact with support"))},{userText:"We are consolidating and joining another team",moreInfoText:null}];(t=l.shuffle(t)).push({userText:"Other",moreInfoText:"Tell us more?"}),this.state={disableContinue:!0,checkedOption:null,options:t,explanation:""}}render(){const e=[];for(let t=0;t<this.state.options.length;t++){const o=this.state.options[t];e.push(n.createElement(d,{key:t,idx:t,userText:o.userText,moreInfoText:o.moreInfoText,checked:t===this.state.checkedOption,onClick:this.onOptionClick,explanation:this.state.explanation,onChange:this.onChangeExplanation,extra:o.extra}))}return n.createElement(s.Modal,Object.assign({title:"Before you go, please let us know why you are leaving",fixedTop:!0},this.props),n.createElement("div",{className:p.modalBody},e,n.createElement("div",{className:h.buttonRow},n.createElement(i.ButtonSecondary,{className:h.cancelLink,type:"button",onClick:this.onCancel},this.props.cancelText),n.createElement(i.ButtonPrimary,{type:"button",disabled:this.state.disableContinue,className:h.confirmButton,onClick:this.onSubmit,autoFocus:!1},"Continue Cancellation"))))}}t.DowngradeSurveyModalComponent=m,m.displayName="DowngradeSurveyModalComponent";class d extends n.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.onClick(this.props.idx)})}render(){return n.createElement("div",{className:p.option,onClick:this.onClick},n.createElement("input",{type:"radio",name:"explanation",checked:this.props.checked,className:p.optionButton}),n.createElement("div",{className:p.optionText},this.props.userText),this.props.checked&&this.props.moreInfoText&&n.createElement("div",null,n.createElement("div",{className:p.optionExplanationHolder},n.createElement(r.ExpandingTextarea,{className:p.optionExplanation,placeholder:this.props.moreInfoText,value:this.props.explanation,onChange:this.props.onChange,selectOnMount:!0})),this.props.extra))}}d.displayName="DowngradeOption"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),o=a(137                             ),i=a(106                                     ),n=a(1338                                ),r=a(136                            ),p=a(229                                 );t.TEAM_ADMIN_DOWNGRADE_SURVEY="team-admin-downgrade-survey",t.LEAVE_TEAM_DOWNGRADE_SURVEY="leave-team-downgrade-survey",p.registerModal(t.TEAM_ADMIN_DOWNGRADE_SURVEY,e=>s.createElement(d,Object.assign({},e,{context:"admin"}))),p.registerModal(t.LEAVE_TEAM_DOWNGRADE_SURVEY,e=>s.createElement(d,Object.assign({},e,{context:"leave-team"})));class d extends s.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>{if("admin"===this.props.context)this.props.dispatch(i.fileBrowser.showModal({type:r.TEAM_ADMIN_CONFIRM_DOWNGRADE,data:{teamId:this.props.selectedView.teamId}}));else if("leave-team"===this.props.context){const e=this.props.selectedView,t=this.props.teams[e.teamId];this.props.dispatch(o.team.del({team:t,userInitiated:!0})),this.props.dispatch(i.fileBrowser.hideModal())}})}render(){const e="admin"===this.props.context?"Go Back":"Cancel, do not leave team";return s.createElement(n.DowngradeSurveyModalComponent,Object.assign({onSubmit:this.onSubmit,cancelText:e},this.props))}}d.displayName="DowngradeSurveyModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),i=a(106                                     ),o=a(137                             ),r=a(91                      ),n=a(111                        ),l=a(227                                 ),m=a(224                                            ),p=a(228                              ),c=a(1339                                                           );class d extends s.PureComponent{constructor(){super(...arguments),this.leaveTeam=(()=>{this.props.dispatch(o.team.del({team:this.team(),userInitiated:!0}))}),this.promptForSurvey=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:c.LEAVE_TEAM_DOWNGRADE_SURVEY,data:{teamId:this.team().id}}))}),this.hide=(()=>{this.props.dispatch(i.fileBrowser.popModalStack())}),this.isTeamEmpty=(()=>{for(let e in this.props.permissionsState.folders){const t=this.props.permissionsState.folders[e];if(t.team_id===this.team().id&&t.path)return!1}return!0})}team(){return this.props.permissionsState.teams[this.props.teamId]}render(){const e=this.team(),t=this.props.permissionsState.roles.byTeamId[e.id],a=Object.keys(t).map(e=>t[e]).filter(e=>!e.pending),i=a.length>1;if(n.canOwnTeam(e.id,this.props.permissionsState)&&i)return s.createElement(l.Modal,{size:"small",title:"Hold up...",dispatch:this.props.dispatch,popStack:!0},"You are currently the owner of ",e.name,". Please assign a new owner from the members list before leaving this team.",s.createElement("div",{className:p.buttonRow},s.createElement(m.ButtonPrimary,{onClick:this.hide},"Ok")));if(e.org_id&&e.org_access===r.OrgAccess.SECRET&&!this.isTeamEmpty()&&!i)return s.createElement(l.Modal,{size:"small",dispatch:this.props.dispatch,popStack:!0},"To prevent data becoming inaccessible, you can't leave a secret team when you are the last member and there are enclosed projects.",s.createElement("br",null),s.createElement("br",null),"Please change the access level, or move or delete all projects and files if you wish to leave this team.",s.createElement("div",{className:p.buttonRow},s.createElement(m.ButtonPrimary,{onClick:this.hide},"Ok")));{const t=null==e.org_id&&1===a.length&&(null!=e.subscription||null!=e.student_team_at)?this.promptForSurvey:this.leaveTeam;return s.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:"Leave team",destructive:!0,onConfirm:t,confirmText:"Leave team",tintedModalBackground:!0,popStack:!0},this.props),s.createElement("span",{className:p.important},'Are you sure you want to leave "',this.team().name,'"? '),"You will permanently lose all access to the projects and files in this team, and you cannot undo this action.")}}}t.TeamLeaveModal=d,d.displayName="TeamLeaveModal"}),
(function(i,o,a){i.exports={radioGroup:"radio--radioGroup--2fRK0",radioOption:"radio--radioOption--1NPPl",radioOptionDisabled:"radio--radioOptionDisabled--cjhgu radio--radioOption--1NPPl",icon:"radio--icon--3kaoX",iconChecked:"radio--iconChecked--1sG9i radio--icon--3kaoX",label:"radio--label--359sT",labelDisabled:"radio--labelDisabled--1EU2w radio--label--359sT"}}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=o(3,1    ),t=o(212      ),n=o(1341         );class a extends i.Component{render(){return i.createElement("div",{className:`${n.radioGroup} ${this.props.className||""}`},i.Children.map(this.props.children,(e,s)=>{var o;return(null===(o=e)||void 0===o?void 0:o.type)===r?i.cloneElement(e,{_isChecked:this.props.value===e.props.value,_onChange:this.props.onChange}):e}))}}s.RadioGroup=a,a.displayName="RadioGroup";class r extends i.PureComponent{constructor(){super(...arguments),this.documentKeyDown=(e=>{!this.props._onChange||e.keyCode!==t.Key.SPACE&&e.keyCode!==t.Key.ENTER||this.props._onChange(this.props.value)}),this.onClick=(()=>{this.props._onChange&&!this.props.disabled&&this.props._onChange(this.props.value)})}render(){let e=this.props.disabled?n.labelDisabled:n.label;return this.props.labelClassName&&(e+=` ${this.props.labelClassName}`),i.createElement("div",{className:`${this.props.disabled?n.radioOptionDisabled:n.radioOption} ${this.props.className||""}`,onClick:this.onClick},i.createElement("div",{className:this.props._isChecked?n.iconChecked:n.icon,tabIndex:this.props.disabled?-1:0,onFocus:()=>{document.addEventListener("keydown",this.documentKeyDown)},onBlur:()=>{document.removeEventListener("keydown",this.documentKeyDown)}}),i.createElement("div",{className:e},this.props.children))}}s.RadioOption=r,r.displayName="RadioOption"}),
(function(n,o,e){n.exports={page:"configure_sso--page--3Ubsw",section:"configure_sso--section--3-UTi",header:"configure_sso--header--3hpBx",sectionHeader:"configure_sso--sectionHeader--1dZK0",sectionInstruction:"configure_sso--sectionInstruction--37SqD",sectionInstructionMarginTop:"configure_sso--sectionInstructionMarginTop--1hjwd configure_sso--sectionInstruction--37SqD",important:"configure_sso--important--3YppM modal--important--1ZRxD",blueLink:"configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",copyTenantId:"configure_sso--copyTenantId--2soOz configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",configureButton:"configure_sso--configureButton--3RDAb",token:"configure_sso--token--uG4WN",table:"configure_sso--table--3dh78"}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(3,1    ),i=o(310                                        ),s=o(178                                        ),a=o(130                                              ),r=o(134                             ),l=o(1140                                 ),c=o(106                                     ),p=o(90                     ),m=o(611                 ),d=o(224                                            ),h=o(1342                                      ),g=o(627                                              ),u=o(136                            ),S=o(670                                                           ),f=o(1130                                                                 ),C=o(876                                  ),_=o(119              ),E=o(174                        ),M=o(1343                 ),I=o(337                           );class k extends n.PureComponent{constructor(){super(...arguments),this.onClickBack=(()=>{this.props.dispatch(c.fileBrowser.selectView(history.state&&history.state.previousSelectedView||{view:"recentFiles"})),this.props.dispatch(r.orgs.selectAdminView({view:"general"})),this.props.dispatch(c.fileBrowser.showModal({type:u.ORG_DASHBOARD_MODAL}))})}render(){const e=this.props.orgById[this.props.currentOrgId],t=n.createElement(E.Svg,{svg:I,onClick:this.onClickBack});return this.props.orgSamlConfig.config&&0!=this.props.orgDomains.domains.length?n.createElement("div",null,n.createElement(S.FullWidthPageContent,{menu:t},n.createElement("div",{className:M.page},n.createElement("div",{className:M.section},n.createElement("h1",{className:M.header},"Configure Authentication, SAML SSO and SCIM Provisioning")),n.createElement(v,{dispatch:this.props.dispatch,org:e,orgSamlConfig:this.props.orgSamlConfig.config}),n.createElement(b,{dispatch:this.props.dispatch,org:e,orgDomains:this.props.orgDomains.domains,orgSamlConfig:this.props.orgSamlConfig.config}),n.createElement(w,{dispatch:this.props.dispatch,orgSamlConfig:this.props.orgSamlConfig.config})))):n.createElement(s.LoadingSpinner,null)}}t.ConfigureSSOPage=k,k.displayName="ConfigureSSOPage";class v extends n.PureComponent{constructor(){super(...arguments),this.confirmSignInMethod=(e=>{const t=this.props.org,o=m.getSignInMethod(t);e!==o&&(e===p.SignInMethod.ANY?this.changeSignInMethod(e):this.props.dispatch(c.fileBrowser.showModal({type:u.REQUIRE_SSO_MODAL,data:{signInMethod:e,onConfirm:()=>{this.props.dispatch(c.fileBrowser.hideModal()),this.changeSignInMethod(e)},onCancel:()=>{this.props.dispatch(c.fileBrowser.hideModal())}}})))}),this.changeSignInMethod=(e=>{const t=m.getSignInMethod(this.props.org);e===p.SignInMethod.GOOGLE?this.props.dispatch(l.setGoogleSSO({orgId:this.props.org.id,googleSsoOnly:!0})):e===p.SignInMethod.SAML?this.props.dispatch(l.setSamlSSO({orgId:this.props.org.id,samlSsoOnly:!0})):t===p.SignInMethod.GOOGLE?this.props.dispatch(l.setGoogleSSO({orgId:this.props.org.id,googleSsoOnly:!1})):this.props.dispatch(l.setSamlSSO({orgId:this.props.org.id,samlSsoOnly:!1}))})}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}renderSignInMethod(){const e=m.getSignInMethod(this.props.org);return n.createElement(h.RadioGroup,{value:e,onChange:this.confirmSignInMethod},n.createElement(h.RadioOption,{value:p.SignInMethod.ANY},"Members may log in with any available method, including email and password (default)"),n.createElement(h.RadioOption,{value:p.SignInMethod.GOOGLE},"Members ",n.createElement("span",{className:M.important},"must")," log in with a Google account"),n.createElement(h.RadioOption,{value:p.SignInMethod.SAML,disabled:!this.isSamlConfigured()},"Members ",n.createElement("span",{className:M.important},"must")," sign in with SAML SSO (configure below)"))}render(){return n.createElement("div",{className:M.section},n.createElement("h2",{className:M.sectionHeader},"Authentication"),this.renderSignInMethod())}}t.SignInMethodSection=v,v.displayName="SignInMethodSection";class y extends n.PureComponent{renderLogoutModal(e){return n.createElement(f.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Change Log In",title:"Change Log In",size:"small",checkboxText:n.createElement("div",null,"I understand that members ",n.createElement("span",{className:M.important},"must")," log in with ",e," after confirming.")})}render(){return this.props.signInMethod===p.SignInMethod.GOOGLE?this.renderLogoutModal("Google"):this.props.signInMethod===p.SignInMethod.SAML?this.renderLogoutModal("SAML SSO"):void 0}}t.RequireSSOModal=y,y.displayName="RequireSSOModal";class b extends n.PureComponent{constructor(){super(...arguments),this.onClickConfigureSAML=(()=>{this.props.dispatch(c.fileBrowser.showModal({type:u.CONFIGURE_SAML_MODAL}))})}copyToClipboard(e,t){_.copyText(e).then(()=>{this.props.dispatch(a.visualBell.enqueue({type:t,message:"Copied!",timeout:5e3}))})}renderDomains(){const e=this.props.orgDomains.map(e=>e.domain);return n.createElement("p",{className:M.sectionInstruction},"SAML SSO users ",n.createElement("span",{className:M.important},"must")," have an email domain matching ",n.createElement(g.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:n.createElement("span",null," or ")},e.map(e=>n.createElement("span",{key:e,className:M.important},e))),". If you would like to add another domain, please ",n.createElement("a",{className:M.blueLink,href:"mailto:support@figma.com"},"contact support"),".")}renderSPSettings(){const e=this.props.orgSamlConfig,t=document.queryCommandSupported("copy")&&e&&n.createElement("a",{className:M.copyTenantId,onClick:()=>this.copyToClipboard(e.id,"saml_tenant_id_copied_to_clipboard")},"Copy"),o=[{rowName:"Tenant ID",value:e.id,action:t},{rowName:"SP Entity ID",value:e.sp_entity_id},{rowName:"SP ACS URL",value:e.sp_acs_target_url}];return n.createElement("table",{className:M.table},n.createElement("tbody",null,o.map(e=>n.createElement("tr",{key:`row-${e.rowName}`},n.createElement("th",null,e.rowName),n.createElement("td",null,e.value||"Not configured",e.action)))))}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}renderConfigureIdp(){if(m.getSignInMethod(this.props.org)!=p.SignInMethod.SAML)return n.createElement(d.ButtonPrimary,{className:M.configureButton,onClick:this.onClickConfigureSAML},this.isSamlConfigured()?"Edit configuration":"Configure SAML")}renderIdpSettings(){const e=this.props.orgSamlConfig.idp_name,t=[{rowName:"IdP",value:e&&{okta:"Okta",azure:"Azure",onelogin:"OneLogin",other:"Other"}[e]||e},{rowName:"IdP Entity ID",value:this.props.orgSamlConfig.idp_entity_id},{rowName:"IdP SSO URL",value:this.props.orgSamlConfig.idp_sso_target_url}];return n.createElement("div",null,n.createElement("p",{className:M.sectionInstructionMarginTop},"Your configuration details are:"),n.createElement("table",{className:M.table},n.createElement("tbody",null,t.map(e=>n.createElement("tr",{key:`row-${e.rowName}`},n.createElement("th",null,e.rowName),n.createElement("td",null,e.value||"Not configured",e.action))))))}render(){return n.createElement("div",{className:M.section},n.createElement("h2",{className:M.sectionHeader},"SAML SSO"),n.createElement("p",{className:M.sectionInstruction}," SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information, view ",n.createElement("a",{className:M.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532333",target:"_blank"},"this help article"),". "),n.createElement("div",null,this.renderDomains(),this.renderSPSettings(),this.renderIdpSettings(),this.renderConfigureIdp()))}}t.SamlConfigSection=b,b.displayName="SamlConfigSection";class N extends n.PureComponent{copyTokenToClipboard(e){_.copyText(e).then(()=>{this.props.dispatch(a.visualBell.enqueue({type:"scim_api_token_copied_to_clipboard",message:"Copied!",timeout:5e3}))})}render(){const e=e=>document.queryCommandSupported("copy")&&n.createElement(d.Link,{className:M.blueLink,onClick:this.copyTokenToClipboard.bind(this,e)},"Copy");return this.props.provisioningApiToken?n.createElement(f.CheckboxConfirmModal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Close",title:"Your provisioning API Token",hideCancelButton:!0,checkboxText:n.createElement("div",null,"I understand that this is the ",n.createElement("span",{className:M.important},"only time I will see")," this token, and I have copied it to a safe place. ")},n.createElement("div",{className:M.token},n.createElement("span",null,this.props.provisioningApiToken),e(this.props.provisioningApiToken))):n.createElement(f.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Revoke Access",title:"Revoke Token Access",size:"small",checkboxText:n.createElement("div",null,"I understand that any API requests made using the API token ",n.createElement("span",{className:M.important},"will be denied"),". ")})}}t.ProvisioningApiTokenModal=N,N.displayName="ProvisioningApiTokenModal";class w extends n.PureComponent{constructor(){super(...arguments),this.generateTokenMethod=(()=>{this.props.dispatch(i.orgSamlConfig.generateToken({orgSamlConfigId:this.props.orgSamlConfig.id}))}),this.revokeTokenMethod=(()=>{this.props.dispatch(i.orgSamlConfig.revokeToken({orgSamlConfigId:this.props.orgSamlConfig.id}))}),this.confirmRevokeTokenMethod=(()=>{this.props.dispatch(c.fileBrowser.showModal({type:u.PROVISIONING_API_TOKEN_MODAL,data:{onConfirm:()=>{this.props.dispatch(c.fileBrowser.hideModal()),this.revokeTokenMethod()},onCancel:()=>{this.props.dispatch(c.fileBrowser.hideModal())}}}))})}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}renderTable(){const e=this.props.orgSamlConfig.sp_scim_bearer_token_at;return n.createElement("table",{className:M.table},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,"API Token"),e&&n.createElement("td",null,"Generated ",n.createElement(C.FromNow,{date:e})),n.createElement("td",null,!this.isSamlConfigured()&&"SAML SSO must be configured",this.isSamlConfigured()&&e&&n.createElement(d.Link,{onClick:this.confirmRevokeTokenMethod,className:M.blueLink},"Revoke Token Access..."),this.isSamlConfigured()&&!e&&n.createElement(d.Link,{onClick:this.generateTokenMethod,className:M.blueLink},"Generate API Token")))))}render(){return n.createElement("div",{className:M.section},n.createElement("h2",{className:M.sectionHeader},"SCIM Provisioning"),n.createElement("p",{className:M.sectionInstruction}," SCIM allows you to automatically update, provision, and deprovision users. For more information, view ",n.createElement("a",{className:M.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532353",target:"_blank"},"this help article"),". "),this.renderTable())}}t.ScimProvisioningSection=w,w.displayName="ScimProvisioningSection"}),
(function(n,o,i){n.exports={container:"configure_saml--container--3e-jr",section:"configure_saml--section--22spN",lastSection:"configure_saml--lastSection--1hEi5",h2:"configure_saml--h2--7iHV8",blueLink:"configure_saml--blueLink--Dr4Wu blue_link--blueLink--22X56",error:"configure_saml--error--fNjfo",idpMetadataUrlInput:"configure_saml--idpMetadataUrlInput--1cFs4",important:"configure_saml--important--FTIwk",idpMetadataUrl:"configure_saml--idpMetadataUrl--2YA_g",buttonBox:"configure_saml--buttonBox--1UQP2",checkboxConfirmButtonBox:"configure_saml--checkboxConfirmButtonBox--aAi63",spinnerContainer:"configure_saml--spinnerContainer--1g7V4"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(3,1    ),s=a(124     ),n=a(212      ),o=a(310                                        ),r=a(106                                     ),l=a(224                                            ),d=a(1342                                      ),c=a(363                                              ),p=a(1130                                                                 ),m=a(136                            ),h=a(1345                  ),u=a(178                                        );class _ extends i.PureComponent{constructor(e){super(e),this.onIdpNameChange=(e=>{this.setState({idp_name:e})}),this.onIdpMetadataUrlChange=(e=>{this.setState({idp_metadata_url:e.currentTarget.value})}),this.onIdpSSOEntityIDChange=(e=>{this.setState({idp_entity_id:e.currentTarget.value})}),this.onIdpSSOTargetURLChange=(e=>{this.setState({idp_sso_target_url:e.currentTarget.value})}),this.onCertificateChange=(e=>{const t=e.target.files?e.target.files[0]:null;this.setState({certificate:t})}),this.onCancel=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onConfirm=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:m.CONFIGURE_SAML_CONFIRMATION_MODAL,data:{certificate:this.state.certificate,idp_entity_id:this.state.idp_entity_id,idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url,idp_sso_target_url:this.state.idp_sso_target_url}}))}),this.onKeyDown=(e=>{e.keyCode===n.Key.ENTER&&(e.preventDefault(),this.onConfirm())}),this.state={certificate:null,idp_entity_id:"",idp_metadata_url:e.idp_metadata_url||"",idp_name:e.idp_name||"okta",idp_sso_target_url:""}}render(){let e;e="other"===this.state.idp_name?!this.state.idp_sso_target_url||!this.state.certificate||!this.state.idp_entity_id:!this.state.idp_metadata_url;const t=([{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].find(e=>e.value===this.state.idp_name)||{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"}).placeholder;return i.createElement(c.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel},i.createElement("div",{className:h.container},i.createElement("div",null,"SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information on where to find this information, view ",i.createElement("a",{className:h.blueLink,href:"https://help.figma.com/hc/en-us/articles/360040532333",target:"_blank",rel:"noopener"},"this help article"),"."),i.createElement("div",null,i.createElement("div",{className:h.h2},"Identity Provider (IdP)"),i.createElement(d.RadioGroup,{value:this.state.idp_name,onChange:this.onIdpNameChange},[{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].map(e=>i.createElement(d.RadioOption,{key:e.value,value:e.value},e.text)))),i.createElement("div",{className:h.section},"other"===this.state.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:h.h2},"IdP Entity ID"),i.createElement(l.TextInput,{type:"url",className:h.idpMetadataUrlInput,placeholder:"https://idp.com/saml/metadata/abc123",onChange:this.onIdpSSOEntityIDChange,value:this.state.idp_entity_id,onKeyDown:this.onKeyDown}),i.createElement("div",{className:h.h2},"IdP SSO Target URL"),i.createElement(l.TextInput,{type:"url",className:h.idpMetadataUrlInput,placeholder:"https://sso.idp.com/abc123/saml2",onChange:this.onIdpSSOTargetURLChange,value:this.state.idp_sso_target_url,onKeyDown:this.onKeyDown}),i.createElement("div",{className:h.h2},"Signing Certificate"),i.createElement("input",{type:"file",onChange:this.onCertificateChange})),"other"!==this.state.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:h.h2},"IdP Metadata URL"),i.createElement(l.TextInput,{type:"url",className:h.idpMetadataUrlInput,placeholder:`Eg: ${t}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown}))),this.props.error&&i.createElement("div",{className:h.section},i.createElement("div",{className:h.error},this.props.error)),i.createElement("div",{className:h.buttonBox},i.createElement(l.ButtonSecondary,{onClick:this.onCancel},"Cancel"),i.createElement(l.ButtonPrimary,{disabled:e,onClick:this.onConfirm},"Review"))))}}t.ConfigureSAMLModal=_,_.displayName="ConfigureSAMLModal";t.ConfigureSAMLConfirmationModal=class extends i.PureComponent{constructor(e){super(e),this.onEdit=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:m.CONFIGURE_SAML_MODAL,data:{idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url}}))}),this.onCancel=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.updateSAMLConfig=(e=>{s.default.post("/api/org_saml_config",{certificate:e,idp_entity_id:this.props.idp_entity_id,idp_name:this.props.idp_name,metadata_url:this.props.idp_metadata_url,org_id:this.props.currentOrgId,sso_target_url:this.props.idp_sso_target_url}).then(e=>{this.setState({busy:!1}),this.props.dispatch(o.orgSamlConfig.set({orgSamlConfig:e.data.meta})),this.props.dispatch(r.fileBrowser.hideModal())}).catch(e=>{this.setState({busy:!1}),this.props.dispatch(r.fileBrowser.showModal({type:m.CONFIGURE_SAML_MODAL,data:{idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url,error:e.data&&e.data.message||"An error occurred while configuring SAML SSO."}}))})}),this.onConfirm=(()=>{if(this.setState({busy:!0}),"other"===this.props.idp_name){const e=new FileReader;e.addEventListener("load",()=>{this.updateSAMLConfig(e.result)}),e.readAsText(this.props.certificate)}else this.updateSAMLConfig(null)}),this.state={busy:!1}}render(){const e=[{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:"Other",placeholder:""}].reduce((e,t)=>(e[t.value]=t.text,e),{});return i.createElement(c.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel,disableClickOutsideToHide:this.state.busy,isCloseHidden:this.state.busy},i.createElement("div",{className:h.container},i.createElement("div",{className:h.section},"Please review the information you entered. This is the ",i.createElement("span",{className:h.important},"only time")," you will be able to make changes without contacting customer support."),i.createElement("div",null,i.createElement("div",{className:h.h2},"Identity Provider (IdP)"),i.createElement("div",null,e[this.props.idp_name])),i.createElement("div",{className:h.lastSection},"other"===this.props.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:h.h2},"IdP Entity ID"),i.createElement("div",{className:h.idpMetadataUrl},this.props.idp_entity_id),i.createElement("div",{className:h.h2},"IdP SSO Target URL"),i.createElement("div",{className:h.idpMetadataUrl},this.props.idp_sso_target_url),i.createElement("div",{className:h.h2},"Signing Certificate"),i.createElement("div",{className:h.idpMetadataUrl},this.props.certificate.name)),"other"!==this.props.idp_name&&i.createElement(i.Fragment,null,i.createElement("div",{className:h.h2},"IdP Metadata URL"),i.createElement("div",{className:h.idpMetadataUrl},this.props.idp_metadata_url))),this.state.busy&&i.createElement("div",{className:h.spinnerContainer},i.createElement(u.LoadingSpinner,null)),!this.state.busy&&i.createElement(p.CheckboxConfirmButtons,{onConfirm:this.onConfirm,onCancel:this.onEdit,confirmButtonText:"Configure SAML SSO",cancelButtonText:"Edit",className:h.checkboxConfirmButtonBox},i.createElement("div",null,"This information is correct, and I understand that I will ",i.createElement("span",{className:h.important},"not be able to make further changes")," without contacting customer support."))))}}}),
(function(o,m,t){o.exports={important:"leave_org_comfirm--important--wHIAw modal--important--1ZRxD",modalText:"leave_org_comfirm--modalText--Wb73f"}}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(3,1    ),r=t(296                                 ),s=t(227                                 ),i=t(1347                                                );class n extends o.PureComponent{constructor(){super(...arguments),this.leaveOrg=(()=>{this.props.dispatch(r.orgUser.leaveOrg({orgId:this.props.orgId,orgName:this.props.orgName}))})}render(){return o.createElement(s.ConfirmationModal,{confirmationTitle:`Leave ${this.props.orgName} Organization`,confirmText:`Leave ${this.props.orgName}`,onConfirm:this.leaveOrg,destructive:!0,tintedModalBackground:!0,dispatch:this.props.dispatch},o.createElement("div",{className:i.modalText},"You are currently a ",o.createElement("span",{className:i.important},"Guest")," at ",o.createElement("span",{className:i.important},this.props.orgName)," Organization. If you leave the organization you will lose access to all content that has been shared with you. The operation cannot be undone."))}}a.OrgLeaveModal=n,n.displayName="OrgLeaveModal"}),
(function(l,e,o){l.exports={src:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M14 26c6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12C7.373 2 2 7.373 2 14c0 6.627 5.373 12 12 12z" fill-rule="nonzero" fill-opacity="1" fill="#6fcf97" stroke="none"/><path d="M11.674 18.592l-.227.046-2.702.54-1.124.225.225-1.124.54-2.702.046-.227.163-.164 8.106-8.105c.597-.597 1.565-.597 2.162 0l1.08 1.08c.597.597.597 1.565 0 2.162l-8.105 8.106-.164.163z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M11.447 18.638l.227-.046.164-.163 6.299-6.3.54-.54 1.266-1.266c.597-.597.597-1.565 0-2.161l-1.08-1.081c-.597-.597-1.565-.597-2.162 0l-1.266 1.266-.54.54-6.3 6.3-.163.163-.046.227-.54 2.702-.225 1.124 1.124-.225 2.702-.54zm3.988-9.21l-6.3 6.299-.377 1.89-.163.812.812-.163 1.89-.378 6.3-6.299-2.162-2.161zm.54-.54l2.162 2.16 1.266-1.265c.298-.299.298-.783 0-1.081l-1.08-1.08c-.3-.3-.783-.3-1.082 0l-1.266 1.265z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 25.188c6.351 0 11.5-5.15 11.5-11.5 0-6.352-5.149-11.5-11.5-11.5-6.351 0-11.5 5.148-11.5 11.5 0 6.35 5.149 11.5 11.5 11.5z" fill-rule="nonzero" fill-opacity="1" fill="#2f80ed" stroke="none"/><path d="M9.327 15.117c.46 2.229 2.432 3.904 4.797 3.904.536 0 1.052-.086 1.535-.245l2.274 2.274 3.148-3.148-2.29-2.29c.15-.47.23-.97.23-1.488 0-2.28-1.556-4.195-3.664-4.741L7 7l2.327 8.117z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/><path d="M17.933 19.79l-1.644-1.644-.388-.388-.52.172c-.418.14-.795.204-1.257.2-1.934 0-3.55-1.37-3.925-3.192l-.007-.034-.009-.032-1.885-6.576 6.814 1.943.01.003.011.003c1.725.447 2.998 2.015 2.998 3.879.003.447-.057.812-.188 1.217l-.165.517.384.383 1.66 1.66-1.889 1.89zm-8.606-4.673c.46 2.229 2.432 3.904 4.797 3.904.536 0 1.052-.086 1.535-.245l1.645 1.644.63.63.629-.63 1.889-1.889.63-.63-.63-.63-1.66-1.66c.149-.469.23-.969.23-1.487 0-2.28-1.557-4.195-3.665-4.741L8.009 7.288 7 7l.29 1.008 2.037 7.11zM8.205 7.576L7.89 7.26l-.63.63.316.314 6.233 6.234.315.315.63-.63-.316-.315-6.233-6.233zm7.254 6.548c0 .737-.598 1.335-1.335 1.335-.738 0-1.336-.598-1.336-1.335 0-.738.598-1.336 1.336-1.336.737 0 1.335.598 1.335 1.336z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M59 32c0 14.912-12.088 27-27 27C17.088 59 5 46.912 5 32 5 17.088 17.088 5 32 5c14.912 0 27 12.088 27 27z" fill-rule="nonzero" fill-opacity="1" fill="#f2c94c" stroke="none"/><path d="M26.291 45.844l-5.338-26.688L44 33.088l-11.088 3.01-6.621 9.746z" fill-rule="nonzero" fill-opacity="1" fill="#010101" stroke="none"/><path d="M19.527 17.126l26.99 16.315-12.986 3.524-7.753 11.413-6.25-31.252zm2.852 4.06l4.425 22.123 5.489-8.08 9.19-2.494-19.104-11.548z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,v,c){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 16.5C27 22.299 22.299 27 16.5 27 10.701 27 6 22.299 6 16.5 6 10.701 10.701 6 16.5 6 22.299 6 27 10.701 27 16.5z" fill-rule="nonzero" fill-opacity="1" fill="#2c2c2c" stroke="none"/><path d="M16.486 14.092c-.032-.118-.127-.399-.371-.679-.32-.366-.891-.731-1.906-.731-2.034 0-2.482 1.469-2.482 1.469v5.999h.835c.777-.665 2.197-.633 3.026-.068.202.137.382.308.534.504.158.204.286.435.378.687.093-.252.221-.483.38-.686.152-.195.332-.365.533-.502.83-.562 2.249-.593 3.024.071H21.273v-6.005c0 0-.448-1.47-2.482-1.47-1.014 0-1.587.366-1.906.732-.244.28-.34.56-.371.679h-.028zm-.303.167h-.303l-.004.001v.003l.001.002v.004l.001.002-.004-.016c-.005-.02-.015-.053-.033-.096-.035-.087-.097-.207-.202-.328-.192-.221-.587-.516-1.43-.516-.845 0-1.305.298-1.555.548-.132.132-.216.263-.267.357l-.026.053v5.236c.5-.34 1.114-.483 1.69-.488.66-.005 1.354.17 1.894.537.082.057.162.117.238.181v-5.48zm.634 0v5.485c.077-.065.157-.126.24-.183.54-.366 1.235-.54 1.894-.534.575.006 1.188.148 1.688.488v-5.242l-.026-.053c-.05-.094-.135-.225-.267-.357-.25-.25-.71-.548-1.555-.548-.843 0-1.238.295-1.43.516-.105.12-.167.241-.202.328-.018.043-.028.077-.033.096l-.004.016v-.006l.001-.002v-.002l-.003-.002h-.303z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 6.5c-5.523 0-10 4.477-10 10 0 5.523 4.477 10 10 10 5.523 0 10-4.477 10-10 0-5.523-4.477-10-10-10zm-11 10c0-6.075 4.925-11 11-11 6.075 0 11 4.925 11 11 0 6.075-4.925 11-11 11-6.075 0-11-4.925-11-11z" fill-rule="evenodd" fill-opacity="1" fill="#2c2c2c" stroke="none"/><path d="M25.09 16.5c0 4.745-3.845 8.59-8.59 8.59-4.745 0-8.59-3.845-8.59-8.59 0-4.745 3.845-8.59 8.59-8.59 4.745 0 8.59 3.845 8.59 8.59z" fill-rule="nonzero" fill-opacity="1" fill="#2c2c2c" stroke="none"/><path d="M17.861 17.62h-2.727l-.612 1.744h-.886l2.486-6.682h.751l2.49 6.682h-.88l-.622-1.744zm-2.468-.725h2.213l-1.108-3.126-1.105 3.126z" fill-rule="nonzero" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(l,o,e){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 16.5C27 22.299 22.299 27 16.5 27 10.701 27 6 22.299 6 16.5 6 10.701 10.701 6 16.5 6 22.299 6 27 10.701 27 16.5z" fill-rule="nonzero" fill-opacity="1" fill="#2c2c2c" stroke="none"/><path d="M16.5 20c-2.676 0-5.024-1.398-6.345-3.5 1.322-2.102 3.669-3.5 6.345-3.5 2.676 0 5.023 1.398 6.345 3.5-1.322 2.102-3.669 3.5-6.345 3.5zm0-8c3.253 0 6.079 1.824 7.5 4.5-1.421 2.676-4.247 4.5-7.5 4.5-3.253 0-6.079-1.824-7.5-4.5 1.421-2.676 4.247-4.5 7.5-4.5zm0 7c1.38 0 2.5-1.12 2.5-2.5 0-1.38-1.12-2.5-2.5-2.5-1.38 0-2.5 1.12-2.5 2.5 0 1.38 1.12 2.5 2.5 2.5z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/></svg>'}}),
(function(o,t,r){o.exports={topBox:"pro_pitch_modal--topBox--1AVo7",container:"pro_pitch_modal--container--qZjJj",borderedBox:"pro_pitch_modal--borderedBox--1Mamr",leftBox:"pro_pitch_modal--leftBox--1TWnZ pro_pitch_modal--borderedBox--1Mamr",rightSide:"pro_pitch_modal--rightSide--FN710",rightSideSeparator:"pro_pitch_modal--rightSideSeparator--3itsH",rightBox:"pro_pitch_modal--rightBox--2-6l1 pro_pitch_modal--borderedBox--1Mamr",icon:"pro_pitch_modal--icon--37Wj2",boxTitle:"pro_pitch_modal--boxTitle--3Mf48",boxSubtitle:"pro_pitch_modal--boxSubtitle--1cJQB",boxDescription:"pro_pitch_modal--boxDescription--2yDAr",leftBoxDescription:"pro_pitch_modal--leftBoxDescription--3wz9c",boxCta:"pro_pitch_modal--boxCta--2EP0H",boxSpreader:"pro_pitch_modal--boxSpreader--29LPm",upgradeButton:"pro_pitch_modal--upgradeButton--2YQZT",leftBoxContent:"pro_pitch_modal--leftBoxContent--mo-ie"}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(3,1    ),s=i(129                                ),r=i(106                                     ),o=i(174                                 ),n=i(224                                                     ),c=i(1349                                       ),l=i(1350                                    ),p=i(1351                                   ),m=i(1352                                                 ),d=i(1353                                                  ),h=i(1354                                                    ),g=i(1355                   ),_=i(115                   ),u=i(363                          );class v extends a.Component{constructor(){super(...arguments),this.ctaClick=(()=>{this.props.href&&_.redirect(this.props.href,"_blank")})}render(){return a.createElement("div",{className:`${g.rightBox}`},a.createElement(o.Svg,{className:g.icon,svg:this.props.icon,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxTitle},this.props.title),a.createElement("p",{className:g.boxDescription},this.props.description),a.createElement("div",{className:g.boxSpreader}),a.createElement("div",{className:g.boxCta},a.createElement(n.ButtonSecondary,{onClick:this.ctaClick,target:"_blank",href:this.props.href,disabled:!this.props.href},this.props.buttonText)))}}class f extends a.Component{render(){return a.createElement("div",{className:g.leftBoxContent},a.createElement(o.Svg,{className:g.icon,svg:this.props.icon,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxDescription},this.props.content))}}t.ProPitchModal=class extends a.Component{constructor(){super(...arguments),this.upgrade=(()=>{this.props.dispatch(r.fileBrowser.hideModal()),this.props.dispatch(s.payment.startProUpgradeFlow({teamId:this.props.teamId,selectedView:this.props.selectedView}))}),this.onCancel=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.hideIfWindowTooSmall=(()=>{window.innerWidth<1e3&&this.props.dispatch(r.fileBrowser.hideModal())})}componentDidMount(){window.addEventListener("resize",this.hideIfWindowTooSmall)}componentWillUnmount(){window.removeEventListener("resize",this.hideIfWindowTooSmall)}render(){return window.innerWidth<1e3?a.createElement("div",null):a.createElement(u.HeaderModal,{title:"Upgrade Team",onClose:this.onCancel,maxWidth:868},a.createElement("div",{className:g.topBox},a.createElement("div",{className:`${g.container} ${g.leftBox}`},a.createElement(o.Svg,{className:g.icon,svg:p,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxTitle},"Professional"),a.createElement("p",{className:g.boxSubtitle},"Starting at $12/editor/month"),a.createElement(f,{icon:m,content:"Build out a full design system with unlimited shared components using Team Library"}),a.createElement(f,{icon:d,content:"Collaborate across your entire organization with unlimited editors"}),a.createElement(f,{icon:h,content:"Get unlimited version history, projects and advanced project permissions"}),a.createElement("div",{className:g.boxSpreader}),a.createElement("div",{className:g.boxCta},a.createElement(n.ButtonGreen,{onClick:this.upgrade},a.createElement("div",{className:g.upgradeButton},"Upgrade")))),a.createElement("div",{className:`${g.rightSide} ${g.container}`},a.createElement(v,{teamId:this.props.teamId,icon:c,title:"Starter",description:"Collaborate on up to three projects with no more than two editors",buttonText:"Current Plan"}),a.createElement("div",{className:g.rightSideSeparator}),a.createElement(v,{teamId:this.props.teamId,icon:l,title:"Organization",description:"Connect multiple files, projects, libraries and teams securely across an entire organization",buttonText:"Learn More",href:"/organization"}))))}}}),
(function(n,t,i){"use strict";var e=this&&this.__awaiter||function(n,t,i,e){return new(i||(i=Promise))(function(o,c){function a(n){try{r(e.next(n))}catch(t){c(t)}}function u(n){try{r(e.throw(n))}catch(t){c(t)}}function r(n){var t;n.done?o(n.value):(t=n.value,t instanceof i?t:new i(function(n){n(t)})).then(a,u)}r((e=e.apply(n,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i(124     ),c=i(105                               );t.viewPlugin=c.asyncActionCreator("VIEW_PLUGIN",(n,{pluginId:t})=>e(void 0,void 0,void 0,function*(){o.default.post(`/api/plugins/${t}/view`,{pluginId:t})}))}),
(function(t,e,o){t.exports={container:"button_split--container--14Ttp",disabledContainer:"button_split--disabledContainer--u4e-P",splitButtonDropdown:"button_split--splitButtonDropdown--3-Htc",_buttonBase:"button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_negativeButtonBase:"button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",_deselectButtonBase:"button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_deselectActiveButtonBase:"button_split--_deselectActiveButtonBase--129kt button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_ctaButtonBase:"button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",ctaButton:"button_split--ctaButton--HO2Lg button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",ctaButtonSelected:"button_split--ctaButtonSelected--MRb_X button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",ctaButtonDeselect:"button_split--ctaButtonDeselect--1R5MB button_split--_ctaButtonBase--1f36L button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",_caretButtonBase:"button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButton:"button_split--caretButton--1dSH- button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButtonSelected:"button_split--caretButtonSelected--9RMDl button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_negativeButtonBase--3OFod button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",caretButtonDeselect:"button_split--caretButtonDeselect--tJS0I button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectButtonBase--3nh2e button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButtonDeselectActive:"button_split--caretButtonDeselectActive--1qVVD button_split--_caretButtonBase--2576E button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0 button_split--_deselectActiveButtonBase--129kt button_split--_buttonBase--xO1B_ text--fontPos14--3UJ36 text--_fontBase--YWDo0",hidden:"button_split--hidden--1PKTD",caretContent:"button_split--caretContent--3XNXt"}}),
(function(l,t,e){l.exports={src:'<svg width="10" height="8" viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M5 4.94L1.53 1.47.47 2.53 5 7.06l4.53-4.53-1.06-1.06L5 4.94z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(3,1    ),n=s(174                        ),i=s(224                                            ),r=s(106                                     ),a=s(1358                ),p=s(345                                  ),c=s(221                                    ),d=p.dropdown.Dropdown,l=p.dropdown.CheckableOption,h=s(1359                                );class u extends o.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.onShowDropdown=(()=>{this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.dropdownKey}))}),this.onOptionClick=(t=>{this.props.selectedId===t?this.props.onDeselect(t):(this.props.selectedId&&this.props.onDeselect(this.props.selectedId),this.props.onSelect(t)),this.setState({shouldListenToMouseEvents:!1})}),this.renderDropdown=(()=>o.createElement(d,{className:a.splitButtonDropdown},this.props.options.map(t=>{const e=this.props.selectedId===t.id;return o.createElement(l,{key:t.id,disabled:t.disabled,onClick:this.onOptionClick.bind(this,t.id),checked:e},o.createElement("span",null,e?t.longDeselectText:t.longSelectText))}))),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0}}render(){var t;if(!this.props.options||0===this.props.options.length)return null;const e=this.props.selectedId&&this.props.options.find(t=>t.id===this.props.selectedId),s=e||this.props.options[0],r=(null===(t=this.props.dropdownShown)||void 0===t?void 0:t.type)===this.props.dropdownKey,p=this.state.isMouseOver&&this.state.shouldListenToMouseEvents;let c,d,l,u=!1;r?(u=!0,e?(l=e.shortDeselectText,c=a.ctaButtonDeselect,d=a.caretButtonDeselectActive):(l=s.shortSelectText,c=a.ctaButton,d=a.caretButtonSelected)):e?p?(c=a.ctaButtonDeselect,d=a.caretButtonDeselect,u=!0,l=e.shortDeselectText):(c=a.ctaButtonSelected,d=a.caretButtonSelected,u=!1,l=e.shortSelectedText):(l=s.shortSelectText,c=a.ctaButton,p?(d=a.caretButton,u=!0):(d=a.caretButton,u=!1));const m=this.props.options.every(t=>t.disabled),v=[a.container,m?a.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" ");return o.createElement("div",{className:v,onMouseEnter:m?void 0:this.onMouseEnter,onMouseLeave:m?void 0:this.onMouseLeave,onClick:e?this.onShowDropdown:void 0,"data-tooltip-text":this.props.tooltip,"data-tooltip-show-immediately":!0},o.createElement(i.ButtonSecondary,{className:`${c} ${this.props.ctaButtonClassName||""}`,disabled:s.disabled,onClick:e?void 0:this.onOptionClick.bind(this,s.id)},l),o.createElement(i.ButtonSecondary,{className:`${d} ${this.props.caretButtonClassName||""}`,disabled:m,onClick:e?void 0:this.onShowDropdown},o.createElement("div",{className:a.hidden},this.props.caretButtonText),o.createElement("div",{className:a.caretContent},u?o.createElement(n.Svg,{svg:h}):this.props.caretButtonText)),r&&this.renderDropdown())}}e.ButtonSplit=u,u.displayName="ButtonSplit";class m extends o.PureComponent{render(){const t=[a.container,this.props.disabled?a.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" "),e=this.props.isSelected?a.ctaButtonSelected:a.ctaButton,s=this.props.isSelected?a.caretButtonSelected:a.caretButton;return o.createElement("div",{className:t,onClick:this.props.onClick},o.createElement(i.ButtonSecondary,{className:`${e} ${this.props.ctaButtonClassName||""}`},this.props.children),o.createElement(i.ButtonSecondary,{className:`${s} ${this.props.caretButtonClassName||""}`},this.props.caretButtonText))}}e.ButtonSplitNoDropdown=m,e.ButtonSplitNoDropdownTracked=c.asTrackedClickable(m)}),
(function(t,o,n){t.exports={_buttonBase:"button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",caretButton:"button_split__OLD--caretButton--374WP",buttonBorder1px:"button_split__OLD--buttonBorder1px--1Ns3v button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",buttonBorder2px:"button_split__OLD--buttonBorder2px--2x3Wm button_split__OLD--_buttonBase--10Wi3 text--fontPos14--3UJ36 text--_fontBase--YWDo0",selectedButton:"button_split__OLD--selectedButton--1kLOf text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM",caretButtonActive:"button_split__OLD--caretButtonActive--1ZgLL text--fontNeg14--uh3vw text--_fontBase--YWDo0 text--_whiteText--2PkdM button_split__OLD--caretButton--374WP",deselectButton:"button_split__OLD--deselectButton--1DBZC",container:"button_split__OLD--container--15EMK",containerFullWidth:"button_split__OLD--containerFullWidth--29i2T button_split__OLD--container--15EMK",disabledContainer:"button_split__OLD--disabledContainer--1a2k1",splitButtonDropdown:"button_split__OLD--splitButtonDropdown--1eTDk",ctaButton:"button_split__OLD--ctaButton--N9fzk",ctaButtonSelected:"button_split__OLD--ctaButtonSelected--1Fs9t",ctaButtonFullWidth:"button_split__OLD--ctaButtonFullWidth--3L8Va"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(3,1    ),i=o(174                        ),n=o(224                                            ),r=o(106                                     ),d=o(1361                     ),p=o(345                                  ),l=p.dropdown.Dropdown,a=p.dropdown.CheckableOption,c=o(1359                                );class h extends s.PureComponent{constructor(t){super(t),this.onMouseEnter=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1,shouldListenToMouseEvents:!0})}),this.onShowDropdown=(()=>{this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.dropdownKey}))}),this.onOptionClick=(t=>{this.props.selectedId===t?this.props.onDeselect(t):(this.props.selectedId&&this.props.onDeselect(this.props.selectedId),this.props.onSelect(t)),this.setState({shouldListenToMouseEvents:!1})}),this.renderDropdown=(()=>s.createElement(l,{className:d.splitButtonDropdown},this.props.options.map(t=>{const e=this.props.selectedId===t.id;return s.createElement(a,{key:t.id,disabled:t.disabled,onClick:this.onOptionClick.bind(this,t.id),checked:e},s.createElement("span",null,e?t.longDeselectText:t.longSelectText))}))),this.state={isMouseOver:!1,shouldListenToMouseEvents:!0}}render(){if(!this.props.options||0===this.props.options.length)return null;const t=this.props.selectedId&&this.props.options.find(t=>t.id===this.props.selectedId),e=t||this.props.options[0],o=this.state.isMouseOver&&this.state.shouldListenToMouseEvents,r=this.props.border1px?d.buttonBorder1px:d.buttonBorder2px;let p=r;const l=`${r} ${d.selectedButton}`,a=`${r} ${d.deselectButton}`;let h=d.ctaButton,u=e.shortSelectText;t&&(h=d.ctaButtonSelected,o?(u=t.shortDeselectText,p=a):(u=t.shortSelectedText,p=l));const m=this.props.options.every(t=>t.disabled),v=[this.props.fullWidth?d.containerFullWidth:d.container,m?d.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" ");if(1===this.props.options.length)return s.createElement("div",{className:v,"data-tooltip-text":this.props.tooltip,"data-tooltip-show-immediately":!0},s.createElement(n.ButtonSecondary,{className:p,disabled:e.disabled,onClick:this.onOptionClick.bind(this,e.id),onMouseOver:e.disabled?void 0:this.onMouseEnter,onMouseLeave:e.disabled?void 0:this.onMouseLeave},u));const b=this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey;let w=d.caretButton;return b&&(t&&(u=t.shortDeselectText,p=a,h=d.ctaButtonSelected),w=d.caretButtonActive),this.props.fullWidth&&(h+=` ${d.ctaButtonFullWidth}`),s.createElement("div",{className:v,onMouseEnter:m?void 0:this.onMouseEnter,onMouseLeave:m?void 0:this.onMouseLeave,onClick:t?this.onShowDropdown:void 0,"data-tooltip-text":this.props.tooltip,"data-tooltip-show-immediately":!0},s.createElement(n.ButtonSecondary,{className:`${p} ${h}`,disabled:e.disabled,onClick:t?void 0:this.onOptionClick.bind(this,e.id)},u),s.createElement(n.ButtonSecondary,{className:`${p} ${w}`,disabled:m,onClick:t?void 0:this.onShowDropdown},s.createElement(i.Svg,{svg:c})),b&&this.renderDropdown())}}e.ButtonSplit__OLD=h,h.displayName="ButtonSplit";e.ButtonSplitNoDropdown__OLD=class extends s.PureComponent{render(){const t=[this.props.fullWidth?d.containerFullWidth:d.container,this.props.disabled?d.disabledContainer:"",this.props.className||""].filter(t=>!!t).join(" ");return s.createElement("div",{className:t},s.createElement(n.ButtonSecondary,{onClick:this.props.onClick,className:`${this.props.border1px?d.buttonBorder1px:d.buttonBorder2px} ${this.props.buttonClassName||""}`,disabled:this.props.disabled},this.props.children))}}}),
(function(t,n,u){t.exports={ctaButton:"plugin_install_button--ctaButton--2v_XR",caretButton:"plugin_install_button--caretButton--3A1AZ button_split--caretButton--mvcr9"}}),
(function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=i(3,1    ),n=i(44,1         ),l=i(193           ),e=i(326                             ),p=i(136                            ),r=i(106                                     ),a=i(404                                ),u=i(475                                                     ),d=i(379                                                     ),h=i(330                          ),g=i(1360                                         ),c=i(1362                                              ),_=i(213                          ),y=i(721            ),m=i(1235                                           ),b=i(1363                         );class I extends g.ButtonSplit{}class w extends c.ButtonSplit__OLD{}const P={shortSelectText:"↓ Install",shortSelectedText:e.communityHubGAEnabled()?"✓  Installed":"Installed",shortDeselectText:"Uninstall"};s.InstallButtonSplit=n.connect(t=>({installedPlugins:t.installedPlugins,whitelistedPlugins:t.whitelistedPlugins,user:t.user,orgEntity:_.getOrgPermissionEntity(t),dropdownShown:t.dropdownShown}))(class extends o.PureComponent{constructor(){super(...arguments),this.INSTALL_BUTTON_DROPDOWN="install-button-dropdown",this.showUninstallConfirmationModal=((t,s)=>{this.props.dispatch(r.fileBrowser.showModal({type:p.PLUGIN_UNINSTALL_MODAL,data:{plugin:t,orgEntity:"org"===s?this.props.orgEntity:null}}))}),this.showAuthModal=(()=>{l.isMobileBrowser?window.location.href="/login":(this.props.dispatch(a.auth.init({origin:"plugin_install_signed_out"})),this.props.dispatch(r.fileBrowser.showModal({type:y.AUTH_MODAL,data:{headerText:"Log in or create an account to install this plugin"}})))}),this.onDeselect=(t=>{if(!this.props.user)return void this.showAuthModal();const s=h.isPluginInstalledForUser(this.props.plugin.id,this.props.installedPlugins),i=h.isPluginInstalledForOrg(this.props.plugin.id,this.props.installedPlugins);"org"===t&&i&&this.props.orgEntity&&this.props.orgEntity.isAdmin?this.showUninstallConfirmationModal(this.props.plugin,t):"user"===t&&s&&this.props.dispatch(u.uninstallPlugin({pluginId:this.props.plugin.id}))}),this.onSelect=(t=>{this.props.user?(this.props.dispatch(d.mergePublishedAndValidate({publishedPlugins:[this.props.plugin],src:"installButton"})),this.props.dispatch(u.installPlugin({pluginId:this.props.plugin.id,orgId:"org"===t&&this.props.orgEntity?this.props.orgEntity.id:void 0}))):this.showAuthModal()}),this.getTooltip=(()=>{if(this.props.orgEntity)return this.props.orgEntity.publicPluginsAllowed?this.props.orgEntity.whitelistEnforced&&!this.props.whitelistedPlugins[this.props.plugin.id]?"Not allowed by your Org":!this.props.orgEntity.isAdmin&&h.isPluginInstalledForOrg(this.props.plugin.id,this.props.installedPlugins)?"Installed by your Org":void 0:"Not allowed by your Org"}),this.onInstallForUserClick=(()=>{this.props.user?(this.props.dispatch(d.mergePublishedAndValidate({publishedPlugins:[this.props.plugin],src:"installButton"})),this.props.dispatch(u.installPlugin({pluginId:this.props.plugin.id}))):this.showAuthModal()}),this.onUninstallForUserClick=(()=>{if(!this.props.user)throw new Error("Trying to uninstall a plugin as a signed out user");this.props.dispatch(u.uninstallPlugin({pluginId:this.props.plugin.id}))})}getOptions(){const t=h.isPluginInstalledForUser(this.props.plugin.id,this.props.installedPlugins);if(!this.props.orgEntity)return{options:[Object.assign(Object.assign({id:"user"},P),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!1})],selectedId:t?"user":null};const s=h.isPluginInstalledForOrg(this.props.plugin.id,this.props.installedPlugins),i=this.props.orgEntity&&!s&&h.canInstallPluginForUser(this.props.plugin,this.props.orgEntity,this.props.whitelistedPlugins);if(!this.props.orgEntity.isAdmin)return{options:[Object.assign(Object.assign({id:"user"},P),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!i})],selectedId:s||t?"user":null,tooltip:i?void 0:this.getTooltip()};const o=this.props.orgEntity&&h.canInstallPluginForOrg(this.props.plugin,this.props.orgEntity,this.props.whitelistedPlugins);return{options:[Object.assign(Object.assign({id:"user"},P),{longSelectText:"Install for you",longDeselectText:"Installed for you",disabled:!i}),Object.assign(Object.assign({id:"org"},P),{longSelectText:`Install for everyone at ${this.props.orgEntity.name}`,longDeselectText:`Installed for everyone at ${this.props.orgEntity.name}`,disabled:!o})],selectedId:s?"org":t?"user":null,tooltip:o||i?void 0:this.getTooltip()}}render(){if(!this.props.plugin||!this.props.plugin.id)return null;const{options:t,selectedId:s,tooltip:i}=this.getOptions();if(!e.communityHubGAEnabled()||this.props.useOldButton)return o.createElement(w,{selectedId:s,options:t,onSelect:this.onSelect,onDeselect:this.onDeselect,dropdownKey:`${this.INSTALL_BUTTON_DROPDOWN}-${this.props.plugin.id}`,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,fullWidth:this.props.fullWidth,tooltip:i,className:this.props.className,border1px:this.props.border1px});if(null==this.props.orgEntity){const t=h.isPluginInstalledForUser(this.props.plugin.id,this.props.installedPlugins);return o.createElement(g.ButtonSplitNoDropdown,{onClick:t?this.onUninstallForUserClick:this.onInstallForUserClick,ctaButtonClassName:b.ctaButton,caretButtonClassName:b.caretButton,isSelected:t,caretButtonText:m.round(this.props.plugin.install_count)},t?"Installed":"↓ Install")}return o.createElement(I,{selectedId:s,options:t,onSelect:this.onSelect,onDeselect:this.onDeselect,dropdownKey:`${this.INSTALL_BUTTON_DROPDOWN}-${this.props.plugin.id}`,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,tooltip:i,className:this.props.className,caretButtonText:m.round(this.props.plugin.install_count),ctaButtonClassName:b.ctaButton,caretButtonClassName:b.caretButton})}}),s.defaultInstallText=P.shortSelectText}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3,1    ),n=i(119              ),o=i(85                   ),d=i(94                                   ),r=o.initialOptions().zendesk_web_key_public;t.useZendesk=!(!o.getFeatureFlags().zendesk_web_widget||!r);const l={productQuestion:{id:360001731233},bugReport:{id:360001744374},featureRequest:{id:360001746113},billing:{id:360001758514},other:{id:360001758534}},a=function(){return{webWidget:{position:{horizontal:"right",vertical:"bottom"},offset:{horizontal:"0px",vertical:"40px"},contactForm:{selectTicketForm:{"*":"Please choose:"},ticketForms:Object.keys(l).map(e=>l[e])},helpCenter:{searchPlaceholder:{"*":"How can we help?"},messageButton:{"*":"Contact us"}}}}};let c=null;const w=()=>c||(c=new Promise((e,i)=>{if(window.figmaPerfTesting)return i();new Promise((e,i)=>window.zE?e():r?t.useZendesk?(window.zESettings=a(),void n.loadScript("https://static.zdassets.com/ekr/snippet.js?key="+r,{id:"ze-snippet",cors:!1}).then(e).catch(i)):i("Zendesk is not enabled. (zendesk_web_widget)"):i("No zendesk_web_key_public api key")).then(e).catch(e=>{c=null,i(e)})}));class p extends s.PureComponent{constructor(e){super(e),this.state={loaded:!1,error:null,isOpen:!1}}componentDidMount(){p.singleton=this}componentWillUnmount(){p.singleton=null}init(){return w().then(()=>{this.state.loaded||(window.zE("webWidget","hide"),window.zE("webWidget:on","open",()=>{this.setState({isOpen:!0})}),window.zE("webWidget:on","close",()=>{this.setState({isOpen:!1}),this.close(!0)})),this.setState({loaded:!0,error:null})}).catch(e=>{e&&console.error("Unable to load Zendesk Web Widget:",e),this.setState({loaded:!1,error:e})})}open(e){this.init().then(()=>{var t;window.zESettings=a(),(null===(t=e)||void 0===t?void 0:t.ticketForms)&&(window.zESettings.webWidget.contactForm={ticketForms:e.ticketForms.map(e=>l[e]),fields:(e.fields||[]).map(e=>({id:e.id,prefill:{"*":e.value}}))},window.zESettings.webWidget.helpCenter={suppress:!0}),window.zE("webWidget","updateSettings",window.zESettings),window.zE("webWidget","prefill",{name:{value:this.props.userName,readOnly:!0},email:{value:this.props.userEmail,readOnly:!0}}),this.state.isOpen||(window.zE("webWidget","show"),window.zE("webWidget","open"))}).catch(()=>{this.props.dispatch(d.flash.flash("Our support center is not currently available. You can email us at support@figma.com."))})}close(e=!1){this.state.loaded&&(this.state.isOpen||e)&&(window.zE("webWidget","hide"),window.zE("webWidget","close"))}isError(){return!!this.state.error}render(){return s.createElement("div",{className:"zendesk-web-widget"})}}t.ZendeskWebWidget=p,p.singleton=null}),
(function(t,s,i){t.exports={tagsList:"tags_list--tagsList--2XowZ",tag:"tags_list--tag--1KhOL text--fontPos13--1DoEt text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    ),i=s(44,1         ),n=s(106                                     ),r=s(377                                                        ),o=s(312                             ),p=s(677                                        ),c=s(1366             ),m=s(126          ),l=s(212      );class u extends a.Component{render(){return this.props.tags?a.createElement("div",{className:`${this.props.className||""} ${c.tagsList}`},this.props.tags.map(t=>a.createElement(e.Tag,{key:t,text:t,tab:this.props.tab}))):null}}e.TagsList=u,u.displayName="TagsList";class g extends a.Component{constructor(){super(...arguments),this.onClick=(t=>{l.shouldUseDefaultOpenBehavior(t)||(t.preventDefault(),this.props.visitTagPage(this.props.text),m.segment.track("Tag clicked",{text:this.props.text,tab:this.props.tab||o.CommunityHubLandingTab.FILES}))})}render(){return a.createElement("a",{href:r.tagPath(this.props.text),className:c.tag,onClick:this.onClick},this.props.text)}}g.displayName="TagsList";e.Tag=i.connect((t,e)=>({href:p.selectedViewToPath(t,{view:"communityHub",subView:"landing",tab:o.CommunityHubLandingTab.FILES,tag:e.text})}),(t,e)=>({visitTagPage:s=>{t(n.fileBrowser.selectView({view:"communityHub",subView:"landing",tab:e.tab||o.CommunityHubLandingTab.FILES,tag:s}))}}))(g)}),
(function(e,i,t){e.exports={backLink:"detail_view--backLink--ISxrI text--fontPos11--RSei3 text--_fontBase--YWDo0",_container:"detail_view--_container--174wj",_name:"detail_view--_name--qwdCO ellipsis--ellipsis--1RWY6",container:"detail_view--container--1xl1I detail_view--_container--174wj text--fontPos14--3UJ36 text--_fontBase--YWDo0",header:"detail_view--header--2iBsz",headerLeft:"detail_view--headerLeft--28_8o",icon:"detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",name:"detail_view--name--1XWJN detail_view--_name--qwdCO ellipsis--ellipsis--1RWY6 text--fontPos24--2l6xY text--_fontBase--YWDo0",headerRight:"detail_view--headerRight--2ITwd",installButton:"detail_view--installButton--tmhQw",publisherName:"detail_view--publisherName--1JbKL ellipsis--ellipsis--1RWY6",installs:"detail_view--installs--DYvQc",coverImageContainer:"detail_view--coverImageContainer--2bH15",metadataContainer:"detail_view--metadataContainer--3lEhI",mobileActions__OLD:"detail_view--mobileActions__OLD--2M18A",mobileActions:"detail_view--mobileActions--2hPe6",metadataContainerMobile:"detail_view--metadataContainerMobile--1U0ev",installButtonContainer:"detail_view--installButtonContainer--FTo1x",heartContainer:"detail_view--heartContainer--1iAjr",resourceActionButton:"detail_view--resourceActionButton--1rP-H",duplicateButton:"detail_view--duplicateButton--2OZci",rowReverse:"detail_view--rowReverse--16-cQ",metadataLeft:"detail_view--metadataLeft--34y4_",description:"detail_view--description--37uhL",metadataRight:"detail_view--metadataRight--1u8Jj",metadataSection:"detail_view--metadataSection--2wOZr ellipsis--ellipsis--1RWY6",metadataSectionText:"detail_view--metadataSectionText--Ua2et text--fontPos13--1DoEt text--_fontBase--YWDo0",shareLink:"detail_view--shareLink--2nteG",shareLinkIcon:"detail_view--shareLinkIcon--EnAWm",shareLinkText:"detail_view--shareLinkText--B_ZVh",reportSection:"detail_view--reportSection--1yojn detail_view--metadataSectionText--Ua2et text--fontPos13--1DoEt text--_fontBase--YWDo0",communityHubPromoSection:"detail_view--communityHubPromoSection--1jSJM",subheader:"detail_view--subheader--1b4Ca",loadingContainer:"detail_view--loadingContainer--3AQT3 detail_view--_container--174wj",loadingIcon:"detail_view--loadingIcon--2t189 detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",loadingName:"detail_view--loadingName--3puOL",loadingPublisherName:"detail_view--loadingPublisherName--37dJd",loadingCoverImageContainer:"detail_view--loadingCoverImageContainer--3Vrzk detail_view--coverImageContainer--2bH15",loadingDescriptionRow:"detail_view--loadingDescriptionRow--1sb2j",notFoundContainer:"detail_view--notFoundContainer--2GdXi",supportInfo:"detail_view--supportInfo--135oZ ellipsis--ellipsis--1RWY6",likesContainer:"detail_view--likesContainer--2oRll",likes:"detail_view--likes--QWh-r",heart:"detail_view--heart--1Et5z",caretButton:"detail_view--caretButton--EN2Eh button_split--caretButton--mvcr9"}}),
(function(t,u,e){t.exports={fullHeart:"like_button--fullHeart--1W_PB",caretButton:"like_button--caretButton--2bRu0 button_split--caretButton--mvcr9"}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(3,1    ),u=t(44,1         ),o=t(193           ),l=t(378                                               ),r=t(380                                                  ),s=t(106                                     ),c=t(519               ),a=t(1360                                         ),d=t(1235                                           ),k=t(721            ),p=t(1369               );i.LikeButtonView=(e=>n.createElement(a.ButtonSplitNoDropdownTracked,{onClick:e.onClick,isSelected:e.isSelected,caretButtonText:e.caretButtonText,caretButtonClassName:e.caretButtonClassName,trackingProperties:e.trackingProperties,innerText:e.innerText},e.isSelected?b:_));const _=n.createElement("span",null,"♡"),b=n.createElement("span",{className:p.fullHeart},"♥");i.LikeButtonTracked=u.connect((e,i)=>({currentUser:e.user||null,isResourceLiked:!!("hub_file"===i.resourceType?e.likedComunityHubResources.hubFiles[i.hubFileId]:e.likedComunityHubResources.plugins[i.pluginId]),likeCount:"hub_file"===i.resourceType?e.hubFiles[i.hubFileId].like_count:e.publishedPlugins[i.pluginId].like_count}),null,(e,i,t)=>{const{dispatch:n}=i;return Object.assign(Object.assign(Object.assign({},e),t),{onLikeClick:()=>{if(!e.currentUser){let e,i;return"hub_file"===t.resourceType?(e="Log in or create an account to like this file",i="hub_file_like_signed_out"):(e="Log in or create an account to like this plugin",i="plugin_like_signed_out"),void((e,i)=>{o.isMobileBrowser?window.location.href="/login":(n(c.authActions.init({origin:i})),n(s.fileBrowser.showModal({type:k.AUTH_MODAL,data:{headerText:e}})))})(e,i)}"hub_file"===t.resourceType?n(l.likeHubFile({hubFileId:t.hubFileId})):n(r.likePlugin({pluginId:t.pluginId}))},onUnlikeClick:()=>{if(!e.currentUser)throw new Error(`Tried to unlike a ${"hub_file"===t.resourceType?"hub file":"plugin"} as a signed out user`);"hub_file"===t.resourceType?n(l.unlikeHubFile({hubFileId:t.hubFileId})):n(r.unlikePlugin({pluginId:t.pluginId}))}})})(e=>n.createElement(i.LikeButtonView,{onClick:e.isResourceLiked?e.onUnlikeClick:e.onLikeClick,isSelected:e.isResourceLiked,caretButtonText:d.round(e.likeCount),caretButtonClassName:p.caretButton,trackingProperties:e.trackingProperties,innerText:e.innerText}))}),
(function(c,l,t){c.exports={src:'<svg width="20" height="18" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.995.445C12.682.15 13.418 0 14.162 0c.745 0 1.481.151 2.167.445.686.293 1.307.722 1.83 1.26.521.54.934 1.177 1.216 1.878.28.7.425 1.45.425 2.206 0 .756-.144 1.506-.425 2.206-.282.7-.695 1.338-1.217 1.876l-7.612 7.855c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274L1.641 9.872C.587 8.784 0 7.314 0 5.788c0-1.526.587-2.996 1.641-4.083C2.696.617 4.133 0 5.637 0c1.505 0 2.941.617 3.996 1.706l.267.275.266-.275c.522-.539 1.144-.968 1.83-1.261zM14.162 1.8c-.5 0-.995.102-1.459.3-.463.198-.886.49-1.244.858l-.913.942c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274l-.912-.941C7.619 2.214 6.646 1.8 5.637 1.8c-1.008 0-1.981.414-2.703 1.159C2.21 3.704 1.8 4.722 1.8 5.789c0 1.066.41 2.084 1.134 2.83L9.9 15.807l6.966-7.188c.358-.37.643-.809.838-1.295.195-.486.296-1.008.296-1.535 0-.528-.1-1.05-.296-1.536-.195-.486-.48-.925-.838-1.294-.358-.37-.781-.661-1.245-.86-.463-.197-.959-.299-1.459-.299z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3,1    ),s=a(340              ),i=a(44,1         ),l=a(377                                                        ),r=a(1169                                                 ),o=a(1365                                          ),c=a(1123                         ),m=a(1362                                              ),d=a(174                        ),p=a(876                                  ),u=a(1367                                   ),g=a(1046             ),h=a(224                                            ),E=a(1368               ),v=a(411                                        ),N=a(326                             ),_=a(1360                                         ),b=a(1370                                       );t.desktopBreakpoint=s.pxToInt(v.communityHubResourcePageDesktopBreakpoint);const w=a(1371                        );t.MetadataSection=(e=>n.createElement("div",{className:E.metadataSection},n.createElement("div",{className:E.subheader},e.title),n.createElement("div",{className:E.metadataSectionText},e.children))),t.DetailsMetadataSection=(e=>n.createElement(t.MetadataSection,{title:"Details"},n.createElement("div",null,"Last updated ",n.createElement(p.FromNow,{date:e.updatedAt})),e.license&&n.createElement("div",null,"Licensed under ",n.createElement("a",{href:e.license.url,className:E.shareLinkText},e.license.name)),e.supportContact&&n.createElement("div",{className:E.supportInfo},"Support:"," ",n.createElement(g.default,{options:{target:{url:"_blank"},attributes:{rel:"noopener"},className:E.shareLinkText}},e.supportContact)))),t.TagsMetadataSection=(e=>e.tags&&0!==e.tags.length?n.createElement(t.MetadataSection,{title:"Tags"},n.createElement(u.TagsList,{tags:e.tags})):null);t.ReportPluginLink=i.connect(e=>({hasOrgs:Object.keys(e.orgById).length>0,teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(class extends n.PureComponent{constructor(){super(...arguments),this.optionId="82469",this.subject="Reporting an inappropriate plugin",this.onReportClick=(()=>{o.useZendesk&&o.ZendeskWebWidget.singleton||r.useHelpScout&&window.Beacon&&(r.prefillBeaconWithPlanType(this.props.hasOrgs,this.props.teams,{fields:[{id:r.MAILBOX_FIELD_ID,value:this.optionId}],subject:this.subject}),window.Beacon("open"),window.Beacon("navigate","ask/message"))})}render(){if(r.useHelpScout)return n.createElement("div",{className:E.reportSection,onClick:this.onReportClick},"Flag as inappropriate...");let e=`Flagging Plugin #${this.props.plugin.id}`,t=`I am flagging this Figma plugin for further review: ${l.pluginShareURL(this.props.plugin.id)}`;return this.props.user&&(t+=`\nMy Figma user id is ${this.props.user.id}\n`),t+="\n\n(add your description here)\n\n",n.createElement(h.Link,{href:`mailto:support@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`,rel:"noopener",className:E.reportSection},"Flag as inappropriate...")}});t.HubLoadingView=class extends n.PureComponent{render(){const{hasIcon:e,name:a}=this.props,s=this.props.hasIcon?this.props.iconUrl:"";return n.createElement("div",{className:E.loadingContainer},n.createElement(c.MediaQuery,{query:`(min-width: ${t.desktopBreakpoint}px)`},n.createElement("div",{className:E.header},n.createElement("div",{className:E.headerLeft},e&&s&&n.createElement("div",{className:E.icon},n.createElement("img",{src:s})),e&&!s&&n.createElement("div",{className:E.loadingIcon}),a?n.createElement("h1",{className:E.name},a):n.createElement("div",{className:E.loadingName})),n.createElement("div",{className:E.headerRight},n.createElement("div",{className:E.rowReverse},N.communityHubGAEnabled()?n.createElement(n.Fragment,null,n.createElement(_.ButtonSplitNoDropdown,{caretButtonText:"-",isSelected:!1,caretButtonClassName:E.caretButton},this.props.ctaPlaceholderText),n.createElement("div",{className:E.likesContainer},n.createElement(b.LikeButtonView,{isSelected:!1,caretButtonText:"-",caretButtonClassName:E.caretButton}))):n.createElement(n.Fragment,null,n.createElement("div",{className:E.installs}),n.createElement("div",{className:E.installButton},n.createElement(m.ButtonSplitNoDropdown__OLD,{buttonClassName:E.duplicateButton},this.props.ctaPlaceholderText)))))),n.createElement("div",{className:E.loadingCoverImageContainer}),n.createElement("div",{className:E.metadataContainer},n.createElement("div",{className:E.metadataLeft},n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow})))),n.createElement(c.MediaQuery,{query:`(max-width: ${t.desktopBreakpoint-1}px)`,defaultClass:E.metadataContainerMobile},n.createElement("div",{className:E.loadingCoverImageContainer}),n.createElement("div",{className:E.header},e&&s&&n.createElement("div",{className:E.icon},n.createElement("img",{src:s})),e&&!s&&n.createElement("div",{className:E.loadingIcon}),a?n.createElement("h1",{className:E.name},a):n.createElement("div",{className:E.loadingName})),n.createElement("div",{className:E.description},n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow}),n.createElement("div",{className:E.loadingDescriptionRow})),n.createElement("div",{className:N.communityHubGAEnabled()?E.mobileActions:E.mobileActions__OLD},N.communityHubGAEnabled()?n.createElement(n.Fragment,null,n.createElement("div",{className:E.likesContainer},n.createElement(b.LikeButtonView,{isSelected:!1,caretButtonText:"-",caretButtonClassName:E.caretButton})),n.createElement(_.ButtonSplitNoDropdown,{caretButtonText:"-",isSelected:!1,caretButtonClassName:E.caretButton},this.props.ctaPlaceholderText)):n.createElement(n.Fragment,null,n.createElement("div",{className:E.likesContainer},n.createElement("div",{className:E.heartContainer},n.createElement(d.Svg,{svg:w,useOriginalSrcFills:!0,className:E.heart})),n.createElement("div",{className:E.installs})),n.createElement("div",{className:E.rowReverse},n.createElement("div",{className:E.installs}),n.createElement("div",{className:E.installButton},n.createElement(m.ButtonSplitNoDropdown__OLD,{buttonClassName:E.resourceActionButton},this.props.ctaPlaceholderText)))))))}}}),
(function(i,l,s){i.exports={authorSpan:"hub_author_link--authorSpan--1rw8s ellipsis--ellipsis--1RWY6",authorLink:"hub_author_link--authorLink--1UF65 ellipsis--ellipsis--1RWY6"}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(3,1    ),i=s(44,1         ),a=s(677                                        ),o=s(212      ),p=s(332                         ),h=s(331                        ),l=s(313                       ),u=s(139                         ),n=s(106                                     ),c=s(1373                   );r.AuthorLink=i.connect((e,r)=>{let s;const t={view:"user",userId:r.publisher.creator.id,userViewTab:p.UserViewTab.PROFILE},i=a.selectedViewToPath(e,t);s=r.publisher.author_org?e.currentOrgId===r.publisher.author_org.id?e.publicOrgProfileById[r.publisher.author_org.id]?{view:"org",orgId:r.publisher.author_org.id,orgViewTab:h.OrgViewTab.PROFILE}:{view:"communityHub",subView:"pluginSearch",query:"",sort:l.PluginsSortType.PUBLISHER}:{view:"org",orgId:r.publisher.author_org.id,orgViewTab:h.OrgViewTab.PROFILE}:r.publisher.author_team?{view:"team",teamId:r.publisher.author_team.id,teamViewTab:u.TeamViewTab.PROFILE}:t;return{hrefView:s,href:a.selectedViewToPath(e,s),currentUserIsMemberOfTeam:!!(r.publisher.author_team&&r.publisher.author_team.id in e.teams),userHrefView:t,userHref:i}})(class extends t.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{o.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),this.props.dispatch(n.fileBrowser.selectView(this.props.hrefView)))}),this.onUserClick=(e=>{o.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),this.props.dispatch(n.fileBrowser.selectView(this.props.userHrefView)))})}render(){const e=this.props.disabled?t.createElement("span",{className:c.authorSpan},this.props.publisher.creator.handle):t.createElement("a",{className:c.authorLink,href:this.props.userHref,onClick:this.onUserClick},this.props.publisher.creator.handle);let r=null;this.props.publisher.author_org&&(r=this.props.disabled?t.createElement("span",{className:c.authorSpan},this.props.publisher.author_org.name):t.createElement("a",{className:c.authorLink,href:this.props.href,onClick:this.onClick},this.props.publisher.author_org.name));let s=null;if(this.props.publisher.author_team&&(s=this.props.disabled?t.createElement("span",{className:c.authorSpan},this.props.publisher.author_team.name):t.createElement("a",{className:c.authorLink,href:this.props.href,onClick:this.onClick},this.props.publisher.author_team.name)),this.props.withAllAuthors){if(r&&this.props.currentUserIsMemberOfOrg)return t.createElement("div",{className:`${this.props.className||""}`},r,e);if(s&&this.props.currentUserIsMemberOfTeam)return t.createElement("div",{className:`${this.props.className||""}`},s,e)}return t.createElement("div",{className:`${this.props.className||""}`},r||s||e)}})}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(3,1    ),u=t(44,1         ),s=t(330                          ),i=t(1374               );r.PluginAuthorLink=u.connect((e,r)=>{return{currentUserIsMemberOfOrg:Object.keys(e.orgById).some(e=>s.pluginIsScopedToOrAuthoredByOrgId(r.plugin,e))}})(class extends n.PureComponent{render(){return n.createElement(i.AuthorLink,Object.assign({},this.props,{publisher:this.props.plugin}))}})}),
(function(n,e,i){n.exports={bannerContainer:"community_hub_banner--bannerContainer--1Fhii text--fontPos13--1DoEt text--_fontBase--YWDo0",link:"community_hub_banner--link--1kNmL",bannerIcon:"community_hub_banner--bannerIcon--1dGNA",iconContainer:"community_hub_banner--iconContainer--2fCac",bannerText:"community_hub_banner--bannerText--1HLAb ellipsis--ellipsis--1RWY6"}}),
(function(c,l,v){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M19.569 9.064c-1.684 1.235-3.677 1.967-5.749 2.12-.315-.69-1.012-1.17-1.82-1.17H8c-1.105 0-2 .896-2 2v4c0 1.105.895 2 2 2h.333l1.211 3.633c.272.816 1.037 1.367 1.897 1.367h1.172c.682 0 1.164-.668.948-1.316l-1.236-3.71c.667-.109 1.223-.548 1.495-1.143 2.072.153 4.065.885 5.749 2.12l.635.466c.33.242.796.006.796-.404V9.002c0-.41-.465-.646-.796-.403l-.635.466zm-8.29 8.95H9.387l1.106 3.316c.136.409.518.684.948.684h1.172l-1.334-4zm.721-1c.552 0 1-.447 1-1v-4c0-.552-.448-1-1-1H8c-.552 0-1 .448-1 1v4c0 .553.448 1 1 1h4zm2-1.159v-3.682c2.155-.179 4.228-.932 6-2.187v8.057c-1.772-1.256-3.845-2.009-6-2.188zM24.5 14c0-.828-.672-1.5-1.5-1.5v-1c1.38 0 2.5 1.12 2.5 2.5 0 1.38-1.12 2.5-2.5 2.5v-1c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3,1    ),a=n(44,1         ),r=n(174                        ),i=n(224                                            ),o=n(1376                        ),c=n(1377                            );class m extends s.Component{constructor(){super(...arguments),this.getBannerText=(()=>this.props.profile?{strongText:"This is a Figma Community profile.",ctaPreText:" To create your own profile and publish files, ",ctaText:"join the beta "}:this.props.selectedView&&"communityHub"===this.props.selectedView.view&&"hubFile"===this.props.selectedView.subView?{strongText:"This is a Figma Community resource file.",ctaPreText:" To publish your own files, ",ctaText:"join the beta "}:{strongText:"This is the Figma Community.",ctaPreText:" Create your own plugin, or publish files that anyone can duplicate and remix by ",ctaText:"joining the beta "})}render(){const{strongText:e,ctaPreText:t,ctaText:n}=this.getBannerText();return s.createElement("div",{className:this.props.className||""},s.createElement("div",{className:o.bannerContainer},s.createElement("div",{className:o.iconContainer},s.createElement(r.Svg,{svg:c,className:o.bannerIcon})),s.createElement("span",null,s.createElement("strong",null,e),t,s.createElement(i.Link,{href:"https://forms.gle/5zC8iaAHrH2Erf5q9",target:"_blank",className:o.link},n," →"))))}}m.displayName="CommunityBetaPromoBannerInner";t.CommunityBetaPromoBanner=a.connect((e,t)=>({selectedView:e.selectedView}))(m)}),
(function(h,l,t){h.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M.883 0h14.234c.488 0 .883.395.883.883v14.234c0 .488-.395.883-.883.883H.883C.395 16 0 15.605 0 15.117V.883C0 .395.395 0 .883 0zM11.04 9.804V16H8.546V9.806H6.461V7.39h2.085v-1.78c0-2.067 1.262-3.192 3.107-3.192.622-.003 1.244.03 1.863.095v2.158h-1.277c-1.005 0-1.2.476-1.2 1.176v1.54h2.392l-.31 2.416H11.04z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(o,t,i){o.exports={src:'<svg width="18" height="16" viewBox="0 0 18 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.66 15.616c6.793 0 10.508-5.624 10.508-10.5 0-.16 0-.32-.01-.478.722-.522 1.346-1.169 1.842-1.91-.674.299-1.389.494-2.121.58.77-.46 1.348-1.186 1.624-2.04-.725.43-1.518.732-2.346.895-.556-.591-1.293-.983-2.095-1.114-.802-.132-1.625.005-2.341.388-.717.383-1.287.992-1.623 1.732-.336.74-.418 1.569-.234 2.36-1.468-.073-2.905-.455-4.216-1.119-1.311-.664-2.468-1.597-3.395-2.737-.472.813-.617 1.775-.405 2.69.213.915.766 1.715 1.548 2.237-.588-.018-1.162-.176-1.676-.462v.047c0 .852.295 1.677.835 2.337.54.66 1.292 1.112 2.128 1.28-.544.149-1.114.17-1.668.064.236.733.696 1.374 1.314 1.834.619.46 1.366.714 2.137.729-1.308 1.027-2.924 1.584-4.587 1.582-.294 0-.587-.018-.879-.053 1.689 1.083 3.654 1.658 5.66 1.655" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(3,1    ),s=a(44,1         ),n=a(1368               ),i=a(1374                ),c=a(193           ),l=a(174                        ),o=a(1378                            ),m=a(1372                                                     ),p=a(628                             ),h=a(1379                           ),u=a(1380                          );t.PublisherAndSharing=s.connect(e=>({currentUserHasProfile:!!e.user&&!!e.publicUserProfileById[e.user.id]}))(class extends r.PureComponent{render(){return r.createElement(r.Fragment,null,!this.props.currentUserHasProfile&&r.createElement("div",{className:n.communityHubPromoSection},r.createElement(o.CommunityBetaPromoBanner,null)),r.createElement(m.MetadataSection,{title:"Publisher"},r.createElement(i.AuthorLink,{publisher:this.props.publisher,currentUserIsMemberOfOrg:this.props.currentUserIsMemberOfOrg,withAllAuthors:!0})),r.createElement(m.MetadataSection,{title:"Share"},!c.isMobileBrowser&&r.createElement("div",{className:n.shareLink,onClick:this.props.onShareLinkClick},r.createElement("span",{className:n.shareLinkIcon},r.createElement(l.Svg,{svg:p})),r.createElement("span",{className:n.shareLinkText},"Copy link")),r.createElement("a",{className:n.shareLink,target:"_blank",href:this.props.twitterUrl,onClick:this.props.twitterOnClick},r.createElement("span",{className:n.shareLinkIcon},r.createElement(l.Svg,{svg:u})),r.createElement("span",{className:n.shareLinkText},"Twitter")),r.createElement("a",{className:n.shareLink,target:"_blank",href:this.props.facebookUrl,onClick:this.props.facebookOnClick},r.createElement("span",{className:n.shareLinkIcon},r.createElement(l.Svg,{svg:h})),r.createElement("span",{className:n.shareLinkText},"Facebook"))))}})}),
(function(l,o,t){l.exports={src:'<svg width="20" height="18" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg"><path d="M11.995.445C12.682.15 13.418 0 14.162 0c.745 0 1.481.151 2.167.445.686.293 1.307.722 1.83 1.26.521.54.934 1.177 1.216 1.878.28.7.425 1.45.425 2.206 0 .756-.144 1.506-.425 2.206-.282.7-.695 1.338-1.217 1.877l-7.612 7.854c-.17.175-.403.274-.646.274-.244 0-.477-.099-.647-.274L1.641 9.872C.587 8.784 0 7.314 0 5.788c0-1.526.587-2.996 1.641-4.083C2.696.617 4.133 0 5.637 0c1.505 0 2.941.617 3.996 1.706l.267.275.266-.275c.522-.539 1.143-.968 1.83-1.261z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(3,1    ),i=s(174                        ),r=s(221                                    ),n=s(1368                             ),c=s(1371                        ),l=s(1382                               );a.LikeButtonTracked__OLD=r.asTrackedClickable(class extends t.PureComponent{render(){return t.createElement("div",{className:n.heartContainer},t.createElement(i.Svg,{svg:this.props.hasLiked?l:c,useOriginalSrcFills:!0,onClick:this.props.onClick,className:n.heart}))}})}),
(function(e,i,t){e.exports={releaseSection:"plugin_detail_view--releaseSection--AZMw-",releaseSubheader:"plugin_detail_view--releaseSubheader--3C8wy",releaseNotes:"plugin_detail_view--releaseNotes--1KMxO",seeAllLink:"plugin_detail_view--seeAllLink--1xD7Z blue_link--blueLink--22X56",versionHistoryContainer:"plugin_detail_view--versionHistoryContainer--1yHD7",versionHistorySubheader:"plugin_detail_view--versionHistorySubheader--1XVxS detail_view--subheader--1b4Ca",previewContainer:"plugin_detail_view--previewContainer--SIh-5 detail_view--_container--174wj text--fontPos11--RSei3 text--_fontBase--YWDo0",previewName:"plugin_detail_view--previewName--2jAv- detail_view--_name--qwdCO ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0",iconPlaceholder:"plugin_detail_view--iconPlaceholder--1JXGH detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",previewNamePlaceholder:"plugin_detail_view--previewNamePlaceholder--1fx0E undefined",descriptionPlaceholder:"plugin_detail_view--descriptionPlaceholder--3AVfA detail_view--description--37uhL",previewMetadataRight:"plugin_detail_view--previewMetadataRight--TyxvG",notFoundContainer:"plugin_detail_view--notFoundContainer--3KmT7 detail_view--notFoundContainer--2GdXi",container:"plugin_detail_view--container--3UnMr detail_view--container--1xl1I detail_view--_container--174wj text--fontPos14--3UJ36 text--_fontBase--YWDo0",backLink:"plugin_detail_view--backLink--2Hn4g detail_view--backLink--ISxrI text--fontPos11--RSei3 text--_fontBase--YWDo0",header:"plugin_detail_view--header--3GClu detail_view--header--2iBsz",headerLeft:"plugin_detail_view--headerLeft--tTGwJ detail_view--headerLeft--28_8o",icon:"plugin_detail_view--icon--2_x8i detail_view--icon--pPDzt plugin--pluginIconBase--1x_Mv",headerRight:"plugin_detail_view--headerRight--1JvsZ detail_view--headerRight--2ITwd",name:"plugin_detail_view--name--8DIiE detail_view--name--1XWJN detail_view--_name--qwdCO ellipsis--ellipsis--1RWY6 text--fontPos24--2l6xY text--_fontBase--YWDo0",publisherName:"plugin_detail_view--publisherName--F1rTP detail_view--publisherName--1JbKL ellipsis--ellipsis--1RWY6",installs:"plugin_detail_view--installs--qUNMc detail_view--installs--DYvQc",installButton:"plugin_detail_view--installButton--3evSA detail_view--installButton--tmhQw",installButtonContainer:"plugin_detail_view--installButtonContainer--1O6B_ detail_view--installButtonContainer--FTo1x",coverImageContainer:"plugin_detail_view--coverImageContainer--3qglK detail_view--coverImageContainer--2bH15",metadataContainer:"plugin_detail_view--metadataContainer--2a9Zp detail_view--metadataContainer--3lEhI",metadataLeft:"plugin_detail_view--metadataLeft--1LweX detail_view--metadataLeft--34y4_",description:"plugin_detail_view--description--120eU detail_view--description--37uhL",metadataRight:"plugin_detail_view--metadataRight--1TkmM detail_view--metadataRight--1u8Jj",metadataContainerMobile:"plugin_detail_view--metadataContainerMobile--3z56g detail_view--metadataContainerMobile--1U0ev",likesContainer:"plugin_detail_view--likesContainer--1MJZ0 detail_view--likesContainer--2oRll",likes:"plugin_detail_view--likes--1le-p detail_view--installs--DYvQc",heartContainer:"plugin_detail_view--heartContainer--1CBIq detail_view--heartContainer--1iAjr",installs__OLD:"plugin_detail_view--installs__OLD--2fmWu undefined",rowReverse:"plugin_detail_view--rowReverse--3N00q detail_view--rowReverse--16-cQ",mobileActions:"plugin_detail_view--mobileActions--1FiNL detail_view--mobileActions--2hPe6",mobileActions__OLD:"plugin_detail_view--mobileActions__OLD--3EgEH detail_view--mobileActions__OLD--2M18A"}}),
(function(c,t,e){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M13 9.5C13 7.942 14.465 7 16 7c1.535 0 3 .942 3 2.5 0 .55-.192 1.068-.507 1.5H21c.552 0 1 .448 1 1v3.076c0 .412-.332.614-.532.674-.204.061-.542.066-.782-.192C20.35 15.2 19.92 15 19.5 15c-.79 0-1.5.773-1.5 2 0 1.227.71 2 1.5 2 .42 0 .85-.2 1.186-.558.24-.258.578-.253.782-.192.2.06.532.262.532.674V22c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1h2.507c-.315-.432-.507-.95-.507-1.5zM16 8c-1.227 0-2 .71-2 1.5 0 .42.2.85.558 1.186.258.24.253.578.192.782-.06.2-.262.532-.674.532H11v10h10v-2.507c-.433.315-.95.507-1.5.507-1.558 0-2.5-1.465-2.5-3 0-1.535.942-3 2.5-3 .55 0 1.067.192 1.5.507V12h-3.076c-.412 0-.614-.332-.674-.532-.061-.204-.066-.542.192-.782C17.8 10.35 18 9.92 18 9.5c0-.79-.773-1.5-2-1.5z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,h,v){c.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M14.007 7.834C14.555 7.356 15.292 7 16 7c.708 0 1.445.356 1.993.834C18.536 8.308 19 8.996 19 9.75c0 .329-.153.66-.324.93-.068.107-.144.214-.228.32h2.302c.69 0 1.25.56 1.25 1.25v2.987c0 .341-.235.566-.464.648-.187.067-.43.061-.633-.075-.18-.807-.595-.81-1.146-.81h-.03c-.276.004-.448.065-.552.172-.199.113-.4.278-.587.492-.372.426-.588.94-.588 1.336 0 .397.216.91.588 1.336.186.213.387.379.586.49.106.112.285.174.576.174.555 0 .973 0 1.153-.81.202-.136.446-.142.633-.075.23.082.464.307.464.648v2.987c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5c0-.69.56-1.25 1.25-1.25h2.302c-.084-.106-.16-.213-.228-.32-.17-.27-.324-.601-.324-.93 0-.754.463-1.442 1.007-1.916zm.657.754c-.214.186-.38.388-.492.587-.108.104-.17.278-.172.557v.023c0 .552.002.968.81 1.148.136.202.142.446.075.633-.082.23-.307.464-.648.464H11.25c-.138 0-.25.112-.25.25v9.5c0 .138.112.25.25.25h9.5c.138 0 .25-.112.25-.25v-2.302c-.106.084-.213.16-.32.228-.27.17-.601.324-.93.324-.754 0-1.442-.463-1.916-1.007C17.356 18.445 17 17.708 17 17c0-.708.356-1.445.834-1.993.474-.543 1.162-1.007 1.916-1.007.329 0 .66.153.93.324.107.068.214.144.32.228V12.25c0-.138-.112-.25-.25-.25h-2.987c-.341 0-.567-.235-.648-.464-.067-.187-.061-.43.075-.633.81-.18.81-.598.81-1.153 0-.29-.062-.47-.173-.576-.112-.198-.278-.4-.491-.586C16.91 8.216 16.396 8 16 8c-.397 0-.91.216-1.336.588z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(3,1    ),s=t(44,1         ),a=t(126          ),l=t(330                          ),r=t(106                                     ),o=t(379                                                     ),p=t(1357                                                 ),c=t(430                                 ),u=t(521           ),d=t(117              ),g=t(565                                 ),m=t(1364                     ),h=t(221                                    ),k=t(1235                                           ),_=t(534                                                    ),v=t(119              ),b=t(187                             ),E=t(165                                     ),f=t(1123            ),N=t(224                                            ),I=t(377                            ),P=t(1372                         ),C=t(213                          ),S=t(1375                  ),L=t(1381                                   ),w=t(1370                                       ),y=t(326                             ),U=t(380                                                  ),O=t(193           ),R=t(519               ),A=t(1383               ),T=t(1384                      ),x=t(721            ),M=t(1385                                 ),B=t(1386                                   ),H=800;class D extends n.PureComponent{constructor(){super(...arguments),this.isLoading=(()=>g.isLoading(this.props.loadingState,o.getPluginVersions.loadingKeyForPayload({pluginId:this.props.pluginId}))),this.onShareLinkCopied=(()=>{this.props.dispatch(b.visualBellActions.enqueue({message:E.defaultStringsRaw["link-copied"]}))}),this.loggedOutAction=((e,i)=>{O.isMobileBrowser?window.location.href="/login":(this.props.dispatch(R.authActions.init({origin:i})),this.props.dispatch(r.fileBrowser.showModal({type:x.AUTH_MODAL,data:{headerText:e}})))}),this.unlike=(()=>{var e,i,t;this.props.currentUser&&(this.props.dispatch(U.unlikePlugin({pluginId:this.props.plugin.id})),a.segment.track("Plugin Like Action",{likeStatus:!1,userId:(null===(e=this.props.currentUser)||void 0===e?void 0:e.id)||"",pluginId:this.props.plugin.id,authorOrgId:(null===(i=this.props.plugin.author_org)||void 0===i?void 0:i.id)||"",authorUserId:(null===(t=this.props.plugin.creator)||void 0===t?void 0:t.id)||""}))}),this.like=(()=>{var e,i,t;if(this.props.currentUser)this.props.dispatch(U.likePlugin({pluginId:this.props.plugin.id})),a.segment.track("Plugin Like Action",{likeStatus:!0,userId:(null===(e=this.props.currentUser)||void 0===e?void 0:e.id)||"",pluginId:this.props.plugin.id,authorOrgId:(null===(i=this.props.plugin.author_org)||void 0===i?void 0:i.id)||"",authorUserId:(null===(t=this.props.plugin.creator)||void 0===t?void 0:t.id)||""});else{const e="Log in or create an account to like this plugin";this.loggedOutAction(e,"plugin_like_signed_out")}})}componentDidMount(){this.props.plugin.realtime_token&&this.props.dispatch(c.realtime.subscribe(u.parseRealtimeToken(this.props.plugin.realtime_token))),this.fetchPlugin()}fetchPlugin(){const e=this.props.pluginId;e&&(this.props.dispatch(o.getPluginVersions({pluginId:e})),this.props.dispatch(p.viewPlugin({pluginId:this.props.pluginId})))}componentDidUpdate(e){if(e.plugin.id!==this.props.plugin.id){if(this.fetchPlugin(),e.plugin.realtime_token){const i=u.parseRealtimeToken(e.plugin.realtime_token).channel;this.props.dispatch(c.realtime.unsubscribe(i))}this.props.plugin.realtime_token&&this.props.dispatch(c.realtime.subscribe(u.parseRealtimeToken(this.props.plugin.realtime_token)))}}componentWillUnmount(){if(this.props.plugin.realtime_token){const e=u.parseRealtimeToken(this.props.plugin.realtime_token).channel;this.props.dispatch(c.realtime.unsubscribe(e))}}backLinkClick(){history.go(-1)}render(){var e,i,t,s,a,r,o,p;const c=l.getPluginVersion(this.props.plugin);if(this.isLoading())return n.createElement(h.TrackingContext,{name:"Hub Published Plugin"},n.createElement(P.HubLoadingView,{hasIcon:!0,ctaPlaceholderText:m.defaultInstallText,iconUrl:c.signed_icon_url,name:c.name}));if(!c.id)return n.createElement("div",{className:T.notFoundContainer},"Plugin not found.");const u=this.props.likedPlugins[this.props.plugin.id];return n.createElement(h.TrackingContext,{name:"Hub Published Plugin"},n.createElement("div",{className:T.container},n.createElement(f.MediaQuery,{query:`(min-width: ${H}px)`},d.desktopApp&&!y.communityHubGAEnabled()&&n.createElement("a",{onClick:this.backLinkClick,className:T.backLink},"<- Back"),n.createElement("div",{className:T.header},n.createElement("div",{className:T.headerLeft},n.createElement("div",{className:T.icon},n.createElement("img",{src:c.signed_icon_url})),n.createElement("h1",{className:T.name},c.name)),n.createElement("div",{className:T.headerRight},n.createElement("div",{className:T.likesContainer},y.communityHubGAEnabled()?n.createElement(w.LikeButtonTracked,{resourceType:"plugin",pluginId:this.props.pluginId,innerText:"Plugin Like",trackingProperties:{action:u?"unlike":"like",pluginId:this.props.plugin.id,authorOrgId:(null===(e=this.props.plugin.author_org)||void 0===e?void 0:e.id)||"",authorUserId:(null===(i=this.props.plugin.creator)||void 0===i?void 0:i.id)||""}}):n.createElement(n.Fragment,null,n.createElement(A.LikeButtonTracked__OLD,{innerText:"Plugin Like",hasLiked:u,onClick:u?this.unlike:this.like,trackingProperties:{action:u?"unlike":"like",pluginId:this.props.plugin.id,authorOrgId:(null===(t=this.props.plugin.author_org)||void 0===t?void 0:t.id)||"",authorUserId:(null===(s=this.props.plugin.creator)||void 0===s?void 0:s.id)||""}}),n.createElement(k.RoundedCount,{className:T.likes,count:this.props.plugin.like_count}))),n.createElement("div",{className:T.rowReverse},!y.communityHubGAEnabled()&&n.createElement(k.RoundedCount,{className:T.installs,count:this.props.plugin.install_count,prefix:"↓"}),n.createElement("div",{className:T.installButton},n.createElement(m.InstallButtonSplit,{plugin:this.props.plugin}))))),n.createElement("div",{className:T.coverImageContainer},n.createElement("img",{src:this.props.plugin.redirect_thumbnail_url||"",alt:`${c.name}`})),n.createElement("div",{className:T.metadataContainer},n.createElement("div",{className:T.metadataLeft},n.createElement("div",{className:T.description},c.description),n.createElement(V,{plugin:this.props.plugin})),n.createElement("div",{className:T.metadataRight},n.createElement(F,{plugin:this.props.plugin,onShareLinkCopied:this.onShareLinkCopied,currentUserIsMemberOfOrg:this.props.currentUserIsMemberOfOrg}),n.createElement(P.TagsMetadataSection,{tags:this.props.plugin.tags}),n.createElement(P.DetailsMetadataSection,{updatedAt:c.created_at,supportContact:this.props.plugin.support_contact}),n.createElement(P.ReportPluginLink,{plugin:this.props.plugin})))),n.createElement(f.MediaQuery,{query:`(max-width: ${H-1}px)`,defaultClass:T.metadataContainerMobile},n.createElement("div",{className:T.coverImageContainer},n.createElement("img",{src:this.props.plugin.redirect_thumbnail_url||"",alt:`${c.name}`})),n.createElement("div",{className:T.header},n.createElement("div",{className:T.icon},n.createElement("img",{src:c.signed_icon_url})),n.createElement("h1",{className:T.name},c.name)),n.createElement("div",{className:T.description},c.description),n.createElement("div",{className:y.communityHubGAEnabled()?T.mobileActions:T.mobileActions__OLD},y.communityHubGAEnabled()?n.createElement(n.Fragment,null,n.createElement("div",{className:T.likesContainer},n.createElement(w.LikeButtonTracked,{resourceType:"plugin",pluginId:this.props.pluginId,innerText:"Plugin Like",trackingProperties:{action:u?"unlike":"like",pluginId:this.props.plugin.id,authorOrgId:(null===(a=this.props.plugin.author_org)||void 0===a?void 0:a.id)||"",authorUserId:(null===(r=this.props.plugin.creator)||void 0===r?void 0:r.id)||""}})),n.createElement(m.InstallButtonSplit,{plugin:this.props.plugin,fullWidth:!0})):n.createElement(n.Fragment,null,n.createElement("div",{className:T.likesContainer},n.createElement(A.LikeButtonTracked__OLD,{innerText:"Plugin Like",hasLiked:u,onClick:u?this.unlike:this.like,trackingProperties:{action:u?"unlike":"like",pluginId:this.props.plugin.id,authorOrgId:(null===(o=this.props.plugin.author_org)||void 0===o?void 0:o.id)||"",authorUserId:(null===(p=this.props.plugin.creator)||void 0===p?void 0:p.id)||""}}),n.createElement(k.RoundedCount,{className:T.likes,count:this.props.plugin.like_count})),n.createElement("div",{className:T.rowReverse},n.createElement(k.RoundedCount,{className:T.installs,count:this.props.plugin.install_count}),n.createElement("div",{className:T.installButton},n.createElement(m.InstallButtonSplit,{plugin:this.props.plugin,fullWidth:!0}))))),n.createElement(V,{plugin:this.props.plugin}),n.createElement(F,{plugin:this.props.plugin,onShareLinkCopied:this.onShareLinkCopied,currentUserIsMemberOfOrg:this.props.currentUserIsMemberOfOrg}),n.createElement(P.TagsMetadataSection,{tags:this.props.plugin.tags}),n.createElement(P.DetailsMetadataSection,{updatedAt:c.created_at,supportContact:this.props.plugin.support_contact}),n.createElement(P.ReportPluginLink,{plugin:this.props.plugin}))))}}D.displayName="PluginDetailView";i.PluginDetailView=s.connect((e,{pluginId:i})=>{const t=l.getPublishedPluginById(i,e.publishedPlugins),n=Object.keys(e.orgById).some(e=>l.pluginIsScopedToOrAuthoredByOrgId(t,e));return{plugin:t,hasOrgs:Object.keys(e.orgById).length>0,teams:Object.keys(e.teams).map(i=>e.teams[i]),loadingState:e.loadingState,currentUserIsMemberOfOrg:n,likedPlugins:e.likedComunityHubResources.plugins,currentUser:e.user||null}})(D);class V extends n.PureComponent{constructor(){super(...arguments),this.state={shouldShowAllVersions:!1},this.onSeeAllClick=(()=>{this.setState({shouldShowAllVersions:!0})})}render(){const e=l.getVersionsSortedByCreatedAt(this.props.plugin),i=this.state.shouldShowAllVersions||e.length<=3,t=i?e:e.slice(0,2);return n.createElement("div",{className:T.versionHistoryContainer},n.createElement("div",{className:T.versionHistorySubheader},"Version history"),t.map(e=>{const i=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return n.createElement("div",{key:e.id,className:e.release_notes?T.releaseSection:""},n.createElement("div",{className:T.releaseSubheader},"Version ",e.version," on ",i),e.release_notes&&n.createElement("div",{className:T.releaseNotes},e.release_notes))}),!i&&n.createElement("span",{className:T.seeAllLink,onClick:this.onSeeAllClick},"See all"))}}class F extends n.PureComponent{constructor(){super(...arguments),this.getPluginName=(()=>l.getPluginVersion(this.props.plugin).name),this.getPluginShareURL=(()=>I.pluginShareURL(this.props.plugin.id,this.getPluginName())),this.getFacebookShareURL=(()=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.getPluginShareURL())}`),this.getTwitterShareURL=(()=>{const e=new URLSearchParams,i=C.getPublisherDisplayString(this.props.plugin);return e.append("url",this.getPluginShareURL()),e.append("text",`Check out ${this.getPluginName()} by ${i} — a free plugin on @figmadesign:`),`https://twitter.com/intent/tweet?${e.toString()}`}),this.onLinkClick=(()=>{v.copyText(this.getPluginShareURL()).then(this.props.onShareLinkCopied),a.segment.track("Hub Share Link Click",{link:"url",pluginId:this.props.plugin.id})}),this.onFacebookShareClick=(()=>{a.segment.track("Hub Share Link Click",{link:"facebook",pluginId:this.props.plugin.id})}),this.onTwitterShareClick=(()=>{a.segment.track("Hub Share Link Click",{link:"twitter",pluginId:this.props.plugin.id})})}render(){return n.createElement(L.PublisherAndSharing,{publisher:this.props.plugin,twitterUrl:this.getTwitterShareURL(),twitterOnClick:this.onTwitterShareClick,facebookUrl:this.getFacebookShareURL(),facebookOnClick:this.onFacebookShareClick,currentUserIsMemberOfOrg:this.props.currentUserIsMemberOfOrg,onShareLinkClick:this.onLinkClick})}}i.PluginDetailPreview=class extends n.PureComponent{render(){const e=l.getPluginVersion(this.props.plugin);return e.id?n.createElement("div",{className:T.previewContainer},n.createElement("div",{className:T.header},n.createElement("div",{className:T.headerLeft},e.signed_icon_url?n.createElement("div",{className:T.icon},n.createElement("img",{src:e.signed_icon_url})):n.createElement(_.SvgWithFallback,{className:T.iconPlaceholder,svg:M,fallbackSvg:B}),e.name?n.createElement("div",{className:T.previewName},e.name):n.createElement("div",{className:T.previewNamePlaceholder},"Untitled")),n.createElement("div",{className:T.headerRight},n.createElement(S.PluginAuthorLink,{disabled:!0,plugin:this.props.plugin,className:T.publisherName}),n.createElement(k.RoundedCount,{className:T.installs,count:this.props.plugin.install_count,prefix:"↓"}),n.createElement(N.ButtonSecondary,null,"Install"))),this.props.plugin.redirect_thumbnail_url&&n.createElement("div",{className:T.coverImageContainer},n.createElement("img",{src:this.props.plugin.redirect_thumbnail_url,alt:`${e.name}`})),n.createElement("div",{className:T.metadataContainer},n.createElement("div",{className:T.metadataLeft},e.description?n.createElement("div",{className:T.description},e.description):n.createElement("div",{className:T.descriptionPlaceholder},"No description"),n.createElement(V,{plugin:this.props.plugin})),n.createElement("div",{className:T.previewMetadataRight}))):null}}}),
(function(i,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(3,1    ),e=s(44,1         ),n=s(313                       ),r=s(379                                                     ),l=s(227                                 ),a=s(228                              ),p=s(224                                            ),u=s(213                          );class g extends t.Component{constructor(){super(...arguments),this.getOrgIdToPublishAs=(()=>this.props.orgEntity?this.props.orgEntity.id:this.props.plugin.roles.org?this.props.plugin.roles.org.id:null),this.setPrivate=(()=>{const i={is_public:!1,org:void 0};this.props.orgEntity&&(i.org={id:this.props.orgEntity.id,name:this.props.orgEntity.name}),this.props.setRole(this.props.plugin.id,i),this.props.setAuthorOrgId(this.props.plugin.id,""),this.props.closeModal()}),this.setPublic=(()=>{const i={is_public:!0,org:void 0},o=this.getOrgIdToPublishAs();o&&(this.props.setRole(this.props.plugin.id,i),this.props.setAuthorOrgId(this.props.plugin.id,o)),this.props.closeModal()}),this.navigateToOrgUpsell=(()=>{window.location.href="https://www.figma.com/organization/"})}render(){if(this.props.roleToPublishAs===n.RoleToPublishAs.ORG){if(!this.props.orgEntity)return t.createElement(l.ConfirmationModal,{confirmationTitle:"Upgrade to Figma Organization",content:"Private plugins is available on the Figma Organization plan, along with many other features that help you design at scale. Contact our team to learn how to upgrade.",onConfirm:this.navigateToOrgUpsell,onCancel:this.props.closeModal,confirmText:"Learn More",size:"small",dispatch:this.props.dispatch,dontClose:!0});if(!this.props.orgEntity.isAdmin)return t.createElement(l.Modal,{size:"small",className:a.modal,dispatch:this.props.dispatch,title:"Unable to Change Plugin Permissions"},t.createElement("div",{className:a.modalContent},"To make your plugin available publicly, you must switch to your personal space using the Menu Bar in the File Browser."),t.createElement("div",{className:a.buttonRow},t.createElement(p.ButtonPrimary,{onClick:this.props.closeModal},"Done")));const i=`Making your plugin private means that\n      only members of ${this.props.orgEntity.name} will be able to use this plugin.\n      Current users, outside of ${this.props.orgEntity.name}, will lose access to your plugin immediately.`;return t.createElement(l.ConfirmationModal,{confirmationTitle:"Change Plugin Permissions",content:i,onConfirm:this.setPrivate,onCancel:this.props.closeModal,confirmText:"Make Private",size:"small",dispatch:this.props.dispatch,dontClose:!0})}const i=`Making your plugin available publicly means that all Figma users\n    will be able to use this plugin, even outside of ${this.props.plugin.roles.org?this.props.plugin.roles.org.name:"your org"}.\n    Once your plugin is reviewed by Figma, it will be available immediately.`;return t.createElement(l.ConfirmationModal,{confirmationTitle:"Change Plugin Permissions",content:i,onConfirm:this.setPublic,onCancel:this.props.closeModal,confirmText:"Make Public",size:"small",dispatch:this.props.dispatch,dontClose:!0})}}g.displayName="PluginChangeAccessModal";o.PluginChangeAccessModal=e.connect(i=>({orgEntity:u.getOrgPermissionEntity(i)}),i=>({setRole:(o,s)=>{i(r.updatePublishedPluginRole({pluginId:o,role:s}))},setAuthorOrgId:(o,s)=>{i(r.updatePublishedPlugin({pluginId:o,authorOrgId:s}))}}))(g)}),
(function(c,e,s){c.exports={changeAccessSelect:"plugin_change_access_form--changeAccessSelect--2GZxU"}}),
(function(l,c,t){l.exports={src:'<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.252 8.632C9.37 10.053 7.796 11 6 11c-2.761 0-5-2.239-5-5 0-.433.055-.853.158-1.253l1.043.391c.173.065.273.244.236.425l-.25 1.256c-.036.177.06.355.228.422L3.81 7.8c.118.047.204.15.229.274l.313 1.565c.014.072.05.139.102.191l.287.287c.186.185.499.129.607-.11l1.465-3.222c.097-.213-.023-.462-.25-.52l-.963-.24c-.066-.016-.126-.05-.174-.098l-.942-.942c-.07-.07-.166-.11-.265-.11h-.738c-.142 0-.272-.08-.336-.207l-.46-.92c-.1-.2-.004-.441.204-.52l2.286-.857c.183-.068.283-.266.229-.454l-.242-.847C5.435 1.024 5.715 1 6 1c.147 0 .292.006.435.019l-.027.218c-.02.157.062.31.204.382l.35.175c.103.051.223.053.327.004l.675-.315c.03-.013.056-.03.079-.048.732.328 1.371.827 1.866 1.447l-1.142-.229c-.091-.018-.186-.001-.266.047l-1.453.871c-.168.101-.23.314-.143.49l.866 1.732c.064.127.194.207.336.207h1.11c.168 0 .315.111.36.272l.675 2.36zM12 6c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6 0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(c,t,e){c.exports={src:'<svg width="9" height="12" viewBox="0 0 9 12" xmlns="http://www.w3.org/2000/svg"><path d="M2.2 4.8h4V3c0-1.105-.895-2-2-2-1.105 0-2 .895-2 2v1.8zm-1 0H.5c-.276 0-.5.224-.5.5v6.2c0 .276.224.5.5.5h7.4c.276 0 .5-.224.5-.5V5.3c0-.276-.224-.5-.5-.5h-.7V3c0-1.657-1.343-3-3-3-1.657 0-3 1.343-3 3v1.8z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=c(3,1    ),l=c(44,1         ),a=c(313                       ),o=c(730                                                        ),n=c(1388                          ),i=c(1389                             ),h={[a.RoleToPublishAs.PUBLIC]:c(1390                                ),[a.RoleToPublishAs.ORG]:c(1391                                 )};class r extends o.Select{}class p extends o.Option{}class g extends t.PureComponent{constructor(){super(...arguments),this.state={changeAccessTo:null},this.changeAccessFormatter={format:e=>e===a.RoleToPublishAs.ORG?"Private access":"Public access"},this.onSelectChange=(e=>{this.setState({changeAccessTo:e})}),this.closeSelectModal=(()=>{this.setState({changeAccessTo:null})})}render(){const e=this.props.plugin,s=e.roles.is_public||"pending_public"===e.approval_status?a.RoleToPublishAs.PUBLIC:a.RoleToPublishAs.ORG;return t.createElement(t.Fragment,null,t.createElement(r,{id:"change-access-select",property:s,formatter:this.changeAccessFormatter,onChange:this.onSelectChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,svg:h[s],className:i.changeAccessSelect},t.createElement(p,{value:a.RoleToPublishAs.ORG}),t.createElement(p,{value:a.RoleToPublishAs.PUBLIC})),this.state.changeAccessTo&&t.createElement(n.PluginChangeAccessModal,{roleToPublishAs:this.state.changeAccessTo,dispatch:this.props.dispatch,closeModal:this.closeSelectModal,plugin:e}))}}g.displayName="PluginChangeAccessForm";s.PluginChangeAccessForm=l.connect(e=>({dropdownShown:e.dropdownShown}))(g)}),
(function(i,s,n){i.exports={missingIcon__OLD:"missing_image--missingIcon__OLD--1CS50",missingIcon:"missing_image--missingIcon--3J7to",missingCover__OLD:"missing_image--missingCover__OLD--2CMdK",missingCover:"missing_image--missingCover--Pf3we"}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 1.293L4.146 4.646l.708.707L7 3.207V11h1V3.207l2.146 2.146.708-.707L7.5 1.293zM2 12H1v3h14v-3h-1v2H2v-2z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,o,t){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1.293L4.646 4.646l.708.707L7.5 3.207V11h1V3.207l2.146 2.146.708-.707L8 1.293zM2 12H1v3h14v-3h-1v2H2v-2z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(i,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(3,1    ),l=s(326                             ),n=s(534                                                    ),g=s(1393                 ),c=s(1394                                   ),m=s(1395                                 );e.MissingIcon=(()=>a.createElement("div",{className:l.communityHubNewPublishingFlowEnabled()?g.missingIcon:g.missingIcon__OLD},l.communityHubNewPublishingFlowEnabled()&&a.createElement(n.SvgWithFallback,{svg:m,fallbackSvg:c}))),e.MissingCover=(()=>a.createElement("div",{className:l.communityHubNewPublishingFlowEnabled()?g.missingCover:g.missingCover__OLD},l.communityHubNewPublishingFlowEnabled()&&a.createElement(n.SvgWithFallback,{svg:m,fallbackSvg:c})))}),
(function(o,n,e){o.exports={_userSelectNone:"publish_modal--_userSelectNone--n-nxC",scrollContainer:"publish_modal--scrollContainer--30zHD",modalHeader:"publish_modal--modalHeader--13VVb",container__OLD:"publish_modal--container__OLD--12aQr",container:"publish_modal--container--21eGz",previewContainer:"publish_modal--previewContainer--3mIpT",tileContainer:"publish_modal--tileContainer--3Y_yg",previewLabel:"publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",leftColumn:"publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",rightColumn:"publish_modal--rightColumn--3bMp_",rightColumnContentRow:"publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn__OLD:"publish_modal--authorRightColumn__OLD--2P10K publish_modal--rightColumn--3bMp_",authorRightColumn:"publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",autocompleteInput:"publish_modal--autocompleteInput--3QBIy",coverFieldset:"publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",coverImageContainer:"publish_modal--coverImageContainer--2nVpz",folderIcon:"publish_modal--folderIcon--2UYP7",textInput:"publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_",lightText:"publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",helperText:"publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",_row__OLD:"publish_modal--_row__OLD--20Zac",_row:"publish_modal--_row--Q0doT",contentRow__OLD:"publish_modal--contentRow__OLD--3IVFm publish_modal--_row__OLD--20Zac",contentRow:"publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",button:"publish_modal--button--2OpWW",successContentViewSecondaryButton:"publish_modal--successContentViewSecondaryButton--16ssK publish_modal--button--2OpWW",tagsLeftColumn:"publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"publish_modal--tagsCount--iD5hk",tagsCountError:"publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",infoBannerContainer:"publish_modal--infoBannerContainer--3MWlZ",infoBannerIcon:"publish_modal--infoBannerIcon--1EIdW",infoBannerHelperText:"publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",warningBannerContainer:"publish_modal--warningBannerContainer--2WK4a publish_modal--infoBannerContainer--3MWlZ",warningBannerIcon:"publish_modal--warningBannerIcon--20-ai publish_modal--infoBannerIcon--1EIdW",doneButton:"publish_modal--doneButton--LnCNU text--fontPos14--3UJ36 text--_fontBase--YWDo0",warningColumn:"publish_modal--warningColumn--2-PPR",errorsContainer:"publish_modal--errorsContainer--3kTft",errorsRow:"publish_modal--errorsRow--24MuZ publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",errorsLeftColumn:"publish_modal--errorsLeftColumn--2elAZ text--fontPos11--RSei3 text--_fontBase--YWDo0",errorsRightColumn:"publish_modal--errorsRightColumn--1RNIO",error:"publish_modal--error--3Bhfn",warningIcon:"publish_modal--warningIcon--YEIpM",footer:"publish_modal--footer--2W7Vp",footerText:"publish_modal--footerText--Y_o7h publish_modal--_userSelectNone--n-nxC",boldText:"publish_modal--boldText--1D_1S",errorText:"publish_modal--errorText--39m8Q",buttonGroup:"publish_modal--buttonGroup--Qp4j_",publishContainer:"publish_modal--publishContainer--1xeni",publishHeader:"publish_modal--publishHeader--JiYi1 text--fontPos14--3UJ36 text--_fontBase--YWDo0",spinner__OLD:"publish_modal--spinner__OLD--1j9kT",spinner:"publish_modal--spinner--1qd30",successContentScrollContainer:"publish_modal--successContentScrollContainer--14XWM publish_modal--scrollContainer--30zHD",successContentHeaderImage:"publish_modal--successContentHeaderImage--5Uj5u",successContentBody:"publish_modal--successContentBody--2yOby",successContentTitle:"publish_modal--successContentTitle--1FGCo publish_modal--_userSelectNone--n-nxC text--fontPos24Whyte--HMiux text--_fontBaseWhyte--e6y38",successContentDescription:"publish_modal--successContentDescription--sgbkE publish_modal--_userSelectNone--n-nxC text--fontPos14--3UJ36 text--_fontBase--YWDo0",successContentInputLabel:"publish_modal--successContentInputLabel--32wTG publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",successContentInputContainer:"publish_modal--successContentInputContainer--1J6RG",successContentInput:"publish_modal--successContentInput--2M9gS",successContentParagraph:"publish_modal--successContentParagraph--2W-0t"}}),
(function(l,t,c){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0l8 14.5H0L8 0zm0 4.382c.497 0 .9.403.9.9V8.37c0 .497-.403.9-.9.9-.497 0-.9-.403-.9-.9V5.282c0-.497.403-.9.9-.9zm1.1 7.375c0-.608-.492-1.1-1.1-1.1-.607 0-1.1.492-1.1 1.1v.068c0 .608.493 1.1 1.1 1.1.608 0 1.1-.492 1.1-1.1v-.068z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function i(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(s,i)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=a(3,1    ),r=a(44,1         ),s=a(333                                                    ),i=a(224                                            ),l=a(600                                                                        ),c=a(174                        ),d=a(347                                                  ),p=a(1397                 ),h=a(114           ),u=a(213                          ),m=a(210                               ),g=a(565                                 ),f=a(103                 ),y=a(1321                                         );t.ButtonPrimaryFooter=(e=>o.createElement(i.ButtonPrimary,Object.assign({className:p.button},e))),t.ButtonSecondaryFooter=(e=>o.createElement(i.ButtonSecondary,Object.assign({className:p.button},e))),t.DoneButtonSecondaryFooter=(e=>o.createElement(i.ButtonSecondary,Object.assign({className:p.doneButton},e)));const v=a(1398                          );var b;t.FooterErrors=class extends o.Component{render(){const{errors:e,order:t}=this.props,a=t.filter(t=>!!e[t]);return 0==a.length?null:o.createElement("div",{className:p.errorsContainer},o.createElement(l.Row,{className:p.errorsRow},o.createElement("div",{className:p.errorsLeftColumn},o.createElement(c.Svg,{className:p.warningIcon,svg:v})),o.createElement("div",{className:p.errorsRightColumn},a.map((t,a)=>o.createElement("div",{key:`${t}`,className:p.error},e[t])))))}},t.extraPaddingForErrors=function(e){return 0===e?0:16+24*e},t.PublishSuccessContentView=(e=>o.createElement("div",null,o.createElement(d.ScrollContainer,{className:p.successContentScrollContainer},o.createElement("div",{className:p.successContentHeaderImage,style:{backgroundImage:`url(${e.headerImgSrc})`}}),o.createElement("div",{className:p.successContentBody},o.createElement("div",{className:p.successContentTitle},e.title),o.createElement("div",{className:p.successContentDescription},e.body))),o.createElement("div",{className:p.footer},o.createElement("div",{className:p.footerText},e.footerLeftSide),o.createElement("div",{className:p.buttonGroup},e.secondaryButton&&o.createElement(t.ButtonSecondaryFooter,{onClick:e.secondaryButton.onClick,className:p.successContentViewSecondaryButton},e.secondaryButton.text),o.createElement(t.ButtonPrimaryFooter,{onClick:e.primaryButton.onClick,disabled:e.primaryButton.disabled},e.primaryButton.text))))),function(e){e.ConnectedPublishSuccessHandleContent=r.connect(e=>({loadingState:e.loadingState}))(class extends o.PureComponent{constructor(){super(...arguments),this.state={handle:"",isVerifyingHandle:!1,profileHandleAvailability:null,didTriggerChangeProfileHandle:!1},this.onHandleChange=(e=>{this.setState({handle:e.currentTarget.value,isVerifyingHandle:!0,profileHandleAvailability:null}),this.debouncedCheckHandleAvailable()}),this.debouncedCheckHandleAvailable=h.debounce(()=>n(this,void 0,void 0,function*(){const e=yield u.verifyHandleAvailability(this.state.handle);this.setState({isVerifyingHandle:!1,profileHandleAvailability:e})}),750),this.loadingKey=(()=>this.props.creator.type===m.ProfileType.ORG?s.changeProfileHandle.loadingKeyForPayload({profileHandle:this.state.handle,orgId:this.props.creator.id}):this.props.creator.type===m.ProfileType.TEAM?s.changeProfileHandle.loadingKeyForPayload({profileHandle:this.state.handle,teamId:this.props.creator.id}):s.changeProfileHandle.loadingKeyForPayload({profileHandle:this.state.handle,userId:this.props.creator.id})),this.onSaveHandleClick=(()=>{this.setState({didTriggerChangeProfileHandle:!0}),this.props.creator.type===m.ProfileType.ORG?this.props.dispatch(s.changeProfileHandle({profileHandle:this.state.handle,done:y.popChangeProfileHandle,orgId:this.props.creator.id})):this.props.creator.type===m.ProfileType.TEAM?this.props.dispatch(s.changeProfileHandle({profileHandle:this.state.handle,done:y.popChangeProfileHandle,teamId:this.props.creator.id})):this.props.dispatch(s.changeProfileHandle({profileHandle:this.state.handle,done:y.popChangeProfileHandle,userId:this.props.creator.id}))})}componentWillUpdate(e){this.state.didTriggerChangeProfileHandle&&(g.didSucceed(e.loadingState,this.loadingKey())?e.onHandleSet():g.didFail(e.loadingState,this.loadingKey())&&(e.dispatch(f.flashActions.error("Something went wrong setting your profile handle. Please try again.")),this.setState({didTriggerChangeProfileHandle:!1})))}getFooterText(){const e=this.state.profileHandleAvailability;return e?!0===e.available?o.createElement(o.Fragment,null,"Be found at ",o.createElement("span",{className:p.boldText},"figma.com/@",this.state.handle)):o.createElement("span",{className:p.errorText},e.error||"This handle is unavailable"):null}render(){var e;const a=this.props.creator.type===m.ProfileType.ORG?"your org":this.props.creator.type===m.ProfileType.TEAM?"your team":"you";return o.createElement(t.PublishSuccessContentView,{title:this.props.title,body:o.createElement(o.Fragment,null,o.createElement("p",{className:p.successContentParagraph},"We noticed that you haven’t set a profile handle ",this.props.creator.type===m.ProfileType.USER?"":`for ${a}`," yet. This handle is unique and helps others find ",a," in the Figma community. Take a second to set it now."),o.createElement("div",{className:p.successContentInputLabel},"Up to 15 characters (letters, numbers, or _)"),o.createElement("div",{className:p.successContentInputContainer},o.createElement(i.TextInput,{className:p.successContentInput,value:this.state.handle,onChange:this.onHandleChange,placeholder:"handle"}))),secondaryButton:this.props.secondaryButton,primaryButton:{onClick:this.onSaveHandleClick,text:"Save",disabled:!(null===(e=this.state.profileHandleAvailability)||void 0===e?void 0:e.available)||g.isLoading(this.props.loadingState,this.loadingKey())},footerLeftSide:this.getFooterText(),headerImgSrc:"https://static.figma.com/uploads/fbaf618b3c71a42d81fa3d04d849cf8fee908c2d"})}})}(b||(b={})),t.PublishSuccessHandleContent=b.ConnectedPublishSuccessHandleContent}),
(function(e,n,t){e.exports={singleOption:"publishing_metadata_author_select--singleOption--3yeZW publish_modal--_userSelectNone--n-nxC"}}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(3,1    ),o=r(44,1         ),i=r(213                          ),a=r(329                                             ),n=r(111                        ),p=r(730                                                        ),h=r(1400                                     );class u extends p.Select{}e.AuthorSelect=u;class l extends p.Option{}e.AuthorOption=l;const m="PUBLISHING_METADATA_AUTHOR_SELECT";class d extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:t=>{var e;if(t.author_org_id)return this.props.orgEntity?this.props.orgEntity.name:"Org";if(t.author_team_id){const e=this.props.teams[t.author_team_id];return e?e.name:"Team"}return(null===(e=this.props.user)||void 0===e?void 0:e.handle)||"User"},isEqual:a.arePublishingMetadataAuthorsEqual},this.cmpOptions=((t,e)=>{const r=t=>t.author_org_id?3:t.author_team_id?1:2,s=r(t),o=r(e);return s===o?this.formatter.format(t)<this.formatter.format(e)?-1:1:o-s})}getOptions(){var t;const e=Object.assign(Object.assign({},this.props.permissionsState),{currentOrgId:(null===(t=this.props.orgEntity)||void 0===t?void 0:t.id)||null});return"hub_file"===this.props.resourceType?a.getAllowedAuthorsForHubFile(this.props.editingFile,e):a.getAllowedAuthorsForPlugin(this.props.roleToPublishAs,e)}render(){const t=this.getOptions();return 0===t.length?null:1===t.length?s.createElement("div",{className:h.singleOption},this.formatter.format(t[0])):s.createElement(u,{formatter:this.formatter,property:this.props.property,id:m,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown},t.sort(this.cmpOptions).map(t=>s.createElement(l,{value:t,key:t.author_org_id?`org-${t.author_org_id}`:t.author_team_id?`team-${t.author_team_id}`:"user"})))}}e.PublishingMetadataAuthorSelectInner=d,d.displayName="PublishingMetadataAuthorSelect";e.PublishingMetadataAuthorSelect=o.connect(t=>({teams:t.teams,dropdownShown:t.dropdownShown,user:t.user,orgEntity:i.getOrgPermissionEntity(t),fileByKey:t.fileByKey,permissionsState:n.getPermissionsState(t)}))(d)}),
(function(e,i,l){e.exports={rowContainer:"resource_tiles--rowContainer--1nEiD",pluginRowContainer:"resource_tiles--pluginRowContainer--1Hc_T",_tileBorder:"resource_tiles--_tileBorder--1pPBT",_tileContainer:"resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",_tileContent:"resource_tiles--_tileContent--W3jyI",profileHubFileTileCoverImage:"resource_tiles--profileHubFileTileCoverImage--1wnzJ resource_tiles--_tileContent--W3jyI",profileHubFileTileMeta__OLD:"resource_tiles--profileHubFileTileMeta__OLD--B7YUu",profileHubFileTileMeta:"resource_tiles--profileHubFileTileMeta--3oEuC",hubFileTileActionsContainer:"resource_tiles--hubFileTileActionsContainer--2GEP8",profileHubFileTilePrimary__OLD:"resource_tiles--profileHubFileTilePrimary__OLD--O84yw text--fontPos13--1DoEt text--_fontBase--YWDo0",profileHubFileTilePrimary:"resource_tiles--profileHubFileTilePrimary--2LuEb text--fontPos13--1DoEt text--_fontBase--YWDo0",profileHubFileTileTitle:"resource_tiles--profileHubFileTileTitle--272B6 ellipsis--ellipsis--1RWY6",profileHubFileTileTitle__OLD:"resource_tiles--profileHubFileTileTitle__OLD--2b_g8 ellipsis--ellipsis--1RWY6",roundedCount:"resource_tiles--roundedCount--2wm0e",installCount:"resource_tiles--installCount--26Lxj",installButton:"resource_tiles--installButton--3DkA_",likeCount:"resource_tiles--likeCount--NyanZ",roundedInstallCount:"resource_tiles--roundedInstallCount--2BTUl resource_tiles--installCount--26Lxj resource_tiles--roundedCount--2wm0e",roundedLikeCount:"resource_tiles--roundedLikeCount--pxLQ9 resource_tiles--likeCount--NyanZ resource_tiles--roundedCount--2wm0e",likeButtonEmpty:"resource_tiles--likeButtonEmpty--1iw3w",likeButton:"resource_tiles--likeButton--6c3rF resource_tiles--likeButtonEmpty--1iw3w",authorName:"resource_tiles--authorName--PgOBX ellipsis--ellipsis--1RWY6",profileHubFileTileDescription__OLD:"resource_tiles--profileHubFileTileDescription__OLD--jA8XH ellipsis--ellipsis--1RWY6",profileHubFileTileDescription:"resource_tiles--profileHubFileTileDescription--1K8zq text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsis--1RWY6",profileHubFileTileContainer:"resource_tiles--profileHubFileTileContainer--313U5 resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",profilePluginTileContainer:"resource_tiles--profilePluginTileContainer--1o93S resource_tiles--_tileContainer--1ELkB resource_tiles--_tileBorder--1pPBT",pluginTileViewAuthor:"resource_tiles--pluginTileViewAuthor--bqrO_ ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ text--fontPos11--RSei3 text--_fontBase--YWDo0",profilePluginTileContent__OLD:"resource_tiles--profilePluginTileContent__OLD--15bfQ resource_tiles--_tileContent--W3jyI",profilePluginTileContent:"resource_tiles--profilePluginTileContent--2g9Zf resource_tiles--_tileContent--W3jyI",profilePluginTileFooter__OLD:"resource_tiles--profilePluginTileFooter__OLD--1lSJT text--fontPos13--1DoEt text--_fontBase--YWDo0",profilePluginTileFooter:"resource_tiles--profilePluginTileFooter--1hwCS text--fontPos13--1DoEt text--_fontBase--YWDo0",profilePluginTileIcon:"resource_tiles--profilePluginTileIcon--2FR3m plugin--pluginIconBase--1x_Mv",profilePluginTileIcon__OLD:"resource_tiles--profilePluginTileIcon__OLD--2uTBo plugin--pluginIconBase--1x_Mv",_profilePluginTileText:"resource_tiles--_profilePluginTileText--2Bdqx",profilePluginTileName:"resource_tiles--profilePluginTileName--216Hm ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0 resource_tiles--_profilePluginTileText--2Bdqx",pluginTileIconContainer:"resource_tiles--pluginTileIconContainer--xANUI",profilePluginTileDescription:"resource_tiles--profilePluginTileDescription--C_uyp ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ resource_tiles--_profilePluginTileText--2Bdqx text--fontPos11--RSei3 text--_fontBase--YWDo0 ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ resource_tiles--_profilePluginTileText--2Bdqx text--fontPos11--RSei3 text--_fontBase--YWDo0",_profilePluginTileText__OLD:"resource_tiles--_profilePluginTileText__OLD--3WlKk",profilePluginTileName__OLD:"resource_tiles--profilePluginTileName__OLD--s6ype ellipsis--ellipsis--1RWY6 text--fontPos14--3UJ36 text--_fontBase--YWDo0 resource_tiles--_profilePluginTileText__OLD--3WlKk",profilePluginTileDescription__OLD:"resource_tiles--profilePluginTileDescription__OLD--3_Zj- ellipsis--ellipsisAfter2Lines--2xlAB ellipsis--_ellipsisAfterNLines--26JkZ resource_tiles--_profilePluginTileText__OLD--3WlKk text--fontPos11--RSei3 text--_fontBase--YWDo0",pluginTileActionsContainer:"resource_tiles--pluginTileActionsContainer--140Rz resource_tiles--rowContainer--1nEiD",profilePluginTileFooterSvg:"resource_tiles--profilePluginTileFooterSvg--1h4y0",publicProfileTileContainer:"resource_tiles--publicProfileTileContainer--v0Rnz",publicProfileTileText:"resource_tiles--publicProfileTileText--2MlRG",publicProfileTileMeta:"resource_tiles--publicProfileTileMeta--1FGk1 resource_tiles--publicProfileTileText--2MlRG",publicProfileTileTitle:"resource_tiles--publicProfileTileTitle--3VG_5 resource_tiles--publicProfileTileText--2MlRG text--fontPos14--3UJ36 text--_fontBase--YWDo0",publicProfileTileHandle:"resource_tiles--publicProfileTileHandle--6T6VJ resource_tiles--publicProfileTileText--2MlRG text--fontPos12--3tEpz text--_fontBase--YWDo0",publicProfileTileLocation:"resource_tiles--publicProfileTileLocation--34zSb resource_tiles--publicProfileTileText--2MlRG text--fontPos11--RSei3 text--_fontBase--YWDo0",publicProfileTileCreator:"resource_tiles--publicProfileTileCreator--3wb1T",publicProfileTileContent:"resource_tiles--publicProfileTileContent--1TQNU",publicProfileResourceTileContainer:"resource_tiles--publicProfileResourceTileContainer--2xAWb",publicProfileResourceTile:"resource_tiles--publicProfileResourceTile--V8-bl",_publicProfileResourceTile:"resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfileResourceTileBorder:"resource_tiles--publicProfileResourceTileBorder--1N3Is",publicProfileHubFileTile:"resource_tiles--publicProfileHubFileTile--1W68r resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfileHubFileTileMeta:"resource_tiles--publicProfileHubFileTileMeta--HbdHU",publicProfileHubFileTileName:"resource_tiles--publicProfileHubFileTileName--34NdD ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",publicProfilePluginTile:"resource_tiles--publicProfilePluginTile--2YdcV resource_tiles--_publicProfileResourceTile--2_8Kr",publicProfilePluginTileIcon:"resource_tiles--publicProfilePluginTileIcon--2iFsX plugin--pluginIconBase--1x_Mv",publicProfilePluginTileName:"resource_tiles--publicProfilePluginTileName--15jUx ellipsis--ellipsis--1RWY6 text--fontPos13--1DoEt text--_fontBase--YWDo0",publicProfileTileAvatar:"resource_tiles--publicProfileTileAvatar--33pmh",publicProfileTileEmptyContent:"resource_tiles--publicProfileTileEmptyContent--1kxrS text--fontPos12--3tEpz text--_fontBase--YWDo0",prototypeIcon:"resource_tiles--prototypeIcon--1cz4L",prototypeIconRow:"resource_tiles--prototypeIconRow--CwdZo"}}),
(function(l,h,o){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 31c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C7.716 1 1 7.716 1 16c0 8.284 6.716 15 15 15zm6.875-15l-10-6.25v12.5l10-6.25z" fill-rule="evenodd" fill-opacity="1" fill="#fff" stroke="none"/><path d="M12.875 9.75l.53-.848-1.53-.956V9.75h1zm10 6.25l.53.848L24.762 16l-1.357-.848-.53.848zm-10 6.25h-1v1.804l1.53-.956-.53-.848zM30 16c0 7.732-6.268 14-14 14v2c8.837 0 16-7.163 16-16h-2zM16 2c7.732 0 14 6.268 14 14h2c0-8.837-7.163-16-16-16v2zM2 16C2 8.268 8.268 2 16 2V0C7.163 0 0 7.163 0 16h2zm14 14C8.268 30 2 23.732 2 16H0c0 8.837 7.163 16 16 16v-2zm-3.655-19.402l10 6.25 1.06-1.696-10-6.25-1.06 1.696zm1.53 11.652V9.75h-2v12.5h2zm8.47-7.098l-10 6.25 1.06 1.696 10-6.25-1.06-1.696z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,i,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=l(3,1    ),n=l(44,1         ),s=l(106                                     ),o=l(377                                           ),r=l(330                          ),u=l(212      ),a=l(354               ),c=l(1235                                           ),p=l(1123            ),d=l(312                             ),h=l(375                        ),m=l(331                        ),g=l(210                               ),b=l(139                         ),f=l(332                         ),P=l(334                  ),v=l(221                                    ),k=l(1375                                 ),C=l(193           ),_=l(721                         ),T=l(519               ),F=l(126          ),w=l(130                                              ),E=l(475                                                     ),I=l(379                                                     ),y=l(380                                                  ),N=l(378                                               ),H=l(174                        ),D=l(376                     ),O=l(1374                              ),L=l(208        ),B=l(115          ),U=l(1402                  ),V=l(1403                                    );var A,R,x,M,S,q,z,$,j;i.HubFileTileView__OLD=(e=>t.createElement("a",{className:U.profileHubFileTileContainer,style:{backgroundColor:e.backgroundColor},onClick:e.onClick,href:e.href},t.createElement("div",{className:U.profileHubFileTileCoverImage,style:{backgroundImage:e.backgroundImage}}),t.createElement("div",{className:U.profileHubFileTileMeta__OLD},t.createElement("div",{className:U.profileHubFileTilePrimary__OLD},t.createElement("div",{className:U.profileHubFileTileTitle__OLD},e.name),e.showDuplicateCount&&t.createElement(c.RoundedCount,{className:U.roundedCount,count:e.duplicateCount}),!e.showDuplicateCount&&t.createElement(a.Avatar,{entity:e.entity,size:24})),t.createElement("div",{className:U.profileHubFileTileDescription__OLD},e.description)))),i.HubFileTileView=(e=>t.createElement("a",{className:U.profileHubFileTileContainer,style:{backgroundColor:e.backgroundColor},onClick:e.onClick,href:e.href},t.createElement("div",{className:U.profileHubFileTileCoverImage,style:{backgroundImage:e.backgroundImage}},e.isPrototype&&t.createElement("div",{className:U.prototypeIconRow},t.createElement(H.Svg,{svg:V,className:U.prototypeIcon}))),t.createElement("div",{className:U.profileHubFileTileMeta},t.createElement("div",{className:U.profileHubFileTilePrimary},t.createElement("div",{className:U.profileHubFileTileTitle},e.name),e.showDuplicateCount&&t.createElement("div",{className:U.rowContainer},t.createElement("div",{className:U.hubFileTileActionsContainer},t.createElement(c.RoundedCount,{className:U.roundedInstallCount,count:e.duplicateCount,prefix:t.createElement("div",{className:U.installButton},"↓ "),onClick:e.onDuplicateClick}),t.createElement(c.RoundedCount,{className:U.roundedLikeCount,count:e.likeCount,prefix:t.createElement("div",{className:e.hasLiked?U.likeButton:U.likeButtonEmpty},e.hasLiked?"♥ ":"♡ "),onClick:e.onLikeClick}))),!e.showDuplicateCount&&t.createElement(a.Avatar,{entity:e.entity,size:24})),e.author&&t.createElement("div",{className:U.profileHubFileTileDescription},"By ",e.author)))),function(e){class l extends t.Component{constructor(){super(...arguments),this.onClick=(e=>{var i;u.shouldUseDefaultOpenBehavior(e)||(null===(i=e)||void 0===i||i.preventDefault(),this.onTileClicked(),this.props.onClick&&this.props.onClick(e))}),this.onTileClicked=(()=>{this.props.dispatch(s.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:this.props.hubFileId}))}),this.loggedOutAction=((e,i)=>{C.isMobileBrowser?window.location.href="/login":(this.props.dispatch(T.authActions.init({origin:i})),this.props.dispatch(s.fileBrowser.showModal({type:_.AUTH_MODAL,data:{headerText:e}})))}),this.duplicate=(e=>{var i,l;if(null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser)D.duplicateHubFile(this.props.hubFileId).then(e=>{F.segment.track("Hub File Duplicated",{hubFileId:this.props.hubFileId,figFileKey:e.key}),this.props.dispatch(w.visualBell.enqueue({message:"File duplicated to your drafts",type:"hub-file-duplicate",timeout:1e4,button:{text:"View",action:()=>{B.redirect(e.url,C.isMobileBrowser?void 0:"_blank")}}})),B.redirect(e.url,C.isMobileBrowser?void 0:"_blank")}).catch(e=>{this.props.dispatch(w.visualBell.enqueue({error:!0,message:`Failed to duplicate file: ${e.message}`}))});else{const e="Log in or create an account to duplicate this file";this.loggedOutAction(e,"hub_file_duplicate_signed_out")}}),this.like=(e=>{var i,l,t,n,s;if(null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser)this.props.dispatch(N.likeHubFile({hubFileId:this.props.hubFile.id})),F.segment.track("Hub File Like Action",{likeStatus:!0,hubFileId:this.props.hubFile.id,userId:(null===(t=this.props.currentUser)||void 0===t?void 0:t.id)||"",authorOrgId:(null===(n=this.props.hubFile.author_org)||void 0===n?void 0:n.id)||"",authorUserId:(null===(s=this.props.hubFile.creator)||void 0===s?void 0:s.id)||""});else{const e="Log in or create an account to like this file";this.loggedOutAction(e,"hub_file_like_signed_out")}}),this.unlike=(e=>{var i,l,t,n,s;null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser&&(this.props.dispatch(N.unlikeHubFile({hubFileId:this.props.hubFile.id})),F.segment.track("Hub File Like Action",{likeStatus:!1,hubFileId:this.props.hubFile.id,userId:(null===(t=this.props.currentUser)||void 0===t?void 0:t.id)||"",authorOrgId:(null===(n=this.props.hubFile.author_org)||void 0===n?void 0:n.id)||"",authorUserId:(null===(s=this.props.hubFile.creator)||void 0===s?void 0:s.id)||""}))})}render(){var e;const l=this.props.hubFile;if(!l)return null;const n=D.getHubFileVersion(this.props.hubFile),s=this.props.likedHubFiles[null===(e=this.props.hubFile)||void 0===e?void 0:e.id],r=t.createElement(O.AuthorLink,{publisher:this.props.hubFile,currentUserIsMemberOfOrg:this.props.currentUserIsMemberOfOrg,className:U.authorName});return t.createElement(i.HubFileTileView,{author:r,backgroundColor:P.fileBackgroundColor(l.client_meta),onClick:this.onClick,href:o.hubFilePath(l.id),backgroundImage:`url(${l.redirect_thumbnail_url})`,name:n.name,showDuplicateCount:!!this.props.showDuplicateCount,duplicateCount:l.duplicate_count,entity:l.creator,description:n.description,likeCount:l.like_count,hasLiked:this.props.likedHubFiles[l.id],onLikeClick:s?this.unlike:this.like,onDuplicateClick:this.duplicate,isPrototype:l.viewer_mode===h.ViewerModeToPublishAs.PROTOTYPE})}}l.displayName="HubFileTile";const r=(e,i)=>{const l=e.hubFiles[i.hubFileId],t=Object.keys(e.orgById).some(e=>l.author_org&&l.author_org.id===e);return{currentUser:e.user||null,likedHubFiles:e.likedComunityHubResources.hubFiles,hubFile:l,currentUserIsMemberOfOrg:t}};e.ConnectedHubFileTile=n.connect(r)(l),e.ConnectedHubFileTileTracked=n.connect(r)(v.asTrackedClickable(l))}(A||(A={})),i.HubFileTile=A.ConnectedHubFileTile,i.HubFileTileTracked=A.ConnectedHubFileTileTracked,function(e){class l extends t.Component{constructor(){super(...arguments),this.onHubFileClick=(e=>{u.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),this.props.onClick())})}render(){const e=this.props.hubFile;if(!e)return null;const l=e.versions[e.current_hub_file_version_id];return l?t.createElement(i.HubFileTileView__OLD,{backgroundColor:P.fileBackgroundColor(e.client_meta),onClick:this.onHubFileClick,href:o.hubFilePath(e.id),backgroundImage:`url(${e.redirect_thumbnail_url})`,name:l.name,showDuplicateCount:!!this.props.showDuplicateCount,duplicateCount:e.duplicate_count,entity:e.creator,description:l.description}):null}}l.displayName="HubFileTile";const r=(e,i)=>({onClick:()=>{e(s.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i.hubFile.id}))}});e.ConnectedHubFileTile=n.connect(null,r)(l),e.ConnectedHubFileTileTracked=n.connect(null,r)(v.asTrackedClickable(l))}(R||(R={})),i.HubFileTile__OLD=R.ConnectedHubFileTile,i.HubFileTileTracked__OLD=R.ConnectedHubFileTileTracked,function(e){class l extends t.Component{render(){return t.createElement(i.HubFileTile__OLD,{hubFile:this.props.hubFile,showDuplicateCount:this.props.showDuplicateCount})}}l.displayName="ProfileHubFileTile";e.ConnectedProfileHubFileTile=n.connect((e,i)=>({hubFile:e.hubFiles[i.hubFileId]}))(l)}(x||(x={})),i.ProfileHubFileTile=x.ConnectedProfileHubFileTile,i.PluginTileView__OLD=(e=>t.createElement("a",{onClick:e.onClick,href:e.href,className:U.profilePluginTileContainer},t.createElement("div",{className:U.profilePluginTileContent__OLD},t.createElement("img",{className:U.profilePluginTileIcon__OLD,src:e.iconSrc}),t.createElement("div",{className:U.profilePluginTileName__OLD},e.name),t.createElement("div",{className:U.profilePluginTileDescription__OLD},e.description),t.createElement("div",{className:U.profilePluginTileFooter__OLD},e.showInstallCount&&t.createElement(c.RoundedCount,{className:U.roundedCount,count:e.installCount,prefix:"↓"}),!e.showInstallCount&&t.createElement(a.Avatar,{entity:e.entity,size:24}))))),i.PluginTileView=(e=>t.createElement("a",{className:U.profilePluginTileContainer,onClick:e.onClick,href:e.href},t.createElement("div",{className:U.profilePluginTileContent},t.createElement("div",{className:U.pluginTileIconContainer},t.createElement("img",{className:U.profilePluginTileIcon,src:e.iconSrc})),t.createElement("div",{className:U.profilePluginTileName},e.name),t.createElement("div",{className:U.profilePluginTileDescription},e.description),t.createElement("div",{className:U.profilePluginTileFooter},e.showInstallCount&&t.createElement("div",{className:U.pluginRowContainer},e.author&&t.createElement("div",{className:U.pluginTileViewAuthor},"By ",e.author),t.createElement("div",{className:U.pluginTileActionsContainer},t.createElement(c.RoundedCount,{className:U.roundedInstallCount,count:e.installCount,prefix:t.createElement("div",{className:U.installButton},e.isInstalled?"✓ ":"↓ "),onClick:e.onInstallClick}),t.createElement(c.RoundedCount,{className:U.roundedLikeCount,count:e.likeCount,prefix:t.createElement("div",{className:e.isLiked?U.likeButton:U.likeButtonEmpty},e.isLiked?"♥ ":"♡ "),onClick:e.onLikeClick}))),!e.showInstallCount&&t.createElement(a.Avatar,{entity:e.entity,size:24}))))),function(e){class l extends t.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{var i;null===(i=e)||void 0===i||i.preventDefault(),this.onTileClicked(),this.props.onClick&&this.props.onClick(e)}),this.onTileClicked=(()=>{var e;this.props.dispatch(s.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:null===(e=this.props.plugin)||void 0===e?void 0:e.id}))}),this.loggedOutAction=((e,i)=>{C.isMobileBrowser?window.location.href="/login":(this.props.dispatch(T.authActions.init({origin:i})),this.props.dispatch(s.fileBrowser.showModal({type:_.AUTH_MODAL,data:{headerText:e}})))}),this.like=(e=>{var i,l,t,n,s;if(null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser)this.props.dispatch(y.likePlugin({pluginId:this.props.plugin.id})),F.segment.track("Plugin Like Action",{likeStatus:!0,userId:(null===(t=this.props.currentUser)||void 0===t?void 0:t.id)||"",pluginId:this.props.plugin.id,authorOrgId:(null===(n=this.props.plugin.author_org)||void 0===n?void 0:n.id)||"",authorUserId:(null===(s=this.props.plugin.creator)||void 0===s?void 0:s.id)||""});else{const e="Log in or create an account to like this plugin";this.loggedOutAction(e,"plugin_like_signed_out")}}),this.unlike=(e=>{var i,l,t,n,s;null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser&&(this.props.dispatch(y.unlikePlugin({pluginId:this.props.plugin.id})),F.segment.track("Plugin Like Action",{likeStatus:!1,userId:(null===(t=this.props.currentUser)||void 0===t?void 0:t.id)||"",pluginId:this.props.plugin.id,authorOrgId:(null===(n=this.props.plugin.author_org)||void 0===n?void 0:n.id)||"",authorUserId:(null===(s=this.props.plugin.creator)||void 0===s?void 0:s.id)||""}))}),this.onUninstall=(e=>{var i,l;if(null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),!this.props.currentUser)return;r.isPluginInstalledForUser(this.props.plugin.id,this.props.installedPlugins)&&(this.props.dispatch(E.uninstallPlugin({pluginId:this.props.plugin.id})),this.props.dispatch(w.visualBell.enqueue({message:"Plugin Uninstalled",type:"plugin-installed",timeout:1e4,button:{text:"Undo",action:()=>{this.props.dispatch(E.installPlugin({pluginId:this.props.plugin.id,orgId:void 0}))}}})))}),this.onInstall=(e=>{var i,l;if(null===(i=e)||void 0===i||i.stopPropagation(),null===(l=e)||void 0===l||l.preventDefault(),this.props.currentUser)this.props.dispatch(I.mergePublishedAndValidate({publishedPlugins:[this.props.plugin],src:"installButton"})),this.props.dispatch(w.visualBell.enqueue({message:"Plugin Installed",type:"plugin-installed",timeout:1e4,button:{text:"Undo",action:()=>{this.props.dispatch(E.uninstallPlugin({pluginId:this.props.plugin.id}))}}})),this.props.dispatch(E.installPlugin({pluginId:this.props.plugin.id,orgId:void 0}));else{const e="Log in or create an account to install this plugin";this.loggedOutAction(e,"plugin_install_signed_out")}})}isInstalled(){const e=r.isPluginInstalledForOrg(this.props.plugin.id,this.props.installedPlugins),i=r.isPluginInstalledForUser(this.props.plugin.id,this.props.installedPlugins);return e||i}render(){const e=r.getPluginVersion(this.props.plugin),l=e.description,n=this.props.likedPlugins[this.props.pluginId];return t.createElement(i.PluginTileView,{onClick:this.onClick,href:o.pluginPath(this.props.plugin.id),author:t.createElement(k.PluginAuthorLink,{plugin:this.props.plugin}),onInstallClick:this.isInstalled()?this.onUninstall:this.onInstall,onLikeClick:n?this.unlike:this.like,description:l,name:e.name,iconSrc:e.signed_icon_url,showInstallCount:!0,isInstalled:this.isInstalled(),isLiked:this.props.likedPlugins[this.props.pluginId],installCount:this.props.plugin.install_count,likeCount:this.props.plugin.like_count,entity:this.props.plugin.creator})}}const u=(e,i)=>({currentUser:e.user||null,likedPlugins:e.likedComunityHubResources.plugins,plugin:r.getPublishedPluginById(i.pluginId,e.publishedPlugins),installedPlugins:e.installedPlugins});e.ConnectedPluginTile=n.connect(u)(l),e.ConnectedPluginTileTracked=n.connect(u)(v.asTrackedClickable(l))}(M||(M={})),i.PluginTile=M.ConnectedPluginTile,i.PluginTileTracked=M.ConnectedPluginTileTracked,function(e){class l extends t.Component{constructor(){super(...arguments),this.onClick=(e=>{u.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),this.props.onTileClick&&this.props.onTileClick(this.props.plugin.id),this.props.onClick())})}render(){var e;const l=r.getPluginVersion(this.props.plugin);let n=l.description;if(this.props.pluginOverrides&&this.props.pluginOverrides[this.props.plugin.id]){const{overrides:i}=this.props.pluginOverrides[this.props.plugin.id];n=(null===(e=i)||void 0===e?void 0:e.description)||n}return t.createElement(i.PluginTileView__OLD,{onClick:this.onClick,href:o.pluginPath(this.props.plugin.id),iconSrc:l.signed_icon_url,name:l.name,description:n,showInstallCount:this.props.showInstallCount,installCount:this.props.plugin.install_count,entity:this.props.plugin.creator})}}l.displayName="PluginTile";const a=(e,i)=>({onClick:()=>{e(s.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.plugin.id}))}});e.ConnectedPluginTileTracked=n.connect(null,a)(v.asTrackedClickable(l)),e.ConnectedPluginTile=n.connect(null,a)(l)}(S||(S={})),i.PluginTile__OLD=S.ConnectedPluginTile,i.PluginTileTracked__OLD=S.ConnectedPluginTileTracked,function(e){class l extends t.Component{render(){return t.createElement(i.PluginTile__OLD,{plugin:this.props.plugin,showInstallCount:this.props.showInstallCount,pluginOverrides:this.props.pluginOverrides,onTileClick:this.props.onTileClick})}}l.displayName="ProfilePluginTile";e.ConnectedProfilePluginsTile=n.connect((e,i)=>({plugin:e.publishedPlugins[i.pluginId]}))(l)}(q||(q={})),i.ProfilePluginTile=q.ConnectedProfilePluginsTile;class G extends t.Component{render(){const{numResources:e,maxResources:i,className:l}=this.props;return t.createElement(t.Fragment,null,e<i?Array(i-e).fill(null).map((e,i)=>t.createElement("div",{key:i,className:l})):null)}}i.EmptyResourceTilesForPadding=G,G.defaultProps={maxResources:4},function(e){class i extends t.Component{constructor(){super(...arguments),this.onHubFileClick=(e=>{u.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),e.stopPropagation(),this.props.onHubFileClick())})}render(){const e=D.getHubFileVersion(this.props.hubFile);return t.createElement("div",{className:U.publicProfileResourceTileContainer},t.createElement("div",{className:U.publicProfileResourceTile},t.createElement("a",{className:U.publicProfileHubFileTile,style:{backgroundColor:P.fileBackgroundColor(this.props.hubFile.client_meta),backgroundImage:`url(${this.props.hubFile.redirect_thumbnail_url})`},onClick:this.onHubFileClick,href:o.hubFilePath(this.props.hubFile.id)},t.createElement("div",{className:U.publicProfileResourceTileBorder}),t.createElement("div",{className:U.publicProfileHubFileTileMeta},t.createElement("div",{className:U.publicProfileHubFileTileName},e.name)))))}}i.displayName="PublicProfileHubFileTile";e.PublicProfileHubFileTile=n.connect(null,(e,i)=>({onHubFileClick:()=>{e(s.fileBrowser.selectView({view:"communityHub",subView:"hubFile",hubFileId:i.hubFile.id}))}}))(i)}(z||(z={})),function(e){class i extends t.Component{constructor(){super(...arguments),this.onPluginClick=(e=>{u.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),e.stopPropagation(),this.props.onPluginClick())})}render(){const e=r.getPluginVersion(this.props.plugin);return t.createElement("div",{className:U.publicProfileResourceTileContainer},t.createElement("div",{className:U.publicProfileResourceTile},t.createElement("a",{className:U.publicProfilePluginTile,onClick:this.onPluginClick,href:o.pluginPath(this.props.plugin.id)},t.createElement("div",{className:U.publicProfileResourceTileBorder}),t.createElement("img",{className:U.publicProfilePluginTileIcon,src:e.signed_icon_url}),t.createElement("div",{className:U.publicProfilePluginTileName},e.name))))}}i.displayName="PublicProfilePluginTile";e.PublicProfilePluginTile=n.connect(null,(e,i)=>({onPluginClick:()=>{e(s.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:i.plugin.id}))}}))(i)}($||($={})),function(e){class i extends t.Component{constructor(){super(...arguments),this.onPublicProfileClick=(e=>{u.shouldUseDefaultOpenBehavior(e)||(e.preventDefault(),this.props.onPublicProfileClick())})}render(){const e=this.props.publicProfile;if(!e)return null;const i={id:e.id,name:e.name,img_url:e.img_url};return t.createElement("a",{className:U.publicProfileTileContainer,onClick:this.onPublicProfileClick,href:o.profilePath(e.profile_handle,e.id,e.type)},t.createElement("div",{className:U.publicProfileTileCreator},t.createElement(p.MediaQuery,{query:"(max-width: 841px)"},t.createElement(a.Avatar,{entity:i,size:104,className:U.publicProfileTileAvatar})),t.createElement(p.MediaQuery,{query:"(min-width: 842px)"},t.createElement(a.Avatar,{entity:i,size:120,className:U.publicProfileTileAvatar})),t.createElement("div",{className:U.publicProfileTileMeta},t.createElement("div",{className:U.publicProfileTileTitle},e.name),e.profile_handle&&t.createElement("div",{className:U.publicProfileTileHandle},"@",e.profile_handle),e.location&&t.createElement("div",{className:U.publicProfileTileLocation},e.location))),this.props.resources.length>0&&t.createElement("div",{className:U.publicProfileTileContent},this.props.resources.map(e=>{switch(e.type){case d.PublicProfileResourceType.HUB_FILE:return t.createElement(z.PublicProfileHubFileTile,{hubFile:e,key:e.id});case d.PublicProfileResourceType.PLUGIN:return t.createElement($.PublicProfilePluginTile,{plugin:e,key:e.id});default:L.assertNever(e)}}),t.createElement(G,{numResources:this.props.resources.length,maxResources:3,className:U.publicProfileResourceTileContainer})),0===this.props.resources.length&&t.createElement("div",{className:U.publicProfileTileEmptyContent},"No resources published yet"))}}i.displayName="PublicProfileTile";e.ConnectedPublicProfileTile=n.connect(null,(e,i)=>({onPublicProfileClick:()=>{if(i.publicProfile.profile_handle)e(s.fileBrowser.selectView({view:"communityHub",subView:"handle",handle:i.publicProfile.profile_handle}));else if(i.publicProfile.type===g.ProfileType.USER)e(s.fileBrowser.selectView({view:"user",userViewTab:f.UserViewTab.PROFILE,userId:i.publicProfile.id}));else if(i.publicProfile.type===g.ProfileType.TEAM)e(s.fileBrowser.selectView({view:"team",teamViewTab:b.TeamViewTab.PROFILE,teamId:i.publicProfile.id}));else{if(i.publicProfile.type!==g.ProfileType.ORG){const e=i.publicProfile;throw new TypeError(`Unknown type: ${e}`)}e(s.fileBrowser.selectView({view:"org",orgViewTab:m.OrgViewTab.PROFILE,orgId:i.publicProfile.id}))}}}))(i)}(j||(j={})),i.PublicProfileTile=j.ConnectedPublicProfileTile}),
(function(l,o,n){l.exports={semiBoldText:"plugin_publish_modal--semiBoldText--154ax",scrollContainer:"plugin_publish_modal--scrollContainer--20v5Y publish_modal--scrollContainer--30zHD",_textAreaInput:"plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",releaseInput:"plugin_publish_modal--releaseInput--3wdEZ plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",descriptionInput:"plugin_publish_modal--descriptionInput--1P6pc plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",autocompleteInput:"plugin_publish_modal--autocompleteInput--xt6mU publish_modal--autocompleteInput--3QBIy",tagsLeftColumn:"plugin_publish_modal--tagsLeftColumn--3c79C publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"plugin_publish_modal--tagsCount--3McKh publish_modal--tagsCount--iD5hk",tagsCountError:"plugin_publish_modal--tagsCountError--1MwqA publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",tagsInput:"plugin_publish_modal--tagsInput--2Za8l plugin_publish_modal--_textAreaInput--2oPMd raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",folderIcon:"plugin_publish_modal--folderIcon--35q6x",iconFieldset:"plugin_publish_modal--iconFieldset--TeWz5 publish_modal--rightColumn--3bMp_",roleHelperTextIcon:"plugin_publish_modal--roleHelperTextIcon--2H_TR",roleHelperText:"plugin_publish_modal--roleHelperText--1kUkb",radioGroup:"plugin_publish_modal--radioGroup--3rvJ3",radioRow:"plugin_publish_modal--radioRow--vYdVZ ellipsis--ellipsis--1RWY6",ellipsis:"plugin_publish_modal--ellipsis--2cv4V ellipsis--ellipsis--1RWY6",radioRow__OLD:"plugin_publish_modal--radioRow__OLD--1l-II publish_modal--rightColumnContentRow--1MMgM",radioLabel:"plugin_publish_modal--radioLabel--1Cvru",radioIcon:"plugin_publish_modal--radioIcon--1yETP",idRow:"plugin_publish_modal--idRow--22cFi publish_modal--_userSelectNone--n-nxC publish_modal--rightColumnContentRow--1MMgM",idRowWarning:"plugin_publish_modal--idRowWarning--1wnzF",idRowWarningIcon:"plugin_publish_modal--idRowWarningIcon--1YpUC",idPendingRow:"plugin_publish_modal--idPendingRow--3R-Ax publish_modal--rightColumnContentRow--1MMgM",pendingReview:"plugin_publish_modal--pendingReview--orocJ publish_modal--rightColumn--3bMp_",publishing:"plugin_publish_modal--publishing--1mui0",spinner__OLD:"plugin_publish_modal--spinner__OLD--1T1wo publish_modal--spinner__OLD--1j9kT",spinner:"plugin_publish_modal--spinner--2iaSK publish_modal--spinner--1qd30",previewScrollContainer:"plugin_publish_modal--previewScrollContainer--9gL7F plugin_publish_modal--scrollContainer--20v5Y publish_modal--scrollContainer--30zHD",previewContainer__OLD:"plugin_publish_modal--previewContainer__OLD--1rTJm",previewContainer:"plugin_publish_modal--previewContainer--3lKee publish_modal--previewContainer--3mIpT",tileContainer:"plugin_publish_modal--tileContainer--3OjX0 publish_modal--tileContainer--3Y_yg",previewLabel:"plugin_publish_modal--previewLabel--1T70o publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",previewMetadataContainer:"plugin_publish_modal--previewMetadataContainer--EIdvs plugin_detail_view--metadataContainerMobile--3z56g detail_view--metadataContainerMobile--1U0ev",publishBody:"plugin_publish_modal--publishBody--OHFR2 text--fontPos14--3UJ36 text--_fontBase--YWDo0",lastPublished:"plugin_publish_modal--lastPublished--2VTft",disabledFooterRole:"plugin_publish_modal--disabledFooterRole--HzTCU",disabledFooterRoleSvg:"plugin_publish_modal--disabledFooterRoleSvg--2iTew",warningBannerContainer:"plugin_publish_modal--warningBannerContainer--2_qf5 publish_modal--warningBannerContainer--2WK4a publish_modal--infoBannerContainer--3MWlZ",warningBannerIcon:"plugin_publish_modal--warningBannerIcon--k_MhW publish_modal--warningBannerIcon--20-ai publish_modal--infoBannerIcon--1EIdW",modalHeader:"plugin_publish_modal--modalHeader--23ONt publish_modal--modalHeader--13VVb",container__OLD:"plugin_publish_modal--container__OLD--2g36o publish_modal--container__OLD--12aQr",container:"plugin_publish_modal--container--17okx publish_modal--container--21eGz",leftColumn:"plugin_publish_modal--leftColumn--MPdc3 publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",rightColumn:"plugin_publish_modal--rightColumn--2dMCp publish_modal--rightColumn--3bMp_",rightColumnContentRow:"plugin_publish_modal--rightColumnContentRow--17yUu publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"plugin_publish_modal--authorLeftColumn--HNkqX publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn__OLD:"plugin_publish_modal--authorRightColumn__OLD--2aeOC publish_modal--authorRightColumn__OLD--2P10K publish_modal--rightColumn--3bMp_",authorRightColumn:"plugin_publish_modal--authorRightColumn--3JvWW publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",coverFieldset:"plugin_publish_modal--coverFieldset--3CjDB publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",coverImageContainer:"plugin_publish_modal--coverImageContainer--2gV_m publish_modal--coverImageContainer--2nVpz",textInput:"plugin_publish_modal--textInput--2I9_A publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_",lightText:"plugin_publish_modal--lightText--22Jop publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",helperText:"plugin_publish_modal--helperText--3udIL publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",row:"plugin_publish_modal--row--D-ThJ undefined",contentRow__OLD:"plugin_publish_modal--contentRow__OLD--1pwJ_ publish_modal--contentRow__OLD--3IVFm publish_modal--_row__OLD--20Zac",contentRow:"plugin_publish_modal--contentRow--2Chfq publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",button:"plugin_publish_modal--button--2Fw3e publish_modal--button--2OpWW",infoBannerContainer:"plugin_publish_modal--infoBannerContainer--3Pnmc publish_modal--infoBannerContainer--3MWlZ",infoBannerIcon:"plugin_publish_modal--infoBannerIcon--3jm36 publish_modal--infoBannerIcon--1EIdW",infoBannerHelperText:"plugin_publish_modal--infoBannerHelperText--3_l7d publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",doneButton:"plugin_publish_modal--doneButton--17Sz7 publish_modal--doneButton--LnCNU text--fontPos14--3UJ36 text--_fontBase--YWDo0",warningColumn:"plugin_publish_modal--warningColumn--1XXnI publish_modal--warningColumn--2-PPR",errorsContainer:"plugin_publish_modal--errorsContainer--2MhaE publish_modal--errorsContainer--3kTft",errorsRow:"plugin_publish_modal--errorsRow--3U0sJ publish_modal--errorsRow--24MuZ publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",errorsLeftColumn:"plugin_publish_modal--errorsLeftColumn--1P9y3 publish_modal--errorsLeftColumn--2elAZ text--fontPos11--RSei3 text--_fontBase--YWDo0",errorsRightColumn:"plugin_publish_modal--errorsRightColumn--EjIjg publish_modal--errorsRightColumn--1RNIO",error:"plugin_publish_modal--error--1mwin publish_modal--error--3Bhfn",warningIcon:"plugin_publish_modal--warningIcon--2NuRs publish_modal--warningIcon--YEIpM",footer:"plugin_publish_modal--footer--Mk1M7 publish_modal--footer--2W7Vp",buttonGroup:"plugin_publish_modal--buttonGroup--2VAwN publish_modal--buttonGroup--Qp4j_",publishContainer:"plugin_publish_modal--publishContainer--1HQad publish_modal--publishContainer--1xeni",publishHeader:"plugin_publish_modal--publishHeader--jFc6r publish_modal--publishHeader--JiYi1 text--fontPos14--3UJ36 text--_fontBase--YWDo0",successContentParagraph:"plugin_publish_modal--successContentParagraph--nyK6O publish_modal--successContentParagraph--2W-0t",blueLink:"plugin_publish_modal--blueLink--I392k blue_link--blueLink--22X56"}}),
(function(o,t,i){o.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm0-1c-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7zM8 4H7v5h5V8H8V4z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(v,h,t){v.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M9 10h7v2H9v-2zm-1 2V9h9v3h7v11H8V12zm9 1H9v9h14v-9h-6z" fill-rule="evenodd" fill-opacity=".8" fill="#000" stroke="none"/></svg>'}}),
(function(l,e,o){l.exports={src:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M4 16C4 9.373 9.373 4 16 4c6.627 0 12 5.373 12 12 0 6.627-5.373 12-12 12-6.627 0-12-5.373-12-12z" fill-rule="nonzero" fill-opacity="1" fill="#ffeb00" stroke="none"/><path d="M16.9 12.282c0-.497-.403-.9-.9-.9-.497 0-.9.403-.9.9V16c0 .497.403.9.9.9.497 0 .9-.403.9-.9v-3.718zM17.1 20c0-.608-.492-1.1-1.1-1.1-.607 0-1.1.492-1.1 1.1v.069c0 .607.493 1.1 1.1 1.1.608 0 1.1-.493 1.1-1.1V20z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))(function(a,l){function n(e){try{r(s.next(e))}catch(t){l(t)}}function o(e){try{r(s.throw(e))}catch(t){l(t)}}function r(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(n,o)}r((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=i(3,1    ),l=i(44,1         ),n=i(379                                                     ),o=i(106                                     ),r=i(187                             ),c=i(117              ),u=i(114           ),p=i(145         ),m=i(111                        ),h=i(213                          ),d=i(329                                             ),g=i(377                            ),b=i(340              ),E=i(224                                            ),P=i(174                        ),v=i(1342                                      ),w=i(347                                                  ),C=i(600                                                                        ),_=i(366                                                    ),f=i(227                                 ),N=i(1336                                ),y=i(313                       ),S=i(209                              ),I=i(330                          ),F=i(178                                        ),R=i(326                             ),O=i(1387                  ),T=i(1392                         ),k=i(1396                           ),L=i(1399                           ),A=i(1401                                               ),H=i(1404                       ),D=i(1405                        ),B=i(228                              ),x=i(411                                        ),M=i(119              ),j=i(165                                     ),U=i(618                                                                 ),G=i(1390                                ),V=i(1406                                    ),W=i(1391                                 ),q=i(1407                                 ),Z=i(1406                                    ),Y="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIGZpbGw9IiNGMEYwRjAiLz48L3N2Zz4K",$=b.pxToInt(R.communityHubNewPublishingFlowEnabled()?x.communityHubPublishModalWidth:x.communityHubPublishModalWidth__OLD),z=760,J=R.communityHubNewPublishingFlowEnabled()?D.contentRow:D.contentRow__OLD,K=i(1408                                                  ),Q=i(1398                          ),X=a.createElement(P.Svg,{className:D.idRowWarningIcon,svg:Q});t.iconForRole={[y.RoleToPublishAs.PUBLIC]:i(1390                                ),[y.RoleToPublishAs.ORG]:i(1391                                 )};const ee=["usesProposedApi","name","iconImageError","coverImageError","description","tags","supportContact","id","author"];class te extends a.Component{constructor(e){super(e),this.close=(()=>{const e=this.props.publishingState.status;e.code!==S.HubPublishingStatusCode.SUCCESS&&e.code!==S.HubPublishingStatusCode.FAILURE||this.props.dispatch(n.clearPluginPublishing({id:this.props.localPlugin.localFileId})),this.props.dispatch(o.fileBrowser.hideModal())}),this.onInputChanged=(e=>t=>{this.inputDebounce(e,t.currentTarget.value)}),this.inputDebounce=u.debounce((e,t)=>{this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{[e]:t})}))},200),this.onTagsChanged=(e=>{this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{tags:e})}))}),this.onPublishingMetadataAuthorChange=(e=>{this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{author:e})}))}),this.onEditClick=(()=>{this.props.dispatch(n.updatePluginPublishingStatus({id:this.props.localPlugin.localFileId,status:{code:S.HubPublishingStatusCode.EDIT}}))}),this.onReviewClick=(()=>{this.setState({showingDeferredFieldErrors:!0}),this.props.dispatch(n.updatePluginPublishingStatus({id:this.props.localPlugin.localFileId,status:{code:S.HubPublishingStatusCode.PREVIEW}}))}),this.onPublishClickNewPublishingFlowEnabled=(()=>{this.setState({showingDeferredFieldErrors:!0});const e=this.getFormErrors(!0);0===Object.keys(e).length&&this.onPublishClick()}),this.onPublishClick=(()=>{const{metadata:e}=this.props.publishingState,t=this.props.publishedPlugin.id;this.props.dispatch(n.publishPluginVersion({pluginId:t,localFileId:this.props.localPlugin.localFileId,pluginVersion:{name:e.name,description:e.description,releaseNotes:e.releaseNotes,iconBlob:e.iconBlob,coverBlob:e.coverImageBlob}}));const i=JSON.stringify(e.tags.tokens.map(e=>e.email).sort())!==JSON.stringify(this.props.publishedPlugin.tags.sort()),s=e.supportContact||"",a=s!==this.props.publishedPlugin.support_contact;let l=e.tags.tokens.map(e=>e.email);e.tags.inputValue&&(l=l.concat([e.tags.inputValue]));const o=I.getNewRole(this.props.orgEntity,this.state.roleToPublishAs);if(null==o)return;this.rolesManagedByThisComponent()&&this.props.dispatch(n.updatePublishedPluginRole({pluginId:t,role:o}));const r=d.publishingMetadataAuthorFromHubResource(this.props.publishedPlugin),c=d.arePublishingMetadataAuthorsEqual(e.author,r);(i||a||c)&&this.props.dispatch(n.updatePublishedPlugin({pluginId:t,tags:l,supportContact:s,authorTeamId:e.author.author_team_id||"",authorOrgId:e.author.author_org_id||""}))}),this.openConsole=(()=>{this.props.localPlugin.error&&Promise.reject(this.props.localPlugin.error),c.desktopApp.openDevTools("bottom")}),this.generatePluginId=(()=>s(this,void 0,void 0,function*(){const e=yield I.newPublishedPlugin();this.props.dispatch(n.mergePublishedAndValidate({publishedPlugins:[e],src:"generatePluginId"})),this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{pendingPluginId:e.id})}))})),this.onRoleChanged=(e=>{this.setState({roleToPublishAs:e})}),this.iconRef=(e=>{e&&(this.iconFileInput=e)}),this.coverImageRef=(e=>{e&&(this.coverFileInput=e)}),this.iconUploadClick=(()=>{this.iconFileInput.click()}),this.coverUploadClick=(()=>{this.coverFileInput.click()}),this.iconUploadChange=(()=>s(this,void 0,void 0,function*(){try{const t=this.iconFileInput.files[0];I.validateIconFile(t);const i=yield I.imageWithSrcLoaded(URL.createObjectURL(t));if(128!==i.height||128!==i.width)throw new Error("Icon image dimensions must be 128×128");this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{iconSrc:i.src,iconBlob:t,iconImageError:null})}))}catch(e){this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{iconSrc:"",iconBlob:null,iconImageError:e.message})}))}})),this.coverUploadChange=(()=>s(this,void 0,void 0,function*(){try{const t=this.coverFileInput.files[0];I.validateCoverFile(t);const i=yield I.imageWithSrcLoaded(URL.createObjectURL(t));if(i.height!==R.COVER_IMAGE_HEIGHT||i.width!==R.COVER_IMAGE_WIDTH)throw new Error(`Artwork image dimensions must be ${R.COVER_IMAGE_WIDTH}×${R.COVER_IMAGE_HEIGHT}`);this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{coverImageSrc:i.src,coverImageBlob:t,coverImageError:null})}))}catch(e){this.props.dispatch(n.updatePluginPublishingMetadata({id:this.props.localPlugin.localFileId,metadata:Object.assign(Object.assign({},this.props.publishingState.metadata),{coverImageSrc:"",coverImageBlob:null,coverImageError:e.message})}))}})),this.getRoleHelperText=(()=>this.state.roleToPublishAs===y.RoleToPublishAs.ORG&&this.props.orgEntity?a.createElement("div",{className:D.roleHelperText},a.createElement(P.Svg,{svg:W,className:D.roleHelperTextIcon}),a.createElement("div",null,"Private: only people at ",this.props.orgEntity.name," have access")):a.createElement(a.Fragment,null,a.createElement("div",{className:D.roleHelperText},a.createElement(P.Svg,{svg:G,className:D.roleHelperTextIcon}),a.createElement("div",null,"Public: everyone in the world has access")),a.createElement("div",{className:D.infoBannerContainer},a.createElement(P.Svg,{className:D.infoBannerIcon,svg:Z}),a.createElement("span",{className:D.infoBannerHelperText},"Plugins published to the public will be reviewed by the Figma team. Once approved, your plugin will be available to all Figma users.")))),this.getRoleHelperText__OLD=(()=>{const e=e=>`This controls who can see and use this plugin. You can change who can use this plugin at any time. The plugin author will be shown as "${e}".`;return this.state.roleToPublishAs===y.RoleToPublishAs.ORG?a.createElement("div",{className:D.helperText},e(this.props.user.name)):a.createElement(a.Fragment,null,this.props.orgEntity&&a.createElement("div",{className:D.helperText},e(this.props.orgEntity?this.props.orgEntity.name:this.props.user.name)),a.createElement("div",{className:D.infoBannerContainer},a.createElement(P.Svg,{className:D.infoBannerIcon,svg:Z}),a.createElement("span",{className:D.infoBannerHelperText},"Plugins published to the public will be reviewed by the Figma team. Once approved, your plugin will be available to all Figma users.")))}),this.isFirstTimePublish=(()=>0===Object.keys(this.props.publishedPlugin.versions).length),this.getLastPublishedAtDateString=(()=>{const e=I.getPluginVersion(this.props.publishedPlugin);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e.created_at))}),this.getPublishedPluginFromForm=(()=>{const e=this.props.publishedPlugin,{metadata:t}=this.props.publishingState,i=I.getPluginVersion(e),s=parseInt(i.version),a=isNaN(s)?1:s+1;return{id:e.id,creator:this.props.user,install_count:e.install_count,view_count:e.view_count,like_count:e.like_count,unpublished_at:"",approved_at:null,created_at:Date.now().toString(),current_plugin_version_id:"fake_version_id",roles:e.roles,author_org:this.props.orgEntity?{id:this.props.orgEntity.id,name:this.props.orgEntity.name}:null,author_team:null,realtime_token:"",tags:[],support_contact:t.supportContact,redirect_thumbnail_url:t.coverImageSrc,versions:Object.assign({fake_version_id:{id:"fake_version_id",plugin_id:e.id,name:t.name,version:`${a}`,release_notes:t.releaseNotes,description:t.description,manifest:I.emptyManifest,created_at:(new Date).toISOString(),signed_icon_url:t.iconSrc,signed_cover_image_url:t.coverImageSrc,signed_code_url_v2:""}},e.versions)}}),this.clearPublishingErrors=(()=>{this.props.dispatch(n.updatePluginPublishingStatus({id:this.props.localPlugin.localFileId,status:{code:S.HubPublishingStatusCode.PREVIEW}}))}),this.renderPreview=(()=>{let e=null;const t=this.getFormErrors(this.state.showingDeferredFieldErrors);e=this.props.publishingState.status&&this.props.publishingState.status.code===S.HubPublishingStatusCode.UPLOADING?a.createElement("div",{className:D.publishing},a.createElement(F.LoadingSpinner,{className:D.spinner__OLD}),"Publishing"):a.createElement(a.Fragment,null,a.createElement(L.ButtonSecondaryFooter,{onClick:this.onEditClick},"Edit"),a.createElement(L.ButtonPrimaryFooter,{disabled:Object.keys(t).length>0,onClick:this.onPublishClick},"Publish"));const i=this.getPublishedPluginFromForm();return a.createElement(a.Fragment,null,a.createElement(w.ScrollContainer,{className:D.previewScrollContainer,showScrollbar:!0},a.createElement("div",{className:D.previewContainer__OLD},a.createElement(O.PluginDetailPreview,{plugin:i})),a.createElement("div",{style:{height:L.extraPaddingForErrors(Object.keys(t).length)}})),a.createElement("div",null,a.createElement(L.FooterErrors,{errors:t,order:ee}),a.createElement("div",{className:D.footer},a.createElement("div",null),a.createElement("div",{className:D.buttonGroup},e))),this.props.publishingState.status&&this.props.publishingState.status.code===S.HubPublishingStatusCode.FAILURE&&a.createElement(f.Modal,{size:"small",className:B.modal,dispatch:this.props.dispatch,disableClickOutsideToHide:!0},a.createElement("div",{className:B.title},"Publishing Error"),a.createElement("div",{className:B.modalContent},this.props.publishingState.status.error),a.createElement("div",{className:B.buttonRow},a.createElement(E.ButtonPrimary,{onClick:this.clearPublishingErrors},"Dismiss"))))}),this.renderPublishBodyText=(()=>{const e=this.props.publishedPlugin,t=I.getPluginVersion(e),i=e.roles,s=g.pluginShareURL(e.id);let l,n;return!!e.approval_status?(l="Success! Your plugin has been submitted for review.",n=a.createElement(a.Fragment,null,t.name," will now be reviewed by the Figma team. Once approved, your plugin will be available to the entire Figma community. ",a.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360039958914",target:"_blank",rel:"noopener"},"See our guidelines here."),a.createElement("br",null),a.createElement("br",null),"Below is your plugin's unique URL. Feel free to share it once your plugin is approved.",a.createElement("br",null),a.createElement("br",null),s)):(l="Success! Your plugin has been published.",n=i.org?a.createElement(a.Fragment,null,t.name," is now available to members of ",i.org.name,a.createElement("br",null),a.createElement("br",null),"Below is your plugin's unique URL. Feel free to share it with your teammates!",a.createElement("br",null),a.createElement("br",null),s):a.createElement(a.Fragment,null,t.name," is now available to the entire Figma community.",a.createElement("br",null),a.createElement("br",null),"Below is your plugin's unique URL. Feel free to share it!",a.createElement("br",null),a.createElement("br",null),s)),a.createElement(a.Fragment,null,a.createElement("div",{className:D.publishHeader},l),a.createElement("div",{className:D.publishBody},n))}),this.onShareLinkClick=(()=>{M.copyText(g.pluginShareURL(this.props.publishedPlugin.id)).then(()=>{this.props.dispatch(r.visualBellActions.enqueue({message:j.defaultStringsRaw["link-copied"]}))})}),this.getSuccessScreenText=(()=>{let e="",t="";const i=this.props.publishedPlugin,s=I.getPluginVersion(i),l=i.roles,n=g.pluginShareURL(i.id);return!!i.approval_status?(e="Success! Your plugin has been submitted for review.",t=a.createElement(a.Fragment,null,a.createElement("p",{className:D.successContentParagraph},a.createElement("span",{className:D.semiBoldText},s.name)," will now be reviewed by the Figma team. Once approved, your plugin will be available to the entire Figma community. ",a.createElement(E.LinkInline,{href:"https://help.figma.com/article/329-plugin-review-guidelines",target:"_blank",rel:"noopener"},"See our guidelines here.")),a.createElement("p",{className:D.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it once your plugin is approved."),a.createElement("div",{className:D.blueLink,onClick:this.onShareLinkClick},n))):(e=l.org?"Success! Your plugin has been published to your Org.":"Success! Your plugin has been published.",t=a.createElement(a.Fragment,null,l.org?a.createElement(a.Fragment,null,a.createElement("p",{className:D.successContentParagraph},a.createElement("span",{className:D.semiBoldText},s.name)," is now available to members of ",l.org.name),a.createElement("p",{className:D.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it with your teammates!")):a.createElement(a.Fragment,null,a.createElement("p",{className:D.successContentParagraph},a.createElement("span",{className:D.semiBoldText},s.name)," is now available to the entire Figma community."),a.createElement("p",{className:D.successContentParagraph},"Below is your plugin's unique URL. Feel free to share it!")),a.createElement("p",{className:D.blueLink,onClick:this.onShareLinkClick},n))),{title:e,description:t}}),this.renderPublishScreen=(()=>a.createElement(w.ScrollContainer,{className:D.scrollContainer,showScrollbar:!0},a.createElement("div",{className:D.publishContainer},this.renderPublishBodyText(),a.createElement(L.DoneButtonSecondaryFooter,{onClick:this.close},"Done")))),this.renderErrorScreen=(()=>a.createElement(w.ScrollContainer,{className:D.scrollContainer,showScrollbar:!0},a.createElement("div",{className:D.publishContainer},a.createElement("div",{className:D.publishHeader},"Error"),"We could not load your development plugin at the moment. Please make sure that the manifest.json file still exists and try again.",a.createElement(L.ButtonSecondaryFooter,{onClick:this.close},"Done")))),this.state={roleToPublishAs:this.getDefaultRole(),showingDeferredFieldErrors:!1,showingPluginAccessConfirmationModal:!1}}componentDidUpdate(e){e.localFileId!==this.props.localFileId&&this.setState({roleToPublishAs:this.getDefaultRole()})}getDefaultRole(){var e;return d.getDefaultRoleToPublishAsForPlugin(this.props.publishedPlugin,null===(e=this.props.orgEntity)||void 0===e?void 0:e.id)}renderIdentifier(){const e=this.props.publishedPlugin.id;if(e)return a.createElement("div",{className:D.idRow},e);if(this.props.localPlugin.error||!this.props.localPlugin.manifest)return a.createElement("div",{className:D.idRow},a.createElement("div",{className:D.idRowWarning},X," Failed to read manifest.json"),a.createElement(E.ButtonSecondary,{onClick:this.openConsole},"Open Console"));const t=this.props.publishingState.metadata.pendingPluginId;if(t)return a.createElement(a.Fragment,null,a.createElement("div",{className:D.idRow},"Please add this to your manifest.json file:"),a.createElement("div",{className:D.idPendingRow},'"id": "',t,'"'));const i=!this.props.localPlugin.manifest.id;return a.createElement("div",{className:D.idRow},a.createElement("div",{className:D.idRowWarning},i&&a.createElement("div",{className:D.idRowWarning},X," Missing ID in manifest.json"),!i&&a.createElement("div",{className:D.idRowWarning},X," Invalid ID in manifest.json")),a.createElement(E.ButtonSecondary,{onClick:this.generatePluginId},"Generate ID..."))}renderOption(e,t){return a.createElement("div",{className:D.radioRow},a.createElement(P.Svg,{svg:e,className:D.radioIcon}),a.createElement("div",{className:D.radioLabel},t))}renderRoles(){const{metadata:e}=this.props.publishingState;if(R.communityHubNewPublishingFlowEnabled())return this.props.orgEntity?a.createElement(v.RadioGroup,{className:D.radioGroup,value:this.state.roleToPublishAs,onChange:this.onRoleChanged},a.createElement(v.RadioOption,{className:D.radioRow,value:y.RoleToPublishAs.ORG,labelClassName:D.ellipsis},this.props.orgEntity.name),a.createElement(v.RadioOption,{className:D.radioRow,value:y.RoleToPublishAs.PUBLIC,disabled:!this.props.orgEntity.isAdmin||d.isUserAuthor(e.author),labelClassName:D.ellipsis},"Community")):a.createElement("div",{className:D.rightColumnContentRow},"Community");if(this.props.orgEntity){const t=this.props.orgEntity.isAdmin?"Public":`Public (only ${this.props.orgEntity.name} admins can publish publicly)`;return a.createElement(v.RadioGroup,{value:this.state.roleToPublishAs,onChange:this.onRoleChanged},a.createElement(v.RadioOption,{className:D.radioRow__OLD,value:y.RoleToPublishAs.ORG},this.renderOption(W,this.props.orgEntity.name)),a.createElement(v.RadioOption,{className:D.radioRow__OLD,value:y.RoleToPublishAs.PUBLIC,disabled:!this.props.orgEntity.isAdmin||d.isUserAuthor(e.author)},this.renderOption(G,t)))}return this.renderOption(G,"Public")}getFormErrors(e){let t={};const{metadata:i}=this.props.publishingState;return e&&(this.props.publishedPlugin.id||(t.id="Identifier is invalid"),t=Object.assign(Object.assign({},t),I.validatePluginDeferredFieldErrors(i))),this.props.localPlugin.manifest.enableProposedApi&&(t.usesProposedApi="Cannot publish a plugin using enableProposedApi in the manifest"),d.isUserAuthor(i.author)&&this.props.orgEntity&&this.state.roleToPublishAs===y.RoleToPublishAs.PUBLIC&&(t.author="Cannot publish a plugin publicly as a user from within an org"),Object.assign(Object.assign({},t),I.validatePluginPublishForm(i))}rolesManagedByThisComponent(){var e;if(R.communityHubNewPublishingFlowEnabled())return!0;const{publishedPlugin:t,orgEntity:i}=this.props;return!d.isValidPluginRole(t.roles)||!d.pluginOrgEqualsOrgEntity(t,null===(e=i)||void 0===e?void 0:e.id)}renderFooterRoles(){return this.rolesManagedByThisComponent()?a.createElement("div",{className:D.disabledFooterRole},a.createElement(P.Svg,{className:D.disabledFooterRoleSvg,svg:t.iconForRole[this.state.roleToPublishAs]}),this.state.roleToPublishAs===y.RoleToPublishAs.ORG?"Private access":"Public access"):a.createElement(T.PluginChangeAccessForm,{plugin:this.props.publishedPlugin})}renderForm(){var e,t,i;const{metadata:s}=this.props.publishingState,l=this.getFormErrors(this.state.showingDeferredFieldErrors),n=(null===(e=this.props.publishedPlugin)||void 0===e?void 0:e.id)&&Object.keys(this.props.publishedPlugin.versions).length>0&&!d.isAuthorInScope(this.props.publishedPlugin,Object.assign(Object.assign({},this.props.permissionsState),{currentOrgId:(null===(t=this.props.orgEntity)||void 0===t?void 0:t.id)||null})),o=s.tags.tokens.filter(e=>e.email.match(/^[a-zA-Z0-9_]+/g)).length,r=(null===(i=this.props.publishingState.status)||void 0===i?void 0:i.code)===S.HubPublishingStatusCode.UPLOADING;return a.createElement(a.Fragment,null,a.createElement(w.ScrollContainer,{className:D.scrollContainer,showScrollbar:!0},a.createElement("div",{className:R.communityHubNewPublishingFlowEnabled()?D.container:D.container__OLD},R.communityHubNewPublishingFlowEnabled()&&a.createElement("div",{className:D.previewContainer},a.createElement("div",{className:D.tileContainer},a.createElement(H.PluginTileView__OLD,{iconSrc:s.iconSrc||Y,name:s.name,description:s.description,showInstallCount:!1,installCount:0,entity:this.props.user})),a.createElement("div",{className:D.previewLabel},"This is a preview of your plugin as it will appear in community feeds and search results.")),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Icon",R.communityHubNewPublishingFlowEnabled()&&a.createElement("span",{className:D.lightText},"128×128")),a.createElement("div",{className:D.iconFieldset,onClick:this.iconUploadClick},a.createElement("input",{type:"file",accept:"image/*",ref:this.iconRef,onChange:this.iconUploadChange,style:{display:"none"}}),s.iconSrc?a.createElement("img",{src:s.iconSrc}):a.createElement(k.MissingIcon,null),!R.communityHubNewPublishingFlowEnabled()&&a.createElement(P.Svg,{svg:q,className:D.folderIcon}),!R.communityHubNewPublishingFlowEnabled()&&a.createElement("span",{className:D.lightText},"128×128")),a.createElement("div",{className:D.warningColumn},l.iconImageError&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Name"),a.createElement(E.TextInput,{className:D.textInput,maxLength:100,onChange:this.onInputChanged("name"),value:s.name,spellCheck:!1,autoFocus:!0}),a.createElement("div",{className:D.warningColumn},l.name&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Description"),a.createElement(N.ExpandingTextarea,{maxLength:1e4,className:D.descriptionInput,onChange:this.onInputChanged("description"),value:s.description,placeholder:"Describe how your plugin works, stating clearly what it helps users do"}),a.createElement("div",{className:D.warningColumn},l.description&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Cover Art",a.createElement("span",{className:D.lightText},`${R.COVER_IMAGE_WIDTH}×${R.COVER_IMAGE_HEIGHT}`),R.communityHubNewPublishingFlowEnabled()&&a.createElement("span",{className:D.lightText},"(safe area 1600×960)")),a.createElement("div",{className:D.coverFieldset,onClick:this.coverUploadClick},a.createElement("input",{type:"file",accept:"image/*",ref:this.coverImageRef,onChange:this.coverUploadChange,style:{display:"none"}}),a.createElement("div",{className:D.coverImageContainer},!R.communityHubNewPublishingFlowEnabled()&&a.createElement(P.Svg,{svg:q,className:D.folderIcon}),s.coverImageSrc?a.createElement("img",{src:s.coverImageSrc}):a.createElement(k.MissingCover,null))),a.createElement("div",{className:D.warningColumn},l.coverImageError&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.tagsLeftColumn},"Tags"),a.createElement("div",{className:o>12?D.tagsCountError:D.tagsCount},o),a.createElement("div",{className:D.rightColumn},a.createElement(U.AutocompleteInput,{className:D.autocompleteInput,autocomplete:s.tags,placeholder:"Add up to 12 tags, separated by commas or spaces",onChange:this.onTagsChanged,validateToken:h.validateTagToken,newTokenKeyCodes:h.autoCompleteInputNewTokenKeyCodes})),a.createElement("div",{className:D.warningColumn},l.tags&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Support contact"),a.createElement(E.TextInput,{maxLength:100,className:D.textInput,onChange:this.onInputChanged("supportContact"),value:s.supportContact,spellCheck:!1,placeholder:"Email or link where users can contact you"}),a.createElement("div",{className:D.warningColumn},l.supportContact&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.authorLeftColumn},"Author"),a.createElement("div",{className:R.communityHubNewPublishingFlowEnabled()?D.authorRightColumn:D.authorRightColumn__OLD},a.createElement("div",{className:D.rightColumnContentRow},a.createElement(A.PublishingMetadataAuthorSelect,{property:s.author,onChange:this.onPublishingMetadataAuthorChange,resourceType:"plugin",roleToPublishAs:this.state.roleToPublishAs})),n&&a.createElement("div",{className:D.warningBannerContainer},a.createElement(P.Svg,{className:D.warningBannerIcon,svg:Q}),a.createElement("span",{className:D.infoBannerHelperText},"This plugin was previously published in a different space as a different author. Publishing from the current space will change authorship of this plugin.")))),!this.isFirstTimePublish()&&a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Version notes"),a.createElement(N.ExpandingTextarea,{maxLength:1e4,className:D.releaseInput,onChange:this.onInputChanged("releaseNotes"),value:s.releaseNotes})),a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Plugin ID"),a.createElement("div",{className:D.rightColumn},this.renderIdentifier(),"pending_public"===this.props.publishedPlugin.approval_status&&a.createElement("div",{className:D.pendingReview},a.createElement(P.Svg,{svg:V}),"Pending review")),a.createElement("div",{className:D.warningColumn},l.id&&a.createElement(P.Svg,{svg:K,useOriginalSrcFills:!0}))),this.rolesManagedByThisComponent()&&a.createElement(C.Row,{className:J},a.createElement(C.Label,{className:D.leftColumn},"Publish to"),a.createElement("div",{className:D.rightColumn},this.renderRoles(),R.communityHubNewPublishingFlowEnabled()?this.getRoleHelperText():this.getRoleHelperText__OLD()))),a.createElement("div",{style:{height:L.extraPaddingForErrors(Object.keys(l).length)}})),a.createElement("div",null,a.createElement(L.FooterErrors,{errors:l,order:ee}),a.createElement("div",{className:D.footer},R.communityHubNewPublishingFlowEnabled()?this.isFirstTimePublish()?a.createElement("div",null):a.createElement("div",{className:D.lastPublished},"Last published on ",this.getLastPublishedAtDateString()):this.renderFooterRoles(),a.createElement("div",{className:D.buttonGroup},a.createElement(L.ButtonSecondaryFooter,{onClick:this.close},"Cancel"),R.communityHubNewPublishingFlowEnabled()?a.createElement(L.ButtonPrimaryFooter,{disabled:Object.keys(l).length>0,onClick:r?void 0:this.onPublishClickNewPublishingFlowEnabled},r?a.createElement(F.LoadingSpinner,{className:D.spinner}):"Publish"):a.createElement(L.ButtonPrimaryFooter,{onClick:this.onReviewClick},"Preview ->")))))}render(){let e=null;const t=this.props.publishingState.status;if(this.props.localPlugin||(e=this.renderErrorScreen()),R.communityHubNewPublishingFlowEnabled())if(t.code===S.HubPublishingStatusCode.SUCCESS){const{title:t,description:i}=this.getSuccessScreenText(),{publishedPlugin:s}=this.props;let l=void 0;l=s.author_org?this.props.publicOrgProfileById[s.author_org.id]:s.author_team?this.props.publicTeamProfileById[s.author_team.id]:this.props.userProfile,e=a.createElement(se,{creator:l,localFileId:this.props.localFileId,title:t,description:i,role:s.roles})}else e=this.renderForm();else e=t.code===S.HubPublishingStatusCode.UPLOADING||t.code===S.HubPublishingStatusCode.FAILURE||t.code===S.HubPublishingStatusCode.PREVIEW?this.renderPreview():t.code===S.HubPublishingStatusCode.SUCCESS?this.renderPublishScreen():this.renderForm();return a.createElement(_.DraggableModal,{headerClassName:D.modalHeader,title:"Publish Plugin",dragHeaderOnly:!0,onClose:this.close,initialPosition:new p.Vector(window.innerWidth/2-$/2,window.innerHeight/2-z/2),initialWidth:$},e)}}te.displayName="PluginPublishModal";var ie;t.PluginPublishModal=l.connect((e,t)=>{var i;const{localFileId:s}=t,a=e.localPlugins[s],l=I.getPublishedPluginForLocal(a,e.publishedPlugins);let n=e.publishingPlugins[s];return(null===(i=n)||void 0===i?void 0:i.metadata)||(n={status:h.getPublishingStatus(n),metadata:I.getDefaultPluginVersionMetadata(Object.assign(Object.assign({},m.getPermissionsState(e)),{localPlugins:e.localPlugins,publishedPlugins:e.publishedPlugins,currentOrgId:e.currentOrgId}),s)}),{localPlugin:a,publishedPlugin:l,orgEntity:h.getOrgPermissionEntity(e),publishingState:n,user:e.user,userProfile:e.publicUserProfileById[e.user.id]||null,publicOrgProfileById:e.publicOrgProfileById,publicTeamProfileById:e.publicTeamProfileById,dropdownShown:e.dropdownShown,permissionsState:m.getPermissionsState(e)}})(te),function(e){let t;!function(e){e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.INFO=1]="INFO"}(t||(t={}));e.ConnectedPublishModalSucessScreen=l.connect(null)(class extends a.PureComponent{constructor(e){var i;super(e),this.onDismissClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(n.clearPluginPublishing({id:this.props.localFileId})),this.props.dispatch(n.clearPluginPublishingMetadata({id:this.props.localFileId}))}),this.onNextClick=(()=>{this.setState({step:t.INFO})});let s=t.SET_PROFILE_HANDLE;null==e.creator&&(s=t.INFO),(null===(i=e.creator)||void 0===i?void 0:i.profile_handle)&&(s=t.INFO),R.profileHandlesEnabled()||(s=t.INFO),this.state={step:s}}render(){return this.state.step===t.SET_PROFILE_HANDLE?a.createElement(L.PublishSuccessHandleContent,{title:"Hi stranger! Want your very own profile handle?",secondaryButton:{onClick:this.onNextClick,text:"Maybe later"},onHandleSet:this.onNextClick,creator:this.props.creator}):a.createElement(L.PublishSuccessContentView,{title:this.props.title,body:this.props.description,footerLeftSide:this.props.role.org?null:a.createElement(a.Fragment,null,"Review our ",a.createElement(E.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines")),primaryButton:{onClick:this.onDismissClick,text:"Done"},headerImgSrc:"https://static.figma.com/uploads/e14ae87a2b36ea030ad2278309dd6c1754653eba"})}})}(ie||(ie={}));const se=ie.ConnectedPublishModalSucessScreen}),
(function(l,e,o){l.exports={scrollContainer:"hub_file_publish_modal--scrollContainer--2W6yt publish_modal--scrollContainer--30zHD",_textAreaInput:"hub_file_publish_modal--_textAreaInput--2fWO5 raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",descriptionInput:"hub_file_publish_modal--descriptionInput--1caXY hub_file_publish_modal--_textAreaInput--2fWO5 raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a publish_modal--rightColumn--3bMp_",autocompleteInput:"hub_file_publish_modal--autocompleteInput--1pu4B publish_modal--autocompleteInput--3QBIy",tagsLeftColumn:"hub_file_publish_modal--tagsLeftColumn--lf_FY publish_modal--tagsLeftColumn--3J5ZW publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",tagsCount:"hub_file_publish_modal--tagsCount--3YE8n publish_modal--tagsCount--iD5hk",tagsCountError:"hub_file_publish_modal--tagsCountError--HXrnS publish_modal--tagsCountError--1QMvQ publish_modal--tagsCount--iD5hk",licenseContainer:"hub_file_publish_modal--licenseContainer--314lK publish_modal--_userSelectNone--n-nxC publish_modal--rightColumn--3bMp_",creativeCommonsLearnMore:"hub_file_publish_modal--creativeCommonsLearnMore--BZ-OK",avatarContainer:"hub_file_publish_modal--avatarContainer--2Js99 publish_modal--rightColumn--3bMp_",avatarName:"hub_file_publish_modal--avatarName--kxbiu",agree:"hub_file_publish_modal--agree--kXB5D",checkbox:"hub_file_publish_modal--checkbox--3bHOe",coverImageLoading:"hub_file_publish_modal--coverImageLoading--1hJ62",remixedFromContainer:"hub_file_publish_modal--remixedFromContainer--YmGcH",remixedFromMetadata:"hub_file_publish_modal--remixedFromMetadata--1-pSS publish_modal--_userSelectNone--n-nxC ellipsis--ellipsis--1RWY6",remixedFromThumbnail:"hub_file_publish_modal--remixedFromThumbnail--2jG7J",remixedFromName:"hub_file_publish_modal--remixedFromName--3qSK2 ellipsis--ellipsis--1RWY6",hubFilePublishAsRadioGroup:"hub_file_publish_modal--hubFilePublishAsRadioGroup--3YMDC publish_modal--rightColumnContentRow--1MMgM",hubFilePublishAsRadioOption:"hub_file_publish_modal--hubFilePublishAsRadioOption--k_14b",shareLinksContainer:"hub_file_publish_modal--shareLinksContainer--2x_mV",coverImage:"hub_file_publish_modal--coverImage--2fJnY hub_file_detail_view--coverImage--2Gz2J undefined",buttonGroup:"hub_file_publish_modal--buttonGroup--17twt publish_modal--buttonGroup--Qp4j_",container__OLD:"hub_file_publish_modal--container__OLD--3y9rH publish_modal--container__OLD--12aQr",container:"hub_file_publish_modal--container--2gjuP publish_modal--container--21eGz",contentRow__OLD:"hub_file_publish_modal--contentRow__OLD--37P2Y publish_modal--contentRow__OLD--3IVFm publish_modal--_row__OLD--20Zac",contentRow:"hub_file_publish_modal--contentRow--ZWFRO publish_modal--contentRow--2hq49 publish_modal--_row--Q0doT",coverFieldset:"hub_file_publish_modal--coverFieldset--3Euja publish_modal--coverFieldset--2ovwV publish_modal--rightColumn--3bMp_",coverImageContainer:"hub_file_publish_modal--coverImageContainer--2RgWw publish_modal--coverImageContainer--2nVpz",footer:"hub_file_publish_modal--footer--27zpc publish_modal--footer--2W7Vp",helperText:"hub_file_publish_modal--helperText--2tvCV publish_modal--helperText--sBDHO publish_modal--rightColumn--3bMp_ publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0 publish_modal--_userSelectNone--n-nxC",infoBannerContainer:"hub_file_publish_modal--infoBannerContainer--26-Pn publish_modal--infoBannerContainer--3MWlZ",infoBannerHelperText:"hub_file_publish_modal--infoBannerHelperText--22RUj publish_modal--infoBannerHelperText--2pMnQ publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",infoBannerIcon:"hub_file_publish_modal--infoBannerIcon--1Rxg_ publish_modal--infoBannerIcon--1EIdW",leftColumn:"hub_file_publish_modal--leftColumn--EzP9A publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",lightText:"hub_file_publish_modal--lightText--3XyFl publish_modal--lightText--3Q2DU text--fontPos11--RSei3 text--_fontBase--YWDo0",modalHeader:"hub_file_publish_modal--modalHeader--ASNSz publish_modal--modalHeader--13VVb",publishContainer:"hub_file_publish_modal--publishContainer--1vgAn publish_modal--publishContainer--1xeni",publishHeader:"hub_file_publish_modal--publishHeader--3qNqD publish_modal--publishHeader--JiYi1 text--fontPos14--3UJ36 text--_fontBase--YWDo0",rightColumn:"hub_file_publish_modal--rightColumn--lnPyJ publish_modal--rightColumn--3bMp_",rightColumnContentRow:"hub_file_publish_modal--rightColumnContentRow--1zdYv publish_modal--rightColumnContentRow--1MMgM",authorLeftColumn:"hub_file_publish_modal--authorLeftColumn--2DkiH publish_modal--authorLeftColumn--3Rxvj publish_modal--leftColumn--2pHof text--fontPos11--RSei3 text--_fontBase--YWDo0",authorRightColumn__OLD:"hub_file_publish_modal--authorRightColumn__OLD--eKPbz publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",authorRightColumn:"hub_file_publish_modal--authorRightColumn--F0X-H publish_modal--authorRightColumn--1IeAl publish_modal--rightColumn--3bMp_",textInput:"hub_file_publish_modal--textInput--3n_Qq publish_modal--textInput--2Y-43 publish_modal--rightColumn--3bMp_",warningColumn:"hub_file_publish_modal--warningColumn--3H5sc publish_modal--warningColumn--2-PPR",previewContainer:"hub_file_publish_modal--previewContainer--2DHwg publish_modal--previewContainer--3mIpT",tileContainer:"hub_file_publish_modal--tileContainer--wPYRd publish_modal--tileContainer--3Y_yg",previewLabel:"hub_file_publish_modal--previewLabel--2ztqI publish_modal--previewLabel--2MBPV publish_modal--_userSelectNone--n-nxC text--fontPos11--RSei3 text--_fontBase--YWDo0",spinner:"hub_file_publish_modal--spinner--2VKZE publish_modal--spinner--1qd30",successContentParagraph:"hub_file_publish_modal--successContentParagraph--25dME publish_modal--successContentParagraph--2W-0t",shareLink:"hub_file_publish_modal--shareLink--2k23w detail_view--shareLink--2nteG",shareLinkIcon:"hub_file_publish_modal--shareLinkIcon--p6zqC detail_view--shareLinkIcon--EnAWm",shareLinkText:"hub_file_publish_modal--shareLinkText--3RiTn detail_view--shareLinkText--B_ZVh"}}),
(function(l,o,e){l.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 3.75c.414 0 .75.336.75.75v3.126c0 .414-.336.75-.75.75-.414 0-.75-.336-.75-.75V4.5c0-.414.336-.75.75-.75zM9 11c0-.552-.448-1-1-1-.552 0-1 .448-1 1v.069c0 .552.448 1 1 1 .552 0 1-.448 1-1v-.07z" fill-rule="nonzero" fill-opacity="1" fill="#000" stroke="none"/><path d="M8 0C3.582 0 0 3.582 0 8c0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zM1 8c0 3.866 3.134 7 7 7 3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(3,1    ),s=i(44,1         ),r=i(145         ),l=i(114           ),n=i(163                               ),o=i(96                     ),c=i(340              ),m=i(119              ),u=i(165                                     ),h=i(612                      ),p=i(208        ),d=i(1091                       ),g=i(106                                     ),b=i(378                                               ),f=i(187                             ),E=i(600                                                                        ),v=i(174                        ),F=i(366                                                    ),_=i(347                                                  ),C=i(1336                                ),P=i(375                        ),w=i(210                               ),y=i(331                        ),N=i(139                         ),S=i(332                         ),T=i(209                              ),k=i(376                     ),O=i(213                          ),I=i(111                        ),L=i(326                             ),D=i(1342                                      ),H=i(1399                           ),R=i(224                                            ),M=i(1223                                    ),x=i(1401                                               ),A=i(334                  ),B=i(1404                       ),V=i(178                                        ),U=i(730                                                        ),j=i(1410                          ),K=i(411                                        ),G=i(377                            ),Y=i(677                                        ),W=i(115          ),$=i(618                                                                 ),q=c.pxToInt(L.communityHubNewPublishingFlowEnabled()?K.communityHubPublishModalWidth:K.communityHubPublishModalWidth__OLD),z=900,Z=L.communityHubNewPublishingFlowEnabled()?j.contentRow:j.contentRow__OLD,J=i(1411                         ),Q=i(1408                                                  ),X=i(628                             ),ee=i(1379                           ),te=i(1380                          );const ie=["name","description","tags"];class ae extends a.Component{constructor(e){super(e),this.onClose=(()=>{this.props.hideModal()}),this.submit=(()=>{const{metadata:e}=this.props.publishingState,t=e.author.author_team_id||"",i=e.author.author_org_id||"";let a=e.tags.tokens.map(e=>e.email);e.tags.inputValue&&(a=a.concat([e.tags.inputValue]));const s={fileKey:this.props.figFile.key,name:L.communityHubNewPublishingFlowEnabled()?e.name:this.props.figFile.name,description:e.description,tags:a,thumbnailBuffer:this.state.thumbnail.buffer,viewerMode:e.viewerModeToPublishAs,authorOrgId:i,authorTeamId:t},r=k.validateHubFilePublishForm(s);Object.keys(r).length>0?this.setState({formErrors:r}):this.props.createHubFile(s)}),this.onTermsOfServiceCheck=(e=>{this.setState({termsOfServiceChecked:e.currentTarget.checked})}),this.onInputChanged=(e=>t=>{const i=t.currentTarget.value;"description"===e&&this.setState({unDebouncedDescription:i}),this.inputDebounce(e,i)}),this.updatePublishingMetadata=(e=>{this.props.onPublishingMetadataChanged(this.props.figFile.key,Object.assign(Object.assign({},this.props.publishingState.metadata),e))}),this.inputDebounce=l.debounce((e,t)=>{this.updatePublishingMetadata({[e]:t})},200),this.onTagsChanged=(e=>{this.updatePublishingMetadata({tags:e})}),this.onViewerModeToPublishAsChange=(e=>{this.updatePublishingMetadata({viewerModeToPublishAs:e}),e===P.ViewerModeToPublishAs.PROTOTYPE&&null==this.props.prototypeDevice&&h.handlePrototypeDeviceTypeChange("CUSTOM",h.asPrototypeDeviceOrNone(this.props.prototypeDevice))}),this.onPublishingMetadataAuthorChange=(e=>{this.updatePublishingMetadata({author:e})}),this.formatPrototypeDeviceType=(e=>{let t;"CUSTOM"===e?t=n.DeviceType.CUSTOM:"PRESENTATION"===e?t=n.DeviceType.PRESENTATION:"PRESET"===e?t=n.DeviceType.PRESET:"NONE"===e?t=n.DeviceType.NONE:p.assertNever(e);const i=h.defaultDesktopScalingMode(t);return d.scalingStrings[i]}),this.scalingDropdownFormatter={format:this.formatPrototypeDeviceType,isEqual:(e,t)=>this.formatPrototypeDeviceType(e)===this.formatPrototypeDeviceType(t)},this.onScalingOptionChange=(e=>{"PRESET"!==e&&h.handlePrototypeDeviceTypeChange(e,h.asPrototypeDeviceOrNone(this.props.prototypeDevice))}),this.renderScalingDropdown=(()=>{var e;const t=(null===(e=this.props.prototypeDevice)||void 0===e?void 0:e.type)||"NONE";return a.createElement(U.Select,{id:"hub-file-publish-prototype-viewer-mode",property:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onScalingOptionChange,formatter:this.scalingDropdownFormatter},a.createElement(U.Option,{value:"NONE"},this.scalingDropdownFormatter.format("NONE")),a.createElement(U.Option,{value:"CUSTOM"},this.scalingDropdownFormatter.format("CUSTOM")),a.createElement(U.Option,{value:"PRESENTATION"},this.scalingDropdownFormatter.format("PRESENTATION")))}),this.state={unDebouncedDescription:this.props.publishingState.metadata?this.props.publishingState.metadata.description:"",thumbnail:{url:"",buffer:null},formErrors:{},termsOfServiceChecked:!1},this.fetchThumbnailUrl()}fetchThumbnailUrl(){this.props.figFile&&setTimeout(()=>{let e=null;this.props.figFile.thumbnail_guid&&(e=k.getThumbnailBufferForHubFile(this.props.figFile.thumbnail_guid)),e&&0!==e.length||(e=k.getThumbnailBufferForHubFile(this.props.firstPageId));const t=URL.createObjectURL(new Blob([e]));this.setState({thumbnail:{url:t,buffer:e}})})}componentWillUnmount(){this.state.thumbnail.url&&URL.revokeObjectURL(this.state.thumbnail.url),this.props.publishingState.status.code===T.HubPublishingStatusCode.SUCCESS&&this.props.clearPublishingState()}canPublish(){return this.props.canEditFigFile&&(!this.props.orgEntity||this.props.orgEntity.isAdmin||this.props.canAdminTeam)&&(!this.props.showTermsOfServiceCheckbox||this.state.termsOfServiceChecked)&&!!this.state.thumbnail.buffer}renderErrorScreen(){return a.createElement(_.ScrollContainer,{className:j.scrollContainer,showScrollbar:!0},a.createElement("div",{className:j.publishContainer},a.createElement("div",{className:j.publishHeader},"Error"),"We could not find this Fig File. Please make sure that it is not deleted and try again.",a.createElement(H.ButtonSecondaryFooter,{onClick:this.props.hideModal},"Done")))}renderForm(){const{metadata:e}=this.props.publishingState,t=this.state.formErrors,i=e.tags.tokens.filter(e=>e.email.match(/^[a-zA-Z0-9_]+/g)).length;return a.createElement(a.Fragment,null,a.createElement(_.ScrollContainer,{className:j.scrollContainer,showScrollbar:!0},a.createElement("div",{className:L.communityHubNewPublishingFlowEnabled()?j.container:j.container__OLD},!L.communityHubNewPublishingFlowEnabled()&&a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"Preview"),a.createElement("div",{className:j.coverFieldset},a.createElement("div",{className:j.coverImageContainer},a.createElement(M.WithLoading,{className:j.coverImageLoading,isLoading:!this.state.thumbnail.url},()=>a.createElement("div",{className:j.coverImage,style:{backgroundImage:`url(${this.state.thumbnail.url})`}}))))),L.communityHubNewPublishingFlowEnabled()&&a.createElement("div",{className:j.previewContainer},a.createElement("div",{className:j.tileContainer},a.createElement(B.HubFileTileView__OLD,{backgroundColor:A.fileBackgroundColor(this.props.figFile.client_meta),backgroundImage:`url(${this.state.thumbnail.url})`,name:e.name,showDuplicateCount:!1,duplicateCount:0,entity:this.props.user,description:e.description})),a.createElement("div",{className:j.previewLabel},"Your card preview shows the first page of your file ",a.createElement(R.LinkInline,{href:"https://help.figma.com/hc/en-us/articles/360038511413-Set-a-Custom-Thumbnail",target:"_blank"},"unless you set a custom thumbnail..."))),L.communityHubNewPublishingFlowEnabled()&&a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"Name"),a.createElement(R.TextInput,{maxLength:100,className:j.textInput,onChange:this.onInputChanged("name"),value:e.name,spellCheck:!1,autoFocus:!0}),a.createElement("div",{className:j.warningColumn},t.name&&a.createElement(v.Svg,{svg:Q,useOriginalSrcFills:!0}))),a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"Description"),a.createElement(C.ExpandingTextarea,{maxLength:1e4,className:j.descriptionInput,onChange:this.onInputChanged("description"),value:this.state.unDebouncedDescription,placeholder:"Describe your work",minHeight:96}),a.createElement("div",{className:j.warningColumn},t.description&&a.createElement(v.Svg,{svg:Q,useOriginalSrcFills:!0}))),a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.tagsLeftColumn},"Tags"),a.createElement("div",{className:i>12?j.tagsCountError:j.tagsCount},i),a.createElement("div",{className:j.rightColumn},a.createElement($.AutocompleteInput,{className:j.autocompleteInput,autocomplete:e.tags,placeholder:"Add up to 12 tags, separated by commas or spaces",onChange:this.onTagsChanged,validateToken:O.validateTagToken,newTokenKeyCodes:O.autoCompleteInputNewTokenKeyCodes})),a.createElement("div",{className:j.warningColumn},t.tags&&a.createElement(v.Svg,{svg:Q,useOriginalSrcFills:!0}))),a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"Preview as a"),a.createElement("div",{className:j.rightColumn},a.createElement(D.RadioGroup,{value:e.viewerModeToPublishAs,onChange:this.onViewerModeToPublishAsChange,className:j.hubFilePublishAsRadioGroup},a.createElement(D.RadioOption,{className:j.hubFilePublishAsRadioOption,value:P.ViewerModeToPublishAs.CANVAS},"File"),a.createElement(D.RadioOption,{className:j.hubFilePublishAsRadioOption,value:P.ViewerModeToPublishAs.PROTOTYPE,disabled:n.PrototypingHelpers.firstPagePrototypeStatus()!==n.PrototypeStatus.VALID},"Prototype"),e.viewerModeToPublishAs===P.ViewerModeToPublishAs.PROTOTYPE&&this.renderScalingDropdown()))),a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.authorLeftColumn},"Author"),a.createElement("div",{className:L.communityHubNewPublishingFlowEnabled()?j.authorRightColumn:j.authorRightColumn__OLD},a.createElement("div",{className:j.rightColumnContentRow},a.createElement(x.PublishingMetadataAuthorSelect,{property:e.author,onChange:this.onPublishingMetadataAuthorChange,resourceType:"hub_file",editingFile:this.props.figFile}))),a.createElement("div",{className:j.rightColumn},this.props.figFile.folder_id===this.props.personalDraftsFolderId&&a.createElement("div",{className:j.infoBannerContainer},a.createElement(v.Svg,{className:j.infoBannerIcon,svg:J}),a.createElement("span",{className:j.infoBannerHelperText},"To publish as a Team, move this file out of drafts and into a Team project.")))),a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"License"),a.createElement("div",{className:j.licenseContainer},"Creative Commons BY 4.0"," ",a.createElement(R.LinkInline,{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",className:j.creativeCommonsLearnMore},"Learn more...")),a.createElement("div",{className:j.rightColumn},a.createElement("div",{className:j.infoBannerContainer},a.createElement(v.Svg,{className:j.infoBannerIcon,svg:J}),a.createElement("span",{className:j.infoBannerHelperText},this.props.showTermsOfServiceCheckbox&&a.createElement("div",null,"Your published file will be licensed with"," ",a.createElement(R.LinkInline,{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank"},"CC BY 4.0")),a.createElement("div",null,"Are you looking for different licensing?"," ",a.createElement(R.LinkInline,{href:"mailto:policy@figma.com",target:"_blank"},"Contact us")),this.props.showTermsOfServiceCheckbox&&a.createElement("div",{className:j.agree},a.createElement(R.Checkbox,{className:j.checkbox,id:"hub-file-publish-terms-of-service",checked:this.state.termsOfServiceChecked,onChange:this.onTermsOfServiceCheck}),a.createElement(E.Label,{htmlFor:"hub-file-publish-terms-of-service"},"I agree to the"," ",a.createElement(R.LinkInline,{href:"https://help.figma.com/hc/en-us/articles/360038510573",target:"_blank"},"Figma Community Guidelines"))))))),this.renderRemixedFrom(),a.createElement("div",{style:{height:H.extraPaddingForErrors(Object.keys(t).length)}}))),a.createElement("div",null,a.createElement(H.FooterErrors,{errors:t,order:ie}),a.createElement("div",{className:j.footer},a.createElement("div",null),a.createElement("div",{className:j.buttonGroup},a.createElement(H.ButtonSecondaryFooter,{onClick:this.props.hideModal},"Cancel"),this.props.publishingState.status.code===T.HubPublishingStatusCode.UPLOADING?a.createElement(H.ButtonPrimaryFooter,null,a.createElement(V.LoadingSpinner,{className:j.spinner})):a.createElement(H.ButtonPrimaryFooter,{disabled:!this.canPublish(),onClick:this.submit},"Publish")))))}renderRemixedFrom(){if(!L.communityHubGAEnabled||!this.props.remixedFrom)return null;const e=this.props.remixedFrom,t=k.getHubFileVersion(e);return a.createElement(E.Row,{className:Z},a.createElement(E.Label,{className:j.leftColumn},"Remixed from"),a.createElement("div",{style:{backgroundImage:`url(${e.redirect_thumbnail_url})`,backgroundColor:A.fileBackgroundColor(e.client_meta)},className:j.remixedFromThumbnail}),a.createElement("div",{className:j.remixedFromMetadata},a.createElement("div",{className:j.remixedFromName},t.name),"by ",O.getPublisherDisplayString(e)))}render(){let e=null;if(this.props.figFile)if(L.communityHubNewPublishingFlowEnabled())if(this.props.publishingState.status.code===T.HubPublishingStatusCode.SUCCESS){const{hubFile:t}=this.props;let i;i=t.author_org?this.props.publicOrgProfileById[t.author_org.id]:t.author_team?this.props.publicTeamProfileById[t.author_team.id]:this.props.userProfile,e=a.createElement(re,{creator:i,fileKey:this.props.fileKey,hubFile:t})}else e=this.renderForm();else e=this.renderForm();else e=this.renderErrorScreen();return a.createElement(F.DraggableModal,{headerClassName:j.modalHeader,title:"Publish File",dragHeaderOnly:!0,onClose:this.onClose,initialPosition:new r.Vector(window.innerWidth/2-q/2,window.innerHeight/2-z/2),initialWidth:q},e)}}ae.displayName="HubFilePublishModal";var se;t.HubFilePublishModal=s.connect((e,t)=>{var i,a,s;const{fileKey:r}=t,l=e.fileByKey[r],n=I.canEditFile(r,e),c=!Object.keys(e.hubFiles).some(t=>e.hubFiles[t].creator.id===e.user.id);let m=e.publishingHubFiles[r];m&&m.metadata||(m={status:O.getPublishingStatus(m),metadata:k.getDefaultHubFileVersionMetadata(Object.assign(Object.assign({},I.getPermissionsState(e)),{currentOrgId:e.currentOrgId,figFilePublishedAsHubFile:e.figFilePublishedAsHubFile,hubFiles:e.hubFiles}),r)});const u=O.getOrgPermissionEntity(e),p=(null===(a=null===(i=e.mirror)||void 0===i?void 0:i.appModel)||void 0===a?void 0:a.pagesList)||[];return{figFile:l,firstPageId:p.length>0?p[0].nodeId:null,dropdownShown:e.dropdownShown,publishingState:m,orgEntity:u,canEditFigFile:n,remixedFrom:e.figFileRemixedFromHubFile[r]?k.getHubFileById(e.figFileRemixedFromHubFile[r],e.hubFiles):null,showTermsOfServiceCheckbox:c,user:e.user,personalDraftsFolderId:!e.currentOrgId&&(null===(s=o.getUserDraftsFolderOrNull(e.folders,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers))||void 0===s?void 0:s.id)||null,canAdminTeam:I.canAdminTeam(l.team_id,e),publicTeamProfileById:e.publicTeamProfileById,publicOrgProfileById:e.publicOrgProfileById,userProfile:e.publicUserProfileById[e.user.id]||null,hubFile:e.hubFiles[e.figFilePublishedAsHubFile[l.key]]||null,prototypeDevice:e.mirror.selectionProperties.prototypeDevice?h.asPrototypeDeviceOrNone(e.mirror.selectionProperties.prototypeDevice):null}},(e,t)=>({createHubFile:t=>{e(b.createHubFile(t))},hideModal:()=>{e(g.fileBrowser.hideModal())},onPublishingMetadataChanged:(t,i)=>{e(b.updateHubFilePublishingMetadata({id:t,metadata:i}))},clearPublishingState:()=>{e(b.clearHubFilePublishing({id:t.fileKey})),e(b.clearHubFilePublishingMetadata({id:t.fileKey}))},dispatch:e}))(ae),function(e){let t;!function(e){e[e.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",e[e.INFO=1]="INFO"}(t||(t={}));e.ConnectedPublishModalSucessScreen=s.connect((e,t)=>{let i;return{profileUrl:i=t.creator.type===w.ProfileType.ORG?Y.selectedViewToPath(e,{view:"org",orgId:t.creator.id,orgViewTab:y.OrgViewTab.PROFILE}):t.creator.type===w.ProfileType.TEAM?Y.selectedViewToPath(e,{view:"team",teamId:t.creator.id,teamViewTab:N.TeamViewTab.PROFILE}):Y.selectedViewToPath(e,{view:"user",userId:t.creator.id,userViewTab:S.UserViewTab.PROFILE})}})(class extends a.PureComponent{constructor(e){super(e),this.onViewProfileClick=(()=>{W.redirect(this.props.profileUrl,"_blank"),this.onDismissClick()}),this.onDismissClick=(()=>{this.props.dispatch(g.fileBrowser.hideModal()),this.props.dispatch(b.clearHubFilePublishing({id:this.props.fileKey})),this.props.dispatch(b.clearHubFilePublishingMetadata({id:this.props.fileKey}))}),this.onNextClick=(()=>{this.setState({step:t.INFO})}),this.onShareLinkClick=(()=>{const e=k.getHubFileVersion(this.props.hubFile);m.copyText(G.hubFileShareURL(this.props.hubFile.id,e.name)).then(()=>{this.props.dispatch(f.visualBellActions.enqueue({message:u.defaultStringsRaw["link-copied"]}))})});let i=t.SET_PROFILE_HANDLE;e.creator.profile_handle&&(i=t.INFO),L.profileHandlesEnabled()||(i=t.INFO),this.state={step:i}}render(){const e="Success! Your Figma resource has been published.";return this.state.step===t.SET_PROFILE_HANDLE?a.createElement(H.PublishSuccessHandleContent,{title:e,secondaryButton:{onClick:this.onNextClick,text:"Maybe later"},onHandleSet:this.onNextClick,creator:this.props.creator}):a.createElement(H.PublishSuccessContentView,{title:e,body:a.createElement(a.Fragment,null,a.createElement("p",{className:j.successContentParagraph},"Your resource is now available for everyone in the community to duplicate, remix, and share. Thanks for helping elevate their design game. You rock."),a.createElement("p",{className:j.successContentParagraph},"Go on, brag about it..."),a.createElement("div",{className:j.shareLinksContainer},a.createElement("div",{className:j.shareLink,onClick:this.onShareLinkClick},a.createElement("span",{className:j.shareLinkIcon},a.createElement(v.Svg,{svg:X})),a.createElement("span",{className:j.shareLinkText},"Copy link")),a.createElement("a",{className:j.shareLink,target:"_blank",href:G.hubFileTwitterShareURL(this.props.hubFile)},a.createElement("span",{className:j.shareLinkIcon},a.createElement(v.Svg,{svg:te})),a.createElement("span",{className:j.shareLinkText},"Share on Twitter")),a.createElement("a",{className:j.shareLink,target:"_blank",href:G.hubFileFacebookShareURL(this.props.hubFile.id)},a.createElement("span",{className:j.shareLinkIcon},a.createElement(v.Svg,{svg:ee})),a.createElement("span",{className:j.shareLinkText},"Share on Facebook")))),footerLeftSide:a.createElement(a.Fragment,null,"Review our ",a.createElement(R.Link,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines",target:"_blank"},"Community Guidelines")),secondaryButton:{onClick:this.onViewProfileClick,text:"View Profile"},primaryButton:{onClick:this.onDismissClick,text:"Done"},headerImgSrc:"https://static.figma.com/uploads/3ef34434a589ce367c26d5abff71b8409d928368"})}})}(se||(se={}));const re=se.ConnectedPublishModalSucessScreen}),
(function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=n(3,1    ),o=n(475                                                     ),s=n(106                                     ),l=n(224                                            ),a=n(227                                 ),r=n(330                          ),p=n(221                                    );class u extends e.Component{constructor(){super(...arguments),this.onConfirm=(()=>{var t;this.props.dispatch(o.uninstallPlugin({pluginId:this.props.plugin.id,orgId:null===(t=this.props.orgEntity)||void 0===t?void 0:t.id}))})}render(){const t=r.getPluginVersion(this.props.plugin);return e.createElement(a.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Uninstall plugin",confirmText:"Uninstall",onConfirm:this.onConfirm},this.props),!this.props.orgEntity&&e.createElement("span",null,"Are you sure you want to uninstall ",t.name,"?"),this.props.orgEntity&&e.createElement("span",null,"Are you sure you want to uninstall ",t.name," for everyone at ",this.props.orgEntity.name,"?"))}}i.PluginUninstallModal=u,u.displayName="PluginUninstallModal";class c extends e.Component{constructor(){super(...arguments),this.onConfirm=(()=>{var t;this.props.dispatch(o.installPlugin({pluginId:this.props.plugin.id,orgId:null===(t=this.props.orgEntity)||void 0===t?void 0:t.id}))}),this.installForSelfText=(t=>`${t} is a plugin that was used to edit this object. You don't have it installed. Do you want to install it?`),this.installForOrgText=((t,i)=>`${t} is a plugin that was used to edit this object. Your org doesn't have it installed. Do you want to install it for everyone at ${i}?`),this.onPluginClick=(t=>{t.metaKey||(t.preventDefault(),this.props.dispatch(s.fileBrowser.selectView({view:"communityHub",subView:"plugin",publishedPluginId:this.props.plugin.id})))}),this.linkToPlugin=(t=>e.createElement(l.Link,{onClick:this.onPluginClick},"More info about ",t))}render(){const t=r.getPluginVersion(this.props.plugin),i=t.name;return e.createElement(p.TrackingContext,{name:"PluginInstallModal",disableViewTracking:!0,properties:{pluginId:t.plugin_id}},e.createElement(a.ConfirmationModal,Object.assign({autoFocusConfirm:!0,confirmationTitle:`Install ${i}`,confirmText:"Install",cancelText:"Cancel",onConfirm:this.onConfirm,helperText:this.linkToPlugin(i)},this.props),!this.props.orgEntity&&e.createElement("span",null,this.installForSelfText(i)),this.props.orgEntity&&e.createElement("span",null,this.installForOrgText(i,this.props.orgEntity.name))))}}i.PluginInstallModal=c,c.displayName="PluginInstallModal"}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(3,1    ),n=a(240                             ),i=a(106                                     ),m=a(224                                            ),r=a(227                                 ),o=a(228          );class c extends s.Component{constructor(e){super(e),this.updateName=(e=>{this.setState({name:e.target.value})}),this.changeName=(e=>{e.preventDefault(),this.props.dispatch(n.user.put({user:{id:this.props.user.id,name:this.state.name},userInitiated:!0})),this.props.dispatch(i.fileBrowser.hideModal())}),this.state={name:e.user.name}}render(){return s.createElement(r.Modal,{size:"small",title:"Change Name",className:o.modal,dispatch:this.props.dispatch},s.createElement("form",{onSubmit:this.changeName},s.createElement(m.TextInput,{name:"name",type:"text",className:o.textInput,autoFocus:!0,placeholder:"New name",value:this.state.name,onChange:this.updateName}),s.createElement("div",{className:o.buttonRow},s.createElement(m.ButtonPrimary,{type:"submit",className:o.confirmButton},"Save"))))}}t.ChangeNameModal=c,c.displayName="ChangeNameModal"}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(634                                               ),i=s(3,1    ),r=s(436                      ),o=s(1202                                                           ),n=s(111                        ),p=s(1203                                  ),l=s(1204                                     ),d=s(1205                                         ),_=s(1207                                         ),c=s(1209                                               ),m=s(1210                                            ),E=s(1211                                           ),h=s(1212                                          ),O=s(1260                                                                            ),M=s(147                       ),g=s(1264                                                                  ),u=s(1265                                                                          ),A=s(1266                                  ),f=s(1276                                                ),I=s(1278                                                        ),L=s(1280                                                          ),w=s(1282                                                              ),N=s(1285                                                                   ),b=s(1286                                                             ),C=s(1288                                                              ),D=s(1289                                ),v=s(1291                                       ),S=s(1292                                   ),R=s(1293                                       ),T=s(1294                               ),P=s(1295                                      ),F=s(1296                                       ),j=s(1297                                                      ),y=s(1323                                                     ),U=s(1325                                                       ),V=s(1326                                     ),G=s(1327                                          ),H=s(1329                                                  ),k=s(1330                                              ),K=s(1331                                                          ),W=s(1332                                                   ),B=s(1333                                                          ),Y=s(1334                                                        ),q=s(1340                                                  ),x=s(684                                                  ),Q=s(227                   ),J=s(95                      ),z=s(1344                                        ),X=s(1346                                         ),Z=s(1348                              ),$=s(1356                     ),ee=s(1409                                  ),ae=s(1412                                    ),se=s(136                            ),te=s(1413                                  ),ie=s(221                                    ),re=s(651                          ),oe=s(1414                 ),ne=s(229                   );class pe extends i.Component{render(){if(J.isOrgSuspended(this.props.currentOrgId,this.props))return i.createElement(H.OrgSuspensionModal,{currentOrgId:this.props.currentOrgId,dispatch:this.props.dispatch,permissionsState:n.getPermissionsState(this.props)});if(this.props.user&&!(this.props.user.email_validated_at||r.inGracePeriod(this.props.user))&&!re.isUserAccountSettingsView(this.props.selectedView))return i.createElement(o.EmailValidationModal,Object.assign({},this.props));let e=this.props.modalShown;if(e){switch(e.type){case se.TILE_COPY_LINK_MODAL:return i.createElement(p.TileCopyLinkModal,Object.assign({modal:e},this.props));case se.FOLDER_DELETE_CONFIRM_MODAL:return i.createElement(d.FolderDeleteConfirmModal,Object.assign({modal:e},this.props));case se.FOLDER_SLACK_SETTINGS_MODAL:return i.createElement(_.FolderSlackSettingsModal,Object.assign({modal:e},this.props));case se.CONFIRM_TRANSFER_OWNERSHIP_MODAL:return i.createElement(K.ConfirmTransferOwnershipModal,Object.assign({},e.data,this.props));case se.CONFIRM_REMOVE_ROLE_MODAL:return i.createElement(W.ConfirmRemoveRoleModal,Object.assign({},e.data,this.props));case se.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL:return i.createElement(B.ConfirmReduceLinkAccessAndLoseEditRights,Object.assign({},e.data,this.props));case se.CONFIRM_ORG_GUEST_INVITE_MODAL:return i.createElement(Y.ConfirmOrgGuestInviteModal,Object.assign({},e.data,{dispatch:this.props.dispatch}));case se.CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL:return i.createElement(c.ConfirmWhitelistOrgGuestInviteModal,Object.assign({},e.data,{dispatch:this.props.dispatch}));case se.TEAM_FOLDER_MOVE_CONFIRM_MODAL:return i.createElement(m.TeamFolderMoveConfirmModal,Object.assign({modal:e},this.props));case se.FILE_MOVE_CONFIRM_MODAL:return i.createElement(l.FileMoveConfirmModal,Object.assign({modal:e},this.props));case se.CONFIRM_COMMENT_DELETION_MODAL:{let a=e.data.comment;return i.createElement(h.CommentDeleteConfirmModal,Object.assign({comment:a},this.props))}case se.CONFIRM_COMMENT_MENTION_MODAL:{let{usersWithoutFileAccess:a,onCancel:s,onConfirm:t}=e.data;return i.createElement(E.CommentMentionConfirmModal,Object.assign({onConfirm:t,onCancel:s,usersWithoutFileAccess:a},this.props))}case se.PUBLISH_COMPONENTS_MODAL:return i.createElement(g.PublishingModal,Object.assign({},this.props));case se.CONFIRM_UNPUBLISH_COMPONENTS:return i.createElement(u.ConfirmUnpublishModal,Object.assign({},this.props));case se.CHANGE_PASSWORD_MODAL:return i.createElement(S.ChangePasswordModal,Object.assign({},this.props));case se.INVALIDATE_SESSIONS:return i.createElement(R.InvalidateSessionsModal,Object.assign({},this.props));case se.SETUP_PHONE_MODAL:return i.createElement(T.PhoneSetupModal,Object.assign({},this.props));case se.DISABLE_TWO_FACTOR_MODAL:return i.createElement(P.DisableTwoFactorModal,Object.assign({},this.props));case se.TWO_FACTOR_RECOVERY_MODAL:return i.createElement(F.TwoFactorRecoveryModal,Object.assign({},this.props));case se.CHANGE_EMAIL_MODAL:return i.createElement(D.ChangeEmailModal,{dispatch:this.props.dispatch});case se.CHANGE_NAME_MODAL:return i.createElement(oe.ChangeNameModal,{dispatch:this.props.dispatch,user:this.props.user});case se.DELETE_USER_ACCOUNT_MODAL:return i.createElement(v.DeleteUserAccountModal,Object.assign({},this.props));case se.UPGRADING_MODAL:return i.createElement(A.UpgradingModal,{upgradingState:this.props.modalShown.data.upgradingState,dispatch:this.props.dispatch});case se.PRO_PITCH_MODAL:return i.createElement($.ProPitchModal,{dispatch:this.props.dispatch,teamId:e.data.teamId,selectedView:this.props.selectedView});case se.MORE_PAYMENT_OPTIONS_MODAL:{const{teamId:a}=this.props.modalShown.data;return ie.asTrackedElement(i.createElement(f.MorePaymentOptionsModal,Object.assign({},this.props,{teamId:e.data.teamId})),"More Payment Options Modal",{teamId:a})}case se.CONFIRM_SEATS_MODAL:return i.createElement(f.ConfirmSeatsModal,Object.assign({},this.props));case se.TEAM_USAGE_MODAL:{let a=this.props.teams[e.data.teamId];return i.createElement(k.LockedTeamUsageModal,{team:a,selectedView:this.props.selectedView,state:n.getPermissionsState(this.props),dispatch:this.props.dispatch})}case se.TEAM_ADMIN_USER_DETAILS_MODAL:{const{editor:e}=this.props.modalShown.data;return ie.asTrackedElement(i.createElement(I.UserDetailsModal,Object.assign({},this.props)),"Team Admin User Details Modal",{teamId:e.team_id,editorId:e.id})}case se.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR:{const{editor:e}=this.props.modalShown.data;return ie.asTrackedElement(i.createElement(I.ConfirmRemoveEditorModal,Object.assign({},this.props)),"Team Admin Confirm Remove Editor Modal",{teamId:e.team_id,editorId:e.id})}case se.TEAM_ADMIN_CHANGE_PAYMENT:return i.createElement(L.ChangePaymentModal,Object.assign({},this.props));case se.TEAM_ADMIN_CHANGE_INVOICE_RECEIVER:return i.createElement(N.ChangeInvoiceReceiverModal,{teamId:this.props.selectedView.teamId,invoiceReceiver:this.props.modalShown.data.invoiceReceiver,admins:this.props.modalShown.data.admins,dispatch:this.props.dispatch});case se.TEAM_ADMIN_CONFIRM_DOWNGRADE:return i.createElement(b.ConfirmDowngradeModal,Object.assign({},this.props));case se.TEAM_ADMIN_CHANGE_ANNUAL_PLAN:return i.createElement(w.ChangeAnnualPlanModal,Object.assign({},this.props,{selectedView:this.props.selectedView}));case se.TEAM_ADMIN_CANCEL_ANNUAL_PLAN:return i.createElement(w.ConfirmCancelAnnualPlanModal,Object.assign({},this.props,{selectedView:this.props.selectedView}));case se.LICENSE_AGREEMENT_MODAL:return i.createElement(x.LicenseAgreementModal,Object.assign({},this.props,{selectedView:this.props.selectedView}));case se.NEW_FOLDER_MODAL:return i.createElement(C.NewFolderModal,Object.assign({dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,creatingNewFolder:this.props.creatingNewFolder,modalShown:this.props.modalShown},n.getPermissionsState(this.props)));case se.BLOCK_MOVING_PRIVATE_PROJECT:return i.createElement(j.BlockMovingPrivateProjectModal,Object.assign({folder:this.props.modalShown.data.folder},this.props));case se.LIBRARY_PREFERENCES_MODAL:{const a=e.data&&e.data.tab;return i.createElement(O.LibraryPreferencesModal,Object.assign({},this.props,{tab:a,recordingKey:"libraryPreferencesModal"}))}case se.SHARED_FONTS_MODAL:return i.createElement(O.LibraryPreferencesModal,Object.assign({},this.props,{tab:M.LibraryPreferencesModalTab.FONTS,recordingKey:"libraryPreferencesModal"}));case se.REQUEST_ACCESS_MODAL:return i.createElement(U.RequestAccessModal,{dispatch:this.props.dispatch,team:this.props.modalShown.data.team,user:this.props.user});case se.ORG_DASHBOARD_MODAL:return i.createElement(y.OrgDashboardModal,Object.assign({},this.props));case se.TEAM_CONFIRM_LEAVE_MODAL:return i.createElement(q.TeamLeaveModal,{teamId:this.props.modalShown.data.teamId,permissionsState:n.getPermissionsState(this.props),dispatch:this.props.dispatch});case se.TEAM_CONFIRM_DELETE_MODAL:{let a=this.props.teams[e.data.teamId];return i.createElement(V.TeamDeleteModal,{team:a,subscriptionStatus:e.data.subscriptionStatus,dispatch:this.props.dispatch})}case se.REQUIRE_SSO_MODAL:return i.createElement(z.RequireSSOModal,Object.assign({dispatch:this.props.dispatch},e.data));case se.PROVISIONING_API_TOKEN_MODAL:return i.createElement(z.ProvisioningApiTokenModal,Object.assign({dispatch:this.props.dispatch},e.data));case se.CONFIGURE_SAML_MODAL:return i.createElement(X.ConfigureSAMLModal,Object.assign({dispatch:this.props.dispatch},e.data));case se.CONFIGURE_SAML_CONFIRMATION_MODAL:return i.createElement(X.ConfigureSAMLConfirmationModal,Object.assign({dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId},e.data));case se.LEAVE_ORG_CONFIRMATION_MODAL:return i.createElement(Z.OrgLeaveModal,Object.assign({dispatch:this.props.dispatch},e.data));case se.LEAVE_UNSAVED_DOCUMENT_MODAL:return i.createElement(G.LeaveUnsavedDocumentModal,Object.assign({modal:e},this.props));case se.VIEW_RESTRICTED_FILE_MODAL:return i.createElement(t.ViewRestrictedFileModal,{user:e.data.user,dispatch:this.props.dispatch});case se.CONFIRMATION_MODAL:return i.createElement(Q.ConfirmationModal,Object.assign({},e.data));case se.ORG_INVITE_MODAL:return i.createElement(c.OrgInviteModal,Object.assign({},this.props));case se.PLUGIN_PUBLISH_MODAL:return i.createElement(ee.PluginPublishModal,{localFileId:e.data.localFileId});case se.PLUGIN_UNINSTALL_MODAL:return i.createElement(te.PluginUninstallModal,{plugin:e.data.plugin,orgEntity:e.data.orgEntity,dispatch:this.props.dispatch,recordingKey:"pluginUninstallModal"});case se.PLUGIN_INSTALL_MODAL:return i.createElement(te.PluginInstallModal,{plugin:e.data.plugin,orgEntity:e.data.orgEntity,dispatch:this.props.dispatch,recordingKey:"pluginInstallModal"});case se.HUB_FILE_PUBLISH_MODAL:return i.createElement(ae.HubFilePublishModal,{fileKey:e.data.fileKey})}const a=ne.modalForType(e.type);if(a)return a(this.props)}return null}}a.AppModal=pe,pe.displayName="AppModal"}),
(function(o,r,e){o.exports={button:"unsupported_browser--button--2-5h-",confirmButton:"unsupported_browser--confirmButton--35aA4",primaryButtonLink:"unsupported_browser--primaryButtonLink--39d5e",disabledButton:"unsupported_browser--disabledButton--3I0Cz",cancelLink:"unsupported_browser--cancelLink--1sKRr unsupported_browser--button--2-5h-",list:"unsupported_browser--list--rQfkI",left:"unsupported_browser--left--3s74Y",blueLink:"unsupported_browser--blueLink--4VgCG blue_link--blueLink--22X56",buttonRow:"unsupported_browser--buttonRow--2erK6",forgotLink:"unsupported_browser--forgotLink--1WzQZ",modalShadow:"unsupported_browser--modalShadow--2oXkG",modal:"unsupported_browser--modal--3Xz7X unsupported_browser--modalShadow--2oXkG",modalContent:"unsupported_browser--modalContent--389n5",welcome:"unsupported_browser--welcome--3RQXk unsupported_browser--modalContent--389n5",exportIcon:"unsupported_browser--exportIcon--1qytt",important:"unsupported_browser--important--1wppE",title:"unsupported_browser--title--fTSW6",textInput:"unsupported_browser--textInput--3NQAK",tfaQrCode:"unsupported_browser--tfaQrCode--H07MJ",error:"unsupported_browser--error--2FP37",code:"unsupported_browser--code--YZhF2",codes:"unsupported_browser--codes--qX7ws",avatarWithHandle:"unsupported_browser--avatarWithHandle--36dWJ",searchContainer:"unsupported_browser--searchContainer--3Ttze",duplicateHandleMessage:"unsupported_browser--duplicateHandleMessage--1Nv3s text--fontPos11--RSei3 text--_fontBase--YWDo0",profileHandleButtonRow:"unsupported_browser--profileHandleButtonRow--rUE1o unsupported_browser--buttonRow--2erK6",link:"unsupported_browser--link--1IQJD",logos:"unsupported_browser--logos--3nr4R",logo:"unsupported_browser--logo--3b0cz unsupported_browser--link--1IQJD"}}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(3,1    ),a=s(227                                 ),n=s(224                                            ),r=s(117              ),p=s(1416                       );function l(){location.href="/downloads"}t.isUnsupportedDesktopApp=function(){return!(!r.isRunningOutdatedDesktopApp()&&!r.isRunningUnsupportedDesktopAppPlatform())};class i extends o.PureComponent{renderUnsupportedDesktopAppOS(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Your operating system is out of date!"),o.createElement("div",{className:p.modalContent},"Figma Desktop App now requires macOS 10.10 or later. Please upgrade to a newer version of macOS or use ",o.createElement("a",{href:"https://www.figma.com",target:"_blank"},"www.figma.com")," on the web instead."))}renderOutdatedDesktopApp(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Figma Desktop App is out of date!"),o.createElement("div",{className:p.modalContent},"Please download and install the latest version of the Figma Desktop App."),o.createElement("div",{className:p.buttonRow},o.createElement(n.ButtonPrimary,{className:p.confirmButton,onClick:l},"Download")))}render(){return r.isRunningUnsupportedDesktopAppPlatform()?this.renderUnsupportedDesktopAppOS():this.renderOutdatedDesktopApp()}}t.UnsupportedDesktopAppModal=i,i.displayName="UnsupportedBrowserModal"}),
(function(l,o,u){l.exports={callout:"onboarding_callout--callout--3Ervi",pulse:"onboarding_callout--pulse--1VeJ_"}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(3,1    ),o=n(1418                      );class r extends l.Component{UNSAFE_componentWillMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){const e=document.querySelector(`[data-onboarding-key=${this.props.target}]`);if(e){const t=e.getBoundingClientRect();if(!e.offsetParent)return l.createElement("div",null);const n=t.left+t.width/2,r={top:t.top+t.height/2,left:n};return l.createElement("div",{className:o.callout,style:r})}return l.createElement("div",null)}}t.OnboardingCallout=r,r.displayName="OnboardingCallout"}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(3,1    ),n=i(7,1        ),s=i(145         ),a=i(224                                            ),r=i(366                                                    ),l=i(1162                                                             ),d=i(221                                    ),p=i(479                                  ),h=i(1164                                                         ),c=i(1419                                                              ),g=i(1170                                          ),m=i(362                                                  ),u=i(1166                         ),b=i(468                                           ),f=i(227                                 ),y=350,w=328,E=10,C=12,v=18,O=t=>null!==t?t:void 0;e.OnboardingSequence=u.withDispatch(class extends o.Component{constructor(t){super(t),this.isOnLastStep=(()=>this.state.currentStep===this.props.steps.length-1),this.advanceStepOrComplete=(()=>{this.isOnLastStep()?(this.setUserFlagsForPassedSteps(),this.props.onComplete&&this.props.onComplete(),this.hideRCSOnboarding()):this.setState({currentStep:this.state.currentStep+1})}),this.setUserFlagsForPassedSteps=(()=>{const t={};for(let e=0;e<this.props.steps.length;e++){const{userFlag:i}=this.props.steps[e];i&&(t[i]=!0)}if(this.props.userFlagsOnComplete)for(let e of this.props.userFlagsOnComplete)t[e]=!0;Object.keys(t).length>0&&this.props.dispatch(p.userFlags.post({flags:t}))}),this.hideRCSOnboarding=(()=>{this.props.dispatch(b.responsiveContentActions.hideOnboardingSequence())}),this.state={currentStep:0,steps:t.steps}}static getDerivedStateFromProps(t,e){for(let i=0;i<Math.max(e.steps.length,t.steps.length);i++)if(t.steps[i]!==e.steps[i])return{steps:t.steps,currentStep:0};return null}attachButtonText(t){return Object.assign(Object.assign({},t),{ctaText:t.ctaText||(this.isOnLastStep()?"Done":"Next")})}render(){if(0===this.props.steps.length)return o.createElement("div",null);const t=this.attachButtonText(this.props.steps[this.state.currentStep]),e=t.key||t.highlightOnlyKey;return o.createElement(o.Fragment,null,e&&o.createElement(c.OnboardingCallout,{target:e}),o.createElement(T,{onClose:this.setUserFlagsForPassedSteps,dismissModal:this.hideRCSOnboarding,step:t,onClickPrimaryCta:this.advanceStepOrComplete}))}});class T extends o.Component{constructor(t){super(t),this.renderIfDocumentComplete=(()=>{"complete"===document.readyState&&this.forceRender()}),this.getOnboardingKeyElementInterval=null,this.startScanningForOnboardingKeyElement=(()=>{this.cleanUpOnboardingKeyElementScanner(),this.props.step.key?this.getOnboardingKeyElementInterval=setInterval(()=>{let t=this.getOnboardingKeyElement();if(null!=t){const e=this.computeLocation(t.getBoundingClientRect());null!=this.state.onboardingKeyLocation&&this.state.onboardingKeyLocation.top===e.top&&this.state.onboardingKeyLocation.left===e.left||this.setState({onboardingKeyLocation:e})}else this.setState({onboardingKeyLocation:null})},50):this.setState({onboardingKeyLocation:null})}),this.cleanUpOnboardingKeyElementScanner=(()=>{null!=this.getOnboardingKeyElementInterval&&(clearInterval(this.getOnboardingKeyElementInterval),this.getOnboardingKeyElementInterval=null)}),this.acceptHeight=(t=>this.setState({modalHeight:t})),this.nextButtonRef=(t=>{t&&(this.button=n.findDOMNode(t),this.focusButton())}),this.focusButton=(()=>{this.button&&this.button.focus()}),this.computeLocation=(t=>{if(this.props.step.pointDirection===g.PointDirectionOverride.LEFT_TITLE){let e=t.top+t.height/2-20,i=t.left+t.width+16;const o=r.HEADER_HEIGHT/2-v/2;return{left:i,top:e,arrowRelativeX:-1*v,arrowRelativeY:o,arrowPosition:r.ArrowPosition.LEFT_TITLE}}const e=t.left+t.width/2;let i=t.bottom+18,o=e-this.width/2;o=Math.max(o,E);let n=e-(o=Math.min(o,window.innerWidth-E-this.width)),s=r.ArrowPosition.TOP;return null!=this.state.modalHeight&&window.innerHeight-i<this.state.modalHeight+C&&(i=t.top-this.state.modalHeight-C,s=r.ArrowPosition.BOTTOM),{left:o,top:i,arrowRelativeX:n,arrowRelativeY:null,arrowPosition:s}}),this.getFramePosition=(()=>this.state.onboardingKeyLocation?this.state.onboardingKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null}),this.getOnboardingKeyElement=(()=>{const t=document.querySelector(`[data-onboarding-key=${this.props.step.key}]`);if(!t)return null;const e=t.getBoundingClientRect();return 0===e.left&&0===e.right&&0===e.height&&0===e.width?null:t}),this.acceptTitle=(t=>{this.setState({title:t,titleSetByStep:this.props.step})}),this.forceRender=(()=>this.setState({renderCount:this.state.renderCount+1})),this.getPositionAndConstraints=(()=>{const t=this.getFramePosition();if(t.top&&t.left)return{initialPosition:new s.Vector(t.left,t.top)};switch(this.props.step.defaultLocation){case g.ModalLocation.BOTTOM_LEFT:return{initialPosition:new s.Vector(12,12),initialConstraints:{x:"left",y:"bottom"}};case g.ModalLocation.BOTTOM_RIGHT:return{initialPosition:new s.Vector(12,12),initialConstraints:{x:"right",y:"bottom"}};case g.ModalLocation.CENTER:default:return{initialPosition:new s.Vector(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}}),this.state={modalHeight:w,onboardingKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForOnboardingKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpOnboardingKeyElementScanner()}componentDidUpdate(t,e){this.focusButton(),this.props.step.key!==t.step.key&&this.startScanningForOnboardingKeyElement()}get width(){return this.props.step.width||y}get height(){return this.state.modalHeight||w}static getDerivedStateFromProps(t,e){return t.step!==e.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){const t=this.props.step,e=this.getFramePosition(),{initialPosition:i,initialConstraints:n}=this.getPositionAndConstraints(),s=this.state.title||t.title,p={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},c=o.createElement(h.OnboardingLoadingContext.Provider,{value:this.forceRender},o.createElement(t.element,Object.assign({},p)));let u=o.createElement(r.DraggableModal,{initialWidth:this.width,acceptHeight:this.acceptHeight,title:s,initialPosition:i,initialConstraints:n,arrowRelativeX:O(e.arrowRelativeX),arrowRelativeY:O(e.arrowRelativeY),arrowPosition:O(e.arrowPosition),animatedIn:!0,dragHeaderOnly:!!s,onClose:this.props.dismissModal,headerClassName:this.props.step.lightHeader?void 0:l.onboardingModalHeader,closeButtonClassName:this.props.step.lightHeader?void 0:m.closeXLight},c,t.disableFooter?null:o.createElement(h.OnboardingFooter,null,o.createElement(a.ButtonPrimaryTracked,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta},this.props.step.ctaText)));return t.modalType!==g.ModalType.NEW_USER&&t.modalType!==g.ModalType.FEATURE_UPDATE||(u=o.createElement(f.ModalView,{className:`${l.modal} ${t.modalType===g.ModalType.FEATURE_UPDATE&&l.modalAnimateIn}`,size:g.LARGE_MODAL_WIDTH,hide:this.props.dismissModal,backgroundClassName:t.modalType===g.ModalType.FEATURE_UPDATE?l.modalLightBackground:void 0},c,o.createElement(h.FloatingCloseButton,{innerText:"Close",className:l.closeButton,onClick:this.props.dismissModal}))),t.modalType===g.ModalType.WELCOME&&(u=o.createElement(f.ModalView,{className:l.overflowingModal,size:g.MEDIUM_MODAL_WIDTH,hide:this.props.dismissModal,disableClickOutsideToHide:!0},c)),d.asTrackedElement(u,t.trackingContextName,t.trackingProperties)}}T.displayName="OnboardingFrame"}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=i(121              ).parse(window.location.search);n.isRunningViaSelenium="1"===s.selenium,n.shouldTakeScreenshots=n.isRunningViaSelenium&&"1"===s.screenshots,n.shouldPlaybackInRealtime=-1!==window.location.search.indexOf("realtime=1"),n.specFilter=s.only||null;const t=new Set((s.test_categories||"").split(",").filter(e=>e.length>0));n.shouldRunTestInCategory=function(e){return 0===t.size||t.has(e)}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=s(3,1    ),t=s(1420                                            ),o=s(44,1         ),i=s(172              ),a=s(1421                                ),c=s(422                          );const g=o.connect(e=>Object.assign(Object.assign({},e.responsiveContent),{progressBar:e.showingProgressBar}))(class extends r.Component{render(){return window.figmaPerfTesting||a.shouldTakeScreenshots||i.isRunningInteractionTests()?r.createElement("div",null):this.props.onboardingSequence&&0!==this.props.onboardingSequence.steps.length&&this.props.progressBar===c.ProgressBarMode.OFF?r.createElement(t.OnboardingSequence,Object.assign({},this.props.onboardingSequence)):r.createElement("div",null)}});n.default=g}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const p=t(3,1    ),s=t(433                                ),i=t(106                                     ),r=t(111                        ),n=t(434                       ),a=t(103                 ),l=t(1151                         ),h=t(532                              ),d=t(1415                       ),c=t(1417                                                           ),m=t(1111                                 ),w=t(187                             ),u=t(612                      ),y=t(1422                                                      );class g extends p.Component{constructor(){super(...arguments),this.onDocumentKeyDown=(e=>{27===e.keyCode&&(this.props.dropdownShown&&!this.props.dropdownShown.hasOwnEscKeyHandler&&this.props.dispatch(i.fileBrowser.hideDropdown()),this.props.tooltip.state===n.TooltipState.SHOWING&&this.props.dispatch(s.tooltip.hide()))}),this.onDocumentWheel=(e=>{(e.ctrlKey||e.metaKey)&&e.preventDefault()}),this.renderPage=(()=>{const e=this.props.selectedView;if("prototype"!==e.view)throw new Error(`Unexpected non-prototype view: ${e.view}`);const o=this.props.fileByKey[e.fileKey],t=u.getScalingMode(e),s=null==e.showHotspots||e.showHotspots,i=this.props;return p.createElement(m.PrototypeView,{dispatch:this.props.dispatch,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:e,file:o,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,permissionState:r.getPermissionsState(this.props),comments:this.props.comments,contacts:this.props.contacts,user:this.props.user,prototype:i.prototype,scalingMode:t,showHotspots:s,multiplayer:this.props.multiplayer,modalShown:this.props.modalShown,appWindow:this.props.appWindow,interactionTests:this.props.interactionTests,org:this.props.orgById[this.props.currentOrgId],orgDomains:this.props.orgDomains,recordingKey:"prototypeView"})})}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),document.addEventListener("wheel",this.onDocumentWheel,{passive:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),document.removeEventListener("wheel",this.onDocumentWheel)}render(){return c.isUnsupportedDesktopApp()?p.createElement(c.UnsupportedDesktopAppModal,{dispatch:this.props.dispatch}):p.createElement(l.InAppPage,{reduxState:this.props,recordingKey:"inAppPage"},this.renderPage(),p.createElement(a.FlashView,{flashes:this.props.flashes}),p.createElement(d.AppModal,Object.assign({},this.props)),p.createElement(w.VisualBellView,{dispatch:this.props.dispatch,progress:this.props.progress,visualBell:this.props.visualBell}),p.createElement(h.TooltipView,{strings:this.props.mirror.appModel.strings,keyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts,tooltip:this.props.tooltip}),this.props.user&&p.createElement(y.default,null))}}o.PrototypeAppView=g,g.displayName="PrototypeAppView"}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3,1    ),i=r(1200                ),n=r(1423                   ),l=r(144                           ),s=r(677                                ),d=r(115          );let a=!1;const c=e=>"prototype"===e.selectedView.view?o.createElement(n.PrototypeAppView,Object.assign({},e)):(a||(console.log(`Reloading due to missing view: ${e.selectedView.view}`),d.redirect(s.selectedViewToPath(e,e.selectedView)),a=!0),null);document.addEventListener("DOMContentLoaded",()=>{l.errorHandler.setGlobalErrorHandler(),i.start(c)})})]);

//# sourceMappingURL=prototype_app.95ef73a0307d7657e857b2574615fdbe.min.js.map